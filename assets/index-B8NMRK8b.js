var gX=Object.defineProperty;var EI=n=>{throw TypeError(n)};var vX=(n,e,t)=>e in n?gX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var nt=(n,e,t)=>vX(n,typeof e!="symbol"?e+"":e,t),kA=(n,e,t)=>e.has(n)||EI("Cannot "+t);var m=(n,e,t)=>(kA(n,e,"read from private field"),t?t.call(n):e.get(n)),Y=(n,e,t)=>e.has(n)?EI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),$=(n,e,t,r)=>(kA(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),G=(n,e,t)=>(kA(n,e,"access private method"),t);var Di=(n,e,t,r)=>({set _(i){$(n,e,i,t)},get _(){return m(n,e,r)}});function yX(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var wX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function C2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zj={exports:{}},V_={},eO={exports:{}},hn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww=Symbol.for("react.element"),bX=Symbol.for("react.portal"),xX=Symbol.for("react.fragment"),_X=Symbol.for("react.strict_mode"),AX=Symbol.for("react.profiler"),EX=Symbol.for("react.provider"),SX=Symbol.for("react.context"),CX=Symbol.for("react.forward_ref"),TX=Symbol.for("react.suspense"),NX=Symbol.for("react.memo"),kX=Symbol.for("react.lazy"),SI=Symbol.iterator;function IX(n){return n===null||typeof n!="object"?null:(n=SI&&n[SI]||n["@@iterator"],typeof n=="function"?n:null)}var tO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nO=Object.assign,rO={};function T2(n,e,t){this.props=n,this.context=e,this.refs=rO,this.updater=t||tO}T2.prototype.isReactComponent={};T2.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};T2.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function iO(){}iO.prototype=T2.prototype;function vT(n,e,t){this.props=n,this.context=e,this.refs=rO,this.updater=t||tO}var yT=vT.prototype=new iO;yT.constructor=vT;nO(yT,T2.prototype);yT.isPureReactComponent=!0;var CI=Array.isArray,sO=Object.prototype.hasOwnProperty,wT={current:null},oO={key:!0,ref:!0,__self:!0,__source:!0};function aO(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)sO.call(e,r)&&!oO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ww,type:n,key:s,ref:o,props:i,_owner:wT.current}}function PX(n,e){return{$$typeof:Ww,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function bT(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ww}function RX(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var TI=/\/+/g;function IA(n,e){return typeof n=="object"&&n!==null&&n.key!=null?RX(""+n.key):e.toString(36)}function Qx(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Ww:case bX:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+IA(o,0):r,CI(i)?(t="",n!=null&&(t=n.replace(TI,"$&/")+"/"),Qx(i,e,t,"",function(c){return c})):i!=null&&(bT(i)&&(i=PX(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(TI,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",CI(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+IA(s,a);o+=Qx(s,e,t,l,i)}else if(l=IX(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+IA(s,a++),o+=Qx(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jb(n,e,t){if(n==null)return n;var r=[],i=0;return Qx(n,r,"","",function(s){return e.call(t,s,i++)}),r}function LX(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var oo={current:null},Jx={transition:null},MX={ReactCurrentDispatcher:oo,ReactCurrentBatchConfig:Jx,ReactCurrentOwner:wT};function lO(){throw Error("act(...) is not supported in production builds of React.")}hn.Children={map:Jb,forEach:function(n,e,t){Jb(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Jb(n,function(){e++}),e},toArray:function(n){return Jb(n,function(e){return e})||[]},only:function(n){if(!bT(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};hn.Component=T2;hn.Fragment=xX;hn.Profiler=AX;hn.PureComponent=vT;hn.StrictMode=_X;hn.Suspense=TX;hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MX;hn.act=lO;hn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=nO({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wT.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)sO.call(e,l)&&!oO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ww,type:n.type,key:i,ref:s,props:r,_owner:o}};hn.createContext=function(n){return n={$$typeof:SX,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:EX,_context:n},n.Consumer=n};hn.createElement=aO;hn.createFactory=function(n){var e=aO.bind(null,n);return e.type=n,e};hn.createRef=function(){return{current:null}};hn.forwardRef=function(n){return{$$typeof:CX,render:n}};hn.isValidElement=bT;hn.lazy=function(n){return{$$typeof:kX,_payload:{_status:-1,_result:n},_init:LX}};hn.memo=function(n,e){return{$$typeof:NX,type:n,compare:e===void 0?null:e}};hn.startTransition=function(n){var e=Jx.transition;Jx.transition={};try{n()}finally{Jx.transition=e}};hn.unstable_act=lO;hn.useCallback=function(n,e){return oo.current.useCallback(n,e)};hn.useContext=function(n){return oo.current.useContext(n)};hn.useDebugValue=function(){};hn.useDeferredValue=function(n){return oo.current.useDeferredValue(n)};hn.useEffect=function(n,e){return oo.current.useEffect(n,e)};hn.useId=function(){return oo.current.useId()};hn.useImperativeHandle=function(n,e,t){return oo.current.useImperativeHandle(n,e,t)};hn.useInsertionEffect=function(n,e){return oo.current.useInsertionEffect(n,e)};hn.useLayoutEffect=function(n,e){return oo.current.useLayoutEffect(n,e)};hn.useMemo=function(n,e){return oo.current.useMemo(n,e)};hn.useReducer=function(n,e,t){return oo.current.useReducer(n,e,t)};hn.useRef=function(n){return oo.current.useRef(n)};hn.useState=function(n){return oo.current.useState(n)};hn.useSyncExternalStore=function(n,e,t){return oo.current.useSyncExternalStore(n,e,t)};hn.useTransition=function(){return oo.current.useTransition()};hn.version="18.3.1";eO.exports=hn;var D=eO.exports;const We=C2(D),xT=yX({__proto__:null,default:We},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DX=D,jX=Symbol.for("react.element"),OX=Symbol.for("react.fragment"),FX=Object.prototype.hasOwnProperty,BX=DX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UX={key:!0,ref:!0,__self:!0,__source:!0};function cO(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)FX.call(e,r)&&!UX.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jX,type:n,key:s,ref:o,props:i,_owner:BX.current}}V_.Fragment=OX;V_.jsx=cO;V_.jsxs=cO;Zj.exports=V_;var d=Zj.exports,uO={exports:{}},Ea={},dO={exports:{}},hO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(J,re){var ge=J.length;J.push(re);e:for(;0<ge;){var ye=ge-1>>>1,z=J[ye];if(0<i(z,re))J[ye]=re,J[ge]=z,ge=ye;else break e}}function t(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var re=J[0],ge=J.pop();if(ge!==re){J[0]=ge;e:for(var ye=0,z=J.length,Q=z>>>1;ye<Q;){var ie=2*(ye+1)-1,ce=J[ie],fe=ie+1,he=J[fe];if(0>i(ce,ge))fe<z&&0>i(he,ce)?(J[ye]=he,J[fe]=ge,ye=fe):(J[ye]=ce,J[ie]=ge,ye=ie);else if(fe<z&&0>i(he,ge))J[ye]=he,J[fe]=ge,ye=fe;else break e}}return re}function i(J,re){var ge=J.sortIndex-re.sortIndex;return ge!==0?ge:J.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,f=!1,b=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(J){for(var re=t(c);re!==null;){if(re.callback===null)r(c);else if(re.startTime<=J)r(c),re.sortIndex=re.expirationTime,e(l,re);else break;re=t(c)}}function T(J){if(w=!1,S(J),!b)if(t(l)!==null)b=!0,de(B);else{var re=t(c);re!==null&&le(T,re.startTime-J)}}function B(J,re){b=!1,w&&(w=!1,x(N),N=-1),f=!0;var ge=p;try{for(S(re),h=t(l);h!==null&&(!(h.expirationTime>re)||J&&!k());){var ye=h.callback;if(typeof ye=="function"){h.callback=null,p=h.priorityLevel;var z=ye(h.expirationTime<=re);re=n.unstable_now(),typeof z=="function"?h.callback=z:h===t(l)&&r(l),S(re)}else r(l);h=t(l)}if(h!==null)var Q=!0;else{var ie=t(c);ie!==null&&le(T,ie.startTime-re),Q=!1}return Q}finally{h=null,p=ge,f=!1}}var V=!1,M=null,N=-1,P=5,O=-1;function k(){return!(n.unstable_now()-O<P)}function j(){if(M!==null){var J=n.unstable_now();O=J;var re=!0;try{re=M(!0,J)}finally{re?L():(V=!1,M=null)}}else V=!1}var L;if(typeof E=="function")L=function(){E(j)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ue=W.port2;W.port1.onmessage=j,L=function(){ue.postMessage(null)}}else L=function(){A(j,0)};function de(J){M=J,V||(V=!0,L())}function le(J,re){N=A(function(){J(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){b||f||(b=!0,de(B))},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(J){switch(p){case 1:case 2:case 3:var re=3;break;default:re=p}var ge=p;p=re;try{return J()}finally{p=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,re){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ge=p;p=J;try{return re()}finally{p=ge}},n.unstable_scheduleCallback=function(J,re,ge){var ye=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ye+ge:ye):ge=ye,J){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ge+z,J={id:u++,callback:re,priorityLevel:J,startTime:ge,expirationTime:z,sortIndex:-1},ge>ye?(J.sortIndex=ge,e(c,J),t(l)===null&&J===t(c)&&(w?(x(N),N=-1):w=!0,le(T,ge-ye))):(J.sortIndex=z,e(l,J),b||f||(b=!0,de(B))),J},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(J){var re=p;return function(){var ge=p;p=re;try{return J.apply(this,arguments)}finally{p=ge}}}})(hO);dO.exports=hO;var VX=dO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zX=D,_a=VX;function qe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fO=new Set,ky={};function v1(n,e){t2(n,e),t2(n+"Capture",e)}function t2(n,e){for(ky[n]=e,n=0;n<e.length;n++)fO.add(e[n])}var Sd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C8=Object.prototype.hasOwnProperty,$X=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NI={},kI={};function qX(n){return C8.call(kI,n)?!0:C8.call(NI,n)?!1:$X.test(n)?kI[n]=!0:(NI[n]=!0,!1)}function HX(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function WX(n,e,t,r){if(e===null||typeof e>"u"||HX(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ao(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var us={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){us[n]=new ao(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];us[e]=new ao(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){us[n]=new ao(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){us[n]=new ao(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){us[n]=new ao(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){us[n]=new ao(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){us[n]=new ao(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){us[n]=new ao(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){us[n]=new ao(n,5,!1,n.toLowerCase(),null,!1,!1)});var _T=/[\-:]([a-z])/g;function AT(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(_T,AT);us[e]=new ao(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(_T,AT);us[e]=new ao(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(_T,AT);us[e]=new ao(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){us[n]=new ao(n,1,!1,n.toLowerCase(),null,!1,!1)});us.xlinkHref=new ao("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){us[n]=new ao(n,1,!1,n.toLowerCase(),null,!0,!0)});function ET(n,e,t,r){var i=us.hasOwnProperty(e)?us[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WX(e,t,i,r)&&(t=null),r||i===null?qX(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Bd=zX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zb=Symbol.for("react.element"),dg=Symbol.for("react.portal"),hg=Symbol.for("react.fragment"),ST=Symbol.for("react.strict_mode"),T8=Symbol.for("react.profiler"),pO=Symbol.for("react.provider"),mO=Symbol.for("react.context"),CT=Symbol.for("react.forward_ref"),N8=Symbol.for("react.suspense"),k8=Symbol.for("react.suspense_list"),TT=Symbol.for("react.memo"),bh=Symbol.for("react.lazy"),gO=Symbol.for("react.offscreen"),II=Symbol.iterator;function hv(n){return n===null||typeof n!="object"?null:(n=II&&n[II]||n["@@iterator"],typeof n=="function"?n:null)}var Or=Object.assign,PA;function Iv(n){if(PA===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);PA=e&&e[1]||""}return`
`+PA+n}var RA=!1;function LA(n,e){if(!n||RA)return"";RA=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{RA=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Iv(n):""}function GX(n){switch(n.tag){case 5:return Iv(n.type);case 16:return Iv("Lazy");case 13:return Iv("Suspense");case 19:return Iv("SuspenseList");case 0:case 2:case 15:return n=LA(n.type,!1),n;case 11:return n=LA(n.type.render,!1),n;case 1:return n=LA(n.type,!0),n;default:return""}}function I8(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case hg:return"Fragment";case dg:return"Portal";case T8:return"Profiler";case ST:return"StrictMode";case N8:return"Suspense";case k8:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case mO:return(n.displayName||"Context")+".Consumer";case pO:return(n._context.displayName||"Context")+".Provider";case CT:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case TT:return e=n.displayName||null,e!==null?e:I8(n.type)||"Memo";case bh:e=n._payload,n=n._init;try{return I8(n(e))}catch{}}return null}function KX(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I8(e);case 8:return e===ST?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rf(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function vO(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YX(n){var e=vO(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ex(n){n._valueTracker||(n._valueTracker=YX(n))}function yO(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=vO(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function u3(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function P8(n,e){var t=e.checked;return Or({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function PI(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Rf(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wO(n,e){e=e.checked,e!=null&&ET(n,"checked",e,!1)}function R8(n,e){wO(n,e);var t=Rf(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?L8(n,e.type,t):e.hasOwnProperty("defaultValue")&&L8(n,e.type,Rf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function RI(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function L8(n,e,t){(e!=="number"||u3(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Pv=Array.isArray;function Cg(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Rf(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function M8(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(qe(91));return Or({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function LI(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(qe(92));if(Pv(t)){if(1<t.length)throw Error(qe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Rf(t)}}function bO(n,e){var t=Rf(e.value),r=Rf(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function MI(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function xO(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function D8(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?xO(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var tx,_O=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(tx=tx||document.createElement("div"),tx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tx.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Iy(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var sy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XX=["Webkit","ms","Moz","O"];Object.keys(sy).forEach(function(n){XX.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),sy[e]=sy[n]})});function AO(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||sy.hasOwnProperty(n)&&sy[n]?(""+e).trim():e+"px"}function EO(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=AO(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var QX=Or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function j8(n,e){if(e){if(QX[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(qe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(qe(62))}}function O8(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F8=null;function NT(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var B8=null,Tg=null,Ng=null;function DI(n){if(n=Yw(n)){if(typeof B8!="function")throw Error(qe(280));var e=n.stateNode;e&&(e=W_(e),B8(n.stateNode,n.type,e))}}function SO(n){Tg?Ng?Ng.push(n):Ng=[n]:Tg=n}function CO(){if(Tg){var n=Tg,e=Ng;if(Ng=Tg=null,DI(n),e)for(n=0;n<e.length;n++)DI(e[n])}}function TO(n,e){return n(e)}function NO(){}var MA=!1;function kO(n,e,t){if(MA)return n(e,t);MA=!0;try{return TO(n,e,t)}finally{MA=!1,(Tg!==null||Ng!==null)&&(NO(),CO())}}function Py(n,e){var t=n.stateNode;if(t===null)return null;var r=W_(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(qe(231,e,typeof t));return t}var U8=!1;if(Sd)try{var fv={};Object.defineProperty(fv,"passive",{get:function(){U8=!0}}),window.addEventListener("test",fv,fv),window.removeEventListener("test",fv,fv)}catch{U8=!1}function JX(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var oy=!1,d3=null,h3=!1,V8=null,ZX={onError:function(n){oy=!0,d3=n}};function eQ(n,e,t,r,i,s,o,a,l){oy=!1,d3=null,JX.apply(ZX,arguments)}function tQ(n,e,t,r,i,s,o,a,l){if(eQ.apply(this,arguments),oy){if(oy){var c=d3;oy=!1,d3=null}else throw Error(qe(198));h3||(h3=!0,V8=c)}}function y1(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function IO(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function jI(n){if(y1(n)!==n)throw Error(qe(188))}function nQ(n){var e=n.alternate;if(!e){if(e=y1(n),e===null)throw Error(qe(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return jI(i),n;if(s===r)return jI(i),e;s=s.sibling}throw Error(qe(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(qe(189))}}if(t.alternate!==r)throw Error(qe(190))}if(t.tag!==3)throw Error(qe(188));return t.stateNode.current===t?n:e}function PO(n){return n=nQ(n),n!==null?RO(n):null}function RO(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=RO(n);if(e!==null)return e;n=n.sibling}return null}var LO=_a.unstable_scheduleCallback,OI=_a.unstable_cancelCallback,rQ=_a.unstable_shouldYield,iQ=_a.unstable_requestPaint,ni=_a.unstable_now,sQ=_a.unstable_getCurrentPriorityLevel,kT=_a.unstable_ImmediatePriority,MO=_a.unstable_UserBlockingPriority,f3=_a.unstable_NormalPriority,oQ=_a.unstable_LowPriority,DO=_a.unstable_IdlePriority,z_=null,Xc=null;function aQ(n){if(Xc&&typeof Xc.onCommitFiberRoot=="function")try{Xc.onCommitFiberRoot(z_,n,void 0,(n.current.flags&128)===128)}catch{}}var Hl=Math.clz32?Math.clz32:uQ,lQ=Math.log,cQ=Math.LN2;function uQ(n){return n>>>=0,n===0?32:31-(lQ(n)/cQ|0)|0}var nx=64,rx=4194304;function Rv(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function p3(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Rv(a):(s&=o,s!==0&&(r=Rv(s)))}else o=t&~i,o!==0?r=Rv(o):s!==0&&(r=Rv(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Hl(e),i=1<<t,r|=n[t],e&=~i;return r}function dQ(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hQ(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Hl(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=dQ(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function z8(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function jO(){var n=nx;return nx<<=1,!(nx&4194240)&&(nx=64),n}function DA(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Gw(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Hl(e),n[e]=t}function fQ(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Hl(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function IT(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Hl(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Wn=0;function OO(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var FO,PT,BO,UO,VO,$8=!1,ix=[],gf=null,vf=null,yf=null,Ry=new Map,Ly=new Map,_h=[],pQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FI(n,e){switch(n){case"focusin":case"focusout":gf=null;break;case"dragenter":case"dragleave":vf=null;break;case"mouseover":case"mouseout":yf=null;break;case"pointerover":case"pointerout":Ry.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ly.delete(e.pointerId)}}function pv(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yw(e),e!==null&&PT(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function mQ(n,e,t,r,i){switch(e){case"focusin":return gf=pv(gf,n,e,t,r,i),!0;case"dragenter":return vf=pv(vf,n,e,t,r,i),!0;case"mouseover":return yf=pv(yf,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Ry.set(s,pv(Ry.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ly.set(s,pv(Ly.get(s)||null,n,e,t,r,i)),!0}return!1}function zO(n){var e=kp(n.target);if(e!==null){var t=y1(e);if(t!==null){if(e=t.tag,e===13){if(e=IO(t),e!==null){n.blockedOn=e,VO(n.priority,function(){BO(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Zx(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=q8(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);F8=r,t.target.dispatchEvent(r),F8=null}else return e=Yw(t),e!==null&&PT(e),n.blockedOn=t,!1;e.shift()}return!0}function BI(n,e,t){Zx(n)&&t.delete(e)}function gQ(){$8=!1,gf!==null&&Zx(gf)&&(gf=null),vf!==null&&Zx(vf)&&(vf=null),yf!==null&&Zx(yf)&&(yf=null),Ry.forEach(BI),Ly.forEach(BI)}function mv(n,e){n.blockedOn===e&&(n.blockedOn=null,$8||($8=!0,_a.unstable_scheduleCallback(_a.unstable_NormalPriority,gQ)))}function My(n){function e(i){return mv(i,n)}if(0<ix.length){mv(ix[0],n);for(var t=1;t<ix.length;t++){var r=ix[t];r.blockedOn===n&&(r.blockedOn=null)}}for(gf!==null&&mv(gf,n),vf!==null&&mv(vf,n),yf!==null&&mv(yf,n),Ry.forEach(e),Ly.forEach(e),t=0;t<_h.length;t++)r=_h[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<_h.length&&(t=_h[0],t.blockedOn===null);)zO(t),t.blockedOn===null&&_h.shift()}var kg=Bd.ReactCurrentBatchConfig,m3=!0;function vQ(n,e,t,r){var i=Wn,s=kg.transition;kg.transition=null;try{Wn=1,RT(n,e,t,r)}finally{Wn=i,kg.transition=s}}function yQ(n,e,t,r){var i=Wn,s=kg.transition;kg.transition=null;try{Wn=4,RT(n,e,t,r)}finally{Wn=i,kg.transition=s}}function RT(n,e,t,r){if(m3){var i=q8(n,e,t,r);if(i===null)HA(n,e,r,g3,t),FI(n,r);else if(mQ(i,n,e,t,r))r.stopPropagation();else if(FI(n,r),e&4&&-1<pQ.indexOf(n)){for(;i!==null;){var s=Yw(i);if(s!==null&&FO(s),s=q8(n,e,t,r),s===null&&HA(n,e,r,g3,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else HA(n,e,r,null,t)}}var g3=null;function q8(n,e,t,r){if(g3=null,n=NT(r),n=kp(n),n!==null)if(e=y1(n),e===null)n=null;else if(t=e.tag,t===13){if(n=IO(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return g3=n,null}function $O(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sQ()){case kT:return 1;case MO:return 4;case f3:case oQ:return 16;case DO:return 536870912;default:return 16}default:return 16}}var lf=null,LT=null,e4=null;function qO(){if(e4)return e4;var n,e=LT,t=e.length,r,i="value"in lf?lf.value:lf.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return e4=i.slice(n,1<r?1-r:void 0)}function t4(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function sx(){return!0}function UI(){return!1}function Sa(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sx:UI,this.isPropagationStopped=UI,this}return Or(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=sx)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=sx)},persist:function(){},isPersistent:sx}),e}var N2={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},MT=Sa(N2),Kw=Or({},N2,{view:0,detail:0}),wQ=Sa(Kw),jA,OA,gv,$_=Or({},Kw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:DT,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gv&&(gv&&n.type==="mousemove"?(jA=n.screenX-gv.screenX,OA=n.screenY-gv.screenY):OA=jA=0,gv=n),jA)},movementY:function(n){return"movementY"in n?n.movementY:OA}}),VI=Sa($_),bQ=Or({},$_,{dataTransfer:0}),xQ=Sa(bQ),_Q=Or({},Kw,{relatedTarget:0}),FA=Sa(_Q),AQ=Or({},N2,{animationName:0,elapsedTime:0,pseudoElement:0}),EQ=Sa(AQ),SQ=Or({},N2,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),CQ=Sa(SQ),TQ=Or({},N2,{data:0}),zI=Sa(TQ),NQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PQ(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=IQ[n])?!!e[n]:!1}function DT(){return PQ}var RQ=Or({},Kw,{key:function(n){if(n.key){var e=NQ[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=t4(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?kQ[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:DT,charCode:function(n){return n.type==="keypress"?t4(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?t4(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),LQ=Sa(RQ),MQ=Or({},$_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$I=Sa(MQ),DQ=Or({},Kw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:DT}),jQ=Sa(DQ),OQ=Or({},N2,{propertyName:0,elapsedTime:0,pseudoElement:0}),FQ=Sa(OQ),BQ=Or({},$_,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),UQ=Sa(BQ),VQ=[9,13,27,32],jT=Sd&&"CompositionEvent"in window,ay=null;Sd&&"documentMode"in document&&(ay=document.documentMode);var zQ=Sd&&"TextEvent"in window&&!ay,HO=Sd&&(!jT||ay&&8<ay&&11>=ay),qI=" ",HI=!1;function WO(n,e){switch(n){case"keyup":return VQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GO(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var fg=!1;function $Q(n,e){switch(n){case"compositionend":return GO(e);case"keypress":return e.which!==32?null:(HI=!0,qI);case"textInput":return n=e.data,n===qI&&HI?null:n;default:return null}}function qQ(n,e){if(fg)return n==="compositionend"||!jT&&WO(n,e)?(n=qO(),e4=LT=lf=null,fg=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return HO&&e.locale!=="ko"?null:e.data;default:return null}}var HQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WI(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!HQ[n.type]:e==="textarea"}function KO(n,e,t,r){SO(r),e=v3(e,"onChange"),0<e.length&&(t=new MT("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var ly=null,Dy=null;function WQ(n){sF(n,0)}function q_(n){var e=gg(n);if(yO(e))return n}function GQ(n,e){if(n==="change")return e}var YO=!1;if(Sd){var BA;if(Sd){var UA="oninput"in document;if(!UA){var GI=document.createElement("div");GI.setAttribute("oninput","return;"),UA=typeof GI.oninput=="function"}BA=UA}else BA=!1;YO=BA&&(!document.documentMode||9<document.documentMode)}function KI(){ly&&(ly.detachEvent("onpropertychange",XO),Dy=ly=null)}function XO(n){if(n.propertyName==="value"&&q_(Dy)){var e=[];KO(e,Dy,n,NT(n)),kO(WQ,e)}}function KQ(n,e,t){n==="focusin"?(KI(),ly=e,Dy=t,ly.attachEvent("onpropertychange",XO)):n==="focusout"&&KI()}function YQ(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return q_(Dy)}function XQ(n,e){if(n==="click")return q_(e)}function QQ(n,e){if(n==="input"||n==="change")return q_(e)}function JQ(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Kl=typeof Object.is=="function"?Object.is:JQ;function jy(n,e){if(Kl(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!C8.call(e,i)||!Kl(n[i],e[i]))return!1}return!0}function YI(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function XI(n,e){var t=YI(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=YI(t)}}function QO(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?QO(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function JO(){for(var n=window,e=u3();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=u3(n.document)}return e}function OT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function ZQ(n){var e=JO(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&QO(t.ownerDocument.documentElement,t)){if(r!==null&&OT(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=XI(t,s);var o=XI(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var eJ=Sd&&"documentMode"in document&&11>=document.documentMode,pg=null,H8=null,cy=null,W8=!1;function QI(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;W8||pg==null||pg!==u3(r)||(r=pg,"selectionStart"in r&&OT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cy&&jy(cy,r)||(cy=r,r=v3(H8,"onSelect"),0<r.length&&(e=new MT("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=pg)))}function ox(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var mg={animationend:ox("Animation","AnimationEnd"),animationiteration:ox("Animation","AnimationIteration"),animationstart:ox("Animation","AnimationStart"),transitionend:ox("Transition","TransitionEnd")},VA={},ZO={};Sd&&(ZO=document.createElement("div").style,"AnimationEvent"in window||(delete mg.animationend.animation,delete mg.animationiteration.animation,delete mg.animationstart.animation),"TransitionEvent"in window||delete mg.transitionend.transition);function H_(n){if(VA[n])return VA[n];if(!mg[n])return n;var e=mg[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in ZO)return VA[n]=e[t];return n}var eF=H_("animationend"),tF=H_("animationiteration"),nF=H_("animationstart"),rF=H_("transitionend"),iF=new Map,JI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qf(n,e){iF.set(n,e),v1(e,[n])}for(var zA=0;zA<JI.length;zA++){var $A=JI[zA],tJ=$A.toLowerCase(),nJ=$A[0].toUpperCase()+$A.slice(1);qf(tJ,"on"+nJ)}qf(eF,"onAnimationEnd");qf(tF,"onAnimationIteration");qf(nF,"onAnimationStart");qf("dblclick","onDoubleClick");qf("focusin","onFocus");qf("focusout","onBlur");qf(rF,"onTransitionEnd");t2("onMouseEnter",["mouseout","mouseover"]);t2("onMouseLeave",["mouseout","mouseover"]);t2("onPointerEnter",["pointerout","pointerover"]);t2("onPointerLeave",["pointerout","pointerover"]);v1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));v1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));v1("onBeforeInput",["compositionend","keypress","textInput","paste"]);v1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));v1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));v1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lv));function ZI(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,tQ(r,e,void 0,n),n.currentTarget=null}function sF(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ZI(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ZI(i,a,c),s=l}}}if(h3)throw n=V8,h3=!1,V8=null,n}function fr(n,e){var t=e[Q8];t===void 0&&(t=e[Q8]=new Set);var r=n+"__bubble";t.has(r)||(oF(e,n,2,!1),t.add(r))}function qA(n,e,t){var r=0;e&&(r|=4),oF(t,n,r,e)}var ax="_reactListening"+Math.random().toString(36).slice(2);function Oy(n){if(!n[ax]){n[ax]=!0,fO.forEach(function(t){t!=="selectionchange"&&(rJ.has(t)||qA(t,!1,n),qA(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[ax]||(e[ax]=!0,qA("selectionchange",!1,e))}}function oF(n,e,t,r){switch($O(e)){case 1:var i=vQ;break;case 4:i=yQ;break;default:i=RT}t=i.bind(null,e,t,n),i=void 0,!U8||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function HA(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=kp(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}kO(function(){var c=s,u=NT(t),h=[];e:{var p=iF.get(n);if(p!==void 0){var f=MT,b=n;switch(n){case"keypress":if(t4(t)===0)break e;case"keydown":case"keyup":f=LQ;break;case"focusin":b="focus",f=FA;break;case"focusout":b="blur",f=FA;break;case"beforeblur":case"afterblur":f=FA;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=VI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=xQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=jQ;break;case eF:case tF:case nF:f=EQ;break;case rF:f=FQ;break;case"scroll":f=wQ;break;case"wheel":f=UQ;break;case"copy":case"cut":case"paste":f=CQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=$I}var w=(e&4)!==0,A=!w&&n==="scroll",x=w?p!==null?p+"Capture":null:p;w=[];for(var E=c,S;E!==null;){S=E;var T=S.stateNode;if(S.tag===5&&T!==null&&(S=T,x!==null&&(T=Py(E,x),T!=null&&w.push(Fy(E,T,S)))),A)break;E=E.return}0<w.length&&(p=new f(p,b,null,t,u),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",p&&t!==F8&&(b=t.relatedTarget||t.fromElement)&&(kp(b)||b[Cd]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(b=t.relatedTarget||t.toElement,f=c,b=b?kp(b):null,b!==null&&(A=y1(b),b!==A||b.tag!==5&&b.tag!==6)&&(b=null)):(f=null,b=c),f!==b)){if(w=VI,T="onMouseLeave",x="onMouseEnter",E="mouse",(n==="pointerout"||n==="pointerover")&&(w=$I,T="onPointerLeave",x="onPointerEnter",E="pointer"),A=f==null?p:gg(f),S=b==null?p:gg(b),p=new w(T,E+"leave",f,t,u),p.target=A,p.relatedTarget=S,T=null,kp(u)===c&&(w=new w(x,E+"enter",b,t,u),w.target=S,w.relatedTarget=A,T=w),A=T,f&&b)t:{for(w=f,x=b,E=0,S=w;S;S=$1(S))E++;for(S=0,T=x;T;T=$1(T))S++;for(;0<E-S;)w=$1(w),E--;for(;0<S-E;)x=$1(x),S--;for(;E--;){if(w===x||x!==null&&w===x.alternate)break t;w=$1(w),x=$1(x)}w=null}else w=null;f!==null&&eP(h,p,f,w,!1),b!==null&&A!==null&&eP(h,A,b,w,!0)}}e:{if(p=c?gg(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var B=GQ;else if(WI(p))if(YO)B=QQ;else{B=YQ;var V=KQ}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(B=XQ);if(B&&(B=B(n,c))){KO(h,B,t,u);break e}V&&V(n,p,c),n==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&L8(p,"number",p.value)}switch(V=c?gg(c):window,n){case"focusin":(WI(V)||V.contentEditable==="true")&&(pg=V,H8=c,cy=null);break;case"focusout":cy=H8=pg=null;break;case"mousedown":W8=!0;break;case"contextmenu":case"mouseup":case"dragend":W8=!1,QI(h,t,u);break;case"selectionchange":if(eJ)break;case"keydown":case"keyup":QI(h,t,u)}var M;if(jT)e:{switch(n){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else fg?WO(n,t)&&(N="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(N="onCompositionStart");N&&(HO&&t.locale!=="ko"&&(fg||N!=="onCompositionStart"?N==="onCompositionEnd"&&fg&&(M=qO()):(lf=u,LT="value"in lf?lf.value:lf.textContent,fg=!0)),V=v3(c,N),0<V.length&&(N=new zI(N,n,null,t,u),h.push({event:N,listeners:V}),M?N.data=M:(M=GO(t),M!==null&&(N.data=M)))),(M=zQ?$Q(n,t):qQ(n,t))&&(c=v3(c,"onBeforeInput"),0<c.length&&(u=new zI("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=M))}sF(h,e)})}function Fy(n,e,t){return{instance:n,listener:e,currentTarget:t}}function v3(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Py(n,t),s!=null&&r.unshift(Fy(n,s,i)),s=Py(n,e),s!=null&&r.push(Fy(n,s,i))),n=n.return}return r}function $1(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function eP(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Py(t,s),l!=null&&o.unshift(Fy(t,l,a))):i||(l=Py(t,s),l!=null&&o.push(Fy(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var iJ=/\r\n?/g,sJ=/\u0000|\uFFFD/g;function tP(n){return(typeof n=="string"?n:""+n).replace(iJ,`
`).replace(sJ,"")}function lx(n,e,t){if(e=tP(e),tP(n)!==e&&t)throw Error(qe(425))}function y3(){}var G8=null,K8=null;function Y8(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var X8=typeof setTimeout=="function"?setTimeout:void 0,oJ=typeof clearTimeout=="function"?clearTimeout:void 0,nP=typeof Promise=="function"?Promise:void 0,aJ=typeof queueMicrotask=="function"?queueMicrotask:typeof nP<"u"?function(n){return nP.resolve(null).then(n).catch(lJ)}:X8;function lJ(n){setTimeout(function(){throw n})}function WA(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),My(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);My(e)}function wf(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function rP(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var k2=Math.random().toString(36).slice(2),qc="__reactFiber$"+k2,By="__reactProps$"+k2,Cd="__reactContainer$"+k2,Q8="__reactEvents$"+k2,cJ="__reactListeners$"+k2,uJ="__reactHandles$"+k2;function kp(n){var e=n[qc];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Cd]||t[qc]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=rP(n);n!==null;){if(t=n[qc])return t;n=rP(n)}return e}n=t,t=n.parentNode}return null}function Yw(n){return n=n[qc]||n[Cd],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function gg(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(qe(33))}function W_(n){return n[By]||null}var J8=[],vg=-1;function Hf(n){return{current:n}}function vr(n){0>vg||(n.current=J8[vg],J8[vg]=null,vg--)}function ur(n,e){vg++,J8[vg]=n.current,n.current=e}var Lf={},Os=Hf(Lf),Po=Hf(!1),Hm=Lf;function n2(n,e){var t=n.type.contextTypes;if(!t)return Lf;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ro(n){return n=n.childContextTypes,n!=null}function w3(){vr(Po),vr(Os)}function iP(n,e,t){if(Os.current!==Lf)throw Error(qe(168));ur(Os,e),ur(Po,t)}function aF(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(qe(108,KX(n)||"Unknown",i));return Or({},t,r)}function b3(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Lf,Hm=Os.current,ur(Os,n),ur(Po,Po.current),!0}function sP(n,e,t){var r=n.stateNode;if(!r)throw Error(qe(169));t?(n=aF(n,e,Hm),r.__reactInternalMemoizedMergedChildContext=n,vr(Po),vr(Os),ur(Os,n)):vr(Po),ur(Po,t)}var ju=null,G_=!1,GA=!1;function lF(n){ju===null?ju=[n]:ju.push(n)}function dJ(n){G_=!0,lF(n)}function Wf(){if(!GA&&ju!==null){GA=!0;var n=0,e=Wn;try{var t=ju;for(Wn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}ju=null,G_=!1}catch(i){throw ju!==null&&(ju=ju.slice(n+1)),LO(kT,Wf),i}finally{Wn=e,GA=!1}}return null}var yg=[],wg=0,x3=null,_3=0,Wa=[],Ga=0,Wm=null,hd=1,fd="";function mp(n,e){yg[wg++]=_3,yg[wg++]=x3,x3=n,_3=e}function cF(n,e,t){Wa[Ga++]=hd,Wa[Ga++]=fd,Wa[Ga++]=Wm,Wm=n;var r=hd;n=fd;var i=32-Hl(r)-1;r&=~(1<<i),t+=1;var s=32-Hl(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hd=1<<32-Hl(e)+i|t<<i|r,fd=s+n}else hd=1<<s|t<<i|r,fd=n}function FT(n){n.return!==null&&(mp(n,1),cF(n,1,0))}function BT(n){for(;n===x3;)x3=yg[--wg],yg[wg]=null,_3=yg[--wg],yg[wg]=null;for(;n===Wm;)Wm=Wa[--Ga],Wa[Ga]=null,fd=Wa[--Ga],Wa[Ga]=null,hd=Wa[--Ga],Wa[Ga]=null}var ya=null,fa=null,Er=!1,Vl=null;function uF(n,e){var t=el(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function oP(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ya=n,fa=wf(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ya=n,fa=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Wm!==null?{id:hd,overflow:fd}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=el(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ya=n,fa=null,!0):!1;default:return!1}}function Z8(n){return(n.mode&1)!==0&&(n.flags&128)===0}function eS(n){if(Er){var e=fa;if(e){var t=e;if(!oP(n,e)){if(Z8(n))throw Error(qe(418));e=wf(t.nextSibling);var r=ya;e&&oP(n,e)?uF(r,t):(n.flags=n.flags&-4097|2,Er=!1,ya=n)}}else{if(Z8(n))throw Error(qe(418));n.flags=n.flags&-4097|2,Er=!1,ya=n}}}function aP(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ya=n}function cx(n){if(n!==ya)return!1;if(!Er)return aP(n),Er=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Y8(n.type,n.memoizedProps)),e&&(e=fa)){if(Z8(n))throw dF(),Error(qe(418));for(;e;)uF(n,e),e=wf(e.nextSibling)}if(aP(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(qe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){fa=wf(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}fa=null}}else fa=ya?wf(n.stateNode.nextSibling):null;return!0}function dF(){for(var n=fa;n;)n=wf(n.nextSibling)}function r2(){fa=ya=null,Er=!1}function UT(n){Vl===null?Vl=[n]:Vl.push(n)}var hJ=Bd.ReactCurrentBatchConfig;function vv(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(qe(309));var r=t.stateNode}if(!r)throw Error(qe(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(qe(284));if(!t._owner)throw Error(qe(290,n))}return n}function ux(n,e){throw n=Object.prototype.toString.call(e),Error(qe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function lP(n){var e=n._init;return e(n._payload)}function hF(n){function e(x,E){if(n){var S=x.deletions;S===null?(x.deletions=[E],x.flags|=16):S.push(E)}}function t(x,E){if(!n)return null;for(;E!==null;)e(x,E),E=E.sibling;return null}function r(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function i(x,E){return x=Af(x,E),x.index=0,x.sibling=null,x}function s(x,E,S){return x.index=S,n?(S=x.alternate,S!==null?(S=S.index,S<E?(x.flags|=2,E):S):(x.flags|=2,E)):(x.flags|=1048576,E)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,E,S,T){return E===null||E.tag!==6?(E=eE(S,x.mode,T),E.return=x,E):(E=i(E,S),E.return=x,E)}function l(x,E,S,T){var B=S.type;return B===hg?u(x,E,S.props.children,T,S.key):E!==null&&(E.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===bh&&lP(B)===E.type)?(T=i(E,S.props),T.ref=vv(x,E,S),T.return=x,T):(T=l4(S.type,S.key,S.props,null,x.mode,T),T.ref=vv(x,E,S),T.return=x,T)}function c(x,E,S,T){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=tE(S,x.mode,T),E.return=x,E):(E=i(E,S.children||[]),E.return=x,E)}function u(x,E,S,T,B){return E===null||E.tag!==7?(E=zm(S,x.mode,T,B),E.return=x,E):(E=i(E,S),E.return=x,E)}function h(x,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return E=eE(""+E,x.mode,S),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Zb:return S=l4(E.type,E.key,E.props,null,x.mode,S),S.ref=vv(x,null,E),S.return=x,S;case dg:return E=tE(E,x.mode,S),E.return=x,E;case bh:var T=E._init;return h(x,T(E._payload),S)}if(Pv(E)||hv(E))return E=zm(E,x.mode,S,null),E.return=x,E;ux(x,E)}return null}function p(x,E,S,T){var B=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return B!==null?null:a(x,E,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Zb:return S.key===B?l(x,E,S,T):null;case dg:return S.key===B?c(x,E,S,T):null;case bh:return B=S._init,p(x,E,B(S._payload),T)}if(Pv(S)||hv(S))return B!==null?null:u(x,E,S,T,null);ux(x,S)}return null}function f(x,E,S,T,B){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(S)||null,a(E,x,""+T,B);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Zb:return x=x.get(T.key===null?S:T.key)||null,l(E,x,T,B);case dg:return x=x.get(T.key===null?S:T.key)||null,c(E,x,T,B);case bh:var V=T._init;return f(x,E,S,V(T._payload),B)}if(Pv(T)||hv(T))return x=x.get(S)||null,u(E,x,T,B,null);ux(E,T)}return null}function b(x,E,S,T){for(var B=null,V=null,M=E,N=E=0,P=null;M!==null&&N<S.length;N++){M.index>N?(P=M,M=null):P=M.sibling;var O=p(x,M,S[N],T);if(O===null){M===null&&(M=P);break}n&&M&&O.alternate===null&&e(x,M),E=s(O,E,N),V===null?B=O:V.sibling=O,V=O,M=P}if(N===S.length)return t(x,M),Er&&mp(x,N),B;if(M===null){for(;N<S.length;N++)M=h(x,S[N],T),M!==null&&(E=s(M,E,N),V===null?B=M:V.sibling=M,V=M);return Er&&mp(x,N),B}for(M=r(x,M);N<S.length;N++)P=f(M,x,N,S[N],T),P!==null&&(n&&P.alternate!==null&&M.delete(P.key===null?N:P.key),E=s(P,E,N),V===null?B=P:V.sibling=P,V=P);return n&&M.forEach(function(k){return e(x,k)}),Er&&mp(x,N),B}function w(x,E,S,T){var B=hv(S);if(typeof B!="function")throw Error(qe(150));if(S=B.call(S),S==null)throw Error(qe(151));for(var V=B=null,M=E,N=E=0,P=null,O=S.next();M!==null&&!O.done;N++,O=S.next()){M.index>N?(P=M,M=null):P=M.sibling;var k=p(x,M,O.value,T);if(k===null){M===null&&(M=P);break}n&&M&&k.alternate===null&&e(x,M),E=s(k,E,N),V===null?B=k:V.sibling=k,V=k,M=P}if(O.done)return t(x,M),Er&&mp(x,N),B;if(M===null){for(;!O.done;N++,O=S.next())O=h(x,O.value,T),O!==null&&(E=s(O,E,N),V===null?B=O:V.sibling=O,V=O);return Er&&mp(x,N),B}for(M=r(x,M);!O.done;N++,O=S.next())O=f(M,x,N,O.value,T),O!==null&&(n&&O.alternate!==null&&M.delete(O.key===null?N:O.key),E=s(O,E,N),V===null?B=O:V.sibling=O,V=O);return n&&M.forEach(function(j){return e(x,j)}),Er&&mp(x,N),B}function A(x,E,S,T){if(typeof S=="object"&&S!==null&&S.type===hg&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Zb:e:{for(var B=S.key,V=E;V!==null;){if(V.key===B){if(B=S.type,B===hg){if(V.tag===7){t(x,V.sibling),E=i(V,S.props.children),E.return=x,x=E;break e}}else if(V.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===bh&&lP(B)===V.type){t(x,V.sibling),E=i(V,S.props),E.ref=vv(x,V,S),E.return=x,x=E;break e}t(x,V);break}else e(x,V);V=V.sibling}S.type===hg?(E=zm(S.props.children,x.mode,T,S.key),E.return=x,x=E):(T=l4(S.type,S.key,S.props,null,x.mode,T),T.ref=vv(x,E,S),T.return=x,x=T)}return o(x);case dg:e:{for(V=S.key;E!==null;){if(E.key===V)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){t(x,E.sibling),E=i(E,S.children||[]),E.return=x,x=E;break e}else{t(x,E);break}else e(x,E);E=E.sibling}E=tE(S,x.mode,T),E.return=x,x=E}return o(x);case bh:return V=S._init,A(x,E,V(S._payload),T)}if(Pv(S))return b(x,E,S,T);if(hv(S))return w(x,E,S,T);ux(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,E!==null&&E.tag===6?(t(x,E.sibling),E=i(E,S),E.return=x,x=E):(t(x,E),E=eE(S,x.mode,T),E.return=x,x=E),o(x)):t(x,E)}return A}var i2=hF(!0),fF=hF(!1),A3=Hf(null),E3=null,bg=null,VT=null;function zT(){VT=bg=E3=null}function $T(n){var e=A3.current;vr(A3),n._currentValue=e}function tS(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Ig(n,e){E3=n,VT=bg=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(No=!0),n.firstContext=null)}function il(n){var e=n._currentValue;if(VT!==n)if(n={context:n,memoizedValue:e,next:null},bg===null){if(E3===null)throw Error(qe(308));bg=n,E3.dependencies={lanes:0,firstContext:n}}else bg=bg.next=n;return e}var Ip=null;function qT(n){Ip===null?Ip=[n]:Ip.push(n)}function pF(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,qT(e)):(t.next=i.next,i.next=t),e.interleaved=t,Td(n,r)}function Td(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var xh=!1;function HT(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mF(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function vd(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function bf(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Tn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Td(n,t)}return i=r.interleaved,i===null?(e.next=e,qT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Td(n,t)}function n4(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,IT(n,t)}}function cP(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function S3(n,e,t,r){var i=n.updateQueue;xh=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,f=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=n,w=a;switch(p=e,f=t,w.tag){case 1:if(b=w.payload,typeof b=="function"){h=b.call(f,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,p=typeof b=="function"?b.call(f,h,p):b,p==null)break e;h=Or({},h,p);break e;case 2:xh=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Km|=o,n.lanes=o,n.memoizedState=h}}function uP(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(qe(191,i));i.call(r)}}}var Xw={},Qc=Hf(Xw),Uy=Hf(Xw),Vy=Hf(Xw);function Pp(n){if(n===Xw)throw Error(qe(174));return n}function WT(n,e){switch(ur(Vy,e),ur(Uy,n),ur(Qc,Xw),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:D8(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=D8(e,n)}vr(Qc),ur(Qc,e)}function s2(){vr(Qc),vr(Uy),vr(Vy)}function gF(n){Pp(Vy.current);var e=Pp(Qc.current),t=D8(e,n.type);e!==t&&(ur(Uy,n),ur(Qc,t))}function GT(n){Uy.current===n&&(vr(Qc),vr(Uy))}var Dr=Hf(0);function C3(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var KA=[];function KT(){for(var n=0;n<KA.length;n++)KA[n]._workInProgressVersionPrimary=null;KA.length=0}var r4=Bd.ReactCurrentDispatcher,YA=Bd.ReactCurrentBatchConfig,Gm=0,jr=null,Ti=null,qi=null,T3=!1,uy=!1,zy=0,fJ=0;function gs(){throw Error(qe(321))}function YT(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Kl(n[t],e[t]))return!1;return!0}function XT(n,e,t,r,i,s){if(Gm=s,jr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,r4.current=n===null||n.memoizedState===null?vJ:yJ,n=t(r,i),uy){s=0;do{if(uy=!1,zy=0,25<=s)throw Error(qe(301));s+=1,qi=Ti=null,e.updateQueue=null,r4.current=wJ,n=t(r,i)}while(uy)}if(r4.current=N3,e=Ti!==null&&Ti.next!==null,Gm=0,qi=Ti=jr=null,T3=!1,e)throw Error(qe(300));return n}function QT(){var n=zy!==0;return zy=0,n}function bc(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qi===null?jr.memoizedState=qi=n:qi=qi.next=n,qi}function sl(){if(Ti===null){var n=jr.alternate;n=n!==null?n.memoizedState:null}else n=Ti.next;var e=qi===null?jr.memoizedState:qi.next;if(e!==null)qi=e,Ti=n;else{if(n===null)throw Error(qe(310));Ti=n,n={memoizedState:Ti.memoizedState,baseState:Ti.baseState,baseQueue:Ti.baseQueue,queue:Ti.queue,next:null},qi===null?jr.memoizedState=qi=n:qi=qi.next=n}return qi}function $y(n,e){return typeof e=="function"?e(n):e}function XA(n){var e=sl(),t=e.queue;if(t===null)throw Error(qe(311));t.lastRenderedReducer=n;var r=Ti,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Gm&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,jr.lanes|=u,Km|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Kl(r,e.memoizedState)||(No=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,jr.lanes|=s,Km|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function QA(n){var e=sl(),t=e.queue;if(t===null)throw Error(qe(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Kl(s,e.memoizedState)||(No=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function vF(){}function yF(n,e){var t=jr,r=sl(),i=e(),s=!Kl(r.memoizedState,i);if(s&&(r.memoizedState=i,No=!0),r=r.queue,JT(xF.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||qi!==null&&qi.memoizedState.tag&1){if(t.flags|=2048,qy(9,bF.bind(null,t,r,i,e),void 0,null),Wi===null)throw Error(qe(349));Gm&30||wF(t,e,i)}return i}function wF(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=jr.updateQueue,e===null?(e={lastEffect:null,stores:null},jr.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function bF(n,e,t,r){e.value=t,e.getSnapshot=r,_F(e)&&AF(n)}function xF(n,e,t){return t(function(){_F(e)&&AF(n)})}function _F(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Kl(n,t)}catch{return!0}}function AF(n){var e=Td(n,1);e!==null&&Wl(e,n,1,-1)}function dP(n){var e=bc();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$y,lastRenderedState:n},e.queue=n,n=n.dispatch=gJ.bind(null,jr,n),[e.memoizedState,n]}function qy(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=jr.updateQueue,e===null?(e={lastEffect:null,stores:null},jr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function EF(){return sl().memoizedState}function i4(n,e,t,r){var i=bc();jr.flags|=n,i.memoizedState=qy(1|e,t,void 0,r===void 0?null:r)}function K_(n,e,t,r){var i=sl();r=r===void 0?null:r;var s=void 0;if(Ti!==null){var o=Ti.memoizedState;if(s=o.destroy,r!==null&&YT(r,o.deps)){i.memoizedState=qy(e,t,s,r);return}}jr.flags|=n,i.memoizedState=qy(1|e,t,s,r)}function hP(n,e){return i4(8390656,8,n,e)}function JT(n,e){return K_(2048,8,n,e)}function SF(n,e){return K_(4,2,n,e)}function CF(n,e){return K_(4,4,n,e)}function TF(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function NF(n,e,t){return t=t!=null?t.concat([n]):null,K_(4,4,TF.bind(null,e,n),t)}function ZT(){}function kF(n,e){var t=sl();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&YT(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function IF(n,e){var t=sl();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&YT(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function PF(n,e,t){return Gm&21?(Kl(t,e)||(t=jO(),jr.lanes|=t,Km|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,No=!0),n.memoizedState=t)}function pJ(n,e){var t=Wn;Wn=t!==0&&4>t?t:4,n(!0);var r=YA.transition;YA.transition={};try{n(!1),e()}finally{Wn=t,YA.transition=r}}function RF(){return sl().memoizedState}function mJ(n,e,t){var r=_f(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},LF(n))MF(e,t);else if(t=pF(n,e,t,r),t!==null){var i=Zs();Wl(t,n,r,i),DF(t,e,r)}}function gJ(n,e,t){var r=_f(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(LF(n))MF(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Kl(a,o)){var l=e.interleaved;l===null?(i.next=i,qT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=pF(n,e,i,r),t!==null&&(i=Zs(),Wl(t,n,r,i),DF(t,e,r))}}function LF(n){var e=n.alternate;return n===jr||e!==null&&e===jr}function MF(n,e){uy=T3=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function DF(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,IT(n,t)}}var N3={readContext:il,useCallback:gs,useContext:gs,useEffect:gs,useImperativeHandle:gs,useInsertionEffect:gs,useLayoutEffect:gs,useMemo:gs,useReducer:gs,useRef:gs,useState:gs,useDebugValue:gs,useDeferredValue:gs,useTransition:gs,useMutableSource:gs,useSyncExternalStore:gs,useId:gs,unstable_isNewReconciler:!1},vJ={readContext:il,useCallback:function(n,e){return bc().memoizedState=[n,e===void 0?null:e],n},useContext:il,useEffect:hP,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,i4(4194308,4,TF.bind(null,e,n),t)},useLayoutEffect:function(n,e){return i4(4194308,4,n,e)},useInsertionEffect:function(n,e){return i4(4,2,n,e)},useMemo:function(n,e){var t=bc();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=bc();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=mJ.bind(null,jr,n),[r.memoizedState,n]},useRef:function(n){var e=bc();return n={current:n},e.memoizedState=n},useState:dP,useDebugValue:ZT,useDeferredValue:function(n){return bc().memoizedState=n},useTransition:function(){var n=dP(!1),e=n[0];return n=pJ.bind(null,n[1]),bc().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=jr,i=bc();if(Er){if(t===void 0)throw Error(qe(407));t=t()}else{if(t=e(),Wi===null)throw Error(qe(349));Gm&30||wF(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,hP(xF.bind(null,r,s,n),[n]),r.flags|=2048,qy(9,bF.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=bc(),e=Wi.identifierPrefix;if(Er){var t=fd,r=hd;t=(r&~(1<<32-Hl(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=zy++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=fJ++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},yJ={readContext:il,useCallback:kF,useContext:il,useEffect:JT,useImperativeHandle:NF,useInsertionEffect:SF,useLayoutEffect:CF,useMemo:IF,useReducer:XA,useRef:EF,useState:function(){return XA($y)},useDebugValue:ZT,useDeferredValue:function(n){var e=sl();return PF(e,Ti.memoizedState,n)},useTransition:function(){var n=XA($y)[0],e=sl().memoizedState;return[n,e]},useMutableSource:vF,useSyncExternalStore:yF,useId:RF,unstable_isNewReconciler:!1},wJ={readContext:il,useCallback:kF,useContext:il,useEffect:JT,useImperativeHandle:NF,useInsertionEffect:SF,useLayoutEffect:CF,useMemo:IF,useReducer:QA,useRef:EF,useState:function(){return QA($y)},useDebugValue:ZT,useDeferredValue:function(n){var e=sl();return Ti===null?e.memoizedState=n:PF(e,Ti.memoizedState,n)},useTransition:function(){var n=QA($y)[0],e=sl().memoizedState;return[n,e]},useMutableSource:vF,useSyncExternalStore:yF,useId:RF,unstable_isNewReconciler:!1};function xl(n,e){if(n&&n.defaultProps){e=Or({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function nS(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Or({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Y_={isMounted:function(n){return(n=n._reactInternals)?y1(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Zs(),i=_f(n),s=vd(r,i);s.payload=e,t!=null&&(s.callback=t),e=bf(n,s,i),e!==null&&(Wl(e,n,i,r),n4(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Zs(),i=_f(n),s=vd(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=bf(n,s,i),e!==null&&(Wl(e,n,i,r),n4(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Zs(),r=_f(n),i=vd(t,r);i.tag=2,e!=null&&(i.callback=e),e=bf(n,i,r),e!==null&&(Wl(e,n,r,t),n4(e,n,r))}};function fP(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!jy(t,r)||!jy(i,s):!0}function jF(n,e,t){var r=!1,i=Lf,s=e.contextType;return typeof s=="object"&&s!==null?s=il(s):(i=Ro(e)?Hm:Os.current,r=e.contextTypes,s=(r=r!=null)?n2(n,i):Lf),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Y_,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function pP(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Y_.enqueueReplaceState(e,e.state,null)}function rS(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},HT(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=il(s):(s=Ro(e)?Hm:Os.current,i.context=n2(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(nS(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Y_.enqueueReplaceState(i,i.state,null),S3(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function o2(n,e){try{var t="",r=e;do t+=GX(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function JA(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function iS(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var bJ=typeof WeakMap=="function"?WeakMap:Map;function OF(n,e,t){t=vd(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){I3||(I3=!0,pS=r),iS(n,e)},t}function FF(n,e,t){t=vd(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){iS(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){iS(n,e),typeof r!="function"&&(xf===null?xf=new Set([this]):xf.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function mP(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new bJ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=MJ.bind(null,n,e,t),e.then(n,n))}function gP(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function vP(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=vd(-1,1),e.tag=2,bf(t,e,1))),t.lanes|=1),n)}var xJ=Bd.ReactCurrentOwner,No=!1;function Ks(n,e,t,r){e.child=n===null?fF(e,null,t,r):i2(e,n.child,t,r)}function yP(n,e,t,r,i){t=t.render;var s=e.ref;return Ig(e,i),r=XT(n,e,t,r,s,i),t=QT(),n!==null&&!No?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Nd(n,e,i)):(Er&&t&&FT(e),e.flags|=1,Ks(n,e,r,i),e.child)}function wP(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!aN(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,BF(n,e,s,r,i)):(n=l4(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:jy,t(o,r)&&n.ref===e.ref)return Nd(n,e,i)}return e.flags|=1,n=Af(s,r),n.ref=e.ref,n.return=e,e.child=n}function BF(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(jy(s,r)&&n.ref===e.ref)if(No=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(No=!0);else return e.lanes=n.lanes,Nd(n,e,i)}return sS(n,e,t,r,i)}function UF(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ur(_g,ua),ua|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,ur(_g,ua),ua|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,ur(_g,ua),ua|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,ur(_g,ua),ua|=r;return Ks(n,e,i,t),e.child}function VF(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function sS(n,e,t,r,i){var s=Ro(t)?Hm:Os.current;return s=n2(e,s),Ig(e,i),t=XT(n,e,t,r,s,i),r=QT(),n!==null&&!No?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Nd(n,e,i)):(Er&&r&&FT(e),e.flags|=1,Ks(n,e,t,i),e.child)}function bP(n,e,t,r,i){if(Ro(t)){var s=!0;b3(e)}else s=!1;if(Ig(e,i),e.stateNode===null)s4(n,e),jF(e,t,r),rS(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=il(c):(c=Ro(t)?Hm:Os.current,c=n2(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&pP(e,o,r,c),xh=!1;var p=e.memoizedState;o.state=p,S3(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Po.current||xh?(typeof u=="function"&&(nS(e,t,u,r),l=e.memoizedState),(a=xh||fP(e,t,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,mF(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:xl(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=il(l):(l=Ro(t)?Hm:Os.current,l=n2(e,l));var f=t.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&pP(e,o,r,l),xh=!1,p=e.memoizedState,o.state=p,S3(e,r,o,i);var b=e.memoizedState;a!==h||p!==b||Po.current||xh?(typeof f=="function"&&(nS(e,t,f,r),b=e.memoizedState),(c=xh||fP(e,t,c,r,p,b,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return oS(n,e,t,r,s,i)}function oS(n,e,t,r,i,s){VF(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&sP(e,t,!1),Nd(n,e,s);r=e.stateNode,xJ.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=i2(e,n.child,null,s),e.child=i2(e,null,a,s)):Ks(n,e,a,s),e.memoizedState=r.state,i&&sP(e,t,!0),e.child}function zF(n){var e=n.stateNode;e.pendingContext?iP(n,e.pendingContext,e.pendingContext!==e.context):e.context&&iP(n,e.context,!1),WT(n,e.containerInfo)}function xP(n,e,t,r,i){return r2(),UT(i),e.flags|=256,Ks(n,e,t,r),e.child}var aS={dehydrated:null,treeContext:null,retryLane:0};function lS(n){return{baseLanes:n,cachePool:null,transitions:null}}function $F(n,e,t){var r=e.pendingProps,i=Dr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),ur(Dr,i&1),n===null)return eS(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=J_(o,r,0,null),n=zm(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=lS(t),e.memoizedState=aS,n):eN(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _J(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Af(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Af(a,s):(s=zm(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?lS(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=aS,r}return s=n.child,n=s.sibling,r=Af(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function eN(n,e){return e=J_({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function dx(n,e,t,r){return r!==null&&UT(r),i2(e,n.child,null,t),n=eN(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function _J(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=JA(Error(qe(422))),dx(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=J_({mode:"visible",children:r.children},i,0,null),s=zm(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&i2(e,n.child,null,o),e.child.memoizedState=lS(o),e.memoizedState=aS,s);if(!(e.mode&1))return dx(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(qe(419)),r=JA(s,r,void 0),dx(n,e,o,r)}if(a=(o&n.childLanes)!==0,No||a){if(r=Wi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Td(n,i),Wl(r,n,i,-1))}return oN(),r=JA(Error(qe(421))),dx(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=DJ.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,fa=wf(i.nextSibling),ya=e,Er=!0,Vl=null,n!==null&&(Wa[Ga++]=hd,Wa[Ga++]=fd,Wa[Ga++]=Wm,hd=n.id,fd=n.overflow,Wm=e),e=eN(e,r.children),e.flags|=4096,e)}function _P(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),tS(n.return,e,t)}function ZA(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function qF(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ks(n,e,r.children,t),r=Dr.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_P(n,t,e);else if(n.tag===19)_P(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(ur(Dr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&C3(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),ZA(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&C3(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}ZA(e,!0,t,null,s);break;case"together":ZA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function s4(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Nd(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Km|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(qe(153));if(e.child!==null){for(n=e.child,t=Af(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Af(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function AJ(n,e,t){switch(e.tag){case 3:zF(e),r2();break;case 5:gF(e);break;case 1:Ro(e.type)&&b3(e);break;case 4:WT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ur(A3,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ur(Dr,Dr.current&1),e.flags|=128,null):t&e.child.childLanes?$F(n,e,t):(ur(Dr,Dr.current&1),n=Nd(n,e,t),n!==null?n.sibling:null);ur(Dr,Dr.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return qF(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ur(Dr,Dr.current),r)break;return null;case 22:case 23:return e.lanes=0,UF(n,e,t)}return Nd(n,e,t)}var HF,cS,WF,GF;HF=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};cS=function(){};WF=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Pp(Qc.current);var s=null;switch(t){case"input":i=P8(n,i),r=P8(n,r),s=[];break;case"select":i=Or({},i,{value:void 0}),r=Or({},r,{value:void 0}),s=[];break;case"textarea":i=M8(n,i),r=M8(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=y3)}j8(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ky.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ky.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&fr("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};GF=function(n,e,t,r){t!==r&&(e.flags|=4)};function yv(n,e){if(!Er)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function vs(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function EJ(n,e,t){var r=e.pendingProps;switch(BT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vs(e),null;case 1:return Ro(e.type)&&w3(),vs(e),null;case 3:return r=e.stateNode,s2(),vr(Po),vr(Os),KT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(cx(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vl!==null&&(vS(Vl),Vl=null))),cS(n,e),vs(e),null;case 5:GT(e);var i=Pp(Vy.current);if(t=e.type,n!==null&&e.stateNode!=null)WF(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(qe(166));return vs(e),null}if(n=Pp(Qc.current),cx(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[qc]=e,r[By]=s,n=(e.mode&1)!==0,t){case"dialog":fr("cancel",r),fr("close",r);break;case"iframe":case"object":case"embed":fr("load",r);break;case"video":case"audio":for(i=0;i<Lv.length;i++)fr(Lv[i],r);break;case"source":fr("error",r);break;case"img":case"image":case"link":fr("error",r),fr("load",r);break;case"details":fr("toggle",r);break;case"input":PI(r,s),fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fr("invalid",r);break;case"textarea":LI(r,s),fr("invalid",r)}j8(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&lx(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&lx(r.textContent,a,n),i=["children",""+a]):ky.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&fr("scroll",r)}switch(t){case"input":ex(r),RI(r,s,!0);break;case"textarea":ex(r),MI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=y3)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=xO(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[qc]=e,n[By]=r,HF(n,e,!1,!1),e.stateNode=n;e:{switch(o=O8(t,r),t){case"dialog":fr("cancel",n),fr("close",n),i=r;break;case"iframe":case"object":case"embed":fr("load",n),i=r;break;case"video":case"audio":for(i=0;i<Lv.length;i++)fr(Lv[i],n);i=r;break;case"source":fr("error",n),i=r;break;case"img":case"image":case"link":fr("error",n),fr("load",n),i=r;break;case"details":fr("toggle",n),i=r;break;case"input":PI(n,r),i=P8(n,r),fr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Or({},r,{value:void 0}),fr("invalid",n);break;case"textarea":LI(n,r),i=M8(n,r),fr("invalid",n);break;default:i=r}j8(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?EO(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_O(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Iy(n,l):typeof l=="number"&&Iy(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ky.hasOwnProperty(s)?l!=null&&s==="onScroll"&&fr("scroll",n):l!=null&&ET(n,s,l,o))}switch(t){case"input":ex(n),RI(n,r,!1);break;case"textarea":ex(n),MI(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Rf(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Cg(n,!!r.multiple,s,!1):r.defaultValue!=null&&Cg(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=y3)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vs(e),null;case 6:if(n&&e.stateNode!=null)GF(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(qe(166));if(t=Pp(Vy.current),Pp(Qc.current),cx(e)){if(r=e.stateNode,t=e.memoizedProps,r[qc]=e,(s=r.nodeValue!==t)&&(n=ya,n!==null))switch(n.tag){case 3:lx(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&lx(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[qc]=e,e.stateNode=r}return vs(e),null;case 13:if(vr(Dr),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Er&&fa!==null&&e.mode&1&&!(e.flags&128))dF(),r2(),e.flags|=98560,s=!1;else if(s=cx(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(qe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(qe(317));s[qc]=e}else r2(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vs(e),s=!1}else Vl!==null&&(vS(Vl),Vl=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Dr.current&1?Ii===0&&(Ii=3):oN())),e.updateQueue!==null&&(e.flags|=4),vs(e),null);case 4:return s2(),cS(n,e),n===null&&Oy(e.stateNode.containerInfo),vs(e),null;case 10:return $T(e.type._context),vs(e),null;case 17:return Ro(e.type)&&w3(),vs(e),null;case 19:if(vr(Dr),s=e.memoizedState,s===null)return vs(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)yv(s,!1);else{if(Ii!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=C3(n),o!==null){for(e.flags|=128,yv(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return ur(Dr,Dr.current&1|2),e.child}n=n.sibling}s.tail!==null&&ni()>a2&&(e.flags|=128,r=!0,yv(s,!1),e.lanes=4194304)}else{if(!r)if(n=C3(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),yv(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Er)return vs(e),null}else 2*ni()-s.renderingStartTime>a2&&t!==1073741824&&(e.flags|=128,r=!0,yv(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ni(),e.sibling=null,t=Dr.current,ur(Dr,r?t&1|2:t&1),e):(vs(e),null);case 22:case 23:return sN(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ua&1073741824&&(vs(e),e.subtreeFlags&6&&(e.flags|=8192)):vs(e),null;case 24:return null;case 25:return null}throw Error(qe(156,e.tag))}function SJ(n,e){switch(BT(e),e.tag){case 1:return Ro(e.type)&&w3(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return s2(),vr(Po),vr(Os),KT(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return GT(e),null;case 13:if(vr(Dr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(qe(340));r2()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return vr(Dr),null;case 4:return s2(),null;case 10:return $T(e.type._context),null;case 22:case 23:return sN(),null;case 24:return null;default:return null}}var hx=!1,Ps=!1,CJ=typeof WeakSet=="function"?WeakSet:Set,ct=null;function xg(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Gr(n,e,r)}else t.current=null}function uS(n,e,t){try{t()}catch(r){Gr(n,e,r)}}var AP=!1;function TJ(n,e){if(G8=m3,n=JO(),OT(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,p=null;t:for(;;){for(var f;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(K8={focusedElem:n,selectionRange:t},m3=!1,ct=e;ct!==null;)if(e=ct,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ct=n;else for(;ct!==null;){e=ct;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,A=b.memoizedState,x=e.stateNode,E=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:xl(e.type,w),A);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(T){Gr(e,e.return,T)}if(n=e.sibling,n!==null){n.return=e.return,ct=n;break}ct=e.return}return b=AP,AP=!1,b}function dy(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&uS(e,t,s)}i=i.next}while(i!==r)}}function X_(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function dS(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function KF(n){var e=n.alternate;e!==null&&(n.alternate=null,KF(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[qc],delete e[By],delete e[Q8],delete e[cJ],delete e[uJ])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function YF(n){return n.tag===5||n.tag===3||n.tag===4}function EP(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||YF(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=y3));else if(r!==4&&(n=n.child,n!==null))for(hS(n,e,t),n=n.sibling;n!==null;)hS(n,e,t),n=n.sibling}function fS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(fS(n,e,t),n=n.sibling;n!==null;)fS(n,e,t),n=n.sibling}var rs=null,Ul=!1;function uh(n,e,t){for(t=t.child;t!==null;)XF(n,e,t),t=t.sibling}function XF(n,e,t){if(Xc&&typeof Xc.onCommitFiberUnmount=="function")try{Xc.onCommitFiberUnmount(z_,t)}catch{}switch(t.tag){case 5:Ps||xg(t,e);case 6:var r=rs,i=Ul;rs=null,uh(n,e,t),rs=r,Ul=i,rs!==null&&(Ul?(n=rs,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):rs.removeChild(t.stateNode));break;case 18:rs!==null&&(Ul?(n=rs,t=t.stateNode,n.nodeType===8?WA(n.parentNode,t):n.nodeType===1&&WA(n,t),My(n)):WA(rs,t.stateNode));break;case 4:r=rs,i=Ul,rs=t.stateNode.containerInfo,Ul=!0,uh(n,e,t),rs=r,Ul=i;break;case 0:case 11:case 14:case 15:if(!Ps&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&uS(t,e,o),i=i.next}while(i!==r)}uh(n,e,t);break;case 1:if(!Ps&&(xg(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Gr(t,e,a)}uh(n,e,t);break;case 21:uh(n,e,t);break;case 22:t.mode&1?(Ps=(r=Ps)||t.memoizedState!==null,uh(n,e,t),Ps=r):uh(n,e,t);break;default:uh(n,e,t)}}function SP(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new CJ),e.forEach(function(r){var i=jJ.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function vl(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rs=a.stateNode,Ul=!1;break e;case 3:rs=a.stateNode.containerInfo,Ul=!0;break e;case 4:rs=a.stateNode.containerInfo,Ul=!0;break e}a=a.return}if(rs===null)throw Error(qe(160));XF(s,o,i),rs=null,Ul=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Gr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QF(e,n),e=e.sibling}function QF(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(vl(e,n),gc(n),r&4){try{dy(3,n,n.return),X_(3,n)}catch(w){Gr(n,n.return,w)}try{dy(5,n,n.return)}catch(w){Gr(n,n.return,w)}}break;case 1:vl(e,n),gc(n),r&512&&t!==null&&xg(t,t.return);break;case 5:if(vl(e,n),gc(n),r&512&&t!==null&&xg(t,t.return),n.flags&32){var i=n.stateNode;try{Iy(i,"")}catch(w){Gr(n,n.return,w)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&wO(i,s),O8(a,o);var c=O8(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?EO(i,h):u==="dangerouslySetInnerHTML"?_O(i,h):u==="children"?Iy(i,h):ET(i,u,h,c)}switch(a){case"input":R8(i,s);break;case"textarea":bO(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Cg(i,!!s.multiple,f,!1):p!==!!s.multiple&&(s.defaultValue!=null?Cg(i,!!s.multiple,s.defaultValue,!0):Cg(i,!!s.multiple,s.multiple?[]:"",!1))}i[By]=s}catch(w){Gr(n,n.return,w)}}break;case 6:if(vl(e,n),gc(n),r&4){if(n.stateNode===null)throw Error(qe(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(w){Gr(n,n.return,w)}}break;case 3:if(vl(e,n),gc(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{My(e.containerInfo)}catch(w){Gr(n,n.return,w)}break;case 4:vl(e,n),gc(n);break;case 13:vl(e,n),gc(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rN=ni())),r&4&&SP(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Ps=(c=Ps)||u,vl(e,n),Ps=c):vl(e,n),gc(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(ct=n,u=n.child;u!==null;){for(h=ct=u;ct!==null;){switch(p=ct,f=p.child,p.tag){case 0:case 11:case 14:case 15:dy(4,p,p.return);break;case 1:xg(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(w){Gr(r,t,w)}}break;case 5:xg(p,p.return);break;case 22:if(p.memoizedState!==null){TP(h);continue}}f!==null?(f.return=p,ct=f):TP(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=AO("display",o))}catch(w){Gr(n,n.return,w)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Gr(n,n.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(e,n),gc(n),r&4&&SP(n);break;case 21:break;default:vl(e,n),gc(n)}}function gc(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(YF(t)){var r=t;break e}t=t.return}throw Error(qe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Iy(i,""),r.flags&=-33);var s=EP(n);fS(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=EP(n);hS(n,a,o);break;default:throw Error(qe(161))}}catch(l){Gr(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function NJ(n,e,t){ct=n,JF(n)}function JF(n,e,t){for(var r=(n.mode&1)!==0;ct!==null;){var i=ct,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hx;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ps;a=hx;var c=Ps;if(hx=o,(Ps=l)&&!c)for(ct=i;ct!==null;)o=ct,l=o.child,o.tag===22&&o.memoizedState!==null?NP(i):l!==null?(l.return=o,ct=l):NP(i);for(;s!==null;)ct=s,JF(s),s=s.sibling;ct=i,hx=a,Ps=c}CP(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ct=s):CP(n)}}function CP(n){for(;ct!==null;){var e=ct;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ps||X_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ps)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:xl(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&uP(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}uP(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&My(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}Ps||e.flags&512&&dS(e)}catch(p){Gr(e,e.return,p)}}if(e===n){ct=null;break}if(t=e.sibling,t!==null){t.return=e.return,ct=t;break}ct=e.return}}function TP(n){for(;ct!==null;){var e=ct;if(e===n){ct=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ct=t;break}ct=e.return}}function NP(n){for(;ct!==null;){var e=ct;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{X_(4,e)}catch(l){Gr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Gr(e,i,l)}}var s=e.return;try{dS(e)}catch(l){Gr(e,s,l)}break;case 5:var o=e.return;try{dS(e)}catch(l){Gr(e,o,l)}}}catch(l){Gr(e,e.return,l)}if(e===n){ct=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ct=a;break}ct=e.return}}var kJ=Math.ceil,k3=Bd.ReactCurrentDispatcher,tN=Bd.ReactCurrentOwner,tl=Bd.ReactCurrentBatchConfig,Tn=0,Wi=null,mi=null,as=0,ua=0,_g=Hf(0),Ii=0,Hy=null,Km=0,Q_=0,nN=0,hy=null,Co=null,rN=0,a2=1/0,Lu=null,I3=!1,pS=null,xf=null,fx=!1,cf=null,P3=0,fy=0,mS=null,o4=-1,a4=0;function Zs(){return Tn&6?ni():o4!==-1?o4:o4=ni()}function _f(n){return n.mode&1?Tn&2&&as!==0?as&-as:hJ.transition!==null?(a4===0&&(a4=jO()),a4):(n=Wn,n!==0||(n=window.event,n=n===void 0?16:$O(n.type)),n):1}function Wl(n,e,t,r){if(50<fy)throw fy=0,mS=null,Error(qe(185));Gw(n,t,r),(!(Tn&2)||n!==Wi)&&(n===Wi&&(!(Tn&2)&&(Q_|=t),Ii===4&&Ah(n,as)),Lo(n,r),t===1&&Tn===0&&!(e.mode&1)&&(a2=ni()+500,G_&&Wf()))}function Lo(n,e){var t=n.callbackNode;hQ(n,e);var r=p3(n,n===Wi?as:0);if(r===0)t!==null&&OI(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&OI(t),e===1)n.tag===0?dJ(kP.bind(null,n)):lF(kP.bind(null,n)),aJ(function(){!(Tn&6)&&Wf()}),t=null;else{switch(OO(r)){case 1:t=kT;break;case 4:t=MO;break;case 16:t=f3;break;case 536870912:t=DO;break;default:t=f3}t=oB(t,ZF.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function ZF(n,e){if(o4=-1,a4=0,Tn&6)throw Error(qe(327));var t=n.callbackNode;if(Pg()&&n.callbackNode!==t)return null;var r=p3(n,n===Wi?as:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=R3(n,r);else{e=r;var i=Tn;Tn|=2;var s=tB();(Wi!==n||as!==e)&&(Lu=null,a2=ni()+500,Vm(n,e));do try{RJ();break}catch(a){eB(n,a)}while(!0);zT(),k3.current=s,Tn=i,mi!==null?e=0:(Wi=null,as=0,e=Ii)}if(e!==0){if(e===2&&(i=z8(n),i!==0&&(r=i,e=gS(n,i))),e===1)throw t=Hy,Vm(n,0),Ah(n,r),Lo(n,ni()),t;if(e===6)Ah(n,r);else{if(i=n.current.alternate,!(r&30)&&!IJ(i)&&(e=R3(n,r),e===2&&(s=z8(n),s!==0&&(r=s,e=gS(n,s))),e===1))throw t=Hy,Vm(n,0),Ah(n,r),Lo(n,ni()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(qe(345));case 2:gp(n,Co,Lu);break;case 3:if(Ah(n,r),(r&130023424)===r&&(e=rN+500-ni(),10<e)){if(p3(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Zs(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=X8(gp.bind(null,n,Co,Lu),e);break}gp(n,Co,Lu);break;case 4:if(Ah(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Hl(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ni()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kJ(r/1960))-r,10<r){n.timeoutHandle=X8(gp.bind(null,n,Co,Lu),r);break}gp(n,Co,Lu);break;case 5:gp(n,Co,Lu);break;default:throw Error(qe(329))}}}return Lo(n,ni()),n.callbackNode===t?ZF.bind(null,n):null}function gS(n,e){var t=hy;return n.current.memoizedState.isDehydrated&&(Vm(n,e).flags|=256),n=R3(n,e),n!==2&&(e=Co,Co=t,e!==null&&vS(e)),n}function vS(n){Co===null?Co=n:Co.push.apply(Co,n)}function IJ(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Kl(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ah(n,e){for(e&=~nN,e&=~Q_,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Hl(e),r=1<<t;n[t]=-1,e&=~r}}function kP(n){if(Tn&6)throw Error(qe(327));Pg();var e=p3(n,0);if(!(e&1))return Lo(n,ni()),null;var t=R3(n,e);if(n.tag!==0&&t===2){var r=z8(n);r!==0&&(e=r,t=gS(n,r))}if(t===1)throw t=Hy,Vm(n,0),Ah(n,e),Lo(n,ni()),t;if(t===6)throw Error(qe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,gp(n,Co,Lu),Lo(n,ni()),null}function iN(n,e){var t=Tn;Tn|=1;try{return n(e)}finally{Tn=t,Tn===0&&(a2=ni()+500,G_&&Wf())}}function Ym(n){cf!==null&&cf.tag===0&&!(Tn&6)&&Pg();var e=Tn;Tn|=1;var t=tl.transition,r=Wn;try{if(tl.transition=null,Wn=1,n)return n()}finally{Wn=r,tl.transition=t,Tn=e,!(Tn&6)&&Wf()}}function sN(){ua=_g.current,vr(_g)}function Vm(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,oJ(t)),mi!==null)for(t=mi.return;t!==null;){var r=t;switch(BT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&w3();break;case 3:s2(),vr(Po),vr(Os),KT();break;case 5:GT(r);break;case 4:s2();break;case 13:vr(Dr);break;case 19:vr(Dr);break;case 10:$T(r.type._context);break;case 22:case 23:sN()}t=t.return}if(Wi=n,mi=n=Af(n.current,null),as=ua=e,Ii=0,Hy=null,nN=Q_=Km=0,Co=hy=null,Ip!==null){for(e=0;e<Ip.length;e++)if(t=Ip[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Ip=null}return n}function eB(n,e){do{var t=mi;try{if(zT(),r4.current=N3,T3){for(var r=jr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}T3=!1}if(Gm=0,qi=Ti=jr=null,uy=!1,zy=0,tN.current=null,t===null||t.return===null){Ii=1,Hy=e,mi=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=as,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=gP(o);if(f!==null){f.flags&=-257,vP(f,o,a,s,e),f.mode&1&&mP(s,c,e),e=f,l=c;var b=e.updateQueue;if(b===null){var w=new Set;w.add(l),e.updateQueue=w}else b.add(l);break e}else{if(!(e&1)){mP(s,c,e),oN();break e}l=Error(qe(426))}}else if(Er&&a.mode&1){var A=gP(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),vP(A,o,a,s,e),UT(o2(l,a));break e}}s=l=o2(l,a),Ii!==4&&(Ii=2),hy===null?hy=[s]:hy.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=OF(s,l,e);cP(s,x);break e;case 1:a=l;var E=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(xf===null||!xf.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=FF(s,a,e);cP(s,T);break e}}s=s.return}while(s!==null)}rB(t)}catch(B){e=B,mi===t&&t!==null&&(mi=t=t.return);continue}break}while(!0)}function tB(){var n=k3.current;return k3.current=N3,n===null?N3:n}function oN(){(Ii===0||Ii===3||Ii===2)&&(Ii=4),Wi===null||!(Km&268435455)&&!(Q_&268435455)||Ah(Wi,as)}function R3(n,e){var t=Tn;Tn|=2;var r=tB();(Wi!==n||as!==e)&&(Lu=null,Vm(n,e));do try{PJ();break}catch(i){eB(n,i)}while(!0);if(zT(),Tn=t,k3.current=r,mi!==null)throw Error(qe(261));return Wi=null,as=0,Ii}function PJ(){for(;mi!==null;)nB(mi)}function RJ(){for(;mi!==null&&!rQ();)nB(mi)}function nB(n){var e=sB(n.alternate,n,ua);n.memoizedProps=n.pendingProps,e===null?rB(n):mi=e,tN.current=null}function rB(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=SJ(t,e),t!==null){t.flags&=32767,mi=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ii=6,mi=null;return}}else if(t=EJ(t,e,ua),t!==null){mi=t;return}if(e=e.sibling,e!==null){mi=e;return}mi=e=n}while(e!==null);Ii===0&&(Ii=5)}function gp(n,e,t){var r=Wn,i=tl.transition;try{tl.transition=null,Wn=1,LJ(n,e,t,r)}finally{tl.transition=i,Wn=r}return null}function LJ(n,e,t,r){do Pg();while(cf!==null);if(Tn&6)throw Error(qe(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(qe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(fQ(n,s),n===Wi&&(mi=Wi=null,as=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||fx||(fx=!0,oB(f3,function(){return Pg(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=tl.transition,tl.transition=null;var o=Wn;Wn=1;var a=Tn;Tn|=4,tN.current=null,TJ(n,t),QF(t,n),ZQ(K8),m3=!!G8,K8=G8=null,n.current=t,NJ(t),iQ(),Tn=a,Wn=o,tl.transition=s}else n.current=t;if(fx&&(fx=!1,cf=n,P3=i),s=n.pendingLanes,s===0&&(xf=null),aQ(t.stateNode),Lo(n,ni()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(I3)throw I3=!1,n=pS,pS=null,n;return P3&1&&n.tag!==0&&Pg(),s=n.pendingLanes,s&1?n===mS?fy++:(fy=0,mS=n):fy=0,Wf(),null}function Pg(){if(cf!==null){var n=OO(P3),e=tl.transition,t=Wn;try{if(tl.transition=null,Wn=16>n?16:n,cf===null)var r=!1;else{if(n=cf,cf=null,P3=0,Tn&6)throw Error(qe(331));var i=Tn;for(Tn|=4,ct=n.current;ct!==null;){var s=ct,o=s.child;if(ct.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ct=c;ct!==null;){var u=ct;switch(u.tag){case 0:case 11:case 15:dy(8,u,s)}var h=u.child;if(h!==null)h.return=u,ct=h;else for(;ct!==null;){u=ct;var p=u.sibling,f=u.return;if(KF(u),u===c){ct=null;break}if(p!==null){p.return=f,ct=p;break}ct=f}}}var b=s.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var A=w.sibling;w.sibling=null,w=A}while(w!==null)}}ct=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ct=o;else e:for(;ct!==null;){if(s=ct,s.flags&2048)switch(s.tag){case 0:case 11:case 15:dy(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ct=x;break e}ct=s.return}}var E=n.current;for(ct=E;ct!==null;){o=ct;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ct=S;else e:for(o=E;ct!==null;){if(a=ct,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:X_(9,a)}}catch(B){Gr(a,a.return,B)}if(a===o){ct=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,ct=T;break e}ct=a.return}}if(Tn=i,Wf(),Xc&&typeof Xc.onPostCommitFiberRoot=="function")try{Xc.onPostCommitFiberRoot(z_,n)}catch{}r=!0}return r}finally{Wn=t,tl.transition=e}}return!1}function IP(n,e,t){e=o2(t,e),e=OF(n,e,1),n=bf(n,e,1),e=Zs(),n!==null&&(Gw(n,1,e),Lo(n,e))}function Gr(n,e,t){if(n.tag===3)IP(n,n,t);else for(;e!==null;){if(e.tag===3){IP(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xf===null||!xf.has(r))){n=o2(t,n),n=FF(e,n,1),e=bf(e,n,1),n=Zs(),e!==null&&(Gw(e,1,n),Lo(e,n));break}}e=e.return}}function MJ(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Zs(),n.pingedLanes|=n.suspendedLanes&t,Wi===n&&(as&t)===t&&(Ii===4||Ii===3&&(as&130023424)===as&&500>ni()-rN?Vm(n,0):nN|=t),Lo(n,e)}function iB(n,e){e===0&&(n.mode&1?(e=rx,rx<<=1,!(rx&130023424)&&(rx=4194304)):e=1);var t=Zs();n=Td(n,e),n!==null&&(Gw(n,e,t),Lo(n,t))}function DJ(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),iB(n,t)}function jJ(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(qe(314))}r!==null&&r.delete(e),iB(n,t)}var sB;sB=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Po.current)No=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return No=!1,AJ(n,e,t);No=!!(n.flags&131072)}else No=!1,Er&&e.flags&1048576&&cF(e,_3,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;s4(n,e),n=e.pendingProps;var i=n2(e,Os.current);Ig(e,t),i=XT(null,e,r,n,i,t);var s=QT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ro(r)?(s=!0,b3(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,HT(e),i.updater=Y_,e.stateNode=i,i._reactInternals=e,rS(e,r,n,t),e=oS(null,e,r,!0,s,t)):(e.tag=0,Er&&s&&FT(e),Ks(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(s4(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=FJ(r),n=xl(r,n),i){case 0:e=sS(null,e,r,n,t);break e;case 1:e=bP(null,e,r,n,t);break e;case 11:e=yP(null,e,r,n,t);break e;case 14:e=wP(null,e,r,xl(r.type,n),t);break e}throw Error(qe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xl(r,i),sS(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xl(r,i),bP(n,e,r,i,t);case 3:e:{if(zF(e),n===null)throw Error(qe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,mF(n,e),S3(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=o2(Error(qe(423)),e),e=xP(n,e,r,t,i);break e}else if(r!==i){i=o2(Error(qe(424)),e),e=xP(n,e,r,t,i);break e}else for(fa=wf(e.stateNode.containerInfo.firstChild),ya=e,Er=!0,Vl=null,t=fF(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(r2(),r===i){e=Nd(n,e,t);break e}Ks(n,e,r,t)}e=e.child}return e;case 5:return gF(e),n===null&&eS(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,Y8(r,i)?o=null:s!==null&&Y8(r,s)&&(e.flags|=32),VF(n,e),Ks(n,e,o,t),e.child;case 6:return n===null&&eS(e),null;case 13:return $F(n,e,t);case 4:return WT(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=i2(e,null,r,t):Ks(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xl(r,i),yP(n,e,r,i,t);case 7:return Ks(n,e,e.pendingProps,t),e.child;case 8:return Ks(n,e,e.pendingProps.children,t),e.child;case 12:return Ks(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ur(A3,r._currentValue),r._currentValue=o,s!==null)if(Kl(s.value,o)){if(s.children===i.children&&!Po.current){e=Nd(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=vd(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),tS(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(qe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),tS(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ks(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ig(e,t),i=il(i),r=r(i),e.flags|=1,Ks(n,e,r,t),e.child;case 14:return r=e.type,i=xl(r,e.pendingProps),i=xl(r.type,i),wP(n,e,r,i,t);case 15:return BF(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xl(r,i),s4(n,e),e.tag=1,Ro(r)?(n=!0,b3(e)):n=!1,Ig(e,t),jF(e,r,i),rS(e,r,i,t),oS(null,e,r,!0,n,t);case 19:return qF(n,e,t);case 22:return UF(n,e,t)}throw Error(qe(156,e.tag))};function oB(n,e){return LO(n,e)}function OJ(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function el(n,e,t,r){return new OJ(n,e,t,r)}function aN(n){return n=n.prototype,!(!n||!n.isReactComponent)}function FJ(n){if(typeof n=="function")return aN(n)?1:0;if(n!=null){if(n=n.$$typeof,n===CT)return 11;if(n===TT)return 14}return 2}function Af(n,e){var t=n.alternate;return t===null?(t=el(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function l4(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")aN(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case hg:return zm(t.children,i,s,e);case ST:o=8,i|=8;break;case T8:return n=el(12,t,e,i|2),n.elementType=T8,n.lanes=s,n;case N8:return n=el(13,t,e,i),n.elementType=N8,n.lanes=s,n;case k8:return n=el(19,t,e,i),n.elementType=k8,n.lanes=s,n;case gO:return J_(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case pO:o=10;break e;case mO:o=9;break e;case CT:o=11;break e;case TT:o=14;break e;case bh:o=16,r=null;break e}throw Error(qe(130,n==null?n:typeof n,""))}return e=el(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function zm(n,e,t,r){return n=el(7,n,r,e),n.lanes=t,n}function J_(n,e,t,r){return n=el(22,n,r,e),n.elementType=gO,n.lanes=t,n.stateNode={isHidden:!1},n}function eE(n,e,t){return n=el(6,n,null,e),n.lanes=t,n}function tE(n,e,t){return e=el(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function BJ(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=DA(0),this.expirationTimes=DA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=DA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lN(n,e,t,r,i,s,o,a,l){return n=new BJ(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=el(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},HT(s),n}function UJ(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dg,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function aB(n){if(!n)return Lf;n=n._reactInternals;e:{if(y1(n)!==n||n.tag!==1)throw Error(qe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ro(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(qe(171))}if(n.tag===1){var t=n.type;if(Ro(t))return aF(n,t,e)}return e}function lB(n,e,t,r,i,s,o,a,l){return n=lN(t,r,!0,n,i,s,o,a,l),n.context=aB(null),t=n.current,r=Zs(),i=_f(t),s=vd(r,i),s.callback=e??null,bf(t,s,i),n.current.lanes=i,Gw(n,i,r),Lo(n,r),n}function Z_(n,e,t,r){var i=e.current,s=Zs(),o=_f(i);return t=aB(t),e.context===null?e.context=t:e.pendingContext=t,e=vd(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=bf(i,e,o),n!==null&&(Wl(n,i,o,s),n4(n,i,o)),o}function L3(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function PP(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function cN(n,e){PP(n,e),(n=n.alternate)&&PP(n,e)}function VJ(){return null}var cB=typeof reportError=="function"?reportError:function(n){console.error(n)};function uN(n){this._internalRoot=n}e6.prototype.render=uN.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(qe(409));Z_(n,e,null,null)};e6.prototype.unmount=uN.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ym(function(){Z_(null,n,null,null)}),e[Cd]=null}};function e6(n){this._internalRoot=n}e6.prototype.unstable_scheduleHydration=function(n){if(n){var e=UO();n={blockedOn:null,target:n,priority:e};for(var t=0;t<_h.length&&e!==0&&e<_h[t].priority;t++);_h.splice(t,0,n),t===0&&zO(n)}};function dN(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function t6(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function RP(){}function zJ(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=L3(o);s.call(c)}}var o=lB(e,r,n,0,null,!1,!1,"",RP);return n._reactRootContainer=o,n[Cd]=o.current,Oy(n.nodeType===8?n.parentNode:n),Ym(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=L3(l);a.call(c)}}var l=lN(n,0,!1,null,null,!1,!1,"",RP);return n._reactRootContainer=l,n[Cd]=l.current,Oy(n.nodeType===8?n.parentNode:n),Ym(function(){Z_(e,l,t,r)}),l}function n6(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=L3(o);a.call(l)}}Z_(e,o,n,i)}else o=zJ(t,e,n,i,r);return L3(o)}FO=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Rv(e.pendingLanes);t!==0&&(IT(e,t|1),Lo(e,ni()),!(Tn&6)&&(a2=ni()+500,Wf()))}break;case 13:Ym(function(){var r=Td(n,1);if(r!==null){var i=Zs();Wl(r,n,1,i)}}),cN(n,1)}};PT=function(n){if(n.tag===13){var e=Td(n,134217728);if(e!==null){var t=Zs();Wl(e,n,134217728,t)}cN(n,134217728)}};BO=function(n){if(n.tag===13){var e=_f(n),t=Td(n,e);if(t!==null){var r=Zs();Wl(t,n,e,r)}cN(n,e)}};UO=function(){return Wn};VO=function(n,e){var t=Wn;try{return Wn=n,e()}finally{Wn=t}};B8=function(n,e,t){switch(e){case"input":if(R8(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=W_(r);if(!i)throw Error(qe(90));yO(r),R8(r,i)}}}break;case"textarea":bO(n,t);break;case"select":e=t.value,e!=null&&Cg(n,!!t.multiple,e,!1)}};TO=iN;NO=Ym;var $J={usingClientEntryPoint:!1,Events:[Yw,gg,W_,SO,CO,iN]},wv={findFiberByHostInstance:kp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qJ={bundleType:wv.bundleType,version:wv.version,rendererPackageName:wv.rendererPackageName,rendererConfig:wv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bd.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=PO(n),n===null?null:n.stateNode},findFiberByHostInstance:wv.findFiberByHostInstance||VJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var px=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!px.isDisabled&&px.supportsFiber)try{z_=px.inject(qJ),Xc=px}catch{}}Ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$J;Ea.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dN(e))throw Error(qe(200));return UJ(n,e,null,t)};Ea.createRoot=function(n,e){if(!dN(n))throw Error(qe(299));var t=!1,r="",i=cB;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=lN(n,1,!1,null,null,t,!1,r,i),n[Cd]=e.current,Oy(n.nodeType===8?n.parentNode:n),new uN(e)};Ea.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(qe(188)):(n=Object.keys(n).join(","),Error(qe(268,n)));return n=PO(e),n=n===null?null:n.stateNode,n};Ea.flushSync=function(n){return Ym(n)};Ea.hydrate=function(n,e,t){if(!t6(e))throw Error(qe(200));return n6(null,n,e,!0,t)};Ea.hydrateRoot=function(n,e,t){if(!dN(n))throw Error(qe(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=cB;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=lB(e,null,n,1,t??null,i,!1,s,o),n[Cd]=e.current,Oy(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new e6(e)};Ea.render=function(n,e,t){if(!t6(e))throw Error(qe(200));return n6(null,n,e,!1,t)};Ea.unmountComponentAtNode=function(n){if(!t6(n))throw Error(qe(40));return n._reactRootContainer?(Ym(function(){n6(null,null,n,!1,function(){n._reactRootContainer=null,n[Cd]=null})}),!0):!1};Ea.unstable_batchedUpdates=iN;Ea.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!t6(t))throw Error(qe(200));if(n==null||n._reactInternals===void 0)throw Error(qe(38));return n6(n,e,t,!1,r)};Ea.version="18.3.1-next-f1338f8080-20240426";function uB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uB)}catch(n){console.error(n)}}uB(),uO.exports=Ea;var Qw=uO.exports;const dB=C2(Qw);var hB,LP=Qw;hB=LP.createRoot,LP.hydrateRoot;const HJ=1,WJ=1e6;let nE=0;function GJ(){return nE=(nE+1)%Number.MAX_SAFE_INTEGER,nE.toString()}const rE=new Map,MP=n=>{if(rE.has(n))return;const e=setTimeout(()=>{rE.delete(n),py({type:"REMOVE_TOAST",toastId:n})},WJ);rE.set(n,e)},KJ=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,HJ)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?MP(t):n.toasts.forEach(r=>{MP(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},c4=[];let u4={toasts:[]};function py(n){u4=KJ(u4,n),c4.forEach(e=>{e(u4)})}function YJ({...n}){const e=GJ(),t=i=>py({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>py({type:"DISMISS_TOAST",toastId:e});return py({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function XJ(){const[n,e]=D.useState(u4);return D.useEffect(()=>(c4.push(e),()=>{const t=c4.indexOf(e);t>-1&&c4.splice(t,1)}),[n]),{...n,toast:YJ,dismiss:t=>py({type:"DISMISS_TOAST",toastId:t})}}function Dt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function DP(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function r6(...n){return e=>{let t=!1;const r=n.map(i=>{const s=DP(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():DP(n[i],null)}}}}function Gi(...n){return D.useCallback(r6(...n),n)}function w1(n,e=[]){let t=[];function r(s,o){const a=D.createContext(o),l=t.length;t=[...t,o];const c=h=>{var x;const{scope:p,children:f,...b}=h,w=((x=p==null?void 0:p[n])==null?void 0:x[l])||a,A=D.useMemo(()=>b,Object.values(b));return d.jsx(w.Provider,{value:A,children:f})};c.displayName=s+"Provider";function u(h,p){var w;const f=((w=p==null?void 0:p[n])==null?void 0:w[l])||a,b=D.useContext(f);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=t.map(o=>D.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return D.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,QJ(i,...e)]}function QJ(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return D.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Wy(n){const e=ZJ(n),t=D.forwardRef((r,i)=>{const{children:s,...o}=r,a=D.Children.toArray(s),l=a.find(tZ);if(l){const c=l.props.children,u=a.map(h=>h===l?D.Children.count(c)>1?D.Children.only(null):D.isValidElement(c)?c.props.children:null:h);return d.jsx(e,{...o,ref:i,children:D.isValidElement(c)?D.cloneElement(c,void 0,u):null})}return d.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var JJ=Wy("Slot");function ZJ(n){const e=D.forwardRef((t,r)=>{const{children:i,...s}=t;if(D.isValidElement(i)){const o=rZ(i),a=nZ(s,i.props);return i.type!==D.Fragment&&(a.ref=r?r6(r,o):o),D.cloneElement(i,a)}return D.Children.count(i)>1?D.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var fB=Symbol("radix.slottable");function eZ(n){const e=({children:t})=>d.jsx(d.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=fB,e}function tZ(n){return D.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===fB}function nZ(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function rZ(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function hN(n){const e=n+"CollectionProvider",[t,r]=w1(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:A,children:x}=w,E=We.useRef(null),S=We.useRef(new Map).current;return d.jsx(i,{scope:A,itemMap:S,collectionRef:E,children:x})};o.displayName=e;const a=n+"CollectionSlot",l=Wy(a),c=We.forwardRef((w,A)=>{const{scope:x,children:E}=w,S=s(a,x),T=Gi(A,S.collectionRef);return d.jsx(l,{ref:T,children:E})});c.displayName=a;const u=n+"CollectionItemSlot",h="data-radix-collection-item",p=Wy(u),f=We.forwardRef((w,A)=>{const{scope:x,children:E,...S}=w,T=We.useRef(null),B=Gi(A,T),V=s(u,x);return We.useEffect(()=>(V.itemMap.set(T,{ref:T,...S}),()=>void V.itemMap.delete(T))),d.jsx(p,{[h]:"",ref:B,children:E})});f.displayName=u;function b(w){const A=s(n+"CollectionConsumer",w);return We.useCallback(()=>{const E=A.collectionRef.current;if(!E)return[];const S=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(A.itemMap.values()).sort((V,M)=>S.indexOf(V.ref.current)-S.indexOf(M.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},b,r]}var iZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yr=iZ.reduce((n,e)=>{const t=Wy(`Primitive.${e}`),r=D.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function fN(n,e){n&&Qw.flushSync(()=>n.dispatchEvent(e))}function Aa(n){const e=D.useRef(n);return D.useEffect(()=>{e.current=n}),D.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function sZ(n,e=globalThis==null?void 0:globalThis.document){const t=Aa(n);D.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var oZ="DismissableLayer",yS="dismissableLayer.update",aZ="dismissableLayer.pointerDownOutside",lZ="dismissableLayer.focusOutside",jP,pB=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),i6=D.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=D.useContext(pB),[u,h]=D.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=D.useState({}),b=Gi(e,M=>h(M)),w=Array.from(c.layers),[A]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=w.indexOf(A),E=u?w.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,T=E>=x,B=uZ(M=>{const N=M.target,P=[...c.branches].some(O=>O.contains(N));!T||P||(i==null||i(M),o==null||o(M),M.defaultPrevented||a==null||a())},p),V=dZ(M=>{const N=M.target;[...c.branches].some(O=>O.contains(N))||(s==null||s(M),o==null||o(M),M.defaultPrevented||a==null||a())},p);return sZ(M=>{E===c.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},p),D.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(jP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),OP(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=jP)}},[u,p,t,c]),D.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),OP())},[u,c]),D.useEffect(()=>{const M=()=>f({});return document.addEventListener(yS,M),()=>document.removeEventListener(yS,M)},[]),d.jsx(yr.div,{...l,ref:b,style:{pointerEvents:S?T?"auto":"none":void 0,...n.style},onFocusCapture:Dt(n.onFocusCapture,V.onFocusCapture),onBlurCapture:Dt(n.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Dt(n.onPointerDownCapture,B.onPointerDownCapture)})});i6.displayName=oZ;var cZ="DismissableLayerBranch",mB=D.forwardRef((n,e)=>{const t=D.useContext(pB),r=D.useRef(null),i=Gi(e,r);return D.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),d.jsx(yr.div,{...n,ref:i})});mB.displayName=cZ;function uZ(n,e=globalThis==null?void 0:globalThis.document){const t=Aa(n),r=D.useRef(!1),i=D.useRef(()=>{});return D.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){gB(aZ,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function dZ(n,e=globalThis==null?void 0:globalThis.document){const t=Aa(n),r=D.useRef(!1);return D.useEffect(()=>{const i=s=>{s.target&&!r.current&&gB(lZ,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function OP(){const n=new CustomEvent(yS);document.dispatchEvent(n)}function gB(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?fN(i,s):i.dispatchEvent(s)}var hZ=i6,fZ=mB,kd=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},pZ="Portal",pN=D.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=D.useState(!1);kd(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?dB.createPortal(d.jsx(yr.div,{...r,ref:e}),o):null});pN.displayName=pZ;function mZ(n,e){return D.useReducer((t,r)=>e[t][r]??t,n)}var b1=n=>{const{present:e,children:t}=n,r=gZ(e),i=typeof t=="function"?t({present:r.isPresent}):D.Children.only(t),s=Gi(r.ref,vZ(i));return typeof t=="function"||r.isPresent?D.cloneElement(i,{ref:s}):null};b1.displayName="Presence";function gZ(n){const[e,t]=D.useState(),r=D.useRef(null),i=D.useRef(n),s=D.useRef("none"),o=n?"mounted":"unmounted",[a,l]=mZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const c=mx(r.current);s.current=a==="mounted"?c:"none"},[a]),kd(()=>{const c=r.current,u=i.current;if(u!==n){const p=s.current,f=mx(c);n?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),kd(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=f=>{const w=mx(r.current).includes(f.animationName);if(f.target===e&&w&&(l("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},p=f=>{f.target===e&&(s.current=mx(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:D.useCallback(c=>{r.current=c?getComputedStyle(c):null,t(c)},[])}}function mx(n){return(n==null?void 0:n.animationName)||"none"}function vZ(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var yZ=xT[" useInsertionEffect ".trim().toString()]||kd;function mN({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,o]=wZ({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:i;{const u=D.useRef(n!==void 0);D.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=D.useCallback(u=>{var h;if(a){const p=bZ(u)?u(n):u;p!==n&&((h=o.current)==null||h.call(o,p))}else s(u)},[a,n,s,o]);return[l,c]}function wZ({defaultProp:n,onChange:e}){const[t,r]=D.useState(n),i=D.useRef(t),s=D.useRef(e);return yZ(()=>{s.current=e},[e]),D.useEffect(()=>{var o;i.current!==t&&((o=s.current)==null||o.call(s,t),i.current=t)},[t,i]),[t,r,s]}function bZ(n){return typeof n=="function"}var xZ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_Z="VisuallyHidden",s6=D.forwardRef((n,e)=>d.jsx(yr.span,{...n,ref:e,style:{...xZ,...n.style}}));s6.displayName=_Z;var AZ=s6,gN="ToastProvider",[vN,EZ,SZ]=hN("Toast"),[vB,B4e]=w1("Toast",[SZ]),[CZ,o6]=vB(gN),yB=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=n,[a,l]=D.useState(null),[c,u]=D.useState(0),h=D.useRef(!1),p=D.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${gN}\`. Expected non-empty \`string\`.`),d.jsx(vN.Provider,{scope:e,children:d.jsx(CZ,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:D.useCallback(()=>u(f=>f+1),[]),onToastRemove:D.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};yB.displayName=gN;var wB="ToastViewport",TZ=["F8"],wS="toast.viewportPause",bS="toast.viewportResume",bB=D.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=TZ,label:i="Notifications ({hotkey})",...s}=n,o=o6(wB,t),a=EZ(t),l=D.useRef(null),c=D.useRef(null),u=D.useRef(null),h=D.useRef(null),p=Gi(e,h,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;D.useEffect(()=>{const A=x=>{var S;r.length!==0&&r.every(T=>x[T]||x.code===T)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[r]),D.useEffect(()=>{const A=l.current,x=h.current;if(b&&A&&x){const E=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(wS);x.dispatchEvent(V),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(bS);x.dispatchEvent(V),o.isClosePausedRef.current=!1}},T=V=>{!A.contains(V.relatedTarget)&&S()},B=()=>{A.contains(document.activeElement)||S()};return A.addEventListener("focusin",E),A.addEventListener("focusout",T),A.addEventListener("pointermove",E),A.addEventListener("pointerleave",B),window.addEventListener("blur",E),window.addEventListener("focus",S),()=>{A.removeEventListener("focusin",E),A.removeEventListener("focusout",T),A.removeEventListener("pointermove",E),A.removeEventListener("pointerleave",B),window.removeEventListener("blur",E),window.removeEventListener("focus",S)}}},[b,o.isClosePausedRef]);const w=D.useCallback(({tabbingDirection:A})=>{const E=a().map(S=>{const T=S.ref.current,B=[T,...UZ(T)];return A==="forwards"?B:B.reverse()});return(A==="forwards"?E.reverse():E).flat()},[a]);return D.useEffect(()=>{const A=h.current;if(A){const x=E=>{var B,V,M;const S=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!S){const N=document.activeElement,P=E.shiftKey;if(E.target===A&&P){(B=c.current)==null||B.focus();return}const j=w({tabbingDirection:P?"backwards":"forwards"}),L=j.findIndex(W=>W===N);iE(j.slice(L+1))?E.preventDefault():P?(V=c.current)==null||V.focus():(M=u.current)==null||M.focus()}};return A.addEventListener("keydown",x),()=>A.removeEventListener("keydown",x)}},[a,w]),d.jsxs(fZ,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&d.jsx(xS,{ref:c,onFocusFromOutsideViewport:()=>{const A=w({tabbingDirection:"forwards"});iE(A)}}),d.jsx(vN.Slot,{scope:t,children:d.jsx(yr.ol,{tabIndex:-1,...s,ref:p})}),b&&d.jsx(xS,{ref:u,onFocusFromOutsideViewport:()=>{const A=w({tabbingDirection:"backwards"});iE(A)}})]})});bB.displayName=wB;var xB="ToastFocusProxy",xS=D.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=o6(xB,t);return d.jsx(s6,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});xS.displayName=xB;var Jw="Toast",NZ="toast.swipeStart",kZ="toast.swipeMove",IZ="toast.swipeCancel",PZ="toast.swipeEnd",_B=D.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...o}=n,[a,l]=mN({prop:r,defaultProp:i??!0,onChange:s,caller:Jw});return d.jsx(b1,{present:t||a,children:d.jsx(MZ,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Aa(n.onPause),onResume:Aa(n.onResume),onSwipeStart:Dt(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Dt(n.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Dt(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Dt(n.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});_B.displayName=Jw;var[RZ,LZ]=vB(Jw,{onClose(){}}),MZ=D.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...b}=n,w=o6(Jw,t),[A,x]=D.useState(null),E=Gi(e,W=>x(W)),S=D.useRef(null),T=D.useRef(null),B=i||w.duration,V=D.useRef(0),M=D.useRef(B),N=D.useRef(0),{onToastAdd:P,onToastRemove:O}=w,k=Aa(()=>{var ue;(A==null?void 0:A.contains(document.activeElement))&&((ue=w.viewport)==null||ue.focus()),o()}),j=D.useCallback(W=>{!W||W===1/0||(window.clearTimeout(N.current),V.current=new Date().getTime(),N.current=window.setTimeout(k,W))},[k]);D.useEffect(()=>{const W=w.viewport;if(W){const ue=()=>{j(M.current),c==null||c()},de=()=>{const le=new Date().getTime()-V.current;M.current=M.current-le,window.clearTimeout(N.current),l==null||l()};return W.addEventListener(wS,de),W.addEventListener(bS,ue),()=>{W.removeEventListener(wS,de),W.removeEventListener(bS,ue)}}},[w.viewport,B,l,c,j]),D.useEffect(()=>{s&&!w.isClosePausedRef.current&&j(B)},[s,B,w.isClosePausedRef,j]),D.useEffect(()=>(P(),()=>O()),[P,O]);const L=D.useMemo(()=>A?kB(A):null,[A]);return w.viewport?d.jsxs(d.Fragment,{children:[L&&d.jsx(DZ,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),d.jsx(RZ,{scope:t,onClose:k,children:Qw.createPortal(d.jsx(vN.ItemSlot,{scope:t,children:d.jsx(hZ,{asChild:!0,onEscapeKeyDown:Dt(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||k(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(yr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":w.swipeDirection,...b,ref:E,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Dt(n.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Dt(n.onPointerDown,W=>{W.button===0&&(S.current={x:W.clientX,y:W.clientY})}),onPointerMove:Dt(n.onPointerMove,W=>{if(!S.current)return;const ue=W.clientX-S.current.x,de=W.clientY-S.current.y,le=!!T.current,J=["left","right"].includes(w.swipeDirection),re=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,ge=J?re(0,ue):0,ye=J?0:re(0,de),z=W.pointerType==="touch"?10:2,Q={x:ge,y:ye},ie={originalEvent:W,delta:Q};le?(T.current=Q,gx(kZ,h,ie,{discrete:!1})):FP(Q,w.swipeDirection,z)?(T.current=Q,gx(NZ,u,ie,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ue)>z||Math.abs(de)>z)&&(S.current=null)}),onPointerUp:Dt(n.onPointerUp,W=>{const ue=T.current,de=W.target;if(de.hasPointerCapture(W.pointerId)&&de.releasePointerCapture(W.pointerId),T.current=null,S.current=null,ue){const le=W.currentTarget,J={originalEvent:W,delta:ue};FP(ue,w.swipeDirection,w.swipeThreshold)?gx(PZ,f,J,{discrete:!0}):gx(IZ,p,J,{discrete:!0}),le.addEventListener("click",re=>re.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),DZ=n=>{const{__scopeToast:e,children:t,...r}=n,i=o6(Jw,e),[s,o]=D.useState(!1),[a,l]=D.useState(!1);return FZ(()=>o(!0)),D.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(pN,{asChild:!0,children:d.jsx(s6,{...r,children:s&&d.jsxs(d.Fragment,{children:[i.label," ",t]})})})},jZ="ToastTitle",AB=D.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return d.jsx(yr.div,{...r,ref:e})});AB.displayName=jZ;var OZ="ToastDescription",EB=D.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return d.jsx(yr.div,{...r,ref:e})});EB.displayName=OZ;var SB="ToastAction",CB=D.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?d.jsx(NB,{altText:t,asChild:!0,children:d.jsx(yN,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${SB}\`. Expected non-empty \`string\`.`),null)});CB.displayName=SB;var TB="ToastClose",yN=D.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=LZ(TB,t);return d.jsx(NB,{asChild:!0,children:d.jsx(yr.button,{type:"button",...r,ref:e,onClick:Dt(n.onClick,i.onClose)})})});yN.displayName=TB;var NB=D.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return d.jsx(yr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function kB(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),BZ(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...kB(r))}}),e}function gx(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?fN(i,s):i.dispatchEvent(s)}var FP=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function FZ(n=()=>{}){const e=Aa(n);kd(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function BZ(n){return n.nodeType===n.ELEMENT_NODE}function UZ(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function iE(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var VZ=yB,IB=bB,PB=_B,RB=AB,LB=EB,MB=CB,DB=yN;function jB(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=jB(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function I2(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=jB(n))&&(r&&(r+=" "),r+=e);return r}const BP=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,UP=I2,wN=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return UP(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=t==null?void 0:t[c],h=s==null?void 0:s[c];if(u===null)return null;const p=BP(u)||BP(h);return i[c][p]}),a=t&&Object.entries(t).reduce((c,u)=>{let[h,p]=u;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:p,...f}=u;return Object.entries(f).every(b=>{let[w,A]=b;return Array.isArray(A)?A.includes({...s,...a}[w]):{...s,...a}[w]===A})?[...c,h,p]:c},[]);return UP(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OB=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $Z={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>D.createElement("svg",{ref:l,...$Z,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:OB("lucide",i),...a},[...o.map(([c,u])=>D.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=(n,e)=>{const t=D.forwardRef(({className:r,...i},s)=>D.createElement(qZ,{ref:s,iconNode:e,className:OB(`lucide-${zZ(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=bt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=bt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=bt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=bt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=bt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=bt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=bt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=bt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=bt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=bt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=bt("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=bt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=bt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=bt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=bt("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=bt("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=bt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=bt("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=bt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=bt("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=bt("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=bt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=bt("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=bt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=bt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=bt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=bt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=bt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=bt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=bt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=bt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=bt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=bt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=bt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=bt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=bt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=bt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=bt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=bt("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=bt("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=bt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=bt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=bt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=bt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=bt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=bt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=bt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=bt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=bt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=bt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=bt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=bt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=bt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=bt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=bt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=bt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=bt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=bt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),_N="-",vee=n=>{const e=wee(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(_N);return a[0]===""&&a.length!==1&&a.shift(),GB(a,e)||yee(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},GB=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?GB(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(_N);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},HP=/^\[(.+)\]$/,yee=n=>{if(HP.test(n)){const e=HP.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},wee=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return xee(Object.entries(n.classGroups),t).forEach(([s,o])=>{SS(o,r,s,e)}),r},SS=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:WP(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(bee(i)){SS(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{SS(o,WP(e,s),t,r)})})},WP=(n,e)=>{let t=n;return e.split(_N).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},bee=n=>n.isThemeGetter,xee=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):n,_ee=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},KB="!",Aee=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let A=0;A<a.length;A++){let x=a[A];if(c===0){if(x===i&&(r||a.slice(A,A+s)===e)){l.push(a.slice(u,A)),u=A+s;continue}if(x==="/"){h=A;continue}}x==="["?c++:x==="]"&&c--}const p=l.length===0?a:a.substring(u),f=p.startsWith(KB),b=f?p.substring(1):p,w=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:b,maybePostfixModifierPosition:w}};return t?a=>t({className:a,parseClassName:o}):o},Eee=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},See=n=>({cache:_ee(n.cacheSize),parseClassName:Aee(n),...vee(n)}),Cee=/\s+/,Tee=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=n.trim().split(Cee);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=t(c);let b=!!f,w=r(b?p.substring(0,f):p);if(!w){if(!b){a=c+(a.length>0?" "+a:a);continue}if(w=r(p),!w){a=c+(a.length>0?" "+a:a);continue}b=!1}const A=Eee(u).join(":"),x=h?A+KB:A,E=x+w;if(s.includes(E))continue;s.push(E);const S=i(w,b);for(let T=0;T<S.length;++T){const B=S[T];s.push(x+B)}a=c+(a.length>0?" "+a:a)}return a};function Nee(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=YB(e))&&(r&&(r+=" "),r+=t);return r}const YB=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=YB(n[r]))&&(t&&(t+=" "),t+=e);return t};function kee(n,...e){let t,r,i,s=o;function o(l){const c=e.reduce((u,h)=>h(u),n());return t=See(c),r=t.cache.get,i=t.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=Tee(l,t);return i(l,u),u}return function(){return s(Nee.apply(null,arguments))}}const hr=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},XB=/^\[(?:([a-z-]+):)?(.+)\]$/i,Iee=/^\d+\/\d+$/,Pee=new Set(["px","full","screen"]),Ree=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Lee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Mee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Dee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cu=n=>Rg(n)||Pee.has(n)||Iee.test(n),dh=n=>P2(n,"length",qee),Rg=n=>!!n&&!Number.isNaN(Number(n)),sE=n=>P2(n,"number",Rg),bv=n=>!!n&&Number.isInteger(Number(n)),Oee=n=>n.endsWith("%")&&Rg(n.slice(0,-1)),nn=n=>XB.test(n),hh=n=>Ree.test(n),Fee=new Set(["length","size","percentage"]),Bee=n=>P2(n,Fee,QB),Uee=n=>P2(n,"position",QB),Vee=new Set(["image","url"]),zee=n=>P2(n,Vee,Wee),$ee=n=>P2(n,"",Hee),xv=()=>!0,P2=(n,e,t)=>{const r=XB.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},qee=n=>Lee.test(n)&&!Mee.test(n),QB=()=>!1,Hee=n=>Dee.test(n),Wee=n=>jee.test(n),Gee=()=>{const n=hr("colors"),e=hr("spacing"),t=hr("blur"),r=hr("brightness"),i=hr("borderColor"),s=hr("borderRadius"),o=hr("borderSpacing"),a=hr("borderWidth"),l=hr("contrast"),c=hr("grayscale"),u=hr("hueRotate"),h=hr("invert"),p=hr("gap"),f=hr("gradientColorStops"),b=hr("gradientColorStopPositions"),w=hr("inset"),A=hr("margin"),x=hr("opacity"),E=hr("padding"),S=hr("saturate"),T=hr("scale"),B=hr("sepia"),V=hr("skew"),M=hr("space"),N=hr("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",nn,e],j=()=>[nn,e],L=()=>["",Cu,dh],W=()=>["auto",Rg,nn],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],de=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",nn],ge=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ye=()=>[Rg,nn];return{cacheSize:500,separator:":",theme:{colors:[xv],spacing:[Cu,dh],blur:["none","",hh,nn],brightness:ye(),borderColor:[n],borderRadius:["none","","full",hh,nn],borderSpacing:j(),borderWidth:L(),contrast:ye(),grayscale:re(),hueRotate:ye(),invert:re(),gap:j(),gradientColorStops:[n],gradientColorStopPositions:[Oee,dh],inset:k(),margin:k(),opacity:ye(),padding:j(),saturate:ye(),scale:ye(),sepia:re(),skew:ye(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",nn]}],container:["container"],columns:[{columns:[hh]}],"break-after":[{"break-after":ge()}],"break-before":[{"break-before":ge()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),nn]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bv,nn]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nn]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",bv,nn]}],"grid-cols":[{"grid-cols":[xv]}],"col-start-end":[{col:["auto",{span:["full",bv,nn]},nn]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[xv]}],"row-start-end":[{row:["auto",{span:[bv,nn]},nn]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nn]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nn,e]}],"min-w":[{"min-w":[nn,e,"min","max","fit"]}],"max-w":[{"max-w":[nn,e,"none","full","min","max","fit","prose",{screen:[hh]},hh]}],h:[{h:[nn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",hh,dh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sE]}],"font-family":[{font:[xv]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nn]}],"line-clamp":[{"line-clamp":["none",Rg,sE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cu,nn]}],"list-image":[{"list-image":["none",nn]}],"list-style-type":[{list:["none","disc","decimal",nn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cu,dh]}],"underline-offset":[{"underline-offset":["auto",Cu,nn]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),Uee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Bee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zee]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...de(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:de()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...de()]}],"outline-offset":[{"outline-offset":[Cu,nn]}],"outline-w":[{outline:[Cu,dh]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Cu,dh]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",hh,$ee]}],"shadow-color":[{shadow:[xv]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",hh,nn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nn]}],duration:[{duration:ye()}],ease:[{ease:["linear","in","out","in-out",nn]}],delay:[{delay:ye()}],animate:[{animate:["none","spin","ping","pulse","bounce",nn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[bv,nn]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nn]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nn]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nn]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Cu,dh,sE]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Kee=kee(Gee);function wr(...n){return Kee(I2(n))}const Yee=VZ,JB=D.forwardRef(({className:n,...e},t)=>d.jsx(IB,{ref:t,className:wr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));JB.displayName=IB.displayName;const Xee=wN("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ZB=D.forwardRef(({className:n,variant:e,...t},r)=>d.jsx(PB,{ref:r,className:wr(Xee({variant:e}),n),...t}));ZB.displayName=PB.displayName;const Qee=D.forwardRef(({className:n,...e},t)=>d.jsx(MB,{ref:t,className:wr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...e}));Qee.displayName=MB.displayName;const eU=D.forwardRef(({className:n,...e},t)=>d.jsx(DB,{ref:t,className:wr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:d.jsx(Xa,{className:"h-4 w-4"})}));eU.displayName=DB.displayName;const tU=D.forwardRef(({className:n,...e},t)=>d.jsx(RB,{ref:t,className:wr("text-sm font-semibold",n),...e}));tU.displayName=RB.displayName;const nU=D.forwardRef(({className:n,...e},t)=>d.jsx(LB,{ref:t,className:wr("text-sm opacity-90",n),...e}));nU.displayName=LB.displayName;function Jee(){const{toasts:n}=XJ();return d.jsxs(Yee,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return d.jsxs(ZB,{...s,children:[d.jsxs("div",{className:"grid gap-1",children:[t&&d.jsx(tU,{children:t}),r&&d.jsx(nU,{children:r})]}),i,d.jsx(eU,{})]},e)}),d.jsx(JB,{})]})}var GP=["light","dark"],Zee="(prefers-color-scheme: dark)",ete=D.createContext(void 0),tte={setTheme:n=>{},themes:[]},nte=()=>{var n;return(n=D.useContext(ete))!=null?n:tte};D.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=i?GP.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,w=!1,A=!0)=>{let x=o?o[b]:b,E=w?b+"|| ''":`'${x}'`,S="";return i&&A&&!w&&GP.includes(b)&&(S+=`d.style.colorScheme = '${b}';`),t==="class"?w||x?S+=`c.add(${E})`:S+="null":x&&(S+=`d[s](n,${E})`),S},f=n?`!function(){${u}${p(n)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Zee}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(s,!1,!1)};}${h}}catch(t){}}();`;return D.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var rte=n=>{switch(n){case"success":return ote;case"info":return lte;case"warning":return ate;case"error":return cte;default:return null}},ite=Array(12).fill(0),ste=({visible:n,className:e})=>We.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},We.createElement("div",{className:"sonner-spinner"},ite.map((t,r)=>We.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ote=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ate=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lte=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),cte=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ute=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},We.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),We.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),dte=()=>{let[n,e]=We.useState(document.hidden);return We.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},CS=1,hte=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:CS++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,o,a=i.then(async c=>{if(o=["resolve",c],We.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(pte(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,h=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:h})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:h})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:h})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||CS++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},_o=new hte,fte=(n,e)=>{let t=(e==null?void 0:e.id)||CS++;return _o.addToast({title:n,...e,id:t}),t},pte=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",mte=fte,gte=()=>_o.toasts,vte=()=>_o.getActiveToasts(),xt=Object.assign(mte,{success:_o.success,info:_o.info,warning:_o.warning,error:_o.error,custom:_o.custom,message:_o.message,promise:_o.promise,dismiss:_o.dismiss,loading:_o.loading},{getHistory:gte,getToasts:vte});function yte(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}yte(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function vx(n){return n.label!==void 0}var wte=3,bte="32px",xte="16px",KP=4e3,_te=356,Ate=14,Ete=20,Ste=200;function yl(...n){return n.filter(Boolean).join(" ")}function Cte(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var Tte=n=>{var e,t,r,i,s,o,a,l,c,u,h;let{invert:p,toast:f,unstyled:b,interacting:w,setHeights:A,visibleToasts:x,heights:E,index:S,toasts:T,expanded:B,removeToast:V,defaultRichColors:M,closeButton:N,style:P,cancelButtonStyle:O,actionButtonStyle:k,className:j="",descriptionClassName:L="",duration:W,position:ue,gap:de,loadingIcon:le,expandByDefault:J,classNames:re,icons:ge,closeButtonAriaLabel:ye="Close toast",pauseWhenPageIsHidden:z}=n,[Q,ie]=We.useState(null),[ce,fe]=We.useState(null),[he,Ee]=We.useState(!1),[xe,Ae]=We.useState(!1),[Fe,Ce]=We.useState(!1),[Ne,De]=We.useState(!1),[Z,Oe]=We.useState(!1),[at,Ye]=We.useState(0),[Re,rt]=We.useState(0),Ie=We.useRef(f.duration||W||KP),He=We.useRef(null),Ke=We.useRef(null),Xt=S===0,Ut=S+1<=x,tt=f.type,ut=f.dismissible!==!1,Ft=f.className||"",st=f.descriptionClassName||"",Nt=We.useMemo(()=>E.findIndex(kt=>kt.toastId===f.id)||0,[E,f.id]),vt=We.useMemo(()=>{var kt;return(kt=f.closeButton)!=null?kt:N},[f.closeButton,N]),Dn=We.useMemo(()=>f.duration||W||KP,[f.duration,W]),sn=We.useRef(0),jt=We.useRef(0),Vt=We.useRef(0),Sn=We.useRef(null),[Et,Nn]=ue.split("-"),Ct=We.useMemo(()=>E.reduce((kt,Mt,dn)=>dn>=Nt?kt:kt+Mt.height,0),[E,Nt]),Ot=dte(),kn=f.invert||p,zt=tt==="loading";jt.current=We.useMemo(()=>Nt*de+Ct,[Nt,Ct]),We.useEffect(()=>{Ie.current=Dn},[Dn]),We.useEffect(()=>{Ee(!0)},[]),We.useEffect(()=>{let kt=Ke.current;if(kt){let Mt=kt.getBoundingClientRect().height;return rt(Mt),A(dn=>[{toastId:f.id,height:Mt,position:f.position},...dn]),()=>A(dn=>dn.filter(Kn=>Kn.toastId!==f.id))}},[A,f.id]),We.useLayoutEffect(()=>{if(!he)return;let kt=Ke.current,Mt=kt.style.height;kt.style.height="auto";let dn=kt.getBoundingClientRect().height;kt.style.height=Mt,rt(dn),A(Kn=>Kn.find(dt=>dt.toastId===f.id)?Kn.map(dt=>dt.toastId===f.id?{...dt,height:dn}:dt):[{toastId:f.id,height:dn,position:f.position},...Kn])},[he,f.title,f.description,A,f.id]);let pt=We.useCallback(()=>{Ae(!0),Ye(jt.current),A(kt=>kt.filter(Mt=>Mt.toastId!==f.id)),setTimeout(()=>{V(f)},Ste)},[f,V,A,jt]);We.useEffect(()=>{if(f.promise&&tt==="loading"||f.duration===1/0||f.type==="loading")return;let kt;return B||w||z&&Ot?(()=>{if(Vt.current<sn.current){let Mt=new Date().getTime()-sn.current;Ie.current=Ie.current-Mt}Vt.current=new Date().getTime()})():Ie.current!==1/0&&(sn.current=new Date().getTime(),kt=setTimeout(()=>{var Mt;(Mt=f.onAutoClose)==null||Mt.call(f,f),pt()},Ie.current)),()=>clearTimeout(kt)},[B,w,f,tt,z,Ot,pt]),We.useEffect(()=>{f.delete&&pt()},[pt,f.delete]);function on(){var kt,Mt,dn;return ge!=null&&ge.loading?We.createElement("div",{className:yl(re==null?void 0:re.loader,(kt=f==null?void 0:f.classNames)==null?void 0:kt.loader,"sonner-loader"),"data-visible":tt==="loading"},ge.loading):le?We.createElement("div",{className:yl(re==null?void 0:re.loader,(Mt=f==null?void 0:f.classNames)==null?void 0:Mt.loader,"sonner-loader"),"data-visible":tt==="loading"},le):We.createElement(ste,{className:yl(re==null?void 0:re.loader,(dn=f==null?void 0:f.classNames)==null?void 0:dn.loader),visible:tt==="loading"})}return We.createElement("li",{tabIndex:0,ref:Ke,className:yl(j,Ft,re==null?void 0:re.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,re==null?void 0:re.default,re==null?void 0:re[tt],(t=f==null?void 0:f.classNames)==null?void 0:t[tt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:M,"data-styled":!(f.jsx||f.unstyled||b),"data-mounted":he,"data-promise":!!f.promise,"data-swiped":Z,"data-removed":xe,"data-visible":Ut,"data-y-position":Et,"data-x-position":Nn,"data-index":S,"data-front":Xt,"data-swiping":Fe,"data-dismissible":ut,"data-type":tt,"data-invert":kn,"data-swipe-out":Ne,"data-swipe-direction":ce,"data-expanded":!!(B||J&&he),style:{"--index":S,"--toasts-before":S,"--z-index":T.length-S,"--offset":`${xe?at:jt.current}px`,"--initial-height":J?"auto":`${Re}px`,...P,...f.style},onDragEnd:()=>{Ce(!1),ie(null),Sn.current=null},onPointerDown:kt=>{zt||!ut||(He.current=new Date,Ye(jt.current),kt.target.setPointerCapture(kt.pointerId),kt.target.tagName!=="BUTTON"&&(Ce(!0),Sn.current={x:kt.clientX,y:kt.clientY}))},onPointerUp:()=>{var kt,Mt,dn,Kn;if(Ne||!ut)return;Sn.current=null;let dt=Number(((kt=Ke.current)==null?void 0:kt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),_n=Number(((Mt=Ke.current)==null?void 0:Mt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ci=new Date().getTime()-((dn=He.current)==null?void 0:dn.getTime()),jn=Q==="x"?dt:_n,Jn=Math.abs(jn)/ci;if(Math.abs(jn)>=Ete||Jn>.11){Ye(jt.current),(Kn=f.onDismiss)==null||Kn.call(f,f),fe(Q==="x"?dt>0?"right":"left":_n>0?"down":"up"),pt(),De(!0),Oe(!1);return}Ce(!1),ie(null)},onPointerMove:kt=>{var Mt,dn,Kn,dt;if(!Sn.current||!ut||((Mt=window.getSelection())==null?void 0:Mt.toString().length)>0)return;let _n=kt.clientY-Sn.current.y,ci=kt.clientX-Sn.current.x,jn=(dn=n.swipeDirections)!=null?dn:Cte(ue);!Q&&(Math.abs(ci)>1||Math.abs(_n)>1)&&ie(Math.abs(ci)>Math.abs(_n)?"x":"y");let Jn={x:0,y:0};Q==="y"?(jn.includes("top")||jn.includes("bottom"))&&(jn.includes("top")&&_n<0||jn.includes("bottom")&&_n>0)&&(Jn.y=_n):Q==="x"&&(jn.includes("left")||jn.includes("right"))&&(jn.includes("left")&&ci<0||jn.includes("right")&&ci>0)&&(Jn.x=ci),(Math.abs(Jn.x)>0||Math.abs(Jn.y)>0)&&Oe(!0),(Kn=Ke.current)==null||Kn.style.setProperty("--swipe-amount-x",`${Jn.x}px`),(dt=Ke.current)==null||dt.style.setProperty("--swipe-amount-y",`${Jn.y}px`)}},vt&&!f.jsx?We.createElement("button",{"aria-label":ye,"data-disabled":zt,"data-close-button":!0,onClick:zt||!ut?()=>{}:()=>{var kt;pt(),(kt=f.onDismiss)==null||kt.call(f,f)},className:yl(re==null?void 0:re.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},(s=ge==null?void 0:ge.close)!=null?s:ute):null,f.jsx||D.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:We.createElement(We.Fragment,null,tt||f.icon||f.promise?We.createElement("div",{"data-icon":"",className:yl(re==null?void 0:re.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||on():null,f.type!=="loading"?f.icon||(ge==null?void 0:ge[tt])||rte(tt):null):null,We.createElement("div",{"data-content":"",className:yl(re==null?void 0:re.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},We.createElement("div",{"data-title":"",className:yl(re==null?void 0:re.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?We.createElement("div",{"data-description":"",className:yl(L,st,re==null?void 0:re.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),D.isValidElement(f.cancel)?f.cancel:f.cancel&&vx(f.cancel)?We.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||O,onClick:kt=>{var Mt,dn;vx(f.cancel)&&ut&&((dn=(Mt=f.cancel).onClick)==null||dn.call(Mt,kt),pt())},className:yl(re==null?void 0:re.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,D.isValidElement(f.action)?f.action:f.action&&vx(f.action)?We.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||k,onClick:kt=>{var Mt,dn;vx(f.action)&&((dn=(Mt=f.action).onClick)==null||dn.call(Mt,kt),!kt.defaultPrevented&&pt())},className:yl(re==null?void 0:re.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function YP(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Nte(n,e){let t={};return[n,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?xte:bte;function l(c){["top","right","bottom","left"].forEach(u=>{t[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?t[`${o}-${c}`]=a:t[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),t}var kte=D.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:p,style:f,visibleToasts:b=wte,toastOptions:w,dir:A=YP(),gap:x=Ate,loadingIcon:E,icons:S,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:B}=n,[V,M]=We.useState([]),N=We.useMemo(()=>Array.from(new Set([r].concat(V.filter(z=>z.position).map(z=>z.position)))),[V,r]),[P,O]=We.useState([]),[k,j]=We.useState(!1),[L,W]=We.useState(!1),[ue,de]=We.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),le=We.useRef(null),J=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),re=We.useRef(null),ge=We.useRef(!1),ye=We.useCallback(z=>{M(Q=>{var ie;return(ie=Q.find(ce=>ce.id===z.id))!=null&&ie.delete||_o.dismiss(z.id),Q.filter(({id:ce})=>ce!==z.id)})},[]);return We.useEffect(()=>_o.subscribe(z=>{if(z.dismiss){M(Q=>Q.map(ie=>ie.id===z.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{dB.flushSync(()=>{M(Q=>{let ie=Q.findIndex(ce=>ce.id===z.id);return ie!==-1?[...Q.slice(0,ie),{...Q[ie],...z},...Q.slice(ie+1)]:[z,...Q]})})})}),[]),We.useEffect(()=>{if(u!=="system"){de(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?de("dark"):de("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:Q})=>{de(Q?"dark":"light")})}catch{z.addListener(({matches:ie})=>{try{de(ie?"dark":"light")}catch(ce){console.error(ce)}})}},[u]),We.useEffect(()=>{V.length<=1&&j(!1)},[V]),We.useEffect(()=>{let z=Q=>{var ie,ce;i.every(fe=>Q[fe]||Q.code===fe)&&(j(!0),(ie=le.current)==null||ie.focus()),Q.code==="Escape"&&(document.activeElement===le.current||(ce=le.current)!=null&&ce.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[i]),We.useEffect(()=>{if(le.current)return()=>{re.current&&(re.current.focus({preventScroll:!0}),re.current=null,ge.current=!1)}},[le.current]),We.createElement("section",{ref:e,"aria-label":`${T} ${J}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((z,Q)=>{var ie;let[ce,fe]=z.split("-");return V.length?We.createElement("ol",{key:z,dir:A==="auto"?YP():A,tabIndex:-1,ref:le,className:a,"data-sonner-toaster":!0,"data-theme":ue,"data-y-position":ce,"data-lifted":k&&V.length>1&&!s,"data-x-position":fe,style:{"--front-toast-height":`${((ie=P[0])==null?void 0:ie.height)||0}px`,"--width":`${_te}px`,"--gap":`${x}px`,...f,...Nte(l,c)},onBlur:he=>{ge.current&&!he.currentTarget.contains(he.relatedTarget)&&(ge.current=!1,re.current&&(re.current.focus({preventScroll:!0}),re.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||ge.current||(ge.current=!0,re.current=he.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{L||j(!1)},onDragEnd:()=>j(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},V.filter(he=>!he.position&&Q===0||he.position===z).map((he,Ee)=>{var xe,Ae;return We.createElement(Tte,{key:he.id,icons:S,index:Ee,toast:he,defaultRichColors:h,duration:(xe=w==null?void 0:w.duration)!=null?xe:p,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:t,visibleToasts:b,closeButton:(Ae=w==null?void 0:w.closeButton)!=null?Ae:o,interacting:L,position:z,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:ye,toasts:V.filter(Fe=>Fe.position==he.position),heights:P.filter(Fe=>Fe.position==he.position),setHeights:O,expandByDefault:s,gap:x,loadingIcon:E,expanded:k,pauseWhenPageIsHidden:B,swipeDirections:n.swipeDirections})})):null}))});const Ite=({...n})=>{const{theme:e="system"}=nte();return d.jsx(kte,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var Pte=xT[" useId ".trim().toString()]||(()=>{}),Rte=0;function TS(n){const[e,t]=D.useState(Pte());return kd(()=>{t(r=>r??String(Rte++))},[n]),e?`radix-${e}`:""}const Lte=["top","right","bottom","left"],Mf=Math.min,da=Math.max,O3=Math.round,yx=Math.floor,Jc=n=>({x:n,y:n}),Mte={left:"right",right:"left",bottom:"top",top:"bottom"},Dte={start:"end",end:"start"};function NS(n,e,t){return da(n,Mf(e,t))}function Id(n,e){return typeof n=="function"?n(e):n}function Pd(n){return n.split("-")[0]}function R2(n){return n.split("-")[1]}function AN(n){return n==="x"?"y":"x"}function EN(n){return n==="y"?"height":"width"}const jte=new Set(["top","bottom"]);function Wc(n){return jte.has(Pd(n))?"y":"x"}function SN(n){return AN(Wc(n))}function Ote(n,e,t){t===void 0&&(t=!1);const r=R2(n),i=SN(n),s=EN(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=F3(o)),[o,F3(o)]}function Fte(n){const e=F3(n);return[kS(n),e,kS(e)]}function kS(n){return n.replace(/start|end/g,e=>Dte[e])}const XP=["left","right"],QP=["right","left"],Bte=["top","bottom"],Ute=["bottom","top"];function Vte(n,e,t){switch(n){case"top":case"bottom":return t?e?QP:XP:e?XP:QP;case"left":case"right":return e?Bte:Ute;default:return[]}}function zte(n,e,t,r){const i=R2(n);let s=Vte(Pd(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(kS)))),s}function F3(n){return n.replace(/left|right|bottom|top/g,e=>Mte[e])}function $te(n){return{top:0,right:0,bottom:0,left:0,...n}}function rU(n){return typeof n!="number"?$te(n):{top:n,right:n,bottom:n,left:n}}function B3(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function JP(n,e,t){let{reference:r,floating:i}=n;const s=Wc(e),o=SN(e),a=EN(o),l=Pd(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-i.width,y:h};break;default:f={x:r.x,y:r.y}}switch(R2(e)){case"start":f[o]-=p*(t&&c?-1:1);break;case"end":f[o]+=p*(t&&c?-1:1);break}return f}const qte=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:h}=JP(c,r,l),p=r,f={},b=0;for(let w=0;w<a.length;w++){const{name:A,fn:x}=a[w],{x:E,y:S,data:T,reset:B}=await x({x:u,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:n,floating:e}});u=E??u,h=S??h,f={...f,[A]:{...f[A],...T}},B&&b<=50&&(b++,typeof B=="object"&&(B.placement&&(p=B.placement),B.rects&&(c=B.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):B.rects),{x:u,y:h}=JP(c,p,l)),w=-1)}return{x:u,y:h,placement:p,strategy:i,middlewareData:f}};async function Yy(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Id(e,n),b=rU(f),A=a[p?h==="floating"?"reference":"floating":h],x=B3(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(A)))==null||t?A:A.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),E=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),T=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},B=B3(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:S,strategy:l}):E);return{top:(x.top-B.top+b.top)/T.y,bottom:(B.bottom-x.bottom+b.bottom)/T.y,left:(x.left-B.left+b.left)/T.x,right:(B.right-x.right+b.right)/T.x}}const Hte=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Id(n,e)||{};if(c==null)return{};const h=rU(u),p={x:t,y:r},f=SN(i),b=EN(f),w=await o.getDimensions(c),A=f==="y",x=A?"top":"left",E=A?"bottom":"right",S=A?"clientHeight":"clientWidth",T=s.reference[b]+s.reference[f]-p[f]-s.floating[b],B=p[f]-s.reference[f],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let M=V?V[S]:0;(!M||!await(o.isElement==null?void 0:o.isElement(V)))&&(M=a.floating[S]||s.floating[b]);const N=T/2-B/2,P=M/2-w[b]/2-1,O=Mf(h[x],P),k=Mf(h[E],P),j=O,L=M-w[b]-k,W=M/2-w[b]/2+N,ue=NS(j,W,L),de=!l.arrow&&R2(i)!=null&&W!==ue&&s.reference[b]/2-(W<j?O:k)-w[b]/2<0,le=de?W<j?W-j:W-L:0;return{[f]:p[f]+le,data:{[f]:ue,centerOffset:W-ue-le,...de&&{alignmentOffset:le}},reset:de}}}),Wte=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...A}=Id(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const x=Pd(i),E=Wc(a),S=Pd(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),B=p||(S||!w?[F3(a)]:Fte(a)),V=b!=="none";!p&&V&&B.push(...zte(a,w,b,T));const M=[a,...B],N=await Yy(e,A),P=[];let O=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&P.push(N[x]),h){const W=Ote(i,o,T);P.push(N[W[0]],N[W[1]])}if(O=[...O,{placement:i,overflows:P}],!P.every(W=>W<=0)){var k,j;const W=(((k=s.flip)==null?void 0:k.index)||0)+1,ue=M[W];if(ue&&(!(h==="alignment"?E!==Wc(ue):!1)||O.every(J=>J.overflows[0]>0&&Wc(J.placement)===E)))return{data:{index:W,overflows:O},reset:{placement:ue}};let de=(j=O.filter(le=>le.overflows[0]<=0).sort((le,J)=>le.overflows[1]-J.overflows[1])[0])==null?void 0:j.placement;if(!de)switch(f){case"bestFit":{var L;const le=(L=O.filter(J=>{if(V){const re=Wc(J.placement);return re===E||re==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(re=>re>0).reduce((re,ge)=>re+ge,0)]).sort((J,re)=>J[1]-re[1])[0])==null?void 0:L[0];le&&(de=le);break}case"initialPlacement":de=a;break}if(i!==de)return{reset:{placement:de}}}return{}}}};function ZP(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function eR(n){return Lte.some(e=>n[e]>=0)}const Gte=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Id(n,e);switch(r){case"referenceHidden":{const s=await Yy(e,{...i,elementContext:"reference"}),o=ZP(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:eR(o)}}}case"escaped":{const s=await Yy(e,{...i,altBoundary:!0}),o=ZP(s,t.floating);return{data:{escapedOffsets:o,escaped:eR(o)}}}default:return{}}}}},iU=new Set(["left","top"]);async function Kte(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Pd(t),a=R2(t),l=Wc(t)==="y",c=iU.has(o)?-1:1,u=s&&l?-1:1,h=Id(e,n);let{mainAxis:p,crossAxis:f,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(f=a==="end"?b*-1:b),l?{x:f*u,y:p*c}:{x:p*c,y:f*u}}const Yte=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Kte(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Xte=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:A=>{let{x,y:E}=A;return{x,y:E}}},...l}=Id(n,e),c={x:t,y:r},u=await Yy(e,l),h=Wc(Pd(i)),p=AN(h);let f=c[p],b=c[h];if(s){const A=p==="y"?"top":"left",x=p==="y"?"bottom":"right",E=f+u[A],S=f-u[x];f=NS(E,f,S)}if(o){const A=h==="y"?"top":"left",x=h==="y"?"bottom":"right",E=b+u[A],S=b-u[x];b=NS(E,b,S)}const w=a.fn({...e,[p]:f,[h]:b});return{...w,data:{x:w.x-t,y:w.y-r,enabled:{[p]:s,[h]:o}}}}}},Qte=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Id(n,e),u={x:t,y:r},h=Wc(i),p=AN(h);let f=u[p],b=u[h];const w=Id(a,e),A=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const S=p==="y"?"height":"width",T=s.reference[p]-s.floating[S]+A.mainAxis,B=s.reference[p]+s.reference[S]-A.mainAxis;f<T?f=T:f>B&&(f=B)}if(c){var x,E;const S=p==="y"?"width":"height",T=iU.has(Pd(i)),B=s.reference[h]-s.floating[S]+(T&&((x=o.offset)==null?void 0:x[h])||0)+(T?0:A.crossAxis),V=s.reference[h]+s.reference[S]+(T?0:((E=o.offset)==null?void 0:E[h])||0)-(T?A.crossAxis:0);b<B?b=B:b>V&&(b=V)}return{[p]:f,[h]:b}}}},Jte=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Id(n,e),u=await Yy(e,c),h=Pd(i),p=R2(i),f=Wc(i)==="y",{width:b,height:w}=s.floating;let A,x;h==="top"||h==="bottom"?(A=h,x=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,A=p==="end"?"top":"bottom");const E=w-u.top-u.bottom,S=b-u.left-u.right,T=Mf(w-u[A],E),B=Mf(b-u[x],S),V=!e.middlewareData.shift;let M=T,N=B;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(N=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=E),V&&!p){const O=da(u.left,0),k=da(u.right,0),j=da(u.top,0),L=da(u.bottom,0);f?N=b-2*(O!==0||k!==0?O+k:da(u.left,u.right)):M=w-2*(j!==0||L!==0?j+L:da(u.top,u.bottom))}await l({...e,availableWidth:N,availableHeight:M});const P=await o.getDimensions(a.floating);return b!==P.width||w!==P.height?{reset:{rects:!0}}:{}}}};function c6(){return typeof window<"u"}function L2(n){return sU(n)?(n.nodeName||"").toLowerCase():"#document"}function wa(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function lu(n){var e;return(e=(sU(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function sU(n){return c6()?n instanceof Node||n instanceof wa(n).Node:!1}function Yl(n){return c6()?n instanceof Element||n instanceof wa(n).Element:!1}function su(n){return c6()?n instanceof HTMLElement||n instanceof wa(n).HTMLElement:!1}function tR(n){return!c6()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof wa(n).ShadowRoot}const Zte=new Set(["inline","contents"]);function eb(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Xl(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!Zte.has(i)}const ene=new Set(["table","td","th"]);function tne(n){return ene.has(L2(n))}const nne=[":popover-open",":modal"];function u6(n){return nne.some(e=>{try{return n.matches(e)}catch{return!1}})}const rne=["transform","translate","scale","rotate","perspective"],ine=["transform","translate","scale","rotate","perspective","filter"],sne=["paint","layout","strict","content"];function CN(n){const e=TN(),t=Yl(n)?Xl(n):n;return rne.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||ine.some(r=>(t.willChange||"").includes(r))||sne.some(r=>(t.contain||"").includes(r))}function one(n){let e=Df(n);for(;su(e)&&!l2(e);){if(CN(e))return e;if(u6(e))return null;e=Df(e)}return null}function TN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ane=new Set(["html","body","#document"]);function l2(n){return ane.has(L2(n))}function Xl(n){return wa(n).getComputedStyle(n)}function d6(n){return Yl(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Df(n){if(L2(n)==="html")return n;const e=n.assignedSlot||n.parentNode||tR(n)&&n.host||lu(n);return tR(e)?e.host:e}function oU(n){const e=Df(n);return l2(e)?n.ownerDocument?n.ownerDocument.body:n.body:su(e)&&eb(e)?e:oU(e)}function Xy(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=oU(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=wa(i);if(s){const a=IS(o);return e.concat(o,o.visualViewport||[],eb(i)?i:[],a&&t?Xy(a):[])}return e.concat(i,Xy(i,[],t))}function IS(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function aU(n){const e=Xl(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=su(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=O3(t)!==s||O3(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function NN(n){return Yl(n)?n:n.contextElement}function Lg(n){const e=NN(n);if(!su(e))return Jc(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=aU(e);let o=(s?O3(t.width):t.width)/r,a=(s?O3(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const lne=Jc(0);function lU(n){const e=wa(n);return!TN()||!e.visualViewport?lne:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cne(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==wa(n)?!1:e}function Zm(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=NN(n);let o=Jc(1);e&&(r?Yl(r)&&(o=Lg(r)):o=Lg(n));const a=cne(s,t,r)?lU(s):Jc(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const p=wa(s),f=r&&Yl(r)?wa(r):r;let b=p,w=IS(b);for(;w&&r&&f!==b;){const A=Lg(w),x=w.getBoundingClientRect(),E=Xl(w),S=x.left+(w.clientLeft+parseFloat(E.paddingLeft))*A.x,T=x.top+(w.clientTop+parseFloat(E.paddingTop))*A.y;l*=A.x,c*=A.y,u*=A.x,h*=A.y,l+=S,c+=T,b=wa(w),w=IS(b)}}return B3({width:u,height:h,x:l,y:c})}function kN(n,e){const t=d6(n).scrollLeft;return e?e.left+t:Zm(lu(n)).left+t}function cU(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:kN(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function une(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=lu(r),a=e?u6(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Jc(1);const u=Jc(0),h=su(r);if((h||!h&&!s)&&((L2(r)!=="body"||eb(o))&&(l=d6(r)),su(r))){const f=Zm(r);c=Lg(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const p=o&&!h&&!s?cU(o,l,!0):Jc(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:t.y*c.y-l.scrollTop*c.y+u.y+p.y}}function dne(n){return Array.from(n.getClientRects())}function hne(n){const e=lu(n),t=d6(n),r=n.ownerDocument.body,i=da(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=da(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+kN(n);const a=-t.scrollTop;return Xl(r).direction==="rtl"&&(o+=da(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function fne(n,e){const t=wa(n),r=lu(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=TN();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const pne=new Set(["absolute","fixed"]);function mne(n,e){const t=Zm(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=su(n)?Lg(n):Jc(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function nR(n,e,t){let r;if(e==="viewport")r=fne(n,t);else if(e==="document")r=hne(lu(n));else if(Yl(e))r=mne(e,t);else{const i=lU(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return B3(r)}function uU(n,e){const t=Df(n);return t===e||!Yl(t)||l2(t)?!1:Xl(t).position==="fixed"||uU(t,e)}function gne(n,e){const t=e.get(n);if(t)return t;let r=Xy(n,[],!1).filter(a=>Yl(a)&&L2(a)!=="body"),i=null;const s=Xl(n).position==="fixed";let o=s?Df(n):n;for(;Yl(o)&&!l2(o);){const a=Xl(o),l=CN(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&pne.has(i.position)||eb(o)&&!l&&uU(n,o))?r=r.filter(u=>u!==o):i=a,o=Df(o)}return e.set(n,r),r}function vne(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?u6(e)?[]:gne(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const h=nR(e,u,i);return c.top=da(h.top,c.top),c.right=Mf(h.right,c.right),c.bottom=Mf(h.bottom,c.bottom),c.left=da(h.left,c.left),c},nR(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function yne(n){const{width:e,height:t}=aU(n);return{width:e,height:t}}function wne(n,e,t){const r=su(e),i=lu(e),s=t==="fixed",o=Zm(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Jc(0);function c(){l.x=kN(i)}if(r||!r&&!s)if((L2(e)!=="body"||eb(i))&&(a=d6(e)),r){const f=Zm(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?cU(i,a):Jc(0),h=o.left+a.scrollLeft-l.x-u.x,p=o.top+a.scrollTop-l.y-u.y;return{x:h,y:p,width:o.width,height:o.height}}function oE(n){return Xl(n).position==="static"}function rR(n,e){if(!su(n)||Xl(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return lu(n)===t&&(t=t.ownerDocument.body),t}function dU(n,e){const t=wa(n);if(u6(n))return t;if(!su(n)){let i=Df(n);for(;i&&!l2(i);){if(Yl(i)&&!oE(i))return i;i=Df(i)}return t}let r=rR(n,e);for(;r&&tne(r)&&oE(r);)r=rR(r,e);return r&&l2(r)&&oE(r)&&!CN(r)?t:r||one(n)||t}const bne=async function(n){const e=this.getOffsetParent||dU,t=this.getDimensions,r=await t(n.floating);return{reference:wne(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xne(n){return Xl(n).direction==="rtl"}const _ne={convertOffsetParentRelativeRectToViewportRelativeRect:une,getDocumentElement:lu,getClippingRect:vne,getOffsetParent:dU,getElementRects:bne,getClientRects:dne,getDimensions:yne,getScale:Lg,isElement:Yl,isRTL:xne};function hU(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Ane(n,e){let t=null,r;const i=lu(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:u,top:h,width:p,height:f}=c;if(a||e(),!p||!f)return;const b=yx(h),w=yx(i.clientWidth-(u+p)),A=yx(i.clientHeight-(h+f)),x=yx(u),S={rootMargin:-b+"px "+-w+"px "+-A+"px "+-x+"px",threshold:da(0,Mf(1,l))||1};let T=!0;function B(V){const M=V[0].intersectionRatio;if(M!==l){if(!T)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!hU(c,n.getBoundingClientRect())&&o(),T=!1}try{t=new IntersectionObserver(B,{...S,root:i.ownerDocument})}catch{t=new IntersectionObserver(B,S)}t.observe(n)}return o(!0),s}function Ene(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=NN(n),u=i||s?[...c?Xy(c):[],...Xy(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",t,{passive:!0}),s&&x.addEventListener("resize",t)});const h=c&&a?Ane(c,t):null;let p=-1,f=null;o&&(f=new ResizeObserver(x=>{let[E]=x;E&&E.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=f)==null||S.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let b,w=l?Zm(n):null;l&&A();function A(){const x=Zm(n);w&&!hU(w,x)&&t(),w=x,b=requestAnimationFrame(A)}return t(),()=>{var x;u.forEach(E=>{i&&E.removeEventListener("scroll",t),s&&E.removeEventListener("resize",t)}),h==null||h(),(x=f)==null||x.disconnect(),f=null,l&&cancelAnimationFrame(b)}}const Sne=Yte,Cne=Xte,Tne=Wte,Nne=Jte,kne=Gte,iR=Hte,Ine=Qte,Pne=(n,e,t)=>{const r=new Map,i={platform:_ne,...t},s={...i.platform,_c:r};return qte(n,e,{...i,platform:s})};var Rne=typeof document<"u",Lne=function(){},d4=Rne?D.useLayoutEffect:Lne;function U3(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!U3(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!U3(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function fU(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function sR(n,e){const t=fU(n);return Math.round(e*t)/t}function aE(n){const e=D.useRef(n);return d4(()=>{e.current=n}),e}function Mne(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,h]=D.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=D.useState(r);U3(p,r)||f(r);const[b,w]=D.useState(null),[A,x]=D.useState(null),E=D.useCallback(J=>{J!==V.current&&(V.current=J,w(J))},[]),S=D.useCallback(J=>{J!==M.current&&(M.current=J,x(J))},[]),T=s||b,B=o||A,V=D.useRef(null),M=D.useRef(null),N=D.useRef(u),P=l!=null,O=aE(l),k=aE(i),j=aE(c),L=D.useCallback(()=>{if(!V.current||!M.current)return;const J={placement:e,strategy:t,middleware:p};k.current&&(J.platform=k.current),Pne(V.current,M.current,J).then(re=>{const ge={...re,isPositioned:j.current!==!1};W.current&&!U3(N.current,ge)&&(N.current=ge,Qw.flushSync(()=>{h(ge)}))})},[p,e,t,k,j]);d4(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(J=>({...J,isPositioned:!1})))},[c]);const W=D.useRef(!1);d4(()=>(W.current=!0,()=>{W.current=!1}),[]),d4(()=>{if(T&&(V.current=T),B&&(M.current=B),T&&B){if(O.current)return O.current(T,B,L);L()}},[T,B,L,O,P]);const ue=D.useMemo(()=>({reference:V,floating:M,setReference:E,setFloating:S}),[E,S]),de=D.useMemo(()=>({reference:T,floating:B}),[T,B]),le=D.useMemo(()=>{const J={position:t,left:0,top:0};if(!de.floating)return J;const re=sR(de.floating,u.x),ge=sR(de.floating,u.y);return a?{...J,transform:"translate("+re+"px, "+ge+"px)",...fU(de.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:re,top:ge}},[t,a,de.floating,u.x,u.y]);return D.useMemo(()=>({...u,update:L,refs:ue,elements:de,floatingStyles:le}),[u,L,ue,de,le])}const Dne=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?iR({element:r.current,padding:i}).fn(t):{}:r?iR({element:r,padding:i}).fn(t):{}}}},jne=(n,e)=>({...Sne(n),options:[n,e]}),One=(n,e)=>({...Cne(n),options:[n,e]}),Fne=(n,e)=>({...Ine(n),options:[n,e]}),Bne=(n,e)=>({...Tne(n),options:[n,e]}),Une=(n,e)=>({...Nne(n),options:[n,e]}),Vne=(n,e)=>({...kne(n),options:[n,e]}),zne=(n,e)=>({...Dne(n),options:[n,e]});var $ne="Arrow",pU=D.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return d.jsx(yr.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});pU.displayName=$ne;var qne=pU;function Hne(n){const[e,t]=D.useState(void 0);return kd(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var IN="Popper",[mU,h6]=w1(IN),[Wne,gU]=mU(IN),vU=n=>{const{__scopePopper:e,children:t}=n,[r,i]=D.useState(null);return d.jsx(Wne,{scope:e,anchor:r,onAnchorChange:i,children:t})};vU.displayName=IN;var yU="PopperAnchor",wU=D.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=gU(yU,t),o=D.useRef(null),a=Gi(e,o);return D.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(yr.div,{...i,ref:a})});wU.displayName=yU;var PN="PopperContent",[Gne,Kne]=mU(PN),bU=D.forwardRef((n,e)=>{var he,Ee,xe,Ae,Fe,Ce;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:b,...w}=n,A=gU(PN,t),[x,E]=D.useState(null),S=Gi(e,Ne=>E(Ne)),[T,B]=D.useState(null),V=Hne(T),M=(V==null?void 0:V.width)??0,N=(V==null?void 0:V.height)??0,P=r+(s!=="center"?"-"+s:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(c)?c:[c],j=k.length>0,L={padding:O,boundary:k.filter(Xne),altBoundary:j},{refs:W,floatingStyles:ue,placement:de,isPositioned:le,middlewareData:J}=Mne({strategy:"fixed",placement:P,whileElementsMounted:(...Ne)=>Ene(...Ne,{animationFrame:f==="always"}),elements:{reference:A.anchor},middleware:[jne({mainAxis:i+N,alignmentAxis:o}),l&&One({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Fne():void 0,...L}),l&&Bne({...L}),Une({...L,apply:({elements:Ne,rects:De,availableWidth:Z,availableHeight:Oe})=>{const{width:at,height:Ye}=De.reference,Re=Ne.floating.style;Re.setProperty("--radix-popper-available-width",`${Z}px`),Re.setProperty("--radix-popper-available-height",`${Oe}px`),Re.setProperty("--radix-popper-anchor-width",`${at}px`),Re.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),T&&zne({element:T,padding:a}),Qne({arrowWidth:M,arrowHeight:N}),p&&Vne({strategy:"referenceHidden",...L})]}),[re,ge]=AU(de),ye=Aa(b);kd(()=>{le&&(ye==null||ye())},[le,ye]);const z=(he=J.arrow)==null?void 0:he.x,Q=(Ee=J.arrow)==null?void 0:Ee.y,ie=((xe=J.arrow)==null?void 0:xe.centerOffset)!==0,[ce,fe]=D.useState();return kd(()=>{x&&fe(window.getComputedStyle(x).zIndex)},[x]),d.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:le?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(Ae=J.transformOrigin)==null?void 0:Ae.x,(Fe=J.transformOrigin)==null?void 0:Fe.y].join(" "),...((Ce=J.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:d.jsx(Gne,{scope:t,placedSide:re,onArrowChange:B,arrowX:z,arrowY:Q,shouldHideArrow:ie,children:d.jsx(yr.div,{"data-side":re,"data-align":ge,...w,ref:S,style:{...w.style,animation:le?void 0:"none"}})})})});bU.displayName=PN;var xU="PopperArrow",Yne={top:"bottom",right:"left",bottom:"top",left:"right"},_U=D.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=Kne(xU,r),o=Yne[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(qne,{...i,ref:t,style:{...i.style,display:"block"}})})});_U.displayName=xU;function Xne(n){return n!==null}var Qne=n=>({name:"transformOrigin",options:n,fn(e){var A,x,E;const{placement:t,rects:r,middlewareData:i}=e,o=((A=i.arrow)==null?void 0:A.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,u]=AU(t),h={start:"0%",center:"50%",end:"100%"}[u],p=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,f=(((E=i.arrow)==null?void 0:E.y)??0)+l/2;let b="",w="";return c==="bottom"?(b=o?h:`${p}px`,w=`${-l}px`):c==="top"?(b=o?h:`${p}px`,w=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,w=o?h:`${f}px`):c==="left"&&(b=`${r.floating.width+l}px`,w=o?h:`${f}px`),{data:{x:b,y:w}}}});function AU(n){const[e,t="center"]=n.split("-");return[e,t]}var Jne=vU,EU=wU,SU=bU,CU=_U,[f6,V4e]=w1("Tooltip",[h6]),RN=h6(),TU="TooltipProvider",Zne=700,oR="tooltip.open",[ere,NU]=f6(TU),kU=n=>{const{__scopeTooltip:e,delayDuration:t=Zne,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,o=D.useRef(!0),a=D.useRef(!1),l=D.useRef(0);return D.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(ere,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:D.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:D.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:D.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};kU.displayName=TU;var IU="Tooltip",[z4e,p6]=f6(IU),PS="TooltipTrigger",tre=D.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=p6(PS,t),s=NU(PS,t),o=RN(t),a=D.useRef(null),l=Gi(e,a,i.onTriggerChange),c=D.useRef(!1),u=D.useRef(!1),h=D.useCallback(()=>c.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(EU,{asChild:!0,...o,children:d.jsx(yr.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Dt(n.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Dt(n.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Dt(n.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Dt(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:Dt(n.onBlur,i.onClose),onClick:Dt(n.onClick,i.onClose)})})});tre.displayName=PS;var nre="TooltipPortal",[$4e,rre]=f6(nre,{forceMount:void 0}),c2="TooltipContent",PU=D.forwardRef((n,e)=>{const t=rre(c2,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=p6(c2,n.__scopeTooltip);return d.jsx(b1,{present:r||o.open,children:o.disableHoverableContent?d.jsx(RU,{side:i,...s,ref:e}):d.jsx(ire,{side:i,...s,ref:e})})}),ire=D.forwardRef((n,e)=>{const t=p6(c2,n.__scopeTooltip),r=NU(c2,n.__scopeTooltip),i=D.useRef(null),s=Gi(e,i),[o,a]=D.useState(null),{trigger:l,onClose:c}=t,u=i.current,{onPointerInTransitChange:h}=r,p=D.useCallback(()=>{a(null),h(!1)},[h]),f=D.useCallback((b,w)=>{const A=b.currentTarget,x={x:b.clientX,y:b.clientY},E=cre(x,A.getBoundingClientRect()),S=ure(x,E),T=dre(w.getBoundingClientRect()),B=fre([...S,...T]);a(B),h(!0)},[h]);return D.useEffect(()=>()=>p(),[p]),D.useEffect(()=>{if(l&&u){const b=A=>f(A,u),w=A=>f(A,l);return l.addEventListener("pointerleave",b),u.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",w)}}},[l,u,f,p]),D.useEffect(()=>{if(o){const b=w=>{const A=w.target,x={x:w.clientX,y:w.clientY},E=(l==null?void 0:l.contains(A))||(u==null?void 0:u.contains(A)),S=!hre(x,o);E?p():S&&(p(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,u,o,c,p]),d.jsx(RU,{...n,ref:s})}),[sre,ore]=f6(IU,{isInside:!1}),are=eZ("TooltipContent"),RU=D.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=p6(c2,t),c=RN(t),{onClose:u}=l;return D.useEffect(()=>(document.addEventListener(oR,u),()=>document.removeEventListener(oR,u)),[u]),D.useEffect(()=>{if(l.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(i6,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(SU,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(are,{children:r}),d.jsx(sre,{scope:t,isInside:!0,children:d.jsx(AZ,{id:l.contentId,role:"tooltip",children:i||r})})]})})});PU.displayName=c2;var LU="TooltipArrow",lre=D.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=RN(t);return ore(LU,t).isInside?null:d.jsx(CU,{...i,...r,ref:e})});lre.displayName=LU;function cre(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ure(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function dre(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function hre(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,h=l.x,p=l.y;u>r!=p>r&&t<(h-c)*(r-u)/(p-u)+c&&(i=!i)}return i}function fre(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),pre(e)}function pre(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var mre=kU,MU=PU;const gre=mre,vre=D.forwardRef(({className:n,sideOffset:e=4,...t},r)=>d.jsx(MU,{ref:r,sideOffset:e,className:wr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));vre.displayName=MU.displayName;var m6=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},g6=typeof window>"u"||"Deno"in globalThis;function _l(){}function yre(n,e){return typeof n=="function"?n(e):n}function wre(n){return typeof n=="number"&&n>=0&&n!==1/0}function bre(n,e){return Math.max(n+(e||0)-Date.now(),0)}function RS(n,e){return typeof n=="function"?n(e):n}function xre(n,e){return typeof n=="function"?n(e):n}function aR(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==LN(o,e.options))return!1}else if(!Jy(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function lR(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Qy(e.options.mutationKey)!==Qy(s))return!1}else if(!Jy(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function LN(n,e){return((e==null?void 0:e.queryKeyHashFn)||Qy)(n)}function Qy(n){return JSON.stringify(n,(e,t)=>LS(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Jy(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Jy(n[t],e[t])):!1}function DU(n,e){if(n===e)return n;const t=cR(n)&&cR(e);if(t||LS(n)&&LS(e)){const r=t?n:Object.keys(n),i=r.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const h=t?u:s[u];(!t&&l.has(h)||t)&&n[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=DU(n[h],e[h]),a[h]===n[h]&&n[h]!==void 0&&c++)}return i===o&&c===i?n:a}return e}function cR(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function LS(n){if(!uR(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!uR(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function uR(n){return Object.prototype.toString.call(n)==="[object Object]"}function _re(n){return new Promise(e=>{setTimeout(e,n)})}function Are(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?DU(n,e):e}function Ere(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function Sre(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var MN=Symbol();function jU(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===MN?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Bp,kh,Yg,$j,Cre=($j=class extends m6{constructor(){super();Y(this,Bp);Y(this,kh);Y(this,Yg);$(this,Yg,e=>{if(!g6&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){m(this,kh)||this.setEventListener(m(this,Yg))}onUnsubscribe(){var e;this.hasListeners()||((e=m(this,kh))==null||e.call(this),$(this,kh,void 0))}setEventListener(e){var t;$(this,Yg,e),(t=m(this,kh))==null||t.call(this),$(this,kh,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){m(this,Bp)!==e&&($(this,Bp,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof m(this,Bp)=="boolean"?m(this,Bp):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bp=new WeakMap,kh=new WeakMap,Yg=new WeakMap,$j),OU=new Cre,Xg,Ih,Qg,qj,Tre=(qj=class extends m6{constructor(){super();Y(this,Xg,!0);Y(this,Ih);Y(this,Qg);$(this,Qg,e=>{if(!g6&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){m(this,Ih)||this.setEventListener(m(this,Qg))}onUnsubscribe(){var e;this.hasListeners()||((e=m(this,Ih))==null||e.call(this),$(this,Ih,void 0))}setEventListener(e){var t;$(this,Qg,e),(t=m(this,Ih))==null||t.call(this),$(this,Ih,e(this.setOnline.bind(this)))}setOnline(e){m(this,Xg)!==e&&($(this,Xg,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return m(this,Xg)}},Xg=new WeakMap,Ih=new WeakMap,Qg=new WeakMap,qj),V3=new Tre;function Nre(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function kre(n){return Math.min(1e3*2**n,3e4)}function FU(n){return(n??"online")==="online"?V3.isOnline():!0}var BU=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function lE(n){return n instanceof BU}function UU(n){let e=!1,t=0,r=!1,i;const s=Nre(),o=w=>{var A;r||(p(new BU(w)),(A=n.abort)==null||A.call(n))},a=()=>{e=!0},l=()=>{e=!1},c=()=>OU.isFocused()&&(n.networkMode==="always"||V3.isOnline())&&n.canRun(),u=()=>FU(n.networkMode)&&n.canRun(),h=w=>{var A;r||(r=!0,(A=n.onSuccess)==null||A.call(n,w),i==null||i(),s.resolve(w))},p=w=>{var A;r||(r=!0,(A=n.onError)==null||A.call(n,w),i==null||i(),s.reject(w))},f=()=>new Promise(w=>{var A;i=x=>{(r||c())&&w(x)},(A=n.onPause)==null||A.call(n)}).then(()=>{var w;i=void 0,r||(w=n.onContinue)==null||w.call(n)}),b=()=>{if(r)return;let w;const A=t===0?n.initialPromise:void 0;try{w=A??n.fn()}catch(x){w=Promise.reject(x)}Promise.resolve(w).then(h).catch(x=>{var V;if(r)return;const E=n.retry??(g6?0:3),S=n.retryDelay??kre,T=typeof S=="function"?S(t,x):S,B=E===!0||typeof E=="number"&&t<E||typeof E=="function"&&E(t,x);if(e||!B){p(x);return}t++,(V=n.onFail)==null||V.call(n,t,x),_re(T).then(()=>c()?void 0:f()).then(()=>{e?p(x):b()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?b():f().then(b),s)}}var Ire=n=>setTimeout(n,0);function Pre(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=Ire;const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Ys=Pre(),Up,Hj,VU=(Hj=class{constructor(){Y(this,Up)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wre(this.gcTime)&&$(this,Up,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(g6?1/0:5*60*1e3))}clearGcTimeout(){m(this,Up)&&(clearTimeout(m(this,Up)),$(this,Up,void 0))}},Up=new WeakMap,Hj),Jg,Vp,Ua,zp,Ss,k5,$p,Sl,Pu,Wj,Rre=(Wj=class extends VU{constructor(t){super();Y(this,Sl);Y(this,Jg);Y(this,Vp);Y(this,Ua);Y(this,zp);Y(this,Ss);Y(this,k5);Y(this,$p);$(this,$p,!1),$(this,k5,t.defaultOptions),this.setOptions(t.options),this.observers=[],$(this,zp,t.client),$(this,Ua,m(this,zp).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$(this,Jg,Mre(this.options)),this.state=t.state??m(this,Jg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=m(this,Ss))==null?void 0:t.promise}setOptions(t){this.options={...m(this,k5),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&m(this,Ua).remove(this)}setData(t,r){const i=Are(this.state.data,t,this.options);return G(this,Sl,Pu).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(t,r){G(this,Sl,Pu).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var i,s;const r=(i=m(this,Ss))==null?void 0:i.promise;return(s=m(this,Ss))==null||s.cancel(t),r?r.then(_l).catch(_l):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(m(this,Jg))}isActive(){return this.observers.some(t=>xre(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===MN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>RS(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!bre(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=m(this,Ss))==null||r.continue()}onOnline(){var r;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=m(this,Ss))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),m(this,Ua).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(m(this,Ss)&&(m(this,$p)?m(this,Ss).cancel({revert:!0}):m(this,Ss).cancelRetry()),this.scheduleGc()),m(this,Ua).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||G(this,Sl,Pu).call(this,{type:"invalidate"})}fetch(t,r){var u,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(m(this,Ss))return m(this,Ss).continueRetry(),m(this,Ss).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(b=>b.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>($(this,$p,!0),i.signal)})},o=()=>{const f=jU(this.options,r),w=(()=>{const A={client:m(this,zp),queryKey:this.queryKey,meta:this.meta};return s(A),A})();return $(this,$p,!1),this.options.persister?this.options.persister(f,w,this):f(w)},l=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:m(this,zp),state:this.state,fetchFn:o};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(l,this),$(this,Vp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&G(this,Sl,Pu).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=f=>{var b,w,A,x;lE(f)&&f.silent||G(this,Sl,Pu).call(this,{type:"error",error:f}),lE(f)||((w=(b=m(this,Ua).config).onError)==null||w.call(b,f,this),(x=(A=m(this,Ua).config).onSettled)==null||x.call(A,this.state.data,f,this)),this.scheduleGc()};return $(this,Ss,UU({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var b,w,A,x;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(E){c(E);return}(w=(b=m(this,Ua).config).onSuccess)==null||w.call(b,f,this),(x=(A=m(this,Ua).config).onSettled)==null||x.call(A,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,b)=>{G(this,Sl,Pu).call(this,{type:"failed",failureCount:f,error:b})},onPause:()=>{G(this,Sl,Pu).call(this,{type:"pause"})},onContinue:()=>{G(this,Sl,Pu).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),m(this,Ss).start()}},Jg=new WeakMap,Vp=new WeakMap,Ua=new WeakMap,zp=new WeakMap,Ss=new WeakMap,k5=new WeakMap,$p=new WeakMap,Sl=new WeakSet,Pu=function(t){const r=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Lre(i.data,this.options),fetchMeta:t.meta??null};case"success":return $(this,Vp,void 0),{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return lE(s)&&s.revert&&m(this,Vp)?{...m(this,Vp),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=r(this.state),Ys.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),m(this,Ua).notify({query:this,type:"updated",action:t})})},Wj);function Lre(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:FU(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Mre(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Ac,Gj,Dre=(Gj=class extends m6{constructor(e={}){super();Y(this,Ac);this.config=e,$(this,Ac,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??LN(i,t);let o=this.get(s);return o||(o=new Rre({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){m(this,Ac).has(e.queryHash)||(m(this,Ac).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=m(this,Ac).get(e.queryHash);t&&(e.destroy(),t===e&&m(this,Ac).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ys.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return m(this,Ac).get(e)}getAll(){return[...m(this,Ac).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>aR(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>aR(e,r)):t}notify(e){Ys.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ys.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ys.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ac=new WeakMap,Gj),Ec,Gs,qp,Sc,gh,Kj,jre=(Kj=class extends VU{constructor(t){super();Y(this,Sc);Y(this,Ec);Y(this,Gs);Y(this,qp);this.mutationId=t.mutationId,$(this,Gs,t.mutationCache),$(this,Ec,[]),this.state=t.state||Ore(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){m(this,Ec).includes(t)||(m(this,Ec).push(t),this.clearGcTimeout(),m(this,Gs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$(this,Ec,m(this,Ec).filter(r=>r!==t)),this.scheduleGc(),m(this,Gs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){m(this,Ec).length||(this.state.status==="pending"?this.scheduleGc():m(this,Gs).remove(this))}continue(){var t;return((t=m(this,qp))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,c,u,h,p,f,b,w,A,x,E,S,T,B,V,M,N,P;const r=()=>{G(this,Sc,gh).call(this,{type:"continue"})};$(this,qp,UU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,k)=>{G(this,Sc,gh).call(this,{type:"failed",failureCount:O,error:k})},onPause:()=>{G(this,Sc,gh).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>m(this,Gs).canRun(this)}));const i=this.state.status==="pending",s=!m(this,qp).canStart();try{if(i)r();else{G(this,Sc,gh).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(o=m(this,Gs).config).onMutate)==null?void 0:a.call(o,t,this));const k=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));k!==this.state.context&&G(this,Sc,gh).call(this,{type:"pending",context:k,variables:t,isPaused:s})}const O=await m(this,qp).start();return await((h=(u=m(this,Gs).config).onSuccess)==null?void 0:h.call(u,O,t,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,O,t,this.state.context)),await((w=(b=m(this,Gs).config).onSettled)==null?void 0:w.call(b,O,null,this.state.variables,this.state.context,this)),await((x=(A=this.options).onSettled)==null?void 0:x.call(A,O,null,t,this.state.context)),G(this,Sc,gh).call(this,{type:"success",data:O}),O}catch(O){try{throw await((S=(E=m(this,Gs).config).onError)==null?void 0:S.call(E,O,t,this.state.context,this)),await((B=(T=this.options).onError)==null?void 0:B.call(T,O,t,this.state.context)),await((M=(V=m(this,Gs).config).onSettled)==null?void 0:M.call(V,void 0,O,this.state.variables,this.state.context,this)),await((P=(N=this.options).onSettled)==null?void 0:P.call(N,void 0,O,t,this.state.context)),O}finally{G(this,Sc,gh).call(this,{type:"error",error:O})}}finally{m(this,Gs).runNext(this)}}},Ec=new WeakMap,Gs=new WeakMap,qp=new WeakMap,Sc=new WeakSet,gh=function(t){const r=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ys.batch(()=>{m(this,Ec).forEach(i=>{i.onMutationUpdate(t)}),m(this,Gs).notify({mutation:this,type:"updated",action:t})})},Kj);function Ore(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bu,Cl,I5,Yj,Fre=(Yj=class extends m6{constructor(e={}){super();Y(this,Bu);Y(this,Cl);Y(this,I5);this.config=e,$(this,Bu,new Set),$(this,Cl,new Map),$(this,I5,0)}build(e,t,r){const i=new jre({mutationCache:this,mutationId:++Di(this,I5)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){m(this,Bu).add(e);const t=wx(e);if(typeof t=="string"){const r=m(this,Cl).get(t);r?r.push(e):m(this,Cl).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(m(this,Bu).delete(e)){const t=wx(e);if(typeof t=="string"){const r=m(this,Cl).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&m(this,Cl).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=wx(e);if(typeof t=="string"){const r=m(this,Cl).get(t),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=wx(e);if(typeof t=="string"){const i=(r=m(this,Cl).get(t))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ys.batch(()=>{m(this,Bu).forEach(e=>{this.notify({type:"removed",mutation:e})}),m(this,Bu).clear(),m(this,Cl).clear()})}getAll(){return Array.from(m(this,Bu))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>lR(t,r))}findAll(e={}){return this.getAll().filter(t=>lR(e,t))}notify(e){Ys.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ys.batch(()=>Promise.all(e.map(t=>t.continue().catch(_l))))}},Bu=new WeakMap,Cl=new WeakMap,I5=new WeakMap,Yj);function wx(n){var e;return(e=n.options.scope)==null?void 0:e.id}function dR(n){return{onFetch:(e,t)=>{var u,h,p,f,b;const r=e.options,i=(p=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let w=!1;const A=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},x=jU(e.options,e.fetchOptions),E=async(S,T,B)=>{if(w)return Promise.reject();if(T==null&&S.pages.length)return Promise.resolve(S);const M=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:T,direction:B?"backward":"forward",meta:e.options.meta};return A(k),k})(),N=await x(M),{maxPages:P}=e.options,O=B?Sre:Ere;return{pages:O(S.pages,N,P),pageParams:O(S.pageParams,T,P)}};if(i&&s.length){const S=i==="backward",T=S?Bre:hR,B={pages:s,pageParams:o},V=T(r,B);a=await E(B,V,S)}else{const S=n??s.length;do{const T=l===0?o[0]??r.initialPageParam:hR(r,a);if(l>0&&T==null)break;a=await E(a,T),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var w,A;return(A=(w=e.options).persister)==null?void 0:A.call(w,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function hR(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function Bre(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var $r,Ph,Rh,Zg,e0,Lh,t0,n0,Xj,Ure=(Xj=class{constructor(n={}){Y(this,$r);Y(this,Ph);Y(this,Rh);Y(this,Zg);Y(this,e0);Y(this,Lh);Y(this,t0);Y(this,n0);$(this,$r,n.queryCache||new Dre),$(this,Ph,n.mutationCache||new Fre),$(this,Rh,n.defaultOptions||{}),$(this,Zg,new Map),$(this,e0,new Map),$(this,Lh,0)}mount(){Di(this,Lh)._++,m(this,Lh)===1&&($(this,t0,OU.subscribe(async n=>{n&&(await this.resumePausedMutations(),m(this,$r).onFocus())})),$(this,n0,V3.subscribe(async n=>{n&&(await this.resumePausedMutations(),m(this,$r).onOnline())})))}unmount(){var n,e;Di(this,Lh)._--,m(this,Lh)===0&&((n=m(this,t0))==null||n.call(this),$(this,t0,void 0),(e=m(this,n0))==null||e.call(this),$(this,n0,void 0))}isFetching(n){return m(this,$r).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return m(this,Ph).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=m(this,$r).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=m(this,$r).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(RS(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return m(this,$r).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=m(this,$r).get(r.queryHash),s=i==null?void 0:i.state.data,o=yre(e,s);if(o!==void 0)return m(this,$r).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Ys.batch(()=>m(this,$r).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=m(this,$r).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=m(this,$r);Ys.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=m(this,$r);return Ys.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Ys.batch(()=>m(this,$r).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(_l).catch(_l)}invalidateQueries(n,e={}){return Ys.batch(()=>(m(this,$r).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Ys.batch(()=>m(this,$r).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(_l)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(_l)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=m(this,$r).build(this,e);return t.isStaleByTime(RS(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(_l).catch(_l)}fetchInfiniteQuery(n){return n.behavior=dR(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(_l).catch(_l)}ensureInfiniteQueryData(n){return n.behavior=dR(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return V3.isOnline()?m(this,Ph).resumePausedMutations():Promise.resolve()}getQueryCache(){return m(this,$r)}getMutationCache(){return m(this,Ph)}getDefaultOptions(){return m(this,Rh)}setDefaultOptions(n){$(this,Rh,n)}setQueryDefaults(n,e){m(this,Zg).set(Qy(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...m(this,Zg).values()],t={};return e.forEach(r=>{Jy(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){m(this,e0).set(Qy(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...m(this,e0).values()],t={};return e.forEach(r=>{Jy(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...m(this,Rh).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=LN(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===MN&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...m(this,Rh).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){m(this,$r).clear(),m(this,Ph).clear()}},$r=new WeakMap,Ph=new WeakMap,Rh=new WeakMap,Zg=new WeakMap,e0=new WeakMap,Lh=new WeakMap,t0=new WeakMap,n0=new WeakMap,Xj),Vre=D.createContext(void 0),zre=({client:n,children:e})=>(D.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d.jsx(Vre.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zy(){return Zy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Zy.apply(this,arguments)}var uf;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(uf||(uf={}));const fR="popstate";function $re(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return MS("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:z3(i)}return Hre(e,t,null,n)}function ai(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zU(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qre(){return Math.random().toString(36).substr(2,8)}function pR(n,e){return{usr:n.state,key:n.key,idx:e}}function MS(n,e,t,r){return t===void 0&&(t=null),Zy({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?M2(e):e,{state:t,key:e&&e.key||r||qre()})}function z3(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function M2(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Hre(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=uf.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Zy({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=uf.Pop;let A=u(),x=A==null?null:A-c;c=A,l&&l({action:a,location:w.location,delta:x})}function p(A,x){a=uf.Push;let E=MS(w.location,A,x);c=u()+1;let S=pR(E,c),T=w.createHref(E);try{o.pushState(S,"",T)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(T)}s&&l&&l({action:a,location:w.location,delta:1})}function f(A,x){a=uf.Replace;let E=MS(w.location,A,x);c=u();let S=pR(E,c),T=w.createHref(E);o.replaceState(S,"",T),s&&l&&l({action:a,location:w.location,delta:0})}function b(A){let x=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof A=="string"?A:z3(A);return E=E.replace(/ $/,"%20"),ai(x,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,x)}let w={get action(){return a},get location(){return n(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(fR,h),l=A,()=>{i.removeEventListener(fR,h),l=null}},createHref(A){return e(i,A)},createURL:b,encodeLocation(A){let x=b(A);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:f,go(A){return o.go(A)}};return w}var mR;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(mR||(mR={}));function Wre(n,e,t){return t===void 0&&(t="/"),Gre(n,e,t,!1)}function Gre(n,e,t,r){let i=typeof e=="string"?M2(e):e,s=DN(i.pathname||"/",t);if(s==null)return null;let o=$U(n);Kre(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=sie(s);a=rie(o[l],c,r)}return a}function $U(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ai(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ef([r,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(ai(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$U(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:tie(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of qU(s.path))i(s,o,l)}),e}function qU(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=qU(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function Kre(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:nie(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Yre=/^:[\w-]+$/,Xre=3,Qre=2,Jre=1,Zre=10,eie=-2,gR=n=>n==="*";function tie(n,e){let t=n.split("/"),r=t.length;return t.some(gR)&&(r+=eie),e&&(r+=Qre),t.filter(i=>!gR(i)).reduce((i,s)=>i+(Yre.test(s)?Xre:s===""?Jre:Zre),r)}function nie(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function rie(n,e,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=vR({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&t&&!r[r.length-1].route.index&&(h=vR({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ef([s,h.pathname]),pathnameBase:cie(Ef([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Ef([s,h.pathnameBase]))}return o}function vR(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=iie(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:p,isOptional:f}=u;if(p==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const b=a[h];return f&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function iie(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),zU(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sie(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zU(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function DN(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function oie(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?M2(n):n;return{pathname:t?t.startsWith("/")?t:aie(t,e):e,search:uie(r),hash:die(i)}}function aie(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function cE(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lie(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jN(n,e){let t=lie(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function ON(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=M2(n):(i=Zy({},n),ai(!i.pathname||!i.pathname.includes("?"),cE("?","pathname","search",i)),ai(!i.pathname||!i.pathname.includes("#"),cE("#","pathname","hash",i)),ai(!i.search||!i.search.includes("#"),cE("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=oie(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ef=n=>n.join("/").replace(/\/\/+/g,"/"),cie=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),uie=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,die=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hie(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const HU=["post","put","patch","delete"];new Set(HU);const fie=["get",...HU];new Set(fie);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e5(){return e5=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},e5.apply(this,arguments)}const FN=D.createContext(null),pie=D.createContext(null),Gf=D.createContext(null),v6=D.createContext(null),cu=D.createContext({outlet:null,matches:[],isDataRoute:!1}),WU=D.createContext(null);function mie(n,e){let{relative:t}=e===void 0?{}:e;D2()||ai(!1);let{basename:r,navigator:i}=D.useContext(Gf),{hash:s,pathname:o,search:a}=KU(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Ef([r,o])),i.createHref({pathname:l,search:a,hash:s})}function D2(){return D.useContext(v6)!=null}function Ud(){return D2()||ai(!1),D.useContext(v6).location}function GU(n){D.useContext(Gf).static||D.useLayoutEffect(n)}function x1(){let{isDataRoute:n}=D.useContext(cu);return n?Pie():gie()}function gie(){D2()||ai(!1);let n=D.useContext(FN),{basename:e,future:t,navigator:r}=D.useContext(Gf),{matches:i}=D.useContext(cu),{pathname:s}=Ud(),o=JSON.stringify(jN(i,t.v7_relativeSplatPath)),a=D.useRef(!1);return GU(()=>{a.current=!0}),D.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=ON(c,JSON.parse(o),s,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ef([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,n])}const vie=D.createContext(null);function yie(n){let e=D.useContext(cu).outlet;return e&&D.createElement(vie.Provider,{value:n},e)}function wie(){let{matches:n}=D.useContext(cu),e=n[n.length-1];return e?e.params:{}}function KU(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=D.useContext(Gf),{matches:i}=D.useContext(cu),{pathname:s}=Ud(),o=JSON.stringify(jN(i,r.v7_relativeSplatPath));return D.useMemo(()=>ON(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function bie(n,e){return xie(n,e)}function xie(n,e,t,r){D2()||ai(!1);let{navigator:i}=D.useContext(Gf),{matches:s}=D.useContext(cu),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ud(),u;if(e){var h;let A=typeof e=="string"?M2(e):e;l==="/"||(h=A.pathname)!=null&&h.startsWith(l)||ai(!1),u=A}else u=c;let p=u.pathname||"/",f=p;if(l!=="/"){let A=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(A.length).join("/")}let b=Wre(n,{pathname:f}),w=Cie(b&&b.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:Ef([l,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:Ef([l,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,t,r);return e&&w?D.createElement(v6.Provider,{value:{location:e5({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:uf.Pop}},w):w}function _ie(){let n=Iie(),e=hie(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:i},t):null,null)}const Aie=D.createElement(_ie,null);class Eie extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(cu.Provider,{value:this.props.routeContext},D.createElement(WU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sie(n){let{routeContext:e,match:t,children:r}=n,i=D.useContext(FN);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(cu.Provider,{value:e},r)}function Cie(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||ai(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:f}=t,b=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let f,b=!1,w=null,A=null;t&&(f=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||Aie,l&&(c<0&&p===0?(b=!0,A=null):c===p&&(b=!0,A=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),E=()=>{let S;return f?S=w:b?S=A:h.route.Component?S=D.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=u,D.createElement(Sie,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:t!=null},children:S})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?D.createElement(Eie,{location:t.location,revalidation:t.revalidation,component:w,error:f,children:E(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):E()},null)}var YU=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(YU||{}),$3=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}($3||{});function Tie(n){let e=D.useContext(FN);return e||ai(!1),e}function Nie(n){let e=D.useContext(pie);return e||ai(!1),e}function kie(n){let e=D.useContext(cu);return e||ai(!1),e}function XU(n){let e=kie(),t=e.matches[e.matches.length-1];return t.route.id||ai(!1),t.route.id}function Iie(){var n;let e=D.useContext(WU),t=Nie($3.UseRouteError),r=XU($3.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Pie(){let{router:n}=Tie(YU.UseNavigateStable),e=XU($3.UseNavigateStable),t=D.useRef(!1);return GU(()=>{t.current=!0}),D.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,e5({fromRouteId:e},s)))},[n,e])}function Rie(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Lie(n){let{to:e,replace:t,state:r,relative:i}=n;D2()||ai(!1);let{future:s,static:o}=D.useContext(Gf),{matches:a}=D.useContext(cu),{pathname:l}=Ud(),c=x1(),u=ON(e,jN(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return D.useEffect(()=>c(JSON.parse(h),{replace:t,state:r,relative:i}),[c,h,i,t,r]),null}function Mie(n){return yie(n.context)}function vo(n){ai(!1)}function Die(n){let{basename:e="/",children:t=null,location:r,navigationType:i=uf.Pop,navigator:s,static:o=!1,future:a}=n;D2()&&ai(!1);let l=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:l,navigator:s,static:o,future:e5({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=M2(r));let{pathname:u="/",search:h="",hash:p="",state:f=null,key:b="default"}=r,w=D.useMemo(()=>{let A=DN(u,l);return A==null?null:{location:{pathname:A,search:h,hash:p,state:f,key:b},navigationType:i}},[l,u,h,p,f,b,i]);return w==null?null:D.createElement(Gf.Provider,{value:c},D.createElement(v6.Provider,{children:t,value:w}))}function jie(n){let{children:e,location:t}=n;return bie(DS(e),t)}new Promise(()=>{});function DS(n,e){e===void 0&&(e=[]);let t=[];return D.Children.forEach(n,(r,i)=>{if(!D.isValidElement(r))return;let s=[...e,i];if(r.type===D.Fragment){t.push.apply(t,DS(r.props.children,s));return}r.type!==vo&&ai(!1),!r.props.index||!r.props.children||ai(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=DS(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jS(){return jS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jS.apply(this,arguments)}function Oie(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Fie(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Bie(n,e){return n.button===0&&(!e||e==="_self")&&!Fie(n)}function OS(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function Uie(n,e){let t=OS(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}const Vie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zie="6";try{window.__reactRouterVersion=zie}catch{}const $ie="startTransition",yR=xT[$ie];function qie(n){let{basename:e,children:t,future:r,window:i}=n,s=D.useRef();s.current==null&&(s.current=$re({window:i,v5Compat:!0}));let o=s.current,[a,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=D.useCallback(h=>{c&&yR?yR(()=>l(h)):l(h)},[l,c]);return D.useLayoutEffect(()=>o.listen(u),[o,u]),D.useEffect(()=>Rie(r),[r]),D.createElement(Die,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}const Hie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=D.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,p=Oie(e,Vie),{basename:f}=D.useContext(Gf),b,w=!1;if(typeof c=="string"&&Wie.test(c)&&(b=c,Hie))try{let S=new URL(window.location.href),T=c.startsWith("//")?new URL(S.protocol+c):new URL(c),B=DN(T.pathname,f);T.origin===S.origin&&B!=null?c=B+T.search+T.hash:w=!0}catch{}let A=mie(c,{relative:i}),x=Gie(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function E(S){r&&r(S),S.defaultPrevented||x(S)}return D.createElement("a",jS({},p,{href:b||A,onClick:w||s?r:E,ref:t,target:l}))});var wR;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(wR||(wR={}));var bR;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(bR||(bR={}));function Gie(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=x1(),c=Ud(),u=KU(n,{relative:o});return D.useCallback(h=>{if(Bie(h,t)){h.preventDefault();let p=r!==void 0?r:z3(c)===z3(u);l(n,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,t,n,s,o,a])}function QU(n){let e=D.useRef(OS(n)),t=D.useRef(!1),r=Ud(),i=D.useMemo(()=>Uie(r.search,t.current?null:e.current),[r.search]),s=x1(),o=D.useCallback((a,l)=>{const c=OS(typeof a=="function"?a(i):a);t.current=!0,s("?"+c,l)},[s,i]);return[i,o]}const Kie=wN("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-lg hover:-translate-y-0.5",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-primary text-primary-foreground shadow-lg hover:shadow-xl hover:-translate-y-1 hover:shadow-glow",heroOutline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",success:"bg-success text-success-foreground hover:bg-success/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg font-semibold",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Qe=D.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?JJ:"button";return d.jsx(o,{className:wr(Kie({variant:e,size:t,className:n})),ref:s,...i})});Qe.displayName="Button";const Ni=D.forwardRef(({className:n,type:e,...t},r)=>d.jsx("input",{type:e,className:wr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));Ni.displayName="Input";const Yie="/assets/logo-Dp4nOnnn.png",so=({className:n})=>{const e=Yie;return d.jsx(Ze,{to:"/",className:`flex items-center gap-2.5 ${n}`,children:d.jsx("img",{src:e,alt:"Logo",className:"h-full w-auto shrink-0 object-contain rounded-xl"})})};var Xie=D.createContext(void 0);function JU(n){const e=D.useContext(Xie);return n||e||"ltr"}var uE=0;function Qie(){D.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??xR()),document.body.insertAdjacentElement("beforeend",n[1]??xR()),uE++,()=>{uE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),uE--}},[])}function xR(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var dE="focusScope.autoFocusOnMount",hE="focusScope.autoFocusOnUnmount",_R={bubbles:!1,cancelable:!0},Jie="FocusScope",ZU=D.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,l]=D.useState(null),c=Aa(i),u=Aa(s),h=D.useRef(null),p=Gi(e,w=>l(w)),f=D.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;D.useEffect(()=>{if(r){let w=function(S){if(f.paused||!a)return;const T=S.target;a.contains(T)?h.current=T:vh(h.current,{select:!0})},A=function(S){if(f.paused||!a)return;const T=S.relatedTarget;T!==null&&(a.contains(T)||vh(h.current,{select:!0}))},x=function(S){if(document.activeElement===document.body)for(const B of S)B.removedNodes.length>0&&vh(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",A);const E=new MutationObserver(x);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",A),E.disconnect()}}},[r,a,f.paused]),D.useEffect(()=>{if(a){ER.add(f);const w=document.activeElement;if(!a.contains(w)){const x=new CustomEvent(dE,_R);a.addEventListener(dE,c),a.dispatchEvent(x),x.defaultPrevented||(Zie(ise(eV(a)),{select:!0}),document.activeElement===w&&vh(a))}return()=>{a.removeEventListener(dE,c),setTimeout(()=>{const x=new CustomEvent(hE,_R);a.addEventListener(hE,u),a.dispatchEvent(x),x.defaultPrevented||vh(w??document.body,{select:!0}),a.removeEventListener(hE,u),ER.remove(f)},0)}}},[a,c,u,f]);const b=D.useCallback(w=>{if(!t&&!r||f.paused)return;const A=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,x=document.activeElement;if(A&&x){const E=w.currentTarget,[S,T]=ese(E);S&&T?!w.shiftKey&&x===T?(w.preventDefault(),t&&vh(S,{select:!0})):w.shiftKey&&x===S&&(w.preventDefault(),t&&vh(T,{select:!0})):x===E&&w.preventDefault()}},[t,r,f.paused]);return d.jsx(yr.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});ZU.displayName=Jie;function Zie(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(vh(r,{select:e}),document.activeElement!==t)return}function ese(n){const e=eV(n),t=AR(e,n),r=AR(e.reverse(),n);return[t,r]}function eV(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function AR(n,e){for(const t of n)if(!tse(t,{upTo:e}))return t}function tse(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function nse(n){return n instanceof HTMLInputElement&&"select"in n}function vh(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&nse(n)&&e&&n.select()}}var ER=rse();function rse(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=SR(n,e),n.unshift(e)},remove(e){var t;n=SR(n,e),(t=n[0])==null||t.resume()}}}function SR(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function ise(n){return n.filter(e=>e.tagName!=="A")}var fE="rovingFocusGroup.onEntryFocus",sse={bubbles:!1,cancelable:!0},tb="RovingFocusGroup",[FS,tV,ose]=hN(tb),[ase,nV]=w1(tb,[ose]),[lse,cse]=ase(tb),rV=D.forwardRef((n,e)=>d.jsx(FS.Provider,{scope:n.__scopeRovingFocusGroup,children:d.jsx(FS.Slot,{scope:n.__scopeRovingFocusGroup,children:d.jsx(use,{...n,ref:e})})}));rV.displayName=tb;var use=D.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=n,p=D.useRef(null),f=Gi(e,p),b=JU(s),[w,A]=mN({prop:o,defaultProp:a??null,onChange:l,caller:tb}),[x,E]=D.useState(!1),S=Aa(c),T=tV(t),B=D.useRef(!1),[V,M]=D.useState(0);return D.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(fE,S),()=>N.removeEventListener(fE,S)},[S]),d.jsx(lse,{scope:t,orientation:r,dir:b,loop:i,currentTabStopId:w,onItemFocus:D.useCallback(N=>A(N),[A]),onItemShiftTab:D.useCallback(()=>E(!0),[]),onFocusableItemAdd:D.useCallback(()=>M(N=>N+1),[]),onFocusableItemRemove:D.useCallback(()=>M(N=>N-1),[]),children:d.jsx(yr.div,{tabIndex:x||V===0?-1:0,"data-orientation":r,...h,ref:f,style:{outline:"none",...n.style},onMouseDown:Dt(n.onMouseDown,()=>{B.current=!0}),onFocus:Dt(n.onFocus,N=>{const P=!B.current;if(N.target===N.currentTarget&&P&&!x){const O=new CustomEvent(fE,sse);if(N.currentTarget.dispatchEvent(O),!O.defaultPrevented){const k=T().filter(de=>de.focusable),j=k.find(de=>de.active),L=k.find(de=>de.id===w),ue=[j,L,...k].filter(Boolean).map(de=>de.ref.current);oV(ue,u)}}B.current=!1}),onBlur:Dt(n.onBlur,()=>E(!1))})})}),iV="RovingFocusGroupItem",sV=D.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=n,l=TS(),c=s||l,u=cse(iV,t),h=u.currentTabStopId===c,p=tV(t),{onFocusableItemAdd:f,onFocusableItemRemove:b,currentTabStopId:w}=u;return D.useEffect(()=>{if(r)return f(),()=>b()},[r,f,b]),d.jsx(FS.ItemSlot,{scope:t,id:c,focusable:r,active:i,children:d.jsx(yr.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Dt(n.onMouseDown,A=>{r?u.onItemFocus(c):A.preventDefault()}),onFocus:Dt(n.onFocus,()=>u.onItemFocus(c)),onKeyDown:Dt(n.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){u.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const x=fse(A,u.orientation,u.dir);if(x!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let S=p().filter(T=>T.focusable).map(T=>T.ref.current);if(x==="last")S.reverse();else if(x==="prev"||x==="next"){x==="prev"&&S.reverse();const T=S.indexOf(A.currentTarget);S=u.loop?pse(S,T+1):S.slice(T+1)}setTimeout(()=>oV(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:w!=null}):o})})});sV.displayName=iV;var dse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hse(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function fse(n,e,t){const r=hse(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return dse[r]}function oV(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function pse(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var mse=rV,gse=sV,vse=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},q1=new WeakMap,bx=new WeakMap,xx={},pE=0,aV=function(n){return n&&(n.host||aV(n.parentNode))},yse=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=aV(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},wse=function(n,e,t,r){var i=yse(e,Array.isArray(n)?n:[n]);xx[t]||(xx[t]=new WeakMap);var s=xx[t],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))u(p);else try{var f=p.getAttribute(r),b=f!==null&&f!=="false",w=(q1.get(p)||0)+1,A=(s.get(p)||0)+1;q1.set(p,w),s.set(p,A),o.push(p),w===1&&b&&bx.set(p,!0),A===1&&p.setAttribute(t,"true"),b||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return u(e),a.clear(),pE++,function(){o.forEach(function(h){var p=q1.get(h)-1,f=s.get(h)-1;q1.set(h,p),s.set(h,f),p||(bx.has(h)||h.removeAttribute(r),bx.delete(h)),f||h.removeAttribute(t)}),pE--,pE||(q1=new WeakMap,q1=new WeakMap,bx=new WeakMap,xx={})}},bse=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=vse(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),wse(r,i,t,"aria-hidden")):function(){return null}},BS=function(n,e){return BS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},BS(n,e)};function xse(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");BS(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var cr=function(){return cr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},cr.apply(this,arguments)};function nb(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function _se(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var h4="right-scroll-bar-position",f4="width-before-scroll-bar",Ase="with-scroll-bars-hidden",Ese="--removed-body-scroll-bar-size";function mE(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Sse(n,e){var t=D.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var Cse=typeof window<"u"?D.useLayoutEffect:D.useEffect,CR=new WeakMap;function Tse(n,e){var t=Sse(null,function(r){return n.forEach(function(i){return mE(i,r)})});return Cse(function(){var r=CR.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||mE(a,null)}),s.forEach(function(a){i.has(a)||mE(a,o)})}CR.set(t,n)},[n]),t}function Nse(n){return n}function kse(n,e){e===void 0&&(e=Nse);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),t}}}};return i}function Ise(n){n===void 0&&(n={});var e=kse(null);return e.options=cr({async:!0,ssr:!1},n),e}var lV=function(n){var e=n.sideCar,t=nb(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return D.createElement(r,cr({},t))};lV.isSideCarExport=!0;function Pse(n,e){return n.useMedium(e),lV}var cV=Ise(),gE=function(){},y6=D.forwardRef(function(n,e){var t=D.useRef(null),r=D.useState({onScrollCapture:gE,onWheelCapture:gE,onTouchMoveCapture:gE}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,l=n.className,c=n.removeScrollBar,u=n.enabled,h=n.shards,p=n.sideCar,f=n.noRelative,b=n.noIsolation,w=n.inert,A=n.allowPinchZoom,x=n.as,E=x===void 0?"div":x,S=n.gapMode,T=nb(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=p,V=Tse([t,e]),M=cr(cr({},T),i);return D.createElement(D.Fragment,null,u&&D.createElement(B,{sideCar:cV,removeScrollBar:c,shards:h,noRelative:f,noIsolation:b,inert:w,setCallbacks:s,allowPinchZoom:!!A,lockRef:t,gapMode:S}),o?D.cloneElement(D.Children.only(a),cr(cr({},M),{ref:V})):D.createElement(E,cr({},M,{className:l,ref:V}),a))});y6.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};y6.classNames={fullWidth:f4,zeroRight:h4};var Rse=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Lse(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Rse();return e&&n.setAttribute("nonce",e),n}function Mse(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Dse(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var jse=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Lse())&&(Mse(e,t),Dse(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ose=function(){var n=jse();return function(e,t){D.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},uV=function(){var n=Ose(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},Fse={left:0,top:0,right:0,gap:0},vE=function(n){return parseInt(n||"",10)||0},Bse=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[vE(t),vE(r),vE(i)]},Use=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Fse;var e=Bse(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},Vse=uV(),Mg="data-scroll-locked",zse=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(Ase,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Mg,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(h4,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(f4,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(h4," .").concat(h4,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(f4," .").concat(f4,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Mg,`] {
    `).concat(Ese,": ").concat(a,`px;
  }
`)},TR=function(){var n=parseInt(document.body.getAttribute(Mg)||"0",10);return isFinite(n)?n:0},$se=function(){D.useEffect(function(){return document.body.setAttribute(Mg,(TR()+1).toString()),function(){var n=TR()-1;n<=0?document.body.removeAttribute(Mg):document.body.setAttribute(Mg,n.toString())}},[])},qse=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;$se();var s=D.useMemo(function(){return Use(i)},[i]);return D.createElement(Vse,{styles:zse(s,!e,i,t?"":"!important")})},US=!1;if(typeof window<"u")try{var _x=Object.defineProperty({},"passive",{get:function(){return US=!0,!0}});window.addEventListener("test",_x,_x),window.removeEventListener("test",_x,_x)}catch{US=!1}var H1=US?{passive:!1}:!1,Hse=function(n){return n.tagName==="TEXTAREA"},dV=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Hse(n)&&t[e]==="visible")},Wse=function(n){return dV(n,"overflowY")},Gse=function(n){return dV(n,"overflowX")},NR=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=hV(n,r);if(i){var s=fV(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Kse=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},Yse=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},hV=function(n,e){return n==="v"?Wse(e):Gse(e)},fV=function(n,e){return n==="v"?Kse(e):Yse(e)},Xse=function(n,e){return n==="h"&&e==="rtl"?-1:1},Qse=function(n,e,t,r,i){var s=Xse(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),c=!1,u=o>0,h=0,p=0;do{if(!a)break;var f=fV(n,a),b=f[0],w=f[1],A=f[2],x=w-A-s*b;(b||x)&&hV(n,a)&&(h+=x,p+=b);var E=a.parentNode;a=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!i)||!u&&(Math.abs(p)<1||!i))&&(c=!0),c},Ax=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},kR=function(n){return[n.deltaX,n.deltaY]},IR=function(n){return n&&"current"in n?n.current:n},Jse=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Zse=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},eoe=0,W1=[];function toe(n){var e=D.useRef([]),t=D.useRef([0,0]),r=D.useRef(),i=D.useState(eoe++)[0],s=D.useState(uV)[0],o=D.useRef(n);D.useEffect(function(){o.current=n},[n]),D.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var w=_se([n.lockRef.current],(n.shards||[]).map(IR),!0).filter(Boolean);return w.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=D.useCallback(function(w,A){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var x=Ax(w),E=t.current,S="deltaX"in w?w.deltaX:E[0]-x[0],T="deltaY"in w?w.deltaY:E[1]-x[1],B,V=w.target,M=Math.abs(S)>Math.abs(T)?"h":"v";if("touches"in w&&M==="h"&&V.type==="range")return!1;var N=NR(M,V);if(!N)return!0;if(N?B=M:(B=M==="v"?"h":"v",N=NR(M,V)),!N)return!1;if(!r.current&&"changedTouches"in w&&(S||T)&&(r.current=B),!B)return!0;var P=r.current||B;return Qse(P,A,w,P==="h"?S:T,!0)},[]),l=D.useCallback(function(w){var A=w;if(!(!W1.length||W1[W1.length-1]!==s)){var x="deltaY"in A?kR(A):Ax(A),E=e.current.filter(function(B){return B.name===A.type&&(B.target===A.target||A.target===B.shadowParent)&&Jse(B.delta,x)})[0];if(E&&E.should){A.cancelable&&A.preventDefault();return}if(!E){var S=(o.current.shards||[]).map(IR).filter(Boolean).filter(function(B){return B.contains(A.target)}),T=S.length>0?a(A,S[0]):!o.current.noIsolation;T&&A.cancelable&&A.preventDefault()}}},[]),c=D.useCallback(function(w,A,x,E){var S={name:w,delta:A,target:x,should:E,shadowParent:noe(x)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(T){return T!==S})},1)},[]),u=D.useCallback(function(w){t.current=Ax(w),r.current=void 0},[]),h=D.useCallback(function(w){c(w.type,kR(w),w.target,a(w,n.lockRef.current))},[]),p=D.useCallback(function(w){c(w.type,Ax(w),w.target,a(w,n.lockRef.current))},[]);D.useEffect(function(){return W1.push(s),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,H1),document.addEventListener("touchmove",l,H1),document.addEventListener("touchstart",u,H1),function(){W1=W1.filter(function(w){return w!==s}),document.removeEventListener("wheel",l,H1),document.removeEventListener("touchmove",l,H1),document.removeEventListener("touchstart",u,H1)}},[]);var f=n.removeScrollBar,b=n.inert;return D.createElement(D.Fragment,null,b?D.createElement(s,{styles:Zse(i)}):null,f?D.createElement(qse,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function noe(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const roe=Pse(cV,toe);var pV=D.forwardRef(function(n,e){return D.createElement(y6,cr({},n,{ref:e,sideCar:roe}))});pV.classNames=y6.classNames;var VS=["Enter"," "],ioe=["ArrowDown","PageUp","Home"],mV=["ArrowUp","PageDown","End"],soe=[...ioe,...mV],ooe={ltr:[...VS,"ArrowRight"],rtl:[...VS,"ArrowLeft"]},aoe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},rb="Menu",[t5,loe,coe]=hN(rb),[_1,gV]=w1(rb,[coe,h6,nV]),w6=h6(),vV=nV(),[uoe,A1]=_1(rb),[doe,ib]=_1(rb),yV=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=n,a=w6(e),[l,c]=D.useState(null),u=D.useRef(!1),h=Aa(s),p=JU(i);return D.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),d.jsx(Jne,{...a,children:d.jsx(uoe,{scope:e,open:t,onOpenChange:h,content:l,onContentChange:c,children:d.jsx(doe,{scope:e,onClose:D.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};yV.displayName=rb;var hoe="MenuAnchor",BN=D.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=w6(t);return d.jsx(EU,{...i,...r,ref:e})});BN.displayName=hoe;var UN="MenuPortal",[foe,wV]=_1(UN,{forceMount:void 0}),bV=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,s=A1(UN,e);return d.jsx(foe,{scope:e,forceMount:t,children:d.jsx(b1,{present:t||s.open,children:d.jsx(pN,{asChild:!0,container:i,children:r})})})};bV.displayName=UN;var nl="MenuContent",[poe,VN]=_1(nl),xV=D.forwardRef((n,e)=>{const t=wV(nl,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=A1(nl,n.__scopeMenu),o=ib(nl,n.__scopeMenu);return d.jsx(t5.Provider,{scope:n.__scopeMenu,children:d.jsx(b1,{present:r||s.open,children:d.jsx(t5.Slot,{scope:n.__scopeMenu,children:o.modal?d.jsx(moe,{...i,ref:e}):d.jsx(goe,{...i,ref:e})})})})}),moe=D.forwardRef((n,e)=>{const t=A1(nl,n.__scopeMenu),r=D.useRef(null),i=Gi(e,r);return D.useEffect(()=>{const s=r.current;if(s)return bse(s)},[]),d.jsx(zN,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Dt(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),goe=D.forwardRef((n,e)=>{const t=A1(nl,n.__scopeMenu);return d.jsx(zN,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),voe=Wy("MenuContent.ScrollLock"),zN=D.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:f,disableOutsideScroll:b,...w}=n,A=A1(nl,t),x=ib(nl,t),E=w6(t),S=vV(t),T=loe(t),[B,V]=D.useState(null),M=D.useRef(null),N=Gi(e,M,A.onContentChange),P=D.useRef(0),O=D.useRef(""),k=D.useRef(0),j=D.useRef(null),L=D.useRef("right"),W=D.useRef(0),ue=b?pV:D.Fragment,de=b?{as:voe,allowPinchZoom:!0}:void 0,le=re=>{var he,Ee;const ge=O.current+re,ye=T().filter(xe=>!xe.disabled),z=document.activeElement,Q=(he=ye.find(xe=>xe.ref.current===z))==null?void 0:he.textValue,ie=ye.map(xe=>xe.textValue),ce=koe(ie,ge,Q),fe=(Ee=ye.find(xe=>xe.textValue===ce))==null?void 0:Ee.ref.current;(function xe(Ae){O.current=Ae,window.clearTimeout(P.current),Ae!==""&&(P.current=window.setTimeout(()=>xe(""),1e3))})(ge),fe&&setTimeout(()=>fe.focus())};D.useEffect(()=>()=>window.clearTimeout(P.current),[]),Qie();const J=D.useCallback(re=>{var ye,z;return L.current===((ye=j.current)==null?void 0:ye.side)&&Poe(re,(z=j.current)==null?void 0:z.area)},[]);return d.jsx(poe,{scope:t,searchRef:O,onItemEnter:D.useCallback(re=>{J(re)&&re.preventDefault()},[J]),onItemLeave:D.useCallback(re=>{var ge;J(re)||((ge=M.current)==null||ge.focus(),V(null))},[J]),onTriggerLeave:D.useCallback(re=>{J(re)&&re.preventDefault()},[J]),pointerGraceTimerRef:k,onPointerGraceIntentChange:D.useCallback(re=>{j.current=re},[]),children:d.jsx(ue,{...de,children:d.jsx(ZU,{asChild:!0,trapped:i,onMountAutoFocus:Dt(s,re=>{var ge;re.preventDefault(),(ge=M.current)==null||ge.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(i6,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:f,children:d.jsx(mse,{asChild:!0,...S,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:V,onEntryFocus:Dt(l,re=>{x.isUsingKeyboardRef.current||re.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(SU,{role:"menu","aria-orientation":"vertical","data-state":OV(A.open),"data-radix-menu-content":"",dir:x.dir,...E,...w,ref:N,style:{outline:"none",...w.style},onKeyDown:Dt(w.onKeyDown,re=>{const ye=re.target.closest("[data-radix-menu-content]")===re.currentTarget,z=re.ctrlKey||re.altKey||re.metaKey,Q=re.key.length===1;ye&&(re.key==="Tab"&&re.preventDefault(),!z&&Q&&le(re.key));const ie=M.current;if(re.target!==ie||!soe.includes(re.key))return;re.preventDefault();const fe=T().filter(he=>!he.disabled).map(he=>he.ref.current);mV.includes(re.key)&&fe.reverse(),Toe(fe)}),onBlur:Dt(n.onBlur,re=>{re.currentTarget.contains(re.target)||(window.clearTimeout(P.current),O.current="")}),onPointerMove:Dt(n.onPointerMove,n5(re=>{const ge=re.target,ye=W.current!==re.clientX;if(re.currentTarget.contains(ge)&&ye){const z=re.clientX>W.current?"right":"left";L.current=z,W.current=re.clientX}}))})})})})})})});xV.displayName=nl;var yoe="MenuGroup",$N=D.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(yr.div,{role:"group",...r,ref:e})});$N.displayName=yoe;var woe="MenuLabel",_V=D.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(yr.div,{...r,ref:e})});_V.displayName=woe;var q3="MenuItem",PR="menu.itemSelect",b6=D.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,s=D.useRef(null),o=ib(q3,n.__scopeMenu),a=VN(q3,n.__scopeMenu),l=Gi(e,s),c=D.useRef(!1),u=()=>{const h=s.current;if(!t&&h){const p=new CustomEvent(PR,{bubbles:!0,cancelable:!0});h.addEventListener(PR,f=>r==null?void 0:r(f),{once:!0}),fN(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return d.jsx(AV,{...i,ref:l,disabled:t,onClick:Dt(n.onClick,u),onPointerDown:h=>{var p;(p=n.onPointerDown)==null||p.call(n,h),c.current=!0},onPointerUp:Dt(n.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:Dt(n.onKeyDown,h=>{const p=a.searchRef.current!=="";t||p&&h.key===" "||VS.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});b6.displayName=q3;var AV=D.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...s}=n,o=VN(q3,t),a=vV(t),l=D.useRef(null),c=Gi(e,l),[u,h]=D.useState(!1),[p,f]=D.useState("");return D.useEffect(()=>{const b=l.current;b&&f((b.textContent??"").trim())},[s.children]),d.jsx(t5.ItemSlot,{scope:t,disabled:r,textValue:i??p,children:d.jsx(gse,{asChild:!0,...a,focusable:!r,children:d.jsx(yr.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Dt(n.onPointerMove,n5(b=>{r?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Dt(n.onPointerLeave,n5(b=>o.onItemLeave(b))),onFocus:Dt(n.onFocus,()=>h(!0)),onBlur:Dt(n.onBlur,()=>h(!1))})})})}),boe="MenuCheckboxItem",EV=D.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return d.jsx(kV,{scope:n.__scopeMenu,checked:t,children:d.jsx(b6,{role:"menuitemcheckbox","aria-checked":H3(t)?"mixed":t,...i,ref:e,"data-state":HN(t),onSelect:Dt(i.onSelect,()=>r==null?void 0:r(H3(t)?!0:!t),{checkForDefaultPrevented:!1})})})});EV.displayName=boe;var SV="MenuRadioGroup",[xoe,_oe]=_1(SV,{value:void 0,onValueChange:()=>{}}),CV=D.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,s=Aa(r);return d.jsx(xoe,{scope:n.__scopeMenu,value:t,onValueChange:s,children:d.jsx($N,{...i,ref:e})})});CV.displayName=SV;var TV="MenuRadioItem",NV=D.forwardRef((n,e)=>{const{value:t,...r}=n,i=_oe(TV,n.__scopeMenu),s=t===i.value;return d.jsx(kV,{scope:n.__scopeMenu,checked:s,children:d.jsx(b6,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":HN(s),onSelect:Dt(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,t)},{checkForDefaultPrevented:!1})})})});NV.displayName=TV;var qN="MenuItemIndicator",[kV,Aoe]=_1(qN,{checked:!1}),IV=D.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,s=Aoe(qN,t);return d.jsx(b1,{present:r||H3(s.checked)||s.checked===!0,children:d.jsx(yr.span,{...i,ref:e,"data-state":HN(s.checked)})})});IV.displayName=qN;var Eoe="MenuSeparator",PV=D.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(yr.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});PV.displayName=Eoe;var Soe="MenuArrow",RV=D.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=w6(t);return d.jsx(CU,{...i,...r,ref:e})});RV.displayName=Soe;var Coe="MenuSub",[W4e,LV]=_1(Coe),Mv="MenuSubTrigger",MV=D.forwardRef((n,e)=>{const t=A1(Mv,n.__scopeMenu),r=ib(Mv,n.__scopeMenu),i=LV(Mv,n.__scopeMenu),s=VN(Mv,n.__scopeMenu),o=D.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:n.__scopeMenu},u=D.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return D.useEffect(()=>u,[u]),D.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),d.jsx(BN,{asChild:!0,...c,children:d.jsx(AV,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":OV(t.open),...n,ref:r6(e,i.onTriggerChange),onClick:h=>{var p;(p=n.onClick)==null||p.call(n,h),!(n.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Dt(n.onPointerMove,n5(h=>{s.onItemEnter(h),!h.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),u()},100))})),onPointerLeave:Dt(n.onPointerLeave,n5(h=>{var f,b;u();const p=(f=t.content)==null?void 0:f.getBoundingClientRect();if(p){const w=(b=t.content)==null?void 0:b.dataset.side,A=w==="right",x=A?-5:5,E=p[A?"left":"right"],S=p[A?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:E,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:E,y:p.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Dt(n.onKeyDown,h=>{var f;const p=s.searchRef.current!=="";n.disabled||p&&h.key===" "||ooe[r.dir].includes(h.key)&&(t.onOpenChange(!0),(f=t.content)==null||f.focus(),h.preventDefault())})})})});MV.displayName=Mv;var DV="MenuSubContent",jV=D.forwardRef((n,e)=>{const t=wV(nl,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=A1(nl,n.__scopeMenu),o=ib(nl,n.__scopeMenu),a=LV(DV,n.__scopeMenu),l=D.useRef(null),c=Gi(e,l);return d.jsx(t5.Provider,{scope:n.__scopeMenu,children:d.jsx(b1,{present:r||s.open,children:d.jsx(t5.Slot,{scope:n.__scopeMenu,children:d.jsx(zN,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Dt(n.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Dt(n.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Dt(n.onKeyDown,u=>{var f;const h=u.currentTarget.contains(u.target),p=aoe[o.dir].includes(u.key);h&&p&&(s.onOpenChange(!1),(f=a.trigger)==null||f.focus(),u.preventDefault())})})})})})});jV.displayName=DV;function OV(n){return n?"open":"closed"}function H3(n){return n==="indeterminate"}function HN(n){return H3(n)?"indeterminate":n?"checked":"unchecked"}function Toe(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function Noe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function koe(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=Noe(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function Ioe(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,h=l.x,p=l.y;u>r!=p>r&&t<(h-c)*(r-u)/(p-u)+c&&(i=!i)}return i}function Poe(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return Ioe(t,e)}function n5(n){return e=>e.pointerType==="mouse"?n(e):void 0}var Roe=yV,Loe=BN,Moe=bV,Doe=xV,joe=$N,Ooe=_V,Foe=b6,Boe=EV,Uoe=CV,Voe=NV,zoe=IV,$oe=PV,qoe=RV,Hoe=MV,Woe=jV,x6="DropdownMenu",[Goe,G4e]=w1(x6,[gV]),lo=gV(),[Koe,FV]=Goe(x6),BV=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,l=lo(e),c=D.useRef(null),[u,h]=mN({prop:i,defaultProp:s??!1,onChange:o,caller:x6});return d.jsx(Koe,{scope:e,triggerId:TS(),triggerRef:c,contentId:TS(),open:u,onOpenChange:h,onOpenToggle:D.useCallback(()=>h(p=>!p),[h]),modal:a,children:d.jsx(Roe,{...l,open:u,onOpenChange:h,dir:r,modal:a,children:t})})};BV.displayName=x6;var UV="DropdownMenuTrigger",VV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,s=FV(UV,t),o=lo(t);return d.jsx(Loe,{asChild:!0,...o,children:d.jsx(yr.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:r6(e,s.triggerRef),onPointerDown:Dt(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Dt(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});VV.displayName=UV;var Yoe="DropdownMenuPortal",zV=n=>{const{__scopeDropdownMenu:e,...t}=n,r=lo(e);return d.jsx(Moe,{...r,...t})};zV.displayName=Yoe;var $V="DropdownMenuContent",qV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=FV($V,t),s=lo(t),o=D.useRef(!1);return d.jsx(Doe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Dt(n.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Dt(n.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qV.displayName=$V;var Xoe="DropdownMenuGroup",Qoe=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=lo(t);return d.jsx(joe,{...i,...r,ref:e})});Qoe.displayName=Xoe;var Joe="DropdownMenuLabel",HV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=lo(t);return d.jsx(Ooe,{...i,...r,ref:e})});HV.displayName=Joe;var Zoe="DropdownMenuItem",WV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=lo(t);return d.jsx(Foe,{...i,...r,ref:e})});WV.displayName=Zoe;var eae="DropdownMenuCheckboxItem",GV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=lo(t);return d.jsx(Boe,{...i,...r,ref:e})});GV.displayName=eae;var tae="DropdownMenuRadioGroup",nae=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=lo(t);return d.jsx(Uoe,{...i,...r,ref:e})});nae.displayName=tae;var rae="DropdownMenuRadioItem",KV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=lo(t);return d.jsx(Voe,{...i,...r,ref:e})});KV.displayName=rae;var iae="DropdownMenuItemIndicator",YV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=lo(t);return d.jsx(zoe,{...i,...r,ref:e})});YV.displayName=iae;var sae="DropdownMenuSeparator",XV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=lo(t);return d.jsx($oe,{...i,...r,ref:e})});XV.displayName=sae;var oae="DropdownMenuArrow",aae=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=lo(t);return d.jsx(qoe,{...i,...r,ref:e})});aae.displayName=oae;var lae="DropdownMenuSubTrigger",QV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=lo(t);return d.jsx(Hoe,{...i,...r,ref:e})});QV.displayName=lae;var cae="DropdownMenuSubContent",JV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=lo(t);return d.jsx(Woe,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JV.displayName=cae;var uae=BV,dae=VV,hae=zV,ZV=qV,ez=HV,tz=WV,nz=GV,rz=KV,iz=YV,sz=XV,oz=QV,az=JV;const yd=uae,wd=dae,fae=D.forwardRef(({className:n,inset:e,children:t,...r},i)=>d.jsxs(oz,{ref:i,className:wr("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",n),...r,children:[t,d.jsx(a6,{className:"ml-auto h-4 w-4"})]}));fae.displayName=oz.displayName;const pae=D.forwardRef(({className:n,...e},t)=>d.jsx(az,{ref:t,className:wr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));pae.displayName=az.displayName;const Zc=D.forwardRef(({className:n,sideOffset:e=4,...t},r)=>d.jsx(hae,{children:d.jsx(ZV,{ref:r,sideOffset:e,className:wr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));Zc.displayName=ZV.displayName;const oi=D.forwardRef(({className:n,inset:e,...t},r)=>d.jsx(tz,{ref:r,className:wr("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",n),...t}));oi.displayName=tz.displayName;const mae=D.forwardRef(({className:n,children:e,checked:t,...r},i)=>d.jsxs(nz,{ref:i,className:wr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),checked:t,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(iz,{children:d.jsx(D3,{className:"h-4 w-4"})})}),e]}));mae.displayName=nz.displayName;const gae=D.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(rz,{ref:r,className:wr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),...t,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(iz,{children:d.jsx(KZ,{className:"h-2 w-2 fill-current"})})}),e]}));gae.displayName=rz.displayName;const vae=D.forwardRef(({className:n,inset:e,...t},r)=>d.jsx(ez,{ref:r,className:wr("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));vae.displayName=ez.displayName;const lz=D.forwardRef(({className:n,...e},t)=>d.jsx(sz,{ref:t,className:wr("-mx-1 my-1 h-px bg-muted",n),...e}));lz.displayName=sz.displayName;var RR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},yae=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(p=64)),r.push(t[u],t[h],t[p],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cz(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):yae(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new wae;const p=s<<2|a>>4;if(r.push(p),c!==64){const f=a<<4&240|c>>2;if(r.push(f),h!==64){const b=c<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bae=function(n){const e=cz(n);return uz.encodeByteArray(e,!0)},W3=function(n){return bae(n).replace(/\./g,"")},dz=function(n){try{return uz.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ae=()=>xae().__FIREBASE_DEFAULTS__,Aae=()=>{if(typeof process>"u"||typeof RR>"u")return;const n=RR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Eae=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&dz(n[1]);return e&&JSON.parse(e)},_6=()=>{try{return _ae()||Aae()||Eae()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hz=n=>{var e,t;return(t=(e=_6())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},fz=n=>{const e=hz(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},pz=()=>{var n;return(n=_6())===null||n===void 0?void 0:n.config},mz=n=>{var e;return(e=_6())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cae(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[W3(JSON.stringify(t)),W3(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fs())}function Nae(){var n;const e=(n=_6())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kae(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gz(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Iae(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pae(){const n=Fs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Rae(){return!Nae()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vz(){try{return typeof indexedDB=="object"}catch{return!1}}function yz(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function Lae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mae="FirebaseError";class cl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Mae,Object.setPrototypeOf(this,cl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E1.prototype.create)}}class E1{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Dae(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new cl(i,a,r)}}function Dae(n,e){return n.replace(jae,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jae=/\{\$([^}]+)}/g;function Oae(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function r5(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(LR(s)&&LR(o)){if(!r5(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function LR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dv(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function jv(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Fae(n,e){const t=new Bae(n,e);return t.subscribe.bind(t)}class Bae{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Uae(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=yE),i.error===void 0&&(i.error=yE),i.complete===void 0&&(i.complete=yE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Uae(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function yE(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vae=1e3,zae=2,$ae=4*60*60*1e3,qae=.5;function MR(n,e=Vae,t=zae){const r=e*Math.pow(t,n),i=Math.round(qae*r*(Math.random()-.5)*2);return Math.min($ae,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(n){return n&&n._delegate?n._delegate:n}class ol{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hae{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Sae;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gae(e))try{this.getOrInitializeService({instanceIdentifier:vp})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=vp){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vp){return this.instances.has(e)}getOptions(e=vp){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Wae(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vp){return this.component?this.component.multipleInstances?e:vp:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wae(n){return n===vp?void 0:n}function Gae(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Hae(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(bn||(bn={}));const Yae={debug:bn.DEBUG,verbose:bn.VERBOSE,info:bn.INFO,warn:bn.WARN,error:bn.ERROR,silent:bn.SILENT},Xae=bn.INFO,Qae={[bn.DEBUG]:"log",[bn.VERBOSE]:"log",[bn.INFO]:"info",[bn.WARN]:"warn",[bn.ERROR]:"error"},Jae=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Qae[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class A6{constructor(e){this.name=e,this._logLevel=Xae,this._logHandler=Jae,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bn.DEBUG,...e),this._logHandler(this,bn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bn.VERBOSE,...e),this._logHandler(this,bn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bn.INFO,...e),this._logHandler(this,bn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bn.WARN,...e),this._logHandler(this,bn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bn.ERROR,...e),this._logHandler(this,bn.ERROR,...e)}}const Zae=(n,e)=>e.some(t=>n instanceof t);let DR,jR;function ele(){return DR||(DR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tle(){return jR||(jR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wz=new WeakMap,zS=new WeakMap,bz=new WeakMap,wE=new WeakMap,WN=new WeakMap;function nle(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Sf(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&wz.set(t,n)}).catch(()=>{}),WN.set(e,n),e}function rle(n){if(zS.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});zS.set(n,e)}let $S={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zS.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bz.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sf(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ile(n){$S=n($S)}function sle(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(bE(this),e,...t);return bz.set(r,e.sort?e.sort():[e]),Sf(r)}:tle().includes(n)?function(...e){return n.apply(bE(this),e),Sf(wz.get(this))}:function(...e){return Sf(n.apply(bE(this),e))}}function ole(n){return typeof n=="function"?sle(n):(n instanceof IDBTransaction&&rle(n),Zae(n,ele())?new Proxy(n,$S):n)}function Sf(n){if(n instanceof IDBRequest)return nle(n);if(wE.has(n))return wE.get(n);const e=ole(n);return e!==n&&(wE.set(n,e),WN.set(e,n)),e}const bE=n=>WN.get(n);function xz(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Sf(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Sf(o.result),l.oldVersion,l.newVersion,Sf(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const ale=["get","getKey","getAll","getAllKeys","count"],lle=["put","add","delete","clear"],xE=new Map;function OR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xE.get(e))return xE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=lle.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ale.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return xE.set(e,s),s}ile(n=>({...n,get:(e,t,r)=>OR(e,t)||n.get(e,t,r),has:(e,t)=>!!OR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cle{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ule(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ule(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qS="@firebase/app",FR="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=new A6("@firebase/app"),dle="@firebase/app-compat",hle="@firebase/analytics-compat",fle="@firebase/analytics",ple="@firebase/app-check-compat",mle="@firebase/app-check",gle="@firebase/auth",vle="@firebase/auth-compat",yle="@firebase/database",wle="@firebase/data-connect",ble="@firebase/database-compat",xle="@firebase/functions",_le="@firebase/functions-compat",Ale="@firebase/installations",Ele="@firebase/installations-compat",Sle="@firebase/messaging",Cle="@firebase/messaging-compat",Tle="@firebase/performance",Nle="@firebase/performance-compat",kle="@firebase/remote-config",Ile="@firebase/remote-config-compat",Ple="@firebase/storage",Rle="@firebase/storage-compat",Lle="@firebase/firestore",Mle="@firebase/vertexai-preview",Dle="@firebase/firestore-compat",jle="firebase",Ole="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="[DEFAULT]",Fle={[qS]:"fire-core",[dle]:"fire-core-compat",[fle]:"fire-analytics",[hle]:"fire-analytics-compat",[mle]:"fire-app-check",[ple]:"fire-app-check-compat",[gle]:"fire-auth",[vle]:"fire-auth-compat",[yle]:"fire-rtdb",[wle]:"fire-data-connect",[ble]:"fire-rtdb-compat",[xle]:"fire-fn",[_le]:"fire-fn-compat",[Ale]:"fire-iid",[Ele]:"fire-iid-compat",[Sle]:"fire-fcm",[Cle]:"fire-fcm-compat",[Tle]:"fire-perf",[Nle]:"fire-perf-compat",[kle]:"fire-rc",[Ile]:"fire-rc-compat",[Ple]:"fire-gcs",[Rle]:"fire-gcs-compat",[Lle]:"fire-fst",[Dle]:"fire-fst-compat",[Mle]:"fire-vertex","fire-js":"fire-js",[jle]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=new Map,Ble=new Map,WS=new Map;function BR(n,e){try{n.container.addComponent(e)}catch(t){Rd.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ql(n){const e=n.name;if(WS.has(e))return Rd.debug(`There were multiple attempts to register component ${e}.`),!1;WS.set(e,n);for(const t of G3.values())BR(t,n);for(const t of Ble.values())BR(t,n);return!0}function Kf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $l(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ule={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cf=new E1("app","Firebase",Ule);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vle{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=Ole;function _z(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:HS,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Cf.create("bad-app-name",{appName:String(i)});if(t||(t=pz()),!t)throw Cf.create("no-options");const s=G3.get(i);if(s){if(r5(t,s.options)&&r5(r,s.config))return s;throw Cf.create("duplicate-app",{appName:i})}const o=new Kae(i);for(const l of WS.values())o.addComponent(l);const a=new Vle(t,r,o);return G3.set(i,a),a}function E6(n=HS){const e=G3.get(n);if(!e&&n===HS&&pz())return _z();if(!e)throw Cf.create("no-app",{appName:n});return e}function Mo(n,e,t){var r;let i=(r=Fle[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rd.warn(a.join(" "));return}Ql(new ol(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zle="firebase-heartbeat-database",$le=1,i5="firebase-heartbeat-store";let _E=null;function Az(){return _E||(_E=xz(zle,$le,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(i5)}catch(t){console.warn(t)}}}}).catch(n=>{throw Cf.create("idb-open",{originalErrorMessage:n.message})})),_E}async function qle(n){try{const t=(await Az()).transaction(i5),r=await t.objectStore(i5).get(Ez(n));return await t.done,r}catch(e){if(e instanceof cl)Rd.warn(e.message);else{const t=Cf.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rd.warn(t.message)}}}async function UR(n,e){try{const r=(await Az()).transaction(i5,"readwrite");await r.objectStore(i5).put(e,Ez(n)),await r.done}catch(t){if(t instanceof cl)Rd.warn(t.message);else{const r=Cf.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Rd.warn(r.message)}}}function Ez(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hle=1024,Wle=30*24*60*60*1e3;class Gle{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Yle(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=VR();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Wle}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Rd.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=VR(),{heartbeatsToSend:r,unsentEntries:i}=Kle(this._heartbeatsCache.heartbeats),s=W3(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Rd.warn(t),""}}}function VR(){return new Date().toISOString().substring(0,10)}function Kle(n,e=Hle){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zR(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),zR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Yle{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vz()?yz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await qle(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return UR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return UR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zR(n){return W3(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xle(n){Ql(new ol("platform-logger",e=>new cle(e),"PRIVATE")),Ql(new ol("heartbeat",e=>new Gle(e),"PRIVATE")),Mo(qS,FR,n),Mo(qS,FR,"esm2017"),Mo("fire-js","")}Xle("");function Sz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qle=Sz,Cz=new E1("auth","Firebase",Sz());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new A6("@firebase/auth");function Jle(n,...e){K3.logLevel<=bn.WARN&&K3.warn(`Auth (${j2}): ${n}`,...e)}function p4(n,...e){K3.logLevel<=bn.ERROR&&K3.error(`Auth (${j2}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(n,...e){throw KN(n,...e)}function Gl(n,...e){return KN(n,...e)}function GN(n,e,t){const r=Object.assign(Object.assign({},Qle()),{[e]:t});return new E1("auth","Firebase",r).create(e,{appName:n.name})}function bd(n){return GN(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zle(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&jo(n,"argument-error"),GN(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function KN(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Cz.create(n,...e)}function Tt(n,e,...t){if(!n)throw KN(e,...t)}function Gc(n){const e="INTERNAL ASSERTION FAILED: "+n;throw p4(e),new Error(e)}function Ld(n,e){n||Gc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ece(){return $R()==="http:"||$R()==="https:"}function $R(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tce(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ece()||gz()||"connection"in navigator)?navigator.onLine:!0}function nce(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ld(t>e,"Short delay should be less than long delay!"),this.isMobile=Tae()||Iae()}get(){return tce()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(n,e){Ld(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ice=new ob(3e4,6e4);function ec(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function tc(n,e,t,r,i={}){return Nz(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=sb(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return kae()||(c.referrerPolicy="no-referrer"),Tz.fetch()(kz(n,n.config.apiHost,t,a),c)})}async function Nz(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},rce),e);try{const i=new oce(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ex(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ex(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ex(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ex(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw GN(n,u,c);jo(n,u)}}catch(i){if(i instanceof cl)throw i;jo(n,"network-request-failed",{message:String(i)})}}async function ab(n,e,t,r,i={}){const s=await tc(n,e,t,r,i);return"mfaPendingCredential"in s&&jo(n,"multi-factor-auth-required",{_serverResponse:s}),s}function kz(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?YN(n.config,i):`${n.config.apiScheme}://${i}`}function sce(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oce{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Gl(this.auth,"network-request-failed")),ice.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ex(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Gl(n,e,r);return i.customData._tokenResponse=t,i}function qR(n){return n!==void 0&&n.enterprise!==void 0}class ace{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sce(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function lce(n,e){return tc(n,"GET","/v2/recaptchaConfig",ec(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cce(n,e){return tc(n,"POST","/v1/accounts:delete",e)}async function Iz(n,e){return tc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uce(n,e=!1){const t=ir(n),r=await t.getIdToken(e),i=XN(r);Tt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:my(AE(i.auth_time)),issuedAtTime:my(AE(i.iat)),expirationTime:my(AE(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function AE(n){return Number(n)*1e3}function XN(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return p4("JWT malformed, contained fewer than 3 sections"),null;try{const i=dz(t);return i?JSON.parse(i):(p4("Failed to decode base64 JWT payload"),null)}catch(i){return p4("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function HR(n){const e=XN(n);return Tt(e,"internal-error"),Tt(typeof e.exp<"u","internal-error"),Tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof cl&&dce(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function dce({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=my(this.lastLoginAt),this.creationTime=my(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(n){var e;const t=n.auth,r=await n.getIdToken(),i=await s5(n,Iz(t,{idToken:r}));Tt(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Pz(s.providerUserInfo):[],a=pce(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new KS(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)}async function fce(n){const e=ir(n);await Y3(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pce(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Pz(n){return n.map(e=>{var{providerId:t}=e,r=nb(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mce(n,e){const t=await Nz(n,{},async()=>{const r=sb({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=kz(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Tz.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gce(n,e){return tc(n,"POST","/v2/accounts:revokeToken",ec(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt(typeof e.idToken<"u","internal-error"),Tt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Tt(e.length!==0,"internal-error");const t=HR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await mce(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Dg;return r&&(Tt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Tt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Tt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dg,this.toJSON())}_performRefresh(){return Gc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(n,e){Tt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class pd{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=nb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new KS(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await s5(this,this.stsTokenManager.getToken(this.auth,e));return Tt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uce(this,e)}reload(){return fce(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Y3(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($l(this.auth.app))return Promise.reject(bd(this.auth));const e=await this.getIdToken();return await s5(this,cce(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,p=(i=t.email)!==null&&i!==void 0?i:void 0,f=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=t.photoURL)!==null&&o!==void 0?o:void 0,w=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=t.createdAt)!==null&&c!==void 0?c:void 0,E=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:S,emailVerified:T,isAnonymous:B,providerData:V,stsTokenManager:M}=t;Tt(S&&M,e,"internal-error");const N=Dg.fromJSON(this.name,M);Tt(typeof S=="string",e,"internal-error"),fh(h,e.name),fh(p,e.name),Tt(typeof T=="boolean",e,"internal-error"),Tt(typeof B=="boolean",e,"internal-error"),fh(f,e.name),fh(b,e.name),fh(w,e.name),fh(A,e.name),fh(x,e.name),fh(E,e.name);const P=new pd({uid:S,auth:e,email:p,emailVerified:T,displayName:h,isAnonymous:B,photoURL:b,phoneNumber:f,tenantId:w,stsTokenManager:N,createdAt:x,lastLoginAt:E});return V&&Array.isArray(V)&&(P.providerData=V.map(O=>Object.assign({},O))),A&&(P._redirectEventId=A),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new Dg;i.updateFromServerResponse(t);const s=new pd({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Y3(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Tt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Pz(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Dg;a.updateFromIdToken(r);const l=new pd({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new KS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new Map;function md(n){Ld(n instanceof Function,"Expected a class definition");let e=WR.get(n);return e?(Ld(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,WR.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Rz.type="NONE";const GR=Rz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(n,e,t){return`firebase:${n}:${e}:${t}`}class jg{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=m4(this.userKey,i.apiKey,s),this.fullPersistenceKey=m4("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pd._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new jg(md(GR),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||md(GR);const o=m4(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){const h=pd._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new jg(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new jg(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fz(e))return"Blackberry";if(Bz(e))return"Webos";if(Mz(e))return"Safari";if((e.includes("chrome/")||Dz(e))&&!e.includes("edge/"))return"Chrome";if(Oz(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Lz(n=Fs()){return/firefox\//i.test(n)}function Mz(n=Fs()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dz(n=Fs()){return/crios\//i.test(n)}function jz(n=Fs()){return/iemobile/i.test(n)}function Oz(n=Fs()){return/android/i.test(n)}function Fz(n=Fs()){return/blackberry/i.test(n)}function Bz(n=Fs()){return/webos/i.test(n)}function QN(n=Fs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vce(n=Fs()){var e;return QN(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yce(){return Pae()&&document.documentMode===10}function Uz(n=Fs()){return QN(n)||Oz(n)||Bz(n)||Fz(n)||/windows phone/i.test(n)||jz(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(n,e=[]){let t;switch(n){case"Browser":t=KR(Fs());break;case"Worker":t=`${KR(Fs())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${j2}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wce{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bce(n,e={}){return tc(n,"GET","/v2/passwordPolicy",ec(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xce=6;class _ce{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:xce,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YR(this),this.idTokenSubscription=new YR(this),this.beforeStateQueue=new wce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=md(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await jg.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Iz(this,{idToken:e}),r=await pd._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if($l(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Y3(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nce()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($l(this.app))return Promise.reject(bd(this));const t=e?ir(e):null;return t&&Tt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $l(this.app)?Promise.reject(bd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $l(this.app)?Promise.reject(bd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(md(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bce(this),t=new _ce(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new E1("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await gce(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&md(e)||this._popupRedirectResolver;Tt(t,this,"argument-error"),this.redirectPersistenceManager=await jg.create(this,[md(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Jle(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Vd(n){return ir(n)}class YR{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fae(t=>this.observer=t)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S6={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ece(n){S6=n}function zz(n){return S6.loadJS(n)}function Sce(){return S6.recaptchaEnterpriseScript}function Cce(){return S6.gapiScript}function Tce(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const Nce="recaptcha-enterprise",kce="NO_RECAPTCHA";class Ice{constructor(e){this.type=Nce,this.auth=Vd(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{lce(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new ace(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;qR(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(kce)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&qR(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Sce();l.length!==0&&(l+=a),zz(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function XR(n,e,t,r=!1){const i=new Ice(n);let s;try{s=await i.verify(t)}catch{s=await i.verify(t,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function YS(n,e,t,r){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await XR(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await XR(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pce(n,e){const t=Kf(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(r5(s,e??{}))return i;jo(i,"already-initialized")}return t.initialize({options:e})}function Rce(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(md);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Lce(n,e,t){const r=Vd(n);Tt(r._canInitEmulator,r,"emulator-config-failed"),Tt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=$z(e),{host:o,port:a}=Mce(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Dce()}function $z(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Mce(n){const e=$z(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:QR(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:QR(o)}}}function QR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Dce(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gc("not implemented")}_getIdTokenResponse(e){return Gc("not implemented")}_linkToIdToken(e,t){return Gc("not implemented")}_getReauthenticationResolver(e){return Gc("not implemented")}}async function jce(n,e){return tc(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oce(n,e){return ab(n,"POST","/v1/accounts:signInWithPassword",ec(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fce(n,e){return ab(n,"POST","/v1/accounts:signInWithEmailLink",ec(n,e))}async function Bce(n,e){return ab(n,"POST","/v1/accounts:signInWithEmailLink",ec(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5 extends JN{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new o5(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new o5(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YS(e,t,"signInWithPassword",Oce);case"emailLink":return Fce(e,{email:this._email,oobCode:this._password});default:jo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YS(e,r,"signUpPassword",jce);case"emailLink":return Bce(e,{idToken:t,email:this._email,oobCode:this._password});default:jo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Og(n,e){return ab(n,"POST","/v1/accounts:signInWithIdp",ec(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uce="http://localhost";class e1 extends JN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new e1(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=nb(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new e1(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Og(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Og(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Og(e,t)}buildRequest(){const e={requestUri:Uce,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sb(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vce(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zce(n){const e=Dv(jv(n)).link,t=e?Dv(jv(e)).deep_link_id:null,r=Dv(jv(n)).deep_link_id;return(r?Dv(jv(r)).link:null)||r||t||e||n}class ZN{constructor(e){var t,r,i,s,o,a;const l=Dv(jv(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Vce((i=l.mode)!==null&&i!==void 0?i:null);Tt(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=zce(e);try{return new ZN(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.providerId=O2.PROVIDER_ID}static credential(e,t){return o5._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ZN.parseLink(t);return Tt(r,"argument-error"),o5._fromEmailAndCode(e,r.code,r.tenantId)}}O2.PROVIDER_ID="password";O2.EMAIL_PASSWORD_SIGN_IN_METHOD="password";O2.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb extends ek{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends lb{constructor(){super("facebook.com")}static credential(e){return e1._fromParams({providerId:Eh.PROVIDER_ID,signInMethod:Eh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eh.credentialFromTaggedObject(e)}static credentialFromError(e){return Eh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eh.credential(e.oauthAccessToken)}catch{return null}}}Eh.FACEBOOK_SIGN_IN_METHOD="facebook.com";Eh.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends lb{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return e1._fromParams({providerId:ud.PROVIDER_ID,signInMethod:ud.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ud.credentialFromTaggedObject(e)}static credentialFromError(e){return ud.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ud.credential(t,r)}catch{return null}}}ud.GOOGLE_SIGN_IN_METHOD="google.com";ud.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends lb{constructor(){super("github.com")}static credential(e){return e1._fromParams({providerId:Sh.PROVIDER_ID,signInMethod:Sh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sh.credentialFromTaggedObject(e)}static credentialFromError(e){return Sh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sh.credential(e.oauthAccessToken)}catch{return null}}}Sh.GITHUB_SIGN_IN_METHOD="github.com";Sh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends lb{constructor(){super("twitter.com")}static credential(e,t){return e1._fromParams({providerId:Ch.PROVIDER_ID,signInMethod:Ch.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ch.credentialFromTaggedObject(e)}static credentialFromError(e){return Ch.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ch.credential(t,r)}catch{return null}}}Ch.TWITTER_SIGN_IN_METHOD="twitter.com";Ch.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ce(n,e){return ab(n,"POST","/v1/accounts:signUp",ec(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await pd._fromIdTokenResponse(e,r,i),o=JR(r);return new Md({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=JR(r);return new Md({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function JR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3 extends cl{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,X3.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new X3(e,t,r,i)}}function qz(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?X3._fromErrorAndOperation(n,s,e,r):s})}async function qce(n,e,t=!1){const r=await s5(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Md._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hce(n,e,t=!1){const{auth:r}=n;if($l(r.app))return Promise.reject(bd(r));const i="reauthenticate";try{const s=await s5(n,qz(r,i,e,n),t);Tt(s.idToken,r,"internal-error");const o=XN(s.idToken);Tt(o,r,"internal-error");const{sub:a}=o;return Tt(n.uid===a,r,"user-mismatch"),Md._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&jo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(n,e,t=!1){if($l(n.app))return Promise.reject(bd(n));const r="signIn",i=await qz(n,r,e),s=await Md._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Wce(n,e){return Hz(Vd(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?nk._fromServerResponse(e,t):"totpInfo"in t?rk._fromServerResponse(e,t):jo(e,"internal-error")}}class nk extends tk{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new nk(t)}}class rk extends tk{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new rk(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wz(n){const e=Vd(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Gce(n,e,t){if($l(n.app))return Promise.reject(bd(n));const r=Vd(n),o=await YS(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$ce).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Wz(n),l}),a=await Md._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Kce(n,e,t){return $l(n.app)?Promise.reject(bd(n)):Wce(ir(n),O2.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Wz(n),r})}function Yce(n,e,t,r){return ir(n).onIdTokenChanged(e,t,r)}function Xce(n,e,t){return ir(n).beforeAuthStateChanged(e,t)}function Qce(n,e,t,r){return ir(n).onAuthStateChanged(e,t,r)}function Jce(n){return ir(n).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Ag("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ag("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Ag._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Ag._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Vd(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>tk._fromServerResponse(r,a));Tt(i.mfaPendingCredential,r,"internal-error");const o=Ag._fromMfaPendingCredential(i.mfaPendingCredential);return new ik(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(t.operationType){case"signIn":const u=await Md._fromIdTokenResponse(r,t.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return Tt(t.user,r,"internal-error"),Md._forOperation(t.user,t.operationType,c);default:jo(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function ZR(n,e){var t;const r=ir(n),i=e;return Tt(e.customData.operationType,r,"argument-error"),Tt((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),ik._fromError(r,i)}function Zce(n,e){return tc(n,"POST","/v2/accounts/mfaEnrollment:start",ec(n,e))}function eue(n,e){return tc(n,"POST","/v2/accounts/mfaEnrollment:finalize",ec(n,e))}const Q3="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Q3,"1"),this.storage.removeItem(Q3),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tue=1e3,nue=10;class Kz extends Gz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);yce()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nue):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},tue)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kz.type="LOCAL";const rue=Kz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz extends Gz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Yz.type="SESSION";const Xz=Yz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iue(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new C6(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(t.origin,s)),l=await iue(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}C6.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sue{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=sk("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(){return window}function oue(n){eu().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(){return typeof eu().WorkerGlobalScope<"u"&&typeof eu().importScripts=="function"}async function aue(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lue(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function cue(){return Qz()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz="firebaseLocalStorageDb",uue=1,J3="firebaseLocalStorage",Zz="fbase_key";class cb{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function T6(n,e){return n.transaction([J3],e?"readwrite":"readonly").objectStore(J3)}function due(){const n=indexedDB.deleteDatabase(Jz);return new cb(n).toPromise()}function XS(){const n=indexedDB.open(Jz,uue);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(J3,{keyPath:Zz})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(J3)?e(r):(r.close(),await due(),e(await XS()))})})}async function eL(n,e,t){const r=T6(n,!0).put({[Zz]:e,value:t});return new cb(r).toPromise()}async function hue(n,e){const t=T6(n,!1).get(e),r=await new cb(t).toPromise();return r===void 0?null:r.value}function tL(n,e){const t=T6(n,!0).delete(e);return new cb(t).toPromise()}const fue=800,pue=3;class e${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await XS(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>pue)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=C6._getInstance(cue()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await aue(),!this.activeServiceWorker)return;this.sender=new sue(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lue()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await XS();return await eL(e,Q3,"1"),await tL(e,Q3),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>eL(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>hue(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tL(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=T6(i,!1).getAll();return new cb(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fue)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e$.type="LOCAL";const mue=e$;function gue(n,e){return tc(n,"POST","/v2/accounts/mfaSignIn:finalize",ec(n,e))}new ob(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(n,e){return e?md(e):(Tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok extends JN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Og(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Og(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Og(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vue(n){return Hz(n.auth,new ok(n),n.bypassAuthState)}function yue(n){const{auth:e,user:t}=n;return Tt(t,e,"internal-error"),Hce(t,new ok(n),n.bypassAuthState)}async function wue(n){const{auth:e,user:t}=n;return Tt(t,e,"internal-error"),qce(t,new ok(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vue;case"linkViaPopup":case"linkViaRedirect":return wue;case"reauthViaPopup":case"reauthViaRedirect":return yue;default:jo(this.auth,"internal-error")}}resolve(e){Ld(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ld(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bue=new ob(2e3,1e4);async function xue(n,e,t){if($l(n.app))return Promise.reject(Gl(n,"operation-not-supported-in-this-environment"));const r=Vd(n);Zle(n,e,ek);const i=t$(r,t);return new Rp(r,"signInViaPopup",e,i).executeNotNull()}class Rp extends n${constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Rp.currentPopupAction&&Rp.currentPopupAction.cancel(),Rp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tt(e,this.auth,"internal-error"),e}async onExecution(){Ld(this.filter.length===1,"Popup operations only handle one event");const e=sk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Gl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bue.get())};e()}}Rp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ue="pendingRedirect",g4=new Map;class Aue extends n${constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=g4.get(this.auth._key());if(!e){try{const r=await Eue(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}g4.set(this.auth._key(),e)}return this.bypassAuthState||g4.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Eue(n,e){const t=Tue(e),r=Cue(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function Sue(n,e){g4.set(n._key(),e)}function Cue(n){return md(n._redirectPersistence)}function Tue(n){return m4(_ue,n.config.apiKey,n.name)}async function Nue(n,e,t=!1){if($l(n.app))return Promise.reject(bd(n));const r=Vd(n),i=t$(r,e),o=await new Aue(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kue=10*60*1e3;class Iue{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Pue(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!r$(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Gl(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kue&&this.cachedEventUids.clear(),this.cachedEventUids.has(nL(e))}saveEventToCache(e){this.cachedEventUids.add(nL(e)),this.lastProcessedEventTime=Date.now()}}function nL(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function r$({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Pue(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r$(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rue(n,e={}){return tc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mue=/^https?/;async function Due(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Rue(n);for(const t of e)try{if(jue(t))return}catch{}jo(n,"unauthorized-domain")}function jue(n){const e=GS(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!Mue.test(t))return!1;if(Lue.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oue=new ob(3e4,6e4);function rL(){const n=eu().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Fue(n){return new Promise((e,t)=>{var r,i,s;function o(){rL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rL(),t(Gl(n,"network-request-failed"))},timeout:Oue.get()})}if(!((i=(r=eu().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=eu().gapi)===null||s===void 0)&&s.load)o();else{const a=Tce("iframefcb");return eu()[a]=()=>{gapi.load?o():t(Gl(n,"network-request-failed"))},zz(`${Cce()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw v4=null,e})}let v4=null;function Bue(n){return v4=v4||Fue(n),v4}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uue=new ob(5e3,15e3),Vue="__/auth/iframe",zue="emulator/auth/iframe",$ue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},que=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hue(n){const e=n.config;Tt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?YN(e,zue):`https://${n.config.authDomain}/${Vue}`,r={apiKey:e.apiKey,appName:n.name,v:j2},i=que.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${sb(r).slice(1)}`}async function Wue(n){const e=await Bue(n),t=eu().gapi;return Tt(t,n,"internal-error"),e.open({where:document.body,url:Hue(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$ue,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Gl(n,"network-request-failed"),a=eu().setTimeout(()=>{s(o)},Uue.get());function l(){eu().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kue=500,Yue=600,Xue="_blank",Que="http://localhost";class iL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jue(n,e,t,r=Kue,i=Yue){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Gue),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Fs().toLowerCase();t&&(a=Dz(c)?Xue:t),Lz(c)&&(e=e||Que,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[f,b])=>`${p}${f}=${b},`,"");if(vce(c)&&a!=="_self")return Zue(e||"",a),new iL(null);const h=window.open(e||"",a,u);Tt(h,n,"popup-blocked");try{h.focus()}catch{}return new iL(h)}function Zue(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ede="__/auth/handler",tde="emulator/auth/handler",nde=encodeURIComponent("fac");async function sL(n,e,t,r,i,s){Tt(n.config.authDomain,n,"auth-domain-config-required"),Tt(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:j2,eventId:i};if(e instanceof ek){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Oae(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof lb){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${nde}=${encodeURIComponent(l)}`:"";return`${rde(n)}?${sb(a).slice(1)}${c}`}function rde({config:n}){return n.emulator?YN(n,tde):`https://${n.authDomain}/${ede}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="webStorageSupport";class ide{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xz,this._completeRedirectFn=Nue,this._overrideRedirectResult=Sue}async _openPopup(e,t,r,i){var s;Ld((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await sL(e,t,r,GS(),i);return Jue(e,o,sk())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await sL(e,t,r,GS(),i);return oue(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ld(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Wue(e),r=new Iue(e);return t.register("authEvent",i=>(Tt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(EE,{type:EE},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[EE];o!==void 0&&t(!!o),jo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Due(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Uz()||Mz()||QN()}}const sde=ide;class ode{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Gc("unexpected MultiFactorSessionType")}}}class i${static assertionForEnrollment(e,t){return a5._fromSecret(e,t)}static assertionForSignIn(e,t){return a5._fromEnrollmentId(e,t)}static async generateSecret(e){var t;const r=e;Tt(typeof((t=r.user)===null||t===void 0?void 0:t.auth)<"u","internal-error");const i=await Zce(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});return ak._fromStartTotpMfaEnrollmentResponse(i,r.user.auth)}}i$.FACTOR_ID="totp";class a5 extends ode{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new a5(t,void 0,e)}static _fromEnrollmentId(e,t){return new a5(t,e)}async _finalizeEnroll(e,t,r){return Tt(typeof this.secret<"u",e,"argument-error"),eue(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){Tt(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const r={verificationCode:this.otp};return gue(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}}class ak{constructor(e,t,r,i,s,o,a){this.sessionInfo=o,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=s}static _fromStartTotpMfaEnrollmentResponse(e,t){return new ak(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var r;let i=!1;return(Sx(e)||Sx(t))&&(i=!0),i&&(Sx(e)&&(e=((r=this.auth.currentUser)===null||r===void 0?void 0:r.email)||"unknownuser"),Sx(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function Sx(n){return typeof n>"u"||(n==null?void 0:n.length)===0}var oL="@firebase/auth",aL="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ade{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lde(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cde(n){Ql(new ol("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Tt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vz(n)},c=new Ace(r,i,s,l);return Rce(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ql(new ol("auth-internal",e=>{const t=Vd(e.getProvider("auth").getImmediate());return(r=>new ade(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mo(oL,aL,lde(n)),Mo(oL,aL,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ude=5*60,dde=mz("authIdTokenMaxAge")||ude;let lL=null;const hde=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>dde)return;const i=t==null?void 0:t.token;lL!==i&&(lL=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fde(n=E6()){const e=Kf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Pce(n,{popupRedirectResolver:sde,persistence:[mue,rue,Xz]}),r=mz("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=hde(s.toString());Xce(t,o,()=>o(t.currentUser)),Yce(t,a=>o(a))}}const i=hz("auth");return i&&Lce(t,`http://${i}`),t}function pde(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Ece({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Gl("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",pde().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cde("Browser");var mde="firebase",gde="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mo(mde,gde,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vde="type.googleapis.com/google.protobuf.Int64Value",yde="type.googleapis.com/google.protobuf.UInt64Value";function s$(n,e){const t={};for(const r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}function QS(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>QS(e));if(typeof n=="function"||typeof n=="object")return s$(n,e=>QS(e));throw new Error("Data cannot be encoded in JSON: "+n)}function Z3(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case vde:case yde:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>Z3(e)):typeof n=="function"||typeof n=="object"?s$(n,e=>Z3(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fg extends cl{constructor(e,t,r){super(`${lk}/${e}`,t||""),this.details=r}}function wde(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function bde(n,e){let t=wde(n),r=t,i;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!cL[o])return new Fg("internal","internal");t=cL[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=Z3(i))}}catch{}return t==="ok"?null:new Fg(t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xde{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="us-central1";function _de(n){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new Fg("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class Ade{constructor(e,t,r,i,s=JS,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new xde(t,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=JS}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function Ede(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}function Sde(n,e,t){return r=>Tde(n,e,r,{})}async function Cde(n,e,t,r){t["Content-Type"]="application/json";let i;try{i=await r(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function Tde(n,e,t,r){const i=n._url(e);return Nde(n,i,t,r)}async function Nde(n,e,t,r){t=QS(t);const i={data:t},s={},o=await n.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,l=_de(a),c=await Promise.race([Cde(e,i,s,n.fetchImpl),l.promise,n.cancelAllRequests]);if(l.cancel(),!c)throw new Fg("cancelled","Firebase Functions instance was deleted.");const u=bde(c.status,c.json);if(u)throw u;if(!c.json)throw new Fg("internal","Response is not valid JSON object.");let h=c.json.data;if(typeof h>"u"&&(h=c.json.result),typeof h>"u")throw new Fg("internal","Response is missing data field.");return{data:Z3(h)}}const uL="@firebase/functions",dL="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kde="auth-internal",Ide="app-check-internal",Pde="messaging-internal";function Rde(n,e){const t=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(kde),a=r.getProvider(Pde),l=r.getProvider(Ide);return new Ade(s,o,a,l,i,n)};Ql(new ol(lk,t,"PUBLIC").setMultipleInstances(!0)),Mo(uL,dL,e),Mo(uL,dL,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(n=E6(),e=JS){const r=Kf(ir(n),lk).getImmediate({identifier:e}),i=fz("functions");return i&&Lde(r,...i),r}function Lde(n,e,t){Ede(ir(n),e,t)}function l5(n,e,t){return Sde(ir(n),e)}Rde(fetch.bind(self));const o$="@firebase/installations",uk="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=1e4,l$=`w:${uk}`,c$="FIS_v2",Mde="https://firebaseinstallations.googleapis.com/v1",Dde=60*60*1e3,jde="installations",Ode="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fde={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},t1=new E1(jde,Ode,Fde);function u$(n){return n instanceof cl&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$({projectId:n}){return`${Mde}/projects/${n}/installations`}function h$(n){return{token:n.token,requestStatus:2,expiresIn:Ude(n.expiresIn),creationTime:Date.now()}}async function f$(n,e){const r=(await e.json()).error;return t1.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function p$({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Bde(n,{refreshToken:e}){const t=p$(n);return t.append("Authorization",Vde(e)),t}async function m$(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Ude(n){return Number(n.replace("s","000"))}function Vde(n){return`${c$} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zde({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=d$(n),i=p$(n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:t,authVersion:c$,appId:n.appId,sdkVersion:l$},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await m$(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:h$(c.authToken)}}else throw await f$("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $de(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qde=/^[cdef][\w-]{21}$/,ZS="";function Hde(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Wde(n);return qde.test(t)?t:ZS}catch{return ZS}}function Wde(n){return $de(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=new Map;function y$(n,e){const t=N6(n);w$(t,e),Gde(t,e)}function w$(n,e){const t=v$.get(n);if(t)for(const r of t)r(e)}function Gde(n,e){const t=Kde();t&&t.postMessage({key:n,fid:e}),Yde()}let Lp=null;function Kde(){return!Lp&&"BroadcastChannel"in self&&(Lp=new BroadcastChannel("[Firebase] FID Change"),Lp.onmessage=n=>{w$(n.data.key,n.data.fid)}),Lp}function Yde(){v$.size===0&&Lp&&(Lp.close(),Lp=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xde="firebase-installations-database",Qde=1,n1="firebase-installations-store";let SE=null;function dk(){return SE||(SE=xz(Xde,Qde,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(n1)}}})),SE}async function e_(n,e){const t=N6(n),i=(await dk()).transaction(n1,"readwrite"),s=i.objectStore(n1),o=await s.get(t);return await s.put(e,t),await i.done,(!o||o.fid!==e.fid)&&y$(n,e.fid),e}async function b$(n){const e=N6(n),r=(await dk()).transaction(n1,"readwrite");await r.objectStore(n1).delete(e),await r.done}async function k6(n,e){const t=N6(n),i=(await dk()).transaction(n1,"readwrite"),s=i.objectStore(n1),o=await s.get(t),a=e(o);return a===void 0?await s.delete(t):await s.put(a,t),await i.done,a&&(!o||o.fid!==a.fid)&&y$(n,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(n){let e;const t=await k6(n.appConfig,r=>{const i=Jde(r),s=Zde(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===ZS?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Jde(n){const e=n||{fid:Hde(),registrationStatus:0};return x$(e)}function Zde(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(t1.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ehe(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:the(n)}:{installationEntry:e}}async function ehe(n,e){try{const t=await zde(n,e);return e_(n.appConfig,t)}catch(t){throw u$(t)&&t.customData.serverCode===409?await b$(n.appConfig):await e_(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function the(n){let e=await hL(n.appConfig);for(;e.registrationStatus===1;)await g$(100),e=await hL(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await hk(n);return r||t}return e}function hL(n){return k6(n,e=>{if(!e)throw t1.create("installation-not-found");return x$(e)})}function x$(n){return nhe(n)?{fid:n.fid,registrationStatus:0}:n}function nhe(n){return n.registrationStatus===1&&n.registrationTime+a$<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rhe({appConfig:n,heartbeatServiceProvider:e},t){const r=ihe(n,t),i=Bde(n,t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:l$,appId:n.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await m$(()=>fetch(r,a));if(l.ok){const c=await l.json();return h$(c)}else throw await f$("Generate Auth Token",l)}function ihe(n,{fid:e}){return`${d$(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(n,e=!1){let t;const r=await k6(n.appConfig,s=>{if(!_$(s))throw t1.create("not-registered");const o=s.authToken;if(!e&&ahe(o))return s;if(o.requestStatus===1)return t=she(n,e),s;{if(!navigator.onLine)throw t1.create("app-offline");const a=che(s);return t=ohe(n,a),a}});return t?await t:r.authToken}async function she(n,e){let t=await fL(n.appConfig);for(;t.authToken.requestStatus===1;)await g$(100),t=await fL(n.appConfig);const r=t.authToken;return r.requestStatus===0?fk(n,e):r}function fL(n){return k6(n,e=>{if(!_$(e))throw t1.create("not-registered");const t=e.authToken;return uhe(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ohe(n,e){try{const t=await rhe(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await e_(n.appConfig,r),t}catch(t){if(u$(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await b$(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await e_(n.appConfig,r)}throw t}}function _$(n){return n!==void 0&&n.registrationStatus===2}function ahe(n){return n.requestStatus===2&&!lhe(n)}function lhe(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Dde}function che(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function uhe(n){return n.requestStatus===1&&n.requestTime+a$<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dhe(n){const e=n,{installationEntry:t,registrationPromise:r}=await hk(e);return r?r.catch(console.error):fk(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hhe(n,e=!1){const t=n;return await fhe(t),(await fk(t,e)).token}async function fhe(n){const{registrationPromise:e}=await hk(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function phe(n){if(!n||!n.options)throw CE("App Configuration");if(!n.name)throw CE("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw CE(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function CE(n){return t1.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="installations",mhe="installations-internal",ghe=n=>{const e=n.getProvider("app").getImmediate(),t=phe(e),r=Kf(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},vhe=n=>{const e=n.getProvider("app").getImmediate(),t=Kf(e,A$).getImmediate();return{getId:()=>dhe(t),getToken:i=>hhe(t,i)}};function yhe(){Ql(new ol(A$,ghe,"PUBLIC")),Ql(new ol(mhe,vhe,"PRIVATE"))}yhe();Mo(o$,uk);Mo(o$,uk,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="analytics",whe="firebase_id",bhe="origin",xhe=60*1e3,_he="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pk="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new A6("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ahe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ba=new E1("analytics","Analytics",Ahe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ehe(n){if(!n.startsWith(pk)){const e=ba.create("invalid-gtag-resource",{gtagURL:n});return Do.warn(e.message),""}return n}function E$(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function She(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function Che(n,e){const t=She("firebase-js-sdk-policy",{createScriptURL:Ehe}),r=document.createElement("script"),i=`${pk}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function The(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Nhe(n,e,t,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await E$(t)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){Do.error(a)}n("config",i,s)}async function khe(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await E$(t);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){Do.error(s)}}function Ihe(n,e,t,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await khe(n,e,t,a,l)}else if(s==="config"){const[a,l]=o;await Nhe(n,e,t,r,a,l)}else if(s==="consent"){const[a,l]=o;n("consent",a,l)}else if(s==="get"){const[a,l,c]=o;n("get",a,l,c)}else if(s==="set"){const[a]=o;n("set",a)}else n(s,...o)}catch(a){Do.error(a)}}return i}function Phe(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Ihe(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function Rhe(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(pk)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lhe=30,Mhe=1e3;class Dhe{constructor(e={},t=Mhe){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const S$=new Dhe;function jhe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Ohe(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:jhe(r)},s=_he.replace("{app-id}",t),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw ba.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Fhe(n,e=S$,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw ba.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ba.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Vhe;return setTimeout(async()=>{a.abort()},xhe),C$({appId:r,apiKey:i,measurementId:s},o,a,e)}async function C$(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=S$){var s;const{appId:o,measurementId:a}=n;try{await Bhe(r,e)}catch(l){if(a)return Do.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Ohe(n);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!Uhe(c)){if(i.deleteThrottleMetadata(o),a)return Do.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?MR(t,i.intervalMillis,Lhe):MR(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,h),Do.debug(`Calling attemptFetch again in ${u} millis`),C$(n,h,r,i)}}function Bhe(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(ba.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Uhe(n){if(!(n instanceof cl)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class Vhe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zhe(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});n("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $he(){if(vz())try{await yz()}catch(n){return Do.warn(ba.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Do.warn(ba.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qhe(n,e,t,r,i,s,o){var a;const l=Fhe(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Do.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Do.error(f)),e.push(l);const c=$he().then(f=>{if(f)return r.getId()}),[u,h]=await Promise.all([l,c]);Rhe(s)||Che(s,u.measurementId),i("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[bhe]="firebase",p.update=!0,h!=null&&(p[whe]=h),i("config",u.measurementId,p),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hhe{constructor(e){this.app=e}_delete(){return delete gy[this.app.options.appId],Promise.resolve()}}let gy={},pL=[];const mL={};let TE="dataLayer",Whe="gtag",gL,T$,vL=!1;function Ghe(){const n=[];if(gz()&&n.push("This is a browser extension environment."),Lae()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=ba.create("invalid-analytics-context",{errorInfo:e});Do.warn(t.message)}}function Khe(n,e,t){Ghe();const r=n.options.appId;if(!r)throw ba.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Do.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ba.create("no-api-key");if(gy[r]!=null)throw ba.create("already-exists",{id:r});if(!vL){The(TE);const{wrappedGtag:s,gtagCore:o}=Phe(gy,pL,mL,TE,Whe);T$=s,gL=o,vL=!0}return gy[r]=qhe(n,pL,mL,e,gL,TE,t),new Hhe(n)}function Yhe(n=E6()){n=ir(n);const e=Kf(n,t_);return e.isInitialized()?e.getImmediate():Xhe(n)}function Xhe(n,e={}){const t=Kf(n,t_);if(t.isInitialized()){const i=t.getImmediate();if(r5(e,t.getOptions()))return i;throw ba.create("already-initialized")}return t.initialize({options:e})}function Qhe(n,e,t,r){n=ir(n),zhe(T$,gy[n.app.options.appId],e,t,r).catch(i=>Do.error(i))}const yL="@firebase/analytics",wL="0.10.8";function Jhe(){Ql(new ol(t_,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Khe(r,i,t)},"PUBLIC")),Ql(new ol("analytics-internal",n,"PRIVATE")),Mo(yL,wL),Mo(yL,wL,"esm2017");function n(e){try{const t=e.getProvider(t_).getImmediate();return{logEvent:(r,i,s)=>Qhe(t,r,i,s)}}catch(t){throw ba.create("interop-component-reg-failed",{reason:t})}}}Jhe();var bL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $m,N$;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,N){function P(){}P.prototype=N.prototype,M.D=N.prototype,M.prototype=new P,M.prototype.constructor=M,M.C=function(O,k,j){for(var L=Array(arguments.length-2),W=2;W<arguments.length;W++)L[W-2]=arguments[W];return N.prototype[k].apply(O,L)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,N,P){P||(P=0);var O=Array(16);if(typeof N=="string")for(var k=0;16>k;++k)O[k]=N.charCodeAt(P++)|N.charCodeAt(P++)<<8|N.charCodeAt(P++)<<16|N.charCodeAt(P++)<<24;else for(k=0;16>k;++k)O[k]=N[P++]|N[P++]<<8|N[P++]<<16|N[P++]<<24;N=M.g[0],P=M.g[1],k=M.g[2];var j=M.g[3],L=N+(j^P&(k^j))+O[0]+3614090360&4294967295;N=P+(L<<7&4294967295|L>>>25),L=j+(k^N&(P^k))+O[1]+3905402710&4294967295,j=N+(L<<12&4294967295|L>>>20),L=k+(P^j&(N^P))+O[2]+606105819&4294967295,k=j+(L<<17&4294967295|L>>>15),L=P+(N^k&(j^N))+O[3]+3250441966&4294967295,P=k+(L<<22&4294967295|L>>>10),L=N+(j^P&(k^j))+O[4]+4118548399&4294967295,N=P+(L<<7&4294967295|L>>>25),L=j+(k^N&(P^k))+O[5]+1200080426&4294967295,j=N+(L<<12&4294967295|L>>>20),L=k+(P^j&(N^P))+O[6]+2821735955&4294967295,k=j+(L<<17&4294967295|L>>>15),L=P+(N^k&(j^N))+O[7]+4249261313&4294967295,P=k+(L<<22&4294967295|L>>>10),L=N+(j^P&(k^j))+O[8]+1770035416&4294967295,N=P+(L<<7&4294967295|L>>>25),L=j+(k^N&(P^k))+O[9]+2336552879&4294967295,j=N+(L<<12&4294967295|L>>>20),L=k+(P^j&(N^P))+O[10]+4294925233&4294967295,k=j+(L<<17&4294967295|L>>>15),L=P+(N^k&(j^N))+O[11]+2304563134&4294967295,P=k+(L<<22&4294967295|L>>>10),L=N+(j^P&(k^j))+O[12]+1804603682&4294967295,N=P+(L<<7&4294967295|L>>>25),L=j+(k^N&(P^k))+O[13]+4254626195&4294967295,j=N+(L<<12&4294967295|L>>>20),L=k+(P^j&(N^P))+O[14]+2792965006&4294967295,k=j+(L<<17&4294967295|L>>>15),L=P+(N^k&(j^N))+O[15]+1236535329&4294967295,P=k+(L<<22&4294967295|L>>>10),L=N+(k^j&(P^k))+O[1]+4129170786&4294967295,N=P+(L<<5&4294967295|L>>>27),L=j+(P^k&(N^P))+O[6]+3225465664&4294967295,j=N+(L<<9&4294967295|L>>>23),L=k+(N^P&(j^N))+O[11]+643717713&4294967295,k=j+(L<<14&4294967295|L>>>18),L=P+(j^N&(k^j))+O[0]+3921069994&4294967295,P=k+(L<<20&4294967295|L>>>12),L=N+(k^j&(P^k))+O[5]+3593408605&4294967295,N=P+(L<<5&4294967295|L>>>27),L=j+(P^k&(N^P))+O[10]+38016083&4294967295,j=N+(L<<9&4294967295|L>>>23),L=k+(N^P&(j^N))+O[15]+3634488961&4294967295,k=j+(L<<14&4294967295|L>>>18),L=P+(j^N&(k^j))+O[4]+3889429448&4294967295,P=k+(L<<20&4294967295|L>>>12),L=N+(k^j&(P^k))+O[9]+568446438&4294967295,N=P+(L<<5&4294967295|L>>>27),L=j+(P^k&(N^P))+O[14]+3275163606&4294967295,j=N+(L<<9&4294967295|L>>>23),L=k+(N^P&(j^N))+O[3]+4107603335&4294967295,k=j+(L<<14&4294967295|L>>>18),L=P+(j^N&(k^j))+O[8]+1163531501&4294967295,P=k+(L<<20&4294967295|L>>>12),L=N+(k^j&(P^k))+O[13]+2850285829&4294967295,N=P+(L<<5&4294967295|L>>>27),L=j+(P^k&(N^P))+O[2]+4243563512&4294967295,j=N+(L<<9&4294967295|L>>>23),L=k+(N^P&(j^N))+O[7]+1735328473&4294967295,k=j+(L<<14&4294967295|L>>>18),L=P+(j^N&(k^j))+O[12]+2368359562&4294967295,P=k+(L<<20&4294967295|L>>>12),L=N+(P^k^j)+O[5]+4294588738&4294967295,N=P+(L<<4&4294967295|L>>>28),L=j+(N^P^k)+O[8]+2272392833&4294967295,j=N+(L<<11&4294967295|L>>>21),L=k+(j^N^P)+O[11]+1839030562&4294967295,k=j+(L<<16&4294967295|L>>>16),L=P+(k^j^N)+O[14]+4259657740&4294967295,P=k+(L<<23&4294967295|L>>>9),L=N+(P^k^j)+O[1]+2763975236&4294967295,N=P+(L<<4&4294967295|L>>>28),L=j+(N^P^k)+O[4]+1272893353&4294967295,j=N+(L<<11&4294967295|L>>>21),L=k+(j^N^P)+O[7]+4139469664&4294967295,k=j+(L<<16&4294967295|L>>>16),L=P+(k^j^N)+O[10]+3200236656&4294967295,P=k+(L<<23&4294967295|L>>>9),L=N+(P^k^j)+O[13]+681279174&4294967295,N=P+(L<<4&4294967295|L>>>28),L=j+(N^P^k)+O[0]+3936430074&4294967295,j=N+(L<<11&4294967295|L>>>21),L=k+(j^N^P)+O[3]+3572445317&4294967295,k=j+(L<<16&4294967295|L>>>16),L=P+(k^j^N)+O[6]+76029189&4294967295,P=k+(L<<23&4294967295|L>>>9),L=N+(P^k^j)+O[9]+3654602809&4294967295,N=P+(L<<4&4294967295|L>>>28),L=j+(N^P^k)+O[12]+3873151461&4294967295,j=N+(L<<11&4294967295|L>>>21),L=k+(j^N^P)+O[15]+530742520&4294967295,k=j+(L<<16&4294967295|L>>>16),L=P+(k^j^N)+O[2]+3299628645&4294967295,P=k+(L<<23&4294967295|L>>>9),L=N+(k^(P|~j))+O[0]+4096336452&4294967295,N=P+(L<<6&4294967295|L>>>26),L=j+(P^(N|~k))+O[7]+1126891415&4294967295,j=N+(L<<10&4294967295|L>>>22),L=k+(N^(j|~P))+O[14]+2878612391&4294967295,k=j+(L<<15&4294967295|L>>>17),L=P+(j^(k|~N))+O[5]+4237533241&4294967295,P=k+(L<<21&4294967295|L>>>11),L=N+(k^(P|~j))+O[12]+1700485571&4294967295,N=P+(L<<6&4294967295|L>>>26),L=j+(P^(N|~k))+O[3]+2399980690&4294967295,j=N+(L<<10&4294967295|L>>>22),L=k+(N^(j|~P))+O[10]+4293915773&4294967295,k=j+(L<<15&4294967295|L>>>17),L=P+(j^(k|~N))+O[1]+2240044497&4294967295,P=k+(L<<21&4294967295|L>>>11),L=N+(k^(P|~j))+O[8]+1873313359&4294967295,N=P+(L<<6&4294967295|L>>>26),L=j+(P^(N|~k))+O[15]+4264355552&4294967295,j=N+(L<<10&4294967295|L>>>22),L=k+(N^(j|~P))+O[6]+2734768916&4294967295,k=j+(L<<15&4294967295|L>>>17),L=P+(j^(k|~N))+O[13]+1309151649&4294967295,P=k+(L<<21&4294967295|L>>>11),L=N+(k^(P|~j))+O[4]+4149444226&4294967295,N=P+(L<<6&4294967295|L>>>26),L=j+(P^(N|~k))+O[11]+3174756917&4294967295,j=N+(L<<10&4294967295|L>>>22),L=k+(N^(j|~P))+O[2]+718787259&4294967295,k=j+(L<<15&4294967295|L>>>17),L=P+(j^(k|~N))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+N&4294967295,M.g[1]=M.g[1]+(k+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+k&4294967295,M.g[3]=M.g[3]+j&4294967295}r.prototype.u=function(M,N){N===void 0&&(N=M.length);for(var P=N-this.blockSize,O=this.B,k=this.h,j=0;j<N;){if(k==0)for(;j<=P;)i(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<N;)if(O[k++]=M.charCodeAt(j++),k==this.blockSize){i(this,O),k=0;break}}else for(;j<N;)if(O[k++]=M[j++],k==this.blockSize){i(this,O),k=0;break}}this.h=k,this.o+=N},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var N=1;N<M.length-8;++N)M[N]=0;var P=8*this.o;for(N=M.length-8;N<M.length;++N)M[N]=P&255,P/=256;for(this.u(M),M=Array(16),N=P=0;4>N;++N)for(var O=0;32>O;O+=8)M[P++]=this.g[N]>>>O&255;return M};function s(M,N){var P=a;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=N(M)}function o(M,N){this.h=N;for(var P=[],O=!0,k=M.length-1;0<=k;k--){var j=M[k]|0;O&&j==N||(P[k]=j,O=!1)}this.g=P}var a={};function l(M){return-128<=M&&128>M?s(M,function(N){return new o([N|0],0>N?-1:0)}):new o([M|0],0>M?-1:0)}function c(M){if(isNaN(M)||!isFinite(M))return h;if(0>M)return A(c(-M));for(var N=[],P=1,O=0;M>=P;O++)N[O]=M/P|0,P*=4294967296;return new o(N,0)}function u(M,N){if(M.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(M.charAt(0)=="-")return A(u(M.substring(1),N));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(N,8)),O=h,k=0;k<M.length;k+=8){var j=Math.min(8,M.length-k),L=parseInt(M.substring(k,k+j),N);8>j?(j=c(Math.pow(N,j)),O=O.j(j).add(c(L))):(O=O.j(P),O=O.add(c(L)))}return O}var h=l(0),p=l(1),f=l(16777216);n=o.prototype,n.m=function(){if(w(this))return-A(this).m();for(var M=0,N=1,P=0;P<this.g.length;P++){var O=this.i(P);M+=(0<=O?O:4294967296+O)*N,N*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(b(this))return"0";if(w(this))return"-"+A(this).toString(M);for(var N=c(Math.pow(M,6)),P=this,O="";;){var k=T(P,N).g;P=x(P,k.j(N));var j=((0<P.g.length?P.g[0]:P.h)>>>0).toString(M);if(P=k,b(P))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function b(M){if(M.h!=0)return!1;for(var N=0;N<M.g.length;N++)if(M.g[N]!=0)return!1;return!0}function w(M){return M.h==-1}n.l=function(M){return M=x(this,M),w(M)?-1:b(M)?0:1};function A(M){for(var N=M.g.length,P=[],O=0;O<N;O++)P[O]=~M.g[O];return new o(P,~M.h).add(p)}n.abs=function(){return w(this)?A(this):this},n.add=function(M){for(var N=Math.max(this.g.length,M.g.length),P=[],O=0,k=0;k<=N;k++){var j=O+(this.i(k)&65535)+(M.i(k)&65535),L=(j>>>16)+(this.i(k)>>>16)+(M.i(k)>>>16);O=L>>>16,j&=65535,L&=65535,P[k]=L<<16|j}return new o(P,P[P.length-1]&-2147483648?-1:0)};function x(M,N){return M.add(A(N))}n.j=function(M){if(b(this)||b(M))return h;if(w(this))return w(M)?A(this).j(A(M)):A(A(this).j(M));if(w(M))return A(this.j(A(M)));if(0>this.l(f)&&0>M.l(f))return c(this.m()*M.m());for(var N=this.g.length+M.g.length,P=[],O=0;O<2*N;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<M.g.length;k++){var j=this.i(O)>>>16,L=this.i(O)&65535,W=M.i(k)>>>16,ue=M.i(k)&65535;P[2*O+2*k]+=L*ue,E(P,2*O+2*k),P[2*O+2*k+1]+=j*ue,E(P,2*O+2*k+1),P[2*O+2*k+1]+=L*W,E(P,2*O+2*k+1),P[2*O+2*k+2]+=j*W,E(P,2*O+2*k+2)}for(O=0;O<N;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=N;O<2*N;O++)P[O]=0;return new o(P,0)};function E(M,N){for(;(M[N]&65535)!=M[N];)M[N+1]+=M[N]>>>16,M[N]&=65535,N++}function S(M,N){this.g=M,this.h=N}function T(M,N){if(b(N))throw Error("division by zero");if(b(M))return new S(h,h);if(w(M))return N=T(A(M),N),new S(A(N.g),A(N.h));if(w(N))return N=T(M,A(N)),new S(A(N.g),N.h);if(30<M.g.length){if(w(M)||w(N))throw Error("slowDivide_ only works with positive integers.");for(var P=p,O=N;0>=O.l(M);)P=B(P),O=B(O);var k=V(P,1),j=V(O,1);for(O=V(O,2),P=V(P,2);!b(O);){var L=j.add(O);0>=L.l(M)&&(k=k.add(P),j=L),O=V(O,1),P=V(P,1)}return N=x(M,k.j(N)),new S(k,N)}for(k=h;0<=M.l(N);){for(P=Math.max(1,Math.floor(M.m()/N.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=c(P),L=j.j(N);w(L)||0<L.l(M);)P-=O,j=c(P),L=j.j(N);b(j)&&(j=p),k=k.add(j),M=x(M,L)}return new S(k,M)}n.A=function(M){return T(this,M).h},n.and=function(M){for(var N=Math.max(this.g.length,M.g.length),P=[],O=0;O<N;O++)P[O]=this.i(O)&M.i(O);return new o(P,this.h&M.h)},n.or=function(M){for(var N=Math.max(this.g.length,M.g.length),P=[],O=0;O<N;O++)P[O]=this.i(O)|M.i(O);return new o(P,this.h|M.h)},n.xor=function(M){for(var N=Math.max(this.g.length,M.g.length),P=[],O=0;O<N;O++)P[O]=this.i(O)^M.i(O);return new o(P,this.h^M.h)};function B(M){for(var N=M.g.length+1,P=[],O=0;O<N;O++)P[O]=M.i(O)<<1|M.i(O-1)>>>31;return new o(P,M.h)}function V(M,N){var P=N>>5;N%=32;for(var O=M.g.length-P,k=[],j=0;j<O;j++)k[j]=0<N?M.i(j+P)>>>N|M.i(j+P+1)<<32-N:M.i(j+P);return new o(k,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,N$=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,$m=o}).apply(typeof bL<"u"?bL:typeof self<"u"?self:typeof window<"u"?window:{});var Cx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var k$,Ov,I$,y4,eC,P$,R$,L$;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,R,U){return y==Array.prototype||y==Object.prototype||(y[R]=U.value),y};function t(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cx=="object"&&Cx];for(var R=0;R<y.length;++R){var U=y[R];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=t(this);function i(y,R){if(R)e:{var U=r;y=y.split(".");for(var te=0;te<y.length-1;te++){var be=y[te];if(!(be in U))break e;U=U[be]}y=y[y.length-1],te=U[y],R=R(te),R!=te&&R!=null&&e(U,y,{configurable:!0,writable:!0,value:R})}}function s(y,R){y instanceof String&&(y+="");var U=0,te=!1,be={next:function(){if(!te&&U<y.length){var ke=U++;return{value:R(ke,y[ke]),done:!1}}return te=!0,{done:!0,value:void 0}}};return be[Symbol.iterator]=function(){return be},be}i("Array.prototype.values",function(y){return y||function(){return s(this,function(R,U){return U})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(y){var R=typeof y;return R=R!="object"?R:y?Array.isArray(y)?"array":R:"null",R=="array"||R=="object"&&typeof y.length=="number"}function c(y){var R=typeof y;return R=="object"&&y!=null||R=="function"}function u(y,R,U){return y.call.apply(y.bind,arguments)}function h(y,R,U){if(!y)throw Error();if(2<arguments.length){var te=Array.prototype.slice.call(arguments,2);return function(){var be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(be,te),y.apply(R,be)}}return function(){return y.apply(R,arguments)}}function p(y,R,U){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function f(y,R){var U=Array.prototype.slice.call(arguments,1);return function(){var te=U.slice();return te.push.apply(te,arguments),y.apply(this,te)}}function b(y,R){function U(){}U.prototype=R.prototype,y.aa=R.prototype,y.prototype=new U,y.prototype.constructor=y,y.Qb=function(te,be,ke){for(var Ge=Array(arguments.length-2),vn=2;vn<arguments.length;vn++)Ge[vn-2]=arguments[vn];return R.prototype[be].apply(te,Ge)}}function w(y){const R=y.length;if(0<R){const U=Array(R);for(let te=0;te<R;te++)U[te]=y[te];return U}return[]}function A(y,R){for(let U=1;U<arguments.length;U++){const te=arguments[U];if(l(te)){const be=y.length||0,ke=te.length||0;y.length=be+ke;for(let Ge=0;Ge<ke;Ge++)y[be+Ge]=te[Ge]}else y.push(te)}}class x{constructor(R,U){this.i=R,this.j=U,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function E(y){return/^[\s\xa0]*$/.test(y)}function S(){var y=a.navigator;return y&&(y=y.userAgent)?y:""}function T(y){return T[" "](y),y}T[" "]=function(){};var B=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function V(y,R,U){for(const te in y)R.call(U,y[te],te,y)}function M(y,R){for(const U in y)R.call(void 0,y[U],U,y)}function N(y){const R={};for(const U in y)R[U]=y[U];return R}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(y,R){let U,te;for(let be=1;be<arguments.length;be++){te=arguments[be];for(U in te)y[U]=te[U];for(let ke=0;ke<P.length;ke++)U=P[ke],Object.prototype.hasOwnProperty.call(te,U)&&(y[U]=te[U])}}function k(y){var R=1;y=y.split(":");const U=[];for(;0<R&&y.length;)U.push(y.shift()),R--;return y.length&&U.push(y.join(":")),U}function j(y){a.setTimeout(()=>{throw y},0)}function L(){var y=re;let R=null;return y.g&&(R=y.g,y.g=y.g.next,y.g||(y.h=null),R.next=null),R}class W{constructor(){this.h=this.g=null}add(R,U){const te=ue.get();te.set(R,U),this.h?this.h.next=te:this.g=te,this.h=te}}var ue=new x(()=>new de,y=>y.reset());class de{constructor(){this.next=this.g=this.h=null}set(R,U){this.h=R,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let le,J=!1,re=new W,ge=()=>{const y=a.Promise.resolve(void 0);le=()=>{y.then(ye)}};var ye=()=>{for(var y;y=L();){try{y.h.call(y.g)}catch(U){j(U)}var R=ue;R.j(y),100>R.h&&(R.h++,y.next=R.g,R.g=y)}J=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(y,R){this.type=y,this.g=this.target=R,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var y=!1,R=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const U=()=>{};a.addEventListener("test",U,R),a.removeEventListener("test",U,R)}catch{}return y}();function ce(y,R){if(Q.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var U=this.type=y.type,te=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=R,R=y.relatedTarget){if(B){e:{try{T(R.nodeName);var be=!0;break e}catch{}be=!1}be||(R=null)}}else U=="mouseover"?R=y.fromElement:U=="mouseout"&&(R=y.toElement);this.relatedTarget=R,te?(this.clientX=te.clientX!==void 0?te.clientX:te.pageX,this.clientY=te.clientY!==void 0?te.clientY:te.pageY,this.screenX=te.screenX||0,this.screenY=te.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:fe[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&ce.aa.h.call(this)}}b(ce,Q);var fe={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function xe(y,R,U,te,be){this.listener=y,this.proxy=null,this.src=R,this.type=U,this.capture=!!te,this.ha=be,this.key=++Ee,this.da=this.fa=!1}function Ae(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Fe(y){this.src=y,this.g={},this.h=0}Fe.prototype.add=function(y,R,U,te,be){var ke=y.toString();y=this.g[ke],y||(y=this.g[ke]=[],this.h++);var Ge=Ne(y,R,te,be);return-1<Ge?(R=y[Ge],U||(R.fa=!1)):(R=new xe(R,this.src,ke,!!te,be),R.fa=U,y.push(R)),R};function Ce(y,R){var U=R.type;if(U in y.g){var te=y.g[U],be=Array.prototype.indexOf.call(te,R,void 0),ke;(ke=0<=be)&&Array.prototype.splice.call(te,be,1),ke&&(Ae(R),y.g[U].length==0&&(delete y.g[U],y.h--))}}function Ne(y,R,U,te){for(var be=0;be<y.length;++be){var ke=y[be];if(!ke.da&&ke.listener==R&&ke.capture==!!U&&ke.ha==te)return be}return-1}var De="closure_lm_"+(1e6*Math.random()|0),Z={};function Oe(y,R,U,te,be){if(Array.isArray(R)){for(var ke=0;ke<R.length;ke++)Oe(y,R[ke],U,te,be);return null}return U=Ut(U),y&&y[he]?y.K(R,U,c(te)?!!te.capture:!!te,be):at(y,R,U,!1,te,be)}function at(y,R,U,te,be,ke){if(!R)throw Error("Invalid event type");var Ge=c(be)?!!be.capture:!!be,vn=Ke(y);if(vn||(y[De]=vn=new Fe(y)),U=vn.add(R,U,te,Ge,ke),U.proxy)return U;if(te=Ye(),U.proxy=te,te.src=y,te.listener=U,y.addEventListener)ie||(be=Ge),be===void 0&&(be=!1),y.addEventListener(R.toString(),te,be);else if(y.attachEvent)y.attachEvent(Ie(R.toString()),te);else if(y.addListener&&y.removeListener)y.addListener(te);else throw Error("addEventListener and attachEvent are unavailable.");return U}function Ye(){function y(U){return R.call(y.src,y.listener,U)}const R=He;return y}function Re(y,R,U,te,be){if(Array.isArray(R))for(var ke=0;ke<R.length;ke++)Re(y,R[ke],U,te,be);else te=c(te)?!!te.capture:!!te,U=Ut(U),y&&y[he]?(y=y.i,R=String(R).toString(),R in y.g&&(ke=y.g[R],U=Ne(ke,U,te,be),-1<U&&(Ae(ke[U]),Array.prototype.splice.call(ke,U,1),ke.length==0&&(delete y.g[R],y.h--)))):y&&(y=Ke(y))&&(R=y.g[R.toString()],y=-1,R&&(y=Ne(R,U,te,be)),(U=-1<y?R[y]:null)&&rt(U))}function rt(y){if(typeof y!="number"&&y&&!y.da){var R=y.src;if(R&&R[he])Ce(R.i,y);else{var U=y.type,te=y.proxy;R.removeEventListener?R.removeEventListener(U,te,y.capture):R.detachEvent?R.detachEvent(Ie(U),te):R.addListener&&R.removeListener&&R.removeListener(te),(U=Ke(R))?(Ce(U,y),U.h==0&&(U.src=null,R[De]=null)):Ae(y)}}}function Ie(y){return y in Z?Z[y]:Z[y]="on"+y}function He(y,R){if(y.da)y=!0;else{R=new ce(R,this);var U=y.listener,te=y.ha||y.src;y.fa&&rt(y),y=U.call(te,R)}return y}function Ke(y){return y=y[De],y instanceof Fe?y:null}var Xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ut(y){return typeof y=="function"?y:(y[Xt]||(y[Xt]=function(R){return y.handleEvent(R)}),y[Xt])}function tt(){z.call(this),this.i=new Fe(this),this.M=this,this.F=null}b(tt,z),tt.prototype[he]=!0,tt.prototype.removeEventListener=function(y,R,U,te){Re(this,y,R,U,te)};function ut(y,R){var U,te=y.F;if(te)for(U=[];te;te=te.F)U.push(te);if(y=y.M,te=R.type||R,typeof R=="string")R=new Q(R,y);else if(R instanceof Q)R.target=R.target||y;else{var be=R;R=new Q(te,y),O(R,be)}if(be=!0,U)for(var ke=U.length-1;0<=ke;ke--){var Ge=R.g=U[ke];be=Ft(Ge,te,!0,R)&&be}if(Ge=R.g=y,be=Ft(Ge,te,!0,R)&&be,be=Ft(Ge,te,!1,R)&&be,U)for(ke=0;ke<U.length;ke++)Ge=R.g=U[ke],be=Ft(Ge,te,!1,R)&&be}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var y=this.i,R;for(R in y.g){for(var U=y.g[R],te=0;te<U.length;te++)Ae(U[te]);delete y.g[R],y.h--}}this.F=null},tt.prototype.K=function(y,R,U,te){return this.i.add(String(y),R,!1,U,te)},tt.prototype.L=function(y,R,U,te){return this.i.add(String(y),R,!0,U,te)};function Ft(y,R,U,te){if(R=y.i.g[String(R)],!R)return!0;R=R.concat();for(var be=!0,ke=0;ke<R.length;++ke){var Ge=R[ke];if(Ge&&!Ge.da&&Ge.capture==U){var vn=Ge.listener,kr=Ge.ha||Ge.src;Ge.fa&&Ce(y.i,Ge),be=vn.call(kr,te)!==!1&&be}}return be&&!te.defaultPrevented}function st(y,R,U){if(typeof y=="function")U&&(y=p(y,U));else if(y&&typeof y.handleEvent=="function")y=p(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:a.setTimeout(y,R||0)}function Nt(y){y.g=st(()=>{y.g=null,y.i&&(y.i=!1,Nt(y))},y.l);const R=y.h;y.h=null,y.m.apply(null,R)}class vt extends z{constructor(R,U){super(),this.m=R,this.l=U,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Nt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dn(y){z.call(this),this.h=y,this.g={}}b(Dn,z);var sn=[];function jt(y){V(y.g,function(R,U){this.g.hasOwnProperty(U)&&rt(R)},y),y.g={}}Dn.prototype.N=function(){Dn.aa.N.call(this),jt(this)},Dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=a.JSON.stringify,Sn=a.JSON.parse,Et=class{stringify(y){return a.JSON.stringify(y,void 0)}parse(y){return a.JSON.parse(y,void 0)}};function Nn(){}Nn.prototype.h=null;function Ct(y){return y.h||(y.h=y.i())}function Ot(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zt(){Q.call(this,"d")}b(zt,Q);function pt(){Q.call(this,"c")}b(pt,Q);var on={},kt=null;function Mt(){return kt=kt||new tt}on.La="serverreachability";function dn(y){Q.call(this,on.La,y)}b(dn,Q);function Kn(y){const R=Mt();ut(R,new dn(R))}on.STAT_EVENT="statevent";function dt(y,R){Q.call(this,on.STAT_EVENT,y),this.stat=R}b(dt,Q);function _n(y){const R=Mt();ut(R,new dt(R,y))}on.Ma="timingevent";function ci(y,R){Q.call(this,on.Ma,y),this.size=R}b(ci,Q);function jn(y,R){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){y()},R)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function br(y,R,U,te,be,ke){y.info(function(){if(y.g)if(ke)for(var Ge="",vn=ke.split("&"),kr=0;kr<vn.length;kr++){var cn=vn[kr].split("=");if(1<cn.length){var In=cn[0];cn=cn[1];var or=In.split("_");Ge=2<=or.length&&or[1]=="type"?Ge+(In+"="+cn+"&"):Ge+(In+"=redacted&")}}else Ge=null;else Ge=ke;return"XMLHTTP REQ ("+te+") [attempt "+be+"]: "+R+`
`+U+`
`+Ge})}function ui(y,R,U,te,be,ke,Ge){y.info(function(){return"XMLHTTP RESP ("+te+") [ attempt "+be+"]: "+R+`
`+U+`
`+ke+" "+Ge})}function xr(y,R,U,te){y.info(function(){return"XMLHTTP TEXT ("+R+"): "+ic(y,U)+(te?" "+te:"")})}function hu(y,R){y.info(function(){return"TIMEOUT: "+R})}Jn.prototype.info=function(){};function ic(y,R){if(!y.g)return R;if(!R)return null;try{var U=JSON.parse(R);if(U){for(y=0;y<U.length;y++)if(Array.isArray(U[y])){var te=U[y];if(!(2>te.length)){var be=te[1];if(Array.isArray(be)&&!(1>be.length)){var ke=be[0];if(ke!="noop"&&ke!="stop"&&ke!="close")for(var Ge=1;Ge<be.length;Ge++)be[Ge]=""}}}}return Vt(U)}catch{return R}}var hs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bs;function fs(){}b(fs,Nn),fs.prototype.g=function(){return new XMLHttpRequest},fs.prototype.i=function(){return{}},Bs=new fs;function Yr(y,R,U,te){this.j=y,this.i=R,this.l=U,this.R=te||1,this.U=new Dn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sc}function sc(){this.i=null,this.g="",this.h=!1}var Bo={},ul={};function oc(y,R,U){y.L=1,y.v=vu(yi(R)),y.m=U,y.P=!0,fu(y,null)}function fu(y,R){y.F=Date.now(),ac(y),y.A=yi(y.v);var U=y.A,te=y.R;Array.isArray(te)||(te=[String(te)]),O1(U.i,"t",te),y.C=0,U=y.j.J,y.h=new sc,y.g=Br(y.j,U?R:null,!y.m),0<y.O&&(y.M=new vt(p(y.Y,y,y.g),y.O)),R=y.U,U=y.g,te=y.ca;var be="readystatechange";Array.isArray(be)||(be&&(sn[0]=be.toString()),be=sn);for(var ke=0;ke<be.length;ke++){var Ge=Oe(U,be[ke],te||R.handleEvent,!1,R.h||R);if(!Ge)break;R.g[Ge.key]=Ge}R=y.H?N(y.H):{},y.m?(y.u||(y.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,R)):(y.u="GET",y.g.ea(y.A,y.u,null,R)),Kn(),br(y.i,y.u,y.A,y.l,y.R,y.m)}Yr.prototype.ca=function(y){y=y.target;const R=this.M;R&&Us(y)==3?R.j():this.Y(y)},Yr.prototype.Y=function(y){try{if(y==this.g)e:{const or=Us(this.g);var R=this.g.Ba();const zo=this.g.Z();if(!(3>or)&&(or!=3||this.g&&(this.h.h||this.g.oa()||ap(this.g)))){this.J||or!=4||R==7||(R==8||0>=zo?Kn(3):Kn(2)),$d(this);var U=this.g.Z();this.X=U;t:if(pu(this)){var te=ap(this.g);y="";var be=te.length,ke=Us(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Uo(this),Li(this);var Ge="";break t}this.h.i=new a.TextDecoder}for(R=0;R<be;R++)this.h.h=!0,y+=this.h.i.decode(te[R],{stream:!(ke&&R==be-1)});te.length=0,this.h.g+=y,this.C=0,Ge=this.h.g}else Ge=this.g.oa();if(this.o=U==200,ui(this.i,this.u,this.A,this.l,this.R,or,U),this.o){if(this.T&&!this.K){t:{if(this.g){var vn,kr=this.g;if((vn=kr.g?kr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(vn)){var cn=vn;break t}}cn=null}if(U=cn)xr(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qd(this,U);else{this.o=!1,this.s=3,_n(12),Uo(this),Li(this);break e}}if(this.P){U=!0;let ps;for(;!this.J&&this.C<Ge.length;)if(ps=H2(this,Ge),ps==ul){or==4&&(this.s=4,_n(14),U=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(ps==Bo){this.s=4,_n(15),xr(this.i,this.l,Ge,"[Invalid Chunk]"),U=!1;break}else xr(this.i,this.l,ps,null),qd(this,ps);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),or!=4||Ge.length!=0||this.h.h||(this.s=1,_n(16),U=!1),this.o=this.o&&U,!U)xr(this.i,this.l,Ge,"[Invalid Chunked Response]"),Uo(this),Li(this);else if(0<Ge.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+Ge.length),lt(In),In.M=!0,_n(11))}}else xr(this.i,this.l,Ge,null),qd(this,Ge);or==4&&Uo(this),this.o&&!this.J&&(or==4?qt(this.j,this):(this.o=!1,ac(this)))}else B1(this.g),U==400&&0<Ge.indexOf("Unknown SID")?(this.s=3,_n(12)):(this.s=0,_n(13)),Uo(this),Li(this)}}}catch{}finally{}};function pu(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function H2(y,R){var U=y.C,te=R.indexOf(`
`,U);return te==-1?ul:(U=Number(R.substring(U,te)),isNaN(U)?Bo:(te+=1,te+U>R.length?ul:(R=R.slice(te,te+U),y.C=te+U,R)))}Yr.prototype.cancel=function(){this.J=!0,Uo(this)};function ac(y){y.S=Date.now()+y.I,Jf(y,y.I)}function Jf(y,R){if(y.B!=null)throw Error("WatchDog timer not null");y.B=jn(p(y.ba,y),R)}function $d(y){y.B&&(a.clearTimeout(y.B),y.B=null)}Yr.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(hu(this.i,this.A),this.L!=2&&(Kn(),_n(17)),Uo(this),this.s=2,Li(this)):Jf(this,this.S-y)};function Li(y){y.j.G==0||y.J||qt(y.j,y)}function Uo(y){$d(y);var R=y.M;R&&typeof R.ma=="function"&&R.ma(),y.M=null,jt(y.U),y.g&&(R=y.g,y.g=null,R.abort(),R.ma())}function qd(y,R){try{var U=y.j;if(U.G!=0&&(U.g==y||co(U.h,y))){if(!y.K&&co(U.h,y)&&U.G==3){try{var te=U.Da.g.parse(R)}catch{te=null}if(Array.isArray(te)&&te.length==3){var be=te;if(be[0]==0){e:if(!U.u){if(U.g)if(U.g.F+3e3<y.F)Lt(U),La(U);else break e;Ue(U),_n(18)}}else U.za=be[1],0<U.za-U.T&&37500>be[2]&&U.F&&U.v==0&&!U.C&&(U.C=jn(p(U.Za,U),6e3));if(1>=np(U.h)&&U.ca){try{U.ca()}catch{}U.ca=void 0}}else Rn(U,11)}else if((y.K||U.g==y)&&Lt(U),!E(R))for(be=U.Da.g.parse(R),R=0;R<be.length;R++){let cn=be[R];if(U.T=cn[0],cn=cn[1],U.G==2)if(cn[0]=="c"){U.K=cn[1],U.ia=cn[2];const In=cn[3];In!=null&&(U.la=In,U.j.info("VER="+U.la));const or=cn[4];or!=null&&(U.Aa=or,U.j.info("SVER="+U.Aa));const zo=cn[5];zo!=null&&typeof zo=="number"&&0<zo&&(te=1.5*zo,U.L=te,U.j.info("backChannelRequestTimeoutMs_="+te)),te=U;const ps=y.g;if(ps){const Yi=ps.g?ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yi){var ke=te.h;ke.g||Yi.indexOf("spdy")==-1&&Yi.indexOf("quic")==-1&&Yi.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(lc(ke,ke.h),ke.h=null))}if(te.D){const fl=ps.g?ps.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(te.ya=fl,fn(te.I,te.D,fl))}}U.G=3,U.l&&U.l.ua(),U.ba&&(U.R=Date.now()-y.F,U.j.info("Handshake RTT: "+U.R+"ms")),te=U;var Ge=y;if(te.qa=Un(te,te.J?te.ia:null,te.W),Ge.K){R1(te.h,Ge);var vn=Ge,kr=te.L;kr&&(vn.I=kr),vn.B&&($d(vn),ac(vn)),te.g=Ge}else Le(te);0<U.i.length&&C(U)}else cn[0]!="stop"&&cn[0]!="close"||Rn(U,7);else U.G==3&&(cn[0]=="stop"||cn[0]=="close"?cn[0]=="stop"?Rn(U,7):Xd(U):cn[0]!="noop"&&U.l&&U.l.ta(cn),U.v=0)}}Kn(4)}catch{}}var Zf=class{constructor(y,R){this.g=y,this.map=R}};function ep(y){this.l=y||10,a.PerformanceNavigationTiming?(y=a.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tp(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function np(y){return y.h?1:y.g?y.g.size:0}function co(y,R){return y.h?y.h==R:y.g?y.g.has(R):!1}function lc(y,R){y.g?y.g.add(R):y.h=R}function R1(y,R){y.h&&y.h==R?y.h=null:y.g&&y.g.has(R)&&y.g.delete(R)}ep.prototype.cancel=function(){if(this.i=Sr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Sr(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let R=y.i;for(const U of y.g.values())R=R.concat(U.D);return R}return w(y.i)}function L1(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(l(y)){for(var R=[],U=y.length,te=0;te<U;te++)R.push(y[te]);return R}R=[],U=0;for(te in y)R[U++]=y[te];return R}function Ta(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(l(y)||typeof y=="string"){var R=[];y=y.length;for(var U=0;U<y;U++)R.push(U);return R}R=[],U=0;for(const te in y)R[U++]=te;return R}}}function mu(y,R){if(y.forEach&&typeof y.forEach=="function")y.forEach(R,void 0);else if(l(y)||typeof y=="string")Array.prototype.forEach.call(y,R,void 0);else for(var U=Ta(y),te=L1(y),be=te.length,ke=0;ke<be;ke++)R.call(void 0,te[ke],U&&U[ke],y)}var rp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(y,R){if(y){y=y.split("&");for(var U=0;U<y.length;U++){var te=y[U].indexOf("="),be=null;if(0<=te){var ke=y[U].substring(0,te);be=y[U].substring(te+1)}else ke=y[U];R(ke,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function Zn(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof Zn){this.h=y.h,gu(this,y.j),this.o=y.o,this.g=y.g,Hd(this,y.s),this.l=y.l;var R=y.i,U=new Ki;U.i=R.i,R.g&&(U.g=new Map(R.g),U.h=R.h),M1(this,U),this.m=y.m}else y&&(R=String(y).match(rp))?(this.h=!1,gu(this,R[1]||"",!0),this.o=cc(R[2]||""),this.g=cc(R[3]||"",!0),Hd(this,R[4]),this.l=cc(R[5]||"",!0),M1(this,R[6]||"",!0),this.m=cc(R[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}Zn.prototype.toString=function(){var y=[],R=this.j;R&&y.push(Na(R,D1,!0),":");var U=this.g;return(U||R=="file")&&(y.push("//"),(R=this.o)&&y.push(Na(R,D1,!0),"@"),y.push(encodeURIComponent(String(U)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.s,U!=null&&y.push(":",String(U))),(U=this.l)&&(this.g&&U.charAt(0)!="/"&&y.push("/"),y.push(Na(U,U.charAt(0)=="/"?G2:W2,!0))),(U=this.i.toString())&&y.push("?",U),(U=this.m)&&y.push("#",Na(U,j1)),y.join("")};function yi(y){return new Zn(y)}function gu(y,R,U){y.j=U?cc(R,!0):R,y.j&&(y.j=y.j.replace(/:$/,""))}function Hd(y,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);y.s=R}else y.s=null}function M1(y,R,U){R instanceof Ki?(y.i=R,K2(y.i,y.h)):(U||(R=Na(R,ip)),y.i=new Ki(R,y.h))}function fn(y,R,U){y.i.set(R,U)}function vu(y){return fn(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function cc(y,R){return y?R?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Na(y,R,U){return typeof y=="string"?(y=encodeURI(y).replace(R,yu),U&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function yu(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var D1=/[#\/\?@]/g,W2=/[#\?:]/g,G2=/[#\?]/g,ip=/[#\?@]/g,j1=/#/g;function Ki(y,R){this.h=this.g=null,this.i=y||null,this.j=!!R}function ka(y){y.g||(y.g=new Map,y.h=0,y.i&&uo(y.i,function(R,U){y.add(decodeURIComponent(R.replace(/\+/g," ")),U)}))}n=Ki.prototype,n.add=function(y,R){ka(this),this.i=null,y=Rt(this,y);var U=this.g.get(y);return U||this.g.set(y,U=[]),U.push(R),this.h+=1,this};function uc(y,R){ka(y),R=Rt(y,R),y.g.has(R)&&(y.i=null,y.h-=y.g.get(R).length,y.g.delete(R))}function Wd(y,R){return ka(y),R=Rt(y,R),y.g.has(R)}n.forEach=function(y,R){ka(this),this.g.forEach(function(U,te){U.forEach(function(be){y.call(R,be,te,this)},this)},this)},n.na=function(){ka(this);const y=Array.from(this.g.values()),R=Array.from(this.g.keys()),U=[];for(let te=0;te<R.length;te++){const be=y[te];for(let ke=0;ke<be.length;ke++)U.push(R[te])}return U},n.V=function(y){ka(this);let R=[];if(typeof y=="string")Wd(this,y)&&(R=R.concat(this.g.get(Rt(this,y))));else{y=Array.from(this.g.values());for(let U=0;U<y.length;U++)R=R.concat(y[U])}return R},n.set=function(y,R){return ka(this),this.i=null,y=Rt(this,y),Wd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[R]),this.h+=1,this},n.get=function(y,R){return y?(y=this.V(y),0<y.length?String(y[0]):R):R};function O1(y,R,U){uc(y,R),0<U.length&&(y.i=null,y.g.set(Rt(y,R),w(U)),y.h+=U.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],R=Array.from(this.g.keys());for(var U=0;U<R.length;U++){var te=R[U];const ke=encodeURIComponent(String(te)),Ge=this.V(te);for(te=0;te<Ge.length;te++){var be=ke;Ge[te]!==""&&(be+="="+encodeURIComponent(String(Ge[te]))),y.push(be)}}return this.i=y.join("&")};function Rt(y,R){return R=String(R),y.j&&(R=R.toLowerCase()),R}function K2(y,R){R&&!y.j&&(ka(y),y.i=null,y.g.forEach(function(U,te){var be=te.toLowerCase();te!=be&&(uc(this,te),O1(this,be,U))},y)),y.j=R}function Y2(y,R){const U=new Jn;if(a.Image){const te=new Image;te.onload=f(Mi,U,"TestLoadImage: loaded",!0,R,te),te.onerror=f(Mi,U,"TestLoadImage: error",!1,R,te),te.onabort=f(Mi,U,"TestLoadImage: abort",!1,R,te),te.ontimeout=f(Mi,U,"TestLoadImage: timeout",!1,R,te),a.setTimeout(function(){te.ontimeout&&te.ontimeout()},1e4),te.src=y}else R(!1)}function X2(y,R){const U=new Jn,te=new AbortController,be=setTimeout(()=>{te.abort(),Mi(U,"TestPingServer: timeout",!1,R)},1e4);fetch(y,{signal:te.signal}).then(ke=>{clearTimeout(be),ke.ok?Mi(U,"TestPingServer: ok",!0,R):Mi(U,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(be),Mi(U,"TestPingServer: error",!1,R)})}function Mi(y,R,U,te,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),te(U)}catch{}}function dl(){this.g=new Et}function Q2(y,R,U){const te=U||"";try{mu(y,function(be,ke){let Ge=be;c(be)&&(Ge=Vt(be)),R.push(te+ke+"="+encodeURIComponent(Ge))})}catch(be){throw R.push(te+"type="+encodeURIComponent("_badmap")),be}}function Gd(y){this.l=y.Ub||null,this.j=y.eb||!1}b(Gd,Nn),Gd.prototype.g=function(){return new hl(this.l,this.j)},Gd.prototype.i=function(y){return function(){return y}}({});function hl(y,R){tt.call(this),this.D=y,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(hl,tt),n=hl.prototype,n.open=function(y,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=R,this.readyState=1,wu(this)},n.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(R.body=y),(this.D||a).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vo(this)),this.readyState=0},n.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,wu(this)),this.g&&(this.readyState=3,wu(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kd(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kd(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}n.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var R=y.value?y.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!y.done}))&&(this.response=this.responseText+=R)}y.done?Vo(this):wu(this),this.readyState==3&&Kd(this)}},n.Ra=function(y){this.g&&(this.response=this.responseText=y,Vo(this))},n.Qa=function(y){this.g&&(this.response=y,Vo(this))},n.ga=function(){this.g&&Vo(this)};function Vo(y){y.readyState=4,y.l=null,y.j=null,y.v=null,wu(y)}n.setRequestHeader=function(y,R){this.u.append(y,R)},n.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],R=this.h.entries();for(var U=R.next();!U.done;)U=U.value,y.push(U[0]+": "+U[1]),U=R.next();return y.join(`\r
`)};function wu(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Ia(y){let R="";return V(y,function(U,te){R+=te,R+=":",R+=U,R+=`\r
`}),R}function sp(y,R,U){e:{for(te in U){var te=!1;break e}te=!0}te||(U=Ia(U),typeof y=="string"?U!=null&&encodeURIComponent(String(U)):fn(y,R,U))}function Yn(y){tt.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Yn,tt);var op=/^https?$/i,F1=["POST","PUT"];n=Yn.prototype,n.Ha=function(y){this.J=y},n.ea=function(y,R,U,te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);R=R?R.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bs.g(),this.v=this.o?Ct(this.o):Ct(Bs),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(R,String(y),!0),this.B=!1}catch(ke){Pa(this,ke);return}if(y=U||"",U=new Map(this.headers),te)if(Object.getPrototypeOf(te)===Object.prototype)for(var be in te)U.set(be,te[be]);else if(typeof te.keys=="function"&&typeof te.get=="function")for(const ke of te.keys())U.set(ke,te.get(ke));else throw Error("Unknown input type for opt_headers: "+String(te));te=Array.from(U.keys()).find(ke=>ke.toLowerCase()=="content-type"),be=a.FormData&&y instanceof a.FormData,!(0<=Array.prototype.indexOf.call(F1,R,void 0))||te||be||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,Ge]of U)this.g.setRequestHeader(ke,Ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hc(this),this.u=!0,this.g.send(y),this.u=!1}catch(ke){Pa(this,ke)}};function Pa(y,R){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=R,y.m=5,Yd(y),dc(y)}function Yd(y){y.A||(y.A=!0,ut(y,"complete"),ut(y,"error"))}n.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,ut(this,"complete"),ut(this,"abort"),dc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dc(this,!0)),Yn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?bu(this):this.bb())},n.bb=function(){bu(this)};function bu(y){if(y.h&&typeof o<"u"&&(!y.v[1]||Us(y)!=4||y.Z()!=2)){if(y.u&&Us(y)==4)st(y.Ea,0,y);else if(ut(y,"readystatechange"),Us(y)==4){y.h=!1;try{const Ge=y.Z();e:switch(Ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var U;if(!(U=R)){var te;if(te=Ge===0){var be=String(y.D).match(rp)[1]||null;!be&&a.self&&a.self.location&&(be=a.self.location.protocol.slice(0,-1)),te=!op.test(be?be.toLowerCase():"")}U=te}if(U)ut(y,"complete"),ut(y,"success");else{y.m=6;try{var ke=2<Us(y)?y.g.statusText:""}catch{ke=""}y.l=ke+" ["+y.Z()+"]",Yd(y)}}finally{dc(y)}}}}function dc(y,R){if(y.g){hc(y);const U=y.g,te=y.v[0]?()=>{}:null;y.g=null,y.v=null,R||ut(y,"ready");try{U.onreadystatechange=te}catch{}}}function hc(y){y.I&&(a.clearTimeout(y.I),y.I=null)}n.isActive=function(){return!!this.g};function Us(y){return y.g?y.g.readyState:0}n.Z=function(){try{return 2<Us(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(y){if(this.g){var R=this.g.responseText;return y&&R.indexOf(y)==0&&(R=R.substring(y.length)),Sn(R)}};function ap(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function B1(y){const R={};y=(y.g&&2<=Us(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let te=0;te<y.length;te++){if(E(y[te]))continue;var U=k(y[te]);const be=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const ke=R[be]||[];R[be]=ke,ke.push(U)}M(R,function(te){return te.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(y,R,U){return U&&U.internalChannelParams&&U.internalChannelParams[y]||R}function Ra(y){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vs("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vs("baseRetryDelayMs",5e3,y),this.cb=Vs("retryDelaySeedMs",1e4,y),this.Wa=Vs("forwardChannelMaxRetries",2,y),this.wa=Vs("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new ep(y&&y.concurrentRequestLimit),this.Da=new dl,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ra.prototype,n.la=8,n.G=1,n.connect=function(y,R,U,te){_n(0),this.W=y,this.H=R||{},U&&te!==void 0&&(this.H.OSID=U,this.H.OAID=te),this.F=this.X,this.I=Un(this,null,this.W),C(this)};function Xd(y){if(lp(y),y.G==3){var R=y.U++,U=yi(y.I);if(fn(U,"SID",y.K),fn(U,"RID",R),fn(U,"TYPE","terminate"),pe(y,U),R=new Yr(y,y.j,R),R.L=2,R.v=vu(yi(U)),U=!1,a.navigator&&a.navigator.sendBeacon)try{U=a.navigator.sendBeacon(R.v.toString(),"")}catch{}!U&&a.Image&&(new Image().src=R.v,U=!0),U||(R.g=Br(R.j,null),R.g.ea(R.v)),R.F=Date.now(),ac(R)}Cr(y)}function La(y){y.g&&(lt(y),y.g.cancel(),y.g=null)}function lp(y){La(y),y.u&&(a.clearTimeout(y.u),y.u=null),Lt(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&a.clearTimeout(y.s),y.s=null)}function C(y){if(!tp(y.h)&&!y.s){y.s=!0;var R=y.Ga;le||ge(),J||(le(),J=!0),re.add(R,y),y.B=0}}function q(y,R){return np(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=R.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=jn(p(y.Ga,y,R),pn(y,y.B)),y.B++,!0)}n.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const be=new Yr(this,this.j,y);let ke=this.o;if(this.S&&(ke?(ke=N(ke),O(ke,this.S)):ke=this.S),this.m!==null||this.O||(be.H=ke,ke=null),this.P)e:{for(var R=0,U=0;U<this.i.length;U++){t:{var te=this.i[U];if("__data__"in te.map&&(te=te.map.__data__,typeof te=="string")){te=te.length;break t}te=void 0}if(te===void 0)break;if(R+=te,4096<R){R=U;break e}if(R===4096||U===this.i.length-1){R=U+1;break e}}R=1e3}else R=1e3;R=we(this,be,R),U=yi(this.I),fn(U,"RID",y),fn(U,"CVER",22),this.D&&fn(U,"X-HTTP-Session-Id",this.D),pe(this,U),ke&&(this.O?R="headers="+encodeURIComponent(String(Ia(ke)))+"&"+R:this.m&&sp(U,this.m,ke)),lc(this.h,be),this.Ua&&fn(U,"TYPE","init"),this.P?(fn(U,"$req",R),fn(U,"SID","null"),be.T=!0,oc(be,U,null)):oc(be,U,R),this.G=2}}else this.G==3&&(y?se(this,y):this.i.length==0||tp(this.h)||se(this))};function se(y,R){var U;R?U=R.l:U=y.U++;const te=yi(y.I);fn(te,"SID",y.K),fn(te,"RID",U),fn(te,"AID",y.T),pe(y,te),y.m&&y.o&&sp(te,y.m,y.o),U=new Yr(y,y.j,U,y.B+1),y.m===null&&(U.H=y.o),R&&(y.i=R.D.concat(y.i)),R=we(y,U,1e3),U.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),lc(y.h,U),oc(U,te,R)}function pe(y,R){y.H&&V(y.H,function(U,te){fn(R,te,U)}),y.l&&mu({},function(U,te){fn(R,te,U)})}function we(y,R,U){U=Math.min(y.i.length,U);var te=y.l?p(y.l.Na,y.l,y):null;e:{var be=y.i;let ke=-1;for(;;){const Ge=["count="+U];ke==-1?0<U?(ke=be[0].g,Ge.push("ofs="+ke)):ke=0:Ge.push("ofs="+ke);let vn=!0;for(let kr=0;kr<U;kr++){let cn=be[kr].g;const In=be[kr].map;if(cn-=ke,0>cn)ke=Math.max(0,be[kr].g-100),vn=!1;else try{Q2(In,Ge,"req"+cn+"_")}catch{te&&te(In)}}if(vn){te=Ge.join("&");break e}}}return y=y.i.splice(0,U),R.D=y,te}function Le(y){if(!y.g&&!y.u){y.Y=1;var R=y.Fa;le||ge(),J||(le(),J=!0),re.add(R,y),y.v=0}}function Ue(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=jn(p(y.Fa,y),pn(y,y.v)),y.v++,!0)}n.Fa=function(){if(this.u=null,mt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=jn(p(this.ab,this),y)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_n(10),La(this),mt(this))};function lt(y){y.A!=null&&(a.clearTimeout(y.A),y.A=null)}function mt(y){y.g=new Yr(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var R=yi(y.qa);fn(R,"RID","rpc"),fn(R,"SID",y.K),fn(R,"AID",y.T),fn(R,"CI",y.F?"0":"1"),!y.F&&y.ja&&fn(R,"TO",y.ja),fn(R,"TYPE","xmlhttp"),pe(y,R),y.m&&y.o&&sp(R,y.m,y.o),y.L&&(y.g.I=y.L);var U=y.g;y=y.ia,U.L=1,U.v=vu(yi(R)),U.m=null,U.P=!0,fu(U,y)}n.Za=function(){this.C!=null&&(this.C=null,La(this),Ue(this),_n(19))};function Lt(y){y.C!=null&&(a.clearTimeout(y.C),y.C=null)}function qt(y,R){var U=null;if(y.g==R){Lt(y),lt(y),y.g=null;var te=2}else if(co(y.h,R))U=R.D,R1(y.h,R),te=1;else return;if(y.G!=0){if(R.o)if(te==1){U=R.m?R.m.length:0,R=Date.now()-R.F;var be=y.B;te=Mt(),ut(te,new ci(te,U)),C(y)}else Le(y);else if(be=R.s,be==3||be==0&&0<R.X||!(te==1&&q(y,R)||te==2&&Ue(y)))switch(U&&0<U.length&&(R=y.h,R.i=R.i.concat(U)),be){case 1:Rn(y,5);break;case 4:Rn(y,10);break;case 3:Rn(y,6);break;default:Rn(y,2)}}}function pn(y,R){let U=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(U*=2),U*R}function Rn(y,R){if(y.j.info("Error code "+R),R==2){var U=p(y.fb,y),te=y.Xa;const be=!te;te=new Zn(te||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||gu(te,"https"),vu(te),be?Y2(te.toString(),U):X2(te.toString(),U)}else _n(2);y.G=0,y.l&&y.l.sa(R),Cr(y),lp(y)}n.fb=function(y){y?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function Cr(y){if(y.G=0,y.ka=[],y.l){const R=Sr(y.h);(R.length!=0||y.i.length!=0)&&(A(y.ka,R),A(y.ka,y.i),y.h.i.length=0,w(y.i),y.i.length=0),y.l.ra()}}function Un(y,R,U){var te=U instanceof Zn?yi(U):new Zn(U);if(te.g!="")R&&(te.g=R+"."+te.g),Hd(te,te.s);else{var be=a.location;te=be.protocol,R=R?R+"."+be.hostname:be.hostname,be=+be.port;var ke=new Zn(null);te&&gu(ke,te),R&&(ke.g=R),be&&Hd(ke,be),U&&(ke.l=U),te=ke}return U=y.D,R=y.ya,U&&R&&fn(te,U,R),fn(te,"VER",y.la),pe(y,te),te}function Br(y,R,U){if(R&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=y.Ca&&!y.pa?new Yn(new Gd({eb:U})):new Yn(y.pa),R.Ha(y.J),R}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tr(){}n=Tr.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ur(){}Ur.prototype.g=function(y,R){return new Nr(y,R)};function Nr(y,R){tt.call(this),this.g=new Ra(R),this.l=y,this.h=R&&R.messageUrlParams||null,y=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(y?y["X-WebChannel-Content-Type"]=R.messageContentType:y={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(y?y["X-WebChannel-Client-Profile"]=R.va:y={"X-WebChannel-Client-Profile":R.va}),this.g.S=y,(y=R&&R.Sb)&&!E(y)&&(this.g.m=y),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!E(R)&&(this.g.D=R,y=this.h,y!==null&&R in y&&(y=this.h,R in y&&delete y[R])),this.j=new Da(this)}b(Nr,tt),Nr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nr.prototype.close=function(){Xd(this.g)},Nr.prototype.o=function(y){var R=this.g;if(typeof y=="string"){var U={};U.__data__=y,y=U}else this.u&&(U={},U.__data__=Vt(y),y=U);R.i.push(new Zf(R.Ya++,y)),R.G==3&&C(R)},Nr.prototype.N=function(){this.g.l=null,delete this.j,Xd(this.g),delete this.g,Nr.aa.N.call(this)};function ho(y){zt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var R=y.__sm__;if(R){e:{for(const U in R){y=U;break e}y=void 0}(this.i=y)&&(y=this.i,R=R!==null&&y in R?R[y]:void 0),this.data=R}else this.data=y}b(ho,zt);function Ma(){pt.call(this),this.status=1}b(Ma,pt);function Da(y){this.g=y}b(Da,Tr),Da.prototype.ua=function(){ut(this.g,"a")},Da.prototype.ta=function(y){ut(this.g,new ho(y))},Da.prototype.sa=function(y){ut(this.g,new Ma)},Da.prototype.ra=function(){ut(this.g,"b")},Ur.prototype.createWebChannel=Ur.prototype.g,Nr.prototype.send=Nr.prototype.o,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,L$=function(){return new Ur},R$=function(){return Mt()},P$=on,eC={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,y4=hs,Fo.COMPLETE="complete",I$=Fo,Ot.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Ov=Ot,Yn.prototype.listenOnce=Yn.prototype.L,Yn.prototype.getLastError=Yn.prototype.Ka,Yn.prototype.getLastErrorCode=Yn.prototype.Ba,Yn.prototype.getStatus=Yn.prototype.Z,Yn.prototype.getResponseJson=Yn.prototype.Oa,Yn.prototype.getResponseText=Yn.prototype.oa,Yn.prototype.send=Yn.prototype.ea,Yn.prototype.setWithCredentials=Yn.prototype.Ha,k$=Yn}).apply(typeof Cx<"u"?Cx:typeof self<"u"?self:typeof window<"u"?window:{});const xL="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Is.UNAUTHENTICATED=new Is(null),Is.GOOGLE_CREDENTIALS=new Is("google-credentials-uid"),Is.FIRST_PARTY=new Is("first-party-uid"),Is.MOCK_USER=new Is("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F2="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=new A6("@firebase/firestore");function _v(){return r1.logLevel}function gt(n,...e){if(r1.logLevel<=bn.DEBUG){const t=e.map(mk);r1.debug(`Firestore (${F2}): ${n}`,...t)}}function Dd(n,...e){if(r1.logLevel<=bn.ERROR){const t=e.map(mk);r1.error(`Firestore (${F2}): ${n}`,...t)}}function u2(n,...e){if(r1.logLevel<=bn.WARN){const t=e.map(mk);r1.warn(`Firestore (${F2}): ${n}`,...t)}}function mk(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n="Unexpected state"){const e=`FIRESTORE (${F2}) INTERNAL ASSERTION FAILED: `+n;throw Dd(e),new Error(e)}function Gn(n,e){n||$t()}function Kt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends cl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zhe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Is.UNAUTHENTICATED))}shutdown(){}}class efe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tfe{constructor(e){this.t=e,this.currentUser=Is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Gn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new xd;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xd,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xd)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gn(typeof r.accessToken=="string"),new M$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gn(e===null||typeof e=="string"),new Is(e)}}class nfe{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Is.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rfe{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new nfe(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ife{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sfe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Gn(this.o===void 0);const r=s=>{s.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,gt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Gn(typeof t.token=="string"),this.R=t.token,new ife(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ofe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ofe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Pn(n,e){return n<e?-1:n>e?1:0}function d2(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new it(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new it(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new it(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ri.fromMillis(Date.now())}static fromDate(e){return Ri.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ri(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pn(this.nanoseconds,e.nanoseconds):Pn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new Ri(0,0))}static max(){return new Gt(new Ri(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,t,r){t===void 0?t=0:t>e.length&&$t(),r===void 0?r=e.length-t:r>e.length-t&&$t(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return c5.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof c5?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pr extends c5{construct(e,t,r){return new pr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(Be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new pr(t)}static emptyPath(){return new pr([])}}const afe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class os extends c5{construct(e,t,r){return new os(e,t,r)}static isValidIdentifier(e){return afe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),os.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new os(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new it(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new it(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new it(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new it(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new os(t)}static emptyPath(){return new os([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.path=e}static fromPath(e){return new Pt(pr.fromString(e))}static fromName(e){return new Pt(pr.fromString(e).popFirst(5))}static empty(){return new Pt(pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pt(new pr(e.slice()))}}function lfe(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Gt.fromTimestamp(r===1e9?new Ri(t+1,0):new Ri(t,r));return new jf(i,Pt.empty(),e)}function cfe(n){return new jf(n.readTime,n.key,-1)}class jf{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new jf(Gt.min(),Pt.empty(),-1)}static max(){return new jf(Gt.max(),Pt.empty(),-1)}}function ufe(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pt.comparator(n.documentKey,e.documentKey),t!==0?t:Pn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dfe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hfe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(n){if(n.code!==Be.FAILED_PRECONDITION||n.message!==dfe)throw n;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ze((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ze?t:ze.resolve(t)}catch(t){return ze.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ze.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ze.reject(t)}static resolve(e){return new ze((t,r)=>{t(e)})}static reject(e){return new ze((t,r)=>{r(e)})}static waitFor(e){return new ze((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=ze.resolve(!1);for(const r of e)t=t.next(i=>i?ze.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ze((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new ze((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function ffe(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function db(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}gk.oe=-1;function I6(n){return n==null}function n_(n){return n===0&&1/n==-1/0}function pfe(n){return typeof n=="number"&&Number.isInteger(n)&&!n_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function S1(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function j$(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,t){this.comparator=e,this.root=t||ss.EMPTY}insert(e,t){return new Fr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ss.BLACK,null,null))}remove(e){return new Fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ss.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tx(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tx(this.root,e,this.comparator,!0)}}class Tx{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ss{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ss.RED,this.left=i??ss.EMPTY,this.right=s??ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ss(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ss.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $t();const e=this.left.check();if(e!==this.right.check())throw $t();return e+(this.isRed()?0:1)}}ss.EMPTY=null,ss.RED=!0,ss.BLACK=!1;ss.EMPTY=new class{constructor(){this.size=0}get key(){throw $t()}get value(){throw $t()}get color(){throw $t()}get left(){throw $t()}get right(){throw $t()}copy(e,t,r,i,s){return this}insert(e,t,r){return new ss(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.comparator=e,this.data=new Fr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AL(this.data.getIterator())}getIteratorFrom(e){return new AL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ls)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ls(this.comparator);return t.data=e,t}}class AL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.fields=e,e.sort(os.comparator)}static empty(){return new ma([])}unionWith(e){let t=new ls(os.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ma(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return d2(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new O$("Invalid base64 string: "+s):s}}(e);return new ds(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ds(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ds.EMPTY_BYTE_STRING=new ds("");const mfe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Of(n){if(Gn(!!n),typeof n=="string"){let e=0;const t=mfe.exec(n);if(Gn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ti(n.seconds),nanos:ti(n.nanos)}}function ti(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function i1(n){return typeof n=="string"?ds.fromBase64String(n):ds.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function yk(n){const e=n.mapValue.fields.__previous_value__;return vk(e)?yk(e):e}function u5(n){const e=Of(n.mapValue.fields.__local_write_time__.timestampValue);return new Ri(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gfe{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class d5{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new d5("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof d5&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function s1(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vk(n)?4:yfe(n)?9007199254740991:vfe(n)?10:11:$t()}function ou(n,e){if(n===e)return!0;const t=s1(n);if(t!==s1(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return u5(n).isEqual(u5(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Of(i.timestampValue),a=Of(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return i1(i.bytesValue).isEqual(i1(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return ti(i.geoPointValue.latitude)===ti(s.geoPointValue.latitude)&&ti(i.geoPointValue.longitude)===ti(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ti(i.integerValue)===ti(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ti(i.doubleValue),a=ti(s.doubleValue);return o===a?n_(o)===n_(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return d2(n.arrayValue.values||[],e.arrayValue.values||[],ou);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(_L(o)!==_L(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ou(o[l],a[l])))return!1;return!0}(n,e);default:return $t()}}function h5(n,e){return(n.values||[]).find(t=>ou(t,e))!==void 0}function h2(n,e){if(n===e)return 0;const t=s1(n),r=s1(e);if(t!==r)return Pn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pn(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ti(s.integerValue||s.doubleValue),l=ti(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return EL(n.timestampValue,e.timestampValue);case 4:return EL(u5(n),u5(e));case 5:return Pn(n.stringValue,e.stringValue);case 6:return function(s,o){const a=i1(s),l=i1(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Pn(a[c],l[c]);if(u!==0)return u}return Pn(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Pn(ti(s.latitude),ti(o.latitude));return a!==0?a:Pn(ti(s.longitude),ti(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return SL(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const h=s.fields||{},p=o.fields||{},f=(a=h.value)===null||a===void 0?void 0:a.arrayValue,b=(l=p.value)===null||l===void 0?void 0:l.arrayValue,w=Pn(((c=f==null?void 0:f.values)===null||c===void 0?void 0:c.length)||0,((u=b==null?void 0:b.values)===null||u===void 0?void 0:u.length)||0);return w!==0?w:SL(f,b)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Nx.mapValue&&o===Nx.mapValue)return 0;if(s===Nx.mapValue)return 1;if(o===Nx.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const p=Pn(l[h],u[h]);if(p!==0)return p;const f=h2(a[l[h]],c[u[h]]);if(f!==0)return f}return Pn(l.length,u.length)}(n.mapValue,e.mapValue);default:throw $t()}}function EL(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Pn(n,e);const t=Of(n),r=Of(e),i=Pn(t.seconds,r.seconds);return i!==0?i:Pn(t.nanos,r.nanos)}function SL(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=h2(t[i],r[i]);if(s)return s}return Pn(t.length,r.length)}function f2(n){return tC(n)}function tC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Of(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return i1(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=tC(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${tC(t.fields[o])}`;return i+"}"}(n.mapValue):$t()}function CL(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function nC(n){return!!n&&"integerValue"in n}function wk(n){return!!n&&"arrayValue"in n}function TL(n){return!!n&&"nullValue"in n}function NL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function w4(n){return!!n&&"mapValue"in n}function vfe(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function vy(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return S1(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vy(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vy(n.arrayValue.values[t]);return e}return Object.assign({},n)}function yfe(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.value=e}static empty(){return new To({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!w4(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vy(t)}setAll(e){let t=os.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=vy(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());w4(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ou(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];w4(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){S1(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new To(vy(this.value))}}function F$(n){const e=[];return S1(n.fields,(t,r)=>{const i=new os([t]);if(w4(r)){const s=F$(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ma(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ls(e,0,Gt.min(),Gt.min(),Gt.min(),To.empty(),0)}static newFoundDocument(e,t,r,i){return new Ls(e,1,t,Gt.min(),r,i,0)}static newNoDocument(e,t){return new Ls(e,2,t,Gt.min(),Gt.min(),To.empty(),0)}static newUnknownDocument(e,t){return new Ls(e,3,t,Gt.min(),Gt.min(),To.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=To.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=To.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ls&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ls(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,t){this.position=e,this.inclusive=t}}function kL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Pt.comparator(Pt.fromName(o.referenceValue),t.key):r=h2(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function IL(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ou(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,t="asc"){this.field=e,this.dir=t}}function wfe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${}class gi extends B${constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new xfe(e,t,r):t==="array-contains"?new Efe(e,r):t==="in"?new Sfe(e,r):t==="not-in"?new Cfe(e,r):t==="array-contains-any"?new Tfe(e,r):new gi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new _fe(e,r):new Afe(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(h2(t,this.value)):t!==null&&s1(this.value)===s1(t)&&this.matchesComparison(h2(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jl extends B${constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Jl(e,t)}matches(e){return U$(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function U$(n){return n.op==="and"}function V$(n){return bfe(n)&&U$(n)}function bfe(n){for(const e of n.filters)if(e instanceof Jl)return!1;return!0}function rC(n){if(n instanceof gi)return n.field.canonicalString()+n.op.toString()+f2(n.value);if(V$(n))return n.filters.map(e=>rC(e)).join(",");{const e=n.filters.map(t=>rC(t)).join(",");return`${n.op}(${e})`}}function z$(n,e){return n instanceof gi?function(r,i){return i instanceof gi&&r.op===i.op&&r.field.isEqual(i.field)&&ou(r.value,i.value)}(n,e):n instanceof Jl?function(r,i){return i instanceof Jl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&z$(o,i.filters[a]),!0):!1}(n,e):void $t()}function $$(n){return n instanceof gi?function(t){return`${t.field.canonicalString()} ${t.op} ${f2(t.value)}`}(n):n instanceof Jl?function(t){return t.op.toString()+" {"+t.getFilters().map($$).join(" ,")+"}"}(n):"Filter"}class xfe extends gi{constructor(e,t,r){super(e,t,r),this.key=Pt.fromName(r.referenceValue)}matches(e){const t=Pt.comparator(e.key,this.key);return this.matchesComparison(t)}}class _fe extends gi{constructor(e,t){super(e,"in",t),this.keys=q$("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Afe extends gi{constructor(e,t){super(e,"not-in",t),this.keys=q$("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function q$(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Pt.fromName(r.referenceValue))}class Efe extends gi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wk(t)&&h5(t.arrayValue,this.value)}}class Sfe extends gi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&h5(this.value.arrayValue,t)}}class Cfe extends gi{constructor(e,t){super(e,"not-in",t)}matches(e){if(h5(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!h5(this.value.arrayValue,t)}}class Tfe extends gi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wk(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>h5(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nfe{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function PL(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Nfe(n,e,t,r,i,s,o)}function bk(n){const e=Kt(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>rC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),I6(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>f2(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>f2(r)).join(",")),e.ue=t}return e.ue}function xk(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!wfe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!z$(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!IL(n.startAt,e.startAt)&&IL(n.endAt,e.endAt)}function iC(n){return Pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kfe(n,e,t,r,i,s,o,a){return new B2(n,e,t,r,i,s,o,a)}function P6(n){return new B2(n)}function RL(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function H$(n){return n.collectionGroup!==null}function yy(n){const e=Kt(n);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ls(os.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new f5(s,r))}),t.has(os.keyField().canonicalString())||e.ce.push(new f5(os.keyField(),r))}return e.ce}function tu(n){const e=Kt(n);return e.le||(e.le=Ife(e,yy(n))),e.le}function Ife(n,e){if(n.limitType==="F")return PL(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new f5(i.field,s)});const t=n.endAt?new r_(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new r_(n.startAt.position,n.startAt.inclusive):null;return PL(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function sC(n,e){const t=n.filters.concat([e]);return new B2(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function i_(n,e,t){return new B2(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function R6(n,e){return xk(tu(n),tu(e))&&n.limitType===e.limitType}function W$(n){return`${bk(tu(n))}|lt:${n.limitType}`}function Q1(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>$$(i)).join(", ")}]`),I6(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>f2(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>f2(i)).join(",")),`Target(${r})`}(tu(n))}; limitType=${n.limitType})`}function L6(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Pt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of yy(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=kL(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,yy(r),i)||r.endAt&&!function(o,a,l){const c=kL(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,yy(r),i))}(n,e)}function Pfe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function G$(n){return(e,t)=>{let r=!1;for(const i of yy(n)){const s=Rfe(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Rfe(n,e,t){const r=n.field.isKeyField()?Pt.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?h2(l,c):$t()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){S1(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return j$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lfe=new Fr(Pt.comparator);function jd(){return Lfe}const K$=new Fr(Pt.comparator);function Fv(...n){let e=K$;for(const t of n)e=e.insert(t.key,t);return e}function Y$(n){let e=K$;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Mp(){return wy()}function X$(){return wy()}function wy(){return new U2(n=>n.toString(),(n,e)=>n.isEqual(e))}const Mfe=new Fr(Pt.comparator),Dfe=new ls(Pt.comparator);function mn(...n){let e=Dfe;for(const t of n)e=e.add(t);return e}const jfe=new ls(Pn);function Ofe(){return jfe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:n_(e)?"-0":e}}function Q$(n){return{integerValue:""+n}}function J$(n,e){return pfe(e)?Q$(e):_k(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this._=void 0}}function Ffe(n,e,t){return n instanceof p5?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&vk(s)&&(s=yk(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof m5?eq(n,e):n instanceof g5?tq(n,e):function(i,s){const o=Z$(i,s),a=LL(o)+LL(i.Pe);return nC(o)&&nC(i.Pe)?Q$(a):_k(i.serializer,a)}(n,e)}function Bfe(n,e,t){return n instanceof m5?eq(n,e):n instanceof g5?tq(n,e):t}function Z$(n,e){return n instanceof v5?function(r){return nC(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class p5 extends M6{}class m5 extends M6{constructor(e){super(),this.elements=e}}function eq(n,e){const t=nq(e);for(const r of n.elements)t.some(i=>ou(i,r))||t.push(r);return{arrayValue:{values:t}}}class g5 extends M6{constructor(e){super(),this.elements=e}}function tq(n,e){let t=nq(e);for(const r of n.elements)t=t.filter(i=>!ou(i,r));return{arrayValue:{values:t}}}class v5 extends M6{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function LL(n){return ti(n.integerValue||n.doubleValue)}function nq(n){return wk(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,t){this.field=e,this.transform=t}}function Ufe(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof m5&&i instanceof m5||r instanceof g5&&i instanceof g5?d2(r.elements,i.elements,ou):r instanceof v5&&i instanceof v5?ou(r.Pe,i.Pe):r instanceof p5&&i instanceof p5}(n.transform,e.transform)}class Vfe{constructor(e,t){this.version=e,this.transformResults=t}}class eo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new eo}static exists(e){return new eo(void 0,e)}static updateTime(e){return new eo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function b4(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class D6{}function iq(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new j6(n.key,eo.none()):new hb(n.key,n.data,eo.none());{const t=n.data,r=To.empty();let i=new ls(os.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Yf(n.key,r,new ma(i.toArray()),eo.none())}}function zfe(n,e,t){n instanceof hb?function(i,s,o){const a=i.value.clone(),l=DL(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Yf?function(i,s,o){if(!b4(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=DL(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(sq(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function by(n,e,t,r){return n instanceof hb?function(s,o,a,l){if(!b4(s.precondition,o))return a;const c=s.value.clone(),u=jL(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Yf?function(s,o,a,l){if(!b4(s.precondition,o))return a;const c=jL(s.fieldTransforms,l,o),u=o.data;return u.setAll(sq(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(s,o,a){return b4(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function $fe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Z$(r.transform,i||null);s!=null&&(t===null&&(t=To.empty()),t.set(r.field,s))}return t||null}function ML(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&d2(r,i,(s,o)=>Ufe(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hb extends D6{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yf extends D6{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function sq(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function DL(n,e,t){const r=new Map;Gn(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Bfe(o,a,t[i]))}return r}function jL(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Ffe(s,o,e))}return r}class j6 extends D6{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qfe extends D6{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hfe{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zfe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=by(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=by(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=X$();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=iq(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Gt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mn())}isEqual(e){return this.batchId===e.batchId&&d2(this.mutations,e.mutations,(t,r)=>ML(t,r))&&d2(this.baseMutations,e.baseMutations,(t,r)=>ML(t,r))}}class Ak{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Gn(e.mutations.length===r.length);let i=function(){return Mfe}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ak(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wfe{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gfe{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hi,En;function Kfe(n){switch(n){default:return $t();case Be.CANCELLED:case Be.UNKNOWN:case Be.DEADLINE_EXCEEDED:case Be.RESOURCE_EXHAUSTED:case Be.INTERNAL:case Be.UNAVAILABLE:case Be.UNAUTHENTICATED:return!1;case Be.INVALID_ARGUMENT:case Be.NOT_FOUND:case Be.ALREADY_EXISTS:case Be.PERMISSION_DENIED:case Be.FAILED_PRECONDITION:case Be.ABORTED:case Be.OUT_OF_RANGE:case Be.UNIMPLEMENTED:case Be.DATA_LOSS:return!0}}function oq(n){if(n===void 0)return Dd("GRPC error has no .code"),Be.UNKNOWN;switch(n){case hi.OK:return Be.OK;case hi.CANCELLED:return Be.CANCELLED;case hi.UNKNOWN:return Be.UNKNOWN;case hi.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case hi.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case hi.INTERNAL:return Be.INTERNAL;case hi.UNAVAILABLE:return Be.UNAVAILABLE;case hi.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case hi.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case hi.NOT_FOUND:return Be.NOT_FOUND;case hi.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case hi.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case hi.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case hi.ABORTED:return Be.ABORTED;case hi.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case hi.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case hi.DATA_LOSS:return Be.DATA_LOSS;default:return $t()}}(En=hi||(hi={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yfe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xfe=new $m([4294967295,4294967295],0);function OL(n){const e=Yfe().encode(n),t=new N$;return t.update(e),new Uint8Array(t.digest())}function FL(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $m([t,r],0),new $m([i,s],0)]}class Ek{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bv(`Invalid padding: ${t}`);if(r<0)throw new Bv(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bv(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Bv(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=$m.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply($m.fromNumber(r)));return i.compare(Xfe)===1&&(i=new $m([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=OL(e),[r,i]=FL(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ek(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const t=OL(e),[r,i]=FL(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Bv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,fb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new O6(Gt.min(),i,new Fr(Pn),jd(),mn())}}class fb{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new fb(r,t,mn(),mn(),mn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class aq{constructor(e,t){this.targetId=e,this.me=t}}class lq{constructor(e,t,r=ds.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class BL{constructor(){this.fe=0,this.ge=VL(),this.pe=ds.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=mn(),t=mn(),r=mn();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$t()}}),new fb(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=VL()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Gn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Qfe{constructor(e){this.Le=e,this.Be=new Map,this.ke=jd(),this.qe=UL(),this.Qe=new Fr(Pn)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:$t()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const s=i.target;if(iC(s))if(r===0){const o=new Pt(s.path);this.Ue(t,o,Ls.newNoDocument(o,Gt.min()))}else Gn(r===1);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=i1(r).toUint8Array()}catch(l){if(l instanceof O$)return u2("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ek(o,i,s)}catch(l){return u2(l instanceof Bv?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&iC(a.target)){const l=new Pt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ls.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=mn();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new O6(e,t,this.Qe,this.ke,r);return this.ke=jd(),this.qe=UL(),this.Qe=new Fr(Pn),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new BL,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ls(Pn),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||gt("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new BL),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function UL(){return new Fr(Pt.comparator)}function VL(){return new Fr(Pt.comparator)}const Jfe={asc:"ASCENDING",desc:"DESCENDING"},Zfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},epe={and:"AND",or:"OR"};class tpe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function oC(n,e){return n.useProto3Json||I6(e)?e:{value:e}}function s_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cq(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function npe(n,e){return s_(n,e.toTimestamp())}function nu(n){return Gn(!!n),Gt.fromTimestamp(function(t){const r=Of(t);return new Ri(r.seconds,r.nanos)}(n))}function Sk(n,e){return aC(n,e).canonicalString()}function aC(n,e){const t=function(i){return new pr(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function uq(n){const e=pr.fromString(n);return Gn(mq(e)),e}function lC(n,e){return Sk(n.databaseId,e.path)}function NE(n,e){const t=uq(e);if(t.get(1)!==n.databaseId.projectId)throw new it(Be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new it(Be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pt(hq(t))}function dq(n,e){return Sk(n.databaseId,e)}function rpe(n){const e=uq(n);return e.length===4?pr.emptyPath():hq(e)}function cC(n){return new pr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hq(n){return Gn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function zL(n,e,t){return{name:lC(n,e),fields:t.value.mapValue.fields}}function ipe(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:$t()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Gn(u===void 0||typeof u=="string"),ds.fromBase64String(u||"")):(Gn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),ds.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Be.UNKNOWN:oq(c.code);return new it(u,c.message||"")}(o);t=new lq(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=NE(n,r.document.name),s=nu(r.document.updateTime),o=r.document.createTime?nu(r.document.createTime):Gt.min(),a=new To({mapValue:{fields:r.document.fields}}),l=Ls.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new x4(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=NE(n,r.document),s=r.readTime?nu(r.readTime):Gt.min(),o=Ls.newNoDocument(i,s),a=r.removedTargetIds||[];t=new x4([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=NE(n,r.document),s=r.removedTargetIds||[];t=new x4([],s,i,null)}else{if(!("filter"in e))return $t();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Gfe(i,s),a=r.targetId;t=new aq(a,o)}}return t}function spe(n,e){let t;if(e instanceof hb)t={update:zL(n,e.key,e.value)};else if(e instanceof j6)t={delete:lC(n,e.key)};else if(e instanceof Yf)t={update:zL(n,e.key,e.data),updateMask:ppe(e.fieldMask)};else{if(!(e instanceof qfe))return $t();t={verify:lC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof p5)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof m5)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof g5)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof v5)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw $t()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:npe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:$t()}(n,e.precondition)),t}function ope(n,e){return n&&n.length>0?(Gn(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?nu(i.updateTime):nu(s);return o.isEqual(Gt.min())&&(o=nu(s)),new Vfe(o,i.transformResults||[])}(t,e))):[]}function ape(n,e){return{documents:[dq(n,e.path)]}}function lpe(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=dq(n,i);const s=function(c){if(c.length!==0)return pq(Jl.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:J1(p.field),direction:dpe(p.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=oC(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i}}function cpe(n){let e=rpe(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Gn(r===1);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){const p=fq(h);return p instanceof Jl&&V$(p)?p.getFilters():[p]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(p=>function(b){return new f5(Z1(b.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(t.orderBy));let a=null;t.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,I6(p)?null:p}(t.limit));let l=null;t.startAt&&(l=function(h){const p=!!h.before,f=h.values||[];return new r_(f,p)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const p=!h.before,f=h.values||[];return new r_(f,p)}(t.endAt)),kfe(e,i,o,s,a,"F",l,c)}function upe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $t()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fq(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Z1(t.unaryFilter.field);return gi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Z1(t.unaryFilter.field);return gi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Z1(t.unaryFilter.field);return gi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Z1(t.unaryFilter.field);return gi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $t()}}(n):n.fieldFilter!==void 0?function(t){return gi.create(Z1(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $t()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Jl.create(t.compositeFilter.filters.map(r=>fq(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $t()}}(t.compositeFilter.op))}(n):$t()}function dpe(n){return Jfe[n]}function hpe(n){return Zfe[n]}function fpe(n){return epe[n]}function J1(n){return{fieldPath:n.canonicalString()}}function Z1(n){return os.fromServerFormat(n.fieldPath)}function pq(n){return n instanceof gi?function(t){if(t.op==="=="){if(NL(t.value))return{unaryFilter:{field:J1(t.field),op:"IS_NAN"}};if(TL(t.value))return{unaryFilter:{field:J1(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(NL(t.value))return{unaryFilter:{field:J1(t.field),op:"IS_NOT_NAN"}};if(TL(t.value))return{unaryFilter:{field:J1(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:J1(t.field),op:hpe(t.op),value:t.value}}}(n):n instanceof Jl?function(t){const r=t.getFilters().map(i=>pq(i));return r.length===1?r[0]:{compositeFilter:{op:fpe(t.op),filters:r}}}(n):$t()}function ppe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mq(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,r,i,s=Gt.min(),o=Gt.min(),a=ds.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new df(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new df(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new df(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new df(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mpe{constructor(e){this.ct=e}}function gpe(n){const e=cpe({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?i_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vpe{constructor(){this.un=new ype}addToCollectionParentIndex(e,t){return this.un.add(t),ze.resolve()}getCollectionParents(e,t){return ze.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ze.resolve()}deleteFieldIndex(e,t){return ze.resolve()}deleteAllFieldIndexes(e){return ze.resolve()}createTargetIndexes(e,t){return ze.resolve()}getDocumentsMatchingTarget(e,t){return ze.resolve(null)}getIndexType(e,t){return ze.resolve(0)}getFieldIndexes(e,t){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,t){return ze.resolve(jf.min())}getMinOffsetFromCollectionGroup(e,t){return ze.resolve(jf.min())}updateCollectionGroup(e,t,r){return ze.resolve()}updateIndexEntries(e,t){return ze.resolve()}}class ype{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ls(pr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ls(pr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new p2(0)}static kn(){return new p2(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wpe{constructor(){this.changes=new U2(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ls.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ze.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bpe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xpe{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&by(r.mutation,i,ma.empty(),Ri.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,mn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=mn()){const i=Mp();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Fv();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Mp();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,mn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=jd();const o=wy(),a=function(){return wy()}();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Yf)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),by(u.mutation,c,u.mutation.getFieldMask(),Ri.now())):o.set(c.key,ma.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new bpe(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=wy();let i=new Fr((o,a)=>o-a),s=mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||ma.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||mn()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=X$();u.forEach(p=>{if(!s.has(p)){const f=iq(t.get(p),r.get(p));f!==null&&h.set(p,f),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ze.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Pt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):H$(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ze.resolve(Mp());let a=-1,l=s;return o.next(c=>ze.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?ze.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,mn())).next(u=>({batchId:a,changes:Y$(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pt(t)).next(r=>{let i=Fv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Fv();return this.indexManager.getCollectionParents(e,s).next(a=>ze.forEach(a,l=>{const c=function(h,p){return new B2(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ls.newInvalidDocument(u)))});let a=Fv();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&by(u.mutation,c,ma.empty(),Ri.now()),L6(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _pe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ze.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:nu(i.createTime)}}(t)),ze.resolve()}getNamedQuery(e,t){return ze.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:gpe(i.bundledQuery),readTime:nu(i.readTime)}}(t)),ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ape{constructor(){this.overlays=new Fr(Pt.comparator),this.Ir=new Map}getOverlay(e,t){return ze.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Mp();return ze.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),ze.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ze.resolve()}getOverlaysForCollection(e,t,r){const i=Mp(),s=t.length+1,o=new Pt(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ze.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Fr((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Mp(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Mp(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return ze.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Wfe(t,r));let s=this.Ir.get(t);s===void 0&&(s=mn(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Epe{constructor(){this.sessionToken=ds.EMPTY_BYTE_STRING}getSessionToken(e){return ze.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.Tr=new ls($i.Er),this.dr=new ls($i.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new $i(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new $i(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new Pt(new pr([])),r=new $i(t,e),i=new $i(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Pt(new pr([])),r=new $i(t,e),i=new $i(t,e+1);let s=mn();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new $i(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class $i{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Pt.comparator(e.key,t.key)||Pn(e.wr,t.wr)}static Ar(e,t){return Pn(e.wr,t.wr)||Pt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Spe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ls($i.Er)}checkEmpty(e){return ze.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Hfe(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new $i(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ze.resolve(o)}lookupMutationBatch(e,t){return ze.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.vr(r),s=i<0?0:i;return ze.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $i(t,0),i=new $i(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ze.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ls(Pn);return t.forEach(i=>{const s=new $i(i,0),o=new $i(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ze.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Pt.isDocumentKey(s)||(s=s.child(""));const o=new $i(new Pt(s),0);let a=new ls(Pn);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),ze.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Gn(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ze.forEach(t.mutations,i=>{const s=new $i(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new $i(t,0),i=this.br.firstAfterOrEqual(r);return ze.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ze.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cpe{constructor(e){this.Mr=e,this.docs=function(){return new Fr(Pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ze.resolve(r?r.document.mutableCopy():Ls.newInvalidDocument(t))}getEntries(e,t){let r=jd();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ls.newInvalidDocument(i))}),ze.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=jd();const o=t.path,a=new Pt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||ufe(cfe(u),r)<=0||(i.has(u.key)||L6(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ze.resolve(s)}getAllFromCollectionGroup(e,t,r,i){$t()}Or(e,t){return ze.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Tpe(this)}getSize(e){return ze.resolve(this.size)}}class Tpe extends wpe{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ze.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Npe{constructor(e){this.persistence=e,this.Nr=new U2(t=>bk(t),xk),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ck,this.targetCount=0,this.kr=p2.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),ze.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new p2(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ze.resolve()}updateTargetData(e,t){return this.Kn(t),ze.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ze.waitFor(s).next(()=>i)}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return ze.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),ze.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ze.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ze.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return ze.resolve(r)}containsKey(e,t){return ze.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kpe{constructor(e,t){this.qr={},this.overlays={},this.Qr=new gk(0),this.Kr=!1,this.Kr=!0,this.$r=new Epe,this.referenceDelegate=e(this),this.Ur=new Npe(this),this.indexManager=new vpe,this.remoteDocumentCache=function(i){return new Cpe(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new mpe(t),this.Gr=new _pe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ape,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Spe(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){gt("MemoryPersistence","Starting transaction:",e);const i=new Ipe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return ze.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class Ipe extends hfe{constructor(e){super(),this.currentSequenceNumber=e}}class Tk{constructor(e){this.persistence=e,this.Jr=new Ck,this.Yr=null}static Zr(e){return new Tk(e)}get Xr(){if(this.Yr)return this.Yr;throw $t()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),ze.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),ze.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ze.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.Xr,r=>{const i=Pt.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,Gt.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return ze.or([()=>ze.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=mn(),i=mn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Nk(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ppe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rpe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Rae()?8:ffe(Fs())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Ppe;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(_v()<=bn.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",Q1(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ze.resolve()):(_v()<=bn.DEBUG&&gt("QueryEngine","Query:",Q1(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(_v()<=bn.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",Q1(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tu(t))):ze.resolve())}Yi(e,t){if(RL(t))return ze.resolve(null);let r=tu(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=i_(t,null,"F"),r=tu(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=mn(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(t,a);return this.ns(t,c,o,l.readTime)?this.Yi(e,i_(t,null,"F")):this.rs(e,c,t,l)}))})))}Zi(e,t,r,i){return RL(t)||i.isEqual(Gt.min())?ze.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(t,s);return this.ns(t,o,r,i)?ze.resolve(null):(_v()<=bn.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Q1(t)),this.rs(e,o,t,lfe(i,-1)).next(a=>a))})}ts(e,t){let r=new ls(G$(e));return t.forEach((i,s)=>{L6(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return _v()<=bn.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Q1(t)),this.Ji.getDocumentsMatchingQuery(e,t,jf.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lpe{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Fr(Pn),this._s=new U2(s=>bk(s),xk),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xpe(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Mpe(n,e,t,r){return new Lpe(n,e,t,r)}async function gq(n,e){const t=Kt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=mn();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Dpe(n,e){const t=Kt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,p=h.keys();let f=ze.resolve();return p.forEach(b=>{f=f.next(()=>u.getEntry(l,b)).next(w=>{const A=c.docVersions.get(b);Gn(A!==null),w.version.compareTo(A)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),u.addEntry(w)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=mn();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function vq(n){const e=Kt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function jpe(n,e){const t=Kt(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((u,h)=>{const p=i.get(h);if(!p)return;a.push(t.Ur.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.Ur.addMatchingKeys(s,u.addedDocuments,h)));let f=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(ds.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(h,f),function(w,A,x){return w.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,f,u)&&a.push(t.Ur.updateTargetData(s,f))});let l=jd(),c=mn();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Ope(s,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Gt.min())){const u=t.Ur.getLastRemoteSnapshotVersion(s).next(h=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return ze.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.os=i,s))}function Ope(n,e,t){let r=mn(),i=mn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=jd();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Gt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):gt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Fpe(n,e){const t=Kt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Bpe(n,e){const t=Kt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,ze.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new df(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}async function uC(n,e,t){const r=Kt(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!db(o))throw o;gt("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function $L(n,e,t){const r=Kt(n);let i=Gt.min(),s=mn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Kt(l),p=h._s.get(u);return p!==void 0?ze.resolve(h.os.get(p)):h.Ur.getTargetData(c,u)}(r,o,tu(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:Gt.min(),t?s:mn())).next(a=>(Upe(r,Pfe(e),a),{documents:a,Ts:s})))}function Upe(n,e,t){let r=n.us.get(e)||Gt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}class qL{constructor(){this.activeTargetIds=Ofe()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vpe{constructor(){this.so=new qL,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new qL,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zpe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kx=null;function kE(){return kx===null?kx=function(){return 268435456+Math.round(2147483648*Math.random())}():kx++,"0x"+kx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $pe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qpe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="WebChannelConnection";class Hpe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){const a=kE(),l=this.xo(t,r.toUriEncodedString());gt("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(t,l,c,i).then(u=>(gt("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw u2("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+F2}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){const i=$pe[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const s=kE();return new Promise((o,a)=>{const l=new k$;l.setWithCredentials(!0),l.listenOnce(I$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case y4.NO_ERROR:const u=l.getResponseJson();gt(ys,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case y4.TIMEOUT:gt(ys,`RPC '${e}' ${s} timed out`),a(new it(Be.DEADLINE_EXCEEDED,"Request time out"));break;case y4.HTTP_ERROR:const h=l.getStatus();if(gt(ys,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const f=p==null?void 0:p.error;if(f&&f.status&&f.message){const b=function(A){const x=A.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(x)>=0?x:Be.UNKNOWN}(f.status);a(new it(b,f.message))}else a(new it(Be.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new it(Be.UNAVAILABLE,"Connection failed."));break;default:$t()}}finally{gt(ys,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);gt(ys,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Bo(e,t,r){const i=kE(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=L$(),a=R$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");gt(ys,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let p=!1,f=!1;const b=new qpe({Io:A=>{f?gt(ys,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(p||(gt(ys,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),gt(ys,`RPC '${e}' stream ${i} sending:`,A),h.send(A))},To:()=>h.close()}),w=(A,x,E)=>{A.listen(x,S=>{try{E(S)}catch(T){setTimeout(()=>{throw T},0)}})};return w(h,Ov.EventType.OPEN,()=>{f||(gt(ys,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),w(h,Ov.EventType.CLOSE,()=>{f||(f=!0,gt(ys,`RPC '${e}' stream ${i} transport closed`),b.So())}),w(h,Ov.EventType.ERROR,A=>{f||(f=!0,u2(ys,`RPC '${e}' stream ${i} transport errored:`,A),b.So(new it(Be.UNAVAILABLE,"The operation could not be completed")))}),w(h,Ov.EventType.MESSAGE,A=>{var x;if(!f){const E=A.data[0];Gn(!!E);const S=E,T=S.error||((x=S[0])===null||x===void 0?void 0:x.error);if(T){gt(ys,`RPC '${e}' stream ${i} received error:`,T);const B=T.status;let V=function(P){const O=hi[P];if(O!==void 0)return oq(O)}(B),M=T.message;V===void 0&&(V=Be.INTERNAL,M="Unknown error status: "+B+" with message "+T.message),f=!0,b.So(new it(V,M)),h.close()}else gt(ys,`RPC '${e}' stream ${i} received:`,E),b.bo(E)}}),w(a,P$.STAT_EVENT,A=>{A.stat===eC.PROXY?gt(ys,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===eC.NOPROXY&&gt(ys,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function IE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(n){return new tpe(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&gt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,t,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yq(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Be.RESOURCE_EXHAUSTED?(Dd(t.toString()),Dd("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{const i=new it(Be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return gt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wpe extends wq{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=ipe(this.serializer,e),r=function(s){if(!("targetChange"in s))return Gt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Gt.min():o.readTime?nu(o.readTime):Gt.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=cC(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=iC(l)?{documents:ape(s,l)}:{query:lpe(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=cq(s,o.resumeToken);const c=oC(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Gt.min())>0){a.readTime=s_(s,o.snapshotVersion.toTimestamp());const c=oC(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=upe(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=cC(this.serializer),t.removeTarget=e,this.a_(t)}}class Gpe extends wq{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Gn(!!e.streamToken),this.lastStreamToken=e.streamToken,Gn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Gn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=ope(e.writeResults,e.commitTime),r=nu(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=cC(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>spe(this.serializer,r))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kpe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new it(Be.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,aC(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new it(Be.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,aC(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new it(Be.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Ype{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dd(t),this.D_=!1):gt("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xpe{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{C1(this)&&(gt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Kt(l);c.L_.add(4),await pb(c),c.q_.set("Unknown"),c.L_.delete(4),await B6(c)}(this))})}),this.q_=new Ype(r,i)}}async function B6(n){if(C1(n))for(const e of n.B_)await e(!0)}async function pb(n){for(const e of n.B_)await e(!1)}function bq(n,e){const t=Kt(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Rk(t)?Pk(t):V2(t).r_()&&Ik(t,e))}function kk(n,e){const t=Kt(n),r=V2(t);t.N_.delete(e),r.r_()&&xq(t,e),t.N_.size===0&&(r.r_()?r.o_():C1(t)&&t.q_.set("Unknown"))}function Ik(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}V2(n).A_(e)}function xq(n,e){n.Q_.xe(e),V2(n).R_(e)}function Pk(n){n.Q_=new Qfe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),V2(n).start(),n.q_.v_()}function Rk(n){return C1(n)&&!V2(n).n_()&&n.N_.size>0}function C1(n){return Kt(n).L_.size===0}function _q(n){n.Q_=void 0}async function Qpe(n){n.q_.set("Online")}async function Jpe(n){n.N_.forEach((e,t)=>{Ik(n,e)})}async function Zpe(n,e){_q(n),Rk(n)?(n.q_.M_(e),Pk(n)):n.q_.set("Unknown")}async function eme(n,e,t){if(n.q_.set("Online"),e instanceof lq&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(n,e)}catch(r){gt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await o_(n,r)}else if(e instanceof x4?n.Q_.Ke(e):e instanceof aq?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Gt.min()))try{const r=await vq(n.localStore);t.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(ds.EMPTY_BYTE_STRING,u.snapshotVersion)),xq(s,l);const h=new df(u.target,l,c,u.sequenceNumber);Ik(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){gt("RemoteStore","Failed to raise snapshot:",r),await o_(n,r)}}async function o_(n,e,t){if(!db(e))throw e;n.L_.add(1),await pb(n),n.q_.set("Offline"),t||(t=()=>vq(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{gt("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await B6(n)})}function Aq(n,e){return e().catch(t=>o_(n,t,e))}async function U6(n){const e=Kt(n),t=Ff(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;tme(e);)try{const i=await Fpe(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,nme(e,i)}catch(i){await o_(e,i)}Eq(e)&&Sq(e)}function tme(n){return C1(n)&&n.O_.length<10}function nme(n,e){n.O_.push(e);const t=Ff(n);t.r_()&&t.V_&&t.m_(e.mutations)}function Eq(n){return C1(n)&&!Ff(n).n_()&&n.O_.length>0}function Sq(n){Ff(n).start()}async function rme(n){Ff(n).p_()}async function ime(n){const e=Ff(n);for(const t of n.O_)e.m_(t.mutations)}async function sme(n,e,t){const r=n.O_.shift(),i=Ak.from(r,e,t);await Aq(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await U6(n)}async function ome(n,e){e&&Ff(n).V_&&await async function(r,i){if(function(o){return Kfe(o)&&o!==Be.ABORTED}(i.code)){const s=r.O_.shift();Ff(r).s_(),await Aq(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await U6(r)}}(n,e),Eq(n)&&Sq(n)}async function WL(n,e){const t=Kt(n);t.asyncQueue.verifyOperationInProgress(),gt("RemoteStore","RemoteStore received new credentials");const r=C1(t);t.L_.add(3),await pb(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await B6(t)}async function ame(n,e){const t=Kt(n);e?(t.L_.delete(2),await B6(t)):e||(t.L_.add(2),await pb(t),t.q_.set("Unknown"))}function V2(n){return n.K_||(n.K_=function(t,r,i){const s=Kt(t);return s.w_(),new Wpe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Qpe.bind(null,n),Ro:Jpe.bind(null,n),mo:Zpe.bind(null,n),d_:eme.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),Rk(n)?Pk(n):n.q_.set("Unknown")):(await n.K_.stop(),_q(n))})),n.K_}function Ff(n){return n.U_||(n.U_=function(t,r,i){const s=Kt(t);return s.w_(),new Gpe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:rme.bind(null,n),mo:ome.bind(null,n),f_:ime.bind(null,n),g_:sme.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await U6(n)):(await n.U_.stop(),n.O_.length>0&&(gt("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new Lk(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mk(n,e){if(Dd("AsyncQueue",`${e}: ${n}`),db(n))return new it(Be.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Pt.comparator(t.key,r.key):(t,r)=>Pt.comparator(t.key,r.key),this.keyedMap=Fv(),this.sortedSet=new Fr(this.comparator)}static emptySet(e){return new Bg(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Bg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.W_=new Fr(Pt.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):$t():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class m2{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new m2(e,t,Bg.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&R6(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lme{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class cme{constructor(){this.queries=KL(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const i=Kt(t),s=i.queries;i.queries=KL(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new it(Be.ABORTED,"Firestore shutting down"))}}function KL(){return new U2(n=>W$(n),R6)}async function Dk(n,e){const t=Kt(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new lme,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await t.onListen(i,!0);break;case 1:s.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=Mk(o,`Initialization of query '${Q1(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Ok(t)}async function jk(n,e){const t=Kt(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function ume(n,e){const t=Kt(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Ok(t)}function dme(n,e,t){const r=Kt(n),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(t);r.queries.delete(e)}function Ok(n){n.Y_.forEach(e=>{e.next()})}var dC,YL;(YL=dC||(dC={})).ea="default",YL.Cache="cache";class Fk{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new m2(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=m2.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==dC.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e){this.key=e}}class Tq{constructor(e){this.key=e}}class hme{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=mn(),this.mutatedKeys=mn(),this.Aa=G$(e),this.Ra=new Bg(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new GL,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const p=i.get(u),f=L6(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),w=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let A=!1;p&&f?p.data.isEqual(f.data)?b!==w&&(r.track({type:3,doc:f}),A=!0):this.ga(p,f)||(r.track({type:2,doc:f}),A=!0,(l&&this.Aa(f,l)>0||c&&this.Aa(f,c)<0)&&(a=!0)):!p&&f?(r.track({type:0,doc:f}),A=!0):p&&!f&&(r.track({type:1,doc:p}),A=!0,(l||c)&&(a=!0)),A&&(f?(o=o.add(f),s=w?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,h)=>function(f,b){const w=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t()}};return w(f)-w(b)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new m2(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new GL,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=mn(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Tq(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Cq(r))}),t}ba(e){this.Ta=e.Ts,this.da=mn();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return m2.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class fme{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pme{constructor(e){this.key=e,this.va=!1}}class mme{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new U2(a=>W$(a),R6),this.Ma=new Map,this.xa=new Set,this.Oa=new Fr(Pt.comparator),this.Na=new Map,this.La=new Ck,this.Ba={},this.ka=new Map,this.qa=p2.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function gme(n,e,t=!0){const r=Lq(n);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Nq(r,e,t,!0),i}async function vme(n,e){const t=Lq(n);await Nq(t,e,!0,!1)}async function Nq(n,e,t,r){const i=await Bpe(n.localStore,tu(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await yme(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&bq(n.remoteStore,i),a}async function yme(n,e,t,r,i){n.Ka=(h,p,f)=>async function(w,A,x,E){let S=A.view.ma(x);S.ns&&(S=await $L(w.localStore,A.query,!1).then(({documents:M})=>A.view.ma(M,S)));const T=E&&E.targetChanges.get(A.targetId),B=E&&E.targetMismatches.get(A.targetId)!=null,V=A.view.applyChanges(S,w.isPrimaryClient,T,B);return QL(w,A.targetId,V.wa),V.snapshot}(n,h,p,f);const s=await $L(n.localStore,e,!0),o=new hme(e,s.Ts),a=o.ma(s.documents),l=fb.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);QL(n,t,c.wa);const u=new fme(e,t,o);return n.Fa.set(e,u),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot}async function wme(n,e,t){const r=Kt(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!R6(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await uC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&kk(r.remoteStore,i.targetId),hC(r,i.targetId)}).catch(ub)):(hC(r,i.targetId),await uC(r.localStore,i.targetId,!0))}async function bme(n,e){const t=Kt(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),kk(t.remoteStore,r.targetId))}async function xme(n,e,t){const r=Nme(n);try{const i=await function(o,a){const l=Kt(o),c=Ri.now(),u=a.reduce((f,b)=>f.add(b.key),mn());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let b=jd(),w=mn();return l.cs.getEntries(f,u).next(A=>{b=A,b.forEach((x,E)=>{E.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,b)).next(A=>{h=A;const x=[];for(const E of a){const S=$fe(E,h.get(E.key).overlayedDocument);S!=null&&x.push(new Yf(E.key,S,F$(S.value.mapValue),eo.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,x,a)}).next(A=>{p=A;const x=A.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(f,A.batchId,x)})}).then(()=>({batchId:p.batchId,changes:Y$(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Fr(Pn)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,t),await mb(r,i.changes),await U6(r.remoteStore)}catch(i){const s=Mk(i,"Failed to persist write");t.reject(s)}}async function kq(n,e){const t=Kt(n);try{const r=await jpe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Na.get(s);o&&(Gn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Gn(o.va):i.removedDocuments.size>0&&(Gn(o.va),o.va=!1))}),await mb(t,r,e)}catch(r){await ub(r)}}function XL(n,e,t){const r=Kt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Kt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&Ok(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _me(n,e,t){const r=Kt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Fr(Pt.comparator);o=o.insert(s,Ls.newNoDocument(s,Gt.min()));const a=mn().add(s),l=new O6(Gt.min(),new Map,new Fr(Pn),o,a);await kq(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Bk(r)}else await uC(r.localStore,e,!1).then(()=>hC(r,e,t)).catch(ub)}async function Ame(n,e){const t=Kt(n),r=e.batch.batchId;try{const i=await Dpe(t.localStore,e);Pq(t,r,null),Iq(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await mb(t,i)}catch(i){await ub(i)}}async function Eme(n,e,t){const r=Kt(n);try{const i=await function(o,a){const l=Kt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Gn(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);Pq(r,e,t),Iq(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await mb(r,i)}catch(i){await ub(i)}}function Iq(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function Pq(n,e,t){const r=Kt(n);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function hC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||Rq(n,r)})}function Rq(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(kk(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Bk(n))}function QL(n,e,t){for(const r of t)r instanceof Cq?(n.La.addReference(r.key,e),Sme(n,r)):r instanceof Tq?(gt("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||Rq(n,r.key)):$t()}function Sme(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(gt("SyncEngine","New document in limbo: "+t),n.xa.add(r),Bk(n))}function Bk(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Pt(pr.fromString(e)),r=n.qa.next();n.Na.set(r,new pme(t)),n.Oa=n.Oa.insert(t,r),bq(n.remoteStore,new df(tu(P6(t.path)),r,"TargetPurposeLimboResolution",gk.oe))}}async function mb(n,e,t){const r=Kt(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Nk.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const u=Kt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ze.forEach(c,p=>ze.forEach(p.$i,f=>u.persistence.referenceDelegate.addReference(h,p.targetId,f)).next(()=>ze.forEach(p.Ui,f=>u.persistence.referenceDelegate.removeReference(h,p.targetId,f)))))}catch(h){if(!db(h))throw h;gt("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const f=u.os.get(p),b=f.snapshotVersion,w=f.withLastLimboFreeSnapshotVersion(b);u.os=u.os.insert(p,w)}}}(r.localStore,s))}async function Cme(n,e){const t=Kt(n);if(!t.currentUser.isEqual(e)){gt("SyncEngine","User change. New user:",e.toKey());const r=await gq(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new it(Be.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mb(t,r.hs)}}function Tme(n,e){const t=Kt(n),r=t.Na.get(e);if(r&&r.va)return mn().add(r.key);{let i=mn();const s=t.Ma.get(e);if(!s)return i;for(const o of s){const a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function Lq(n){const e=Kt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tme.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_me.bind(null,e),e.Ca.d_=ume.bind(null,e.eventManager),e.Ca.$a=dme.bind(null,e.eventManager),e}function Nme(n){const e=Kt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ame.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Eme.bind(null,e),e}class a_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=F6(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Mpe(this.persistence,new Rpe,e.initialUser,this.serializer)}Ga(e){return new kpe(Tk.Zr,this.serializer)}Wa(e){return new Vpe}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}a_.provider={build:()=>new a_};class fC{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XL(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cme.bind(null,this.syncEngine),await ame(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cme}()}createDatastore(e){const t=F6(e.databaseInfo.databaseId),r=function(s){return new Hpe(s)}(e.databaseInfo);return function(s,o,a,l){return new Kpe(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new Xpe(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>XL(this.syncEngine,t,0),function(){return HL.D()?new HL:new zpe}())}createSyncEngine(e,t){return function(i,s,o,a,l,c,u){const h=new mme(i,s,o,a,l,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Kt(i);gt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await pb(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}fC.provider={build:()=>new fC};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Dd("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kme{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Is.UNAUTHENTICATED,this.clientId=D$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{gt("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(gt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Mk(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function PE(n,e){n.asyncQueue.verifyOperationInProgress(),gt("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gq(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function JL(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Ime(n);gt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>WL(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>WL(e.remoteStore,i)),n._onlineComponents=e}async function Ime(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){gt("FirestoreClient","Using user provided OfflineComponentProvider");try{await PE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Be.FAILED_PRECONDITION||i.code===Be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;u2("Error using user provided cache. Falling back to memory cache: "+t),await PE(n,new a_)}}else gt("FirestoreClient","Using default OfflineComponentProvider"),await PE(n,new a_);return n._offlineComponents}async function Mq(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(gt("FirestoreClient","Using user provided OnlineComponentProvider"),await JL(n,n._uninitializedComponentsProvider._online)):(gt("FirestoreClient","Using default OnlineComponentProvider"),await JL(n,new fC))),n._onlineComponents}function Pme(n){return Mq(n).then(e=>e.syncEngine)}async function l_(n){const e=await Mq(n),t=e.eventManager;return t.onListen=gme.bind(null,e.syncEngine),t.onUnlisten=wme.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vme.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bme.bind(null,e.syncEngine),t}function Rme(n,e,t={}){const r=new xd;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Uk({next:p=>{u.Za(),o.enqueueAndForget(()=>jk(s,h));const f=p.docs.has(a);!f&&p.fromCache?c.reject(new it(Be.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&p.fromCache&&l&&l.source==="server"?c.reject(new it(Be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new Fk(P6(a.path),u,{includeMetadataChanges:!0,_a:!0});return Dk(s,h)}(await l_(n),n.asyncQueue,e,t,r)),r.promise}function Lme(n,e,t={}){const r=new xd;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Uk({next:p=>{u.Za(),o.enqueueAndForget(()=>jk(s,h)),p.fromCache&&l.source==="server"?c.reject(new it(Be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new Fk(a,u,{includeMetadataChanges:!0,_a:!0});return Dk(s,h)}(await l_(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dq(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(n,e,t){if(!t)throw new it(Be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Mme(n,e,t,r){if(e===!0&&r===!0)throw new it(Be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function eM(n){if(!Pt.isDocumentKey(n))throw new it(Be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tM(n){if(Pt.isDocumentKey(n))throw new it(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function V6(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$t()}function to(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new it(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=V6(n);throw new it(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new it(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new it(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mme("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dq((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class z6{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nM({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nM(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Zhe;switch(r.type){case"firstParty":return new rfe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=ZL.get(t);r&&(gt("ComponentProvider","Removing Datastore"),ZL.delete(t),r.terminate())}(this),Promise.resolve()}}function Dme(n,e,t,r={}){var i;const s=(n=to(n,z6))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&u2("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Is.MOCK_USER;else{a=Cae(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new it(Be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Is(c)}n._authCredentials=new efe(new M$(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zd(this.firestore,e,this._query)}}class js{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new js(this.firestore,e,this._key)}}class Tf extends zd{constructor(e,t,r){super(e,t,P6(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new js(this.firestore,null,new Pt(e))}withConverter(e){return new Tf(this.firestore,e,this._path)}}function RE(n,e,...t){if(n=ir(n),jq("collection","path",e),n instanceof z6){const r=pr.fromString(e,...t);return tM(r),new Tf(n,null,r)}{if(!(n instanceof js||n instanceof Tf))throw new it(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pr.fromString(e,...t));return tM(r),new Tf(n.firestore,null,r)}}function hf(n,e,...t){if(n=ir(n),arguments.length===1&&(e=D$.newId()),jq("doc","path",e),n instanceof z6){const r=pr.fromString(e,...t);return eM(r),new js(n,null,new Pt(r))}{if(!(n instanceof js||n instanceof Tf))throw new it(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pr.fromString(e,...t));return eM(r),new js(n.firestore,n instanceof Tf?n.converter:null,new Pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new yq(this,"async_queue_retry"),this.Vu=()=>{const r=IE();r&&gt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=IE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=IE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new xd;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!db(e))throw e;gt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Dd("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=Lk.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&$t()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function iM(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class au extends z6{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new rM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rM(e),this._firestoreClient=void 0,await e}}}function jme(n,e){const t=typeof n=="object"?n:E6(),r=typeof n=="string"?n:"(default)",i=Kf(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=fz("firestore");s&&Dme(i,...s)}return i}function gb(n){if(n._terminated)throw new it(Be.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Ome(n),n._firestoreClient}function Ome(n){var e,t,r;const i=n._freezeSettings(),s=function(a,l,c,u){return new gfe(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Dq(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new kme(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this._byteString=e}static fromBase64String(e){try{return new g2(ds.fromBase64String(e))}catch(t){throw new it(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new g2(ds.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new it(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new os(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new it(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new it(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pn(this._lat,e._lat)||Pn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fme=/^__.*__$/;class Bme{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Yf(e,this.data,this.fieldMask,t,this.fieldTransforms):new hb(e,this.data,t,this.fieldTransforms)}}class Oq{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Yf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fq(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t()}}class $k{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new $k(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return c_(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Fq(this.Cu)&&Fme.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ume{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||F6(e)}Qu(e,t,r,i=!1){return new $k({Cu:e,methodName:t,qu:r,path:os.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wb(n){const e=n._freezeSettings(),t=F6(n._databaseId);return new Ume(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qk(n,e,t,r,i,s={}){const o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);Gk("Data must be an object, but it was:",o,r);const a=Vq(r,o);let l,c;if(s.merge)l=new ma(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const p=pC(e,h,t);if(!o.contains(p))throw new it(Be.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);$q(u,p)||u.push(p)}l=new ma(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Bme(new To(a),l,c)}class $6 extends yb{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $6}}class Hk extends yb{_toFieldTransform(e){return new rq(e.path,new p5)}isEqual(e){return e instanceof Hk}}class Wk extends yb{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new v5(e.serializer,J$(e.serializer,this.$u));return new rq(e.path,t)}isEqual(e){return e instanceof Wk&&this.$u===e.$u}}function Bq(n,e,t,r){const i=n.Qu(1,e,t);Gk("Data must be an object, but it was:",i,r);const s=[],o=To.empty();S1(r,(l,c)=>{const u=Kk(e,l,t);c=ir(c);const h=i.Nu(u);if(c instanceof $6)s.push(u);else{const p=bb(c,h);p!=null&&(s.push(u),o.set(u,p))}});const a=new ma(s);return new Oq(o,a,i.fieldTransforms)}function Uq(n,e,t,r,i,s){const o=n.Qu(1,e,t),a=[pC(e,r,t)],l=[i];if(s.length%2!=0)throw new it(Be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(pC(e,s[p])),l.push(s[p+1]);const c=[],u=To.empty();for(let p=a.length-1;p>=0;--p)if(!$q(c,a[p])){const f=a[p];let b=l[p];b=ir(b);const w=o.Nu(f);if(b instanceof $6)c.push(f);else{const A=bb(b,w);A!=null&&(c.push(f),u.set(f,A))}}const h=new ma(c);return new Oq(u,h,o.fieldTransforms)}function Vme(n,e,t,r=!1){return bb(t,n.Qu(r?4:3,e))}function bb(n,e){if(zq(n=ir(n)))return Gk("Unsupported field value:",e,n),Vq(n,e);if(n instanceof yb)return function(r,i){if(!Fq(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=bb(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return J$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ri.fromDate(r);return{timestampValue:s_(i.serializer,s)}}if(r instanceof Ri){const s=new Ri(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:s_(i.serializer,s)}}if(r instanceof Vk)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof g2)return{bytesValue:cq(i.serializer,r._byteString)};if(r instanceof js){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Sk(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zk)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return _k(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${V6(r)}`)}(n,e)}function Vq(n,e){const t={};return j$(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):S1(n,(r,i)=>{const s=bb(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function zq(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ri||n instanceof Vk||n instanceof g2||n instanceof js||n instanceof yb||n instanceof zk)}function Gk(n,e,t){if(!zq(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=V6(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function pC(n,e,t){if((e=ir(e))instanceof vb)return e._internalPath;if(typeof e=="string")return Kk(n,e);throw c_("Field path arguments must be of type string or ",n,!1,void 0,t)}const zme=new RegExp("[~\\*/\\[\\]]");function Kk(n,e,t){if(e.search(zme)>=0)throw c_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vb(...e.split("."))._internalPath}catch{throw c_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function c_(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new it(Be.INVALID_ARGUMENT,a+n+l)}function $q(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new js(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $me(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(q6("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $me extends qq{data(){return super.data()}}function q6(n,e){return typeof e=="string"?Kk(n,e):e instanceof vb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new it(Be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yk{}class Xk extends Yk{}function sM(n,e,...t){let r=[];e instanceof Yk&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof Qk).length,a=s.filter(l=>l instanceof H6).length;if(o>1||o>0&&a>0)throw new it(Be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class H6 extends Xk{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new H6(e,t,r)}_apply(e){const t=this._parse(e);return Wq(e._query,t),new zd(e.firestore,e.converter,sC(e._query,t))}_parse(e){const t=wb(e.firestore);return function(s,o,a,l,c,u,h){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new it(Be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){cM(h,u);const f=[];for(const b of h)f.push(lM(l,s,b));p={arrayValue:{values:f}}}else p=lM(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||cM(h,u),p=Vme(a,o,h,u==="in"||u==="not-in");return gi.create(c,u,p)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function oM(n,e,t){const r=e,i=q6("where",n);return H6._create(i,r,t)}class Qk extends Yk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qk(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Jl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Wq(o,l),o=sC(o,l)}(e._query,t),new zd(e.firestore,e.converter,sC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jk extends Xk{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Jk(e,t)}_apply(e){const t=function(i,s,o){if(i.startAt!==null)throw new it(Be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new it(Be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new f5(s,o)}(e._query,this._field,this._direction);return new zd(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new B2(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function aM(n,e="asc"){const t=e,r=q6("orderBy",n);return Jk._create(r,t)}class Zk extends Xk{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Zk(e,t,r)}_apply(e){return new zd(e.firestore,e.converter,i_(e._query,this._limit,this._limitType))}}function qme(n){return Zk._create("limit",n,"F")}function lM(n,e,t){if(typeof(t=ir(t))=="string"){if(t==="")throw new it(Be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H$(e)&&t.indexOf("/")!==-1)throw new it(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(pr.fromString(t));if(!Pt.isDocumentKey(r))throw new it(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CL(n,new Pt(r))}if(t instanceof js)return CL(n,t._key);throw new it(Be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${V6(t)}.`)}function cM(n,e){if(!Array.isArray(n)||n.length===0)throw new it(Be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Wq(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new it(Be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(Be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Hme{convertValue(e,t="none"){switch(s1(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(i1(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $t()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return S1(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ti(o.doubleValue));return new zk(s)}convertGeoPoint(e){return new Vk(ti(e.latitude),ti(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=yk(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(u5(e));default:return null}}convertTimestamp(e){const t=Of(e);return new Ri(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pr.fromString(e);Gn(mq(r));const i=new d5(r.get(1),r.get(3)),s=new Pt(r.popFirst(5));return i.isEqual(t)||Dd(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gq extends qq{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(q6("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _4 extends Gq{data(e={}){return super.data(e)}}class Kq{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Uv(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _4(this._firestore,this._userDataWriter,r.key,r,new Uv(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new it(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new _4(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Uv(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new _4(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Uv(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Wme(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Wme(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(n){n=to(n,js);const e=to(n.firestore,au);return Rme(gb(e),n._key).then(t=>Xq(e,n,t))}class t9 extends Hme{constructor(e){super(),this.firestore=e}convertBytes(e){return new g2(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new js(this.firestore,null,t)}}function Gme(n){n=to(n,zd);const e=to(n.firestore,au),t=gb(e),r=new t9(e);return Hq(n._query),Lme(t,n._query).then(i=>new Kq(e,r,n,i))}function Kme(n,e,t){n=to(n,js);const r=to(n.firestore,au),i=e9(n.converter,e,t);return xb(r,[qk(wb(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,eo.none())])}function Yme(n,e,t,...r){n=to(n,js);const i=to(n.firestore,au),s=wb(i);let o;return o=typeof(e=ir(e))=="string"||e instanceof vb?Uq(s,"updateDoc",n._key,e,t,r):Bq(s,"updateDoc",n._key,e),xb(i,[o.toMutation(n._key,eo.exists(!0))])}function Xme(n){return xb(to(n.firestore,au),[new j6(n._key,eo.none())])}function Qme(n,e){const t=to(n.firestore,au),r=hf(n),i=e9(n.converter,e);return xb(t,[qk(wb(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,eo.exists(!1))]).then(()=>r)}function uM(n,...e){var t,r,i;n=ir(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||iM(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(iM(e[o])){const h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,u;if(n instanceof js)c=to(n.firestore,au),u=P6(n._key.path),l={next:h=>{e[o]&&e[o](Xq(c,n,h))},error:e[o+1],complete:e[o+2]};else{const h=to(n,zd);c=to(h.firestore,au),u=h._query;const p=new t9(c);l={next:f=>{e[o]&&e[o](new Kq(c,p,h,f))},error:e[o+1],complete:e[o+2]},Hq(n._query)}return function(p,f,b,w){const A=new Uk(w),x=new Fk(f,A,b);return p.asyncQueue.enqueueAndForget(async()=>Dk(await l_(p),x)),()=>{A.Za(),p.asyncQueue.enqueueAndForget(async()=>jk(await l_(p),x))}}(gb(c),u,a,l)}function xb(n,e){return function(r,i){const s=new xd;return r.asyncQueue.enqueueAndForget(async()=>xme(await Pme(r),i,s)),s.promise}(gb(n),e)}function Xq(n,e,t){const r=t.docs.get(e._key),i=new t9(n);return new Gq(n,i,e._key,r,new Uv(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jme{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wb(e)}set(e,t,r){this._verifyNotCommitted();const i=LE(e,this._firestore),s=e9(i.converter,t,r),o=qk(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,eo.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=LE(e,this._firestore);let o;return o=typeof(t=ir(t))=="string"||t instanceof vb?Uq(this._dataReader,"WriteBatch.update",s._key,t,r,i):Bq(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,eo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=LE(e,this._firestore);return this._mutations=this._mutations.concat(new j6(t._key,eo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(Be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function LE(n,e){if((n=ir(n)).firestore!==e)throw new it(Be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function mC(){return new Hk("serverTimestamp")}function Zme(n){return new Wk("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1e(n){return gb(n=to(n,au)),new Jme(n,e=>xb(n,e))}(function(e,t=!0){(function(i){F2=i})(j2),Ql(new ol("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new au(new tfe(r.getProvider("auth-internal")),new sfe(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new it(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new d5(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Mo(xL,"4.7.3",e),Mo(xL,"4.7.3","esm2017")})();const Qq={apiKey:"AIzaSyB5fV4Gi_nDB-qBCdwyzO9gLMK1yyiknRc",authDomain:"endorse-app.firebaseapp.com",projectId:"endorse-app",storageBucket:"endorse-app.firebasestorage.app",messagingSenderId:"661681554342",appId:"1:661681554342:web:4ffbbe1751bfdca15cc567",measurementId:"G-RP8XHE1RXG"};for(const[n,e]of Object.entries(Qq))if(e===void 0)throw new Error(`Firebase config error: Missing environment variable for ${n}. Please check your .env file.`);const _b=_z(Qq);console.log("Firebase initialized:",_b);Yhe(_b);const gC=ck(_b),zl=fde(_b),Al=jme(_b),Jq=D.createContext({user:null,userProfile:null,loading:!0,signOut:async()=>{}}),Ab=()=>D.useContext(Jq),t1e=({children:n})=>{const[e,t]=D.useState(null),[r,i]=D.useState(null),[s,o]=D.useState(!0);D.useEffect(()=>{const c=Qce(zl,async u=>{if(t(u),u)try{const h=hf(Al,"users",u.uid),p=await Yq(h);p.exists()?i(p.data()):i({plan:"free"})}catch(h){console.error("Error fetching user profile:",h),i({plan:"free"})}else i(null);o(!1)});return()=>c()},[]);const l={user:e,userProfile:r,loading:s,signOut:async()=>{await Jce(zl)}};return d.jsx(Jq.Provider,{value:l,children:n})},n1e=[{name:"Free",price:"Free",frequency:"",features:["5 documents/month","Basic signatures"],color:"text-green-600",buttonColor:"bg-green-600 hover:bg-green-700 focus-visible:outline-green-600",badgeColor:"bg-green-100 text-green-600"},{name:"Starter",price:"$4.99",frequency:"/month",features:["20 documents","Audit trail","Email notifications"],color:"text-blue-600",buttonColor:"bg-blue-600 hover:bg-blue-700 focus-visible:outline-blue-600",badgeColor:"bg-blue-100 text-blue-600"},{name:"Pro",price:"$9.99",frequency:"/month",features:["50 documents","Custom branding","Priority support"],color:"text-purple-600",buttonColor:"bg-purple-600 hover:bg-purple-700 focus-visible:outline-purple-600",badgeColor:"bg-purple-100 text-purple-600"},{name:"Business",price:"$25",frequency:"/month",features:["Unlimited documents","Teams","Admin control"],color:"text-orange-600",buttonColor:"bg-orange-600 hover:bg-orange-700 focus-visible:outline-orange-600",badgeColor:"bg-orange-100 text-orange-600"}],r1e=()=>{const{user:n}=Ab(),e=x1(),[t,r]=D.useState(!1),[i,s]=D.useState(!1),[o,a]=D.useState(!1),[l,c]=D.useState(!1),[u,h]=D.useState("en"),[p,f]=D.useState(!1),[b,w]=D.useState(""),[A,x]=D.useState([{text:"Hello!  Thanks for visiting Endorse. How can we help you streamline your agreements today?",isUser:!1,time:"Just now"}]),[E,S]=D.useState(!1),[T,B]=D.useState(!1),[V,M]=D.useState(!1);D.useEffect(()=>{if(!localStorage.getItem("cookieConsent")){const W=setTimeout(()=>s(!0),1500);return()=>clearTimeout(W)}},[]);const N=()=>{localStorage.setItem("cookieConsent","true"),s(!1)},P=async L=>{if(!n){e("/auth?mode=signup");return}const W=xt.loading("Initializing payment...");try{const ue=l5(gC,"createPaystackTransaction"),{data:de}=await ue({plan:L,callbackUrl:`${window.location.origin}/dashboard?payment=success`});de!=null&&de.authorization_url?window.location.href=de.authorization_url:xt.error("Failed to initialize payment",{id:W})}catch(ue){console.error(ue),xt.error(ue.message||"Failed to initiate payment",{id:W})}},O=L=>{const W=L.toLowerCase();return W.includes("price")||W.includes("cost")||W.includes("plan")||W.includes("free")?"We offer a Free plan (5 docs/mo), Starter ($4.99/mo), and Pro ($9.99/mo). Check out our Pricing section below for more details!":W.includes("hello")||W.includes("hi")||W.includes("hey")?"Hi there! Ready to sign some documents?  How can I help you today?":W.includes("security")||W.includes("safe")||W.includes("legal")||W.includes("binding")?"Yes! Endorse is ESIGN compliant and uses 256-bit SSL encryption to keep your data secure and legally binding.":W.includes("support")||W.includes("help")?"You can reach our support team at support@endorse.com or browse our Help Center resources.":"Thanks for the message! A support agent will be with you shortly. In the meantime, feel free to browse our features."},k=L=>{if(!L.trim())return;const W={text:L,isUser:!0,time:"Just now"};x(ue=>[...ue,W]),w(""),S(!0),setTimeout(()=>{S(!1);const ue=O(L);x(le=>[...le,{text:ue,isUser:!1,time:"Just now"}]),new Audio("https://assets.mixkit.co/active_storage/sfx/2354/2354-preview.mp3").play().catch(le=>console.error("Audio play failed:",le))},1500)},j=L=>{L.preventDefault(),k(b)};return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border/40",children:[d.jsxs("div",{className:"container mx-auto px-4 md:px-6 h-20 flex items-center justify-between",children:[d.jsx(Ze,{to:"/",className:"flex items-center gap-2.5",children:d.jsx(so,{className:"h-14 w-auto drop-shadow-sm"})}),d.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[d.jsxs(yd,{children:[d.jsxs(wd,{className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors flex items-center gap-1 outline-none group",children:["Product ",d.jsx(pa,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Zc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(oi,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs("a",{href:"#features",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Rs,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"eSign"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Create, send, and track legally binding electronic signatures."})]})]})}),d.jsx(oi,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(Ze,{to:"/conversion",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Jm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"File Conversion"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Transform documents between PDF, Word, and other formats."})]})]})})]})]}),d.jsx("a",{href:"#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors",children:"Pricing"}),d.jsxs(yd,{children:[d.jsxs(wd,{className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors flex items-center gap-1 outline-none group",children:["Resources ",d.jsx(pa,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Zc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(oi,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(Ze,{to:"/blog",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Qs,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Blog"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Latest updates, articles, and insights."})]})]})}),d.jsx(oi,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(Ze,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Xm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Help Center"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Guides, tutorials, and support documentation."})]})]})}),d.jsx(oi,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(Ze,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Qm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"API Docs"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Complete reference for developers."})]})]})})]})]}),d.jsx(Ze,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors",children:"Company"})]}),d.jsx("div",{className:"hidden md:flex items-center gap-3",children:d.jsx(Ze,{to:"/auth?mode=signup",children:d.jsx(Qe,{className:"font-medium text-base bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black",children:"Get Started Free"})})}),d.jsx("button",{className:"md:hidden text-foreground p-2",onClick:()=>r(!t),"aria-label":"Toggle menu",children:t?d.jsx(Xa,{className:"w-6 h-6"}):d.jsx(l6,{className:"w-6 h-6"})})]}),t&&d.jsxs("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-background border-b border-border p-4 flex flex-col gap-4 shadow-lg animate-in slide-in-from-top-5 h-[calc(100vh-4rem)] overflow-y-auto",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>B(!T),children:["Product",d.jsx(pa,{className:`w-4 h-4 transition-transform duration-200 ${T?"rotate-180":""}`})]}),T&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs("a",{href:"#features",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>r(!1),children:[d.jsx(Rs,{className:"w-4 h-4"})," eSign"]}),d.jsxs(Ze,{to:"/conversion",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>r(!1),children:[d.jsx(Jm,{className:"w-4 h-4"})," File Conversion"]})]})]}),d.jsx("a",{href:"#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>r(!1),children:"Pricing"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>M(!V),children:["Resources",d.jsx(pa,{className:`w-4 h-4 transition-transform duration-200 ${V?"rotate-180":""}`})]}),V&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs(Ze,{to:"/blog",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>r(!1),children:[d.jsx(Qs,{className:"w-4 h-4"})," Blog"]}),d.jsxs(Ze,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>r(!1),children:[d.jsx(Xm,{className:"w-4 h-4"})," Help Center"]}),d.jsxs(Ze,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>r(!1),children:[d.jsx(Qm,{className:"w-4 h-4"})," API Docs"]})]})]}),d.jsx(Ze,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>r(!1),children:"Company"}),d.jsx("div",{className:"flex flex-col gap-3 mt-2",children:d.jsx(Ze,{to:"/auth?mode=signup",onClick:()=>r(!1),children:d.jsx(Qe,{size:"lg",className:"w-full text-base bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black",children:"Get Started Free"})})})]})]}),d.jsxs("section",{className:"pt-24 pb-16 md:pt-32 md:pb-20 px-4 md:px-6 bg-background relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),d.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-accent/20 via-background to-background"}),d.jsx("div",{className:"container mx-auto max-w-7xl relative",children:d.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 lg:gap-20",children:[d.jsxs("div",{className:"w-full lg:w-1/2 text-center lg:text-left z-10",children:[d.jsxs("h1",{className:"font-display text-3xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-foreground mb-6 leading-[1.1] tracking-tight animate-fade-up-delay-1",children:["The Trusted Platform for ",d.jsx("br",{}),d.jsxs("span",{className:"text-primary relative inline-block",children:["Digital Agreements",d.jsx("svg",{className:"absolute w-full h-3 -bottom-1 left-0 text-[#FFC83D] opacity-40",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:d.jsx("path",{d:"M0 5 Q 50 10 100 5",stroke:"currentColor",strokeWidth:"8",fill:"none"})})]})]}),d.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto lg:mx-0 mb-8 md:mb-10 leading-relaxed animate-fade-up-delay-2",children:"Empower your organization with legally binding e-signatures. Experience enterprise-grade security and compliance without the complexity."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start animate-fade-up-delay-3 mb-12",children:[d.jsx(Ze,{to:"/auth?mode=signup",children:d.jsxs(Qe,{size:"lg",className:"w-full sm:w-auto text-lg h-14 px-8 bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black font-semibold shadow-lg shadow-[#FFC83D]/20",children:["Start Free Trial",d.jsx(M3,{className:"w-5 h-5 ml-2"})]})}),d.jsxs("div",{className:"group flex items-center gap-3 pl-2 pr-6 py-2 rounded-full bg-background/50 border border-border/50 hover:border-primary/50 hover:bg-background/80 backdrop-blur-sm transition-all cursor-pointer shadow-sm hover:shadow-md h-14 w-full sm:w-auto",onClick:()=>c(!0),role:"button",tabIndex:0,"aria-label":"Watch product demo",children:[d.jsxs("div",{className:"relative w-10 h-10 rounded-full overflow-hidden bg-muted shrink-0",children:[d.jsx("img",{src:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=100&h=100&fit=crop&q=80",alt:"Demo thumbnail",className:"w-full h-full object-cover opacity-90 group-hover:scale-110 transition-transform duration-500"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10",children:d.jsx("div",{className:"w-6 h-6 bg-white/90 rounded-full flex items-center justify-center shadow-sm",children:d.jsx(GZ,{className:"w-4 h-4 text-primary"})})})]}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-sm font-bold leading-none text-foreground",children:"Watch Demo"}),d.jsx("p",{className:"text-[11px] text-muted-foreground font-medium mt-0.5",children:"See how it works"})]})]})]}),d.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-x-8 gap-y-4 text-sm text-muted-foreground animate-fade-up-delay-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ka,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{children:"ESIGN Compliant"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ka,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{children:"Secure & Private"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ka,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{children:"No Credit Card"})]})]})]}),d.jsx("div",{className:"w-full lg:w-1/2 relative animate-fade-in duration-1000 delay-300 perspective-1000",children:d.jsxs("div",{className:"relative transform transition-transform hover:scale-[1.01] duration-500",children:[d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[120%] bg-primary/20 blur-[120px] rounded-full pointer-events-none opacity-50"}),d.jsxs("div",{className:"relative mx-auto w-full max-w-[600px] lg:max-w-none",children:[d.jsxs("div",{className:"bg-background/95 backdrop-blur rounded-2xl border border-border/60 shadow-2xl overflow-hidden relative ring-1 ring-white/10",children:[d.jsxs("div",{className:"bg-muted/50 px-4 py-3 border-b border-border/60 flex items-center gap-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-[#FF5F57] border border-[#E0443E]"}),d.jsx("div",{className:"w-3 h-3 rounded-full bg-[#FEBC2E] border border-[#D89E24]"}),d.jsx("div",{className:"w-3 h-3 rounded-full bg-[#28C840] border border-[#1AAB29]"})]}),d.jsx("div",{className:"flex-1 flex justify-center",children:d.jsxs("div",{className:"bg-background/80 border border-border/40 rounded-md px-4 py-1.5 text-xs text-muted-foreground flex items-center gap-2 w-full max-w-[240px] justify-center shadow-sm",children:[d.jsx(AS,{className:"w-3 h-3 opacity-70"}),d.jsx("span",{className:"opacity-70",children:"endorse.com/sign/contract"})]})}),d.jsx("div",{className:"w-16 flex justify-end gap-2",children:d.jsx("div",{className:"w-6 h-6 rounded-full bg-muted border border-border/50"})})]}),d.jsxs("div",{className:"flex h-[400px] sm:h-[500px] md:h-[600px] bg-muted/10",children:[d.jsx("div",{className:"w-14 md:w-16 border-r border-border/60 bg-background/50 flex flex-col items-center py-6 gap-6 backdrop-blur-sm",children:[Rs,$B,zB,FB].map((L,W)=>d.jsx("div",{className:`p-2.5 rounded-xl transition-all cursor-pointer ${W===0?"bg-primary/10 text-primary shadow-sm":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:d.jsx(L,{className:"w-5 h-5"})},W))}),d.jsxs("div",{className:"flex-1 bg-muted/10 p-2 md:p-8 overflow-hidden relative flex flex-col items-center",children:[d.jsxs("div",{className:"w-full max-w-[500px] h-10 bg-background rounded-lg border border-border/40 shadow-sm mb-6 flex items-center px-4 gap-4 opacity-80",children:[d.jsx("div",{className:"h-2 w-24 bg-muted rounded-full"}),d.jsx("div",{className:"h-4 w-px bg-border"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"h-4 w-4 bg-muted rounded"}),d.jsx("div",{className:"h-4 w-4 bg-muted rounded"}),d.jsx("div",{className:"h-4 w-4 bg-muted rounded"})]})]}),d.jsxs("div",{className:"bg-white text-black shadow-xl w-full max-w-[500px] h-full rounded-t-lg p-8 md:p-10 relative mx-auto transform transition-transform hover:-translate-y-1 duration-500 border border-black/5",children:[d.jsxs("div",{className:"flex justify-between items-start mb-10",children:[d.jsxs("div",{className:"flex items-center gap-2 font-bold text-lg",children:[d.jsx("div",{className:"w-8 h-8 bg-black text-white flex items-center justify-center rounded-lg text-sm font-display",children:"E"}),d.jsx("span",{className:"tracking-tight",children:"ENDORSE"})]}),d.jsx("div",{className:"text-right text-[10px] text-gray-400 font-mono",children:d.jsx("p",{children:"ID: 8839-22"})})]}),d.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-900",children:"Service Agreement"}),d.jsxs("div",{className:"space-y-4 text-[11px] md:text-xs text-gray-600 leading-relaxed",children:[d.jsxs("div",{className:"flex gap-2 mb-6",children:[d.jsxs("div",{className:"w-1/2 space-y-2",children:[d.jsx("p",{className:"font-semibold text-gray-900",children:"Between:"}),d.jsx("div",{className:"h-2 w-24 bg-gray-100 rounded"}),d.jsx("div",{className:"h-2 w-32 bg-gray-100 rounded"})]}),d.jsxs("div",{className:"w-1/2 space-y-2",children:[d.jsx("p",{className:"font-semibold text-gray-900",children:"And:"}),d.jsx("div",{className:"h-2 w-24 bg-gray-100 rounded"}),d.jsx("div",{className:"h-2 w-32 bg-gray-100 rounded"})]})]}),d.jsx("p",{children:'This Service Agreement ("Agreement") is entered into by and between the undersigned parties.'}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-full"}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-11/12"}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-full"}),d.jsx("h3",{className:"text-sm font-bold text-black mt-8 mb-3",children:"1. Scope of Services"}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-full"}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-10/12"}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-full"})]}),d.jsx("div",{className:"mt-12 p-4 rounded-xl border-2 border-dashed border-blue-200 bg-blue-50/30 relative group cursor-pointer hover:bg-blue-50/50 transition-colors",children:d.jsxs("div",{className:"flex justify-between items-end",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold uppercase text-blue-400 mb-1",children:"Signature"}),d.jsx("div",{className:"font-handwriting text-2xl text-blue-600 transform -rotate-2 origin-left",children:"Sarah Jenkins"})]}),d.jsx("div",{className:"text-right",children:d.jsxs("div",{className:"bg-[#FFC83D] text-black text-[10px] font-bold px-2 py-1 rounded shadow-sm flex items-center gap-1",children:[d.jsx(Ka,{className:"w-3 h-3"})," VERIFIED"]})})]})})]})]}),d.jsxs("div",{className:"w-60 border-l border-border/60 bg-background/50 hidden xl:block p-5 backdrop-blur-sm",children:[d.jsx("h4",{className:"font-semibold text-xs uppercase tracking-wider text-muted-foreground mb-4",children:"Participants"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-xl bg-background border border-border/50 shadow-sm",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-700 text-xs font-bold ring-2 ring-white",children:"SJ"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium truncate",children:"Sarah Jenkins"}),d.jsxs("p",{className:"text-[10px] text-green-600 flex items-center gap-1 font-medium",children:[d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"})," Signed"]})]})]}),d.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-xl border border-transparent opacity-60",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 text-xs font-bold",children:"JD"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium truncate",children:"John Doe"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Waiting..."})]})]})]}),d.jsxs("div",{className:"mt-8",children:[d.jsx("h4",{className:"font-semibold text-xs uppercase tracking-wider text-muted-foreground mb-4",children:"Activity"}),d.jsxs("div",{className:"space-y-4 pl-2 border-l border-border/50",children:[d.jsxs("div",{className:"relative pl-4",children:[d.jsx("div",{className:"absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full bg-green-500 ring-4 ring-background"}),d.jsx("p",{className:"text-xs text-foreground",children:"Document signed"}),d.jsx("p",{className:"text-[10px] text-muted-foreground",children:"2 mins ago"})]}),d.jsxs("div",{className:"relative pl-4 opacity-60",children:[d.jsx("div",{className:"absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full bg-gray-300 ring-4 ring-background"}),d.jsx("p",{className:"text-xs text-foreground",children:"Viewed by Sarah"}),d.jsx("p",{className:"text-[10px] text-muted-foreground",children:"15 mins ago"})]})]})]})]})]})]}),d.jsx("div",{className:"absolute -right-6 top-24 bg-background/90 backdrop-blur p-4 rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-border/50 animate-in slide-in-from-bottom-10 duration-1000 delay-500 hidden md:block max-w-[200px]",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"bg-green-500/10 p-2 rounded-full shrink-0",children:d.jsx(D3,{className:"w-5 h-5 text-green-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-sm leading-tight mb-1",children:"Legally Binding"}),d.jsx("p",{className:"text-xs text-muted-foreground leading-snug",children:"Compliant with ESIGN & eIDAS"})]})]})})]})]})})]})})]}),d.jsx("section",{className:"py-16 md:py-20 bg-secondary/20 border-y border-border/50",children:d.jsxs("div",{className:"container mx-auto max-w-6xl px-6",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"How Endorse Works"}),d.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Get your documents signed in minutes, not days. A simple workflow designed for speed."})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8 relative",children:[d.jsx("div",{className:"hidden md:block absolute top-12 left-[16%] right-[16%] h-0.5 bg-gradient-to-r from-border via-primary/20 to-border -z-10"}),[{title:"Upload",desc:"Upload any PDF or Word document from your computer or cloud storage.",icon:Ky},{title:"Sign & Send",desc:"Add your signature fields and send to recipients via email.",icon:Rs},{title:"Track",desc:"Get real-time updates when your document is viewed and signed.",icon:Ka}].map((L,W)=>d.jsxs("div",{className:"group flex flex-col items-center text-center bg-background p-8 rounded-2xl border border-border shadow-sm hover:shadow-md transition-all duration-300",children:[d.jsxs("div",{className:"w-24 h-24 rounded-full bg-secondary flex items-center justify-center mb-6 shadow-inner relative z-10 group-hover:scale-110 transition-transform duration-300",children:[d.jsx(L.icon,{className:"w-10 h-10 text-primary"}),d.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-[#FFC83D] flex items-center justify-center font-bold text-black text-sm border-2 border-background",children:W+1})]}),d.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:L.title}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:L.desc})]},W))]})]})}),d.jsx("section",{id:"features",className:"py-16 md:py-24 px-4 md:px-6 overflow-hidden",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("p",{className:"text-base font-semibold text-primary uppercase tracking-wider mb-3",children:"Features"}),d.jsx("h2",{className:"font-display text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Everything you need to manage signatures"})]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 md:gap-12 mb-16 md:mb-24",children:[d.jsx("div",{className:"w-full md:w-1/2 order-2 md:order-1",children:d.jsxs("div",{className:"relative rounded-2xl bg-gradient-to-br from-secondary to-background border border-border p-8 shadow-lg",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-border/50 p-8 min-h-[300px] relative",children:[d.jsx("div",{className:"h-4 w-1/3 bg-gray-200 rounded mb-6"}),d.jsxs("div",{className:"space-y-3 mb-8",children:[d.jsx("div",{className:"h-2 w-full bg-gray-100 rounded"}),d.jsx("div",{className:"h-2 w-full bg-gray-100 rounded"}),d.jsx("div",{className:"h-2 w-2/3 bg-gray-100 rounded"})]}),d.jsxs("div",{className:"border-2 border-dashed border-[#FFC83D] bg-[#FFC83D]/5 rounded-lg p-4 relative group cursor-pointer",children:[d.jsx("div",{className:"absolute -top-3 left-4 bg-[#FFC83D] text-black text-xs font-bold px-2 py-0.5 rounded",children:"Sign Here"}),d.jsx("div",{className:"font-handwriting text-3xl text-black opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform translate-y-2 group-hover:translate-y-0",children:"John Doe"}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2 opacity-100 group-hover:opacity-0 transition-opacity",children:"Click to sign"})]})]}),d.jsxs("div",{className:"absolute -right-4 top-10 bg-background border border-border shadow-xl rounded-lg p-3 flex items-center gap-3 animate-in slide-in-from-bottom-4 duration-1000 delay-500",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:d.jsx(D3,{className:"w-4 h-4 text-green-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-bold",children:"Legally Binding"}),d.jsx("p",{className:"text-[10px] text-muted-foreground",children:"ESIGN Compliant"})]})]})]})}),d.jsxs("div",{className:"w-full md:w-1/2 order-1 md:order-2",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#FFC83D]/10 text-[#FFC83D] text-sm font-medium mb-4",children:[d.jsx(Rs,{className:"w-4 h-4"}),"Intuitive Signing"]}),d.jsx("h3",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Sign documents anywhere, on any device."}),d.jsx("p",{className:"text-base md:text-lg text-muted-foreground mb-6 leading-relaxed",children:"Experience a signing process that feels natural. Whether you're on a desktop in the office or a mobile phone on the go, Endorse adapts to your screen."}),d.jsx("ul",{className:"space-y-3",children:["Draw, type, or upload signatures","Mobile-responsive interface","No account required for signers"].map((L,W)=>d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx(Ka,{className:"w-5 h-5 text-primary flex-shrink-0"}),d.jsx("span",{className:"text-foreground",children:L})]},W))})]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 md:gap-12 mb-16 md:mb-24",children:[d.jsxs("div",{className:"w-full md:w-1/2",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/10 text-blue-500 text-sm font-medium mb-4",children:[d.jsx(UB,{className:"w-4 h-4"}),"Real-time Tracking"]}),d.jsx("h3",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Never wonder about status again."}),d.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:"Stay in the loop with instant notifications. Know exactly when your document is opened, viewed, and signed."}),d.jsx(Ze,{to:"/auth",children:d.jsxs(Qe,{variant:"outline",className:"group",children:["Explore Features ",d.jsx(a6,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})})]}),d.jsx("div",{className:"w-full md:w-1/2",children:d.jsxs("div",{className:"relative rounded-2xl bg-card border border-border p-6 shadow-lg",children:[d.jsx("div",{className:"space-y-4",children:[{user:"Sarah Chen",action:"viewed the document",time:"2 mins ago",icon:HB,color:"bg-blue-100 text-blue-600"},{user:"Mike Ross",action:"signed the contract",time:"Just now",icon:Rs,color:"bg-green-100 text-green-600"},{user:"System",action:"sent copy to all parties",time:"Just now",icon:Gy,color:"bg-purple-100 text-purple-600"}].map((L,W)=>d.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-background border border-border/50 shadow-sm",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${L.color}`,children:d.jsx(L.icon,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"text-sm font-medium text-foreground",children:[d.jsx("span",{className:"font-bold",children:L.user})," ",L.action]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:L.time})]})]},W))}),d.jsx("div",{className:"absolute -z-10 -bottom-4 -right-4 w-full h-full bg-secondary/50 rounded-2xl"})]})})]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 md:gap-12",children:[d.jsx("div",{className:"w-full md:w-1/2 order-2 md:order-1",children:d.jsxs("div",{className:"relative rounded-2xl bg-[#1a1f2c] p-8 shadow-2xl overflow-hidden text-white",children:[d.jsx("div",{className:"absolute top-0 right-0 p-32 bg-primary/20 blur-[100px] rounded-full pointer-events-none"}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center text-center py-10",children:[d.jsx("div",{className:"w-20 h-20 bg-white/10 rounded-full flex items-center justify-center mb-6 backdrop-blur-md border border-white/20",children:d.jsx(AS,{className:"w-10 h-10 text-[#FFC83D]"})}),d.jsx("h4",{className:"text-2xl font-bold mb-2",children:"Secure Infrastructure"}),d.jsx("p",{className:"text-gray-400 mb-8",children:"Powered by Google Cloud"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full",children:[d.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[d.jsx("div",{className:"text-[#FFC83D] font-bold text-lg",children:"SSL"}),d.jsx("div",{className:"text-xs text-gray-400",children:"Encryption"})]}),d.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[d.jsx("div",{className:"text-[#FFC83D] font-bold text-lg",children:"99.9%"}),d.jsx("div",{className:"text-xs text-gray-400",children:"Uptime"})]})]})]})]})}),d.jsxs("div",{className:"w-full md:w-1/2 order-1 md:order-2",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-green-500/10 text-green-600 text-sm font-medium mb-4",children:[d.jsx(j3,{className:"w-4 h-4"}),"Secure & Reliable"]}),d.jsx("h3",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Secure, private, and legally binding."}),d.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:"We take security seriously. Your documents are protected by industry-standard encryption and secure cloud infrastructure."}),d.jsx("div",{className:"flex flex-wrap gap-3",children:["Audit Trails","Two-Factor Auth","Data Encryption","Privacy Focused"].map((L,W)=>d.jsx("span",{className:"px-3 py-1 bg-secondary rounded-md text-sm font-medium text-secondary-foreground border border-border",children:L},W))})]})]})]})}),d.jsx("section",{id:"pricing",className:"bg-white py-12 sm:py-16",children:d.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[d.jsxs("div",{className:"mx-auto max-w-4xl text-center",children:[d.jsx("h2",{className:"text-base font-semibold leading-7 text-indigo-600",children:"Pricing"}),d.jsx("p",{className:"mt-2 text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Choose the right plan for you"})]}),d.jsx("div",{className:"isolate mx-auto mt-10 grid max-w-md grid-cols-1 gap-8 lg:mx-0 lg:max-w-none lg:grid-cols-4",children:n1e.map(L=>d.jsxs("div",{className:"rounded-3xl p-8 ring-1 ring-gray-200 xl:p-10 flex flex-col justify-between hover:shadow-lg transition-shadow duration-300",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between gap-x-4",children:[d.jsx("h3",{id:L.name,className:`text-lg font-semibold leading-8 ${L.color}`,children:L.name}),d.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${L.badgeColor} ring-1 ring-inset ring-gray-500/10`,children:L.name})]}),d.jsxs("p",{className:"mt-4 flex items-baseline gap-x-1",children:[d.jsx("span",{className:"text-4xl font-bold tracking-tight text-gray-900",children:L.price}),L.frequency&&d.jsx("span",{className:"text-sm font-semibold leading-6 text-gray-600",children:L.frequency})]}),d.jsx("ul",{role:"list",className:"mt-8 space-y-3 text-sm leading-6 text-gray-600",children:L.features.map(W=>d.jsxs("li",{className:"flex gap-x-3",children:[d.jsx("svg",{className:`h-6 w-5 flex-none ${L.color}`,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:d.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})}),W]},W))})]}),d.jsx("button",{onClick:()=>L.name==="Free"?e("/auth?mode=signup"):P(L.name),"aria-describedby":L.name,className:`mt-8 block w-full rounded-md px-3 py-2 text-center text-sm font-semibold leading-6 text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 ${L.buttonColor}`,children:"Get started"})]},L.name))})]})}),d.jsx("section",{className:"py-16 md:py-24 px-4 md:px-6",children:d.jsxs("div",{className:"container mx-auto max-w-4xl",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("p",{className:"text-base font-semibold text-primary uppercase tracking-wider mb-3",children:"FAQ"}),d.jsx("h2",{className:"font-display text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Common questions"}),d.jsx("p",{className:"text-muted-foreground text-xl max-w-xl mx-auto",children:"Everything you need to know about the product and billing."})]}),d.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[{q:"Is Endorse legally binding?",a:"Yes. Signatures created with Endorse are legally binding and enforceable in court, complying with the ESIGN Act, UETA, and eIDAS regulations."},{q:"Is my data secure?",a:"Absolutely. We use industry-standard SSL encryption for all document transfers. Your documents are private and only accessible to you and your designated signers."},{q:"Can I sign on my mobile phone?",a:"Yes! Endorse is fully responsive and works perfectly on smartphones and tablets. You can draw your signature using your finger or stylus."},{q:"What happens after the free trial?",a:"If you don't upgrade to a paid plan, your account will automatically switch to our Free tier, which allows you to sign up to 3 documents per month."},{q:"Do recipients need an account to sign?",a:"No. Recipients can sign documents sent to them without creating an Endorse account. They simply click the link in their email to sign."},{q:"Can I cancel my subscription?",a:"You can cancel your subscription at any time from your dashboard. You'll retain access to your paid features until the end of your billing cycle."}].map((L,W)=>d.jsxs("div",{className:"bg-card p-8 rounded-2xl border border-border hover:border-primary/30 transition-all duration-300 hover:shadow-sm",children:[d.jsx("h3",{className:"font-display font-semibold text-xl mb-3 text-foreground",children:L.q}),d.jsx("p",{className:"text-muted-foreground leading-relaxed text-base",children:L.a})]},W))})]})}),d.jsx("section",{className:"py-16 md:py-24 px-4 md:px-6",children:d.jsx("div",{className:"container mx-auto max-w-4xl",children:d.jsxs("div",{className:"relative rounded-2xl bg-gradient-primary p-8 md:p-14 text-center overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PGNpcmNsZSBjeD0iMzAiIGN5PSIzMCIgcj0iMiIvPjwvZz48L2c+PC9zdmc+')] opacity-50"}),d.jsxs("div",{className:"relative z-10",children:[d.jsx("h2",{className:"font-display text-4xl md:text-5xl font-bold text-primary-foreground mb-4",children:"Ready to streamline your signing?"}),d.jsx("p",{className:"text-primary-foreground/85 text-xl mb-8 max-w-xl mx-auto",children:"Join thousands of professionals who save hours every week with Endorse."}),d.jsx(Ze,{to:"/auth?mode=signup",children:d.jsxs(Qe,{size:"lg",className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90 font-semibold text-xl h-14 px-8",children:["Start Your Free Trial",d.jsx(M3,{className:"w-4 h-4 ml-2"})]})})]})]})})}),d.jsx("footer",{className:"bg-background border-t border-border pt-12 md:pt-16 pb-8 px-4 md:px-6",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[d.jsxs("div",{className:"lg:col-span-1",children:[d.jsx(Ze,{to:"/",className:"flex items-center gap-2.5 mb-6",children:d.jsx(so,{className:"h-[80px] w-auto"})}),d.jsx("p",{className:"text-muted-foreground text-base leading-relaxed mb-6",children:"The professional way to sign and endorse documents securely online."}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"Twitter",children:d.jsx(gee,{className:"w-5 h-5"})}),d.jsx("a",{href:"https://www.linkedin.com/company/e-ndorse/",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"LinkedIn",children:d.jsx(_S,{className:"w-5 h-5"})}),d.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"Facebook",children:d.jsx(JZ,{className:"w-5 h-5"})}),d.jsx("a",{href:"https://www.instagram.com/e.ndorse?igsh=MWs2MnltaGdxbDU3eA%3D%3D&utm_source=qr",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"Instagram",children:d.jsx(ree,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-lg text-foreground mb-6",children:"Product"}),d.jsxs("ul",{className:"space-y-4 text-base text-muted-foreground",children:[d.jsx("li",{children:d.jsx("a",{href:"#features",className:"hover:text-foreground transition-colors",children:"Features"})}),d.jsx("li",{children:d.jsx("a",{href:"#pricing",className:"hover:text-foreground transition-colors",children:"Pricing"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"API Documentation"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-lg text-foreground mb-6",children:"Company"}),d.jsxs("ul",{className:"space-y-4 text-base text-muted-foreground",children:[d.jsx("li",{children:d.jsx(Ze,{to:"/about",className:"hover:text-foreground transition-colors",children:"About Us"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Careers"})}),d.jsx("li",{children:d.jsx(Ze,{to:"/blog",className:"hover:text-foreground transition-colors",children:"Blog"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Contact"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-lg text-foreground mb-6",children:"Stay Updated"}),d.jsx("p",{className:"text-base text-muted-foreground mb-4",children:"Subscribe to our newsletter for the latest updates and features."}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx(Ni,{placeholder:"Enter your email",className:"bg-background","aria-label":"Email address"}),d.jsx(Qe,{size:"lg",className:"w-full text-base",children:"Subscribe"})]})]})]}),d.jsxs("div",{className:"pt-8 border-t border-border flex flex-col md:flex-row items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 md:gap-6",children:[d.jsxs("p",{className:"text-muted-foreground text-base",children:[" ",new Date().getFullYear()," Endorse. All rights reserved."]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(VB,{className:"w-4 h-4 text-muted-foreground"}),d.jsxs("select",{value:u,onChange:L=>h(L.target.value),className:"bg-transparent border-none text-sm text-muted-foreground hover:text-foreground focus:ring-0 cursor-pointer outline-none","aria-label":"Select language",children:[d.jsx("option",{value:"en",children:"English (US)"}),d.jsx("option",{value:"fr",children:"Franais"}),d.jsx("option",{value:"es",children:"Espaol"}),d.jsx("option",{value:"de",children:"Deutsch"})]})]})]}),d.jsxs("div",{className:"flex gap-8 text-base text-muted-foreground",children:[d.jsx(Ze,{to:"/privacy",className:"hover:text-foreground transition-colors",children:"Privacy Policy"}),d.jsx(Ze,{to:"/terms",className:"hover:text-foreground transition-colors",children:"Terms of Service"}),d.jsx(Ze,{to:"/cookie-policy",className:"hover:text-foreground transition-colors",children:"Cookie Policy"})]})]})]})}),i&&d.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t border-border p-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] animate-in slide-in-from-bottom-full duration-500",children:d.jsxs("div",{className:"container mx-auto max-w-6xl flex flex-col sm:flex-row items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-primary/10 rounded-full hidden sm:block",children:d.jsx(YZ,{className:"w-5 h-5 text-primary"})}),d.jsx("p",{className:"text-sm text-muted-foreground text-center sm:text-left",children:"We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies."})]}),d.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[d.jsx(Qe,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>s(!1),children:"Decline"}),d.jsx(Qe,{size:"sm",className:"flex-1 sm:flex-none bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",onClick:N,children:"Accept"})]})]})}),o&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[d.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm",onClick:()=>a(!1)}),d.jsxs("div",{className:"relative z-50 w-full max-w-lg bg-card border border-border rounded-xl shadow-2xl p-6 animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("button",{onClick:()=>a(!1),className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","aria-label":"Close",children:[d.jsx(Xa,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]}),d.jsxs("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left mb-6",children:[d.jsx("h2",{className:"text-lg font-semibold leading-none tracking-tight",children:"Contact Sales"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Get a custom quote for your team. We'll get back to you within 24 hours."})]}),d.jsxs("form",{className:"space-y-4",onSubmit:L=>{L.preventDefault(),a(!1)},children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"first-name",className:"text-sm font-medium leading-none",children:"First name"}),d.jsx(Ni,{id:"first-name",placeholder:"John",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"last-name",className:"text-sm font-medium leading-none",children:"Last name"}),d.jsx(Ni,{id:"last-name",placeholder:"Doe",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"email",className:"text-sm font-medium leading-none",children:"Work Email"}),d.jsx(Ni,{id:"email",type:"email",placeholder:"john@company.com",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"company",className:"text-sm font-medium leading-none",children:"Company Name"}),d.jsx(Ni,{id:"company",placeholder:"Acme Inc.",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"message",className:"text-sm font-medium leading-none",children:"Message"}),d.jsx("textarea",{id:"message",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Tell us about your needs..."})]}),d.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[d.jsx(Qe,{variant:"outline",type:"button",onClick:()=>a(!1),children:"Cancel"}),d.jsx(Qe,{type:"submit",className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:"Send Request"})]})]}),d.jsx("div",{className:"mt-6 pt-6 border-t border-border flex justify-center",children:d.jsx("a",{href:"https://www.linkedin.com/company/e-ndorse/",target:"_blank",rel:"noopener noreferrer",className:"w-full",children:d.jsxs(Qe,{variant:"outline",className:"w-full gap-2 text-muted-foreground hover:text-[#0A66C2] hover:border-[#0A66C2]/30",children:[d.jsx(_S,{className:"w-4 h-4"}),"Follow us on LinkedIn"]})})})]})]}),l&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 bg-background/80 backdrop-blur-sm animate-in fade-in duration-200",children:[d.jsx("div",{className:"absolute inset-0",onClick:()=>c(!1)}),d.jsxs("div",{className:"relative w-full max-w-5xl aspect-video bg-black rounded-xl shadow-2xl overflow-hidden border border-border/50 animate-in zoom-in-95 duration-200",children:[d.jsx("button",{onClick:()=>c(!1),className:"absolute right-4 top-4 z-10 p-2 bg-black/50 hover:bg-black/70 text-white rounded-full transition-colors","aria-label":"Close video",children:d.jsx(Xa,{className:"w-5 h-5"})}),d.jsx("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/STt-r1SlO74?autoplay=1",title:"Product Demo",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})]})]}),d.jsxs("div",{className:"fixed bottom-4 right-4 md:bottom-6 md:right-6 z-50 flex flex-col items-end gap-4",children:[p&&d.jsxs("div",{className:"bg-card border border-border rounded-xl shadow-2xl w-[calc(100vw-2rem)] sm:w-96 overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300",children:[d.jsxs("div",{className:"bg-[#FFC83D] p-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full animate-pulse"}),d.jsx("span",{className:"font-bold text-black",children:"Endorse Support"})]}),d.jsx("button",{onClick:()=>f(!1),className:"text-black/80 hover:text-black transition-colors","aria-label":"Close chat",children:d.jsx(Xa,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"h-80 bg-background p-4 overflow-y-auto flex flex-col gap-4",children:[A.map((L,W)=>d.jsxs("div",{className:`p-3 rounded-lg max-w-[85%] border border-border ${L.isUser?"bg-primary/10 self-end rounded-tr-none":"bg-secondary self-start rounded-tl-none"}`,children:[d.jsx("p",{className:"text-sm",children:L.text}),d.jsx("span",{className:"text-[10px] text-muted-foreground mt-1 block",children:L.time})]},W)),A.length<4&&d.jsx("div",{className:"flex flex-wrap gap-2 mt-2 px-1",children:["Pricing Plans","Is it legal?","Contact Support","Features"].map(L=>d.jsx("button",{onClick:()=>k(L),className:"text-xs bg-secondary hover:bg-secondary/80 border border-border rounded-full px-3 py-1.5 transition-colors text-foreground/80",children:L},L))}),E&&d.jsx("div",{className:"bg-secondary p-4 rounded-lg rounded-tl-none max-w-[85%] self-start border border-border",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("span",{className:"w-2 h-2 bg-muted-foreground/40 rounded-full animate-bounce [animation-delay:-0.3s]"}),d.jsx("span",{className:"w-2 h-2 bg-muted-foreground/40 rounded-full animate-bounce [animation-delay:-0.15s]"}),d.jsx("span",{className:"w-2 h-2 bg-muted-foreground/40 rounded-full animate-bounce"})]})})]}),d.jsx("div",{className:"p-4 border-t border-border bg-background",children:d.jsxs("form",{className:"flex gap-2",onSubmit:j,children:[d.jsx(Ni,{placeholder:"Type a message...",className:"flex-1",value:b,onChange:L=>w(L.target.value),"aria-label":"Type a message"}),d.jsx(Qe,{size:"icon",type:"submit",className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:d.jsx(xN,{className:"w-4 h-4"})})]})})]}),d.jsx(Qe,{size:"lg",className:"h-14 w-14 rounded-full shadow-lg bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90 transition-transform hover:scale-105",onClick:()=>f(!p),"aria-label":"Open chat",children:p?d.jsx(Xa,{className:"w-6 h-6"}):d.jsx(oee,{className:"w-6 h-6"})})]})]})};var i1e="Label",Zq=D.forwardRef((n,e)=>d.jsx(yr.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Zq.displayName=i1e;var eH=Zq;const s1e=wN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),gd=D.forwardRef(({className:n,...e},t)=>d.jsx(eH,{ref:t,className:wr(s1e(),n),...e}));gd.displayName=eH.displayName;const o1e=()=>{var O,k;const[n]=QU(),[e,t]=D.useState(n.get("mode")==="signup"),[r,i]=D.useState(!1),[s,o]=D.useState(""),[a,l]=D.useState(""),[c,u]=D.useState(""),[h,p]=D.useState(!1),[f,b]=D.useState(!1),[w,A]=D.useState(null),[x,E]=D.useState(""),S=x1(),{user:T}=Ab(),V=((k=(O=Ud().state)==null?void 0:O.from)==null?void 0:k.pathname)||"/dashboard";D.useEffect(()=>{T&&S(V,{replace:!0})},[T,S,V]);const M=async j=>{j.preventDefault(),i(!0);try{e?(await Gce(zl,s,a),xt.success("Account created successfully!"),S("/dashboard")):(await Kce(zl,s,a),xt.success("Welcome back!"),S("/dashboard"))}catch(L){L.code==="auth/multi-factor-auth-required"?(b(!0),A(ZR(zl,L)),xt.info("Two-factor authentication required.")):xt.error(L.message||"An error occurred")}finally{i(!1)}},N=async()=>{i(!0);try{const j=new ud;await xue(zl,j),S("/dashboard")}catch(j){j.code==="auth/multi-factor-auth-required"?(b(!0),A(ZR(zl,j)),xt.info("Two-factor authentication required.")):xt.error(j.message||"Failed to sign in with Google"),i(!1)}},P=async j=>{j.preventDefault(),i(!0);try{const L=w.hints[0],W=i$.assertionForSignIn(L.uid,x);await w.resolveSignIn(W),xt.success("Welcome back!"),S("/dashboard")}catch(L){console.error(L),xt.error("Invalid verification code."),i(!1)}};return d.jsxs("div",{className:"min-h-screen bg-background flex",children:[d.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-primary relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2670&auto=format&fit=crop')] bg-cover bg-center opacity-20 mix-blend-overlay"}),d.jsxs("div",{className:"relative z-10 flex flex-col justify-between p-12 w-full",children:[d.jsx(Ze,{to:"/",className:"flex items-center gap-2.5",children:d.jsx(so,{className:"h-10 w-auto brightness-0 invert"})}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h1",{className:"font-display text-4xl font-bold text-primary-foreground leading-tight",children:["Sign documents",d.jsx("br",{}),"with confidence"]}),d.jsx("p",{className:"text-primary-foreground/80 text-lg max-w-md leading-relaxed",children:"Join who trust Endorse for secure, legally binding electronic signatures."}),d.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[d.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4].map(j=>d.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-foreground/30 border-2 border-primary-foreground/50 flex items-center justify-center",children:d.jsx(ES,{className:"w-5 h-5 text-primary-foreground/70"})},j))}),d.jsx("p",{className:"text-primary-foreground/80 text-sm"})]})]}),d.jsx("p",{className:"text-primary-foreground/60 text-sm",children:" 2025 Endorse. Enterprise-grade security."})]})]}),d.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-12",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs(Ze,{to:"/",className:"lg:hidden inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-8 transition-colors text-sm",children:[d.jsx(Zw,{className:"w-4 h-4"}),"Back to home"]}),d.jsx("div",{className:"lg:hidden flex items-center gap-2.5 mb-8",children:d.jsx(so,{className:"h-10 w-auto"})}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"font-display text-2xl font-bold text-foreground mb-2",children:f?"Two-Factor Authentication":e?"Create your account":"Welcome back"}),d.jsx("p",{className:"text-muted-foreground",children:f?"Enter the 6-digit code from your authenticator app":e?"Start your free 14-day trial today":"Sign in to continue to your dashboard"})]}),f?d.jsxs("form",{onSubmit:P,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(gd,{htmlFor:"code",className:"text-sm font-medium",children:"Verification Code"}),d.jsxs("div",{className:"relative",children:[d.jsx(qP,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(Ni,{id:"code",type:"text",placeholder:"000000",value:x,onChange:j=>E(j.target.value.replace(/\D/g,"").slice(0,6)),className:"pl-10 h-11 tracking-widest",autoFocus:!0,required:!0})]})]}),d.jsx(Qe,{type:"submit",variant:"hero",className:"w-full h-11 font-medium",disabled:r||x.length!==6,children:r?d.jsx(Ya,{className:"w-4 h-4 mr-2 animate-spin"}):"Verify"}),d.jsx(Qe,{type:"button",variant:"ghost",className:"w-full",onClick:()=>{b(!1),E("")},children:"Back to Login"})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"mb-6 bg-secondary/30 p-4 rounded-lg border border-border/50",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"mt-0.5",children:d.jsx("input",{type:"checkbox",id:"security-check",checked:h,onChange:j=>p(j.target.checked),className:"h-4 w-4 rounded border-primary text-primary focus:ring-primary cursor-pointer accent-primary"})}),d.jsxs("label",{htmlFor:"security-check",className:"text-sm text-muted-foreground cursor-pointer select-none",children:[d.jsxs("span",{className:"font-medium text-foreground flex items-center gap-1.5 mb-1",children:[d.jsx(qP,{className:"w-3.5 h-3.5 text-primary"}),"Security Check"]}),"I confirm I am authorized to access this system and agree to the Terms of Service."]})]})}),d.jsxs(Qe,{variant:"outline",className:"w-full h-11 mb-6 font-medium",onClick:N,disabled:r||!h,children:[d.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("span",{className:"w-full border-t border-border"})}),d.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:d.jsx("span",{className:"bg-background px-3 text-muted-foreground",children:"Or continue with email"})})]}),d.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(gd,{htmlFor:"fullName",className:"text-sm font-medium",children:"Full Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(ES,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(Ni,{id:"fullName",type:"text",placeholder:"John Doe",value:c,onChange:j=>u(j.target.value),className:"pl-10 h-11",required:e})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(gd,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Gy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(Ni,{id:"email",type:"email",placeholder:"you@example.com",value:s,onChange:j=>o(j.target.value),className:"pl-10 h-11",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(gd,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(AS,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(Ni,{id:"password",type:"password",placeholder:"",value:a,onChange:j=>l(j.target.value),className:"pl-10 h-11",required:!0,minLength:6})]})]}),d.jsx(Qe,{type:"submit",variant:"hero",className:"w-full h-11 font-medium",disabled:r||!h,children:r?d.jsxs(d.Fragment,{children:[d.jsx(Ya,{className:"w-4 h-4 mr-2 animate-spin"}),"Please wait..."]}):e?"Create Account":"Sign In"})]}),d.jsxs("p",{className:"text-center text-muted-foreground mt-6 text-sm",children:[e?"Already have an account?":"Don't have an account?"," ",d.jsx("button",{type:"button",onClick:()=>t(!e),className:"text-primary hover:underline font-medium",children:e?"Sign in":"Sign up for free"})]})]})]})})]})},a1e="modulepreload",l1e=function(n){return"/"+n},dM={},Kc=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=l1e(l),l in dM)return;dM[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":a1e,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var c1e="Separator",hM="horizontal",u1e=["horizontal","vertical"],tH=D.forwardRef((n,e)=>{const{decorative:t,orientation:r=hM,...i}=n,s=d1e(r)?r:hM,a=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return d.jsx(yr.div,{"data-orientation":s,...a,...i,ref:e})});tH.displayName=c1e;function d1e(n){return u1e.includes(n)}var nH=tH;const rH=D.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},i)=>d.jsx(nH,{ref:i,decorative:t,orientation:e,className:wr("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));rH.displayName=nH.displayName;const xc=D.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:wr("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));xc.displayName="Card";const Ap=D.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:wr("flex flex-col space-y-1.5 p-6",n),...e}));Ap.displayName="CardHeader";const Ep=D.forwardRef(({className:n,...e},t)=>d.jsx("h3",{ref:t,className:wr("text-2xl font-semibold leading-none tracking-tight",n),...e}));Ep.displayName="CardTitle";const h1e=D.forwardRef(({className:n,...e},t)=>d.jsx("p",{ref:t,className:wr("text-sm text-muted-foreground",n),...e}));h1e.displayName="CardDescription";const _c=D.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:wr("p-6 pt-0",n),...e}));_c.displayName="CardContent";const f1e=D.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:wr("flex items-center p-6 pt-0",n),...e}));f1e.displayName="CardFooter";const p1e=({onFileSelect:n,currentFile:e,accept:t=".pdf"})=>{const r=D.useCallback(s=>{s.preventDefault();const o=s.dataTransfer.files[0];if(o){const a=o.type==="application/pdf",l=o.name.match(/\.(doc|docx)$/i)||o.type==="application/msword"||o.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document";(a||l)&&n(o)}},[n]),i=s=>{var a;const o=(a=s.target.files)==null?void 0:a[0];o&&n(o)};return d.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary/50 transition-colors",onDrop:r,onDragOver:s=>s.preventDefault(),children:[e?d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx(Qs,{className:"h-8 w-8 text-primary"}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"font-medium text-foreground",children:e.name}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[(e.size/1024/1024).toFixed(2)," MB"]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ky,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),d.jsx("p",{className:"text-lg font-medium text-foreground mb-2",children:"Drop your document here"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"PDF or Word documents"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4 font-bold text-primary",children:"or"})]}),d.jsxs("label",{children:[d.jsx("input",{type:"file",accept:t,onChange:i,className:"hidden"}),d.jsx(Qe,{variant:"outline",asChild:!0,children:d.jsx("span",{className:"cursor-pointer",children:e?"Choose Different File":"Browse Files"})})]})]})},m1e=({signers:n,setSigners:e,onSendInvites:t})=>{const[r,i]=D.useState(""),[s,o]=D.useState(""),a=()=>{if(!r||!s){xt.error("Please enter both name and email for the signer.");return}if(!/^\S+@\S+\.\S+$/.test(r)){xt.error("Please enter a valid email address.");return}if(n.some(c=>c.email===r)){xt.warning("This signer has already been added.");return}e([...n,{email:r,name:s}]),i(""),o("")},l=c=>{e(n.filter(u=>u.email!==c))};return d.jsxs(xc,{className:"gradient-card border-border/50 shadow-soft",children:[d.jsx(Ap,{children:d.jsx(Ep,{className:"font-display font-semibold",children:"Invite Others to Sign"})}),d.jsxs(_c,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ni,{placeholder:"Signer's Name",value:s,onChange:c=>o(c.target.value)}),d.jsx(Ni,{type:"email",placeholder:"Signer's Email",value:r,onChange:c=>i(c.target.value)}),d.jsxs(Qe,{variant:"outline",className:"w-full",onClick:a,children:[d.jsx(qB,{className:"w-4 h-4 mr-2"})," Add Signer"]})]}),d.jsx("div",{className:"space-y-2",children:n.map(c=>d.jsxs("div",{className:"flex items-center justify-between bg-background/50 p-2 rounded-md text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:c.name}),d.jsx("p",{className:"text-muted-foreground",children:c.email})]}),d.jsx(Qe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(c.email),children:d.jsx(Xa,{className:"w-4 h-4"})})]},c.email))}),n.length>0&&d.jsxs(Qe,{className:"w-full",onClick:t,children:[d.jsx(xN,{className:"w-4 h-4 mr-2"}),"Send Invites"]})]})]})};function vC(){return vC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vC.apply(null,arguments)}function g1e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function v1e(n,e){if(n==null)return{};var t,r,i=g1e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Bn(n){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(n)}function y1e(n,e,t){return Object.defineProperty(n,"prototype",{writable:!1}),n}function w1e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function yC(n,e){return yC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},yC(n,e)}function b1e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&yC(n,e)}function u_(n){return u_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u_(n)}function iH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iH=function(){return!!n})()}function x1e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _1e(n,e){if(e&&(Bn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x1e(n)}function A1e(n){var e=iH();return function(){var t,r=u_(n);if(e){var i=u_(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return _1e(this,t)}}var sH={exports:{}},E1e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",S1e=E1e,C1e=S1e;function oH(){}function aH(){}aH.resetWarningCache=oH;var T1e=function(){function n(r,i,s,o,a,l){if(l!==C1e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:aH,resetWarningCache:oH};return t.PropTypes=t,t};sH.exports=T1e();var N1e=sH.exports;const Qo=C2(N1e);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bzier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bzier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function o1(n,e,t){this.x=n,this.y=e,this.time=t||new Date().getTime()}o1.prototype.velocityFrom=function(n){return this.time!==n.time?this.distanceTo(n)/(this.time-n.time):1};o1.prototype.distanceTo=function(n){return Math.sqrt(Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2))};o1.prototype.equals=function(n){return this.x===n.x&&this.y===n.y&&this.time===n.time};function n9(n,e,t,r){this.startPoint=n,this.control1=e,this.control2=t,this.endPoint=r}n9.prototype.length=function(){for(var n=10,e=0,t=void 0,r=void 0,i=0;i<=n;i+=1){var s=i/n,o=this._point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this._point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var l=o-t,c=a-r;e+=Math.sqrt(l*l+c*c)}t=o,r=a}return e};n9.prototype._point=function(n,e,t,r,i){return e*(1-n)*(1-n)*(1-n)+3*t*(1-n)*(1-n)*n+3*r*(1-n)*n*n+i*n*n*n};function k1e(n,e,t){var r,i,s,o=null,a=0;t||(t={});var l=function(){a=t.leading===!1?0:Date.now(),o=null,s=n.apply(r,i),o||(r=i=null)};return function(){var c=Date.now();!a&&t.leading===!1&&(a=c);var u=e-(c-a);return r=this,i=arguments,u<=0||u>e?(o&&(clearTimeout(o),o=null),a=c,s=n.apply(r,i),o||(r=i=null)):!o&&t.trailing!==!1&&(o=setTimeout(l,u)),s}}function sr(n,e){var t=this,r=e||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=k1e(sr.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=sr.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=n,this._ctx=n.getContext("2d"),this.clear(),this._handleMouseDown=function(i){i.which===1&&(t._mouseButtonDown=!0,t._strokeBegin(i))},this._handleMouseMove=function(i){t._mouseButtonDown&&t._strokeMoveUpdate(i)},this._handleMouseUp=function(i){i.which===1&&t._mouseButtonDown&&(t._mouseButtonDown=!1,t._strokeEnd(i))},this._handleTouchStart=function(i){if(i.targetTouches.length===1){var s=i.changedTouches[0];t._strokeBegin(s)}},this._handleTouchMove=function(i){i.preventDefault();var s=i.targetTouches[0];t._strokeMoveUpdate(s)},this._handleTouchEnd=function(i){var s=i.target===t._canvas;s&&(i.preventDefault(),t._strokeEnd(i))},this.on()}sr.prototype.clear=function(){var n=this._ctx,e=this._canvas;n.fillStyle=this.backgroundColor,n.clearRect(0,0,e.width,e.height),n.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0};sr.prototype.fromDataURL=function(n){var e=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=new Image,i=t.ratio||window.devicePixelRatio||1,s=t.width||this._canvas.width/i,o=t.height||this._canvas.height/i;this._reset(),r.src=n,r.onload=function(){e._ctx.drawImage(r,0,0,s,o)},this._isEmpty=!1};sr.prototype.toDataURL=function(n){var e;switch(n){case"image/svg+xml":return this._toSVG();default:for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return(e=this._canvas).toDataURL.apply(e,[n].concat(r))}};sr.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};sr.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};sr.prototype.isEmpty=function(){return this._isEmpty};sr.prototype._strokeBegin=function(n){this._data.push([]),this._reset(),this._strokeUpdate(n),typeof this.onBegin=="function"&&this.onBegin(n)};sr.prototype._strokeUpdate=function(n){var e=n.clientX,t=n.clientY,r=this._createPoint(e,t),i=this._data[this._data.length-1],s=i&&i[i.length-1],o=s&&r.distanceTo(s)<this.minDistance;if(!(s&&o)){var a=this._addPoint(r),l=a.curve,c=a.widths;l&&c&&this._drawCurve(l,c.start,c.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}};sr.prototype._strokeEnd=function(n){var e=this.points.length>2,t=this.points[0];if(!e&&t&&this._drawDot(t),t){var r=this._data[this._data.length-1],i=r[r.length-1];t.equals(i)||r.push({x:t.x,y:t.y,time:t.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(n)};sr.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};sr.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};sr.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};sr.prototype._createPoint=function(n,e,t){var r=this._canvas.getBoundingClientRect();return new o1(n-r.left,e-r.top,t||new Date().getTime())};sr.prototype._addPoint=function(n){var e=this.points,t=void 0;if(e.push(n),e.length>2){e.length===3&&e.unshift(e[0]),t=this._calculateCurveControlPoints(e[0],e[1],e[2]);var r=t.c2;t=this._calculateCurveControlPoints(e[1],e[2],e[3]);var i=t.c1,s=new n9(e[1],r,i,e[2]),o=this._calculateCurveWidths(s);return e.shift(),{curve:s,widths:o}}return{}};sr.prototype._calculateCurveControlPoints=function(n,e,t){var r=n.x-e.x,i=n.y-e.y,s=e.x-t.x,o=e.y-t.y,a={x:(n.x+e.x)/2,y:(n.y+e.y)/2},l={x:(e.x+t.x)/2,y:(e.y+t.y)/2},c=Math.sqrt(r*r+i*i),u=Math.sqrt(s*s+o*o),h=a.x-l.x,p=a.y-l.y,f=u/(c+u),b={x:l.x+h*f,y:l.y+p*f},w=e.x-b.x,A=e.y-b.y;return{c1:new o1(a.x+w,a.y+A),c2:new o1(l.x+w,l.y+A)}};sr.prototype._calculateCurveWidths=function(n){var e=n.startPoint,t=n.endPoint,r={start:null,end:null},i=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(i);return r.start=this._lastWidth,r.end=s,this._lastVelocity=i,this._lastWidth=s,r};sr.prototype._strokeWidth=function(n){return Math.max(this.maxWidth/(n+1),this.minWidth)};sr.prototype._drawPoint=function(n,e,t){var r=this._ctx;r.moveTo(n,e),r.arc(n,e,t,0,2*Math.PI,!1),this._isEmpty=!1};sr.prototype._drawCurve=function(n,e,t){var r=this._ctx,i=t-e,s=Math.floor(n.length());r.beginPath();for(var o=0;o<s;o+=1){var a=o/s,l=a*a,c=l*a,u=1-a,h=u*u,p=h*u,f=p*n.startPoint.x;f+=3*h*a*n.control1.x,f+=3*u*l*n.control2.x,f+=c*n.endPoint.x;var b=p*n.startPoint.y;b+=3*h*a*n.control1.y,b+=3*u*l*n.control2.y,b+=c*n.endPoint.y;var w=e+c*i;this._drawPoint(f,b,w)}r.closePath(),r.fill()};sr.prototype._drawDot=function(n){var e=this._ctx,t=typeof this.dotSize=="function"?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(n.x,n.y,t),e.closePath(),e.fill()};sr.prototype._fromData=function(n,e,t){for(var r=0;r<n.length;r+=1){var i=n[r];if(i.length>1)for(var s=0;s<i.length;s+=1){var o=i[s],a=new o1(o.x,o.y,o.time),l=o.color;if(s===0)this.penColor=l,this._reset(),this._addPoint(a);else if(s!==i.length-1){var c=this._addPoint(a),u=c.curve,h=c.widths;u&&h&&e(u,h,l)}}else{this._reset();var p=i[0];t(p)}}};sr.prototype._toSVG=function(){var n=this,e=this._data,t=this._canvas,r=Math.max(window.devicePixelRatio||1,1),i=0,s=0,o=t.width/r,a=t.height/r,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttributeNS(null,"width",t.width),l.setAttributeNS(null,"height",t.height),this._fromData(e,function(x,E,S){var T=document.createElement("path");if(!isNaN(x.control1.x)&&!isNaN(x.control1.y)&&!isNaN(x.control2.x)&&!isNaN(x.control2.y)){var B="M "+x.startPoint.x.toFixed(3)+","+x.startPoint.y.toFixed(3)+" "+("C "+x.control1.x.toFixed(3)+","+x.control1.y.toFixed(3)+" ")+(x.control2.x.toFixed(3)+","+x.control2.y.toFixed(3)+" ")+(x.endPoint.x.toFixed(3)+","+x.endPoint.y.toFixed(3));T.setAttribute("d",B),T.setAttribute("stroke-width",(E.end*2.25).toFixed(3)),T.setAttribute("stroke",S),T.setAttribute("fill","none"),T.setAttribute("stroke-linecap","round"),l.appendChild(T)}},function(x){var E=document.createElement("circle"),S=typeof n.dotSize=="function"?n.dotSize():n.dotSize;E.setAttribute("r",S),E.setAttribute("cx",x.x),E.setAttribute("cy",x.y),E.setAttribute("fill",x.color),l.appendChild(E)});var c="data:image/svg+xml;base64,",u='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+i+" "+s+" "+o+" "+a+'"')+(' width="'+o+'"')+(' height="'+a+'"')+">",h=l.innerHTML;if(h===void 0){var p=document.createElement("dummy"),f=l.childNodes;p.innerHTML="";for(var b=0;b<f.length;b+=1)p.appendChild(f[b].cloneNode(!0));h=p.innerHTML}var w="</svg>",A=u+h+w;return c+btoa(A)};sr.prototype.fromData=function(n){var e=this;this.clear(),this._fromData(n,function(t,r){return e._drawCurve(t,r.start,r.end)},function(t){return e._drawDot(t)}),this._data=n};sr.prototype.toData=function(){return this._data};var lH={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(wX,function(){return function(t){function r(s){if(i[s])return i[s].exports;var o=i[s]={exports:{},id:s,loaded:!1};return t[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var i={};return r.m=t,r.c=i,r.p="",r(0)}([function(t,r){function i(c){var u=c.getContext("2d"),h=c.width,p=c.height,f=u.getImageData(0,0,h,p).data,b=a(!0,h,p,f),w=a(!1,h,p,f),A=l(!0,h,p,f),x=l(!1,h,p,f),E=x-A+1,S=w-b+1,T=u.getImageData(A,b,E,S);return c.width=E,c.height=S,u.clearRect(0,0,E,S),u.putImageData(T,0,0),c}function s(c,u,h,p){return{red:p[4*(h*u+c)],green:p[4*(h*u+c)+1],blue:p[4*(h*u+c)+2],alpha:p[4*(h*u+c)+3]}}function o(c,u,h,p){return s(c,u,h,p).alpha}function a(c,u,h,p){for(var f=c?1:-1,b=c?0:h-1,w=b;c?w<h:w>-1;w+=f)for(var A=0;A<u;A++)if(o(A,w,u,p))return w;return null}function l(c,u,h,p){for(var f=c?1:-1,b=c?0:u-1,w=b;c?w<u:w>-1;w+=f)for(var A=0;A<h;A++)if(o(w,A,u,p))return w;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i}])})})(lH);var I1e=lH.exports;const P1e=C2(I1e);var R1e=["canvasProps","clearOnResize"],W6=function(n){b1e(t,n);var e=A1e(t);function t(){var r;w1e(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r.staticThis=r.constructor,r._sigPad=null,r._canvas=null,r.setRef=function(a){r._canvas=a,r._canvas===null&&(r._sigPad=null)},r._excludeOurProps=function(){var a=r.props;a.canvasProps,a.clearOnResize;var l=v1e(a,R1e);return l},r.componentDidMount=function(){var a=r.getCanvas();r._sigPad=new sr(a,r._excludeOurProps()),r._resizeCanvas(),r.on()},r.componentWillUnmount=function(){r.off()},r.componentDidUpdate=function(){Object.assign(r._sigPad,r._excludeOurProps())},r.getCanvas=function(){if(r._canvas===null)throw r.staticThis.refNullError;return r._canvas},r.getTrimmedCanvas=function(){var a=r.getCanvas(),l=document.createElement("canvas");return l.width=a.width,l.height=a.height,l.getContext("2d").drawImage(a,0,0),P1e(l)},r.getSignaturePad=function(){if(r._sigPad===null)throw r.staticThis.refNullError;return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var a,l,c=(a=r.props.canvasProps)!==null&&a!==void 0?a:{},u=c.width,h=c.height;if(!(typeof u<"u"&&typeof h<"u")){var p=r.getCanvas(),f=Math.max((l=window.devicePixelRatio)!==null&&l!==void 0?l:1,1);typeof u>"u"&&(p.width=p.offsetWidth*f),typeof h>"u"&&(p.height=p.offsetHeight*f),p.getContext("2d").scale(f,f),r.clear()}},r.render=function(){var a=r.props.canvasProps;return We.createElement("canvas",vC({ref:r.setRef},a))},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r.getSignaturePad().on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r.getSignaturePad().off()},r.clear=function(){return r.getSignaturePad().clear()},r.isEmpty=function(){return r.getSignaturePad().isEmpty()},r.fromDataURL=function(a,l){return r.getSignaturePad().fromDataURL(a,l)},r.toDataURL=function(a,l){return r.getSignaturePad().toDataURL(a,l)},r.fromData=function(a){return r.getSignaturePad().fromData(a)},r.toData=function(){return r.getSignaturePad().toData()},r}return y1e(t)}(D.Component);W6.propTypes={velocityFilterWeight:Qo.number,minWidth:Qo.number,maxWidth:Qo.number,minDistance:Qo.number,dotSize:Qo.oneOfType([Qo.number,Qo.func]),penColor:Qo.string,throttle:Qo.number,onEnd:Qo.func,onBegin:Qo.func,canvasProps:Qo.object,clearOnResize:Qo.bool};W6.defaultProps={clearOnResize:!0};W6.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");var fM=!1,Sp,wC,bC,A4,E4,cH,S4,xC,_C,AC,uH,EC,SC,dH,hH;function mo(){if(!fM){fM=!0;var n=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(n),t=/(Mac OS X)|(Windows)|(Linux)/.exec(n);if(EC=/\b(iPhone|iP[ao]d)/.exec(n),SC=/\b(iP[ao]d)/.exec(n),AC=/Android/i.exec(n),dH=/FBAN\/\w+;/i.exec(n),hH=/Mobile/i.exec(n),uH=!!/Win64/.exec(n),e){Sp=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Sp&&document&&document.documentMode&&(Sp=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(n);cH=r?parseFloat(r[1])+4:Sp,wC=e[2]?parseFloat(e[2]):NaN,bC=e[3]?parseFloat(e[3]):NaN,A4=e[4]?parseFloat(e[4]):NaN,A4?(e=/(?:Chrome\/(\d+\.\d+))/.exec(n),E4=e&&e[1]?parseFloat(e[1]):NaN):E4=NaN}else Sp=wC=bC=E4=A4=NaN;if(t){if(t[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(n);S4=i?parseFloat(i[1].replace("_",".")):!0}else S4=!1;xC=!!t[2],_C=!!t[3]}else S4=xC=_C=!1}}var CC={ie:function(){return mo()||Sp},ieCompatibilityMode:function(){return mo()||cH>Sp},ie64:function(){return CC.ie()&&uH},firefox:function(){return mo()||wC},opera:function(){return mo()||bC},webkit:function(){return mo()||A4},safari:function(){return CC.webkit()},chrome:function(){return mo()||E4},windows:function(){return mo()||xC},osx:function(){return mo()||S4},linux:function(){return mo()||_C},iphone:function(){return mo()||EC},mobile:function(){return mo()||EC||SC||AC||hH},nativeApp:function(){return mo()||dH},android:function(){return mo()||AC},ipad:function(){return mo()||SC}},L1e=CC,Ix=!!(typeof window<"u"&&window.document&&window.document.createElement),M1e={canUseDOM:Ix,canUseWorkers:typeof Worker<"u",canUseEventListeners:Ix&&!!(window.addEventListener||window.attachEvent),canUseViewport:Ix&&!!window.screen,isInWorker:!Ix},D1e=M1e,fH=D1e,pH;fH.canUseDOM&&(pH=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function j1e(n,e){if(!fH.canUseDOM||e&&!("addEventListener"in document))return!1;var t="on"+n,r=t in document;if(!r){var i=document.createElement("div");i.setAttribute(t,"return;"),r=typeof i[t]=="function"}return!r&&pH&&n==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var O1e=j1e,F1e=L1e,B1e=O1e,pM=10,mM=40,gM=800;function mH(n){var e=0,t=0,r=0,i=0;return"detail"in n&&(t=n.detail),"wheelDelta"in n&&(t=-n.wheelDelta/120),"wheelDeltaY"in n&&(t=-n.wheelDeltaY/120),"wheelDeltaX"in n&&(e=-n.wheelDeltaX/120),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(e=t,t=0),r=e*pM,i=t*pM,"deltaY"in n&&(i=n.deltaY),"deltaX"in n&&(r=n.deltaX),(r||i)&&n.deltaMode&&(n.deltaMode==1?(r*=mM,i*=mM):(r*=gM,i*=gM)),r&&!e&&(e=r<1?-1:1),i&&!t&&(t=i<1?-1:1),{spinX:e,spinY:t,pixelX:r,pixelY:i}}mH.getEventType=function(){return F1e.firefox()?"DOMMouseScroll":B1e("wheel")?"wheel":"mousewheel"};var U1e=mH,V1e=U1e;const z1e=C2(V1e);function $1e(n,e,t,r,i,s){s===void 0&&(s=0);var o=v2(n,e,s),a=o.width,l=o.height,c=Math.min(a,t),u=Math.min(l,r);return c>u*i?{width:u*i,height:u}:{width:c,height:c/i}}function q1e(n){return n.width>n.height?n.width/n.naturalWidth:n.height/n.naturalHeight}function Av(n,e,t,r,i){i===void 0&&(i=0);var s=v2(e.width,e.height,i),o=s.width,a=s.height;return{x:vM(n.x,o,t.width,r),y:vM(n.y,a,t.height,r)}}function vM(n,e,t,r){var i=e*r/2-t/2;return G6(n,-i,i)}function yM(n,e){return Math.sqrt(Math.pow(n.y-e.y,2)+Math.pow(n.x-e.x,2))}function wM(n,e){return Math.atan2(e.y-n.y,e.x-n.x)*180/Math.PI}function H1e(n,e,t,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?W1e:G1e,l=v2(e.width,e.height,s),c=v2(e.naturalWidth,e.naturalHeight,s),u={x:a(100,((l.width-t.width/i)/2-n.x/i)/l.width*100),y:a(100,((l.height-t.height/i)/2-n.y/i)/l.height*100),width:a(100,t.width/l.width*100/i),height:a(100,t.height/l.height*100/i)},h=Math.round(a(c.width,u.width*c.width/100)),p=Math.round(a(c.height,u.height*c.height/100)),f=c.width>=c.height*r,b=f?{width:Math.round(p*r),height:p}:{width:h,height:Math.round(h/r)},w=cr(cr({},b),{x:Math.round(a(c.width-b.width,u.x*c.width/100)),y:Math.round(a(c.height-b.height,u.y*c.height/100))});return{croppedAreaPercentages:u,croppedAreaPixels:w}}function W1e(n,e){return Math.min(n,Math.max(0,e))}function G1e(n,e){return e}function K1e(n,e,t,r,i,s){var o=v2(e.width,e.height,t),a=G6(r.width/o.width*(100/n.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(n.x/100),y:a*o.height/2-r.height/2-o.height*a*(n.y/100)};return{crop:l,zoom:a}}function Y1e(n,e,t){var r=q1e(e);return t.height>t.width?t.height/(n.height*r):t.width/(n.width*r)}function X1e(n,e,t,r,i,s){t===void 0&&(t=0);var o=v2(e.naturalWidth,e.naturalHeight,t),a=G6(Y1e(n,e,r),i,s),l=r.height>r.width?r.height/n.height:r.width/n.width,c={x:((o.width-n.width)/2-n.x)*l,y:((o.height-n.height)/2-n.y)*l};return{crop:c,zoom:a}}function bM(n,e){return{x:(e.x+n.x)/2,y:(e.y+n.y)/2}}function Q1e(n){return n*Math.PI/180}function v2(n,e,t){var r=Q1e(t);return{width:Math.abs(Math.cos(r)*n)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*n)+Math.abs(Math.cos(r)*e)}}function G6(n,e,t){return Math.min(Math.max(n,e),t)}function Px(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.filter(function(t){return typeof t=="string"&&t.length>0}).join(" ").trim()}var J1e=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Z1e=1,ege=3,tge=1,nge=function(n){xse(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.cropperRef=D.createRef(),t.imageRef=D.createRef(),t.videoRef=D.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc=typeof document<"u"?document:null,t.currentWindow=typeof window<"u"?window:null,t.resizeObserver=null,t.previousCropSize=null,t.isInitialized=!1,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!t.containerRef)){var r=!0;t.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(r){return r.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturechange",t.onGestureChange),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var r=t.computeSizes();r&&(t.previousCropSize=r,t.emitCropData(),t.setInitialCrop(r),t.isInitialized=!0),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(r){if(t.props.initialCroppedAreaPercentages){var i=K1e(t.props.initialCroppedAreaPercentages,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),s=i.crop,o=i.zoom;t.props.onCropChange(s),t.props.onZoomChange&&t.props.onZoomChange(o)}else if(t.props.initialCroppedAreaPixels){var a=X1e(t.props.initialCroppedAreaPixels,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),s=a.crop,o=a.zoom;t.props.onCropChange(s),t.props.onZoomChange&&t.props.onZoomChange(o)}},t.computeSizes=function(){var r,i,s,o,a,l,c=t.imageRef.current||t.videoRef.current;if(c&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var u=t.containerRect.width/t.containerRect.height,h=((r=t.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=t.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,p=((s=t.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=t.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,f=c.offsetWidth<h||c.offsetHeight<p,b=h/p,w=void 0;if(f)switch(t.state.mediaObjectFit){default:case"contain":w=u>b?{width:t.containerRect.height*b,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/b};break;case"horizontal-cover":w={width:t.containerRect.width,height:t.containerRect.width/b};break;case"vertical-cover":w={width:t.containerRect.height*b,height:t.containerRect.height};break}else w={width:c.offsetWidth,height:c.offsetHeight};t.mediaSize=cr(cr({},w),{naturalWidth:h,naturalHeight:p}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var A=t.props.cropSize?t.props.cropSize:$1e(t.mediaSize.width,t.mediaSize.height,t.containerRect.width,t.containerRect.height,t.props.aspect,t.props.rotation);return(((a=t.state.cropSize)===null||a===void 0?void 0:a.height)!==A.height||((l=t.state.cropSize)===null||l===void 0?void 0:l.width)!==A.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(A),t.setState({cropSize:A},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(A),A}},t.saveContainerPosition=function(){if(t.containerRef){var r=t.containerRef.getBoundingClientRect();t.containerPosition={x:r.left,y:r.top}}},t.onMouseDown=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(e.getMousePoint(r)))},t.onMouseMove=function(r){return t.onDrag(e.getMousePoint(r))},t.onScroll=function(r){t.currentDoc&&(r.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(r){t.currentDoc&&(t.isTouching=!0,!(t.props.onTouchRequest&&!t.props.onTouchRequest(r))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),r.touches.length===2?t.onPinchStart(r):r.touches.length===1&&t.onDragStart(e.getTouchPoint(r.touches[0]))))},t.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?t.onPinchMove(r):r.touches.length===1&&t.onDrag(e.getTouchPoint(r.touches[0]))},t.onGestureStart=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureChange),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureChange=function(r){if(r.preventDefault(),!t.isTouching){var i=e.getMousePoint(r),s=t.gestureZoomStart-1+r.scale;if(t.setNewZoom(s,i,{shouldUpdatePosition:!0}),t.props.onRotationChange){var o=t.gestureRotationStart+r.rotation;t.props.onRotationChange(o)}}},t.onGestureEnd=function(r){t.cleanEvents()},t.onDragStart=function(r){var i,s,o=r.x,a=r.y;t.dragStartPosition={x:o,y:a},t.dragStartCrop=cr({},t.props.crop),(s=(i=t.props).onInteractionStart)===null||s===void 0||s.call(i)},t.onDrag=function(r){var i=r.x,s=r.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&!(i===void 0||s===void 0)){var o=i-t.dragStartPosition.x,a=s-t.dragStartPosition.y,l={x:t.dragStartCrop.x+o,y:t.dragStartCrop.y+a},c=t.props.restrictPosition?Av(l,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):l;t.props.onCropChange(c)}}))},t.onDragStopped=function(){var r,i;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),(i=(r=t.props).onInteractionEnd)===null||i===void 0||i.call(r)},t.onWheel=function(r){if(t.currentWindow&&!(t.props.onWheelRequest&&!t.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=z1e(r).pixelY,o=t.props.zoom-s*t.props.zoomSpeed/200;t.setNewZoom(o,i,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=t.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=t.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},t.getPointOnContainer=function(r,i){var s=r.x,o=r.y;if(!t.containerRect)throw new Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(s-i.x),y:t.containerRect.height/2-(o-i.y)}},t.getPointOnMedia=function(r){var i=r.x,s=r.y,o=t.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},t.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!t.state.cropSize||!t.props.onZoomChange)){var c=G6(r,t.props.minZoom,t.props.maxZoom);if(l){var u=t.getPointOnContainer(i,t.containerPosition),h=t.getPointOnMedia(u),p={x:h.x*c-u.x,y:h.y*c-u.y},f=t.props.restrictPosition?Av(p,t.mediaSize,t.state.cropSize,c,t.props.rotation):p;t.props.onCropChange(f)}t.props.onZoomChange(c)}},t.getCropData=function(){if(!t.state.cropSize)return null;var r=t.props.restrictPosition?Av(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;return H1e(r,t.mediaSize,t.state.cropSize,t.getAspect(),t.props.zoom,t.props.rotation,t.props.restrictPosition)},t.emitCropData=function(){var r=t.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(i,s),t.props.onCropAreaChange&&t.props.onCropAreaChange(i,s)}},t.emitCropAreaChange=function(){var r=t.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(i,s)}},t.recomputeCropPosition=function(){var r,i;if(t.state.cropSize){var s=t.props.crop;if(t.isInitialized&&(!((r=t.previousCropSize)===null||r===void 0)&&r.width)&&(!((i=t.previousCropSize)===null||i===void 0)&&i.height)){var o=Math.abs(t.previousCropSize.width-t.state.cropSize.width)>1e-6||Math.abs(t.previousCropSize.height-t.state.cropSize.height)>1e-6;if(o){var a=t.state.cropSize.width/t.previousCropSize.width,l=t.state.cropSize.height/t.previousCropSize.height;s={x:t.props.crop.x*a,y:t.props.crop.y*l}}}var c=t.props.restrictPosition?Av(s,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):s;t.previousCropSize=t.state.cropSize,t.props.onCropChange(c),t.emitCropData()}},t.onKeyDown=function(r){var i,s,o=t.props,a=o.crop,l=o.onCropChange,c=o.keyboardStep,u=o.zoom,h=o.rotation,p=c;if(t.state.cropSize){r.shiftKey&&(p*=.2);var f=cr({},a);switch(r.key){case"ArrowUp":f.y-=p,r.preventDefault();break;case"ArrowDown":f.y+=p,r.preventDefault();break;case"ArrowLeft":f.x-=p,r.preventDefault();break;case"ArrowRight":f.x+=p,r.preventDefault();break;default:return}t.props.restrictPosition&&(f=Av(f,t.mediaSize,t.state.cropSize,u,h)),r.repeat||(s=(i=t.props).onInteractionStart)===null||s===void 0||s.call(i),l(f)}},t.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}t.emitCropData(),(s=(i=t.props).onInteractionEnd)===null||s===void 0||s.call(i)},t}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=J1e,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var t,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(t){var r,i,s,o,a,l,c,u,h;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect?this.computeSizes():t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():((r=t.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=t.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=t.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=t.crop)===null||c===void 0?void 0:c.y)!==((u=this.props.crop)===null||u===void 0?void 0:u.y))&&this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var p=this.getObjectFit();p!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:p},this.computeSizes)},e.prototype.getAspect=function(){var t=this.props,r=t.cropSize,i=t.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var t,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,u=l/c;return u<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(t){var r=e.getTouchPoint(t.touches[0]),i=e.getTouchPoint(t.touches[1]);this.lastPinchDistance=yM(r,i),this.lastPinchRotation=wM(r,i),this.onDragStart(bM(r,i))},e.prototype.onPinchMove=function(t){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(t.touches[0]),s=e.getTouchPoint(t.touches[1]),o=bM(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=yM(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var c=wM(i,s),u=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(u),r.lastPinchRotation=c})}},e.prototype.render=function(){var t=this,r,i=this.props,s=i.image,o=i.video,a=i.mediaProps,l=i.cropperProps,c=i.transform,u=i.crop,h=u.x,p=u.y,f=i.rotation,b=i.zoom,w=i.cropShape,A=i.showGrid,x=i.roundCropAreaPixels,E=i.style,S=E.containerStyle,T=E.cropAreaStyle,B=E.mediaStyle,V=i.classes,M=V.containerClassName,N=V.cropAreaClassName,P=V.mediaClassName,O=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return D.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(j){return t.containerRef=j},"data-testid":"container",style:S,className:Px("reactEasyCrop_Container",M)},s?D.createElement("img",cr({alt:"",className:Px("reactEasyCrop_Image",O==="contain"&&"reactEasyCrop_Contain",O==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",O==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},a,{src:s,ref:this.imageRef,style:cr(cr({},B),{transform:c||"translate(".concat(h,"px, ").concat(p,"px) rotate(").concat(f,"deg) scale(").concat(b,")")}),onLoad:this.onMediaLoad})):o&&D.createElement("video",cr({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Px("reactEasyCrop_Video",O==="contain"&&"reactEasyCrop_Contain",O==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",O==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:cr(cr({},B),{transform:c||"translate(".concat(h,"px, ").concat(p,"px) rotate(").concat(f,"deg) scale(").concat(b,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(k){return D.createElement("source",cr({key:k.src},k))})),this.state.cropSize&&D.createElement("div",cr({ref:this.cropperRef,style:cr(cr({},T),{width:x?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:x?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Px("reactEasyCrop_CropArea",w==="round"&&"reactEasyCrop_CropAreaRound",A&&"reactEasyCrop_CropAreaGrid",N)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:ege,minZoom:Z1e,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:tge},e.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e}(D.Component),Zl=Uint8Array,ga=Uint16Array,r9=Int32Array,i9=new Zl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s9=new Zl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xM=new Zl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gH=function(n,e){for(var t=new ga(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new r9(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},vH=gH(i9,2),rge=vH.b,TC=vH.r;rge[28]=258,TC[258]=28;var ige=gH(s9,0),_M=ige.r,NC=new ga(32768);for(var mr=0;mr<32768;++mr){var ph=(mr&43690)>>1|(mr&21845)<<1;ph=(ph&52428)>>2|(ph&13107)<<2,ph=(ph&61680)>>4|(ph&3855)<<4,NC[mr]=((ph&65280)>>8|(ph&255)<<8)>>1}var xy=function(n,e,t){for(var r=n.length,i=0,s=new ga(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new ga(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new ga(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],h=o[n[i]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)a[NC[h]>>l]=c}else for(a=new ga(r),i=0;i<r;++i)n[i]&&(a[i]=NC[o[n[i]-1]++]>>15-n[i]);return a},a1=new Zl(288);for(var mr=0;mr<144;++mr)a1[mr]=8;for(var mr=144;mr<256;++mr)a1[mr]=9;for(var mr=256;mr<280;++mr)a1[mr]=7;for(var mr=280;mr<288;++mr)a1[mr]=8;var d_=new Zl(32);for(var mr=0;mr<32;++mr)d_[mr]=5;var sge=xy(a1,9,0),oge=xy(d_,5,0),yH=function(n){return(n+7)/8|0},age=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Zl(n.subarray(e,t))},Tu=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Ev=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},ME=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:bH,l:0};if(i==1){var o=new Zl(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(B,V){return B.f-V.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[h].f?c++:h++],l=t[c!=u&&t[c].f<t[h].f?c++:h++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var f=new ga(p+1),b=kC(t[u-1],f,0);if(b>e){var r=0,w=0,A=b-e,x=1<<A;for(s.sort(function(V,M){return f[M.s]-f[V.s]||V.f-M.f});r<i;++r){var E=s[r].s;if(f[E]>e)w+=x-(1<<b-f[E]),f[E]=e;else break}for(w>>=A;w>0;){var S=s[r].s;f[S]<e?w-=1<<e-f[S]++-1:++r}for(;r>=0&&w;--r){var T=s[r].s;f[T]==e&&(--f[T],++w)}b=e}return{t:new Zl(f),l:b}},kC=function(n,e,t){return n.s==-1?Math.max(kC(n.l,e,t+1),kC(n.r,e,t+1)):e[n.s]=t},AM=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ga(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},Sv=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},wH=function(n,e,t){var r=t.length,i=yH(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},EM=function(n,e,t,r,i,s,o,a,l,c,u){Tu(e,u++,t),++i[256];for(var h=ME(i,15),p=h.t,f=h.l,b=ME(s,15),w=b.t,A=b.l,x=AM(p),E=x.c,S=x.n,T=AM(w),B=T.c,V=T.n,M=new ga(19),N=0;N<E.length;++N)++M[E[N]&31];for(var N=0;N<B.length;++N)++M[B[N]&31];for(var P=ME(M,7),O=P.t,k=P.l,j=19;j>4&&!O[xM[j-1]];--j);var L=c+5<<3,W=Sv(i,a1)+Sv(s,d_)+o,ue=Sv(i,p)+Sv(s,w)+o+14+3*j+Sv(M,O)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&L<=W&&L<=ue)return wH(e,u,n.subarray(l,l+c));var de,le,J,re;if(Tu(e,u,1+(ue<W)),u+=2,ue<W){de=xy(p,f,0),le=p,J=xy(w,A,0),re=w;var ge=xy(O,k,0);Tu(e,u,S-257),Tu(e,u+5,V-1),Tu(e,u+10,j-4),u+=14;for(var N=0;N<j;++N)Tu(e,u+3*N,O[xM[N]]);u+=3*j;for(var ye=[E,B],z=0;z<2;++z)for(var Q=ye[z],N=0;N<Q.length;++N){var ie=Q[N]&31;Tu(e,u,ge[ie]),u+=O[ie],ie>15&&(Tu(e,u,Q[N]>>5&127),u+=Q[N]>>12)}}else de=sge,le=a1,J=oge,re=d_;for(var N=0;N<a;++N){var ce=r[N];if(ce>255){var ie=ce>>18&31;Ev(e,u,de[ie+257]),u+=le[ie+257],ie>7&&(Tu(e,u,ce>>23&31),u+=i9[ie]);var fe=ce&31;Ev(e,u,J[fe]),u+=re[fe],fe>3&&(Ev(e,u,ce>>5&8191),u+=s9[fe])}else Ev(e,u,de[ce]),u+=le[ce]}return Ev(e,u,de[256]),u+le[256]},lge=new r9([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bH=new Zl(0),cge=function(n,e,t,r,i,s){var o=s.z||n.length,a=new Zl(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var h=lge[e-1],p=h>>13,f=h&8191,b=(1<<t)-1,w=s.p||new ga(32768),A=s.h||new ga(b+1),x=Math.ceil(t/3),E=2*x,S=function(De){return(n[De]^n[De+1]<<x^n[De+2]<<E)&b},T=new r9(25e3),B=new ga(288),V=new ga(32),M=0,N=0,P=s.i||0,O=0,k=s.w||0,j=0;P+2<o;++P){var L=S(P),W=P&32767,ue=A[L];if(w[W]=ue,A[L]=W,k<=P){var de=o-P;if((M>7e3||O>24576)&&(de>423||!c)){u=EM(n,l,0,T,B,V,N,O,j,P-j,u),O=M=N=0,j=P;for(var le=0;le<286;++le)B[le]=0;for(var le=0;le<30;++le)V[le]=0}var J=2,re=0,ge=f,ye=W-ue&32767;if(de>2&&L==S(P-ye))for(var z=Math.min(p,de)-1,Q=Math.min(32767,P),ie=Math.min(258,de);ye<=Q&&--ge&&W!=ue;){if(n[P+J]==n[P+J-ye]){for(var ce=0;ce<ie&&n[P+ce]==n[P+ce-ye];++ce);if(ce>J){if(J=ce,re=ye,ce>z)break;for(var fe=Math.min(ye,ce-2),he=0,le=0;le<fe;++le){var Ee=P-ye+le&32767,xe=w[Ee],Ae=Ee-xe&32767;Ae>he&&(he=Ae,ue=Ee)}}}W=ue,ue=w[W],ye+=W-ue&32767}if(re){T[O++]=268435456|TC[J]<<18|_M[re];var Fe=TC[J]&31,Ce=_M[re]&31;N+=i9[Fe]+s9[Ce],++B[257+Fe],++V[Ce],k=P+J,++M}else T[O++]=n[P],++B[n[P]]}}for(P=Math.max(P,k);P<o;++P)T[O++]=n[P],++B[n[P]];u=EM(n,l,c,T,B,V,N,O,j,P-j,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=A,s.p=w,s.i=P,s.w=k)}else{for(var P=s.w||0;P<o+c;P+=65535){var Ne=P+65535;Ne>=o&&(l[u/8|0]=c,Ne=o),u=wH(l,u+1,n.subarray(P,Ne))}s.i=o}return age(a,0,r+yH(u)+i)},xH=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},uge=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Zl(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return cge(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},_H=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},dge=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=xH();i.p(e.dictionary),_H(n,2,i.d())}};function IC(n,e){e||(e={});var t=xH();t.p(n);var r=uge(n,e,e.dictionary?6:2,4);return dge(r,e),_H(r,r.length-4,t.d()),r}var hge=typeof TextDecoder<"u"&&new TextDecoder,fge=0;try{hge.decode(bH,{stream:!0}),fge=1}catch{}function pge(n){if(Array.isArray(n))return n}function mge(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function SM(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function gge(n,e){if(n){if(typeof n=="string")return SM(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?SM(n,e):void 0}}function vge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CM(n,e){return pge(n)||mge(n,e)||gge(n,e)||vge()}function TM(n,e="utf8"){return new TextDecoder(e).decode(n)}const yge=new TextEncoder;function wge(n){return yge.encode(n)}const bge=1024*8,xge=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),DE={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class o9{constructor(e=bge,t={}){nt(this,"buffer");nt(this,"byteLength");nt(this,"byteOffset");nt(this,"length");nt(this,"offset");nt(this,"lastWrittenByte");nt(this,"littleEndian");nt(this,"_data");nt(this,"_mark");nt(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof o9)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=DE[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===xge&&t!=="uint8"&&t!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new DE[t](a.buffer);return this.offset+=r,l.reverse(),l}const o=new DE[t](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return TM(this.readBytes(e))}decodeText(e=1,t="utf8"){return TM(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(wge(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const _ge=4,NM=0,kM=1,Age=2;function z2(n){let e=n.length;for(;--e>=0;)n[e]=0}const Ege=0,AH=1,Sge=2,Cge=3,Tge=258,a9=29,Eb=256,y5=Eb+1+a9,Ug=30,l9=19,EH=2*y5+1,Dp=15,jE=16,Nge=7,c9=256,SH=16,CH=17,TH=18,PC=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),C4=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),kge=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),NH=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ige=512,Ou=new Array((y5+2)*2);z2(Ou);const _y=new Array(Ug*2);z2(_y);const w5=new Array(Ige);z2(w5);const b5=new Array(Tge-Cge+1);z2(b5);const u9=new Array(a9);z2(u9);const h_=new Array(Ug);z2(h_);function OE(n,e,t,r,i){this.static_tree=n,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=n&&n.length}let kH,IH,PH;function FE(n,e){this.dyn_tree=n,this.max_code=0,this.stat_desc=e}const RH=n=>n<256?w5[n]:w5[256+(n>>>7)],x5=(n,e)=>{n.pending_buf[n.pending++]=e&255,n.pending_buf[n.pending++]=e>>>8&255},ko=(n,e,t)=>{n.bi_valid>jE-t?(n.bi_buf|=e<<n.bi_valid&65535,x5(n,n.bi_buf),n.bi_buf=e>>jE-n.bi_valid,n.bi_valid+=t-jE):(n.bi_buf|=e<<n.bi_valid&65535,n.bi_valid+=t)},Hc=(n,e,t)=>{ko(n,t[e*2],t[e*2+1])},LH=(n,e)=>{let t=0;do t|=n&1,n>>>=1,t<<=1;while(--e>0);return t>>>1},Pge=n=>{n.bi_valid===16?(x5(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},Rge=(n,e)=>{const t=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,u,h,p,f,b,w=0;for(p=0;p<=Dp;p++)n.bl_count[p]=0;for(t[n.heap[n.heap_max]*2+1]=0,c=n.heap_max+1;c<EH;c++)u=n.heap[c],p=t[t[u*2+1]*2+1]+1,p>l&&(p=l,w++),t[u*2+1]=p,!(u>r)&&(n.bl_count[p]++,f=0,u>=a&&(f=o[u-a]),b=t[u*2],n.opt_len+=b*(p+f),s&&(n.static_len+=b*(i[u*2+1]+f)));if(w!==0){do{for(p=l-1;n.bl_count[p]===0;)p--;n.bl_count[p]--,n.bl_count[p+1]+=2,n.bl_count[l]--,w-=2}while(w>0);for(p=l;p!==0;p--)for(u=n.bl_count[p];u!==0;)h=n.heap[--c],!(h>r)&&(t[h*2+1]!==p&&(n.opt_len+=(p-t[h*2+1])*t[h*2],t[h*2+1]=p),u--)}},MH=(n,e,t)=>{const r=new Array(Dp+1);let i=0,s,o;for(s=1;s<=Dp;s++)i=i+t[s-1]<<1,r[s]=i;for(o=0;o<=e;o++){let a=n[o*2+1];a!==0&&(n[o*2]=LH(r[a]++,a))}},Lge=()=>{let n,e,t,r,i;const s=new Array(Dp+1);for(t=0,r=0;r<a9-1;r++)for(u9[r]=t,n=0;n<1<<PC[r];n++)b5[t++]=r;for(b5[t-1]=r,i=0,r=0;r<16;r++)for(h_[r]=i,n=0;n<1<<C4[r];n++)w5[i++]=r;for(i>>=7;r<Ug;r++)for(h_[r]=i<<7,n=0;n<1<<C4[r]-7;n++)w5[256+i++]=r;for(e=0;e<=Dp;e++)s[e]=0;for(n=0;n<=143;)Ou[n*2+1]=8,n++,s[8]++;for(;n<=255;)Ou[n*2+1]=9,n++,s[9]++;for(;n<=279;)Ou[n*2+1]=7,n++,s[7]++;for(;n<=287;)Ou[n*2+1]=8,n++,s[8]++;for(MH(Ou,y5+1,s),n=0;n<Ug;n++)_y[n*2+1]=5,_y[n*2]=LH(n,5);kH=new OE(Ou,PC,Eb+1,y5,Dp),IH=new OE(_y,C4,0,Ug,Dp),PH=new OE(new Array(0),kge,0,l9,Nge)},DH=n=>{let e;for(e=0;e<y5;e++)n.dyn_ltree[e*2]=0;for(e=0;e<Ug;e++)n.dyn_dtree[e*2]=0;for(e=0;e<l9;e++)n.bl_tree[e*2]=0;n.dyn_ltree[c9*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},jH=n=>{n.bi_valid>8?x5(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},IM=(n,e,t,r)=>{const i=e*2,s=t*2;return n[i]<n[s]||n[i]===n[s]&&r[e]<=r[t]},BE=(n,e,t)=>{const r=n.heap[t];let i=t<<1;for(;i<=n.heap_len&&(i<n.heap_len&&IM(e,n.heap[i+1],n.heap[i],n.depth)&&i++,!IM(e,r,n.heap[i],n.depth));)n.heap[t]=n.heap[i],t=i,i<<=1;n.heap[t]=r},PM=(n,e,t)=>{let r,i,s=0,o,a;if(n.sym_next!==0)do r=n.pending_buf[n.sym_buf+s++]&255,r+=(n.pending_buf[n.sym_buf+s++]&255)<<8,i=n.pending_buf[n.sym_buf+s++],r===0?Hc(n,i,e):(o=b5[i],Hc(n,o+Eb+1,e),a=PC[o],a!==0&&(i-=u9[o],ko(n,i,a)),r--,o=RH(r),Hc(n,o,t),a=C4[o],a!==0&&(r-=h_[o],ko(n,r,a)));while(s<n.sym_next);Hc(n,c9,e)},RC=(n,e)=>{const t=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,l=-1,c;for(n.heap_len=0,n.heap_max=EH,o=0;o<s;o++)t[o*2]!==0?(n.heap[++n.heap_len]=l=o,n.depth[o]=0):t[o*2+1]=0;for(;n.heap_len<2;)c=n.heap[++n.heap_len]=l<2?++l:0,t[c*2]=1,n.depth[c]=0,n.opt_len--,i&&(n.static_len-=r[c*2+1]);for(e.max_code=l,o=n.heap_len>>1;o>=1;o--)BE(n,t,o);c=s;do o=n.heap[1],n.heap[1]=n.heap[n.heap_len--],BE(n,t,1),a=n.heap[1],n.heap[--n.heap_max]=o,n.heap[--n.heap_max]=a,t[c*2]=t[o*2]+t[a*2],n.depth[c]=(n.depth[o]>=n.depth[a]?n.depth[o]:n.depth[a])+1,t[o*2+1]=t[a*2+1]=c,n.heap[1]=c++,BE(n,t,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],Rge(n,e),MH(t,l,n.bl_count)},RM=(n,e,t)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),e[(t+1)*2+1]=65535,r=0;r<=t;r++)s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)&&(a<c?n.bl_tree[s*2]+=a:s!==0?(s!==i&&n.bl_tree[s*2]++,n.bl_tree[SH*2]++):a<=10?n.bl_tree[CH*2]++:n.bl_tree[TH*2]++,a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))},LM=(n,e,t)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),r=0;r<=t;r++)if(s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)){if(a<c)do Hc(n,s,n.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Hc(n,s,n.bl_tree),a--),Hc(n,SH,n.bl_tree),ko(n,a-3,2)):a<=10?(Hc(n,CH,n.bl_tree),ko(n,a-3,3)):(Hc(n,TH,n.bl_tree),ko(n,a-11,7));a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}},Mge=n=>{let e;for(RM(n,n.dyn_ltree,n.l_desc.max_code),RM(n,n.dyn_dtree,n.d_desc.max_code),RC(n,n.bl_desc),e=l9-1;e>=3&&n.bl_tree[NH[e]*2+1]===0;e--);return n.opt_len+=3*(e+1)+5+5+4,e},Dge=(n,e,t,r)=>{let i;for(ko(n,e-257,5),ko(n,t-1,5),ko(n,r-4,4),i=0;i<r;i++)ko(n,n.bl_tree[NH[i]*2+1],3);LM(n,n.dyn_ltree,e-1),LM(n,n.dyn_dtree,t-1)},jge=n=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&n.dyn_ltree[t*2]!==0)return NM;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return kM;for(t=32;t<Eb;t++)if(n.dyn_ltree[t*2]!==0)return kM;return NM};let MM=!1;const Oge=n=>{MM||(Lge(),MM=!0),n.l_desc=new FE(n.dyn_ltree,kH),n.d_desc=new FE(n.dyn_dtree,IH),n.bl_desc=new FE(n.bl_tree,PH),n.bi_buf=0,n.bi_valid=0,DH(n)},OH=(n,e,t,r)=>{ko(n,(Ege<<1)+(r?1:0),3),jH(n),x5(n,t),x5(n,~t),t&&n.pending_buf.set(n.window.subarray(e,e+t),n.pending),n.pending+=t},Fge=n=>{ko(n,AH<<1,3),Hc(n,c9,Ou),Pge(n)},Bge=(n,e,t,r)=>{let i,s,o=0;n.level>0?(n.strm.data_type===Age&&(n.strm.data_type=jge(n)),RC(n,n.l_desc),RC(n,n.d_desc),o=Mge(n),i=n.opt_len+3+7>>>3,s=n.static_len+3+7>>>3,s<=i&&(i=s)):i=s=t+5,t+4<=i&&e!==-1?OH(n,e,t,r):n.strategy===_ge||s===i?(ko(n,(AH<<1)+(r?1:0),3),PM(n,Ou,_y)):(ko(n,(Sge<<1)+(r?1:0),3),Dge(n,n.l_desc.max_code+1,n.d_desc.max_code+1,o+1),PM(n,n.dyn_ltree,n.dyn_dtree)),DH(n),r&&jH(n)},Uge=(n,e,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=e,n.pending_buf[n.sym_buf+n.sym_next++]=e>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,e===0?n.dyn_ltree[t*2]++:(n.matches++,e--,n.dyn_ltree[(b5[t]+Eb+1)*2]++,n.dyn_dtree[RH(e)*2]++),n.sym_next===n.sym_end);var Vge=Oge,zge=OH,$ge=Bge,qge=Uge,Hge=Fge,Wge={_tr_init:Vge,_tr_stored_block:zge,_tr_flush_block:$ge,_tr_tally:qge,_tr_align:Hge};const Gge=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var _5=Gge;const Kge=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},Yge=new Uint32Array(Kge()),Xge=(n,e,t,r)=>{const i=Yge,s=r+t;n^=-1;for(let o=r;o<s;o++)n=n>>>8^i[(n^e[o])&255];return n^-1};var zi=Xge,y2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Sb={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Qge,_tr_stored_block:LC,_tr_flush_block:Jge,_tr_tally:Nf,_tr_align:Zge}=Wge,{Z_NO_FLUSH:kf,Z_PARTIAL_FLUSH:e0e,Z_FULL_FLUSH:t0e,Z_FINISH:Qa,Z_BLOCK:DM,Z_OK:is,Z_STREAM_END:jM,Z_STREAM_ERROR:ru,Z_DATA_ERROR:n0e,Z_BUF_ERROR:UE,Z_DEFAULT_COMPRESSION:r0e,Z_FILTERED:i0e,Z_HUFFMAN_ONLY:Rx,Z_RLE:s0e,Z_FIXED:o0e,Z_DEFAULT_STRATEGY:a0e,Z_UNKNOWN:l0e,Z_DEFLATED:K6}=Sb,c0e=9,u0e=15,d0e=8,h0e=29,f0e=256,MC=f0e+1+h0e,p0e=30,m0e=19,g0e=2*MC+1,v0e=15,wn=3,ff=258,iu=ff+wn+1,y0e=32,w2=42,d9=57,DC=69,jC=73,OC=91,FC=103,jp=113,Vv=666,Js=1,$2=2,l1=3,q2=4,w0e=3,Op=(n,e)=>(n.msg=y2[e],e),OM=n=>n*2-(n>4?9:0),Th=n=>{let e=n.length;for(;--e>=0;)n[e]=0},b0e=n=>{let e,t,r,i=n.w_size;e=n.hash_size,r=e;do t=n.head[--r],n.head[r]=t>=i?t-i:0;while(--e);e=i,r=e;do t=n.prev[--r],n.prev[r]=t>=i?t-i:0;while(--e)};let x0e=(n,e,t)=>(e<<n.hash_shift^t)&n.hash_mask,If=x0e;const ea=n=>{const e=n.state;let t=e.pending;t>n.avail_out&&(t=n.avail_out),t!==0&&(n.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),n.next_out),n.next_out+=t,e.pending_out+=t,n.total_out+=t,n.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},va=(n,e)=>{Jge(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,e),n.block_start=n.strstart,ea(n.strm)},Ln=(n,e)=>{n.pending_buf[n.pending++]=e},Cv=(n,e)=>{n.pending_buf[n.pending++]=e>>>8&255,n.pending_buf[n.pending++]=e&255},BC=(n,e,t,r)=>{let i=n.avail_in;return i>r&&(i=r),i===0?0:(n.avail_in-=i,e.set(n.input.subarray(n.next_in,n.next_in+i),t),n.state.wrap===1?n.adler=_5(n.adler,e,i,t):n.state.wrap===2&&(n.adler=zi(n.adler,e,i,t)),n.next_in+=i,n.total_in+=i,i)},FH=(n,e)=>{let t=n.max_chain_length,r=n.strstart,i,s,o=n.prev_length,a=n.nice_match;const l=n.strstart>n.w_size-iu?n.strstart-(n.w_size-iu):0,c=n.window,u=n.w_mask,h=n.prev,p=n.strstart+ff;let f=c[r+o-1],b=c[r+o];n.prev_length>=n.good_match&&(t>>=2),a>n.lookahead&&(a=n.lookahead);do if(i=e,!(c[i+o]!==b||c[i+o-1]!==f||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<p);if(s=ff-(p-r),r=p-ff,s>o){if(n.match_start=e,o=s,s>=a)break;f=c[r+o-1],b=c[r+o]}}while((e=h[e&u])>l&&--t!==0);return o<=n.lookahead?o:n.lookahead},b2=n=>{const e=n.w_size;let t,r,i;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=e+(e-iu)&&(n.window.set(n.window.subarray(e,e+e-r),0),n.match_start-=e,n.strstart-=e,n.block_start-=e,n.insert>n.strstart&&(n.insert=n.strstart),b0e(n),r+=e),n.strm.avail_in===0)break;if(t=BC(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=t,n.lookahead+n.insert>=wn)for(i=n.strstart-n.insert,n.ins_h=n.window[i],n.ins_h=If(n,n.ins_h,n.window[i+1]);n.insert&&(n.ins_h=If(n,n.ins_h,n.window[i+wn-1]),n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,n.insert--,!(n.lookahead+n.insert<wn)););}while(n.lookahead<iu&&n.strm.avail_in!==0)},BH=(n,e)=>{let t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,r,i,s,o=0,a=n.strm.avail_in;do{if(r=65535,s=n.bi_valid+42>>3,n.strm.avail_out<s||(s=n.strm.avail_out-s,i=n.strstart-n.block_start,r>i+n.strm.avail_in&&(r=i+n.strm.avail_in),r>s&&(r=s),r<t&&(r===0&&e!==Qa||e===kf||r!==i+n.strm.avail_in)))break;o=e===Qa&&r===i+n.strm.avail_in?1:0,LC(n,0,0,o),n.pending_buf[n.pending-4]=r,n.pending_buf[n.pending-3]=r>>8,n.pending_buf[n.pending-2]=~r,n.pending_buf[n.pending-1]=~r>>8,ea(n.strm),i&&(i>r&&(i=r),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+i),n.strm.next_out),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i,n.block_start+=i,r-=i),r&&(BC(n.strm,n.strm.output,n.strm.next_out,r),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r)}while(o===0);return a-=n.strm.avail_in,a&&(a>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=a&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-a,n.strm.next_in),n.strstart),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),o?q2:e!==kf&&e!==Qa&&n.strm.avail_in===0&&n.strstart===n.block_start?$2:(s=n.window_size-n.strstart,n.strm.avail_in>s&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,s+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),s>n.strm.avail_in&&(s=n.strm.avail_in),s&&(BC(n.strm,n.window,n.strstart,s),n.strstart+=s,n.insert+=s>n.w_size-n.insert?n.w_size-n.insert:s),n.high_water<n.strstart&&(n.high_water=n.strstart),s=n.bi_valid+42>>3,s=n.pending_buf_size-s>65535?65535:n.pending_buf_size-s,t=s>n.w_size?n.w_size:s,i=n.strstart-n.block_start,(i>=t||(i||e===Qa)&&e!==kf&&n.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=e===Qa&&n.strm.avail_in===0&&r===i?1:0,LC(n,n.block_start,r,o),n.block_start+=r,ea(n.strm)),o?l1:Js)},VE=(n,e)=>{let t,r;for(;;){if(n.lookahead<iu){if(b2(n),n.lookahead<iu&&e===kf)return Js;if(n.lookahead===0)break}if(t=0,n.lookahead>=wn&&(n.ins_h=If(n,n.ins_h,n.window[n.strstart+wn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),t!==0&&n.strstart-t<=n.w_size-iu&&(n.match_length=FH(n,t)),n.match_length>=wn)if(r=Nf(n,n.strstart-n.match_start,n.match_length-wn),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=wn){n.match_length--;do n.strstart++,n.ins_h=If(n,n.ins_h,n.window[n.strstart+wn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=If(n,n.ins_h,n.window[n.strstart+1]);else r=Nf(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(va(n,!1),n.strm.avail_out===0))return Js}return n.insert=n.strstart<wn-1?n.strstart:wn-1,e===Qa?(va(n,!0),n.strm.avail_out===0?l1:q2):n.sym_next&&(va(n,!1),n.strm.avail_out===0)?Js:$2},G1=(n,e)=>{let t,r,i;for(;;){if(n.lookahead<iu){if(b2(n),n.lookahead<iu&&e===kf)return Js;if(n.lookahead===0)break}if(t=0,n.lookahead>=wn&&(n.ins_h=If(n,n.ins_h,n.window[n.strstart+wn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=wn-1,t!==0&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-iu&&(n.match_length=FH(n,t),n.match_length<=5&&(n.strategy===i0e||n.match_length===wn&&n.strstart-n.match_start>4096)&&(n.match_length=wn-1)),n.prev_length>=wn&&n.match_length<=n.prev_length){i=n.strstart+n.lookahead-wn,r=Nf(n,n.strstart-1-n.prev_match,n.prev_length-wn),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=i&&(n.ins_h=If(n,n.ins_h,n.window[n.strstart+wn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=wn-1,n.strstart++,r&&(va(n,!1),n.strm.avail_out===0))return Js}else if(n.match_available){if(r=Nf(n,0,n.window[n.strstart-1]),r&&va(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return Js}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=Nf(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<wn-1?n.strstart:wn-1,e===Qa?(va(n,!0),n.strm.avail_out===0?l1:q2):n.sym_next&&(va(n,!1),n.strm.avail_out===0)?Js:$2},_0e=(n,e)=>{let t,r,i,s;const o=n.window;for(;;){if(n.lookahead<=ff){if(b2(n),n.lookahead<=ff&&e===kf)return Js;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=wn&&n.strstart>0&&(i=n.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=n.strstart+ff;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);n.match_length=ff-(s-i),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=wn?(t=Nf(n,1,n.match_length-wn),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=Nf(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(va(n,!1),n.strm.avail_out===0))return Js}return n.insert=0,e===Qa?(va(n,!0),n.strm.avail_out===0?l1:q2):n.sym_next&&(va(n,!1),n.strm.avail_out===0)?Js:$2},A0e=(n,e)=>{let t;for(;;){if(n.lookahead===0&&(b2(n),n.lookahead===0)){if(e===kf)return Js;break}if(n.match_length=0,t=Nf(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(va(n,!1),n.strm.avail_out===0))return Js}return n.insert=0,e===Qa?(va(n,!0),n.strm.avail_out===0?l1:q2):n.sym_next&&(va(n,!1),n.strm.avail_out===0)?Js:$2};function vc(n,e,t,r,i){this.good_length=n,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=i}const zv=[new vc(0,0,0,0,BH),new vc(4,4,8,4,VE),new vc(4,5,16,8,VE),new vc(4,6,32,32,VE),new vc(4,4,16,16,G1),new vc(8,16,32,32,G1),new vc(8,16,128,128,G1),new vc(8,32,128,256,G1),new vc(32,128,258,1024,G1),new vc(32,258,258,4096,G1)],E0e=n=>{n.window_size=2*n.w_size,Th(n.head),n.max_lazy_match=zv[n.level].max_lazy,n.good_match=zv[n.level].good_length,n.nice_match=zv[n.level].nice_length,n.max_chain_length=zv[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=wn-1,n.match_available=0,n.ins_h=0};function S0e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=K6,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(g0e*2),this.dyn_dtree=new Uint16Array((2*p0e+1)*2),this.bl_tree=new Uint16Array((2*m0e+1)*2),Th(this.dyn_ltree),Th(this.dyn_dtree),Th(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(v0e+1),this.heap=new Uint16Array(2*MC+1),Th(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*MC+1),Th(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Cb=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.status!==w2&&e.status!==d9&&e.status!==DC&&e.status!==jC&&e.status!==OC&&e.status!==FC&&e.status!==jp&&e.status!==Vv?1:0},UH=n=>{if(Cb(n))return Op(n,ru);n.total_in=n.total_out=0,n.data_type=l0e;const e=n.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?d9:e.wrap?w2:jp,n.adler=e.wrap===2?0:1,e.last_flush=-2,Qge(e),is},VH=n=>{const e=UH(n);return e===is&&E0e(n.state),e},C0e=(n,e)=>Cb(n)||n.state.wrap!==2?ru:(n.state.gzhead=e,is),zH=(n,e,t,r,i,s)=>{if(!n)return ru;let o=1;if(e===r0e&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>c0e||t!==K6||r<8||r>15||e<0||e>9||s<0||s>o0e||r===8&&o!==1)return Op(n,ru);r===8&&(r=9);const a=new S0e;return n.state=a,a.strm=n,a.status=w2,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+wn-1)/wn),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=t,VH(n)},T0e=(n,e)=>zH(n,e,K6,u0e,d0e,a0e),N0e=(n,e)=>{if(Cb(n)||e>DM||e<0)return n?Op(n,ru):ru;const t=n.state;if(!n.output||n.avail_in!==0&&!n.input||t.status===Vv&&e!==Qa)return Op(n,n.avail_out===0?UE:ru);const r=t.last_flush;if(t.last_flush=e,t.pending!==0){if(ea(n),n.avail_out===0)return t.last_flush=-1,is}else if(n.avail_in===0&&OM(e)<=OM(r)&&e!==Qa)return Op(n,UE);if(t.status===Vv&&n.avail_in!==0)return Op(n,UE);if(t.status===w2&&t.wrap===0&&(t.status=jp),t.status===w2){let i=K6+(t.w_bits-8<<4)<<8,s=-1;if(t.strategy>=Rx||t.level<2?s=0:t.level<6?s=1:t.level===6?s=2:s=3,i|=s<<6,t.strstart!==0&&(i|=y0e),i+=31-i%31,Cv(t,i),t.strstart!==0&&(Cv(t,n.adler>>>16),Cv(t,n.adler&65535)),n.adler=1,t.status=jp,ea(n),t.pending!==0)return t.last_flush=-1,is}if(t.status===d9){if(n.adler=0,Ln(t,31),Ln(t,139),Ln(t,8),t.gzhead)Ln(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Ln(t,t.gzhead.time&255),Ln(t,t.gzhead.time>>8&255),Ln(t,t.gzhead.time>>16&255),Ln(t,t.gzhead.time>>24&255),Ln(t,t.level===9?2:t.strategy>=Rx||t.level<2?4:0),Ln(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(Ln(t,t.gzhead.extra.length&255),Ln(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=zi(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=DC;else if(Ln(t,0),Ln(t,0),Ln(t,0),Ln(t,0),Ln(t,0),Ln(t,t.level===9?2:t.strategy>=Rx||t.level<2?4:0),Ln(t,w0e),t.status=jp,ea(n),t.pending!==0)return t.last_flush=-1,is}if(t.status===DC){if(t.gzhead.extra){let i=t.pending,s=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+s>t.pending_buf_size;){let a=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(n.adler=zi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=a,ea(n),t.pending!==0)return t.last_flush=-1,is;i=0,s-=a}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending+=s,t.gzhead.hcrc&&t.pending>i&&(n.adler=zi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=jC}if(t.status===jC){if(t.gzhead.name){let i=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=zi(n.adler,t.pending_buf,t.pending-i,i)),ea(n),t.pending!==0)return t.last_flush=-1,is;i=0}t.gzindex<t.gzhead.name.length?s=t.gzhead.name.charCodeAt(t.gzindex++)&255:s=0,Ln(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=zi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=OC}if(t.status===OC){if(t.gzhead.comment){let i=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=zi(n.adler,t.pending_buf,t.pending-i,i)),ea(n),t.pending!==0)return t.last_flush=-1,is;i=0}t.gzindex<t.gzhead.comment.length?s=t.gzhead.comment.charCodeAt(t.gzindex++)&255:s=0,Ln(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=zi(n.adler,t.pending_buf,t.pending-i,i))}t.status=FC}if(t.status===FC){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(ea(n),t.pending!==0))return t.last_flush=-1,is;Ln(t,n.adler&255),Ln(t,n.adler>>8&255),n.adler=0}if(t.status=jp,ea(n),t.pending!==0)return t.last_flush=-1,is}if(n.avail_in!==0||t.lookahead!==0||e!==kf&&t.status!==Vv){let i=t.level===0?BH(t,e):t.strategy===Rx?A0e(t,e):t.strategy===s0e?_0e(t,e):zv[t.level].func(t,e);if((i===l1||i===q2)&&(t.status=Vv),i===Js||i===l1)return n.avail_out===0&&(t.last_flush=-1),is;if(i===$2&&(e===e0e?Zge(t):e!==DM&&(LC(t,0,0,!1),e===t0e&&(Th(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),ea(n),n.avail_out===0))return t.last_flush=-1,is}return e!==Qa?is:t.wrap<=0?jM:(t.wrap===2?(Ln(t,n.adler&255),Ln(t,n.adler>>8&255),Ln(t,n.adler>>16&255),Ln(t,n.adler>>24&255),Ln(t,n.total_in&255),Ln(t,n.total_in>>8&255),Ln(t,n.total_in>>16&255),Ln(t,n.total_in>>24&255)):(Cv(t,n.adler>>>16),Cv(t,n.adler&65535)),ea(n),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?is:jM)},k0e=n=>{if(Cb(n))return ru;const e=n.state.status;return n.state=null,e===jp?Op(n,n0e):is},I0e=(n,e)=>{let t=e.length;if(Cb(n))return ru;const r=n.state,i=r.wrap;if(i===2||i===1&&r.status!==w2||r.lookahead)return ru;if(i===1&&(n.adler=_5(n.adler,e,t,0)),r.wrap=0,t>=r.w_size){i===0&&(Th(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(t-r.w_size,t),0),e=l,t=r.w_size}const s=n.avail_in,o=n.next_in,a=n.input;for(n.avail_in=t,n.next_in=0,n.input=e,b2(r);r.lookahead>=wn;){let l=r.strstart,c=r.lookahead-(wn-1);do r.ins_h=If(r,r.ins_h,r.window[l+wn-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=wn-1,b2(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=wn-1,r.match_available=0,n.next_in=o,n.input=a,n.avail_in=s,r.wrap=i,is};var P0e=T0e,R0e=zH,L0e=VH,M0e=UH,D0e=C0e,j0e=N0e,O0e=k0e,F0e=I0e,B0e="pako deflate (from Nodeca project)",Ay={deflateInit:P0e,deflateInit2:R0e,deflateReset:L0e,deflateResetKeep:M0e,deflateSetHeader:D0e,deflate:j0e,deflateEnd:O0e,deflateSetDictionary:F0e,deflateInfo:B0e};const U0e=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var V0e=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)U0e(t,r)&&(n[r]=t[r])}}return n},z0e=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let o=n[r];t.set(o,i),i+=o.length}return t},Y6={assign:V0e,flattenChunks:z0e};let $H=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$H=!1}const A5=new Uint8Array(256);for(let n=0;n<256;n++)A5[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;A5[254]=A5[254]=1;var $0e=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,o=n.length,a=0;for(i=0;i<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const q0e=(n,e)=>{if(e<65534&&n.subarray&&$H)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var H0e=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let o=n[r++];if(o<128){s[i++]=o;continue}let a=A5[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<t;)o=o<<6|n[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return q0e(s,i)},W0e=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+A5[n[t]]>e?t:e},E5={string2buf:$0e,buf2string:H0e,utf8border:W0e};function G0e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var qH=G0e;const HH=Object.prototype.toString,{Z_NO_FLUSH:K0e,Z_SYNC_FLUSH:Y0e,Z_FULL_FLUSH:X0e,Z_FINISH:Q0e,Z_OK:f_,Z_STREAM_END:J0e,Z_DEFAULT_COMPRESSION:Z0e,Z_DEFAULT_STRATEGY:e2e,Z_DEFLATED:t2e}=Sb;function h9(n){this.options=Y6.assign({level:Z0e,method:t2e,chunkSize:16384,windowBits:15,memLevel:8,strategy:e2e},n||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qH,this.strm.avail_out=0;let t=Ay.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==f_)throw new Error(y2[t]);if(e.header&&Ay.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=E5.string2buf(e.dictionary):HH.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,t=Ay.deflateSetDictionary(this.strm,r),t!==f_)throw new Error(y2[t]);this._dict_set=!0}}h9.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Q0e:K0e,typeof n=="string"?t.input=E5.string2buf(n):HH.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(s===Y0e||s===X0e)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(i=Ay.deflate(t,s),i===J0e)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=Ay.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===f_;if(t.avail_out===0){this.onData(t.output);continue}if(s>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};h9.prototype.onData=function(n){this.chunks.push(n)};h9.prototype.onEnd=function(n){n===f_&&(this.result=Y6.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};const Lx=16209,n2e=16191;var r2e=function(e,t){let r,i,s,o,a,l,c,u,h,p,f,b,w,A,x,E,S,T,B,V,M,N,P,O;const k=e.state;r=e.next_in,P=e.input,i=r+(e.avail_in-5),s=e.next_out,O=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),l=k.dmax,c=k.wsize,u=k.whave,h=k.wnext,p=k.window,f=k.hold,b=k.bits,w=k.lencode,A=k.distcode,x=(1<<k.lenbits)-1,E=(1<<k.distbits)-1;e:do{b<15&&(f+=P[r++]<<b,b+=8,f+=P[r++]<<b,b+=8),S=w[f&x];t:for(;;){if(T=S>>>24,f>>>=T,b-=T,T=S>>>16&255,T===0)O[s++]=S&65535;else if(T&16){B=S&65535,T&=15,T&&(b<T&&(f+=P[r++]<<b,b+=8),B+=f&(1<<T)-1,f>>>=T,b-=T),b<15&&(f+=P[r++]<<b,b+=8,f+=P[r++]<<b,b+=8),S=A[f&E];n:for(;;){if(T=S>>>24,f>>>=T,b-=T,T=S>>>16&255,T&16){if(V=S&65535,T&=15,b<T&&(f+=P[r++]<<b,b+=8,b<T&&(f+=P[r++]<<b,b+=8)),V+=f&(1<<T)-1,V>l){e.msg="invalid distance too far back",k.mode=Lx;break e}if(f>>>=T,b-=T,T=s-o,V>T){if(T=V-T,T>u&&k.sane){e.msg="invalid distance too far back",k.mode=Lx;break e}if(M=0,N=p,h===0){if(M+=c-T,T<B){B-=T;do O[s++]=p[M++];while(--T);M=s-V,N=O}}else if(h<T){if(M+=c+h-T,T-=h,T<B){B-=T;do O[s++]=p[M++];while(--T);if(M=0,h<B){T=h,B-=T;do O[s++]=p[M++];while(--T);M=s-V,N=O}}}else if(M+=h-T,T<B){B-=T;do O[s++]=p[M++];while(--T);M=s-V,N=O}for(;B>2;)O[s++]=N[M++],O[s++]=N[M++],O[s++]=N[M++],B-=3;B&&(O[s++]=N[M++],B>1&&(O[s++]=N[M++]))}else{M=s-V;do O[s++]=O[M++],O[s++]=O[M++],O[s++]=O[M++],B-=3;while(B>2);B&&(O[s++]=O[M++],B>1&&(O[s++]=O[M++]))}}else if(T&64){e.msg="invalid distance code",k.mode=Lx;break e}else{S=A[(S&65535)+(f&(1<<T)-1)];continue n}break}}else if(T&64)if(T&32){k.mode=n2e;break e}else{e.msg="invalid literal/length code",k.mode=Lx;break e}else{S=w[(S&65535)+(f&(1<<T)-1)];continue t}break}}while(r<i&&s<a);B=b>>3,r-=B,b-=B<<3,f&=(1<<b)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),k.hold=f,k.bits=b};const K1=15,FM=852,BM=592,UM=0,zE=1,VM=2,i2e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),s2e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),o2e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),a2e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),l2e=(n,e,t,r,i,s,o,a)=>{const l=a.bits;let c=0,u=0,h=0,p=0,f=0,b=0,w=0,A=0,x=0,E=0,S,T,B,V,M,N=null,P;const O=new Uint16Array(K1+1),k=new Uint16Array(K1+1);let j=null,L,W,ue;for(c=0;c<=K1;c++)O[c]=0;for(u=0;u<r;u++)O[e[t+u]]++;for(f=l,p=K1;p>=1&&O[p]===0;p--);if(f>p&&(f=p),p===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<p&&O[h]===0;h++);for(f<h&&(f=h),A=1,c=1;c<=K1;c++)if(A<<=1,A-=O[c],A<0)return-1;if(A>0&&(n===UM||p!==1))return-1;for(k[1]=0,c=1;c<K1;c++)k[c+1]=k[c]+O[c];for(u=0;u<r;u++)e[t+u]!==0&&(o[k[e[t+u]]++]=u);if(n===UM?(N=j=o,P=20):n===zE?(N=i2e,j=s2e,P=257):(N=o2e,j=a2e,P=0),E=0,u=0,c=h,M=s,b=f,w=0,B=-1,x=1<<f,V=x-1,n===zE&&x>FM||n===VM&&x>BM)return 1;for(;;){L=c-w,o[u]+1<P?(W=0,ue=o[u]):o[u]>=P?(W=j[o[u]-P],ue=N[o[u]-P]):(W=96,ue=0),S=1<<c-w,T=1<<b,h=T;do T-=S,i[M+(E>>w)+T]=L<<24|W<<16|ue|0;while(T!==0);for(S=1<<c-1;E&S;)S>>=1;if(S!==0?(E&=S-1,E+=S):E=0,u++,--O[c]===0){if(c===p)break;c=e[t+o[u]]}if(c>f&&(E&V)!==B){for(w===0&&(w=f),M+=h,b=c-w,A=1<<b;b+w<p&&(A-=O[b+w],!(A<=0));)b++,A<<=1;if(x+=1<<b,n===zE&&x>FM||n===VM&&x>BM)return 1;B=E&V,i[B]=f<<24|b<<16|M-s|0}}return E!==0&&(i[M+E]=c-w<<24|64<<16|0),a.bits=f,0};var Ey=l2e;const c2e=0,WH=1,GH=2,{Z_FINISH:zM,Z_BLOCK:u2e,Z_TREES:Mx,Z_OK:c1,Z_STREAM_END:d2e,Z_NEED_DICT:h2e,Z_STREAM_ERROR:al,Z_DATA_ERROR:KH,Z_MEM_ERROR:YH,Z_BUF_ERROR:f2e,Z_DEFLATED:$M}=Sb,X6=16180,qM=16181,HM=16182,WM=16183,GM=16184,KM=16185,YM=16186,XM=16187,QM=16188,JM=16189,p_=16190,Nu=16191,$E=16192,ZM=16193,qE=16194,eD=16195,tD=16196,nD=16197,rD=16198,Dx=16199,jx=16200,iD=16201,sD=16202,oD=16203,aD=16204,lD=16205,HE=16206,cD=16207,uD=16208,_r=16209,XH=16210,QH=16211,p2e=852,m2e=592,g2e=15,v2e=g2e,dD=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function y2e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const T1=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<X6||e.mode>QH?1:0},JH=n=>{if(T1(n))return al;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=X6,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(p2e),e.distcode=e.distdyn=new Int32Array(m2e),e.sane=1,e.back=-1,c1},ZH=n=>{if(T1(n))return al;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,JH(n)},eW=(n,e)=>{let t;if(T1(n))return al;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?al:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,ZH(n))},tW=(n,e)=>{if(!n)return al;const t=new y2e;n.state=t,t.strm=n,t.window=null,t.mode=X6;const r=eW(n,e);return r!==c1&&(n.state=null),r},w2e=n=>tW(n,v2e);let hD=!0,WE,GE;const b2e=n=>{if(hD){WE=new Int32Array(512),GE=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Ey(WH,n.lens,0,288,WE,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Ey(GH,n.lens,0,32,GE,0,n.work,{bits:5}),hD=!1}n.lencode=WE,n.lenbits=9,n.distcode=GE,n.distbits=5},nW=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},x2e=(n,e)=>{let t,r,i,s,o,a,l,c,u,h,p,f,b,w,A=0,x,E,S,T,B,V,M,N;const P=new Uint8Array(4);let O,k;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(T1(n)||!n.output||!n.input&&n.avail_in!==0)return al;t=n.state,t.mode===Nu&&(t.mode=$E),o=n.next_out,i=n.output,l=n.avail_out,s=n.next_in,r=n.input,a=n.avail_in,c=t.hold,u=t.bits,h=a,p=l,N=c1;e:for(;;)switch(t.mode){case X6:if(t.wrap===0){t.mode=$E;break}for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,P[0]=c&255,P[1]=c>>>8&255,t.check=zi(t.check,P,2,0),c=0,u=0,t.mode=qM;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",t.mode=_r;break}if((c&15)!==$M){n.msg="unknown compression method",t.mode=_r;break}if(c>>>=4,u-=4,M=(c&15)+8,t.wbits===0&&(t.wbits=M),M>15||M>t.wbits){n.msg="invalid window size",t.mode=_r;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=c&512?JM:Nu,c=0,u=0;break;case qM:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(t.flags=c,(t.flags&255)!==$M){n.msg="unknown compression method",t.mode=_r;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=_r;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,t.check=zi(t.check,P,2,0)),c=0,u=0,t.mode=HM;case HM:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,P[2]=c>>>16&255,P[3]=c>>>24&255,t.check=zi(t.check,P,4,0)),c=0,u=0,t.mode=WM;case WM:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,t.check=zi(t.check,P,2,0)),c=0,u=0,t.mode=GM;case GM:if(t.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,t.check=zi(t.check,P,2,0)),c=0,u=0}else t.head&&(t.head.extra=null);t.mode=KM;case KM:if(t.flags&1024&&(f=t.length,f>a&&(f=a),f&&(t.head&&(M=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+f),M)),t.flags&512&&t.wrap&4&&(t.check=zi(t.check,r,f,s)),a-=f,s+=f,t.length-=f),t.length))break e;t.length=0,t.mode=YM;case YM:if(t.flags&2048){if(a===0)break e;f=0;do M=r[s+f++],t.head&&M&&t.length<65536&&(t.head.name+=String.fromCharCode(M));while(M&&f<a);if(t.flags&512&&t.wrap&4&&(t.check=zi(t.check,r,f,s)),a-=f,s+=f,M)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=XM;case XM:if(t.flags&4096){if(a===0)break e;f=0;do M=r[s+f++],t.head&&M&&t.length<65536&&(t.head.comment+=String.fromCharCode(M));while(M&&f<a);if(t.flags&512&&t.wrap&4&&(t.check=zi(t.check,r,f,s)),a-=f,s+=f,M)break e}else t.head&&(t.head.comment=null);t.mode=QM;case QM:if(t.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(t.wrap&4&&c!==(t.check&65535)){n.msg="header crc mismatch",t.mode=_r;break}c=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Nu;break;case JM:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.adler=t.check=dD(c),c=0,u=0,t.mode=p_;case p_:if(t.havedict===0)return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,t.hold=c,t.bits=u,h2e;n.adler=t.check=1,t.mode=Nu;case Nu:if(e===u2e||e===Mx)break e;case $E:if(t.last){c>>>=u&7,u-=u&7,t.mode=HE;break}for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}switch(t.last=c&1,c>>>=1,u-=1,c&3){case 0:t.mode=ZM;break;case 1:if(b2e(t),t.mode=Dx,e===Mx){c>>>=2,u-=2;break e}break;case 2:t.mode=tD;break;case 3:n.msg="invalid block type",t.mode=_r}c>>>=2,u-=2;break;case ZM:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",t.mode=_r;break}if(t.length=c&65535,c=0,u=0,t.mode=qE,e===Mx)break e;case qE:t.mode=eD;case eD:if(f=t.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;i.set(r.subarray(s,s+f),o),a-=f,s+=f,l-=f,o+=f,t.length-=f;break}t.mode=Nu;break;case tD:for(;u<14;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(t.nlen=(c&31)+257,c>>>=5,u-=5,t.ndist=(c&31)+1,c>>>=5,u-=5,t.ncode=(c&15)+4,c>>>=4,u-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=_r;break}t.have=0,t.mode=nD;case nD:for(;t.have<t.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.lens[j[t.have++]]=c&7,c>>>=3,u-=3}for(;t.have<19;)t.lens[j[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,O={bits:t.lenbits},N=Ey(c2e,t.lens,0,19,t.lencode,0,t.work,O),t.lenbits=O.bits,N){n.msg="invalid code lengths set",t.mode=_r;break}t.have=0,t.mode=rD;case rD:for(;t.have<t.nlen+t.ndist;){for(;A=t.lencode[c&(1<<t.lenbits)-1],x=A>>>24,E=A>>>16&255,S=A&65535,!(x<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(S<16)c>>>=x,u-=x,t.lens[t.have++]=S;else{if(S===16){for(k=x+2;u<k;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(c>>>=x,u-=x,t.have===0){n.msg="invalid bit length repeat",t.mode=_r;break}M=t.lens[t.have-1],f=3+(c&3),c>>>=2,u-=2}else if(S===17){for(k=x+3;u<k;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=x,u-=x,M=0,f=3+(c&7),c>>>=3,u-=3}else{for(k=x+7;u<k;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=x,u-=x,M=0,f=11+(c&127),c>>>=7,u-=7}if(t.have+f>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=_r;break}for(;f--;)t.lens[t.have++]=M}}if(t.mode===_r)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=_r;break}if(t.lenbits=9,O={bits:t.lenbits},N=Ey(WH,t.lens,0,t.nlen,t.lencode,0,t.work,O),t.lenbits=O.bits,N){n.msg="invalid literal/lengths set",t.mode=_r;break}if(t.distbits=6,t.distcode=t.distdyn,O={bits:t.distbits},N=Ey(GH,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,O),t.distbits=O.bits,N){n.msg="invalid distances set",t.mode=_r;break}if(t.mode=Dx,e===Mx)break e;case Dx:t.mode=jx;case jx:if(a>=6&&l>=258){n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,t.hold=c,t.bits=u,r2e(n,p),o=n.next_out,i=n.output,l=n.avail_out,s=n.next_in,r=n.input,a=n.avail_in,c=t.hold,u=t.bits,t.mode===Nu&&(t.back=-1);break}for(t.back=0;A=t.lencode[c&(1<<t.lenbits)-1],x=A>>>24,E=A>>>16&255,S=A&65535,!(x<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(E&&!(E&240)){for(T=x,B=E,V=S;A=t.lencode[V+((c&(1<<T+B)-1)>>T)],x=A>>>24,E=A>>>16&255,S=A&65535,!(T+x<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=T,u-=T,t.back+=T}if(c>>>=x,u-=x,t.back+=x,t.length=S,E===0){t.mode=lD;break}if(E&32){t.back=-1,t.mode=Nu;break}if(E&64){n.msg="invalid literal/length code",t.mode=_r;break}t.extra=E&15,t.mode=iD;case iD:if(t.extra){for(k=t.extra;u<k;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=sD;case sD:for(;A=t.distcode[c&(1<<t.distbits)-1],x=A>>>24,E=A>>>16&255,S=A&65535,!(x<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(!(E&240)){for(T=x,B=E,V=S;A=t.distcode[V+((c&(1<<T+B)-1)>>T)],x=A>>>24,E=A>>>16&255,S=A&65535,!(T+x<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=T,u-=T,t.back+=T}if(c>>>=x,u-=x,t.back+=x,E&64){n.msg="invalid distance code",t.mode=_r;break}t.offset=S,t.extra=E&15,t.mode=oD;case oD:if(t.extra){for(k=t.extra;u<k;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=_r;break}t.mode=aD;case aD:if(l===0)break e;if(f=p-l,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=_r;break}f>t.wnext?(f-=t.wnext,b=t.wsize-f):b=t.wnext-f,f>t.length&&(f=t.length),w=t.window}else w=i,b=o-t.offset,f=t.length;f>l&&(f=l),l-=f,t.length-=f;do i[o++]=w[b++];while(--f);t.length===0&&(t.mode=jx);break;case lD:if(l===0)break e;i[o++]=t.length,l--,t.mode=jx;break;case HE:if(t.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[s++]<<u,u+=8}if(p-=l,n.total_out+=p,t.total+=p,t.wrap&4&&p&&(n.adler=t.check=t.flags?zi(t.check,i,p,o-p):_5(t.check,i,p,o-p)),p=l,t.wrap&4&&(t.flags?c:dD(c))!==t.check){n.msg="incorrect data check",t.mode=_r;break}c=0,u=0}t.mode=cD;case cD:if(t.wrap&&t.flags){for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(t.wrap&4&&c!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=_r;break}c=0,u=0}t.mode=uD;case uD:N=d2e;break e;case _r:N=KH;break e;case XH:return YH;case QH:default:return al}return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,t.hold=c,t.bits=u,(t.wsize||p!==n.avail_out&&t.mode<_r&&(t.mode<HE||e!==zM))&&nW(n,n.output,n.next_out,p-n.avail_out),h-=n.avail_in,p-=n.avail_out,n.total_in+=h,n.total_out+=p,t.total+=p,t.wrap&4&&p&&(n.adler=t.check=t.flags?zi(t.check,i,p,n.next_out-p):_5(t.check,i,p,n.next_out-p)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Nu?128:0)+(t.mode===Dx||t.mode===qE?256:0),(h===0&&p===0||e===zM)&&N===c1&&(N=f2e),N},_2e=n=>{if(T1(n))return al;let e=n.state;return e.window&&(e.window=null),n.state=null,c1},A2e=(n,e)=>{if(T1(n))return al;const t=n.state;return t.wrap&2?(t.head=e,e.done=!1,c1):al},E2e=(n,e)=>{const t=e.length;let r,i,s;return T1(n)||(r=n.state,r.wrap!==0&&r.mode!==p_)?al:r.mode===p_&&(i=1,i=_5(i,e,t,0),i!==r.check)?KH:(s=nW(n,e,t,t),s?(r.mode=XH,YH):(r.havedict=1,c1))};var S2e=ZH,C2e=eW,T2e=JH,N2e=w2e,k2e=tW,I2e=x2e,P2e=_2e,R2e=A2e,L2e=E2e,M2e="pako inflate (from Nodeca project)",Fu={inflateReset:S2e,inflateReset2:C2e,inflateResetKeep:T2e,inflateInit:N2e,inflateInit2:k2e,inflate:I2e,inflateEnd:P2e,inflateGetHeader:R2e,inflateSetDictionary:L2e,inflateInfo:M2e};function D2e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var j2e=D2e;const rW=Object.prototype.toString,{Z_NO_FLUSH:O2e,Z_FINISH:F2e,Z_OK:S5,Z_STREAM_END:KE,Z_NEED_DICT:YE,Z_STREAM_ERROR:B2e,Z_DATA_ERROR:fD,Z_MEM_ERROR:U2e}=Sb;function Tb(n){this.options=Y6.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qH,this.strm.avail_out=0;let t=Fu.inflateInit2(this.strm,e.windowBits);if(t!==S5)throw new Error(y2[t]);if(this.header=new j2e,Fu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=E5.string2buf(e.dictionary):rW.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Fu.inflateSetDictionary(this.strm,e.dictionary),t!==S5)))throw new Error(y2[t])}Tb.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?F2e:O2e,rW.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=Fu.inflate(t,o),s===YE&&i&&(s=Fu.inflateSetDictionary(t,i),s===S5?s=Fu.inflate(t,o):s===fD&&(s=YE));t.avail_in>0&&s===KE&&t.state.wrap>0&&n[t.next_in]!==0;)Fu.inflateReset(t),s=Fu.inflate(t,o);switch(s){case B2e:case fD:case YE:case U2e:return this.onEnd(s),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||s===KE))if(this.options.to==="string"){let l=E5.utf8border(t.output,t.next_out),c=t.next_out-l,u=E5.buf2string(t.output,l);t.next_out=c,t.avail_out=r-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===S5&&a===0)){if(s===KE)return s=Fu.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Tb.prototype.onData=function(n){this.chunks.push(n)};Tb.prototype.onEnd=function(n){n===S5&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Y6.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function f9(n,e){const t=new Tb(e);if(t.push(n),t.err)throw t.msg||y2[t.err];return t.result}function V2e(n,e){return e=e||{},e.raw=!0,f9(n,e)}var z2e=Tb,$2e=f9,q2e=V2e,H2e=f9,W2e=Sb,G2e={Inflate:z2e,inflate:$2e,inflateRaw:q2e,ungzip:H2e,constants:W2e};const{Inflate:K2e,inflate:Y2e,inflateRaw:Q4e,ungzip:J4e}=G2e;var pD=K2e,X2e=Y2e;const iW=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;iW[n]=e}const mD=4294967295;function Q2e(n,e,t){let r=n;for(let i=0;i<t;i++)r=iW[(r^e[i])&255]^r>>>8;return r}function J2e(n,e){return(Q2e(mD,n,e)^mD)>>>0}function gD(n,e,t){const r=n.readUint32(),i=J2e(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function sW(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function oW(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function aW(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function lW(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<r;s++)e[s]=n[s]+(e[s-i]+t[s]>>1)&255}}function cW(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=n[s]+t[s]&255;for(;s<r;s++)e[s]=n[s]+Z2e(e[s-i],t[s],t[s-i])&255}}function Z2e(n,e,t){const r=n+e-t,i=Math.abs(r-n),s=Math.abs(r-e),o=Math.abs(r-t);return i<=s&&i<=o?n:s<=o?e:t}function eve(n,e,t,r,i,s){switch(n){case 0:sW(e,t,i);break;case 1:oW(e,t,i,s);break;case 2:aW(e,t,r,i);break;case 3:lW(e,t,r,i,s);break;case 4:cW(e,t,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const tve=new Uint16Array([255]),nve=new Uint8Array(tve.buffer),rve=nve[0]===255;function ive(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*t*a);let c=0;for(let u=0;u<7;u++){const h=o[u],p=Math.ceil((t-h.x)/h.xStep),f=Math.ceil((r-h.y)/h.yStep);if(p<=0||f<=0)continue;const b=p*a,w=new Uint8Array(b);for(let A=0;A<f;A++){const x=e[c++],E=e.subarray(c,c+b);c+=b;const S=new Uint8Array(b);eve(x,E,S,w,b,a),w.set(S);for(let T=0;T<p;T++){const B=h.x+T*h.xStep,V=h.y+A*h.yStep;if(!(B>=t||V>=r))for(let M=0;M<a;M++)l[(V*t+B)*a+M]=S[T*a+M]}}}if(s===16){const u=new Uint16Array(l.buffer);if(rve)for(let h=0;h<u.length;h++)u[h]=sve(u[h]);return u}else return l}function sve(n){return(n&255)<<8|n>>8&255}const ove=new Uint16Array([255]),ave=new Uint8Array(ove.buffer),lve=ave[0]===255,cve=new Uint8Array(0);function vD(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*t),l=new Uint8Array(r*a);let c=cve,u=0,h,p;for(let f=0;f<r;f++){switch(h=e.subarray(u+1,u+1+a),p=l.subarray(f*a,(f+1)*a),e[u]){case 0:sW(h,p,a);break;case 1:oW(h,p,a,o);break;case 2:aW(h,p,c,a);break;case 3:lW(h,p,c,a,o);break;case 4:cW(h,p,c,a,o);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=p,u+=a+1}if(s===16){const f=new Uint16Array(l.buffer);if(lve)for(let b=0;b<f.length;b++)f[b]=uve(f[b]);return f}else return l}function uve(n){return(n&255)<<8|n>>8&255}const T4=Uint8Array.of(137,80,78,71,13,10,26,10);function yD(n){if(!dve(n.readBytes(T4.length)))throw new Error("wrong PNG signature")}function dve(n){if(n.length<T4.length)return!1;for(let e=0;e<T4.length;e++)if(n[e]!==T4[e])return!1;return!0}const hve="tEXt",fve=0,uW=new TextDecoder("latin1");function pve(n){if(gve(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const mve=/^[\u0000-\u00FF]*$/;function gve(n){if(!mve.test(n))throw new Error("invalid latin1 text")}function vve(n,e,t){const r=dW(e);n[r]=yve(e,t-r.length-1)}function dW(n){for(n.mark();n.readByte()!==fve;);const e=n.offset;n.reset();const t=uW.decode(n.readBytes(e-n.offset-1));return n.skip(1),pve(t),t}function yve(n,e){return uW.decode(n.readBytes(e))}const Jo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},XE={UNKNOWN:-1,DEFLATE:0},wD={UNKNOWN:-1,ADAPTIVE:0},QE={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ox={NONE:0,BACKGROUND:1,PREVIOUS:2},JE={SOURCE:0,OVER:1};class wve extends o9{constructor(t,r={}){super(t);nt(this,"_checkCrc");nt(this,"_inflator");nt(this,"_png");nt(this,"_apng");nt(this,"_end");nt(this,"_hasPalette");nt(this,"_palette");nt(this,"_hasTransparency");nt(this,"_transparency");nt(this,"_compressionMethod");nt(this,"_filterMethod");nt(this,"_interlaceMethod");nt(this,"_colorType");nt(this,"_isAnimated");nt(this,"_numberOfFrames");nt(this,"_numberOfPlays");nt(this,"_frames");nt(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new pD,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=XE.UNKNOWN,this._filterMethod=wD.UNKNOWN,this._interlaceMethod=QE.UNKNOWN,this._colorType=Jo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(yD(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(yD(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case hve:vve(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?gD(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?gD(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=bve(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Jo.GREYSCALE:i=1;break;case Jo.TRUECOLOUR:i=3;break;case Jo.INDEXED_COLOUR:i=1;break;case Jo.GREYSCALE_ALPHA:i=2;break;case Jo.TRUECOLOUR_ALPHA:i=4;break;case Jo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==XE.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Jo.GREYSCALE:case Jo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Jo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Jo.UNKNOWN:case Jo.GREYSCALE_ALPHA:case Jo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=dW(this),i=this.readUint8();if(i!==XE.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:X2e(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=vD({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,i){switch(t.disposeOp){case Ox.NONE:break;case Ox.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*t.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case Ox.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,c=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case JE.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++)t.data[l+u]=r.data[c+u]}break;case JE.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++){const h=r.data[c+this._png.channels-1]/i,p=u%(this._png.channels-1)===0?1:r.data[c+u],f=Math.floor(h*p+(1-h)*t.data[l+u]);t.data[l+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==wD.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===QE.NO_INTERLACE)this._png.data=vD({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===QE.ADAM7)this._png.data=ive({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ox.NONE,blendOp:JE.SOURCE,data:t}),this._inflator=new pD,this._writingDataChunks=!1}}function bve(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var bD;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(bD||(bD={}));function xve(n,e){return new wve(n,e).decode()}var Bt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function ZE(){Bt.console&&typeof Bt.console.log=="function"&&Bt.console.log.apply(Bt.console,arguments)}var nr={log:ZE,warn:function(n){Bt.console&&(typeof Bt.console.warn=="function"?Bt.console.warn.apply(Bt.console,arguments):ZE.call(null,arguments))},error:function(n){Bt.console&&(typeof Bt.console.error=="function"?Bt.console.error.apply(Bt.console,arguments):ZE(n))}};function e8(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){yp(r.response,e,t)},r.onerror=function(){nr.error("could not download file")},r.send()}function xD(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Fx(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var yp=Bt.saveAs||((typeof window>"u"?"undefined":Bn(window))!=="object"||window!==Bt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Bt.URL||Bt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?xD(i.href)?e8(n,e,t):Fx(i,i.target="_blank"):Fx(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Fx(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(xD(n))e8(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Fx(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Bn(s)!=="object"&&(nr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return e8(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Bt.HTMLElement)||Bt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Bn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=Bt.URL||Bt.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hW(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var N4=Bt.atob.bind(Bt),_D=Bt.btoa.bind(Bt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function t8(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=ws(t,r,i,s,e[0],7,-680876936),s=ws(s,t,r,i,e[1],12,-389564586),i=ws(i,s,t,r,e[2],17,606105819),r=ws(r,i,s,t,e[3],22,-1044525330),t=ws(t,r,i,s,e[4],7,-176418897),s=ws(s,t,r,i,e[5],12,1200080426),i=ws(i,s,t,r,e[6],17,-1473231341),r=ws(r,i,s,t,e[7],22,-45705983),t=ws(t,r,i,s,e[8],7,1770035416),s=ws(s,t,r,i,e[9],12,-1958414417),i=ws(i,s,t,r,e[10],17,-42063),r=ws(r,i,s,t,e[11],22,-1990404162),t=ws(t,r,i,s,e[12],7,1804603682),s=ws(s,t,r,i,e[13],12,-40341101),i=ws(i,s,t,r,e[14],17,-1502002290),t=bs(t,r=ws(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=bs(s,t,r,i,e[6],9,-1069501632),i=bs(i,s,t,r,e[11],14,643717713),r=bs(r,i,s,t,e[0],20,-373897302),t=bs(t,r,i,s,e[5],5,-701558691),s=bs(s,t,r,i,e[10],9,38016083),i=bs(i,s,t,r,e[15],14,-660478335),r=bs(r,i,s,t,e[4],20,-405537848),t=bs(t,r,i,s,e[9],5,568446438),s=bs(s,t,r,i,e[14],9,-1019803690),i=bs(i,s,t,r,e[3],14,-187363961),r=bs(r,i,s,t,e[8],20,1163531501),t=bs(t,r,i,s,e[13],5,-1444681467),s=bs(s,t,r,i,e[2],9,-51403784),i=bs(i,s,t,r,e[7],14,1735328473),t=xs(t,r=bs(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=xs(s,t,r,i,e[8],11,-2022574463),i=xs(i,s,t,r,e[11],16,1839030562),r=xs(r,i,s,t,e[14],23,-35309556),t=xs(t,r,i,s,e[1],4,-1530992060),s=xs(s,t,r,i,e[4],11,1272893353),i=xs(i,s,t,r,e[7],16,-155497632),r=xs(r,i,s,t,e[10],23,-1094730640),t=xs(t,r,i,s,e[13],4,681279174),s=xs(s,t,r,i,e[0],11,-358537222),i=xs(i,s,t,r,e[3],16,-722521979),r=xs(r,i,s,t,e[6],23,76029189),t=xs(t,r,i,s,e[9],4,-640364487),s=xs(s,t,r,i,e[12],11,-421815835),i=xs(i,s,t,r,e[15],16,530742520),t=_s(t,r=xs(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=_s(s,t,r,i,e[7],10,1126891415),i=_s(i,s,t,r,e[14],15,-1416354905),r=_s(r,i,s,t,e[5],21,-57434055),t=_s(t,r,i,s,e[12],6,1700485571),s=_s(s,t,r,i,e[3],10,-1894986606),i=_s(i,s,t,r,e[10],15,-1051523),r=_s(r,i,s,t,e[1],21,-2054922799),t=_s(t,r,i,s,e[8],6,1873313359),s=_s(s,t,r,i,e[15],10,-30611744),i=_s(i,s,t,r,e[6],15,-1560198380),r=_s(r,i,s,t,e[13],21,1309151649),t=_s(t,r,i,s,e[4],6,-145523070),s=_s(s,t,r,i,e[11],10,-1120210379),i=_s(i,s,t,r,e[2],15,718787259),r=_s(r,i,s,t,e[9],21,-343485551),n[0]=pf(t,n[0]),n[1]=pf(r,n[1]),n[2]=pf(i,n[2]),n[3]=pf(s,n[3])}function Q6(n,e,t,r,i,s){return e=pf(pf(e,n),pf(r,s)),pf(e<<i|e>>>32-i,t)}function ws(n,e,t,r,i,s,o){return Q6(e&t|~e&r,n,e,i,s,o)}function bs(n,e,t,r,i,s,o){return Q6(e&r|t&~r,n,e,i,s,o)}function xs(n,e,t,r,i,s,o){return Q6(e^t^r,n,e,i,s,o)}function _s(n,e,t,r,i,s,o){return Q6(t^(e|~r),n,e,i,s,o)}function fW(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)t8(r,_ve(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(t8(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,t8(r,i),r}function _ve(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var AD="0123456789abcdef".split("");function Ave(n){for(var e="",t=0;t<4;t++)e+=AD[n>>8*t+4&15]+AD[n>>8*t&15];return e}function Eve(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function UC(n){return fW(n).map(Eve).join("")}var Sve=function(n){for(var e=0;e<n.length;e++)n[e]=Ave(n[e]);return n.join("")}(fW("hello"))!="5d41402abc4b2a76b9719d911017c592";function pf(n,e){if(Sve){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function VC(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var h=e.length,p=0,f=0,b="";for(l=0;l<h;l++)f=(f+(u=a[p=(p+1)%256]))%256,a[p]=a[f],a[f]=u,o=a[(a[p]+a[f])%256],b+=String.fromCharCode(e.charCodeAt(l)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ED={print:4,modify:8,copy:16,"annot-forms":32};function eg(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(ED.perm!==void 0)throw new Error("Invalid permission: "+a);i+=ED[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=UC(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=VC(this.encryptionKey,this.padding)}function tg(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function SD(n){if(Bn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){Bt.console&&nr.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function m_(n){if(!(this instanceof m_))return new m_(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function pW(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Cp(n,e,t,r,i){if(!(this instanceof Cp))return new Cp(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,pW.call(this,r,i)}function Eg(n,e,t,r,i){if(!(this instanceof Eg))return new Eg(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,pW.call(this,r,i)}function St(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;Bn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=SD;var b="1.3",w=f.__private__.getPdfVersion=function(){return b};f.__private__.setPdfVersion=function(C){b=C};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return A};var x=f.__private__.getPageFormat=function(C){return A[C]};i=i||"a4";var E="compat",S="advanced",T=E;function B(){this.saveGraphicsState(),Z(new dt(Nt,0,0,-Nt,0,La()*Nt).toString()+" cm"),this.setFontSize(this.getFontSize()/Nt),c="n",T=S}function V(){this.restoreGraphicsState(),c="S",T=E}var M=f.__private__.combineFontStyleAndFontWeight=function(C,q){if(C=="bold"&&q=="normal"||C=="bold"&&q==400||C=="normal"&&q=="italic"||C=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(C=q==400||q==="normal"?C==="italic"?"italic":"normal":q!=700&&q!=="bold"||C!=="normal"?(q==700?"bold":q)+""+C:"bold"),C};f.advancedAPI=function(C){var q=T===E;return q&&B.call(this),typeof C!="function"||(C(this),q&&V.call(this)),this},f.compatAPI=function(C){var q=T===S;return q&&V.call(this),typeof C!="function"||(C(this),q&&B.call(this)),this},f.isAdvancedAPI=function(){return T===S};var N,P=function(C){if(T!==S)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=f.roundToPrecision=f.__private__.roundToPrecision=function(C,q){var se=e||q;if(isNaN(C)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(se).replace(/0+$/,"")};N=f.hpf=f.__private__.hpf=typeof l=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return O(C,l)}:l==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return O(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return O(C,16)};var k=f.f2=f.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return O(C,2)},j=f.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return O(C,3)},L=f.scale=f.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return T===E?C*Nt:T===S?C:void 0},W=function(C){return L(function(q){return T===E?La()-q:T===S?q:void 0}(C))};f.__private__.setPrecision=f.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(e=parseInt(C,10))};var ue,de="00000000000000000000000000000000",le=f.__private__.getFileId=function(){return de},J=f.__private__.setFileId=function(C){return de=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Zn=new eg(u.userPermissions,u.userPassword,u.ownerPassword,de)),de};f.setFileId=function(C){return J(C),this},f.getFileId=function(){return le()};var re=f.__private__.convertDateToPDFDate=function(C){var q=C.getTimezoneOffset(),se=q<0?"+":"-",pe=Math.floor(Math.abs(q/60)),we=Math.abs(q%60),Le=[se,ie(pe),"'",ie(we),"'"].join("");return["D:",C.getFullYear(),ie(C.getMonth()+1),ie(C.getDate()),ie(C.getHours()),ie(C.getMinutes()),ie(C.getSeconds()),Le].join("")},ge=f.__private__.convertPDFDateToDate=function(C){var q=parseInt(C.substr(2,4),10),se=parseInt(C.substr(6,2),10)-1,pe=parseInt(C.substr(8,2),10),we=parseInt(C.substr(10,2),10),Le=parseInt(C.substr(12,2),10),Ue=parseInt(C.substr(14,2),10);return new Date(q,se,pe,we,Le,Ue,0)},ye=f.__private__.setCreationDate=function(C){var q;if(C===void 0&&(C=new Date),C instanceof Date)q=re(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=C}return ue=q},z=f.__private__.getCreationDate=function(C){var q=ue;return C==="jsDate"&&(q=ge(ue)),q};f.setCreationDate=function(C){return ye(C),this},f.getCreationDate=function(C){return z(C)};var Q,ie=f.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},ce=f.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},fe=0,he=[],Ee=[],xe=0,Ae=[],Fe=[],Ce=!1,Ne=Ee;f.__private__.setCustomOutputDestination=function(C){Ce=!0,Ne=C};var De=function(C){Ce||(Ne=C)};f.__private__.resetCustomOutputDestination=function(){Ce=!1,Ne=Ee};var Z=f.__private__.out=function(C){return C=C.toString(),xe+=C.length+1,Ne.push(C),Ne},Oe=f.__private__.write=function(C){return Z(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},at=f.__private__.getArrayBuffer=function(C){for(var q=C.length,se=new ArrayBuffer(q),pe=new Uint8Array(se);q--;)pe[q]=C.charCodeAt(q);return se},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ye};var Re=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(C){return Re=T===S?C/Nt:C,this};var rt,Ie=f.__private__.getFontSize=f.getFontSize=function(){return T===E?Re:Re*Nt},He=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(C){return He=C,this},f.__private__.getR2L=f.getR2L=function(){return He};var Ke,Xt=f.__private__.setZoomMode=function(C){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))rt=C;else if(isNaN(C)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');rt=C}else rt=parseInt(C,10)};f.__private__.getZoomMode=function(){return rt};var Ut,tt=f.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Ke=C};f.__private__.getPageMode=function(){return Ke};var ut=f.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');Ut=C};f.__private__.getLayoutMode=function(){return Ut},f.__private__.setDisplayMode=f.setDisplayMode=function(C,q,se){return Xt(C),ut(q),tt(se),this};var Ft={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(C){if(Object.keys(Ft).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ft[C]},f.__private__.getDocumentProperties=function(){return Ft},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(C){for(var q in Ft)Ft.hasOwnProperty(q)&&C[q]&&(Ft[q]=C[q]);return this},f.__private__.setDocumentProperty=function(C,q){if(Object.keys(Ft).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ft[C]=q};var st,Nt,vt,Dn,sn,jt={},Vt={},Sn=[],Et={},Nn={},Ct={},Ot={},kn=null,zt=0,pt=[],on=new SD(f),kt=n.hotfixes||[],Mt={},dn={},Kn=[],dt=function C(q,se,pe,we,Le,Ue){if(!(this instanceof C))return new C(q,se,pe,we,Le,Ue);isNaN(q)&&(q=1),isNaN(se)&&(se=0),isNaN(pe)&&(pe=0),isNaN(we)&&(we=1),isNaN(Le)&&(Le=0),isNaN(Ue)&&(Ue=0),this._matrix=[q,se,pe,we,Le,Ue]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(C)},dt.prototype.multiply=function(C){var q=C.sx*this.sx+C.shy*this.shx,se=C.sx*this.shy+C.shy*this.sy,pe=C.shx*this.sx+C.sy*this.shx,we=C.shx*this.shy+C.sy*this.sy,Le=C.tx*this.sx+C.ty*this.shx+this.tx,Ue=C.tx*this.shy+C.ty*this.sy+this.ty;return new dt(q,se,pe,we,Le,Ue)},dt.prototype.decompose=function(){var C=this.sx,q=this.shy,se=this.shx,pe=this.sy,we=this.tx,Le=this.ty,Ue=Math.sqrt(C*C+q*q),lt=(C/=Ue)*se+(q/=Ue)*pe;se-=C*lt,pe-=q*lt;var mt=Math.sqrt(se*se+pe*pe);return lt/=mt,C*(pe/=mt)<q*(se/=mt)&&(C=-C,q=-q,lt=-lt,Ue=-Ue),{scale:new dt(Ue,0,0,mt,0,0),translate:new dt(1,0,0,1,we,Le),rotate:new dt(C,q,-q,C,0,0),skew:new dt(1,0,lt,1,0,0)}},dt.prototype.toString=function(C){return this.join(" ")},dt.prototype.inversed=function(){var C=this.sx,q=this.shy,se=this.shx,pe=this.sy,we=this.tx,Le=this.ty,Ue=1/(C*pe-q*se),lt=pe*Ue,mt=-q*Ue,Lt=-se*Ue,qt=C*Ue;return new dt(lt,mt,Lt,qt,-lt*we-Lt*Le,-mt*we-qt*Le)},dt.prototype.applyToPoint=function(C){var q=C.x*this.sx+C.y*this.shx+this.tx,se=C.x*this.shy+C.y*this.sy+this.ty;return new Pa(q,se)},dt.prototype.applyToRectangle=function(C){var q=this.applyToPoint(C),se=this.applyToPoint(new Pa(C.x+C.w,C.y+C.h));return new Yd(q.x,q.y,se.x-q.x,se.y-q.y)},dt.prototype.clone=function(){var C=this.sx,q=this.shy,se=this.shx,pe=this.sy,we=this.tx,Le=this.ty;return new dt(C,q,se,pe,we,Le)},f.Matrix=dt;var _n=f.matrixMult=function(C,q){return q.multiply(C)},ci=new dt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=ci;var jn=function(C,q){if(!Nn[C]){var se=(q instanceof Cp?"Sh":"P")+(Object.keys(Et).length+1).toString(10);q.id=se,Nn[C]=se,Et[se]=q,on.publish("addPattern",q)}};f.ShadingPattern=Cp,f.TilingPattern=Eg,f.addShadingPattern=function(C,q){return P("addShadingPattern()"),jn(C,q),this},f.beginTilingPattern=function(C){P("beginTilingPattern()"),dc(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},f.endTilingPattern=function(C,q){P("endTilingPattern()"),q.stream=Fe[Q].join(`
`),jn(C,q),on.publish("endTilingPattern",q),Kn.pop().restore()};var Jn,br=f.__private__.newObject=function(){var C=ui();return xr(C,!0),C},ui=f.__private__.newObjectDeferred=function(){return fe++,he[fe]=function(){return xe},fe},xr=function(C,q){return q=typeof q=="boolean"&&q,he[C]=xe,q&&Z(C+" 0 obj"),C},hu=f.__private__.newAdditionalObject=function(){var C={objId:ui(),content:""};return Ae.push(C),C},ic=ui(),hs=ui(),Fo=f.__private__.decodeColorString=function(C){var q=C.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length!==5||q[4]!=="k"&&q[4]!=="K"||(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var se=parseFloat(q[0]);q=[se,se,se,"r"]}for(var pe="#",we=0;we<3;we++)pe+=("0"+Math.floor(255*parseFloat(q[we])).toString(16)).slice(-2);return pe},Bs=f.__private__.encodeColorString=function(C){var q;typeof C=="string"&&(C={ch1:C});var se=C.ch1,pe=C.ch2,we=C.ch3,Le=C.ch4,Ue=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var lt=new hW(se);if(lt.ok)se=lt.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var mt=parseInt(se.substr(1),16);se=mt>>16&255,pe=mt>>8&255,we=255&mt}if(pe===void 0||Le===void 0&&se===pe&&pe===we)q=typeof se=="string"?se+" "+Ue[0]:C.precision===2?k(se/255)+" "+Ue[0]:j(se/255)+" "+Ue[0];else if(Le===void 0||Bn(Le)==="object"){if(Le&&!isNaN(Le.a)&&Le.a===0)return["1.","1.","1.",Ue[1]].join(" ");q=typeof se=="string"?[se,pe,we,Ue[1]].join(" "):C.precision===2?[k(se/255),k(pe/255),k(we/255),Ue[1]].join(" "):[j(se/255),j(pe/255),j(we/255),Ue[1]].join(" ")}else q=typeof se=="string"?[se,pe,we,Le,Ue[2]].join(" "):C.precision===2?[k(se),k(pe),k(we),k(Le),Ue[2]].join(" "):[j(se),j(pe),j(we),j(Le),Ue[2]].join(" ");return q},fs=f.__private__.getFilters=function(){return o},Yr=f.__private__.putStream=function(C){var q=(C=C||{}).data||"",se=C.filters||fs(),pe=C.alreadyAppliedFilters||[],we=C.addLength1||!1,Le=q.length,Ue=C.objectId,lt=function(Br){return Br};if(u!==null&&Ue===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(lt=Zn.encryptor(Ue,0));var mt={};se===!0&&(se=["FlateEncode"]);var Lt=C.additionalKeyValues||[],qt=(mt=St.API.processDataByFilters!==void 0?St.API.processDataByFilters(q,se):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(mt.data.length!==0&&(Lt.push({key:"Length",value:mt.data.length}),we===!0&&Lt.push({key:"Length1",value:Le})),qt.length!=0)if(qt.split("/").length-1==1)Lt.push({key:"Filter",value:qt});else{Lt.push({key:"Filter",value:"["+qt+"]"});for(var pn=0;pn<Lt.length;pn+=1)if(Lt[pn].key==="DecodeParms"){for(var Rn=[],Cr=0;Cr<mt.reverseChain.split("/").length-1;Cr+=1)Rn.push("null");Rn.push(Lt[pn].value),Lt[pn].value="["+Rn.join(" ")+"]"}}Z("<<");for(var Un=0;Un<Lt.length;Un++)Z("/"+Lt[Un].key+" "+Lt[Un].value);Z(">>"),mt.data.length!==0&&(Z("stream"),Z(lt(mt.data)),Z("endstream"))},sc=f.__private__.putPage=function(C){var q=C.number,se=C.data,pe=C.objId,we=C.contentsObjId;xr(pe,!0),Z("<</Type /Page"),Z("/Parent "+C.rootDictionaryObjId+" 0 R"),Z("/Resources "+C.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(N(C.mediaBox.bottomLeftX))+" "+parseFloat(N(C.mediaBox.bottomLeftY))+" "+N(C.mediaBox.topRightX)+" "+N(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&Z("/CropBox ["+N(C.cropBox.bottomLeftX)+" "+N(C.cropBox.bottomLeftY)+" "+N(C.cropBox.topRightX)+" "+N(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&Z("/BleedBox ["+N(C.bleedBox.bottomLeftX)+" "+N(C.bleedBox.bottomLeftY)+" "+N(C.bleedBox.topRightX)+" "+N(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&Z("/TrimBox ["+N(C.trimBox.bottomLeftX)+" "+N(C.trimBox.bottomLeftY)+" "+N(C.trimBox.topRightX)+" "+N(C.trimBox.topRightY)+"]"),C.artBox!==null&&Z("/ArtBox ["+N(C.artBox.bottomLeftX)+" "+N(C.artBox.bottomLeftY)+" "+N(C.artBox.topRightX)+" "+N(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&Z("/UserUnit "+C.userUnit),on.publish("putPage",{objId:pe,pageContext:pt[q],pageNumber:q,page:se}),Z("/Contents "+we+" 0 R"),Z(">>"),Z("endobj");var Le=se.join(`
`);return T===S&&(Le+=`
Q`),xr(we,!0),Yr({data:Le,filters:fs(),objectId:we}),Z("endobj"),pe},Bo=f.__private__.putPages=function(){var C,q,se=[];for(C=1;C<=zt;C++)pt[C].objId=ui(),pt[C].contentsObjId=ui();for(C=1;C<=zt;C++)se.push(sc({number:C,data:Fe[C],objId:pt[C].objId,contentsObjId:pt[C].contentsObjId,mediaBox:pt[C].mediaBox,cropBox:pt[C].cropBox,bleedBox:pt[C].bleedBox,trimBox:pt[C].trimBox,artBox:pt[C].artBox,userUnit:pt[C].userUnit,rootDictionaryObjId:ic,resourceDictionaryObjId:hs}));xr(ic,!0),Z("<</Type /Pages");var pe="/Kids [";for(q=0;q<zt;q++)pe+=se[q]+" 0 R ";Z(pe+"]"),Z("/Count "+zt),Z(">>"),Z("endobj"),on.publish("postPutPages")},ul=function(C){on.publish("putFont",{font:C,out:Z,newObject:br,putStream:Yr}),C.isAlreadyPutted!==!0&&(C.objectNumber=br(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+tg(C.postScriptName)),Z("/Subtype /Type1"),typeof C.encoding=="string"&&Z("/Encoding /"+C.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},oc=function(C){C.objectNumber=br();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[N(C.x),N(C.y),N(C.x+C.width),N(C.y+C.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var se=C.pages[1].join(`
`);Yr({data:se,additionalKeyValues:q,objectId:C.objectNumber}),Z("endobj")},fu=function(C,q){q||(q=21);var se=br(),pe=function(Ue,lt){var mt,Lt=[],qt=1/(lt-1);for(mt=0;mt<1;mt+=qt)Lt.push(mt);if(Lt.push(1),Ue[0].offset!=0){var pn={offset:0,color:Ue[0].color};Ue.unshift(pn)}if(Ue[Ue.length-1].offset!=1){var Rn={offset:1,color:Ue[Ue.length-1].color};Ue.push(Rn)}for(var Cr="",Un=0,Br=0;Br<Lt.length;Br++){for(mt=Lt[Br];mt>Ue[Un+1].offset;)Un++;var Tr=Ue[Un].offset,Ur=(mt-Tr)/(Ue[Un+1].offset-Tr),Nr=Ue[Un].color,ho=Ue[Un+1].color;Cr+=ce(Math.round((1-Ur)*Nr[0]+Ur*ho[0]).toString(16))+ce(Math.round((1-Ur)*Nr[1]+Ur*ho[1]).toString(16))+ce(Math.round((1-Ur)*Nr[2]+Ur*ho[2]).toString(16))}return Cr.trim()}(C.colors,q),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+q+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Yr({data:pe,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),Z("endobj"),C.objectNumber=br(),Z("<< /ShadingType "+C.type),Z("/ColorSpace /DeviceRGB");var Le="/Coords ["+N(parseFloat(C.coords[0]))+" "+N(parseFloat(C.coords[1]))+" ";C.type===2?Le+=N(parseFloat(C.coords[2]))+" "+N(parseFloat(C.coords[3])):Le+=N(parseFloat(C.coords[2]))+" "+N(parseFloat(C.coords[3]))+" "+N(parseFloat(C.coords[4]))+" "+N(parseFloat(C.coords[5])),Z(Le+="]"),C.matrix&&Z("/Matrix ["+C.matrix.toString()+"]"),Z("/Function "+se+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},pu=function(C,q){var se=ui(),pe=br();q.push({resourcesOid:se,objectOid:pe}),C.objectNumber=pe;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+C.boundingBox.map(N).join(" ")+"]"}),we.push({key:"XStep",value:N(C.xStep)}),we.push({key:"YStep",value:N(C.yStep)}),we.push({key:"Resources",value:se+" 0 R"}),C.matrix&&we.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Yr({data:C.stream,additionalKeyValues:we,objectId:C.objectNumber}),Z("endobj")},H2=function(C){for(var q in C.objectNumber=br(),Z("<<"),C)switch(q){case"opacity":Z("/ca "+k(C[q]));break;case"stroke-opacity":Z("/CA "+k(C[q]))}Z(">>"),Z("endobj")},ac=function(C){xr(C.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var q in Z("/Font <<"),jt)jt.hasOwnProperty(q)&&(h===!1||h===!0&&p.hasOwnProperty(q))&&Z("/"+q+" "+jt[q].objectNumber+" 0 R");Z(">>")}(),function(){if(Object.keys(Et).length>0){for(var q in Z("/Shading <<"),Et)Et.hasOwnProperty(q)&&Et[q]instanceof Cp&&Et[q].objectNumber>=0&&Z("/"+q+" "+Et[q].objectNumber+" 0 R");on.publish("putShadingPatternDict"),Z(">>")}}(),function(q){if(Object.keys(Et).length>0){for(var se in Z("/Pattern <<"),Et)Et.hasOwnProperty(se)&&Et[se]instanceof f.TilingPattern&&Et[se].objectNumber>=0&&Et[se].objectNumber<q&&Z("/"+se+" "+Et[se].objectNumber+" 0 R");on.publish("putTilingPatternDict"),Z(">>")}}(C.objectOid),function(){if(Object.keys(Ct).length>0){var q;for(q in Z("/ExtGState <<"),Ct)Ct.hasOwnProperty(q)&&Ct[q].objectNumber>=0&&Z("/"+q+" "+Ct[q].objectNumber+" 0 R");on.publish("putGStateDict"),Z(">>")}}(),function(){for(var q in Z("/XObject <<"),Mt)Mt.hasOwnProperty(q)&&Mt[q].objectNumber>=0&&Z("/"+q+" "+Mt[q].objectNumber+" 0 R");on.publish("putXobjectDict"),Z(">>")}(),Z(">>"),Z("endobj")},Jf=function(C){Vt[C.fontName]=Vt[C.fontName]||{},Vt[C.fontName][C.fontStyle]=C.id},$d=function(C,q,se,pe,we){var Le={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:C,fontName:q,fontStyle:se,encoding:pe,isStandardFont:we||!1,metadata:{}};return on.publish("addFont",{font:Le,instance:this}),jt[Le.id]=Le,Jf(Le),Le.id},Li=f.__private__.pdfEscape=f.pdfEscape=function(C,q){return function(se,pe){var we,Le,Ue,lt,mt,Lt,qt,pn,Rn;if(Ue=(pe=pe||{}).sourceEncoding||"Unicode",mt=pe.outputEncoding,(pe.autoencode||mt)&&jt[st].metadata&&jt[st].metadata[Ue]&&jt[st].metadata[Ue].encoding&&(lt=jt[st].metadata[Ue].encoding,!mt&&jt[st].encoding&&(mt=jt[st].encoding),!mt&&lt.codePages&&(mt=lt.codePages[0]),typeof mt=="string"&&(mt=lt[mt]),mt)){for(qt=!1,Lt=[],we=0,Le=se.length;we<Le;we++)(pn=mt[se.charCodeAt(we)])?Lt.push(String.fromCharCode(pn)):Lt.push(se[we]),Lt[we].charCodeAt(0)>>8&&(qt=!0);se=Lt.join("")}for(we=se.length;qt===void 0&&we!==0;)se.charCodeAt(we-1)>>8&&(qt=!0),we--;if(!qt)return se;for(Lt=pe.noBOM?[]:[254,255],we=0,Le=se.length;we<Le;we++){if((Rn=(pn=se.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Lt.push(Rn),Lt.push(pn-(Rn<<8))}return String.fromCharCode.apply(void 0,Lt)}(C,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uo=f.__private__.beginPage=function(C){Fe[++zt]=[],pt[zt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},ep(zt),De(Fe[Q])},qd=function(C,q){var se,pe,we;switch(t=q||t,typeof C=="string"&&(se=x(C.toLowerCase()),Array.isArray(se)&&(pe=se[0],we=se[1])),Array.isArray(C)&&(pe=C[0]*Nt,we=C[1]*Nt),isNaN(pe)&&(pe=i[0],we=i[1]),(pe>14400||we>14400)&&(nr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),we=Math.min(14400,we)),i=[pe,we],t.substr(0,1)){case"l":we>pe&&(i=[we,pe]);break;case"p":pe>we&&(i=[we,pe])}Uo(i),Rt(Wd),Z(hl),Yn!==0&&Z(Yn+" J"),op!==0&&Z(op+" j"),on.publish("addPage",{pageNumber:zt})},Zf=function(C){C>0&&C<=zt&&(Fe.splice(C,1),pt.splice(C,1),zt--,Q>zt&&(Q=zt),this.setPage(Q))},ep=function(C){C>0&&C<=zt&&(Q=C)},tp=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Fe.length-1},np=function(C,q,se){var pe,we=void 0;return se=se||{},C=C!==void 0?C:jt[st].fontName,q=q!==void 0?q:jt[st].fontStyle,pe=C.toLowerCase(),Vt[pe]!==void 0&&Vt[pe][q]!==void 0?we=Vt[pe][q]:Vt[C]!==void 0&&Vt[C][q]!==void 0?we=Vt[C][q]:se.disableWarning===!1&&nr.warn("Unable to look up font label for font '"+C+"', '"+q+"'. Refer to getFontList() for available fonts."),we||se.noFallback||(we=Vt.times[q])==null&&(we=Vt.times.normal),we},co=f.__private__.putInfo=function(){var C=br(),q=function(pe){return pe};for(var se in u!==null&&(q=Zn.encryptor(C,0)),Z("<<"),Z("/Producer ("+Li(q("jsPDF "+St.version))+")"),Ft)Ft.hasOwnProperty(se)&&Ft[se]&&Z("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+Li(q(Ft[se]))+")");Z("/CreationDate ("+Li(q(ue))+")"),Z(">>"),Z("endobj")},lc=f.__private__.putCatalog=function(C){var q=(C=C||{}).rootDictionaryObjId||ic;switch(br(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+q+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+rt;se.substr(se.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+k(rt)+"]")}switch(Ut||(Ut="continuous"),Ut){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}Ke&&Z("/PageMode /"+Ke),on.publish("putCatalog"),Z(">>"),Z("endobj")},R1=f.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(fe+1)),Z("/Root "+fe+" 0 R"),Z("/Info "+(fe-1)+" 0 R"),u!==null&&Z("/Encrypt "+Zn.oid+" 0 R"),Z("/ID [ <"+de+"> <"+de+"> ]"),Z(">>")},Sr=f.__private__.putHeader=function(){Z("%PDF-"+b),Z("%")},L1=f.__private__.putXRef=function(){var C="0000000000";Z("xref"),Z("0 "+(fe+1)),Z("0000000000 65535 f ");for(var q=1;q<=fe;q++)typeof he[q]=="function"?Z((C+he[q]()).slice(-10)+" 00000 n "):he[q]!==void 0?Z((C+he[q]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Ta=f.__private__.buildDocument=function(){var C;fe=0,xe=0,Ee=[],he=[],Ae=[],ic=ui(),hs=ui(),De(Ee),on.publish("buildDocument"),Sr(),Bo(),function(){on.publish("putAdditionalObjects");for(var se=0;se<Ae.length;se++){var pe=Ae[se];xr(pe.objId,!0),Z(pe.content),Z("endobj")}on.publish("postPutAdditionalObjects")}(),C=[],function(){for(var se in jt)jt.hasOwnProperty(se)&&(h===!1||h===!0&&p.hasOwnProperty(se))&&ul(jt[se])}(),function(){var se;for(se in Ct)Ct.hasOwnProperty(se)&&H2(Ct[se])}(),function(){for(var se in Mt)Mt.hasOwnProperty(se)&&oc(Mt[se])}(),function(se){var pe;for(pe in Et)Et.hasOwnProperty(pe)&&(Et[pe]instanceof Cp?fu(Et[pe]):Et[pe]instanceof Eg&&pu(Et[pe],se))}(C),on.publish("putResources"),C.forEach(ac),ac({resourcesOid:hs,objectOid:Number.MAX_SAFE_INTEGER}),on.publish("postPutResources"),u!==null&&(Zn.oid=br(),Z("<<"),Z("/Filter /Standard"),Z("/V "+Zn.v),Z("/R "+Zn.r),Z("/U <"+Zn.toHexString(Zn.U)+">"),Z("/O <"+Zn.toHexString(Zn.O)+">"),Z("/P "+Zn.P),Z(">>"),Z("endobj")),co(),lc();var q=xe;return L1(),R1(),Z("startxref"),Z(""+q),Z("%%EOF"),De(Fe[Q]),Ee.join(`
`)},mu=f.__private__.getBlob=function(C){return new Blob([at(C)],{type:"application/pdf"})},rp=f.output=f.__private__.output=(Jn=function(C,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",C){case void 0:return Ta();case"save":f.save(q.filename);break;case"arraybuffer":return at(Ta());case"blob":return mu(Ta());case"bloburi":case"bloburl":if(Bt.URL!==void 0&&typeof Bt.URL.createObjectURL=="function")return Bt.URL&&Bt.URL.createObjectURL(mu(Ta()))||void 0;nr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",pe=Ta();try{se=_D(pe)}catch{se=_D(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+q.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Bt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Le=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(we=q.pdfObjectUrl,Le="");var Ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Le+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",lt=Bt.open();return lt!==null&&lt.document.write(Ue),lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Bt)==="[object Window]"){var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',Lt=Bt.open();if(Lt!==null){Lt.document.write(mt);var qt=this;Lt.document.documentElement.querySelector("#pdfViewer").onload=function(){Lt.document.title=q.filename,Lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(qt.output("bloburl"))}}return Lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Bt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',Rn=Bt.open();if(Rn!==null&&(Rn.document.write(pn),Rn.document.title=q.filename),Rn||typeof safari>"u")return Rn;break;case"datauri":case"dataurl":return Bt.document.location.href=this.output("datauristring",q);default:return null}},Jn.foo=function(){try{return Jn.apply(this,arguments)}catch(se){var C=se.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var q="Error in function "+C.split(`
`)[0].split("<")[0]+": "+se.message;if(!Bt.console)throw new Error(q);Bt.console.error(q,se),Bt.alert&&alert(q)}},Jn.foo.bar=Jn,Jn.foo),uo=function(C){return Array.isArray(kt)===!0&&kt.indexOf(C)>-1};switch(r){case"pt":Nt=1;break;case"mm":Nt=72/25.4;break;case"cm":Nt=72/2.54;break;case"in":Nt=72;break;case"px":Nt=uo("px_scaling")==1?.75:96/72;break;case"pc":case"em":Nt=12;break;case"ex":Nt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Nt=r}var Zn=null;ye(),J();var yi=f.__private__.getPageInfo=f.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pt[C].objId,pageNumber:C,pageContext:pt[C]}},gu=f.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in pt)if(pt[q].objId===C)break;return yi(q)},Hd=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:pt[Q].objId,pageNumber:Q,pageContext:pt[Q]}};f.addPage=function(){return qd.apply(this,arguments),this},f.setPage=function(){return ep.apply(this,arguments),De.call(this,Fe[Q]),this},f.insertPage=function(C){return this.addPage(),this.movePage(Q,C),this},f.movePage=function(C,q){var se,pe;if(C>q){se=Fe[C],pe=pt[C];for(var we=C;we>q;we--)Fe[we]=Fe[we-1],pt[we]=pt[we-1];Fe[q]=se,pt[q]=pe,this.setPage(q)}else if(C<q){se=Fe[C],pe=pt[C];for(var Le=C;Le<q;Le++)Fe[Le]=Fe[Le+1],pt[Le]=pt[Le+1];Fe[q]=se,pt[q]=pe,this.setPage(q)}return this},f.deletePage=function(){return Zf.apply(this,arguments),this},f.__private__.text=f.text=function(C,q,se,pe,we){var Le,Ue,lt,mt,Lt,qt,pn,Rn,Cr,Un=(pe=pe||{}).scope||this;if(typeof C=="number"&&typeof q=="number"&&(typeof se=="string"||Array.isArray(se))){var Br=se;se=q,q=C,C=Br}if(arguments[3]instanceof dt==0?(lt=arguments[4],mt=arguments[5],Bn(pn=arguments[3])==="object"&&pn!==null||(typeof lt=="string"&&(mt=lt,lt=null),typeof pn=="string"&&(mt=pn,pn=null),typeof pn=="number"&&(lt=pn,pn=null),pe={flags:pn,angle:lt,align:mt})):(P("The transform parameter of text() with a Matrix value"),Cr=we),isNaN(q)||isNaN(se)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return Un;var Tr,Ur="",Nr=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:uc,ho=Un.internal.scaleFactor;function Ma(On){return On=On.split("	").join(Array(pe.TabLen||9).join(" ")),Li(On,pn)}function Da(On){for(var er,Qr=On.concat(),wi=[],_u=Qr.length;_u--;)typeof(er=Qr.shift())=="string"?wi.push(er):Array.isArray(On)&&(er.length===1||er[1]===void 0&&er[2]===void 0)?wi.push(er[0]):wi.push([er[0],er[1],er[2]]);return wi}function y(On,er){var Qr;if(typeof On=="string")Qr=er(On)[0];else if(Array.isArray(On)){for(var wi,_u,sv=On.concat(),V1=[],Db=sv.length;Db--;)typeof(wi=sv.shift())=="string"?V1.push(er(wi)[0]):Array.isArray(wi)&&typeof wi[0]=="string"&&(_u=er(wi[0],wi[1],wi[2]),V1.push([_u[0],_u[1],_u[2]]));Qr=V1}return Qr}var R=!1,U=!0;if(typeof C=="string")R=!0;else if(Array.isArray(C)){var te=C.concat();Ue=[];for(var be,ke=te.length;ke--;)(typeof(be=te.shift())!="string"||Array.isArray(be)&&typeof be[0]!="string")&&(U=!1);R=U}if(R===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var Ge=Re/Un.internal.scaleFactor,vn=Ge*(Nr-1);switch(pe.baseline){case"bottom":se-=vn;break;case"top":se+=Ge-vn;break;case"hanging":se+=Ge-2*vn;break;case"middle":se+=Ge/2-vn}if((qt=pe.maxWidth||0)>0&&(typeof C=="string"?C=Un.splitTextToSize(C,qt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(On,er){return On.concat(Un.splitTextToSize(er,qt))},[]))),Le={text:C,x:q,y:se,options:pe,mutex:{pdfEscape:Li,activeFontKey:st,fonts:jt,activeFontSize:Re}},on.publish("preProcessText",Le),C=Le.text,lt=(pe=Le.options).angle,Cr instanceof dt==0&&lt&&typeof lt=="number"){lt*=Math.PI/180,pe.rotationDirection===0&&(lt=-lt),T===S&&(lt=-lt);var kr=Math.cos(lt),cn=Math.sin(lt);Cr=new dt(kr,cn,-cn,kr,0,0)}else lt&&lt instanceof dt&&(Cr=lt);T!==S||Cr||(Cr=ci),(Lt=pe.charSpace||Ia)!==void 0&&(Ur+=N(L(Lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Rn=pe.horizontalScale)!==void 0&&(Ur+=N(100*Rn)+` Tz
`),pe.lang;var In=-1,or=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,zo=Un.internal.getCurrentPageInfo().pageContext;switch(or){case 0:case!1:case"fill":In=0;break;case 1:case!0:case"stroke":In=1;break;case 2:case"fillThenStroke":In=2;break;case 3:case"invisible":In=3;break;case 4:case"fillAndAddForClipping":In=4;break;case 5:case"strokeAndAddPathForClipping":In=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":In=6;break;case 7:case"addToPathForClipping":In=7}var ps=zo.usedRenderingMode!==void 0?zo.usedRenderingMode:-1;In!==-1?Ur+=In+` Tr
`:ps!==-1&&(Ur+=`0 Tr
`),In!==-1&&(zo.usedRenderingMode=In),mt=pe.align||"left";var Yi,fl=Re*Nr,J2=Un.internal.pageSize.getWidth(),Z2=jt[st];Lt=pe.charSpace||Ia,qt=pe.maxWidth||0,pn=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var Qd=[],cp=function(On){return Un.getStringUnitWidth(On,{font:Z2,charSpace:Lt,fontSize:Re,doKerning:!1})*Re/ho};if(Object.prototype.toString.call(C)==="[object Array]"){var $o;Ue=Da(C),mt!=="left"&&(Yi=Ue.map(cp));var qo,Jd=0;if(mt==="right"){q-=Yi[0],C=[],ke=Ue.length;for(var xu=0;xu<ke;xu++)xu===0?(qo=Mi(q),$o=dl(se)):(qo=L(Jd-Yi[xu]),$o=-fl),C.push([Ue[xu],qo,$o]),Jd=Yi[xu]}else if(mt==="center"){q-=Yi[0]/2,C=[],ke=Ue.length;for(var Zd=0;Zd<ke;Zd++)Zd===0?(qo=Mi(q),$o=dl(se)):(qo=L((Jd-Yi[Zd])/2),$o=-fl),C.push([Ue[Zd],qo,$o]),Jd=Yi[Zd]}else if(mt==="left"){C=[],ke=Ue.length;for(var ev=0;ev<ke;ev++)C.push(Ue[ev])}else if(mt==="justify"&&Z2.encoding==="Identity-H"){C=[],ke=Ue.length,qt=qt!==0?qt:J2;for(var U1=0,Xr=0;Xr<ke;Xr++)if($o=Xr===0?dl(se):-fl,qo=Xr===0?Mi(q):U1,Xr<ke-1){var Mb=L((qt-Yi[Xr])/(Ue[Xr].split(" ").length-1)),fc=Ue[Xr].split(" ");C.push([fc[0]+" ",qo,$o]),U1=0;for(var pc=1;pc<fc.length;pc++){var tv=(cp(fc[pc-1]+" "+fc[pc])-cp(fc[pc]))*ho+Mb;pc==fc.length-1?C.push([fc[pc],tv,0]):C.push([fc[pc]+" ",tv,0]),U1-=tv}}else C.push([Ue[Xr],qo,$o]);C.push(["",U1,0])}else{if(mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],ke=Ue.length,qt=qt!==0?qt:J2,Xr=0;Xr<ke;Xr++){$o=Xr===0?dl(se):-fl,qo=Xr===0?Mi(q):0;var nv=Ue[Xr].split(" ").length-1,rv=nv>0?(qt-Yi[Xr])/nv:0;Xr<ke-1?Qd.push(N(L(rv))):Qd.push(0),C.push([Ue[Xr],qo,$o])}}}(typeof pe.R2L=="boolean"?pe.R2L:He)===!0&&(C=y(C,function(On,er,Qr){return[On.split("").reverse().join(""),er,Qr]})),Le={text:C,x:q,y:se,options:pe,mutex:{pdfEscape:Li,activeFontKey:st,fonts:jt,activeFontSize:Re}},on.publish("postProcessText",Le),C=Le.text,Tr=Le.mutex.isHex||!1;var iv=jt[st].encoding;iv!=="WinAnsiEncoding"&&iv!=="StandardEncoding"||(C=y(C,function(On,er,Qr){return[Ma(On),er,Qr]})),Ue=Da(C),C=[];for(var eh,th,nh,up=Array.isArray(Ue[0])?1:0,rh="",dp=function(On,er,Qr){var wi="";return Qr instanceof dt?(Qr=typeof pe.angle=="number"?_n(Qr,new dt(1,0,0,1,On,er)):_n(new dt(1,0,0,1,On,er),Qr),T===S&&(Qr=_n(new dt(1,0,0,-1,0,0),Qr)),wi=Qr.join(" ")+` Tm
`):wi=N(On)+" "+N(er)+` Td
`,wi},ja=0;ja<Ue.length;ja++){switch(rh="",up){case 1:nh=(Tr?"<":"(")+Ue[ja][0]+(Tr?">":")"),eh=parseFloat(Ue[ja][1]),th=parseFloat(Ue[ja][2]);break;case 0:nh=(Tr?"<":"(")+Ue[ja]+(Tr?">":")"),eh=Mi(q),th=dl(se)}Qd!==void 0&&Qd[ja]!==void 0&&(rh=Qd[ja]+` Tw
`),ja===0?C.push(rh+dp(eh,th,Cr)+nh):up===0?C.push(rh+nh):up===1&&C.push(rh+dp(eh,th,Cr)+nh)}C=up===0?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var mc=`BT
/`;return mc+=st+" "+Re+` Tf
`,mc+=N(Re*Nr)+` TL
`,mc+=Vo+`
`,mc+=Ur,mc+=C,Z(mc+="ET"),p[st]=!0,Un};var M1=f.__private__.clip=f.clip=function(C){return Z(C==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return M1("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Z("n"),this};var fn=f.__private__.isValidStyle=function(C){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(q=!0),q};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(C){return fn(C)&&(c=C),this};var vu=f.__private__.getStyle=f.getStyle=function(C){var q=c;switch(C){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=C}return q},cc=f.close=function(){return Z("h"),this};f.stroke=function(){return Z("S"),this},f.fill=function(C){return Na("f",C),this},f.fillEvenOdd=function(C){return Na("f*",C),this},f.fillStroke=function(C){return Na("B",C),this},f.fillStrokeEvenOdd=function(C){return Na("B*",C),this};var Na=function(C,q){Bn(q)==="object"?W2(q,C):Z(C)},yu=function(C){C===null||T===S&&C===void 0||(C=vu(C),Z(C))};function D1(C,q,se,pe,we){var Le=new Eg(q||this.boundingBox,se||this.xStep,pe||this.yStep,this.gState,we||this.matrix);Le.stream=this.stream;var Ue=C+"$$"+this.cloneIndex+++"$$";return jn(Ue,Le),Le}var W2=function(C,q){var se=Nn[C.key],pe=Et[se];if(pe instanceof Cp)Z("q"),Z(G2(q)),pe.gState&&f.setGState(pe.gState),Z(C.matrix.toString()+" cm"),Z("/"+se+" sh"),Z("Q");else if(pe instanceof Eg){var we=new dt(1,0,0,-1,0,La());C.matrix&&(we=we.multiply(C.matrix||ci),se=D1.call(pe,C.key,C.boundingBox,C.xStep,C.yStep,we).id),Z("q"),Z("/Pattern cs"),Z("/"+se+" scn"),pe.gState&&f.setGState(pe.gState),Z(q),Z("Q")}},G2=function(C){switch(C){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ip=f.moveTo=function(C,q){return Z(N(L(C))+" "+N(W(q))+" m"),this},j1=f.lineTo=function(C,q){return Z(N(L(C))+" "+N(W(q))+" l"),this},Ki=f.curveTo=function(C,q,se,pe,we,Le){return Z([N(L(C)),N(W(q)),N(L(se)),N(W(pe)),N(L(we)),N(W(Le)),"c"].join(" ")),this};f.__private__.line=f.line=function(C,q,se,pe,we){if(isNaN(C)||isNaN(q)||isNaN(se)||isNaN(pe)||!fn(we))throw new Error("Invalid arguments passed to jsPDF.line");return T===E?this.lines([[se-C,pe-q]],C,q,[1,1],we||"S"):this.lines([[se-C,pe-q]],C,q,[1,1]).stroke()},f.__private__.lines=f.lines=function(C,q,se,pe,we,Le){var Ue,lt,mt,Lt,qt,pn,Rn,Cr,Un,Br,Tr,Ur;if(typeof C=="number"&&(Ur=se,se=q,q=C,C=Ur),pe=pe||[1,1],Le=Le||!1,isNaN(q)||isNaN(se)||!Array.isArray(C)||!Array.isArray(pe)||!fn(we)||typeof Le!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ip(q,se),Ue=pe[0],lt=pe[1],Lt=C.length,Br=q,Tr=se,mt=0;mt<Lt;mt++)(qt=C[mt]).length===2?(Br=qt[0]*Ue+Br,Tr=qt[1]*lt+Tr,j1(Br,Tr)):(pn=qt[0]*Ue+Br,Rn=qt[1]*lt+Tr,Cr=qt[2]*Ue+Br,Un=qt[3]*lt+Tr,Br=qt[4]*Ue+Br,Tr=qt[5]*lt+Tr,Ki(pn,Rn,Cr,Un,Br,Tr));return Le&&cc(),yu(we),this},f.path=function(C){for(var q=0;q<C.length;q++){var se=C[q],pe=se.c;switch(se.op){case"m":ip(pe[0],pe[1]);break;case"l":j1(pe[0],pe[1]);break;case"c":Ki.apply(this,pe);break;case"h":cc()}}return this},f.__private__.rect=f.rect=function(C,q,se,pe,we){if(isNaN(C)||isNaN(q)||isNaN(se)||isNaN(pe)||!fn(we))throw new Error("Invalid arguments passed to jsPDF.rect");return T===E&&(pe=-pe),Z([N(L(C)),N(W(q)),N(L(se)),N(L(pe)),"re"].join(" ")),yu(we),this},f.__private__.triangle=f.triangle=function(C,q,se,pe,we,Le,Ue){if(isNaN(C)||isNaN(q)||isNaN(se)||isNaN(pe)||isNaN(we)||isNaN(Le)||!fn(Ue))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-C,pe-q],[we-se,Le-pe],[C-we,q-Le]],C,q,[1,1],Ue,!0),this},f.__private__.roundedRect=f.roundedRect=function(C,q,se,pe,we,Le,Ue){if(isNaN(C)||isNaN(q)||isNaN(se)||isNaN(pe)||isNaN(we)||isNaN(Le)||!fn(Ue))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*se),Le=Math.min(Le,.5*pe),this.lines([[se-2*we,0],[we*lt,0,we,Le-Le*lt,we,Le],[0,pe-2*Le],[0,Le*lt,-we*lt,Le,-we,Le],[2*we-se,0],[-we*lt,0,-we,-Le*lt,-we,-Le],[0,2*Le-pe],[0,-Le*lt,we*lt,-Le,we,-Le]],C+we,q,[1,1],Ue,!0),this},f.__private__.ellipse=f.ellipse=function(C,q,se,pe,we){if(isNaN(C)||isNaN(q)||isNaN(se)||isNaN(pe)||!fn(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Le=4/3*(Math.SQRT2-1)*se,Ue=4/3*(Math.SQRT2-1)*pe;return ip(C+se,q),Ki(C+se,q-Ue,C+Le,q-pe,C,q-pe),Ki(C-Le,q-pe,C-se,q-Ue,C-se,q),Ki(C-se,q+Ue,C-Le,q+pe,C,q+pe),Ki(C+Le,q+pe,C+se,q+Ue,C+se,q),yu(we),this},f.__private__.circle=f.circle=function(C,q,se,pe){if(isNaN(C)||isNaN(q)||isNaN(se)||!fn(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,q,se,se,pe)},f.setFont=function(C,q,se){return se&&(q=M(q,se)),st=np(C,q,{disableWarning:!1}),this};var ka=f.__private__.getFont=f.getFont=function(){return jt[np.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var C,q,se={};for(C in Vt)if(Vt.hasOwnProperty(C))for(q in se[C]=[],Vt[C])Vt[C].hasOwnProperty(q)&&se[C].push(q);return se},f.addFont=function(C,q,se,pe,we){var Le=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Le.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Le.indexOf(arguments[3])==-1&&(se=M(se,pe)),$d.call(this,C,q,se,we=we||"Identity-H")};var uc,Wd=n.lineWidth||.200025,O1=f.__private__.getLineWidth=f.getLineWidth=function(){return Wd},Rt=f.__private__.setLineWidth=f.setLineWidth=function(C){return Wd=C,Z(N(L(C))+" w"),this};f.__private__.setLineDash=St.API.setLineDash=St.API.setLineDashPattern=function(C,q){if(C=C||[],q=q||0,isNaN(q)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(se){return N(L(se))}).join(" "),q=N(L(q)),Z("["+C+"] "+q+" d"),this};var K2=f.__private__.getLineHeight=f.getLineHeight=function(){return Re*uc};f.__private__.getLineHeight=f.getLineHeight=function(){return Re*uc};var Y2=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(uc=C),this},X2=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return uc};Y2(n.lineHeight);var Mi=f.__private__.getHorizontalCoordinate=function(C){return L(C)},dl=f.__private__.getVerticalCoordinate=function(C){return T===S?C:pt[Q].mediaBox.topRightY-pt[Q].mediaBox.bottomLeftY-L(C)},Q2=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(C){return N(Mi(C))},Gd=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(C){return N(dl(C))},hl=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Fo(hl)},f.__private__.setStrokeColor=f.setDrawColor=function(C,q,se,pe){return hl=Bs({ch1:C,ch2:q,ch3:se,ch4:pe,pdfColorType:"draw",precision:2}),Z(hl),this};var Kd=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Fo(Kd)},f.__private__.setFillColor=f.setFillColor=function(C,q,se,pe){return Kd=Bs({ch1:C,ch2:q,ch3:se,ch4:pe,pdfColorType:"fill",precision:2}),Z(Kd),this};var Vo=n.textColor||"0 g",wu=f.__private__.getTextColor=f.getTextColor=function(){return Fo(Vo)};f.__private__.setTextColor=f.setTextColor=function(C,q,se,pe){return Vo=Bs({ch1:C,ch2:q,ch3:se,ch4:pe,pdfColorType:"text",precision:3}),this};var Ia=n.charSpace,sp=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ia||0)};f.__private__.setCharSpace=f.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ia=C,this};var Yn=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(C){var q=f.CapJoinStyles[C];if(q===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yn=q,Z(q+" J"),this};var op=0;f.__private__.setLineJoin=f.setLineJoin=function(C){var q=f.CapJoinStyles[C];if(q===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return op=q,Z(q+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(N(L(C))+" M"),this},f.GState=m_,f.setGState=function(C){(C=typeof C=="string"?Ct[Ot[C]]:F1(null,C)).equals(kn)||(Z("/"+C.id+" gs"),kn=C)};var F1=function(C,q){if(!C||!Ot[C]){var se=!1;for(var pe in Ct)if(Ct.hasOwnProperty(pe)&&Ct[pe].equals(q)){se=!0;break}if(se)q=Ct[pe];else{var we="GS"+(Object.keys(Ct).length+1).toString(10);Ct[we]=q,q.id=we}return C&&(Ot[C]=q.id),on.publish("addGState",q),q}};f.addGState=function(C,q){return F1(C,q),this},f.saveGraphicsState=function(){return Z("q"),Sn.push({key:st,size:Re,color:Vo}),this},f.restoreGraphicsState=function(){Z("Q");var C=Sn.pop();return st=C.key,Re=C.size,Vo=C.color,kn=null,this},f.setCurrentTransformationMatrix=function(C){return Z(C.toString()+" cm"),this},f.comment=function(C){return Z("#"+C),this};var Pa=function(C,q){var se=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Le){isNaN(Le)||(se=parseFloat(Le))}});var pe=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Le){isNaN(Le)||(pe=parseFloat(Le))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Le){we=Le.toString()}}),this},Yd=function(C,q,se,pe){Pa.call(this,C,q),this.type="rect";var we=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Ue){isNaN(Ue)||(we=parseFloat(Ue))}});var Le=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Le},set:function(Ue){isNaN(Ue)||(Le=parseFloat(Ue))}}),this},bu=function(){this.page=zt,this.currentPage=Q,this.pages=Fe.slice(0),this.pagesContext=pt.slice(0),this.x=vt,this.y=Dn,this.matrix=sn,this.width=Us(Q),this.height=B1(Q),this.outputDestination=Ne,this.id="",this.objectNumber=-1};bu.prototype.restore=function(){zt=this.page,Q=this.currentPage,pt=this.pagesContext,Fe=this.pages,vt=this.x,Dn=this.y,sn=this.matrix,ap(Q,this.width),Vs(Q,this.height),Ne=this.outputDestination};var dc=function(C,q,se,pe,we){Kn.push(new bu),zt=Q=0,Fe=[],vt=C,Dn=q,sn=we,Uo([se,pe])};for(var hc in f.beginFormObject=function(C,q,se,pe,we){return dc(C,q,se,pe,we),this},f.endFormObject=function(C){return function(q){if(dn[q])Kn.pop().restore();else{var se=new bu,pe="Xo"+(Object.keys(Mt).length+1).toString(10);se.id=pe,dn[q]=pe,Mt[pe]=se,on.publish("addFormObject",se),Kn.pop().restore()}}(C),this},f.doFormObject=function(C,q){var se=Mt[dn[C]];return Z("q"),Z(q.toString()+" cm"),Z("/"+se.id+" Do"),Z("Q"),this},f.getFormObject=function(C){var q=Mt[dn[C]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},f.save=function(C,q){return C=C||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(yp(mu(Ta()),C),typeof yp.unload=="function"&&Bt.setTimeout&&setTimeout(yp.unload,911),this):new Promise(function(se,pe){try{var we=yp(mu(Ta()),C);typeof yp.unload=="function"&&Bt.setTimeout&&setTimeout(yp.unload,911),se(we)}catch(Le){pe(Le.message)}})},St.API)St.API.hasOwnProperty(hc)&&(hc==="events"&&St.API.events.length?function(C,q){var se,pe,we;for(we=q.length-1;we!==-1;we--)se=q[we][0],pe=q[we][1],C.subscribe.apply(C,[se].concat(typeof pe=="function"?[pe]:pe))}(on,St.API.events):f[hc]=St.API[hc]);function Us(C){return pt[C].mediaBox.topRightX-pt[C].mediaBox.bottomLeftX}function ap(C,q){pt[C].mediaBox.topRightX=q+pt[C].mediaBox.bottomLeftX}function B1(C){return pt[C].mediaBox.topRightY-pt[C].mediaBox.bottomLeftY}function Vs(C,q){pt[C].mediaBox.topRightY=q+pt[C].mediaBox.bottomLeftY}var Ra=f.getPageWidth=function(C){return Us(C=C||Q)/Nt},Xd=f.setPageWidth=function(C,q){ap(C,q*Nt)},La=f.getPageHeight=function(C){return B1(C=C||Q)/Nt},lp=f.setPageHeight=function(C,q){Vs(C,q*Nt)};return f.internal={pdfEscape:Li,getStyle:vu,getFont:ka,getFontSize:Ie,getCharSpace:sp,getTextColor:wu,getLineHeight:K2,getLineHeightFactor:X2,getLineWidth:O1,write:Oe,getHorizontalCoordinate:Mi,getVerticalCoordinate:dl,getCoordinateString:Q2,getVerticalCoordinateString:Gd,collections:{},newObject:br,newAdditionalObject:hu,newObjectDeferred:ui,newObjectDeferredBegin:xr,getFilters:fs,putStream:Yr,events:on,scaleFactor:Nt,pageSize:{getWidth:function(){return Ra(Q)},setWidth:function(C){Xd(Q,C)},getHeight:function(){return La(Q)},setHeight:function(C){lp(Q,C)}},encryptionOptions:u,encryption:Zn,getEncryptor:function(C){return u!==null?Zn.encryptor(C,0):function(q){return q}},output:rp,getNumberOfPages:tp,get pages(){return Fe},out:Z,f2:k,f3:j,getPageInfo:yi,getPageInfoByObjId:gu,getCurrentPageInfo:Hd,getPDFVersion:w,Point:Pa,Rectangle:Yd,Matrix:dt,hasHotfix:uo},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Ra(Q)},set:function(C){Xd(Q,C)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return La(Q)},set:function(C){lp(Q,C)},enumerable:!0,configurable:!0}),(function(C){for(var q=0,se=Ye.length;q<se;q++){var pe=$d.call(this,C[q][0],C[q][1],C[q][2],Ye[q][3],!0);h===!1&&(p[pe]=!0);var we=C[q][0].split("-");Jf({id:pe,fontName:we[0],fontStyle:we[1]||""})}on.publish("addFonts",{fonts:jt,dictionary:Vt})}).call(f,Ye),st="F1",qd(i,t),on.publish("initialized"),f}eg.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},eg.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},eg.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},eg.prototype.processOwnerPassword=function(n,e){return VC(UC(e).substr(0,5),n)},eg.prototype.encryptor=function(n,e){var t=UC(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return VC(t,r)}},m_.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Bn(n)!==Bn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},St.API={events:[]},St.version="3.0.4";var Hr=St.API,p9=1,N1=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Y1=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Wt=function(n){return n.toFixed(2)},mh=function(n){return n.toFixed(5)};Hr.__acroform__={};var Oo=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},CD=function(n){return n*p9},wc=function(n){var e=new gW,t=ft.internal.getHeight(n)||0,r=ft.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Wt(r)),Number(Wt(t))],e},Cve=Hr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Tve=Hr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Nve=Hr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},ri=Hr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Nve(n,e-1)},ii=Hr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Cve(n,e-1)},si=Hr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Tve(n,e-1)},kve=Hr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Wt(l.lowerLeft_X)),Number(Wt(l.lowerLeft_Y)),Number(Wt(l.upperRight_X)),Number(Wt(l.upperRight_Y))]},Ive=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=zC(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Wt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=wc(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},zC=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var s=t,o=ft.internal.getHeight(n)||0;o=o<0?-o:o;var a=ft.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(k,j,L){if(k+1<i.length){var W=j+" "+i[k+1][0];return Bx(W,n,L).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,h=Bx("3",n,s).height,p=n.multiline?o-s:(o-h)/2,f=p+=2,b=0,w=0,A=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Bx(e,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var x="",E=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var T=!1;if(i[S].length!==1&&A!==i[S].length-1){if((h+2)*(E+2)+2>o)continue e;x+=i[S][A],T=!0,w=S,S--}else{x=(x+=i[S][A]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var B=parseInt(S),V=l(B,x,s),M=S>=i.length-1;if(V&&!M){x+=" ",A=0;continue}if(V||M){if(M)w=B;else if(n.multiline&&(h+2)*(E+2)+2>o)continue e}else{if(!n.multiline||(h+2)*(E+2)+2>o)continue e;w=B}}for(var N="",P=b;P<=w;P++){var O=i[P];if(n.multiline){if(P===w){N+=O[A]+" ",A=(A+1)%O.length;continue}if(P===b){N+=O[O.length-1]+" ";continue}}N+=O[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,u=Bx(N,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=Wt(c)+" "+Wt(f)+` Td
`,e+="("+N1(N)+`) Tj
`,e+=-Wt(c)+` 0 Td
`,f=-(s+2),u=0,b=T?w:w+1,E++,x=""}break}return r.text=e,r.fontSize=s,r},Bx=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},Pve={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Rve=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Lve=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(nc.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Pve)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");p9=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new vW,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Rve(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=kve(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ft.createDefaultAppearanceStream(a),Bn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=Ive(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var f=a.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var b=f[o];typeof b=="function"&&(b=b.call(i,a)),h+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=f)=="function"&&(b=b.call(i,a)),h+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(w,A){for(var x in w)if(w.hasOwnProperty(x)){var E=x,S=w[x];A.internal.newObjectDeferredBegin(S.objId,!0),Bn(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete w[E]}}(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},mW=Hr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Bn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+N1(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},n8=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+N1(r(n))+")"},Yc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yc.prototype.toString=function(){return this.objId+" 0 R"},Yc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Yc.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:mW(i,this.objId,this.scope)}):i instanceof Yc?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var gW=function(){Yc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Oo(gW,Yc);var vW=function(){Yc.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+N1(t(n))+")"}},set:function(t){n=t}})};Oo(vW,Yc);var nc=function n(){Yc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ri(e,3)},set:function(x){x?this.F=ii(e,3):this.F=si(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');t=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof g_)return;s="FieldObject"+n.FieldNum++}var x=function(E){return E};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+N1(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/p9:c},set:function(x){c=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof g_||this instanceof qm))return n8(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Hi==0?n8(p,this.objId,this.scope):p},set:function(x){x=x.toString(),p=this instanceof Hi==0?x.substr(0,1)==="("?Y1(x.substr(1,x.length-2)):Y1(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hi==1?Y1(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof Hi==1?"/"+x:x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Hi==0?n8(f,this.objId,this.scope):f},set:function(x){x=x.toString(),f=this instanceof Hi==0?x.substr(0,1)==="("?Y1(x.substr(1,x.length-2)):Y1(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hi==1?Y1(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Hi==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(x){x=!!x,w=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(x){b=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,1)},set:function(x){x?this.Ff=ii(this.Ff,1):this.Ff=si(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,2)},set:function(x){x?this.Ff=ii(this.Ff,2):this.Ff=si(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,3)},set:function(x){x?this.Ff=ii(this.Ff,3):this.Ff=si(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');A=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(A){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:A=2;break;case"center":case 1:A=1;break;default:A=0}}})};Oo(nc,Yc);var Vg=function(){nc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mW(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,18)},set:function(t){t?this.Ff=ii(this.Ff,18):this.Ff=si(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ii(this.Ff,19):this.Ff=si(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,20)},set:function(t){t?(this.Ff=ii(this.Ff,20),e.sort()):this.Ff=si(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,22)},set:function(t){t?this.Ff=ii(this.Ff,22):this.Ff=si(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,23)},set:function(t){t?this.Ff=ii(this.Ff,23):this.Ff=si(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,27)},set:function(t){t?this.Ff=ii(this.Ff,27):this.Ff=si(this.Ff,27)}}),this.hasAppearanceStream=!1};Oo(Vg,nc);var zg=function(){Vg.call(this),this.fontName="helvetica",this.combo=!1};Oo(zg,Vg);var $g=function(){zg.call(this),this.combo=!0};Oo($g,zg);var k4=function(){$g.call(this),this.edit=!0};Oo(k4,$g);var Hi=function(){nc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,15)},set:function(t){t?this.Ff=ii(this.Ff,15):this.Ff=si(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,16)},set:function(t){t?this.Ff=ii(this.Ff,16):this.Ff=si(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,17)},set:function(t){t?this.Ff=ii(this.Ff,17):this.Ff=si(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,26)},set:function(t){t?this.Ff=ii(this.Ff,26):this.Ff=si(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+N1(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Bn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Oo(Hi,nc);var I4=function(){Hi.call(this),this.pushButton=!0};Oo(I4,Hi);var qg=function(){Hi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Oo(qg,Hi);var g_=function(){var n,e;nc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+N1(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Bn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Oo(g_,nc),qg.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},qg.prototype.createOption=function(n){var e=new g_;return e.Parent=this,e.optionName=n,this.Kids.push(e),Mve.call(this.scope,e),e};var P4=function(){Hi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ft.CheckBox.createAppearanceStream()};Oo(P4,Hi);var qm=function(){nc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,13)},set:function(e){e?this.Ff=ii(this.Ff,13):this.Ff=si(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,21)},set:function(e){e?this.Ff=ii(this.Ff,21):this.Ff=si(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,23)},set:function(e){e?this.Ff=ii(this.Ff,23):this.Ff=si(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,24)},set:function(e){e?this.Ff=ii(this.Ff,24):this.Ff=si(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,25)},set:function(e){e?this.Ff=ii(this.Ff,25):this.Ff=si(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,26)},set:function(e){e?this.Ff=ii(this.Ff,26):this.Ff=si(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Oo(qm,nc);var R4=function(){qm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,14)},set:function(n){n?this.Ff=ii(this.Ff,14):this.Ff=si(this.Ff,14)}}),this.password=!0};Oo(R4,qm);var ft={CheckBox:{createAppearanceStream:function(){return{N:{On:ft.CheckBox.YesNormal},D:{On:ft.CheckBox.YesPushDown,Off:ft.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=wc(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=zC(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Wt(ft.internal.getWidth(n))+" "+Wt(ft.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Wt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=wc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=ft.internal.getHeight(n),o=ft.internal.getWidth(n),a=zC(n,n.caption);return i.push("1 g"),i.push("0 0 "+Wt(o)+" "+Wt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Wt(o-1)+" "+Wt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Wt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=wc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Wt(ft.internal.getWidth(n))+" "+Wt(ft.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:ft.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=ft.RadioButton.Circle.YesNormal,e.D[n]=ft.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=wc(n);e.scope=n.scope;var t=[],r=ft.internal.getWidth(n)<=ft.internal.getHeight(n)?ft.internal.getWidth(n)/4:ft.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=ft.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+mh(ft.internal.getWidth(n)/2)+" "+mh(ft.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=wc(n);e.scope=n.scope;var t=[],r=ft.internal.getWidth(n)<=ft.internal.getHeight(n)?ft.internal.getWidth(n)/4:ft.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ft.internal.Bezier_C).toFixed(5)),o=Number((r*ft.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+mh(ft.internal.getWidth(n)/2)+" "+mh(ft.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+mh(ft.internal.getWidth(n)/2)+" "+mh(ft.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=wc(n);e.scope=n.scope;var t=[],r=ft.internal.getWidth(n)<=ft.internal.getHeight(n)?ft.internal.getWidth(n)/4:ft.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ft.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+mh(ft.internal.getWidth(n)/2)+" "+mh(ft.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:ft.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=ft.RadioButton.Cross.YesNormal,e.D[n]=ft.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=wc(n);e.scope=n.scope;var t=[],r=ft.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Wt(ft.internal.getWidth(n)-2)+" "+Wt(ft.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Wt(r.x1.x)+" "+Wt(r.x1.y)+" m"),t.push(Wt(r.x2.x)+" "+Wt(r.x2.y)+" l"),t.push(Wt(r.x4.x)+" "+Wt(r.x4.y)+" m"),t.push(Wt(r.x3.x)+" "+Wt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=wc(n);e.scope=n.scope;var t=ft.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Wt(ft.internal.getWidth(n))+" "+Wt(ft.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Wt(ft.internal.getWidth(n)-2)+" "+Wt(ft.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Wt(t.x1.x)+" "+Wt(t.x1.y)+" m"),r.push(Wt(t.x2.x)+" "+Wt(t.x2.y)+" l"),r.push(Wt(t.x4.x)+" "+Wt(t.x4.y)+" m"),r.push(Wt(t.x3.x)+" "+Wt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=wc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Wt(ft.internal.getWidth(n))+" "+Wt(ft.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};ft.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=ft.internal.getWidth(n),t=ft.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},ft.internal.getWidth=function(n){var e=0;return Bn(n)==="object"&&(e=CD(n.Rect[2])),e},ft.internal.getHeight=function(n){var e=0;return Bn(n)==="object"&&(e=CD(n.Rect[3])),e};var Mve=Hr.addField=function(n){if(Lve(this,n),!(n instanceof nc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Hr.AcroFormChoiceField=Vg,Hr.AcroFormListBox=zg,Hr.AcroFormComboBox=$g,Hr.AcroFormEditBox=k4,Hr.AcroFormButton=Hi,Hr.AcroFormPushButton=I4,Hr.AcroFormRadioButton=qg,Hr.AcroFormCheckBox=P4,Hr.AcroFormTextField=qm,Hr.AcroFormPasswordField=R4,Hr.AcroFormAppearance=ft,Hr.AcroForm={ChoiceField:Vg,ListBox:zg,ComboBox:$g,EditBox:k4,Button:Hi,PushButton:I4,RadioButton:qg,CheckBox:P4,TextField:qm,PasswordField:R4,Appearance:ft},St.AcroForm={ChoiceField:Vg,ListBox:zg,ComboBox:$g,EditBox:k4,Button:Hi,PushButton:I4,RadioButton:qg,CheckBox:P4,TextField:qm,PasswordField:R4,Appearance:ft};function yW(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(k,j){var L,W,ue,de,le,J=t;if((j=j||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(V(k))for(le in r)for(ue=r[le],L=0;L<ue.length;L+=1){for(de=!0,W=0;W<ue[L].length;W+=1)if(ue[L][W]!==void 0&&ue[L][W]!==k[W]){de=!1;break}if(de===!0){J=le;break}}else for(le in r)for(ue=r[le],L=0;L<ue.length;L+=1){for(de=!0,W=0;W<ue[L].length;W+=1)if(ue[L][W]!==void 0&&ue[L][W]!==k.charCodeAt(W)){de=!1;break}if(de===!0){J=le;break}}return J===t&&j!==t&&(J=j),J},s=function k(j){for(var L=this.internal.write,W=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:j.width}),de.push({key:"Height",value:j.height}),j.colorSpace===x.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===x.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)&&j.transparency.length>0){for(var le="",J=0,re=j.transparency.length;J<re;J++)le+=j.transparency[J]+" "+j.transparency[J]+" ";de.push({key:"Mask",value:"["+le+"]"})}j.sMask!==void 0&&de.push({key:"SMask",value:j.objectId+1+" 0 R"});var ge=j.filter!==void 0?["/"+j.filter]:void 0;if(W({data:j.data,additionalKeyValues:de,alreadyAppliedFilters:ge,objectId:j.objectId}),L("endobj"),"sMask"in j&&j.sMask!==void 0){var ye,z=(ye=j.sMaskBitsPerComponent)!==null&&ye!==void 0?ye:j.bitsPerComponent,Q={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:z,data:j.sMask};"filter"in j&&(Q.decodeParameters="/Predictor ".concat(j.predictor," /Colors 1 /BitsPerComponent ").concat(z," /Columns ").concat(j.width),Q.filter=j.filter),k.call(this,Q)}if(j.colorSpace===x.INDEXED){var ie=this.internal.newObject();W({data:N(new Uint8Array(j.palette)),objectId:ie}),L("endobj")}},o=function(){var k=this.internal.collections[e+"images"];for(var j in k)s.call(this,k[j])},a=function(){var k,j=this.internal.collections[e+"images"],L=this.internal.write;for(var W in j)L("/I"+(k=j[W]).index,k.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var k=this.internal.collections[e+"images"];return l.call(this),k},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(k){return typeof n["process"+k.toUpperCase()]=="function"},p=function(k){return Bn(k)==="object"&&k.nodeType===1},f=function(k,j){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var L=""+k.getAttribute("src");if(L.indexOf("data:image/")===0)return N4(unescape(L).split("base64,").pop());var W=n.loadFile(L,!0);if(W!==void 0)return W}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var ue;switch(j){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return N4(k.toDataURL(ue,1).split("base64,").pop())}},b=function(k){var j=this.internal.collections[e+"images"];if(j){for(var L in j)if(k===j[L].alias)return j[L]}},w=function(k,j,L){return k||j||(k=-96,j=-96),k<0&&(k=-1*L.width*72/k/this.internal.scaleFactor),j<0&&(j=-1*L.height*72/j/this.internal.scaleFactor),k===0&&(k=j*L.width/L.height),j===0&&(j=k*L.height/L.width),[k,j]},A=function(k,j,L,W,ue,de){var le=w.call(this,L,W,ue),J=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,ge=c.call(this);if(L=le[0],W=le[1],ge[ue.index]=ue,de){de*=Math.PI/180;var ye=Math.cos(de),z=Math.sin(de),Q=function(ce){return ce.toFixed(4)},ie=[Q(ye),Q(z),Q(-1*z),Q(ye),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,J(k),re(j+W),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([J(L),"0","0",J(W),"0","0","cm"].join(" "))):this.internal.write([J(L),"0","0",J(W),J(k),re(j+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},x=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=n.__addimage__.sHashCode=function(k){var j,L,W=0;if(typeof k=="string")for(L=k.length,j=0;j<L;j++)W=(W<<5)-W+k.charCodeAt(j),W|=0;else if(V(k))for(L=k.byteLength/2,j=0;j<L;j++)W=(W<<5)-W+k[j],W|=0;return W},T=n.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var j=!0;return k.length===0&&(j=!1),k.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(j=!1),j},B=n.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var j=k.indexOf(",");return j<0?null:k.substring(0,j).trim().endsWith("base64")?k.substring(j+1):null};n.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var V=n.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},M=n.__addimage__.binaryStringToUint8Array=function(k){for(var j=k.length,L=new Uint8Array(j),W=0;W<j;W++)L[W]=k.charCodeAt(W);return L},N=n.__addimage__.arrayBufferToBinaryString=function(k){for(var j="",L=V(k)?k:new Uint8Array(k),W=0;W<L.length;W+=8192)j+=String.fromCharCode.apply(null,L.subarray(W,W+8192));return j};n.addImage=function(){var k,j,L,W,ue,de,le,J,re;if(typeof arguments[1]=="number"?(j=t,L=arguments[1],W=arguments[2],ue=arguments[3],de=arguments[4],le=arguments[5],J=arguments[6],re=arguments[7]):(j=arguments[1],L=arguments[2],W=arguments[3],ue=arguments[4],de=arguments[5],le=arguments[6],J=arguments[7],re=arguments[8]),Bn(k=arguments[0])==="object"&&!p(k)&&"imageData"in k){var ge=k;k=ge.imageData,j=ge.format||j||t,L=ge.x||L||0,W=ge.y||W||0,ue=ge.w||ge.width||ue,de=ge.h||ge.height||de,le=ge.alias||le,J=ge.compression||J,re=ge.rotation||ge.angle||re}var ye=this.internal.getFilters();if(J===void 0&&ye.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(L)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var z=P.call(this,k,j,le,J);return A.call(this,L,W,ue,de,z,re),this};var P=function(k,j,L,W){var ue,de,le;if(typeof k=="string"&&i(k)===t){k=unescape(k);var J=O(k,!1);(J!==""||(J=n.loadFile(k,!0))!==void 0)&&(k=J)}if(p(k)&&(k=f(k,j)),j=i(k,j),!h(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((le=L)==null||le.length===0)&&(L=function(re){return typeof re=="string"||V(re)?S(re):V(re.data)?S(re.data):null}(k)),(ue=b.call(this,L))||(k instanceof Uint8Array||j==="RGBA"||(de=k,k=M(k)),ue=this["process"+j.toUpperCase()](k,u.call(this),L,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in n.image_compression?re:E.NONE}(W),de)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},O=n.__addimage__.convertBase64ToBinaryString=function(k,j){j=typeof j!="boolean"||j;var L,W="";if(typeof k=="string"){var ue;L=(ue=B(k))!==null&&ue!==void 0?ue:k;try{W=N4(L)}catch(de){if(j)throw T(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};n.getImageProperties=function(k){var j,L,W="";if(p(k)&&(k=f(k)),typeof k=="string"&&i(k)===t&&((W=O(k,!1))===""&&(W=n.loadFile(k)||""),k=W),L=i(k),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(k instanceof Uint8Array||(k=M(k)),!(j=this["process"+L.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=L,j}})(St.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};St.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var f=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(w.objId),E=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(x(r.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(x(E))+") >>",w.content=s;var S=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(w.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var T=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var B=this.annotations._nameMap[r.options.name];r.options.pageNumber=B.page,r.options.top=B.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var V=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+V+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(t,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(t,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(St.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},a=n.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&i.indexOf(w.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length==4},h=n.__arabicParser__.resolveLigatures=function(w){var A=0,x=t,E="",S=0;for(A=0;A<w.length;A+=1)x[w.charCodeAt(A)]!==void 0?(S++,typeof(x=x[w.charCodeAt(A)])=="number"&&(E+=String.fromCharCode(x),x=t,S=0),A===w.length-1&&(x=t,E+=w.charAt(A-(S-1)),A-=S-1,S=0)):(x=t,E+=w.charAt(A-S),A-=S,S=0);return E};n.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&r[w.charCodeAt(0)]!==void 0};var p=n.__arabicParser__.getCorrectForm=function(w,A,x){return o(w)?s(w)===!1?-1:!c(w)||!o(A)&&!o(x)||!o(x)&&a(A)||a(w)&&!o(A)||a(w)&&l(A)||a(w)&&a(A)?0:u(w)&&o(A)&&!a(A)&&o(x)&&c(x)?3:a(w)||!o(x)?1:2:-1},f=function(w){var A=0,x=0,E=0,S="",T="",B="",V=(w=w||"").split("\\s+"),M=[];for(A=0;A<V.length;A+=1){for(M.push(""),x=0;x<V[A].length;x+=1)S=V[A][x],T=V[A][x-1],B=V[A][x+1],o(S)?(E=p(S,T,B),M[A]+=E!==-1?String.fromCharCode(e[S.charCodeAt(0)][E]):S):M[A]+=S;M[A]=h(M[A])}return M.join(" ")},b=n.__arabicParser__.processArabic=n.processArabic=function(){var w,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(A)){var E=0;for(x=[],E=0;E<A.length;E+=1)Array.isArray(A[E])?x.push([f(A[E][0]),A[E][1],A[E][2]]):x.push([f(A[E])]);w=x}else w=f(A);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};n.events.push(["preProcessText",b])}(St.API),St.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(St.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(w){b=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,b=0,w=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=c.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,T){return S.concat(A.splitTextToSize(T,x))},[])):l=Array.isArray(l)?l:[l];for(var E=0;E<l.length;E++)f<(w=this.getStringUnitWidth(l[E],{font:h})*u)&&(f=w);return f!==0&&(b=l.length),{w:f/=p,h:Math.max((b*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,h,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,b,w,A,x=[],E=[],S=[],T={},B={},V=[],M=[],N=(p=p||{}).autoSize||!1,P=p.printHeaders!==!1,O=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},e),j=typeof p.padding=="number"?p.padding:3,L=p.headerBackgroundColor||"#c8c8c8",W=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=W,this.setFontSize(O),h==null)E=x=Object.keys(u[0]),S=x.map(function(){return"left"});else if(Array.isArray(h)&&Bn(h[0])==="object")for(x=h.map(function(ge){return ge.name}),E=h.map(function(ge){return ge.prompt||ge.name||""}),S=h.map(function(ge){return ge.align||"left"}),f=0;f<h.length;f+=1)B[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(E=x=h,S=x.map(function(){return"left"}));if(N||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<x.length;f+=1){for(T[A=x[f]]=u.map(function(ge){return ge[A]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(E[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=T[A],this.setFont(void 0,"normal"),w=0;w<b.length;w+=1)V.push(this.getTextDimensions(b[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[A]=Math.max.apply(null,V)+j+j,V=[]}if(P){var ue={};for(f=0;f<x.length;f+=1)ue[x[f]]={},ue[x[f]].text=E[f],ue[x[f]].align=S[f];var de=a.call(this,ue,B);M=x.map(function(ge){return new s(l,c,B[ge],de,ue[ge].text,void 0,ue[ge].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var le=h.reduce(function(ge,ye){return ge[ye.name]=ye.align,ge},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var J=a.call(this,u[f],B);for(w=0;w<x.length;w+=1){var re=u[f][x[w]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:w,data:re},this),o.call(this,new s(l,c,B[x[w]],J,re,f+2,le[x[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var b=l[f];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+u+u},this).reduce(function(f,b){return Math.max(f,b)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(b)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}}(St.API);var wW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$C=yW(bW),xW=[100,200,300,400,500,600,700,800,900],Dve=yW(xW);function r8(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return wW[s=s||"normal"]?s:"normal"}(n.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(n.weight),i=function(s){return typeof $C[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function TD(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var jve={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ND={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function kD(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function ID(n){return n.trimLeft()}function Ove(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Fve(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Ux,PD,RD,X1,Vx,LD,MD,DD,i8=["times"];function jD(n,e,t,r,i){var s=4,o=FD;switch(i){case St.API.image_compression.FAST:s=1,o=OD;break;case St.API.image_compression.MEDIUM:s=6,o=BD;break;case St.API.image_compression.SLOW:s=9,o=UD}n=function(l,c,u,h){for(var p,f=l.length/c,b=new Uint8Array(l.length+f),w=[Bve,OD,FD,BD,UD],A=0;A<f;A+=1){var x=A*c,E=l.subarray(x,x+c);if(h)b.set(h(E,u,p),x+A);else{for(var S=w.length,T=[],B=0;B<S;B+=1)T[B]=w[B](E,u,p);var V=Vve(T.concat());b.set(T[V],x+A)}p=E}return b}(n,e,Math.ceil(t*r/8),o);var a=IC(n,{level:s});return St.API.__addimage__.arrayBufferToBinaryString(a)}function Bve(n){var e=Array.apply([],n);return e.unshift(0),e}function OD(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var s=n[i-e]||0;r[i+1]=n[i]-s+256&255}return r}function FD(n,e,t){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=t&&t[s]||0;i[s+1]=n[s]-o+256&255}return i}function BD(n,e,t){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=n[s-e]||0,a=t&&t[s]||0;i[s+1]=n[s]+256-(o+a>>>1)&255}return i}function UD(n,e,t){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=Uve(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=n[s]-o+256&255}return i}function Uve(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),s=Math.abs(n+e-t-t);return r<=i&&r<=s?n:i<=s?e:t}function Vve(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function s8(n,e,t){var r=e*t,i=Math.floor(r/8),s=16-(r-8*i+t),o=(1<<t)-1;return _W(n,i)>>s&o}function VD(n,e,t,r){var i=t*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(c,u,h){if(u+1<c.byteLength)c.setUint16(u,h,!1);else{var p=h>>8&255;c.setUint8(u,p)}})(n,s,_W(n,s)&~(a<<o)&65535|l)}function _W(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function zve(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<1+(7&i);n[e++],n[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],h=0,p=null,f=0,b=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,b=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=n[e++];h=n[e++]|n[e++]<<8,p=n[e++],1&w||(p=null),f=w>>2&7,e++;break;case 254:for(;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var A=n[e++]|n[e++]<<8,x=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,T=n[e++],B=T>>6&1,V=1<<1+(7&T),M=a,N=l,P=!1;T>>7&&(P=!0,M=e,N=V,e+=3*V);var O=e;for(e++;;){var k;if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}u.push({x:A,y:x,width:E,height:S,has_local_palette:P,palette_offset:M,palette_size:N,data_offset:O,data_length:e-O,transparent_index:p,interlaced:!!B,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return b},this.frameInfo=function(j){if(j<0||j>=u.length)throw new Error("Frame index out of range.");return u[j]},this.decodeAndBlitFrameBGRA=function(j,L){var W=this.frameInfo(j),ue=W.width*W.height,de=new Uint8Array(ue);zD(n,W.data_offset,de,ue);var le=W.palette_offset,J=W.transparent_index;J===null&&(J=256);var re=W.width,ge=t-re,ye=re,z=4*(W.y*t+W.x),Q=4*((W.y+W.height)*t+W.x),ie=z,ce=4*ge;W.interlaced===!0&&(ce+=4*t*7);for(var fe=8,he=0,Ee=de.length;he<Ee;++he){var xe=de[he];if(ye===0&&(ye=re,(ie+=ce)>=Q&&(ce=4*ge+4*t*(fe-1),ie=z+(re+ge)*(fe<<1),fe>>=1)),xe===J)ie+=4;else{var Ae=n[le+3*xe],Fe=n[le+3*xe+1],Ce=n[le+3*xe+2];L[ie++]=Ce,L[ie++]=Fe,L[ie++]=Ae,L[ie++]=255}--ye}},this.decodeAndBlitFrameRGBA=function(j,L){var W=this.frameInfo(j),ue=W.width*W.height,de=new Uint8Array(ue);zD(n,W.data_offset,de,ue);var le=W.palette_offset,J=W.transparent_index;J===null&&(J=256);var re=W.width,ge=t-re,ye=re,z=4*(W.y*t+W.x),Q=4*((W.y+W.height)*t+W.x),ie=z,ce=4*ge;W.interlaced===!0&&(ce+=4*t*7);for(var fe=8,he=0,Ee=de.length;he<Ee;++he){var xe=de[he];if(ye===0&&(ye=re,(ie+=ce)>=Q&&(ce=4*ge+4*t*(fe-1),ie=z+(re+ge)*(fe<<1),fe>>=1)),xe===J)ie+=4;else{var Ae=n[le+3*xe],Fe=n[le+3*xe+1],Ce=n[le+3*xe+2];L[ie++]=Ae,L[ie++]=Fe,L[ie++]=Ce,L[ie++]=255}--ye}}}function zD(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,p=0,f=n[e++],b=new Int32Array(4096),w=null;;){for(;u<16&&f!==0;)h|=n[e++]<<u,u+=8,f===1?f=n[e++]:--f;if(u<l)break;var A=h&c;if(h>>=l,u-=l,A!==s){if(A===o)break;for(var x=A<a?A:w,E=0,S=x;S>s;)S=b[S]>>8,++E;var T=S;if(p+E+(x!==A?1:0)>r)return void nr.log("Warning, gif stream longer than expected.");t[p++]=T;var B=p+=E;for(x!==A&&(t[p++]=T),S=x;E--;)S=b[S],t[--B]=255&S,S>>=8;w!==null&&a<4096&&(b[a++]=w<<8|T,a>=c+1&&l<12&&(++l,c=c<<1|1)),w=A}else a=o+1,c=(1<<(l=i+1))-1,w=null}return p!==r&&nr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function o8(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),b=new Array(64),w=[],A=0,x=7,E=new Array(64),S=new Array(64),T=new Array(64),B=new Array(256),V=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(z,Q){for(var ie=0,ce=0,fe=new Array,he=1;he<=16;he++){for(var Ee=1;Ee<=z[he];Ee++)fe[Q[ce]]=[],fe[Q[ce]][0]=ie,fe[Q[ce]][1]=he,ce++,ie++;ie*=2}return fe}function le(z){for(var Q=z[0],ie=z[1]-1;ie>=0;)Q&1<<ie&&(A|=1<<x),ie--,--x<0&&(A==255?(J(255),J(0)):J(A),x=7,A=0)}function J(z){w.push(z)}function re(z){J(z>>8&255),J(255&z)}function ge(z,Q,ie,ce,fe){for(var he,Ee=fe[0],xe=fe[240],Ae=function(Re,rt){var Ie,He,Ke,Xt,Ut,tt,ut,Ft,st,Nt,vt=0;for(st=0;st<8;++st){Ie=Re[vt],He=Re[vt+1],Ke=Re[vt+2],Xt=Re[vt+3],Ut=Re[vt+4],tt=Re[vt+5],ut=Re[vt+6];var Dn=Ie+(Ft=Re[vt+7]),sn=Ie-Ft,jt=He+ut,Vt=He-ut,Sn=Ke+tt,Et=Ke-tt,Nn=Xt+Ut,Ct=Xt-Ut,Ot=Dn+Nn,kn=Dn-Nn,zt=jt+Sn,pt=jt-Sn;Re[vt]=Ot+zt,Re[vt+4]=Ot-zt;var on=.707106781*(pt+kn);Re[vt+2]=kn+on,Re[vt+6]=kn-on;var kt=.382683433*((Ot=Ct+Et)-(pt=Vt+sn)),Mt=.5411961*Ot+kt,dn=1.306562965*pt+kt,Kn=.707106781*(zt=Et+Vt),dt=sn+Kn,_n=sn-Kn;Re[vt+5]=_n+Mt,Re[vt+3]=_n-Mt,Re[vt+1]=dt+dn,Re[vt+7]=dt-dn,vt+=8}for(vt=0,st=0;st<8;++st){Ie=Re[vt],He=Re[vt+8],Ke=Re[vt+16],Xt=Re[vt+24],Ut=Re[vt+32],tt=Re[vt+40],ut=Re[vt+48];var ci=Ie+(Ft=Re[vt+56]),jn=Ie-Ft,Jn=He+ut,br=He-ut,ui=Ke+tt,xr=Ke-tt,hu=Xt+Ut,ic=Xt-Ut,hs=ci+hu,Fo=ci-hu,Bs=Jn+ui,fs=Jn-ui;Re[vt]=hs+Bs,Re[vt+32]=hs-Bs;var Yr=.707106781*(fs+Fo);Re[vt+16]=Fo+Yr,Re[vt+48]=Fo-Yr;var sc=.382683433*((hs=ic+xr)-(fs=br+jn)),Bo=.5411961*hs+sc,ul=1.306562965*fs+sc,oc=.707106781*(Bs=xr+br),fu=jn+oc,pu=jn-oc;Re[vt+40]=pu+Bo,Re[vt+24]=pu-Bo,Re[vt+8]=fu+ul,Re[vt+56]=fu-ul,vt++}for(st=0;st<64;++st)Nt=Re[st]*rt[st],f[st]=Nt>0?Nt+.5|0:Nt-.5|0;return f}(z,Q),Fe=0;Fe<64;++Fe)b[M[Fe]]=Ae[Fe];var Ce=b[0]-ie;ie=b[0],Ce==0?le(ce[0]):(le(ce[p[he=32767+Ce]]),le(h[he]));for(var Ne=63;Ne>0&&b[Ne]==0;)Ne--;if(Ne==0)return le(Ee),ie;for(var De,Z=1;Z<=Ne;){for(var Oe=Z;b[Z]==0&&Z<=Ne;)++Z;var at=Z-Oe;if(at>=16){De=at>>4;for(var Ye=1;Ye<=De;++Ye)le(xe);at&=15}he=32767+b[Z],le(fe[(at<<4)+p[he]]),le(h[he]),Z++}return Ne!=63&&le(Ee),ie}function ye(z){z=Math.min(Math.max(z,1),100),s!=z&&(function(Q){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var fe=o((ie[ce]*Q+50)/100);fe=Math.min(Math.max(fe,1),255),a[M[ce]]=fe}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var xe=o((he[Ee]*Q+50)/100);xe=Math.min(Math.max(xe,1),255),l[M[Ee]]=xe}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,Ce=0;Ce<8;Ce++)for(var Ne=0;Ne<8;Ne++)c[Fe]=1/(a[M[Fe]]*Ae[Ce]*Ae[Ne]*8),u[Fe]=1/(l[M[Fe]]*Ae[Ce]*Ae[Ne]*8),Fe++}(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),s=z)}this.encode=function(z,Q){Q&&ye(Q),w=new Array,A=0,x=7,re(65496),re(65504),re(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),re(1),re(1),J(0),J(0),function(){re(65499),re(132),J(0);for(var He=0;He<64;He++)J(a[He]);J(1);for(var Ke=0;Ke<64;Ke++)J(l[Ke])}(),function(He,Ke){re(65472),re(17),J(8),re(Ke),re(He),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(z.width,z.height),function(){re(65476),re(418),J(0);for(var He=0;He<16;He++)J(N[He+1]);for(var Ke=0;Ke<=11;Ke++)J(P[Ke]);J(16);for(var Xt=0;Xt<16;Xt++)J(O[Xt+1]);for(var Ut=0;Ut<=161;Ut++)J(k[Ut]);J(1);for(var tt=0;tt<16;tt++)J(j[tt+1]);for(var ut=0;ut<=11;ut++)J(L[ut]);J(17);for(var Ft=0;Ft<16;Ft++)J(W[Ft+1]);for(var st=0;st<=161;st++)J(ue[st])}(),re(65498),re(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var ie=0,ce=0,fe=0;A=0,x=7,this.encode.displayName="_encode_";for(var he,Ee,xe,Ae,Fe,Ce,Ne,De,Z,Oe=z.data,at=z.width,Ye=z.height,Re=4*at,rt=0;rt<Ye;){for(he=0;he<Re;){for(Fe=Re*rt+he,Ne=-1,De=0,Z=0;Z<64;Z++)Ce=Fe+(De=Z>>3)*Re+(Ne=4*(7&Z)),rt+De>=Ye&&(Ce-=Re*(rt+1+De-Ye)),he+Ne>=Re&&(Ce-=he+Ne-Re+4),Ee=Oe[Ce++],xe=Oe[Ce++],Ae=Oe[Ce++],E[Z]=(V[Ee]+V[xe+256|0]+V[Ae+512|0]>>16)-128,S[Z]=(V[Ee+768|0]+V[xe+1024|0]+V[Ae+1280|0]>>16)-128,T[Z]=(V[Ee+1280|0]+V[xe+1536|0]+V[Ae+1792|0]>>16)-128;ie=ge(E,c,ie,e,r),ce=ge(S,u,ce,t,i),fe=ge(T,u,fe,t,i),he+=32}rt+=8}if(x>=0){var Ie=[];Ie[1]=x+1,Ie[0]=(1<<x+1)-1,le(Ie)}return re(65497),new Uint8Array(w)},n=n||50,function(){for(var z=String.fromCharCode,Q=0;Q<256;Q++)B[Q]=z(Q)}(),e=de(N,P),t=de(j,L),r=de(O,k),i=de(W,ue),function(){for(var z=1,Q=2,ie=1;ie<=15;ie++){for(var ce=z;ce<Q;ce++)p[32767+ce]=ie,h[32767+ce]=[],h[32767+ce][1]=ie,h[32767+ce][0]=ce;for(var fe=-(Q-1);fe<=-z;fe++)p[32767+fe]=ie,h[32767+fe]=[],h[32767+fe][1]=ie,h[32767+fe][0]=Q-1+fe;z<<=1,Q<<=1}}(),function(){for(var z=0;z<256;z++)V[z]=19595*z,V[z+256|0]=38470*z,V[z+512|0]=7471*z+32768,V[z+768|0]=-11059*z,V[z+1024|0]=-21709*z,V[z+1280|0]=32768*z+8421375,V[z+1536|0]=-27439*z,V[z+1792|0]=-5329*z}(),ye(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function wl(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $D(n){function e(P){if(!P)throw Error("assert :P")}function t(P,O,k){for(var j=0;4>j;j++)if(P[O+j]!=k.charCodeAt(j))return!0;return!1}function r(P,O,k,j,L){for(var W=0;W<L;W++)P[O+W]=k[j+W]}function i(P,O,k,j){for(var L=0;L<j;L++)P[O+L]=k}function s(P){return new Int32Array(P)}function o(P,O){for(var k=[],j=0;j<P;j++)k.push(new O);return k}function a(P,O){var k=[];return function j(L,W,ue){for(var de=ue[W],le=0;le<de&&(L.push(ue.length>W+1?[]:new O),!(ue.length<W+1));le++)j(L[le],W+1,ue)}(k,0,P),k}var l=function(){var P=this;function O(g,_){for(var I=1<<_-1>>>0;g&I;)I>>>=1;return I?(g&I-1)+I:g}function k(g,_,I,F,H){e(!(F%I));do g[_+(F-=I)]=H;while(0<F)}function j(g,_,I,F,H){if(e(2328>=H),512>=H)var K=s(512);else if((K=s(H))==null)return 0;return function(X,ee,ne,oe,me,Te){var ae,ve,_e=ee,Pe=1<<ne,Se=s(16),Me=s(16);for(e(me!=0),e(oe!=null),e(X!=null),e(0<ne),ve=0;ve<me;++ve){if(15<oe[ve])return 0;++Se[oe[ve]]}if(Se[0]==me)return 0;for(Me[1]=0,ae=1;15>ae;++ae){if(Se[ae]>1<<ae)return 0;Me[ae+1]=Me[ae]+Se[ae]}for(ve=0;ve<me;++ve)ae=oe[ve],0<oe[ve]&&(Te[Me[ae]++]=ve);if(Me[15]==1)return(oe=new L).g=0,oe.value=Te[0],k(X,_e,1,Pe,oe),Pe;var je,$e=-1,Ve=Pe-1,_t=0,ht=1,en=1,yt=1<<ne;for(ve=0,ae=1,me=2;ae<=ne;++ae,me<<=1){if(ht+=en<<=1,0>(en-=Se[ae]))return 0;for(;0<Se[ae];--Se[ae])(oe=new L).g=ae,oe.value=Te[ve++],k(X,_e+_t,me,yt,oe),_t=O(_t,ae)}for(ae=ne+1,me=2;15>=ae;++ae,me<<=1){if(ht+=en<<=1,0>(en-=Se[ae]))return 0;for(;0<Se[ae];--Se[ae]){if(oe=new L,(_t&Ve)!=$e){for(_e+=yt,je=1<<($e=ae)-ne;15>$e&&!(0>=(je-=Se[$e]));)++$e,je<<=1;Pe+=yt=1<<(je=$e-ne),X[ee+($e=_t&Ve)].g=je+ne,X[ee+$e].value=_e-ee-$e}oe.g=ae-ne,oe.value=Te[ve++],k(X,_e+(_t>>ne),me,yt,oe),_t=O(_t,ae)}}return ht!=2*Me[15]-1?0:Pe}(g,_,I,F,H,K)}function L(){this.value=this.g=0}function W(){this.value=this.g=0}function ue(){this.G=o(5,L),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(cp,W)}function de(g,_,I,F){e(g!=null),e(_!=null),e(2147483648>F),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=I,g.Jd=_,g.Yc=I+F,g.Zc=4<=F?I+F-4+1:I,Ee(g)}function le(g,_){for(var I=0;0<_--;)I|=Ae(g,128)<<_;return I}function J(g,_){var I=le(g,_);return xe(g)?-I:I}function re(g,_,I,F){var H,K=0;for(e(g!=null),e(_!=null),e(4294967288>F),g.Sb=F,g.Ra=0,g.u=0,g.h=0,4<F&&(F=4),H=0;H<F;++H)K+=_[I+H]<<8*H;g.Ra=K,g.bb=F,g.oa=_,g.pa=I}function ge(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<Jd-8>>>0,++g.bb,g.u-=8;ce(g)&&(g.h=1,g.u=0)}function ye(g,_){if(e(0<=_),!g.h&&_<=qo){var I=ie(g)&$o[_];return g.u+=_,ge(g),I}return g.h=1,g.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ie(g){return g.Ra>>>(g.u&Jd-1)>>>0}function ce(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>Jd}function fe(g,_){g.u=_,g.h=ce(g)}function he(g){g.u>=xu&&(e(g.u>=xu),ge(g))}function Ee(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function xe(g){return le(g,1)}function Ae(g,_){var I=g.Ca;0>g.b&&Ee(g);var F=g.b,H=I*_>>>8,K=(g.I>>>F>H)+0;for(K?(I-=H,g.I-=H+1<<F>>>0):I=H+1,F=I,H=0;256<=F;)H+=8,F>>=8;return F=7^H+Zd[F],g.b-=F,g.Ca=(I<<F)-1,K}function Fe(g,_,I){g[_+0]=I>>24&255,g[_+1]=I>>16&255,g[_+2]=I>>8&255,g[_+3]=255&I}function Ce(g,_){return g[_+0]|g[_+1]<<8}function Ne(g,_){return Ce(g,_)|g[_+2]<<16}function De(g,_){return Ce(g,_)|Ce(g,_+2)<<16}function Z(g,_){var I=1<<_;return e(g!=null),e(0<_),g.X=s(I),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function Oe(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),r(_.X,0,g.X,0,1<<_.Xa)}function at(){this.X=[],this.Xa=this.Mb=0}function Ye(g,_,I,F){e(I!=null),e(F!=null);var H=I[0],K=F[0];return H==0&&(H=(g*K+_/2)/_),K==0&&(K=(_*H+g/2)/g),0>=H||0>=K?0:(I[0]=H,F[0]=K,1)}function Re(g,_){return g+(1<<_)-1>>>_}function rt(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function Ie(g,_){P[_]=function(I,F,H,K,X,ee,ne){var oe;for(oe=0;oe<X;++oe){var me=P[g](ee[ne+oe-1],H,K+oe);ee[ne+oe]=rt(I[F+oe],me)}}}function He(){this.ud=this.hd=this.jd=0}function Ke(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function Xt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ut(g,_){return Xt(g+(g-_+.5>>1))}function tt(g,_,I){return Math.abs(_-I)-Math.abs(g-I)}function ut(g,_,I,F,H,K,X){for(F=K[X-1],I=0;I<H;++I)K[X+I]=F=rt(g[_+I],F)}function Ft(g,_,I,F,H){var K;for(K=0;K<I;++K){var X=g[_+K],ee=X>>8&255,ne=16711935&(ne=(ne=16711935&X)+((ee<<16)+ee));F[H+K]=(4278255360&X)+ne>>>0}}function st(g,_){_.jd=255&g,_.hd=g>>8&255,_.ud=g>>16&255}function Nt(g,_,I,F,H,K){var X;for(X=0;X<F;++X){var ee=_[I+X],ne=ee>>>8,oe=ee,me=255&(me=(me=ee>>>16)+((g.jd<<24>>24)*(ne<<24>>24)>>>5));oe=255&(oe=(oe+=(g.hd<<24>>24)*(ne<<24>>24)>>>5)+((g.ud<<24>>24)*(me<<24>>24)>>>5)),H[K+X]=(4278255360&ee)+(me<<16)+oe}}function vt(g,_,I,F,H){P[_]=function(K,X,ee,ne,oe,me,Te,ae,ve){for(ne=Te;ne<ae;++ne)for(Te=0;Te<ve;++Te)oe[me++]=H(ee[F(K[X++])])},P[g]=function(K,X,ee,ne,oe,me,Te){var ae=8>>K.b,ve=K.Ea,_e=K.K[0],Pe=K.w;if(8>ae)for(K=(1<<K.b)-1,Pe=(1<<ae)-1;X<ee;++X){var Se,Me=0;for(Se=0;Se<ve;++Se)Se&K||(Me=F(ne[oe++])),me[Te++]=H(_e[Me&Pe]),Me>>=ae}else P["VP8LMapColor"+I](ne,oe,_e,Pe,me,Te,X,ee,ve)}}function Dn(g,_,I,F,H){for(I=_+I;_<I;){var K=g[_++];F[H++]=K>>16&255,F[H++]=K>>8&255,F[H++]=255&K}}function sn(g,_,I,F,H){for(I=_+I;_<I;){var K=g[_++];F[H++]=K>>16&255,F[H++]=K>>8&255,F[H++]=255&K,F[H++]=K>>24&255}}function jt(g,_,I,F,H){for(I=_+I;_<I;){var K=(X=g[_++])>>16&240|X>>12&15,X=240&X|X>>28&15;F[H++]=K,F[H++]=X}}function Vt(g,_,I,F,H){for(I=_+I;_<I;){var K=(X=g[_++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;F[H++]=K,F[H++]=X}}function Sn(g,_,I,F,H){for(I=_+I;_<I;){var K=g[_++];F[H++]=255&K,F[H++]=K>>8&255,F[H++]=K>>16&255}}function Et(g,_,I,F,H,K){if(K==0)for(I=_+I;_<I;)Fe(F,((K=g[_++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),H+=32;else r(F,H,g,_,I)}function Nn(g,_){P[_][0]=P[g+"0"],P[_][1]=P[g+"1"],P[_][2]=P[g+"2"],P[_][3]=P[g+"3"],P[_][4]=P[g+"4"],P[_][5]=P[g+"5"],P[_][6]=P[g+"6"],P[_][7]=P[g+"7"],P[_][8]=P[g+"8"],P[_][9]=P[g+"9"],P[_][10]=P[g+"10"],P[_][11]=P[g+"11"],P[_][12]=P[g+"12"],P[_][13]=P[g+"13"],P[_][14]=P[g+"0"],P[_][15]=P[g+"0"]}function Ct(g){return g==mA||g==gA||g==Vb||g==vA}function Ot(){this.eb=[],this.size=this.A=this.fb=0}function kn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function zt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ot,this.f.kb=new kn,this.sd=null}function pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function on(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function kt(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Mt(g,_){var I=g.T,F=_.ba.f.RGBA,H=F.eb,K=F.fb+g.ka*F.A,X=Fa[_.ba.S],ee=g.y,ne=g.O,oe=g.f,me=g.N,Te=g.ea,ae=g.W,ve=_.cc,_e=_.dc,Pe=_.Mc,Se=_.Nc,Me=g.ka,je=g.ka+g.T,$e=g.U,Ve=$e+1>>1;for(Me==0?X(ee,ne,null,null,oe,me,Te,ae,oe,me,Te,ae,H,K,null,null,$e):(X(_.ec,_.fc,ee,ne,ve,_e,Pe,Se,oe,me,Te,ae,H,K-F.A,H,K,$e),++I);Me+2<je;Me+=2)ve=oe,_e=me,Pe=Te,Se=ae,me+=g.Rc,ae+=g.Rc,K+=2*F.A,X(ee,(ne+=2*g.fa)-g.fa,ee,ne,ve,_e,Pe,Se,oe,me,Te,ae,H,K-F.A,H,K,$e);return ne+=g.fa,g.j+je<g.o?(r(_.ec,_.fc,ee,ne,$e),r(_.cc,_.dc,oe,me,Ve),r(_.Mc,_.Nc,Te,ae,Ve),I--):1&je||X(ee,ne,null,null,oe,me,Te,ae,oe,me,Te,ae,H,K+F.A,null,null,$e),I}function dn(g,_,I){var F=g.F,H=[g.J];if(F!=null){var K=g.U,X=_.ba.S,ee=X==Ub||X==Vb;_=_.ba.f.RGBA;var ne=[0],oe=g.ka;ne[0]=g.T,g.Kb&&(oe==0?--ne[0]:(--oe,H[0]-=g.width),g.j+g.ka+g.T==g.o&&(ne[0]=g.o-g.j-oe));var me=_.eb;oe=_.fb+oe*_.A,g=G9(F,H[0],g.width,K,ne,me,oe+(ee?0:3),_.A),e(I==ne),g&&Ct(X)&&ov(me,oe,ee,K,ne,_.A)}return 0}function Kn(g){var _=g.ma,I=_.ba.S,F=11>I,H=I==Fb||I==Bb||I==Ub||I==pA||I==12||Ct(I);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!J2(_.Oa,g,H?11:12))return 0;if(H&&Ct(I)&&Da(),g.da)alert("todo:use_scaling");else{if(F){if(_.Ib=kt,g.Kb){if(I=g.U+1>>1,_.memory=s(g.U+2*I),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+I,_.Ib=Mt,Da()}}else alert("todo:EmitYUV");H&&(_.Jb=dn,F&&ho())}if(F&&!uI){for(g=0;256>g;++g)QY[g]=89858*(g-128)+$b>>zb,eX[g]=-22014*(g-128)+$b,ZY[g]=-45773*(g-128),JY[g]=113618*(g-128)+$b>>zb;for(g=lv;g<bA;++g)_=76283*(g-16)+$b>>zb,tX[g-lv]=co(_,255),nX[g-lv]=co(_+8>>4,15);uI=1}return 1}function dt(g){var _=g.ma,I=g.U,F=g.T;return e(!(1&g.ka)),0>=I||0>=F?0:(I=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,I),_.Dc+=I,1)}function _n(g){g.ma.memory=null}function ci(g,_,I,F){return ye(g,8)!=47?0:(_[0]=ye(g,14)+1,I[0]=ye(g,14)+1,F[0]=ye(g,1),ye(g,3)!=0?0:!g.h)}function jn(g,_){if(4>g)return g+1;var I=g-2>>1;return(2+(1&g)<<I)+ye(_,I)+1}function Jn(g,_){return 120<_?_-120:1<=(I=((I=OY[_-1])>>4)*g+(8-(15&I)))?I:1;var I}function br(g,_,I){var F=ie(I),H=g[_+=255&F].g-8;return 0<H&&(fe(I,I.u+8),F=ie(I),_+=g[_].value,_+=F&(1<<H)-1),fe(I,I.u+g[_].g),g[_].value}function ui(g,_,I){return I.g+=g.g,I.value+=g.value<<_>>>0,e(8>=I.g),g.g}function xr(g,_,I){var F=g.xc;return e((_=F==0?0:g.vc[g.md*(I>>F)+(_>>F)])<g.Wb),g.Ya[_]}function hu(g,_,I,F){var H=g.ab,K=g.c*_,X=g.C;_=X+_;var ee=I,ne=F;for(F=g.Ta,I=g.Ua;0<H--;){var oe=g.gc[H],me=X,Te=_,ae=ee,ve=ne,_e=(ne=F,ee=I,oe.Ea);switch(e(me<Te),e(Te<=oe.nc),oe.hc){case 2:Xr(ae,ve,(Te-me)*_e,ne,ee);break;case 0:var Pe=me,Se=Te,Me=ne,je=ee,$e=(yt=oe).Ea;Pe==0&&(ev(ae,ve,null,null,1,Me,je),ut(ae,ve+1,0,0,$e-1,Me,je+1),ve+=$e,je+=$e,++Pe);for(var Ve=1<<yt.b,_t=Ve-1,ht=Re($e,yt.b),en=yt.K,yt=yt.w+(Pe>>yt.b)*ht;Pe<Se;){var yn=en,bi=yt,tn=1;for(U1(ae,ve,Me,je-$e,1,Me,je);tn<$e;){var wt=(tn&~_t)+Ve;wt>$e&&(wt=$e),(0,nv[yn[bi++]>>8&15])(ae,ve+ +tn,Me,je+tn-$e,wt-tn,Me,je+tn),tn=wt}ve+=$e,je+=$e,++Pe&_t||(yt+=ht)}Te!=oe.nc&&r(ne,ee-_e,ne,ee+(Te-me-1)*_e,_e);break;case 1:for(_e=ae,Se=ve,$e=(ae=oe.Ea)-(je=ae&~(Me=(ve=1<<oe.b)-1)),Pe=Re(ae,oe.b),Ve=oe.K,oe=oe.w+(me>>oe.b)*Pe;me<Te;){for(_t=Ve,ht=oe,en=new He,yt=Se+je,yn=Se+ae;Se<yt;)st(_t[ht++],en),rv(en,_e,Se,ve,ne,ee),Se+=ve,ee+=ve;Se<yn&&(st(_t[ht++],en),rv(en,_e,Se,$e,ne,ee),Se+=$e,ee+=$e),++me&Me||(oe+=Pe)}break;case 3:if(ae==ne&&ve==ee&&0<oe.b){for(Se=ne,ae=_e=ee+(Te-me)*_e-(je=(Te-me)*Re(oe.Ea,oe.b)),ve=ne,Me=ee,Pe=[],je=($e=je)-1;0<=je;--je)Pe[je]=ve[Me+je];for(je=$e-1;0<=je;--je)Se[ae+je]=Pe[je];Mb(oe,me,Te,ne,_e,ne,ee)}else Mb(oe,me,Te,ae,ve,ne,ee)}ee=F,ne=I}ne!=I&&r(F,I,ee,ne,K)}function ic(g,_){var I=g.V,F=g.Ba+g.c*g.C,H=_-g.C;if(e(_<=g.l.o),e(16>=H),0<H){var K=g.l,X=g.Ta,ee=g.Ua,ne=K.width;if(hu(g,H,I,F),H=ee=[ee],e((I=g.C)<(F=_)),e(K.v<K.va),F>K.o&&(F=K.o),I<K.j){var oe=K.j-I;I=K.j,H[0]+=oe*ne}if(I>=F?I=0:(H[0]+=4*K.v,K.ka=I-K.j,K.U=K.va-K.v,K.T=F-I,I=1),I){if(ee=ee[0],11>(I=g.ca).S){var me=I.f.RGBA,Te=(F=I.S,H=K.U,K=K.T,oe=me.eb,me.A),ae=K;for(me=me.fb+g.Ma*me.A;0<ae--;){var ve=X,_e=ee,Pe=H,Se=oe,Me=me;switch(F){case Ob:iv(ve,_e,Pe,Se,Me);break;case Fb:eh(ve,_e,Pe,Se,Me);break;case mA:eh(ve,_e,Pe,Se,Me),ov(Se,Me,0,Pe,1,0);break;case eI:up(ve,_e,Pe,Se,Me);break;case Bb:Et(ve,_e,Pe,Se,Me,1);break;case gA:Et(ve,_e,Pe,Se,Me,1),ov(Se,Me,0,Pe,1,0);break;case Ub:Et(ve,_e,Pe,Se,Me,0);break;case Vb:Et(ve,_e,Pe,Se,Me,0),ov(Se,Me,1,Pe,1,0);break;case pA:th(ve,_e,Pe,Se,Me);break;case vA:th(ve,_e,Pe,Se,Me),W9(Se,Me,Pe,1,0);break;case tI:nh(ve,_e,Pe,Se,Me);break;default:e(0)}ee+=ne,me+=Te}g.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=I.height)}}g.C=_,e(g.C<=g.i)}function hs(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var I=g.Ya[_].G,F=g.Ya[_].H;if(0<I[1][F[1]+0].g||0<I[2][F[2]+0].g||0<I[3][F[3]+0].g)return 0}return 1}function Fo(g,_,I,F,H,K){if(g.Z!=0){var X=g.qd,ee=g.rd;for(e(sh[g.Z]!=null);_<I;++_)sh[g.Z](X,ee,F,H,F,H,K),X=F,ee=H,H+=K;g.qd=X,g.rd=ee}}function Bs(g,_){var I=g.l.ma,F=I.Z==0||I.Z==1?g.l.j:g.C;if(F=g.C<F?F:g.C,e(_<=g.l.o),_>F){var H=g.l.width,K=I.ca,X=I.tb+H*F,ee=g.V,ne=g.Ba+g.c*F,oe=g.gc;e(g.ab==1),e(oe[0].hc==3),pc(oe[0],F,_,ee,ne,K,X),Fo(I,F,_,K,X,H)}g.C=g.Ma=_}function fs(g,_,I,F,H,K,X){var ee=g.$/F,ne=g.$%F,oe=g.m,me=g.s,Te=I+g.$,ae=Te;H=I+F*H;var ve=I+F*K,_e=280+me.ua,Pe=g.Pb?ee:16777216,Se=0<me.ua?me.Wa:null,Me=me.wc,je=Te<ve?xr(me,ne,ee):null;e(g.C<K),e(ve<=H);var $e=!1;e:for(;;){for(;$e||Te<ve;){var Ve=0;if(ee>=Pe){var _t=Te-I;e((Pe=g).Pb),Pe.wd=Pe.m,Pe.xd=_t,0<Pe.s.ua&&Oe(Pe.s.Wa,Pe.s.vb),Pe=ee+BY}if(ne&Me||(je=xr(me,ne,ee)),e(je!=null),je.Qb&&(_[Te]=je.qb,$e=!0),!$e)if(he(oe),je.jc){Ve=oe,_t=_;var ht=Te,en=je.pd[ie(Ve)&cp-1];e(je.jc),256>en.g?(fe(Ve,Ve.u+en.g),_t[ht]=en.value,Ve=0):(fe(Ve,Ve.u+en.g-256),e(256<=en.value),Ve=en.value),Ve==0&&($e=!0)}else Ve=br(je.G[0],je.H[0],oe);if(oe.h)break;if($e||256>Ve){if(!$e)if(je.nd)_[Te]=(je.qb|Ve<<8)>>>0;else{if(he(oe),$e=br(je.G[1],je.H[1],oe),he(oe),_t=br(je.G[2],je.H[2],oe),ht=br(je.G[3],je.H[3],oe),oe.h)break;_[Te]=(ht<<24|$e<<16|Ve<<8|_t)>>>0}if($e=!1,++Te,++ne>=F&&(ne=0,++ee,X!=null&&ee<=K&&!(ee%16)&&X(g,ee),Se!=null))for(;ae<Te;)Ve=_[ae++],Se.X[(506832829*Ve&4294967295)>>>Se.Mb]=Ve}else if(280>Ve){if(Ve=jn(Ve-256,oe),_t=br(je.G[4],je.H[4],oe),he(oe),_t=Jn(F,_t=jn(_t,oe)),oe.h)break;if(Te-I<_t||H-Te<Ve)break e;for(ht=0;ht<Ve;++ht)_[Te+ht]=_[Te+ht-_t];for(Te+=Ve,ne+=Ve;ne>=F;)ne-=F,++ee,X!=null&&ee<=K&&!(ee%16)&&X(g,ee);if(e(Te<=H),ne&Me&&(je=xr(me,ne,ee)),Se!=null)for(;ae<Te;)Ve=_[ae++],Se.X[(506832829*Ve&4294967295)>>>Se.Mb]=Ve}else{if(!(Ve<_e))break e;for($e=Ve-280,e(Se!=null);ae<Te;)Ve=_[ae++],Se.X[(506832829*Ve&4294967295)>>>Se.Mb]=Ve;Ve=Te,e(!($e>>>(_t=Se).Xa)),_[Ve]=_t.X[$e],$e=!0}$e||e(oe.h==ce(oe))}if(g.Pb&&oe.h&&Te<H)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Oe(g.s.vb,g.s.Wa);else{if(oe.h)break e;X!=null&&X(g,ee>K?K:ee),g.a=0,g.$=Te-I}return 1}return g.a=3,0}function Yr(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function sc(){var g=new Lt;return g==null?null:(g.a=0,g.xb=iI,Nn("Predictor","VP8LPredictors"),Nn("Predictor","VP8LPredictors_C"),Nn("PredictorAdd","VP8LPredictorsAdd"),Nn("PredictorAdd","VP8LPredictorsAdd_C"),Xr=Ft,rv=Nt,iv=Dn,eh=sn,th=jt,nh=Vt,up=Sn,P.VP8LMapColor32b=fc,P.VP8LMapColor8b=tv,g)}function Bo(g,_,I,F,H){var K=1,X=[g],ee=[_],ne=F.m,oe=F.s,me=null,Te=0;e:for(;;){if(I)for(;K&&ye(ne,1);){var ae=X,ve=ee,_e=F,Pe=1,Se=_e.m,Me=_e.gc[_e.ab],je=ye(Se,2);if(_e.Oc&1<<je)K=0;else{switch(_e.Oc|=1<<je,Me.hc=je,Me.Ea=ae[0],Me.nc=ve[0],Me.K=[null],++_e.ab,e(4>=_e.ab),je){case 0:case 1:Me.b=ye(Se,3)+2,Pe=Bo(Re(Me.Ea,Me.b),Re(Me.nc,Me.b),0,_e,Me.K),Me.K=Me.K[0];break;case 3:var $e,Ve=ye(Se,8)+1,_t=16<Ve?0:4<Ve?1:2<Ve?2:3;if(ae[0]=Re(Me.Ea,_t),Me.b=_t,$e=Pe=Bo(Ve,1,0,_e,Me.K)){var ht,en=Ve,yt=Me,yn=1<<(8>>yt.b),bi=s(yn);if(bi==null)$e=0;else{var tn=yt.K[0],wt=yt.w;for(bi[0]=yt.K[0][0],ht=1;ht<1*en;++ht)bi[ht]=rt(tn[wt+ht],bi[ht-1]);for(;ht<4*yn;++ht)bi[ht]=0;yt.K[0]=null,yt.K[0]=bi,$e=1}}Pe=$e;break;case 2:break;default:e(0)}K=Pe}}if(X=X[0],ee=ee[0],K&&ye(ne,1)&&!(K=1<=(Te=ye(ne,4))&&11>=Te)){F.a=3;break e}var Xe;if(Xe=K)t:{var Jr,Qt,An,dr=F,Xi=X,zs=ee,Vr=Te,ms=I,$s=dr.m,xi=dr.s,Cn=[null],Vn=1,zr=0,zn=FY[Vr];n:for(;;){if(ms&&ye($s,1)){var Qi=ye($s,3)+2,ml=Re(Xi,Qi),Zr=Re(zs,Qi),fo=ml*Zr;if(!Bo(ml,Zr,0,dr,Cn))break n;for(Cn=Cn[0],xi.xc=Qi,Jr=0;Jr<fo;++Jr){var tr=Cn[Jr]>>8&65535;Cn[Jr]=tr,tr>=Vn&&(Vn=tr+1)}}if($s.h)break n;for(Qt=0;5>Qt;++Qt){var _i=nI[Qt];!Qt&&0<Vr&&(_i+=1<<Vr),zr<_i&&(zr=_i)}var Wo=o(Vn*zn,L),qs=Vn,Go=o(qs,ue);if(Go==null)var Ko=null;else e(65536>=qs),Ko=Go;var po=s(zr);if(Ko==null||po==null||Wo==null){dr.a=1;break n}var Yo=Wo;for(Jr=An=0;Jr<Vn;++Jr){var ar=Ko[Jr],Xo=ar.G,gl=ar.H,hp=0,Eu=1,Ji=0;for(Qt=0;5>Qt;++Qt){_i=nI[Qt],Xo[Qt]=Yo,gl[Qt]=An,!Qt&&0<Vr&&(_i+=1<<Vr);i:{var Hb,xA=_i,Wb=dr,cv=po,sX=Yo,oX=An,_A=0,oh=Wb.m,aX=ye(oh,1);if(i(cv,0,0,xA),aX){var lX=ye(oh,1)+1,cX=ye(oh,1),fI=ye(oh,cX==0?1:8);cv[fI]=1,lX==2&&(cv[fI=ye(oh,8)]=1);var Gb=1}else{var pI=s(19),mI=ye(oh,4)+4;if(19<mI){Wb.a=3;var Kb=0;break i}for(Hb=0;Hb<mI;++Hb)pI[jY[Hb]]=ye(oh,3);var AA=void 0,uv=void 0,gI=Wb,uX=pI,Yb=xA,vI=cv,EA=0,ah=gI.m,yI=8,wI=o(128,L);r:for(;j(wI,0,7,uX,19);){if(ye(ah,1)){var dX=2+2*ye(ah,3);if((AA=2+ye(ah,dX))>Yb)break r}else AA=Yb;for(uv=0;uv<Yb&&AA--;){he(ah);var bI=wI[0+(127&ie(ah))];fe(ah,ah.u+bI.g);var z1=bI.value;if(16>z1)vI[uv++]=z1,z1!=0&&(yI=z1);else{var hX=z1==16,xI=z1-16,fX=MY[xI],_I=ye(ah,LY[xI])+fX;if(uv+_I>Yb)break r;for(var pX=hX?yI:0;0<_I--;)vI[uv++]=pX}}EA=1;break r}EA||(gI.a=3),Gb=EA}(Gb=Gb&&!oh.h)&&(_A=j(sX,oX,8,cv,xA)),Gb&&_A!=0?Kb=_A:(Wb.a=3,Kb=0)}if(Kb==0)break n;if(Eu&&DY[Qt]==1&&(Eu=Yo[An].g==0),hp+=Yo[An].g,An+=Kb,3>=Qt){var dv,SA=po[0];for(dv=1;dv<_i;++dv)po[dv]>SA&&(SA=po[dv]);Ji+=SA}}if(ar.nd=Eu,ar.Qb=0,Eu&&(ar.qb=(Xo[3][gl[3]+0].value<<24|Xo[1][gl[1]+0].value<<16|Xo[2][gl[2]+0].value)>>>0,hp==0&&256>Xo[0][gl[0]+0].value&&(ar.Qb=1,ar.qb+=Xo[0][gl[0]+0].value<<8)),ar.jc=!ar.Qb&&6>Ji,ar.jc){var Xb,Su=ar;for(Xb=0;Xb<cp;++Xb){var lh=Xb,ch=Su.pd[lh],Qb=Su.G[0][Su.H[0]+lh];256<=Qb.value?(ch.g=Qb.g+256,ch.value=Qb.value):(ch.g=0,ch.value=0,lh>>=ui(Qb,8,ch),lh>>=ui(Su.G[1][Su.H[1]+lh],16,ch),lh>>=ui(Su.G[2][Su.H[2]+lh],0,ch),ui(Su.G[3][Su.H[3]+lh],24,ch))}}}xi.vc=Cn,xi.Wb=Vn,xi.Ya=Ko,xi.yc=Wo,Xe=1;break t}Xe=0}if(!(K=Xe)){F.a=3;break e}if(0<Te){if(oe.ua=1<<Te,!Z(oe.Wa,Te)){F.a=1,K=0;break e}}else oe.ua=0;var CA=F,AI=X,mX=ee,TA=CA.s,NA=TA.xc;if(CA.c=AI,CA.i=mX,TA.md=Re(AI,NA),TA.wc=NA==0?-1:(1<<NA)-1,I){F.xb=WY;break e}if((me=s(X*ee))==null){F.a=1,K=0;break e}K=(K=fs(F,me,0,X,ee,ee,null))&&!ne.h;break e}return K?(H!=null?H[0]=me:(e(me==null),e(I)),F.$=0,I||Yr(oe)):Yr(oe),K}function ul(g,_){var I=g.c*g.i,F=I+_+16*_;return e(g.c<=_),g.V=s(F),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+I+_,1)}function oc(g,_){var I=g.C,F=_-I,H=g.V,K=g.Ba+g.c*I;for(e(_<=g.l.o);0<F;){var X=16<F?16:F,ee=g.l.ma,ne=g.l.width,oe=ne*X,me=ee.ca,Te=ee.tb+ne*I,ae=g.Ta,ve=g.Ua;hu(g,X,H,K),K9(ae,ve,me,Te,oe),Fo(ee,I,I+X,me,Te,ne),F-=X,H+=X*g.c,I+=X}e(I==_),g.C=g.Ma=_}function fu(){this.ub=this.yd=this.td=this.Rb=0}function pu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function H2(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ac(){this.Yb=function(){var g=[];return function _(I,F,H){for(var K=H[F],X=0;X<K&&(I.push(H.length>F+1?[]:0),!(H.length<F+1));X++)_(I[X],F+1,H)}(g,0,[3,11]),g}()}function Jf(){this.jb=s(3),this.Wc=a([4,8],ac),this.Xc=a([4,17],ac)}function $d(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Li(){this.ld=this.La=this.dd=this.tc=0}function Uo(){this.Na=this.la=0}function qd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zf(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ep(){this.uc=this.M=this.Nb=0,this.wa=Array(new Li),this.Y=0,this.ya=Array(new Zf),this.aa=0,this.l=new lc}function tp(){this.y=s(16),this.f=s(8),this.ea=s(8)}function np(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new fu,this.Kc=new pu,this.ed=new $d,this.Qa=new H2,this.Ic=this.$c=this.Aa=0,this.D=new ep,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,z),this.ia=0,this.pb=o(4,qd),this.Pa=new Jf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new tp),this.Hd=0,this.rb=Array(new Uo),this.sb=0,this.wa=Array(new Li),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zf),this.L=this.aa=0,this.gd=a([4,2],Li),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function co(g,_){return 0>g?0:g>_?_:g}function lc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function R1(){var g=new np;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,av||(av=mu)),g}function Sr(g,_,I){return g.a==0&&(g.a=_,g.sc=I,g.cb=0),0}function L1(g,_,I){return 3<=I&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function Ta(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return Sr(g,2,"null VP8Io passed to VP8GetHeaders()");var I=_.data,F=_.w,H=_.ha;if(4>H)return Sr(g,7,"Truncated header.");var K=I[F+0]|I[F+1]<<8|I[F+2]<<16,X=g.Od;if(X.Rb=!(1&K),X.td=K>>1&7,X.yd=K>>4&1,X.ub=K>>5,3<X.td)return Sr(g,3,"Incorrect keyframe parameters.");if(!X.yd)return Sr(g,4,"Frame not displayable.");F+=3,H-=3;var ee=g.Kc;if(X.Rb){if(7>H)return Sr(g,7,"cannot parse picture header");if(!L1(I,F,H))return Sr(g,3,"Bad code word");ee.c=16383&(I[F+4]<<8|I[F+3]),ee.Td=I[F+4]>>6,ee.i=16383&(I[F+6]<<8|I[F+5]),ee.Ud=I[F+6]>>6,F+=7,H-=7,g.za=ee.c+15>>4,g.Ub=ee.i+15>>4,_.width=ee.c,_.height=ee.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((K=g.Pa).jb,0,255,K.jb.length),e((K=g.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,i(K.Zb,0,0,K.Zb.length),i(K.Lb,0,0,K.Lb)}if(X.ub>H)return Sr(g,7,"bad partition length");de(K=g.m,I,F,X.ub),F+=X.ub,H-=X.ub,X.Rb&&(ee.Ld=xe(K),ee.Kd=xe(K)),ee=g.Qa;var ne,oe=g.Pa;if(e(K!=null),e(ee!=null),ee.Cb=xe(K),ee.Cb){if(ee.Bb=xe(K),xe(K)){for(ee.Fb=xe(K),ne=0;4>ne;++ne)ee.Zb[ne]=xe(K)?J(K,7):0;for(ne=0;4>ne;++ne)ee.Lb[ne]=xe(K)?J(K,6):0}if(ee.Bb)for(ne=0;3>ne;++ne)oe.jb[ne]=xe(K)?le(K,8):255}else ee.Bb=0;if(K.Ka)return Sr(g,3,"cannot parse segment header");if((ee=g.ed).zd=xe(K),ee.Tb=le(K,6),ee.wb=le(K,3),ee.Pc=xe(K),ee.Pc&&xe(K)){for(oe=0;4>oe;++oe)xe(K)&&(ee.vd[oe]=J(K,6));for(oe=0;4>oe;++oe)xe(K)&&(ee.od[oe]=J(K,6))}if(g.L=ee.Tb==0?0:ee.zd?1:2,K.Ka)return Sr(g,3,"cannot parse filter header");var me=H;if(H=ne=F,F=ne+me,ee=me,g.Xb=(1<<le(g.m,2))-1,me<3*(oe=g.Xb))I=7;else{for(ne+=3*oe,ee-=3*oe,me=0;me<oe;++me){var Te=I[H+0]|I[H+1]<<8|I[H+2]<<16;Te>ee&&(Te=ee),de(g.Jc[+me],I,ne,Te),ne+=Te,ee-=Te,H+=3}de(g.Jc[+oe],I,ne,ee),I=ne<F?0:5}if(I!=0)return Sr(g,I,"cannot parse partitions");for(I=le(ne=g.m,7),H=xe(ne)?J(ne,4):0,F=xe(ne)?J(ne,4):0,ee=xe(ne)?J(ne,4):0,oe=xe(ne)?J(ne,4):0,ne=xe(ne)?J(ne,4):0,me=g.Qa,Te=0;4>Te;++Te){if(me.Cb){var ae=me.Zb[Te];me.Fb||(ae+=I)}else{if(0<Te){g.pb[Te]=g.pb[0];continue}ae=I}var ve=g.pb[Te];ve.Sc[0]=yA[co(ae+H,127)],ve.Sc[1]=wA[co(ae+0,127)],ve.Eb[0]=2*yA[co(ae+F,127)],ve.Eb[1]=101581*wA[co(ae+ee,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=yA[co(ae+oe,117)],ve.Qc[1]=wA[co(ae+ne,127)],ve.lc=ae+ne}if(!X.Rb)return Sr(g,4,"Not a key frame.");for(xe(K),X=g.Pa,I=0;4>I;++I){for(H=0;8>H;++H)for(F=0;3>F;++F)for(ee=0;11>ee;++ee)oe=Ae(K,qY[I][H][F][ee])?le(K,8):zY[I][H][F][ee],X.Wc[I][H].Yb[F][ee]=oe;for(H=0;17>H;++H)X.Xc[I][H]=X.Wc[I][HY[H]]}return g.kc=xe(K),g.kc&&(g.Bd=le(K,8)),g.cb=1}function mu(g,_,I,F,H,K,X){var ee=_[H].Yb[I];for(I=0;16>H;++H){if(!Ae(g,ee[I+0]))return H;for(;!Ae(g,ee[I+1]);)if(ee=_[++H].Yb[0],I=0,H==16)return 16;var ne=_[H+1].Yb;if(Ae(g,ee[I+2])){var oe=g,me=0;if(Ae(oe,(ae=ee)[(Te=I)+3]))if(Ae(oe,ae[Te+6])){for(ee=0,Te=2*(me=Ae(oe,ae[Te+8]))+(ae=Ae(oe,ae[Te+9+me])),me=0,ae=UY[Te];ae[ee];++ee)me+=me+Ae(oe,ae[ee]);me+=3+(8<<Te)}else Ae(oe,ae[Te+7])?(me=7+2*Ae(oe,165),me+=Ae(oe,145)):me=5+Ae(oe,159);else me=Ae(oe,ae[Te+4])?3+Ae(oe,ae[Te+5]):2;ee=ne[2]}else me=1,ee=ne[1];ne=X+VY[H],0>(oe=g).b&&Ee(oe);var Te,ae=oe.b,ve=(Te=oe.Ca>>1)-(oe.I>>ae)>>31;--oe.b,oe.Ca+=ve,oe.Ca|=1,oe.I-=(Te+1&ve)<<ae,K[ne]=((me^ve)-ve)*F[(0<H)+0]}return 16}function rp(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function uo(g,_,I,F,H){H=g[_+I+32*F]+(H>>3),g[_+I+32*F]=-256&H?0>H?0:255:H}function Zn(g,_,I,F,H,K){uo(g,_,0,I,F+H),uo(g,_,1,I,F+K),uo(g,_,2,I,F-K),uo(g,_,3,I,F-H)}function yi(g){return(20091*g>>16)+g}function gu(g,_,I,F){var H,K=0,X=s(16);for(H=0;4>H;++H){var ee=g[_+0]+g[_+8],ne=g[_+0]-g[_+8],oe=(35468*g[_+4]>>16)-yi(g[_+12]),me=yi(g[_+4])+(35468*g[_+12]>>16);X[K+0]=ee+me,X[K+1]=ne+oe,X[K+2]=ne-oe,X[K+3]=ee-me,K+=4,_++}for(H=K=0;4>H;++H)ee=(g=X[K+0]+4)+X[K+8],ne=g-X[K+8],oe=(35468*X[K+4]>>16)-yi(X[K+12]),uo(I,F,0,0,ee+(me=yi(X[K+4])+(35468*X[K+12]>>16))),uo(I,F,1,0,ne+oe),uo(I,F,2,0,ne-oe),uo(I,F,3,0,ee-me),K++,F+=32}function Hd(g,_,I,F){var H=g[_+0]+4,K=35468*g[_+4]>>16,X=yi(g[_+4]),ee=35468*g[_+1]>>16;Zn(I,F,0,H+X,g=yi(g[_+1]),ee),Zn(I,F,1,H+K,g,ee),Zn(I,F,2,H-K,g,ee),Zn(I,F,3,H-X,g,ee)}function M1(g,_,I,F,H){gu(g,_,I,F),H&&gu(g,_+16,I,F+4)}function fn(g,_,I,F){dp(g,_+0,I,F,1),dp(g,_+32,I,F+128,1)}function vu(g,_,I,F){var H;for(g=g[_+0]+4,H=0;4>H;++H)for(_=0;4>_;++_)uo(I,F,_,H,g)}function cc(g,_,I,F){g[_+0]&&On(g,_+0,I,F),g[_+16]&&On(g,_+16,I,F+4),g[_+32]&&On(g,_+32,I,F+128),g[_+48]&&On(g,_+48,I,F+128+4)}function Na(g,_,I,F){var H,K=s(16);for(H=0;4>H;++H){var X=g[_+0+H]+g[_+12+H],ee=g[_+4+H]+g[_+8+H],ne=g[_+4+H]-g[_+8+H],oe=g[_+0+H]-g[_+12+H];K[0+H]=X+ee,K[8+H]=X-ee,K[4+H]=oe+ne,K[12+H]=oe-ne}for(H=0;4>H;++H)X=(g=K[0+4*H]+3)+K[3+4*H],ee=K[1+4*H]+K[2+4*H],ne=K[1+4*H]-K[2+4*H],oe=g-K[3+4*H],I[F+0]=X+ee>>3,I[F+16]=oe+ne>>3,I[F+32]=X-ee>>3,I[F+48]=oe-ne>>3,F+=64}function yu(g,_,I){var F,H=_-32,K=Ho,X=255-g[H-1];for(F=0;F<I;++F){var ee,ne=K,oe=X+g[_-1];for(ee=0;ee<I;++ee)g[_+ee]=ne[oe+g[H+ee]];_+=32}}function D1(g,_){yu(g,_,4)}function W2(g,_){yu(g,_,8)}function G2(g,_){yu(g,_,16)}function ip(g,_){var I;for(I=0;16>I;++I)r(g,_+32*I,g,_-32,16)}function j1(g,_){var I;for(I=16;0<I;--I)i(g,_,g[_-1],16),_+=32}function Ki(g,_,I){var F;for(F=0;16>F;++F)i(_,I+32*F,g,16)}function ka(g,_){var I,F=16;for(I=0;16>I;++I)F+=g[_-1+32*I]+g[_+I-32];Ki(F>>5,g,_)}function uc(g,_){var I,F=8;for(I=0;16>I;++I)F+=g[_-1+32*I];Ki(F>>4,g,_)}function Wd(g,_){var I,F=8;for(I=0;16>I;++I)F+=g[_+I-32];Ki(F>>4,g,_)}function O1(g,_){Ki(128,g,_)}function Rt(g,_,I){return g+2*_+I+2>>2}function K2(g,_){var I,F=_-32;for(F=new Uint8Array([Rt(g[F-1],g[F+0],g[F+1]),Rt(g[F+0],g[F+1],g[F+2]),Rt(g[F+1],g[F+2],g[F+3]),Rt(g[F+2],g[F+3],g[F+4])]),I=0;4>I;++I)r(g,_+32*I,F,0,F.length)}function Y2(g,_){var I=g[_-1],F=g[_-1+32],H=g[_-1+64],K=g[_-1+96];Fe(g,_+0,16843009*Rt(g[_-1-32],I,F)),Fe(g,_+32,16843009*Rt(I,F,H)),Fe(g,_+64,16843009*Rt(F,H,K)),Fe(g,_+96,16843009*Rt(H,K,K))}function X2(g,_){var I,F=4;for(I=0;4>I;++I)F+=g[_+I-32]+g[_-1+32*I];for(F>>=3,I=0;4>I;++I)i(g,_+32*I,F,4)}function Mi(g,_){var I=g[_-1+0],F=g[_-1+32],H=g[_-1+64],K=g[_-1-32],X=g[_+0-32],ee=g[_+1-32],ne=g[_+2-32],oe=g[_+3-32];g[_+0+96]=Rt(F,H,g[_-1+96]),g[_+1+96]=g[_+0+64]=Rt(I,F,H),g[_+2+96]=g[_+1+64]=g[_+0+32]=Rt(K,I,F),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=Rt(X,K,I),g[_+3+64]=g[_+2+32]=g[_+1+0]=Rt(ee,X,K),g[_+3+32]=g[_+2+0]=Rt(ne,ee,X),g[_+3+0]=Rt(oe,ne,ee)}function dl(g,_){var I=g[_+1-32],F=g[_+2-32],H=g[_+3-32],K=g[_+4-32],X=g[_+5-32],ee=g[_+6-32],ne=g[_+7-32];g[_+0+0]=Rt(g[_+0-32],I,F),g[_+1+0]=g[_+0+32]=Rt(I,F,H),g[_+2+0]=g[_+1+32]=g[_+0+64]=Rt(F,H,K),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=Rt(H,K,X),g[_+3+32]=g[_+2+64]=g[_+1+96]=Rt(K,X,ee),g[_+3+64]=g[_+2+96]=Rt(X,ee,ne),g[_+3+96]=Rt(ee,ne,ne)}function Q2(g,_){var I=g[_-1+0],F=g[_-1+32],H=g[_-1+64],K=g[_-1-32],X=g[_+0-32],ee=g[_+1-32],ne=g[_+2-32],oe=g[_+3-32];g[_+0+0]=g[_+1+64]=K+X+1>>1,g[_+1+0]=g[_+2+64]=X+ee+1>>1,g[_+2+0]=g[_+3+64]=ee+ne+1>>1,g[_+3+0]=ne+oe+1>>1,g[_+0+96]=Rt(H,F,I),g[_+0+64]=Rt(F,I,K),g[_+0+32]=g[_+1+96]=Rt(I,K,X),g[_+1+32]=g[_+2+96]=Rt(K,X,ee),g[_+2+32]=g[_+3+96]=Rt(X,ee,ne),g[_+3+32]=Rt(ee,ne,oe)}function Gd(g,_){var I=g[_+0-32],F=g[_+1-32],H=g[_+2-32],K=g[_+3-32],X=g[_+4-32],ee=g[_+5-32],ne=g[_+6-32],oe=g[_+7-32];g[_+0+0]=I+F+1>>1,g[_+1+0]=g[_+0+64]=F+H+1>>1,g[_+2+0]=g[_+1+64]=H+K+1>>1,g[_+3+0]=g[_+2+64]=K+X+1>>1,g[_+0+32]=Rt(I,F,H),g[_+1+32]=g[_+0+96]=Rt(F,H,K),g[_+2+32]=g[_+1+96]=Rt(H,K,X),g[_+3+32]=g[_+2+96]=Rt(K,X,ee),g[_+3+64]=Rt(X,ee,ne),g[_+3+96]=Rt(ee,ne,oe)}function hl(g,_){var I=g[_-1+0],F=g[_-1+32],H=g[_-1+64],K=g[_-1+96];g[_+0+0]=I+F+1>>1,g[_+2+0]=g[_+0+32]=F+H+1>>1,g[_+2+32]=g[_+0+64]=H+K+1>>1,g[_+1+0]=Rt(I,F,H),g[_+3+0]=g[_+1+32]=Rt(F,H,K),g[_+3+32]=g[_+1+64]=Rt(H,K,K),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=K}function Kd(g,_){var I=g[_-1+0],F=g[_-1+32],H=g[_-1+64],K=g[_-1+96],X=g[_-1-32],ee=g[_+0-32],ne=g[_+1-32],oe=g[_+2-32];g[_+0+0]=g[_+2+32]=I+X+1>>1,g[_+0+32]=g[_+2+64]=F+I+1>>1,g[_+0+64]=g[_+2+96]=H+F+1>>1,g[_+0+96]=K+H+1>>1,g[_+3+0]=Rt(ee,ne,oe),g[_+2+0]=Rt(X,ee,ne),g[_+1+0]=g[_+3+32]=Rt(I,X,ee),g[_+1+32]=g[_+3+64]=Rt(F,I,X),g[_+1+64]=g[_+3+96]=Rt(H,F,I),g[_+1+96]=Rt(K,H,F)}function Vo(g,_){var I;for(I=0;8>I;++I)r(g,_+32*I,g,_-32,8)}function wu(g,_){var I;for(I=0;8>I;++I)i(g,_,g[_-1],8),_+=32}function Ia(g,_,I){var F;for(F=0;8>F;++F)i(_,I+32*F,g,8)}function sp(g,_){var I,F=8;for(I=0;8>I;++I)F+=g[_+I-32]+g[_-1+32*I];Ia(F>>4,g,_)}function Yn(g,_){var I,F=4;for(I=0;8>I;++I)F+=g[_+I-32];Ia(F>>3,g,_)}function op(g,_){var I,F=4;for(I=0;8>I;++I)F+=g[_-1+32*I];Ia(F>>3,g,_)}function F1(g,_){Ia(128,g,_)}function Pa(g,_,I){var F=g[_-I],H=g[_+0],K=3*(H-F)+fA[1020+g[_-2*I]-g[_+I]],X=jb[112+(K+4>>3)];g[_-I]=Ho[255+F+jb[112+(K+3>>3)]],g[_+0]=Ho[255+H-X]}function Yd(g,_,I,F){var H=g[_+0],K=g[_+I];return Oa[255+g[_-2*I]-g[_-I]]>F||Oa[255+K-H]>F}function bu(g,_,I,F){return 4*Oa[255+g[_-I]-g[_+0]]+Oa[255+g[_-2*I]-g[_+I]]<=F}function dc(g,_,I,F,H){var K=g[_-3*I],X=g[_-2*I],ee=g[_-I],ne=g[_+0],oe=g[_+I],me=g[_+2*I],Te=g[_+3*I];return 4*Oa[255+ee-ne]+Oa[255+X-oe]>F?0:Oa[255+g[_-4*I]-K]<=H&&Oa[255+K-X]<=H&&Oa[255+X-ee]<=H&&Oa[255+Te-me]<=H&&Oa[255+me-oe]<=H&&Oa[255+oe-ne]<=H}function hc(g,_,I,F){var H=2*F+1;for(F=0;16>F;++F)bu(g,_+F,I,H)&&Pa(g,_+F,I)}function Us(g,_,I,F){var H=2*F+1;for(F=0;16>F;++F)bu(g,_+F*I,1,H)&&Pa(g,_+F*I,1)}function ap(g,_,I,F){var H;for(H=3;0<H;--H)hc(g,_+=4*I,I,F)}function B1(g,_,I,F){var H;for(H=3;0<H;--H)Us(g,_+=4,I,F)}function Vs(g,_,I,F,H,K,X,ee){for(K=2*K+1;0<H--;){if(dc(g,_,I,K,X))if(Yd(g,_,I,ee))Pa(g,_,I);else{var ne=g,oe=_,me=I,Te=ne[oe-2*me],ae=ne[oe-me],ve=ne[oe+0],_e=ne[oe+me],Pe=ne[oe+2*me],Se=27*(je=fA[1020+3*(ve-ae)+fA[1020+Te-_e]])+63>>7,Me=18*je+63>>7,je=9*je+63>>7;ne[oe-3*me]=Ho[255+ne[oe-3*me]+je],ne[oe-2*me]=Ho[255+Te+Me],ne[oe-me]=Ho[255+ae+Se],ne[oe+0]=Ho[255+ve-Se],ne[oe+me]=Ho[255+_e-Me],ne[oe+2*me]=Ho[255+Pe-je]}_+=F}}function Ra(g,_,I,F,H,K,X,ee){for(K=2*K+1;0<H--;){if(dc(g,_,I,K,X))if(Yd(g,_,I,ee))Pa(g,_,I);else{var ne=g,oe=_,me=I,Te=ne[oe-me],ae=ne[oe+0],ve=ne[oe+me],_e=jb[112+(4+(Pe=3*(ae-Te))>>3)],Pe=jb[112+(Pe+3>>3)],Se=_e+1>>1;ne[oe-2*me]=Ho[255+ne[oe-2*me]+Se],ne[oe-me]=Ho[255+Te+Pe],ne[oe+0]=Ho[255+ae-_e],ne[oe+me]=Ho[255+ve-Se]}_+=F}}function Xd(g,_,I,F,H,K){Vs(g,_,I,1,16,F,H,K)}function La(g,_,I,F,H,K){Vs(g,_,1,I,16,F,H,K)}function lp(g,_,I,F,H,K){var X;for(X=3;0<X;--X)Ra(g,_+=4*I,I,1,16,F,H,K)}function C(g,_,I,F,H,K){var X;for(X=3;0<X;--X)Ra(g,_+=4,1,I,16,F,H,K)}function q(g,_,I,F,H,K,X,ee){Vs(g,_,H,1,8,K,X,ee),Vs(I,F,H,1,8,K,X,ee)}function se(g,_,I,F,H,K,X,ee){Vs(g,_,1,H,8,K,X,ee),Vs(I,F,1,H,8,K,X,ee)}function pe(g,_,I,F,H,K,X,ee){Ra(g,_+4*H,H,1,8,K,X,ee),Ra(I,F+4*H,H,1,8,K,X,ee)}function we(g,_,I,F,H,K,X,ee){Ra(g,_+4,1,H,8,K,X,ee),Ra(I,F+4,1,H,8,K,X,ee)}function Le(){this.ba=new zt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new on,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ue(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function mt(){this.ua=0,this.Wa=new at,this.vb=new at,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new L}function Lt(){this.xb=this.a=0,this.l=new lc,this.ca=new zt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new mt,this.ab=0,this.gc=o(4,lt),this.Oc=0}function qt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new lc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function pn(g,_,I,F,H,K,X){for(g=g==null?0:g[_+0],_=0;_<X;++_)H[K+_]=g+I[F+_]&255,g=H[K+_]}function Rn(g,_,I,F,H,K,X){var ee;if(g==null)pn(null,null,I,F,H,K,X);else for(ee=0;ee<X;++ee)H[K+ee]=g[_+ee]+I[F+ee]&255}function Cr(g,_,I,F,H,K,X){if(g==null)pn(null,null,I,F,H,K,X);else{var ee,ne=g[_+0],oe=ne,me=ne;for(ee=0;ee<X;++ee)oe=me+(ne=g[_+ee])-oe,me=I[F+ee]+(-256&oe?0>oe?0:255:oe)&255,oe=ne,H[K+ee]=me}}function Un(g,_,I,F){var H=_.width,K=_.o;if(e(g!=null&&_!=null),0>I||0>=F||I+F>K)return null;if(!g.Cc){if(g.ga==null){var X;if(g.ga=new qt,(X=g.ga==null)||(X=_.width*_.o,e(g.Gb.length==0),g.Gb=s(X),g.Uc=0,g.Gb==null?X=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,X=1),X=!X),!X){X=g.ga;var ee=g.Fa,ne=g.P,oe=g.qc,me=g.mb,Te=g.nb,ae=ne+1,ve=oe-1,_e=X.l;if(e(ee!=null&&me!=null&&_!=null),sh[0]=null,sh[1]=pn,sh[2]=Rn,sh[3]=Cr,X.ca=me,X.tb=Te,X.c=_.width,X.i=_.height,e(0<X.c&&0<X.i),1>=oe)_=0;else if(X.$a=3&ee[ne+0],X.Z=ee[ne+0]>>2&3,X.Lc=ee[ne+0]>>4&3,ne=ee[ne+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||ne)_=0;else if(_e.put=dt,_e.ac=Kn,_e.bc=_n,_e.ma=X,_e.width=_.width,_e.height=_.height,_e.Da=_.Da,_e.v=_.v,_e.va=_.va,_e.j=_.j,_e.o=_.o,X.$a)e:{e(X.$a==1),_=sc();t:for(;;){if(_==null){_=0;break e}if(e(X!=null),X.mc=_,_.c=X.c,_.i=X.i,_.l=X.l,_.l.ma=X,_.l.width=X.c,_.l.height=X.i,_.a=0,re(_.m,ee,ae,ve),!Bo(X.c,X.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&hs(_.s)?(X.ic=1,ee=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(ee),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(X.ic=0,_=ul(_,X.c)),!_))break t;_=1;break e}X.mc=null,_=0}else _=ve>=X.c*X.i;X=!_}if(X)return null;g.ga.Lc!=1?g.Ga=0:F=K-I}e(g.ga!=null),e(I+F<=K);e:{if(_=(ee=g.ga).c,K=ee.l.o,ee.$a==0){if(ae=g.rc,ve=g.Vc,_e=g.Fa,ne=g.P+1+I*_,oe=g.mb,me=g.nb+I*_,e(ne<=g.P+g.qc),ee.Z!=0)for(e(sh[ee.Z]!=null),X=0;X<F;++X)sh[ee.Z](ae,ve,_e,ne,oe,me,_),ae=oe,ve=me,me+=_,ne+=_;else for(X=0;X<F;++X)r(oe,me,_e,ne,_),ae=oe,ve=me,me+=_,ne+=_;g.rc=ae,g.Vc=ve}else{if(e(ee.mc!=null),_=I+F,e((X=ee.mc)!=null),e(_<=X.i),X.C>=_)_=1;else if(ee.ic||ho(),ee.ic){ee=X.V,ae=X.Ba,ve=X.c;var Pe=X.i,Se=(_e=1,ne=X.$/ve,oe=X.$%ve,me=X.m,Te=X.s,X.$),Me=ve*Pe,je=ve*_,$e=Te.wc,Ve=Se<je?xr(Te,oe,ne):null;e(Se<=Me),e(_<=Pe),e(hs(Te));t:for(;;){for(;!me.h&&Se<je;){if(oe&$e||(Ve=xr(Te,oe,ne)),e(Ve!=null),he(me),256>(Pe=br(Ve.G[0],Ve.H[0],me)))ee[ae+Se]=Pe,++Se,++oe>=ve&&(oe=0,++ne<=_&&!(ne%16)&&Bs(X,ne));else{if(!(280>Pe)){_e=0;break t}Pe=jn(Pe-256,me);var _t,ht=br(Ve.G[4],Ve.H[4],me);if(he(me),!(Se>=(ht=Jn(ve,ht=jn(ht,me)))&&Me-Se>=Pe)){_e=0;break t}for(_t=0;_t<Pe;++_t)ee[ae+Se+_t]=ee[ae+Se+_t-ht];for(Se+=Pe,oe+=Pe;oe>=ve;)oe-=ve,++ne<=_&&!(ne%16)&&Bs(X,ne);Se<je&&oe&$e&&(Ve=xr(Te,oe,ne))}e(me.h==ce(me))}Bs(X,ne>_?_:ne);break t}!_e||me.h&&Se<Me?(_e=0,X.a=me.h?5:3):X.$=Se,_=_e}else _=fs(X,X.V,X.Ba,X.c,X.i,_,oc);if(!_){F=0;break e}}I+F>=K&&(g.Cc=1),F=1}if(!F)return null;if(g.Cc&&((F=g.ga)!=null&&(F.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+I*H}function Br(g,_,I,F,H,K){for(;0<H--;){var X,ee=g,ne=_+(I?1:0),oe=g,me=_+(I?0:3);for(X=0;X<F;++X){var Te=oe[me+4*X];Te!=255&&(Te*=32897,ee[ne+4*X+0]=ee[ne+4*X+0]*Te>>23,ee[ne+4*X+1]=ee[ne+4*X+1]*Te>>23,ee[ne+4*X+2]=ee[ne+4*X+2]*Te>>23)}_+=K}}function Tr(g,_,I,F,H){for(;0<F--;){var K;for(K=0;K<I;++K){var X=g[_+2*K+0],ee=15&(oe=g[_+2*K+1]),ne=4369*ee,oe=(240&oe|oe>>4)*ne>>16;g[_+2*K+0]=(240&X|X>>4)*ne>>16&240|(15&X|X<<4)*ne>>16>>4&15,g[_+2*K+1]=240&oe|ee}_+=H}}function Ur(g,_,I,F,H,K,X,ee){var ne,oe,me=255;for(oe=0;oe<H;++oe){for(ne=0;ne<F;++ne){var Te=g[_+ne];K[X+4*ne]=Te,me&=Te}_+=I,X+=ee}return me!=255}function Nr(g,_,I,F,H){var K;for(K=0;K<H;++K)I[F+K]=g[_+K]>>8}function ho(){ov=Br,W9=Tr,G9=Ur,K9=Nr}function Ma(g,_,I){P[g]=function(F,H,K,X,ee,ne,oe,me,Te,ae,ve,_e,Pe,Se,Me,je,$e){var Ve,_t=$e-1>>1,ht=ee[ne+0]|oe[me+0]<<16,en=Te[ae+0]|ve[_e+0]<<16;e(F!=null);var yt=3*ht+en+131074>>2;for(_(F[H+0],255&yt,yt>>16,Pe,Se),K!=null&&(yt=3*en+ht+131074>>2,_(K[X+0],255&yt,yt>>16,Me,je)),Ve=1;Ve<=_t;++Ve){var yn=ee[ne+Ve]|oe[me+Ve]<<16,bi=Te[ae+Ve]|ve[_e+Ve]<<16,tn=ht+yn+en+bi+524296,wt=tn+2*(yn+en)>>3;yt=wt+ht>>1,ht=(tn=tn+2*(ht+bi)>>3)+yn>>1,_(F[H+2*Ve-1],255&yt,yt>>16,Pe,Se+(2*Ve-1)*I),_(F[H+2*Ve-0],255&ht,ht>>16,Pe,Se+(2*Ve-0)*I),K!=null&&(yt=tn+en>>1,ht=wt+bi>>1,_(K[X+2*Ve-1],255&yt,yt>>16,Me,je+(2*Ve-1)*I),_(K[X+2*Ve+0],255&ht,ht>>16,Me,je+(2*Ve+0)*I)),ht=yn,en=bi}1&$e||(yt=3*ht+en+131074>>2,_(F[H+$e-1],255&yt,yt>>16,Pe,Se+($e-1)*I),K!=null&&(yt=3*en+ht+131074>>2,_(K[X+$e-1],255&yt,yt>>16,Me,je+($e-1)*I)))}}function Da(){Fa[Ob]=GY,Fa[Fb]=sI,Fa[eI]=KY,Fa[Bb]=oI,Fa[Ub]=aI,Fa[pA]=lI,Fa[tI]=YY,Fa[mA]=sI,Fa[gA]=oI,Fa[Vb]=aI,Fa[vA]=lI}function y(g){return g&~XY?0>g?0:255:g>>cI}function R(g,_){return y((19077*g>>8)+(26149*_>>8)-14234)}function U(g,_,I){return y((19077*g>>8)-(6419*_>>8)-(13320*I>>8)+8708)}function te(g,_){return y((19077*g>>8)+(33050*_>>8)-17685)}function be(g,_,I,F,H){F[H+0]=R(g,I),F[H+1]=U(g,_,I),F[H+2]=te(g,_)}function ke(g,_,I,F,H){F[H+0]=te(g,_),F[H+1]=U(g,_,I),F[H+2]=R(g,I)}function Ge(g,_,I,F,H){var K=U(g,_,I);_=K<<3&224|te(g,_)>>3,F[H+0]=248&R(g,I)|K>>5,F[H+1]=_}function vn(g,_,I,F,H){var K=240&te(g,_)|15;F[H+0]=240&R(g,I)|U(g,_,I)>>4,F[H+1]=K}function kr(g,_,I,F,H){F[H+0]=255,be(g,_,I,F,H+1)}function cn(g,_,I,F,H){ke(g,_,I,F,H),F[H+3]=255}function In(g,_,I,F,H){be(g,_,I,F,H),F[H+3]=255}function or(g,_,I){P[g]=function(F,H,K,X,ee,ne,oe,me,Te){for(var ae=me+(-2&Te)*I;me!=ae;)_(F[H+0],K[X+0],ee[ne+0],oe,me),_(F[H+1],K[X+0],ee[ne+0],oe,me+I),H+=2,++X,++ne,me+=2*I;1&Te&&_(F[H+0],K[X+0],ee[ne+0],oe,me)}}function zo(g,_,I){return I==0?g==0?_==0?6:5:_==0?4:0:I}function ps(g,_,I,F,H){switch(g>>>30){case 3:dp(_,I,F,H,0);break;case 2:ja(_,I,F,H);break;case 1:On(_,I,F,H)}}function Yi(g,_){var I,F,H=_.M,K=_.Nb,X=g.oc,ee=g.pc+40,ne=g.oc,oe=g.pc+584,me=g.oc,Te=g.pc+600;for(I=0;16>I;++I)X[ee+32*I-1]=129;for(I=0;8>I;++I)ne[oe+32*I-1]=129,me[Te+32*I-1]=129;for(0<H?X[ee-1-32]=ne[oe-1-32]=me[Te-1-32]=129:(i(X,ee-32-1,127,21),i(ne,oe-32-1,127,9),i(me,Te-32-1,127,9)),F=0;F<g.za;++F){var ae=_.ya[_.aa+F];if(0<F){for(I=-1;16>I;++I)r(X,ee+32*I-4,X,ee+32*I+12,4);for(I=-1;8>I;++I)r(ne,oe+32*I-4,ne,oe+32*I+4,4),r(me,Te+32*I-4,me,Te+32*I+4,4)}var ve=g.Gd,_e=g.Hd+F,Pe=ae.ad,Se=ae.Hc;if(0<H&&(r(X,ee-32,ve[_e].y,0,16),r(ne,oe-32,ve[_e].f,0,8),r(me,Te-32,ve[_e].ea,0,8)),ae.Za){var Me=X,je=ee-32+16;for(0<H&&(F>=g.za-1?i(Me,je,ve[_e].y[15],4):r(Me,je,ve[_e+1].y,0,4)),I=0;4>I;I++)Me[je+128+I]=Me[je+256+I]=Me[je+384+I]=Me[je+0+I];for(I=0;16>I;++I,Se<<=2)Me=X,je=ee+dI[I],pl[ae.Ob[I]](Me,je),ps(Se,Pe,16*+I,Me,je)}else if(Me=zo(F,H,ae.Ob[0]),ih[Me](X,ee),Se!=0)for(I=0;16>I;++I,Se<<=2)ps(Se,Pe,16*+I,X,ee+dI[I]);for(I=ae.Gc,Me=zo(F,H,ae.Dd),Au[Me](ne,oe),Au[Me](me,Te),Se=Pe,Me=ne,je=oe,255&(ae=0|I)&&(170&ae?mc(Se,256,Me,je):er(Se,256,Me,je)),ae=me,Se=Te,255&(I>>=8)&&(170&I?mc(Pe,320,ae,Se):er(Pe,320,ae,Se)),H<g.Ub-1&&(r(ve[_e].y,0,X,ee+480,16),r(ve[_e].f,0,ne,oe+224,8),r(ve[_e].ea,0,me,Te+224,8)),I=8*K*g.B,ve=g.sa,_e=g.ta+16*F+16*K*g.R,Pe=g.qa,ae=g.ra+8*F+I,Se=g.Ha,Me=g.Ia+8*F+I,I=0;16>I;++I)r(ve,_e+I*g.R,X,ee+32*I,16);for(I=0;8>I;++I)r(Pe,ae+I*g.B,ne,oe+32*I,8),r(Se,Me+I*g.B,me,Te+32*I,8)}}function fl(g,_,I,F,H,K,X,ee,ne){var oe=[0],me=[0],Te=0,ae=ne!=null?ne.kd:0,ve=ne??new Ue;if(g==null||12>I)return 7;ve.data=g,ve.w=_,ve.ha=I,_=[_],I=[I],ve.gb=[ve.gb];e:{var _e=_,Pe=I,Se=ve.gb;if(e(g!=null),e(Pe!=null),e(Se!=null),Se[0]=0,12<=Pe[0]&&!t(g,_e[0],"RIFF")){if(t(g,_e[0]+8,"WEBP")){Se=3;break e}var Me=De(g,_e[0]+4);if(12>Me||4294967286<Me){Se=3;break e}if(ae&&Me>Pe[0]-8){Se=7;break e}Se[0]=Me,_e[0]+=12,Pe[0]-=12}Se=0}if(Se!=0)return Se;for(Me=0<ve.gb[0],I=I[0];;){e:{var je=g;Pe=_,Se=I;var $e=oe,Ve=me,_t=_e=[0];if((yt=Te=[Te])[0]=0,8>Se[0])Se=7;else{if(!t(je,Pe[0],"VP8X")){if(De(je,Pe[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var ht=De(je,Pe[0]+8),en=1+Ne(je,Pe[0]+12);if(2147483648<=en*(je=1+Ne(je,Pe[0]+15))){Se=3;break e}_t!=null&&(_t[0]=ht),$e!=null&&($e[0]=en),Ve!=null&&(Ve[0]=je),Pe[0]+=18,Se[0]-=18,yt[0]=1}Se=0}}if(Te=Te[0],_e=_e[0],Se!=0)return Se;if(Pe=!!(2&_e),!Me&&Te)return 3;if(K!=null&&(K[0]=!!(16&_e)),X!=null&&(X[0]=Pe),ee!=null&&(ee[0]=0),X=oe[0],_e=me[0],Te&&Pe&&ne==null){Se=0;break}if(4>I){Se=7;break}if(Me&&Te||!Me&&!Te&&!t(g,_[0],"ALPH")){I=[I],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{ht=g,Se=_,Me=I;var yt=ve.gb;$e=ve.na,Ve=ve.P,_t=ve.Sa,en=22,e(ht!=null),e(Me!=null),je=Se[0];var yn=Me[0];for(e($e!=null),e(_t!=null),$e[0]=null,Ve[0]=null,_t[0]=0;;){if(Se[0]=je,Me[0]=yn,8>yn){Se=7;break e}var bi=De(ht,je+4);if(4294967286<bi){Se=3;break e}var tn=8+bi+1&-2;if(en+=tn,0<yt&&en>yt){Se=3;break e}if(!t(ht,je,"VP8 ")||!t(ht,je,"VP8L")){Se=0;break e}if(yn[0]<tn){Se=7;break e}t(ht,je,"ALPH")||($e[0]=ht,Ve[0]=je+8,_t[0]=bi),je+=tn,yn-=tn}}if(I=I[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Se!=0)break}I=[I],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(yt=g,Se=_,Me=I,$e=ve.gb[0],Ve=ve.Ja,_t=ve.xa,ht=Se[0],je=!t(yt,ht,"VP8 "),en=!t(yt,ht,"VP8L"),e(yt!=null),e(Me!=null),e(Ve!=null),e(_t!=null),8>Me[0])Se=7;else{if(je||en){if(yt=De(yt,ht+4),12<=$e&&yt>$e-12){Se=3;break e}if(ae&&yt>Me[0]-8){Se=7;break e}Ve[0]=yt,Se[0]+=8,Me[0]-=8,_t[0]=en}else _t[0]=5<=Me[0]&&yt[ht+0]==47&&!(yt[ht+4]>>5),Ve[0]=Me[0];Se=0}if(I=I[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],_=_[0],Se!=0)break;if(4294967286<ve.Ja)return 3;if(ee==null||Pe||(ee[0]=ve.xa?2:1),X=[X],_e=[_e],ve.xa){if(5>I){Se=7;break}ee=X,ae=_e,Pe=K,g==null||5>I?g=0:5<=I&&g[_+0]==47&&!(g[_+4]>>5)?(Me=[0],yt=[0],$e=[0],re(Ve=new Q,g,_,I),ci(Ve,Me,yt,$e)?(ee!=null&&(ee[0]=Me[0]),ae!=null&&(ae[0]=yt[0]),Pe!=null&&(Pe[0]=$e[0]),g=1):g=0):g=0}else{if(10>I){Se=7;break}ee=_e,g==null||10>I||!L1(g,_+3,I-3)?g=0:(ae=g[_+0]|g[_+1]<<8|g[_+2]<<16,Pe=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=ve.Ja||!Pe||!g?g=0:(X&&(X[0]=Pe),ee&&(ee[0]=g),g=1))}if(!g||(X=X[0],_e=_e[0],Te&&(oe[0]!=X||me[0]!=_e)))return 3;ne!=null&&(ne[0]=ve,ne.offset=_-ne.w,e(4294967286>_-ne.w),e(ne.offset==ne.ha-I));break}return Se==0||Se==7&&Te&&ne==null?(K!=null&&(K[0]|=ve.na!=null&&0<ve.na.length),F!=null&&(F[0]=X),H!=null&&(H[0]=_e),0):Se}function J2(g,_,I){var F=_.width,H=_.height,K=0,X=0,ee=F,ne=H;if(_.Da=g!=null&&0<g.Da,_.Da&&(ee=g.cd,ne=g.bd,K=g.v,X=g.j,11>I||(K&=-2,X&=-2),0>K||0>X||0>=ee||0>=ne||K+ee>F||X+ne>H))return 0;if(_.v=K,_.j=X,_.va=K+ee,_.o=X+ne,_.U=ee,_.T=ne,_.da=g!=null&&0<g.da,_.da){if(!Ye(ee,ne,I=[g.ib],K=[g.hb]))return 0;_.ib=I[0],_.hb=K[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*F/4&&_.hb<3*H/4,_.Kb=0),1}function Z2(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function Qd(g,_,I,F){if(F==null||0>=g||0>=_)return 2;if(I!=null){if(I.Da){var H=I.cd,K=I.bd,X=-2&I.v,ee=-2&I.j;if(0>X||0>ee||0>=H||0>=K||X+H>g||ee+K>_)return 2;g=H,_=K}if(I.da){if(!Ye(g,_,H=[I.ib],K=[I.hb]))return 2;g=H[0],_=K[0]}}F.width=g,F.height=_;e:{var ne=F.width,oe=F.height;if(g=F.S,0>=ne||0>=oe||!(g>=Ob&&13>g))g=2;else{if(0>=F.Rd&&F.sd==null){X=K=H=_=0;var me=(ee=ne*hI[g])*oe;if(11>g||(K=(oe+1)/2*(_=(ne+1)/2),g==12&&(X=(H=ne)*oe)),(oe=s(me+2*K+X))==null){g=1;break e}F.sd=oe,11>g?((ne=F.f.RGBA).eb=oe,ne.fb=0,ne.A=ee,ne.size=me):((ne=F.f.kb).y=oe,ne.O=0,ne.fa=ee,ne.Fd=me,ne.f=oe,ne.N=0+me,ne.Ab=_,ne.Cd=K,ne.ea=oe,ne.W=0+me+K,ne.Db=_,ne.Ed=K,g==12&&(ne.F=oe,ne.J=0+me+2*K),ne.Tc=X,ne.lb=H)}if(_=1,H=F.S,K=F.width,X=F.height,H>=Ob&&13>H)if(11>H)g=F.f.RGBA,_&=(ee=Math.abs(g.A))*(X-1)+K<=g.size,_&=ee>=K*hI[H],_&=g.eb!=null;else{g=F.f.kb,ee=(K+1)/2,me=(X+1)/2,ne=Math.abs(g.fa),oe=Math.abs(g.Ab);var Te=Math.abs(g.Db),ae=Math.abs(g.lb),ve=ae*(X-1)+K;_&=ne*(X-1)+K<=g.Fd,_&=oe*(me-1)+ee<=g.Cd,_=(_&=Te*(me-1)+ee<=g.Ed)&ne>=K&oe>=ee&Te>=ee,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,H==12&&(_&=ae>=K,_&=ve<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||I!=null&&I.fd&&(g=Z2(F)),g}var cp=64,$o=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qo=24,Jd=32,xu=8,Zd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(g){return g},P.Predictor2=function(g,_,I){return _[I+0]},P.Predictor3=function(g,_,I){return _[I+1]},P.Predictor4=function(g,_,I){return _[I-1]},P.Predictor5=function(g,_,I){return Ke(Ke(g,_[I+1]),_[I+0])},P.Predictor6=function(g,_,I){return Ke(g,_[I-1])},P.Predictor7=function(g,_,I){return Ke(g,_[I+0])},P.Predictor8=function(g,_,I){return Ke(_[I-1],_[I+0])},P.Predictor9=function(g,_,I){return Ke(_[I+0],_[I+1])},P.Predictor10=function(g,_,I){return Ke(Ke(g,_[I-1]),Ke(_[I+0],_[I+1]))},P.Predictor11=function(g,_,I){var F=_[I+0];return 0>=tt(F>>24&255,g>>24&255,(_=_[I-1])>>24&255)+tt(F>>16&255,g>>16&255,_>>16&255)+tt(F>>8&255,g>>8&255,_>>8&255)+tt(255&F,255&g,255&_)?F:g},P.Predictor12=function(g,_,I){var F=_[I+0];return(Xt((g>>24&255)+(F>>24&255)-((_=_[I-1])>>24&255))<<24|Xt((g>>16&255)+(F>>16&255)-(_>>16&255))<<16|Xt((g>>8&255)+(F>>8&255)-(_>>8&255))<<8|Xt((255&g)+(255&F)-(255&_)))>>>0},P.Predictor13=function(g,_,I){var F=_[I-1];return(Ut((g=Ke(g,_[I+0]))>>24&255,F>>24&255)<<24|Ut(g>>16&255,F>>16&255)<<16|Ut(g>>8&255,F>>8&255)<<8|Ut(255&g,255&F))>>>0};var ev=P.PredictorAdd0;P.PredictorAdd1=ut,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var U1=P.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Xr,Mb=P.ColorIndexInverseTransform,fc=P.MapARGB,pc=P.VP8LColorIndexInverseTransformAlpha,tv=P.MapAlpha,nv=P.VP8LPredictorsAdd=[];nv.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var rv,iv,eh,th,nh,up,rh,dp,ja,mc,On,er,Qr,wi,_u,sv,V1,Db,U9,V9,z9,$9,q9,H9,ov,W9,G9,K9,Y9=s(511),X9=s(2041),Q9=s(225),J9=s(767),Z9=0,fA=X9,jb=Q9,Ho=J9,Oa=Y9,Ob=0,Fb=1,eI=2,Bb=3,Ub=4,pA=5,tI=6,mA=7,gA=8,Vb=9,vA=10,LY=[2,3,7],MY=[3,3,11],nI=[280,256,256,256,40],DY=[0,1,1,1,0],jY=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],OY=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],FY=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],BY=8,yA=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],wA=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],av=null,UY=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],VY=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],rI=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zY=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$Y=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],qY=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],HY=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ih=[],pl=[],Au=[],WY=1,iI=2,sh=[],Fa=[];Ma("UpsampleRgbLinePair",be,3),Ma("UpsampleBgrLinePair",ke,3),Ma("UpsampleRgbaLinePair",In,4),Ma("UpsampleBgraLinePair",cn,4),Ma("UpsampleArgbLinePair",kr,4),Ma("UpsampleRgba4444LinePair",vn,2),Ma("UpsampleRgb565LinePair",Ge,2);var GY=P.UpsampleRgbLinePair,KY=P.UpsampleBgrLinePair,sI=P.UpsampleRgbaLinePair,oI=P.UpsampleBgraLinePair,aI=P.UpsampleArgbLinePair,lI=P.UpsampleRgba4444LinePair,YY=P.UpsampleRgb565LinePair,zb=16,$b=1<<zb-1,lv=-227,bA=482,cI=6,XY=(256<<cI)-1,uI=0,QY=s(256),JY=s(256),ZY=s(256),eX=s(256),tX=s(bA-lv),nX=s(bA-lv);or("YuvToRgbRow",be,3),or("YuvToBgrRow",ke,3),or("YuvToRgbaRow",In,4),or("YuvToBgraRow",cn,4),or("YuvToArgbRow",kr,4),or("YuvToRgba4444Row",vn,2),or("YuvToRgb565Row",Ge,2);var dI=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qb=[0,2,8],rX=[8,7,6,4,4,2,2,2,1,1,1,1],iX=1;this.WebPDecodeRGBA=function(g,_,I,F,H){var K=Fb,X=new Le,ee=new zt;X.ba=ee,ee.S=K,ee.width=[ee.width],ee.height=[ee.height];var ne=ee.width,oe=ee.height,me=new pt;if(me==null||g==null)var Te=2;else e(me!=null),Te=fl(g,_,I,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Te!=0?ne=0:(ne!=null&&(ne[0]=me.width[0]),oe!=null&&(oe[0]=me.height[0]),ne=1),ne){ee.width=ee.width[0],ee.height=ee.height[0],F!=null&&(F[0]=ee.width),H!=null&&(H[0]=ee.height);e:{if(F=new lc,(H=new Ue).data=g,H.w=_,H.ha=I,H.kd=1,_=[0],e(H!=null),((g=fl(H.data,H.w,H.ha,null,null,null,_,null,H))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(X!=null),F.data=H.data,F.w=H.w+H.offset,F.ha=H.ha-H.offset,F.put=dt,F.ac=Kn,F.bc=_n,F.ma=X,H.xa){if((g=sc())==null){X=1;break e}if(function(ae,ve){var _e=[0],Pe=[0],Se=[0];t:for(;;){if(ae==null)return 0;if(ve==null)return ae.a=2,0;if(ae.l=ve,ae.a=0,re(ae.m,ve.data,ve.w,ve.ha),!ci(ae.m,_e,Pe,Se)){ae.a=3;break t}if(ae.xb=iI,ve.width=_e[0],ve.height=Pe[0],!Bo(_e[0],Pe[0],1,ae,null))break t;return 1}return e(ae.a!=0),0}(g,F)){if(F=(_=Qd(F.width,F.height,X.Oa,X.ba))==0){t:{F=g;n:for(;;){if(F==null){F=0;break t}if(e(F.s.yc!=null),e(F.s.Ya!=null),e(0<F.s.Wb),e((I=F.l)!=null),e((H=I.ma)!=null),F.xb!=0){if(F.ca=H.ba,F.tb=H.tb,e(F.ca!=null),!J2(H.Oa,I,Bb)){F.a=2;break n}if(!ul(F,I.width)||I.da)break n;if((I.da||Ct(F.ca.S))&&ho(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&ho()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!Z(F.s.vb,F.s.Wa.Xa)){F.a=1;break n}F.xb=0}if(!fs(F,F.V,F.Ba,F.c,F.i,I.o,ic))break n;H.Dc=F.Ma,F=1;break t}e(F.a!=0),F=0}F=!F}F&&(_=g.a)}else _=g.a}else{if((g=new R1)==null){X=1;break e}if(g.Fa=H.na,g.P=H.P,g.qc=H.Sa,Ta(g,F)){if((_=Qd(F.width,F.height,X.Oa,X.ba))==0){if(g.Aa=0,I=X.Oa,e((H=g)!=null),I!=null){if(0<(ne=0>(ne=I.Md)?0:100<ne?255:255*ne/100)){for(oe=me=0;4>oe;++oe)12>(Te=H.pb[oe]).lc&&(Te.ia=ne*rX[0>Te.lc?0:Te.lc]>>3),me|=Te.ia;me&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=I.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}(function(ae,ve){if(ae==null)return 0;if(ve==null)return Sr(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!Ta(ae,ve))return 0;if(e(ae.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(ae.L=0);var _e=qb[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=ve.v-_e>>4,ae.zb=ve.j-_e>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=ve.o+15+_e>>4,ae.Hb=ve.va+15+_e>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var Pe=ae.ed;for(_e=0;4>_e;++_e){var Se;if(ae.Qa.Cb){var Me=ae.Qa.Lb[_e];ae.Qa.Fb||(Me+=Pe.Tb)}else Me=Pe.Tb;for(Se=0;1>=Se;++Se){var je=ae.gd[_e][Se],$e=Me;if(Pe.Pc&&($e+=Pe.vd[0],Se&&($e+=Pe.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var Ve=$e;0<Pe.wb&&(Ve=4<Pe.wb?Ve>>2:Ve>>1)>9-Pe.wb&&(Ve=9-Pe.wb),1>Ve&&(Ve=1),je.dd=Ve,je.tc=2*$e+Ve,je.ld=40<=$e?2:15<=$e?1:0}else je.tc=0;je.La=Se}}}_e=0}else Sr(ae,6,"Frame setup failed"),_e=ae.a;if(_e=_e==0){if(_e){ae.$c=0,0<ae.Aa||(ae.Ic=iX);t:{_e=ae.Ic,Pe=4*(Ve=ae.za);var _t=32*Ve,ht=Ve+1,en=0<ae.L?Ve*(0<ae.Aa?2:1):0,yt=(ae.Aa==2?2:1)*Ve;if((je=Pe+832+(Se=3*(16*_e+qb[ae.L])/2*_t)+(Me=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=je)_e=0;else{if(je>ae.Vb){if(ae.Vb=0,ae.Ec=s(je),ae.Fc=0,ae.Ec==null){_e=Sr(ae,1,"no memory during frame initialization.");break t}ae.Vb=je}je=ae.Ec,$e=ae.Fc,ae.Ac=je,ae.Bc=$e,$e+=Pe,ae.Gd=o(_t,tp),ae.Hd=0,ae.rb=o(ht+1,Uo),ae.sb=1,ae.wa=en?o(en,Li):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=Ve),e(!0),ae.oc=je,ae.pc=$e,$e+=832,ae.ya=o(yt,Zf),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=Ve),ae.R=16*Ve,ae.B=8*Ve,Ve=(_t=qb[ae.L])*ae.R,_t=_t/2*ae.B,ae.sa=je,ae.ta=$e+Ve,ae.qa=ae.sa,ae.ra=ae.ta+16*_e*ae.R+_t,ae.Ha=ae.qa,ae.Ia=ae.ra+8*_e*ae.B+_t,ae.$c=0,$e+=Se,ae.mb=Me?je:null,ae.nb=Me?$e:null,e($e+Me<=ae.Fc+ae.Vb),rp(ae),i(ae.Ac,ae.Bc,0,Pe),_e=1}}if(_e){if(ve.ka=0,ve.y=ae.sa,ve.O=ae.ta,ve.f=ae.qa,ve.N=ae.ra,ve.ea=ae.Ha,ve.Vd=ae.Ia,ve.fa=ae.R,ve.Rc=ae.B,ve.F=null,ve.J=0,!Z9){for(_e=-255;255>=_e;++_e)Y9[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)X9[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)Q9[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)J9[255+_e]=0>_e?0:255<_e?255:_e;Z9=1}rh=Na,dp=M1,mc=fn,On=vu,er=cc,ja=Hd,Qr=Xd,wi=La,_u=q,sv=se,V1=lp,Db=C,U9=pe,V9=we,z9=hc,$9=Us,q9=ap,H9=B1,pl[0]=X2,pl[1]=D1,pl[2]=K2,pl[3]=Y2,pl[4]=Mi,pl[5]=Q2,pl[6]=dl,pl[7]=Gd,pl[8]=Kd,pl[9]=hl,ih[0]=ka,ih[1]=G2,ih[2]=ip,ih[3]=j1,ih[4]=uc,ih[5]=Wd,ih[6]=O1,Au[0]=sp,Au[1]=W2,Au[2]=Vo,Au[3]=wu,Au[4]=op,Au[5]=Yn,Au[6]=F1,_e=1}else _e=0}_e&&(_e=function(yn,bi){for(yn.M=0;yn.M<yn.Va;++yn.M){var tn,wt=yn.Jc[yn.M&yn.Xb],Xe=yn.m,Jr=yn;for(tn=0;tn<Jr.za;++tn){var Qt=Xe,An=Jr,dr=An.Ac,Xi=An.Bc+4*tn,zs=An.zc,Vr=An.ya[An.aa+tn];if(An.Qa.Bb?Vr.$b=Ae(Qt,An.Pa.jb[0])?2+Ae(Qt,An.Pa.jb[2]):Ae(Qt,An.Pa.jb[1]):Vr.$b=0,An.kc&&(Vr.Ad=Ae(Qt,An.Bd)),Vr.Za=!Ae(Qt,145)+0,Vr.Za){var ms=Vr.Ob,$s=0;for(An=0;4>An;++An){var xi,Cn=zs[0+An];for(xi=0;4>xi;++xi){Cn=$Y[dr[Xi+xi]][Cn];for(var Vn=rI[Ae(Qt,Cn[0])];0<Vn;)Vn=rI[2*Vn+Ae(Qt,Cn[Vn])];Cn=-Vn,dr[Xi+xi]=Cn}r(ms,$s,dr,Xi,4),$s+=4,zs[0+An]=Cn}}else Cn=Ae(Qt,156)?Ae(Qt,128)?1:3:Ae(Qt,163)?2:0,Vr.Ob[0]=Cn,i(dr,Xi,Cn,4),i(zs,0,Cn,4);Vr.Dd=Ae(Qt,142)?Ae(Qt,114)?Ae(Qt,183)?1:3:2:0}if(Jr.m.Ka)return Sr(yn,7,"Premature end-of-partition0 encountered.");for(;yn.ja<yn.za;++yn.ja){if(Jr=wt,Qt=(Xe=yn).rb[Xe.sb-1],dr=Xe.rb[Xe.sb+Xe.ja],tn=Xe.ya[Xe.aa+Xe.ja],Xi=Xe.kc?tn.Ad:0)Qt.la=dr.la=0,tn.Za||(Qt.Na=dr.Na=0),tn.Hc=0,tn.Gc=0,tn.ia=0;else{var zr,zn;if(Qt=dr,dr=Jr,Xi=Xe.Pa.Xc,zs=Xe.ya[Xe.aa+Xe.ja],Vr=Xe.pb[zs.$b],An=zs.ad,ms=0,$s=Xe.rb[Xe.sb-1],Cn=xi=0,i(An,ms,0,384),zs.Za)var Qi=0,ml=Xi[3];else{Vn=s(16);var Zr=Qt.Na+$s.Na;if(Zr=av(dr,Xi[1],Zr,Vr.Eb,0,Vn,0),Qt.Na=$s.Na=(0<Zr)+0,1<Zr)rh(Vn,0,An,ms);else{var fo=Vn[0]+3>>3;for(Vn=0;256>Vn;Vn+=16)An[ms+Vn]=fo}Qi=1,ml=Xi[0]}var tr=15&Qt.la,_i=15&$s.la;for(Vn=0;4>Vn;++Vn){var Wo=1&_i;for(fo=zn=0;4>fo;++fo)tr=tr>>1|(Wo=(Zr=av(dr,ml,Zr=Wo+(1&tr),Vr.Sc,Qi,An,ms))>Qi)<<7,zn=zn<<2|(3<Zr?3:1<Zr?2:An[ms+0]!=0),ms+=16;tr>>=4,_i=_i>>1|Wo<<7,xi=(xi<<8|zn)>>>0}for(ml=tr,Qi=_i>>4,zr=0;4>zr;zr+=2){for(zn=0,tr=Qt.la>>4+zr,_i=$s.la>>4+zr,Vn=0;2>Vn;++Vn){for(Wo=1&_i,fo=0;2>fo;++fo)Zr=Wo+(1&tr),tr=tr>>1|(Wo=0<(Zr=av(dr,Xi[2],Zr,Vr.Qc,0,An,ms)))<<3,zn=zn<<2|(3<Zr?3:1<Zr?2:An[ms+0]!=0),ms+=16;tr>>=2,_i=_i>>1|Wo<<5}Cn|=zn<<4*zr,ml|=tr<<4<<zr,Qi|=(240&_i)<<zr}Qt.la=ml,$s.la=Qi,zs.Hc=xi,zs.Gc=Cn,zs.ia=43690&Cn?0:Vr.ia,Xi=!(xi|Cn)}if(0<Xe.L&&(Xe.wa[Xe.Y+Xe.ja]=Xe.gd[tn.$b][tn.Za],Xe.wa[Xe.Y+Xe.ja].La|=!Xi),Jr.Ka)return Sr(yn,7,"Premature end-of-file encountered.")}if(rp(yn),Xe=bi,Jr=1,tn=(wt=yn).D,Qt=0<wt.L&&wt.M>=wt.zb&&wt.M<=wt.Va,wt.Aa==0)t:{if(tn.M=wt.M,tn.uc=Qt,Yi(wt,tn),Jr=1,tn=(zn=wt.D).Nb,Qt=(Cn=qb[wt.L])*wt.R,dr=Cn/2*wt.B,Vn=16*tn*wt.R,fo=8*tn*wt.B,Xi=wt.sa,zs=wt.ta-Qt+Vn,Vr=wt.qa,An=wt.ra-dr+fo,ms=wt.Ha,$s=wt.Ia-dr+fo,_i=(tr=zn.M)==0,xi=tr>=wt.Va-1,wt.Aa==2&&Yi(wt,zn),zn.uc)for(Wo=(Zr=wt).D.M,e(Zr.D.uc),zn=Zr.yb;zn<Zr.Hb;++zn){Qi=zn,ml=Wo;var qs=(Go=(Ji=Zr).D).Nb;zr=Ji.R;var Go=Go.wa[Go.Y+Qi],Ko=Ji.sa,po=Ji.ta+16*qs*zr+16*Qi,Yo=Go.dd,ar=Go.tc;if(ar!=0)if(e(3<=ar),Ji.L==1)0<Qi&&$9(Ko,po,zr,ar+4),Go.La&&H9(Ko,po,zr,ar),0<ml&&z9(Ko,po,zr,ar+4),Go.La&&q9(Ko,po,zr,ar);else{var Xo=Ji.B,gl=Ji.qa,hp=Ji.ra+8*qs*Xo+8*Qi,Eu=Ji.Ha,Ji=Ji.Ia+8*qs*Xo+8*Qi;qs=Go.ld,0<Qi&&(wi(Ko,po,zr,ar+4,Yo,qs),sv(gl,hp,Eu,Ji,Xo,ar+4,Yo,qs)),Go.La&&(Db(Ko,po,zr,ar,Yo,qs),V9(gl,hp,Eu,Ji,Xo,ar,Yo,qs)),0<ml&&(Qr(Ko,po,zr,ar+4,Yo,qs),_u(gl,hp,Eu,Ji,Xo,ar+4,Yo,qs)),Go.La&&(V1(Ko,po,zr,ar,Yo,qs),U9(gl,hp,Eu,Ji,Xo,ar,Yo,qs))}}if(wt.ia&&alert("todo:DitherRow"),Xe.put!=null){if(zn=16*tr,tr=16*(tr+1),_i?(Xe.y=wt.sa,Xe.O=wt.ta+Vn,Xe.f=wt.qa,Xe.N=wt.ra+fo,Xe.ea=wt.Ha,Xe.W=wt.Ia+fo):(zn-=Cn,Xe.y=Xi,Xe.O=zs,Xe.f=Vr,Xe.N=An,Xe.ea=ms,Xe.W=$s),xi||(tr-=Cn),tr>Xe.o&&(tr=Xe.o),Xe.F=null,Xe.J=null,wt.Fa!=null&&0<wt.Fa.length&&zn<tr&&(Xe.J=Un(wt,Xe,zn,tr-zn),Xe.F=wt.mb,Xe.F==null&&Xe.F.length==0)){Jr=Sr(wt,3,"Could not decode alpha data.");break t}zn<Xe.j&&(Cn=Xe.j-zn,zn=Xe.j,e(!(1&Cn)),Xe.O+=wt.R*Cn,Xe.N+=wt.B*(Cn>>1),Xe.W+=wt.B*(Cn>>1),Xe.F!=null&&(Xe.J+=Xe.width*Cn)),zn<tr&&(Xe.O+=Xe.v,Xe.N+=Xe.v>>1,Xe.W+=Xe.v>>1,Xe.F!=null&&(Xe.J+=Xe.v),Xe.ka=zn-Xe.j,Xe.U=Xe.va-Xe.v,Xe.T=tr-zn,Jr=Xe.put(Xe))}tn+1!=wt.Ic||xi||(r(wt.sa,wt.ta-Qt,Xi,zs+16*wt.R,Qt),r(wt.qa,wt.ra-dr,Vr,An+8*wt.B,dr),r(wt.Ha,wt.Ia-dr,ms,$s+8*wt.B,dr))}if(!Jr)return Sr(yn,6,"Output aborted.")}return 1}(ae,ve)),ve.bc!=null&&ve.bc(ve),_e&=1}return _e?(ae.cb=0,_e):0})(g,F)||(_=g.a)}}else _=g.a}_==0&&X.Oa!=null&&X.Oa.fd&&(_=Z2(X.ba))}X=_}K=X!=0?null:11>K?ee.f.RGBA.eb:ee.f.kb.y}else K=null;return K};var hI=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(P,O){for(var k="",j=0;j<4;j++)k+=String.fromCharCode(P[O++]);return k}function u(P,O){return P[O+0]|P[O+1]<<8}function h(P,O){return(P[O+0]|P[O+1]<<8|P[O+2]<<16)>>>0}function p(P,O){return(P[O+0]|P[O+1]<<8|P[O+2]<<16|P[O+3]<<24)>>>0}new l;var f=[0],b=[0],w=[],A=new l,x=n,E=function(P,O){var k={},j=0,L=!1,W=0,ue=0;if(k.frames=[],!function(z,Q){for(var ie=0;ie<4;ie++)if(z[Q+ie]!="RIFF".charCodeAt(ie))return!0;return!1}(P,O)){for(p(P,O+=4),O+=8;O<P.length;){var de=c(P,O),le=p(P,O+=4);O+=4;var J=le+(1&le);switch(de){case"VP8 ":case"VP8L":k.frames[j]===void 0&&(k.frames[j]={}),(ye=k.frames[j]).src_off=L?ue:O-8,ye.src_size=W+le+8,j++,L&&(L=!1,W=0,ue=0);break;case"VP8X":(ye=k.header={}).feature_flags=P[O];var re=O+4;ye.canvas_width=1+h(P,re),re+=3,ye.canvas_height=1+h(P,re),re+=3;break;case"ALPH":L=!0,W=J+8,ue=O-8;break;case"ANIM":(ye=k.header).bgcolor=p(P,O),re=O+4,ye.loop_count=u(P,re),re+=2;break;case"ANMF":var ge,ye;(ye=k.frames[j]={}).offset_x=2*h(P,O),O+=3,ye.offset_y=2*h(P,O),O+=3,ye.width=1+h(P,O),O+=3,ye.height=1+h(P,O),O+=3,ye.duration=h(P,O),O+=3,ge=P[O++],ye.dispose=1&ge,ye.blend=ge>>1&1}de!="ANMF"&&(O+=J)}return k}}(x,0);E.response=x,E.rgbaoutput=!0,E.dataurl=!1;var S=E.header?E.header:null,T=E.frames?E.frames:null;if(S){S.loop_counter=S.loop_count,f=[S.canvas_height],b=[S.canvas_width];for(var B=0;B<T.length&&T[B].blend!=0;B++);}var V=T[0],M=A.WebPDecodeRGBA(x,V.src_off,V.src_size,b,f);V.rgba=M,V.imgwidth=b[0],V.imgheight=f[0];for(var N=0;N<b[0]*f[0]*4;N++)w[N]=M[N];return this.width=b,this.height=f,this.data=w,this}(function(n){var e,t,r,i,s,o,a,l,c,u=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new l,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new o,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new o,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=z;Object.defineProperty(this,"pdf",{get:function(){return Q}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(Z){ie=!!Z}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(Z){ce=!!Z}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(Z){isNaN(Z)||(fe=Z)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(Z){isNaN(Z)||(he=Z)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Z){var Oe;typeof Z=="number"?Oe=[Z,Z,Z,Z]:((Oe=new Array(4))[0]=Z[0],Oe[1]=Z.length>=2?Z[1]:Oe[0],Oe[2]=Z.length>=3?Z[2]:Oe[0],Oe[3]=Z.length>=4?Z[3]:Oe[1]),c.margin=Oe}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(Z){Ee=Z}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(Z){xe=Z}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(Z){Ae=Z}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Z){Z instanceof u&&(c=Z)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Z){c.path=Z}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(Z){Fe=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var Oe;Oe=p(Z),this.ctx.fillStyle=Oe.style,this.ctx.isFillTransparent=Oe.a===0,this.ctx.fillOpacity=Oe.a,this.pdf.setFillColor(Oe.r,Oe.g,Oe.b,{a:Oe.a}),this.pdf.setTextColor(Oe.r,Oe.g,Oe.b,{a:Oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var Oe=p(Z);this.ctx.strokeStyle=Oe.style,this.ctx.isStrokeTransparent=Oe.a===0,this.ctx.strokeOpacity=Oe.a,Oe.a===0?this.pdf.setDrawColor(255,255,255):(Oe.a,this.pdf.setDrawColor(Oe.r,Oe.g,Oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var Ce=null,Ne=null,De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(Z){Ce=null,Ne=null,De=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var Oe;if(this.ctx.font=Z,(Oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Z))!==null){var at=Oe[1];Oe[2];var Ye=Oe[3],Re=Oe[4];Oe[5];var rt=Oe[6],Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Re)[2];Re=Math.floor(Ie==="px"?parseFloat(Re)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(Re)*this.pdf.getFontSize():parseFloat(Re)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Re);var He=function(vt){var Dn,sn,jt=[],Vt=vt.trim();if(Vt==="")return i8;if(Vt in ND)return[ND[Vt]];for(;Vt!=="";){switch(sn=null,Dn=(Vt=ID(Vt)).charAt(0)){case'"':case"'":sn=Ove(Vt.substring(1),Dn);break;default:sn=Fve(Vt)}if(sn===null||(jt.push(sn[0]),(Vt=ID(sn[1]))!==""&&Vt.charAt(0)!==","))return i8;Vt=Vt.replace(/^,/,"")}return jt}(rt);if(this.fontFaces){var Ke=function(vt,Dn){var sn=vt.getFontList(),jt=JSON.stringify(sn);if(Ce===null||Ne!==jt){var Vt=function(Sn){var Et=[];return Object.keys(Sn).forEach(function(Nn){Sn[Nn].forEach(function(Ct){var Ot=null;switch(Ct){case"bold":Ot={family:Nn,weight:"bold"};break;case"italic":Ot={family:Nn,style:"italic"};break;case"bolditalic":Ot={family:Nn,weight:"bold",style:"italic"};break;case"":case"normal":Ot={family:Nn}}Ot!==null&&(Ot.ref={name:Nn,style:Ct},Et.push(Ot))})}),Et}(sn);Ce=function(Sn){for(var Et={},Nn=0;Nn<Sn.length;++Nn){var Ct=r8(Sn[Nn]),Ot=Ct.family,kn=Ct.stretch,zt=Ct.style,pt=Ct.weight;Et[Ot]=Et[Ot]||{},Et[Ot][kn]=Et[Ot][kn]||{},Et[Ot][kn][zt]=Et[Ot][kn][zt]||{},Et[Ot][kn][zt][pt]=Ct}return Et}(Vt.concat(Dn)),Ne=jt}return Ce}(this.pdf,this.fontFaces),Xt=He.map(function(vt){return{family:vt,stretch:"normal",weight:Ye,style:at}}),Ut=function(vt,Dn,sn){for(var jt=(sn=sn||{}).defaultFontFamily||"times",Vt=Object.assign({},jve,sn.genericFontFamilies||{}),Sn=null,Et=null,Nn=0;Nn<Dn.length;++Nn)if(Vt[(Sn=r8(Dn[Nn])).family]&&(Sn.family=Vt[Sn.family]),vt.hasOwnProperty(Sn.family)){Et=vt[Sn.family];break}if(!(Et=Et||vt[jt]))throw new Error("Could not find a font-family for the rule '"+kD(Sn)+"' and default family '"+jt+"'.");if(Et=function(Ct,Ot){if(Ot[Ct])return Ot[Ct];var kn=$C[Ct],zt=kn<=$C.normal?-1:1,pt=TD(Ot,bW,kn,zt);if(!pt)throw new Error("Could not find a matching font-stretch value for "+Ct);return pt}(Sn.stretch,Et),Et=function(Ct,Ot){if(Ot[Ct])return Ot[Ct];for(var kn=wW[Ct],zt=0;zt<kn.length;++zt)if(Ot[kn[zt]])return Ot[kn[zt]];throw new Error("Could not find a matching font-style for "+Ct)}(Sn.style,Et),!(Et=function(Ct,Ot){if(Ot[Ct])return Ot[Ct];if(Ct===400&&Ot[500])return Ot[500];if(Ct===500&&Ot[400])return Ot[400];var kn=Dve[Ct],zt=TD(Ot,xW,kn,Ct<400?-1:1);if(!zt)throw new Error("Could not find a matching font-weight for value "+Ct);return zt}(Sn.weight,Et)))throw new Error("Failed to resolve a font for the rule '"+kD(Sn)+"'.");return Et}(Ke,Xt);this.pdf.setFont(Ut.ref.name,Ut.ref.style)}else{var tt="";(Ye==="bold"||parseInt(Ye,10)>=700||at==="bold")&&(tt="bold"),at==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var ut="",Ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<He.length;st++){if(this.pdf.internal.getFont(He[st],tt,{noFallback:!0,disableWarning:!0})!==void 0){ut=He[st];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(He[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=He[st],tt="bold";else if(this.pdf.internal.getFont(He[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=He[st],tt="normal";break}}if(ut===""){for(var Nt=0;Nt<He.length;Nt++)if(Ft[He[Nt]]){ut=Ft[He[Nt]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};h.prototype.setLineDash=function(z){this.lineDash=z},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){T.call(this,"fill",!1)},h.prototype.stroke=function(){T.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(z,Q){if(isNaN(z)||isNaN(Q))throw nr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new o(z,Q));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(z,Q)},h.prototype.closePath=function(){var z=new o(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&Bn(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){z=new o(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(z.x,z.y)},h.prototype.lineTo=function(z,Q){if(isNaN(z)||isNaN(Q))throw nr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new o(z,Q));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},h.prototype.quadraticCurveTo=function(z,Q,ie,ce){if(isNaN(ie)||isNaN(ce)||isNaN(z)||isNaN(Q))throw nr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new o(ie,ce)),he=this.ctx.transform.applyToPoint(new o(z,Q));this.path.push({type:"qct",x1:he.x,y1:he.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},h.prototype.bezierCurveTo=function(z,Q,ie,ce,fe,he){if(isNaN(fe)||isNaN(he)||isNaN(z)||isNaN(Q)||isNaN(ie)||isNaN(ce))throw nr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new o(fe,he)),xe=this.ctx.transform.applyToPoint(new o(z,Q)),Ae=this.ctx.transform.applyToPoint(new o(ie,ce));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Ae.x,y2:Ae.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new o(Ee.x,Ee.y)},h.prototype.arc=function(z,Q,ie,ce,fe,he){if(isNaN(z)||isNaN(Q)||isNaN(ie)||isNaN(ce)||isNaN(fe))throw nr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new o(z,Q));z=Ee.x,Q=Ee.y;var xe=this.ctx.transform.applyToPoint(new o(0,ie)),Ae=this.ctx.transform.applyToPoint(new o(0,0));ie=Math.sqrt(Math.pow(xe.x-Ae.x,2)+Math.pow(xe.y-Ae.y,2))}Math.abs(fe-ce)>=2*Math.PI&&(ce=0,fe=2*Math.PI),this.path.push({type:"arc",x:z,y:Q,radius:ie,startAngle:ce,endAngle:fe,counterclockwise:he})},h.prototype.arcTo=function(z,Q,ie,ce,fe){throw new Error("arcTo not implemented.")},h.prototype.rect=function(z,Q,ie,ce){if(isNaN(z)||isNaN(Q)||isNaN(ie)||isNaN(ce))throw nr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,Q),this.lineTo(z+ie,Q),this.lineTo(z+ie,Q+ce),this.lineTo(z,Q+ce),this.lineTo(z,Q),this.lineTo(z+ie,Q),this.lineTo(z,Q)},h.prototype.fillRect=function(z,Q,ie,ce){if(isNaN(z)||isNaN(Q)||isNaN(ie)||isNaN(ce))throw nr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,Q,ie,ce),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},h.prototype.strokeRect=function(z,Q,ie,ce){if(isNaN(z)||isNaN(Q)||isNaN(ie)||isNaN(ce))throw nr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(z,Q,ie,ce),this.stroke())},h.prototype.clearRect=function(z,Q,ie,ce){if(isNaN(z)||isNaN(Q)||isNaN(ie)||isNaN(ce))throw nr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,Q,ie,ce))},h.prototype.save=function(z){z=typeof z!="boolean"||z;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},h.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(z){var Q,ie,ce,fe;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))Q=0,ie=0,ce=0,fe=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(he!==null)Q=parseInt(he[1]),ie=parseInt(he[2]),ce=parseInt(he[3]),fe=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)Q=parseInt(he[1]),ie=parseInt(he[2]),ce=parseInt(he[3]),fe=parseFloat(he[4]);else{if(fe=1,typeof z=="string"&&z.charAt(0)!=="#"){var Ee=new hW(z);z=Ee.ok?Ee.toHex():"#000000"}z.length===4?(Q=z.substring(1,2),Q+=Q,ie=z.substring(2,3),ie+=ie,ce=z.substring(3,4),ce+=ce):(Q=z.substring(1,3),ie=z.substring(3,5),ce=z.substring(5,7)),Q=parseInt(Q,16),ie=parseInt(ie,16),ce=parseInt(ce,16)}}return{r:Q,g:ie,b:ce,a:fe,style:z}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(z,Q,ie,ce){if(isNaN(Q)||isNaN(ie)||typeof z!="string")throw nr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!f.call(this)){var fe=J(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;j.call(this,{text:z,x:Q,y:ie,scale:he,angle:fe,align:this.textAlign,maxWidth:ce})}},h.prototype.strokeText=function(z,Q,ie,ce){if(isNaN(Q)||isNaN(ie)||typeof z!="string")throw nr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ce=isNaN(ce)?void 0:ce;var fe=J(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;j.call(this,{text:z,x:Q,y:ie,scale:he,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:ce})}},h.prototype.measureText=function(z){if(typeof z!="string")throw nr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,ie=this.pdf.internal.scaleFactor,ce=Q.internal.getFontSize(),fe=Q.getStringUnitWidth(z)*ce/Q.internal.scaleFactor;return new function(he){var Ee=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:fe*=Math.round(96*ie/72*1e4)/1e4})},h.prototype.scale=function(z,Q){if(isNaN(z)||isNaN(Q))throw nr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new l(z,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},h.prototype.rotate=function(z){if(isNaN(z))throw nr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new l(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.translate=function(z,Q){if(isNaN(z)||isNaN(Q))throw nr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new l(1,0,0,1,z,Q);this.ctx.transform=this.ctx.transform.multiply(ie)},h.prototype.transform=function(z,Q,ie,ce,fe,he){if(isNaN(z)||isNaN(Q)||isNaN(ie)||isNaN(ce)||isNaN(fe)||isNaN(he))throw nr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new l(z,Q,ie,ce,fe,he);this.ctx.transform=this.ctx.transform.multiply(Ee)},h.prototype.setTransform=function(z,Q,ie,ce,fe,he){z=isNaN(z)?1:z,Q=isNaN(Q)?0:Q,ie=isNaN(ie)?0:ie,ce=isNaN(ce)?1:ce,fe=isNaN(fe)?0:fe,he=isNaN(he)?0:he,this.ctx.transform=new l(z,Q,ie,ce,fe,he)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(z,Q,ie,ce,fe,he,Ee,xe,Ae){var Fe=this.pdf.getImageProperties(z),Ce=1,Ne=1,De=1,Z=1;ce!==void 0&&xe!==void 0&&(De=xe/ce,Z=Ae/fe,Ce=Fe.width/ce*xe/ce,Ne=Fe.height/fe*Ae/fe),he===void 0&&(he=Q,Ee=ie,Q=0,ie=0),ce!==void 0&&xe===void 0&&(xe=ce,Ae=fe),ce===void 0&&xe===void 0&&(xe=Fe.width,Ae=Fe.height);var Oe=this.ctx.transform.decompose(),at=J(Oe.rotate.shx),Ye=new l,Re=(Ye=(Ye=(Ye=Ye.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale)).applyToRectangle(new a(he-Q*De,Ee-ie*Z,ce*Ce,fe*Ne));if(this.autoPaging){for(var rt,Ie=A.call(this,Re),He=[],Ke=0;Ke<Ie.length;Ke+=1)He.indexOf(Ie[Ke])===-1&&He.push(Ie[Ke]);S(He);for(var Xt=He[0],Ut=He[He.length-1],tt=Xt;tt<Ut+1;tt++){this.pdf.setPage(tt);var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=tt===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=tt===1?0:st+(tt-2)*Nt;if(this.ctx.clip_path.length!==0){var Dn=this.path;rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(rt,this.posX+this.margin[3],-vt+Ft+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=Dn}var sn=JSON.parse(JSON.stringify(Re));sn=E([sn],this.posX+this.margin[3],-vt+Ft+this.ctx.prevPageLastElemOffset)[0];var jt=(tt>Xt||tt<Ut)&&w.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Nt,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",sn.x,sn.y,sn.w,sn.h,null,null,at),jt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(z,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,at)};var A=function(z,Q,ie){var ce=[];Q=Q||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":ce.push(Math.floor((z.y+fe)/ie)+1);break;case"arc":ce.push(Math.floor((z.y+fe-z.radius)/ie)+1),ce.push(Math.floor((z.y+fe+z.radius)/ie)+1);break;case"qct":var he=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);ce.push(Math.floor((he.y+fe)/ie)+1),ce.push(Math.floor((he.y+he.h+fe)/ie)+1);break;case"bct":var Ee=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);ce.push(Math.floor((Ee.y+fe)/ie)+1),ce.push(Math.floor((Ee.y+Ee.h+fe)/ie)+1);break;case"rect":ce.push(Math.floor((z.y+fe)/ie)+1),ce.push(Math.floor((z.y+z.h+fe)/ie)+1)}for(var xe=0;xe<ce.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<ce[xe];)x.call(this);return ce},x=function(){var z=this.fillStyle,Q=this.strokeStyle,ie=this.font,ce=this.lineCap,fe=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=Q,this.font=ie,this.lineCap=ce,this.lineWidth=fe,this.lineJoin=he},E=function(z,Q,ie){for(var ce=0;ce<z.length;ce++)switch(z[ce].type){case"bct":z[ce].x2+=Q,z[ce].y2+=ie;case"qct":z[ce].x1+=Q,z[ce].y1+=ie;default:z[ce].x+=Q,z[ce].y+=ie}return z},S=function(z){return z.sort(function(Q,ie){return Q-ie})},T=function(z,Q){var ie=this.fillStyle,ce=this.strokeStyle,fe=this.lineCap,he=this.lineWidth,Ee=Math.abs(he*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var Ae,Fe,Ce=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),De=[],Z=0;Z<Ne.length;Z++)if(Ne[Z].x!==void 0)for(var Oe=A.call(this,Ne[Z]),at=0;at<Oe.length;at+=1)De.indexOf(Oe[at])===-1&&De.push(Oe[at]);for(var Ye=0;Ye<De.length;Ye++)for(;this.pdf.internal.getNumberOfPages()<De[Ye];)x.call(this);S(De);for(var Re=De[0],rt=De[De.length-1],Ie=Re;Ie<rt+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=ie,this.strokeStyle=ce,this.lineCap=fe,this.lineWidth=Ee,this.lineJoin=xe;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=Ie===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Ie===1?0:Xt+(Ie-2)*Ut;if(this.ctx.clip_path.length!==0){var ut=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Ae,this.posX+this.margin[3],-tt+Ke+this.ctx.prevPageLastElemOffset),B.call(this,z,!0),this.path=ut}if(Fe=JSON.parse(JSON.stringify(Ce)),this.path=E(Fe,this.posX+this.margin[3],-tt+Ke+this.ctx.prevPageLastElemOffset),Q===!1||Ie===0){var Ft=(Ie>Re||Ie<rt)&&w.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,Ut,null).clip().discardPath()),B.call(this,z,Q),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=he}this.path=Ce}else this.lineWidth=Ee,B.call(this,z,Q),this.lineWidth=he},B=function(z,Q){if((z!=="stroke"||Q||!b.call(this))&&(z==="stroke"||Q||!f.call(this))){for(var ie,ce,fe=[],he=this.path,Ee=0;Ee<he.length;Ee++){var xe=he[Ee];switch(xe.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:xe,deltas:[],abs:[]});break;case"lt":var Ae=fe.length;if(he[Ee-1]&&!isNaN(he[Ee-1].x)&&(ie=[xe.x-he[Ee-1].x,xe.y-he[Ee-1].y],Ae>0)){for(;Ae>=0;Ae--)if(fe[Ae-1].close!==!0&&fe[Ae-1].begin!==!0){fe[Ae-1].deltas.push(ie),fe[Ae-1].abs.push(xe);break}}break;case"bct":ie=[xe.x1-he[Ee-1].x,xe.y1-he[Ee-1].y,xe.x2-he[Ee-1].x,xe.y2-he[Ee-1].y,xe.x-he[Ee-1].x,xe.y-he[Ee-1].y],fe[fe.length-1].deltas.push(ie);break;case"qct":var Fe=he[Ee-1].x+2/3*(xe.x1-he[Ee-1].x),Ce=he[Ee-1].y+2/3*(xe.y1-he[Ee-1].y),Ne=xe.x+2/3*(xe.x1-xe.x),De=xe.y+2/3*(xe.y1-xe.y),Z=xe.x,Oe=xe.y;ie=[Fe-he[Ee-1].x,Ce-he[Ee-1].y,Ne-he[Ee-1].x,De-he[Ee-1].y,Z-he[Ee-1].x,Oe-he[Ee-1].y],fe[fe.length-1].deltas.push(ie);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(xe)}}ce=Q?null:z==="stroke"?"stroke":"fill";for(var at=!1,Ye=0;Ye<fe.length;Ye++)if(fe[Ye].arc)for(var Re=fe[Ye].abs,rt=0;rt<Re.length;rt++){var Ie=Re[rt];Ie.type==="arc"?N.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,Q,!at):L.call(this,Ie.x,Ie.y),at=!0}else if(fe[Ye].close===!0)this.pdf.internal.out("h"),at=!1;else if(fe[Ye].begin!==!0){var He=fe[Ye].start.x,Ke=fe[Ye].start.y;W.call(this,fe[Ye].deltas,He,Ke),at=!0}ce&&P.call(this,ce),Q&&O.call(this)}},V=function(z){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-ie;case"top":return z+Q-ie;case"hanging":return z+Q-2*ie;case"middle":return z+Q/2-ie;default:return z}},M=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(Q,ie){this.colorStops.push([Q,ie])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(z,Q,ie,ce,fe,he,Ee,xe,Ae){for(var Fe=de.call(this,ie,ce,fe,he),Ce=0;Ce<Fe.length;Ce++){var Ne=Fe[Ce];Ce===0&&(Ae?k.call(this,Ne.x1+z,Ne.y1+Q):L.call(this,Ne.x1+z,Ne.y1+Q)),ue.call(this,z,Q,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}xe?O.call(this):P.call(this,Ee)},P=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(z,Q){this.pdf.internal.out(t(z)+" "+r(Q)+" m")},j=function(z){var Q;switch(z.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var ie,ce,fe,he=this.pdf.getTextDimensions(z.text),Ee=V.call(this,z.y),xe=M.call(this,Ee)-he.h,Ae=this.ctx.transform.applyToPoint(new o(z.x,Ee));if(this.autoPaging){var Fe=this.ctx.transform.decompose(),Ce=new l;Ce=(Ce=(Ce=Ce.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale);for(var Ne=this.ctx.transform.applyToRectangle(new a(z.x,Ee,he.w,he.h)),De=Ce.applyToRectangle(new a(z.x,xe,he.w,he.h)),Z=A.call(this,De),Oe=[],at=0;at<Z.length;at+=1)Oe.indexOf(Z[at])===-1&&Oe.push(Z[at]);S(Oe);for(var Ye=Oe[0],Re=Oe[Oe.length-1],rt=Ye;rt<Re+1;rt++){this.pdf.setPage(rt);var Ie=rt===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[2],Xt=Ke-this.margin[0],Ut=this.pdf.internal.pageSize.width-this.margin[1],tt=Ut-this.margin[3],ut=rt===1?0:He+(rt-2)*Xt;if(this.ctx.clip_path.length!==0){var Ft=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ie,this.posX+this.margin[3],-1*ut+Ie),B.call(this,"fill",!0),this.path=Ft}var st=E([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-ut+Ie+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*z.scale),fe=this.lineWidth,this.lineWidth=fe*z.scale);var Nt=this.autoPaging!=="text";if(Nt||st.y+st.h<=Ke){if(Nt||st.y>=Ie&&st.x<=Ut){var vt=Nt?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||Ut-st.x)[0],Dn=E([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-ut+Ie+this.ctx.prevPageLastElemOffset)[0],sn=Nt&&(rt>Ye||rt<Re)&&w.call(this);sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,Xt,null).clip().discardPath()),this.pdf.text(vt,Dn.x,Dn.y,{angle:z.angle,align:Q,renderingMode:z.renderingMode}),sn&&this.pdf.restoreGraphicsState()}}else st.y<Ke&&(this.ctx.prevPageLastElemOffset+=Ke-st.y);z.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=fe)}}else z.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*z.scale),fe=this.lineWidth,this.lineWidth=fe*z.scale),this.pdf.text(z.text,Ae.x+this.posX,Ae.y+this.posY,{angle:z.angle,align:Q,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=fe)},L=function(z,Q,ie,ce){ie=ie||0,ce=ce||0,this.pdf.internal.out(t(z+ie)+" "+r(Q+ce)+" l")},W=function(z,Q,ie){return this.pdf.lines(z,Q,ie,null,null)},ue=function(z,Q,ie,ce,fe,he,Ee,xe){this.pdf.internal.out([e(i(ie+z)),e(s(ce+Q)),e(i(fe+z)),e(s(he+Q)),e(i(Ee+z)),e(s(xe+Q)),"c"].join(" "))},de=function(z,Q,ie,ce){for(var fe=2*Math.PI,he=Math.PI/2;Q>ie;)Q-=fe;var Ee=Math.abs(ie-Q);Ee<fe&&ce&&(Ee=fe-Ee);for(var xe=[],Ae=ce?-1:1,Fe=Q;Ee>1e-5;){var Ce=Fe+Ae*Math.min(Ee,he);xe.push(le.call(this,z,Fe,Ce)),Ee-=Math.abs(Ce-Fe),Fe=Ce}return xe},le=function(z,Q,ie){var ce=(ie-Q)/2,fe=z*Math.cos(ce),he=z*Math.sin(ce),Ee=fe,xe=-he,Ae=Ee*Ee+xe*xe,Fe=Ae+Ee*fe+xe*he,Ce=4/3*(Math.sqrt(2*Ae*Fe)-Fe)/(Ee*he-xe*fe),Ne=Ee-Ce*xe,De=xe+Ce*Ee,Z=Ne,Oe=-De,at=ce+Q,Ye=Math.cos(at),Re=Math.sin(at);return{x1:z*Math.cos(Q),y1:z*Math.sin(Q),x2:Ne*Ye-De*Re,y2:Ne*Re+De*Ye,x3:Z*Ye-Oe*Re,y3:Z*Re+Oe*Ye,x4:z*Math.cos(ie),y4:z*Math.sin(ie)}},J=function(z){return 180*z/Math.PI},re=function(z,Q,ie,ce,fe,he){var Ee=z+.5*(ie-z),xe=Q+.5*(ce-Q),Ae=fe+.5*(ie-fe),Fe=he+.5*(ce-he),Ce=Math.min(z,fe,Ee,Ae),Ne=Math.max(z,fe,Ee,Ae),De=Math.min(Q,he,xe,Fe),Z=Math.max(Q,he,xe,Fe);return new a(Ce,De,Ne-Ce,Z-De)},ge=function(z,Q,ie,ce,fe,he,Ee,xe){var Ae,Fe,Ce,Ne,De,Z,Oe,at,Ye,Re,rt,Ie,He,Ke,Xt=ie-z,Ut=ce-Q,tt=fe-ie,ut=he-ce,Ft=Ee-fe,st=xe-he;for(Fe=0;Fe<41;Fe++)Ye=(Oe=(Ce=z+(Ae=Fe/40)*Xt)+Ae*((De=ie+Ae*tt)-Ce))+Ae*(De+Ae*(fe+Ae*Ft-De)-Oe),Re=(at=(Ne=Q+Ae*Ut)+Ae*((Z=ce+Ae*ut)-Ne))+Ae*(Z+Ae*(he+Ae*st-Z)-at),Fe==0?(rt=Ye,Ie=Re,He=Ye,Ke=Re):(rt=Math.min(rt,Ye),Ie=Math.min(Ie,Re),He=Math.max(He,Ye),Ke=Math.max(Ke,Re));return new a(Math.round(rt),Math.round(Ie),Math.round(He-rt),Math.round(Ke-Ie))},ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,Q,ie=(z=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:Q}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(St.API),function(n){var e=function(o){var a,l,c,u,h,p,f,b,w,A;for(l=[],c=0,u=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;u>c;c+=4)(h=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(p=(h=((h=((h=((h=(h-(A=h%85))/85)-(w=h%85))/85)-(b=h%85))/85)-(f=h%85))/85)%85,l.push(p+33,f+33,b+33,w+33,A+33)):l.push(122);return function(x,E){for(var S=E;S>0;S--)x.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},t=function(o){var a,l,c,u,h,p=String,f="length",b=255,w="charCodeAt",A="slice",x="replace";for(o[A](-2),o=o[A](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,h=(o+=a="uuuuu"[A](o[f]%5||5))[f];h>u;u+=5)l=52200625*(o[w](u)-33)+614125*(o[w](u+1)-33)+7225*(o[w](u+2)-33)+85*(o[w](u+3)-33)+(o[w](u+4)-33),c.push(b&l>>24,b&l>>16,b&l>>8,b&l);return function(E,S){for(var T=S;T>0;T--)E.pop()}(c,a[f]),p.fromCharCode.apply(p,c)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=IC(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};n.processDataByFilters=function(o,a){var l=0,c=o||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(St.API),function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var h=new XMLHttpRequest,p=0,f=function(b){var w=b.length,A=[],x=String.fromCharCode;for(p=0;p<w;p+=1)A.push(x(255&b.charCodeAt(p)));return A.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(St.API),function(n){function e(){return(Bt.html2canvas?Promise.resolve(Bt.html2canvas):Kc(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Bt.DOMPurify?Promise.resolve(Bt.DOMPurify):Kc(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=Bn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(a(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var b=u[f],w=b.src.find(function(A){return A.format==="truetype"});w&&c.addFont(w.url,b.ref.name,b.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||St.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,h).then(function(p){return c.updateProgress(1),p})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),p=c.call(h,a,l);return o.convert(p,u.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,St.getPageSize=function(a,l,c){if(Bn(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var h,p=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var b,w=0,A=0;if(f.hasOwnProperty(p))w=f[p][1]/h,A=f[p][0]/h;else try{w=c[1],A=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",A>w&&(b=A,A=w,w=b);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",w>A&&(b=A,A=w,w=b)}return{width:A,height:w,unit:l,k:h,orientation:a}},n.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(r8):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(St.API),St.API.addJS=function(n){return RD=n,this.internal.events.subscribe("postPutResources",function(){Ux=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ux+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),PD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+RD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ux!==void 0&&PD!==void 0&&this.internal.out("/Names <</JavaScript "+Ux+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=t.internal.newObject();u.push(h);var p=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(St.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,l=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),b=h.length,w={width:0,height:0,numcomponents:1},A=4;A<b;A+=2){if(A+=f,e.indexOf(h.charCodeAt(A+1))!==-1){p=256*h.charCodeAt(A+5)+h.charCodeAt(A+6),w={width:256*h.charCodeAt(A+7)+h.charCodeAt(A+8),height:p,numcomponents:h.charCodeAt(A+9)};break}f=256*h.charCodeAt(A+2)+h.charCodeAt(A+3)}return w}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(St.API),St.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=xve(n,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?function(N){for(var P=N.width,O=N.height,k=N.data,j=N.palette,L=N.depth,W=!1,ue=[],de=[],le=void 0,J=!1,re=0,ge=0;ge<j.length;ge++){var ye=CM(j[ge],4),z=ye[0],Q=ye[1],ie=ye[2],ce=ye[3];ue.push(z,Q,ie),ce!=null&&(ce===0?(re++,de.length<1&&de.push(ge)):ce<255&&(J=!0))}if(J||re>1){W=!0,de=void 0;var fe=P*O;le=new Uint8Array(fe);for(var he=new DataView(k.buffer),Ee=0;Ee<fe;Ee++){var xe=s8(he,Ee,L),Ae=CM(j[xe],4)[3];le[Ee]=Ae}}else re===0&&(de=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:W?8:void 0,colorBytes:k,alphaBytes:le,needSMask:W,palette:ue,mask:de}}(s):l===2||l===4?function(N){for(var P=N.data,O=N.width,k=N.height,j=N.channels,L=N.depth,W=j===2?"DeviceGray":"DeviceRGB",ue=j-1,de=O*k,le=ue,J=de*le,re=1*de,ge=Math.ceil(J*L/8),ye=Math.ceil(re*L/8),z=new Uint8Array(ge),Q=new Uint8Array(ye),ie=new DataView(P.buffer),ce=new DataView(z.buffer),fe=new DataView(Q.buffer),he=!1,Ee=0;Ee<de;Ee++){for(var xe=Ee*j,Ae=0;Ae<le;Ae++)VD(ce,s8(ie,xe+Ae,L),Ee*le+Ae,L);var Fe=s8(ie,xe+le,L);Fe<(1<<L)-1&&(he=!0),VD(fe,Fe,1*Ee,L)}return{colorSpace:W,colorsPerPixel:ue,sMaskBitsPerComponent:he?L:void 0,colorBytes:z,alphaBytes:Q,needSMask:he}}(s):function(N){var P=N.data,O=N.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:O,colorsPerPixel:O==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?function(k){for(var j=k.length,L=new Uint8Array(2*j),W=new DataView(L.buffer,L.byteOffset,L.byteLength),ue=0;ue<j;ue++)W.setUint16(2*ue,k[ue],!1);return L}(P):P,needSMask:!1}}(s);var h,p,f,b=i,w=b.colorSpace,A=b.colorsPerPixel,x=b.sMaskBitsPerComponent,E=b.colorBytes,S=b.alphaBytes,T=b.needSMask,B=b.palette,V=b.mask,M=null;return r!==St.API.image_compression.NONE&&typeof IC=="function"?(M=function(N){var P;switch(N){case St.API.image_compression.FAST:P=11;break;case St.API.image_compression.MEDIUM:P=13;break;case St.API.image_compression.SLOW:P=14;break;default:P=12}return P}(r),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(M," /Colors ").concat(A," /BitsPerComponent ").concat(u," /Columns ").concat(o),n=jD(E,Math.ceil(o*A*u/8),A,u,r),T&&(f=jD(S,Math.ceil(o*x/8),1,x,r))):(h=void 0,p=void 0,n=E,T&&(f=S)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:t,data:n,index:e,filter:h,decodeParameters:p,transparency:V,palette:B,sMask:f,predictor:M,width:o,height:a,bitsPerComponent:u,sMaskBitsPerComponent:x,colorSpace:w}}},function(n){n.processGIF89A=function(e,t,r,i){var s=new zve(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new o8(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A}(St.API),wl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},wl.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){nr.log("bit decode error:"+t)}},wl.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},wl.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},wl.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},wl.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},wl.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},wl.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},wl.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},wl.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new wl(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new o8(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(St.API),$D.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new $D(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new o8(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(St.API),St.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],h=r[c+1],p=r[c+2],f=r[c+3];s[a++]=u,s[a++]=h,s[a++]=p,o[l++]=f}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},St.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},X1=St.API,Vx=X1.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,p=0,f=n.length,b=0,w=a[0]||l,A=[];for(t=0;t<f;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(p=h&&Bn(c[r])==="object"&&!isNaN(parseInt(c[r][b],10))?c[r][b]/u:0,A.push((a[r]||w)/l+p)),b=r;return A},LD=X1.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return X1.processArabic&&(n=X1.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Vx.apply(this,arguments).reduce(function(s,o){return s+o},0)},MD=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},DD=function(n,e,t){t||(t={});var r,i,s,o,a,l,c,u=[],h=[u],p=t.textIndent||0,f=0,b=0,w=n.split(" "),A=Vx.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?w[0].length+2:t.lineIndent||0){var x=Array(l).join(" "),E=[];w.map(function(T){(T=T.split(/\s*\n/)).length>1?E=E.concat(T.map(function(B,V){return(V&&B.length?`
`:"")+B})):E.push(T[0])}),w=E,l=LD.apply(this,[x,t])}for(s=0,o=w.length;s<o;s++){var S=0;if(r=w[s],l&&r[0]==`
`&&(r=r.substr(1),S=1),p+f+(b=(i=Vx.apply(this,[r,t])).reduce(function(T,B){return T+B},0))>e||S){if(b>e){for(a=MD.apply(this,[r,i,e-(p+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);b=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(T,B){return T+B},0)}else u=[r];h.push(u),p=b+l,f=A}else u.push(r),p+=f+b,f=A}return c=l?function(T,B){return(B?x:"")+T.join(" ")}:function(T){return T.join(" ")},h.map(c)},X1.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(DD.apply(this,[r[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]=e[s],i[e[s]]=t[s];var o=function(p){return"0x"+parseInt(p,10).toString(16)},a=n.__fontmetrics__.compress=function(p){var f,b,w,A,x=["{"];for(var E in p){if(f=p[E],isNaN(parseInt(E,10))?b="'"+E+"'":(E=parseInt(E,10),b=(b=o(E).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof f=="number")f<0?(w=o(f).slice(3),A="-"):(w=o(f).slice(2),A=""),w=A+w.slice(0,-1)+i[w.slice(-1)];else{if(Bn(f)!=="object")throw new Error("Don't know what to do with value type "+Bn(f)+".");w=a(f)}x.push(b+w)}return x.push("}"),x.join("")},l=n.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,b,w,A,x={},E=1,S=x,T=[],B="",V="",M=p.length-1,N=1;N<M;N+=1)(A=p[N])=="'"?f?(w=f.join(""),f=void 0):f=[]:f?f.push(A):A=="{"?(T.push([S,w]),S={},w=void 0):A=="}"?((b=T.pop())[0][b[1]]=S,w=void 0,S=b[0]):A=="-"?E=-1:w===void 0?r.hasOwnProperty(A)?(B+=r[A],w=parseInt(B,16)*E,E=1,B=""):B+=A:r.hasOwnProperty(A)?(V+=r[A],S[w]=parseInt(V,16)*E,E=1,w=void 0,V=""):V+=A;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(p){var f=p.font,b=h.Unicode[f.postScriptName];b&&(f.metadata.Unicode={},f.metadata.Unicode.widths=b.widths,f.metadata.Unicode.kerning=b.kerning);var w=u.Unicode[f.postScriptName];w&&(f.metadata.Unicode.encoding=w,f.encoding=w.codePages[0])}])}(St.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(N4(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(St),St.API.addSvgAsImage=function(n,e,t,r,i,s,o,a){if(isNaN(e)||isNaN(t))throw nr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw nr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Bt.canvg?Promise.resolve(Bt.canvg):Kc(()=>import("./index.es-Cro8HcDw.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,n,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,t,r,i,o,a)})},St.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},St.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function p(b,w){var A,x=!1;for(A=0;A<b.length;A+=1)b[A]===w&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var f=a.length;for(h=0;h<f;h+=1)t[a[h]].value=t[a[h]].defaultValue,t[a[h]].explicitSet=!1}if(Bn(n)==="object"){for(i in n)if(s=n[i],p(a,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&p(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,w=[];for(b in t)t[b].explicitSet===!0&&(t[b].type==="name"?w.push("/"+b+" /"+t[b].value):w.push("/"+b+" "+t[b].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(St.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,p=s.length;h<p;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,h,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(a=Object.keys(s).sort(function(f,b){return f-b})).length;h<p;h++)o=a[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",b=0;b<p.length;b++)f+=String.fromCharCode(p[b]);var w=c();u({data:f,addLength1:!0,objectId:w}),l("endobj");var A=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var x=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+tg(a.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var E=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+tg(a.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+n.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+tg(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+E+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var b=c();u({data:p,addLength1:!0,objectId:b}),l("endobj");var w=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var A=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+tg(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var x=0;x<a.metadata.hmtx.widths.length;x++)a.metadata.hmtx.widths[x]=parseInt(a.metadata.hmtx.widths[x]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+tg(a.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},p=h.pdfEscape,f=h.activeFontKey,b=h.fonts,w=f,A="",x=0,E="",S=b[w].encoding;if(b[w].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:h};for(E=a,w=f,Array.isArray(a)&&(E=a[0]),x=0;x<E.length;x+=1)b[w].metadata.hasOwnProperty("cmap")&&(o=b[w].metadata.cmap.unicode.codeMap[E[x].charCodeAt(0)]),o||E[x].charCodeAt(0)<256&&b[w].metadata.hasOwnProperty("Unicode")?A+=E[x]:A+="";var T="";return parseInt(w.slice(1))<14||S==="WinAnsiEncoding"?T=p(A,w).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(T=t(A,b[w])),h.isHex=!0,{text:T,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(St),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(St.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,S=0;this.__bidiEngine__={};var T=function(k){var j=k.charCodeAt(),L=j>>8,W=w[L];return W!==void 0?h[256*W+(255&j)]:L===252||L===253?"AL":x.test(L)?"L":L===8?"R":"N"},B=function(k){for(var j,L=0;L<k.length;L++){if((j=T(k.charAt(L)))==="L")return!1;if(j==="R")return!0}return!1},V=function(k,j,L,W){var ue,de,le,J,re=j[W];switch(re){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(re="AN");break;case"AL":E=!0,re="R";break;case"WS":case"BN":re="N";break;case"CS":W<1||W+1>=j.length||(ue=L[W-1])!=="EN"&&ue!=="AN"||(de=j[W+1])!=="EN"&&de!=="AN"?re="N":E&&(de="AN"),re=de===ue?de:"N";break;case"ES":re=(ue=W>0?L[W-1]:"B")==="EN"&&W+1<j.length&&j[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&L[W-1]==="EN"){re="EN";break}if(E){re="N";break}for(le=W+1,J=j.length;le<J&&j[le]==="ET";)le++;re=le<J&&j[le]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(J=j.length,le=W+1;le<J&&j[le]==="NSM";)le++;if(le<J){var ge=k[W],ye=ge>=1425&&ge<=2303||ge===64286;if(ue=j[le],ye&&(ue==="R"||ue==="AL")){re="R";break}}}re=W<1||(ue=j[W-1])==="B"?"N":L[W-1];break;case"B":E=!1,i=!0,re=S;break;case"S":s=!0,re="N"}return re},M=function(k,j,L){var W=k.split("");return L&&N(W,L,{hiLevel:S}),W.reverse(),j&&j.reverse(),W.join("")},N=function(k,j,L){var W,ue,de,le,J,re=-1,ge=k.length,ye=0,z=[],Q=S?f:p,ie=[];for(E=!1,i=!1,s=!1,ue=0;ue<ge;ue++)ie[ue]=T(k[ue]);for(de=0;de<ge;de++){if(J=ye,z[de]=V(k,ie,z,de),W=240&(ye=Q[J][b[z[de]]]),ye&=15,j[de]=le=Q[ye][5],W>0)if(W===16){for(ue=re;ue<de;ue++)j[ue]=1;re=-1}else re=-1;if(Q[ye][6])re===-1&&(re=de);else if(re>-1){for(ue=re;ue<de;ue++)j[ue]=le;re=-1}ie[de]==="B"&&(j[de]=0),L.hiLevel|=le}s&&function(ce,fe,he){for(var Ee=0;Ee<he;Ee++)if(ce[Ee]==="S"){fe[Ee]=S;for(var xe=Ee-1;xe>=0&&ce[xe]==="WS";xe--)fe[xe]=S}}(ie,j,ge)},P=function(k,j,L,W,ue){if(!(ue.hiLevel<k)){if(k===1&&S===1&&!i)return j.reverse(),void(L&&L.reverse());for(var de,le,J,re,ge=j.length,ye=0;ye<ge;){if(W[ye]>=k){for(J=ye+1;J<ge&&W[J]>=k;)J++;for(re=ye,le=J-1;re<le;re++,le--)de=j[re],j[re]=j[le],j[le]=de,L&&(de=L[re],L[re]=L[le],L[le]=de);ye=J}ye++}}},O=function(k,j,L){var W=k.split(""),ue={hiLevel:S};return L||(L=[]),N(W,L,ue),function(de,le,J){if(J.hiLevel!==0&&u)for(var re,ge=0;ge<de.length;ge++)le[ge]===1&&(re=A.indexOf(de[ge]))>=0&&(de[ge]=A[re+1])}(W,L,ue),P(2,W,j,L,ue),P(1,W,j,L,ue),W.join("")};return this.__bidiEngine__.doBidiReorder=function(k,j,L){if(function(ue,de){if(de)for(var le=0;le<ue.length;le++)de[le]=le;a===void 0&&(a=B(ue)),c===void 0&&(c=B(ue))}(k,j),o||!l||c)if(o&&l&&a^c)S=a?1:0,k=M(k,j,L);else if(!o&&l&&c)S=a?1:0,k=O(k,j,L),k=M(k,j);else if(!o||a||l||c){if(o&&!l&&a^c)k=M(k,j),a?(S=0,k=O(k,j,L)):(S=1,k=O(k,j,L),k=M(k,j));else if(o&&a&&!l&&c)S=1,k=O(k,j,L),k=M(k,j);else if(!o&&!l&&a^c){var W=u;a?(S=1,k=O(k,j,L),S=0,u=!1,k=O(k,j,L),u=W):(S=0,k=O(k,j,L),k=M(k,j),S=1,u=!1,k=O(k,j,L),u=W,k=M(k,j))}}else S=0,k=O(k,j,L);else S=a?1:0,k=O(k,j,L);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,l=k.isOutputVisual,a=k.isInputRtl,c=k.isOutputRtl,u=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(St),St.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Bf(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new rye(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new $ve(this.contents),this.head=new Hve(this),this.name=new Xve(this),this.cmap=new AW(this),this.toUnicode={},this.hhea=new Wve(this),this.maxp=new Qve(this),this.hmtx=new Jve(this),this.post=new Kve(this),this.os2=new Gve(this),this.loca=new nye(this),this.glyf=new Zve(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var rc,Bf=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),$ve=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,a,l,c,u,h,p,f,b,w;for(w in f=Object.keys(t).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),u=16*f-h,(i=new Bf).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(o),i.writeShort(u),s=16*f,c=i.pos+s,a=null,b=[],t)for(p=t[w],i.writeString(w),i.writeInt(n(p)),i.writeInt(c),i.writeInt(p.length),b=b.concat(p),w==="head"&&(a=c),c+=p.length;c%4;)b.push(0),c++;return i.write(b),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=EW.call(t);t.length%4;)t.push(0);for(s=new Bf(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),qve={}.hasOwnProperty,uu=function(n,e){for(var t in e)qve.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};rc=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var Hve=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uu(n,rc),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Bf).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n}(),qD=function(){function n(e,t){var r,i,s,o,a,l,c,u,h,p,f,b,w,A,x,E,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,s=function(){var T,B;for(B=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)B.push(e.readUInt16());return B}(),e.pos+=2,w=function(){var T,B;for(B=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)B.push(e.readUInt16());return B}(),c=function(){var T,B;for(B=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)B.push(e.readUInt16());return B}(),u=function(){var T,B;for(B=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)B.push(e.readUInt16());return B}(),i=(this.length-e.pos+this.offset)/2,a=function(){var T,B;for(B=[],l=T=0;0<=i?T<i:T>i;l=0<=i?++T:--T)B.push(e.readUInt16());return B}(),l=x=0,S=s.length;x<S;l=++x)for(A=s[l],r=E=b=w[l];b<=A?E<=A:E>=A;r=b<=A?++E:--E)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-b)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=h}return n.encode=function(e,t){var r,i,s,o,a,l,c,u,h,p,f,b,w,A,x,E,S,T,B,V,M,N,P,O,k,j,L,W,ue,de,le,J,re,ge,ye,z,Q,ie,ce,fe,he,Ee,xe,Ae,Fe,Ce;switch(W=new Bf,o=Object.keys(e).sort(function(Ne,De){return Ne-De}),t){case"macroman":for(w=0,A=function(){var Ne=[];for(b=0;b<256;++b)Ne.push(0);return Ne}(),E={0:0},s={},ue=0,re=o.length;ue<re;ue++)E[xe=e[i=o[ue]]]==null&&(E[xe]=++w),s[i]={old:e[i],new:E[e[i]]},A[i]=E[e[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(A),{charMap:s,subtable:W.data,maxGlyphID:w+1};case"unicode":for(j=[],h=[],S=0,E={},r={},x=c=null,de=0,ge=o.length;de<ge;de++)E[B=e[i=o[de]]]==null&&(E[B]=++S),r[i]={old:B,new:E[B]},a=E[B]-i,x!=null&&a===c||(x&&h.push(x),j.push(i),c=a),x=i;for(x&&h.push(x),h.push(65535),j.push(65535),O=2*(P=j.length),N=2*Math.pow(Math.log(P)/Math.LN2,2),p=Math.log(N/2)/Math.LN2,M=2*P-N,l=[],V=[],f=[],b=le=0,ye=j.length;le<ye;b=++le){if(k=j[b],u=h[b],k===65535){l.push(0),V.push(0);break}if(k-(L=r[k].new)>=32768)for(l.push(0),V.push(2*(f.length+P-b)),i=J=k;k<=u?J<=u:J>=u;i=k<=u?++J:--J)f.push(r[i].new);else l.push(L-k),V.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*P+2*f.length),W.writeUInt16(0),W.writeUInt16(O),W.writeUInt16(N),W.writeUInt16(p),W.writeUInt16(M),he=0,z=h.length;he<z;he++)i=h[he],W.writeUInt16(i);for(W.writeUInt16(0),Ee=0,Q=j.length;Ee<Q;Ee++)i=j[Ee],W.writeUInt16(i);for(Ae=0,ie=l.length;Ae<ie;Ae++)a=l[Ae],W.writeUInt16(a);for(Fe=0,ce=V.length;Fe<ce;Fe++)T=V[Fe],W.writeUInt16(T);for(Ce=0,fe=f.length;Ce<fe;Ce++)w=f[Ce],W.writeUInt16(w);return{charMap:r,subtable:W.data,maxGlyphID:S+1}}},n}(),AW=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uu(n,rc),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new qD(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=qD.encode(e,t),(i=new Bf).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n}(),Wve=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uu(n,rc),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n}(),Gve=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uu(n,rc),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n}(),Kve=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uu(n,rc),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},n}(),Yve=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Xve=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uu(n,rc),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,s,o,a,l,c,u,h,p;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=u=0,h=r.length;u<h;s=++u)i=r[s],e.pos=i.offset,c=e.readString(i.length),o=new Yve(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},n}(),Qve=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uu(n,rc),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n}(),Jve=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uu(n,rc),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],t=c=0;0<=i?c<i:c>i;t=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,h,p;for(p=[],c=0,u=(h=this.metrics).length;c<u;c++)s=h[c],p.push(s.advance);return p}).call(this),r=this.widths[this.widths.length-1],l=[],t=o=0;0<=i?o<i:o>i;t=0<=i?++o:--o)l.push(this.widths.push(r));return l},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n}(),EW=[].slice,Zve=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uu(n,rc),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,s,o,a,l,c,u,h;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,o=(a=new Bf(t.read(i))).readShort(),c=a.readShort(),h=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[e]=o===-1?new tye(a,c,h,l,u):new eye(a,o,c,h,l,u),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=t.length;a<l;a++)i=e[t[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},n}(),eye=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),tye=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Bf(EW.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),nye=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uu(n,rc),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<t.length&&t[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},n}(),rye=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))r=l[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,a,l,c,u,h,p,f,b,w,A,x;for(i in r=AW.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},x=r.charMap)f[(l=x[i]).old]=l.new;for(b in p=r.maxGlyphID,o)b in f||(f[b]=p++);return u=function(E){var S,T;for(S in T={},E)T[E[S]]=S;return T}(f),h=Object.keys(u).sort(function(E,S){return E-S}),w=function(){var E,S,T;for(T=[],E=0,S=h.length;E<S;E++)a=h[E],T.push(u[a]);return T}(),s=this.font.glyf.encode(o,w,f),c=this.font.loca.encode(s.offsets,w),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},n}();St.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();var Nb={},iye=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},SW={},Ca={};let m9;const sye=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ca.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ca.getSymbolTotalCodewords=function(e){return sye[e]};Ca.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};Ca.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');m9=e};Ca.isKanjiModeEnabled=function(){return typeof m9<"u"};Ca.toSJIS=function(e){return m9(e)};var J6={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}})(J6);function CW(){this.buffer=[],this.length=0}CW.prototype={get:function(n){const e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var oye=CW;function kb(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}kb.prototype.set=function(n,e,t,r){const i=n*this.size+e;this.data[i]=t,r&&(this.reservedBit[i]=!0)};kb.prototype.get=function(n,e){return this.data[n*this.size+e]};kb.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};kb.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};var aye=kb,TW={};(function(n){const e=Ca.getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},n.getPositions=function(r){const i=[],s=n.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(TW);var NW={};const lye=Ca.getSymbolSize,HD=7;NW.getPositions=function(e){const t=lye(e);return[[0,0],[t-HD,0],[0,t-HD]]};var kW={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let h=0;h<s;h++){a=l=0,c=u=null;for(let p=0;p<s;p++){let f=i.get(h,p);f===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=f,a=1),f=i.get(p,h),f===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=f,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},n.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},n.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},n.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function t(r,i,s){switch(r){case n.Patterns.PATTERN000:return(i+s)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return s%3===0;case n.Patterns.PATTERN011:return(i+s)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case n.Patterns.PATTERN101:return i*s%2+i*s%3===0;case n.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case n.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,t(i,l,a))},n.getBestMask=function(i,s){const o=Object.keys(n.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),n.applyMask(c,i);const u=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(kW);var Z6={};const mf=J6,zx=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],$x=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Z6.getBlocksCount=function(e,t){switch(t){case mf.L:return zx[(e-1)*4+0];case mf.M:return zx[(e-1)*4+1];case mf.Q:return zx[(e-1)*4+2];case mf.H:return zx[(e-1)*4+3];default:return}};Z6.getTotalCodewordsCount=function(e,t){switch(t){case mf.L:return $x[(e-1)*4+0];case mf.M:return $x[(e-1)*4+1];case mf.Q:return $x[(e-1)*4+2];case mf.H:return $x[(e-1)*4+3];default:return}};var IW={},eA={};const Sy=new Uint8Array(512),v_=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)Sy[t]=e,v_[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)Sy[t]=Sy[t-255]})();eA.log=function(e){if(e<1)throw new Error("log("+e+")");return v_[e]};eA.exp=function(e){return Sy[e]};eA.mul=function(e,t){return e===0||t===0?0:Sy[v_[e]+v_[t]]};(function(n){const e=eA;n.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},n.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=n.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(IW);const PW=IW;function g9(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}g9.prototype.initialize=function(e){this.degree=e,this.genPoly=PW.generateECPolynomial(this.degree)};g9.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const r=PW.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var cye=g9,RW={},Xf={},v9={};v9.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var du={};const LW="[0-9]+",uye="[A-Z $%*+\\-./:]+";let C5="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";C5=C5.replace(/u/g,"\\u");const dye="(?:(?![A-Z0-9 $%*+\\-./:]|"+C5+`)(?:.|[\r
]))+`;du.KANJI=new RegExp(C5,"g");du.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");du.BYTE=new RegExp(dye,"g");du.NUMERIC=new RegExp(LW,"g");du.ALPHANUMERIC=new RegExp(uye,"g");const hye=new RegExp("^"+C5+"$"),fye=new RegExp("^"+LW+"$"),pye=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");du.testKanji=function(e){return hye.test(e)};du.testNumeric=function(e){return fye.test(e)};du.testAlphanumeric=function(e){return pye.test(e)};(function(n){const e=v9,t=du;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},n.getBestModeForData=function(s){return t.testNumeric(s)?n.NUMERIC:t.testAlphanumeric(s)?n.ALPHANUMERIC:t.testKanji(s)?n.KANJI:n.BYTE},n.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},n.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(s,o){if(n.isValid(s))return s;try{return r(s)}catch{return o}}})(Xf);(function(n){const e=Ca,t=Z6,r=J6,i=Xf,s=v9,o=7973,a=e.getBCHDigit(o);function l(p,f,b){for(let w=1;w<=40;w++)if(f<=n.getCapacity(w,b,p))return w}function c(p,f){return i.getCharCountIndicator(p,f)+4}function u(p,f){let b=0;return p.forEach(function(w){const A=c(w.mode,f);b+=A+w.getBitsLength()}),b}function h(p,f){for(let b=1;b<=40;b++)if(u(p,b)<=n.getCapacity(b,f,i.MIXED))return b}n.from=function(f,b){return s.isValid(f)?parseInt(f,10):b},n.getCapacity=function(f,b,w){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=i.BYTE);const A=e.getSymbolTotalCodewords(f),x=t.getTotalCodewordsCount(f,b),E=(A-x)*8;if(w===i.MIXED)return E;const S=E-c(w,f);switch(w){case i.NUMERIC:return Math.floor(S/10*3);case i.ALPHANUMERIC:return Math.floor(S/11*2);case i.KANJI:return Math.floor(S/13);case i.BYTE:default:return Math.floor(S/8)}},n.getBestVersionForData=function(f,b){let w;const A=r.from(b,r.M);if(Array.isArray(f)){if(f.length>1)return h(f,A);if(f.length===0)return 1;w=f[0]}else w=f;return l(w.mode,w.getLength(),A)},n.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let b=f<<12;for(;e.getBCHDigit(b)-a>=0;)b^=o<<e.getBCHDigit(b)-a;return f<<12|b}})(RW);var MW={};const qC=Ca,DW=1335,mye=21522,WD=qC.getBCHDigit(DW);MW.getEncodedBits=function(e,t){const r=e.bit<<3|t;let i=r<<10;for(;qC.getBCHDigit(i)-WD>=0;)i^=DW<<qC.getBCHDigit(i)-WD;return(r<<10|i)^mye};var jW={};const gye=Xf;function x2(n){this.mode=gye.NUMERIC,this.data=n.toString()}x2.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};x2.prototype.getLength=function(){return this.data.length};x2.prototype.getBitsLength=function(){return x2.getBitsLength(this.data.length)};x2.prototype.write=function(e){let t,r,i;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-t;s>0&&(r=this.data.substr(t),i=parseInt(r,10),e.put(i,s*3+1))};var vye=x2;const yye=Xf,a8=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function _2(n){this.mode=yye.ALPHANUMERIC,this.data=n}_2.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};_2.prototype.getLength=function(){return this.data.length};_2.prototype.getBitsLength=function(){return _2.getBitsLength(this.data.length)};_2.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=a8.indexOf(this.data[t])*45;r+=a8.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(a8.indexOf(this.data[t]),6)};var wye=_2;const bye=Xf;function A2(n){this.mode=bye.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}A2.getBitsLength=function(e){return e*8};A2.prototype.getLength=function(){return this.data.length};A2.prototype.getBitsLength=function(){return A2.getBitsLength(this.data.length)};A2.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};var xye=A2;const _ye=Xf,Aye=Ca;function E2(n){this.mode=_ye.KANJI,this.data=n}E2.getBitsLength=function(e){return e*13};E2.prototype.getLength=function(){return this.data.length};E2.prototype.getBitsLength=function(){return E2.getBitsLength(this.data.length)};E2.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=Aye.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};var Eye=E2,OW={exports:{}};(function(n){var e={single_source_shortest_paths:function(t,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,h,p,f,b,w,A;!a.empty();){l=a.pop(),c=l.value,h=l.cost,p=t[c]||{};for(u in p)p.hasOwnProperty(u)&&(f=p[u],b=h+f,w=o[u],A=typeof o[u]>"u",(A||w>b)&&(o[u]=b,a.push(u,b),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var x=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(x)}return s},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],s=r;s;)i.push(s),t[s],s=t[s];return i.reverse(),i},find_path:function(t,r,i){var s=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},s;t=t||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(OW);var Sye=OW.exports;(function(n){const e=Xf,t=vye,r=wye,i=xye,s=Eye,o=du,a=Ca,l=Sye;function c(x){return unescape(encodeURIComponent(x)).length}function u(x,E,S){const T=[];let B;for(;(B=x.exec(S))!==null;)T.push({data:B[0],index:B.index,mode:E,length:B[0].length});return T}function h(x){const E=u(o.NUMERIC,e.NUMERIC,x),S=u(o.ALPHANUMERIC,e.ALPHANUMERIC,x);let T,B;return a.isKanjiModeEnabled()?(T=u(o.BYTE,e.BYTE,x),B=u(o.KANJI,e.KANJI,x)):(T=u(o.BYTE_KANJI,e.BYTE,x),B=[]),E.concat(S,T,B).sort(function(M,N){return M.index-N.index}).map(function(M){return{data:M.data,mode:M.mode,length:M.length}})}function p(x,E){switch(E){case e.NUMERIC:return t.getBitsLength(x);case e.ALPHANUMERIC:return r.getBitsLength(x);case e.KANJI:return s.getBitsLength(x);case e.BYTE:return i.getBitsLength(x)}}function f(x){return x.reduce(function(E,S){const T=E.length-1>=0?E[E.length-1]:null;return T&&T.mode===S.mode?(E[E.length-1].data+=S.data,E):(E.push(S),E)},[])}function b(x){const E=[];for(let S=0;S<x.length;S++){const T=x[S];switch(T.mode){case e.NUMERIC:E.push([T,{data:T.data,mode:e.ALPHANUMERIC,length:T.length},{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.ALPHANUMERIC:E.push([T,{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.KANJI:E.push([T,{data:T.data,mode:e.BYTE,length:c(T.data)}]);break;case e.BYTE:E.push([{data:T.data,mode:e.BYTE,length:c(T.data)}])}}return E}function w(x,E){const S={},T={start:{}};let B=["start"];for(let V=0;V<x.length;V++){const M=x[V],N=[];for(let P=0;P<M.length;P++){const O=M[P],k=""+V+P;N.push(k),S[k]={node:O,lastCount:0},T[k]={};for(let j=0;j<B.length;j++){const L=B[j];S[L]&&S[L].node.mode===O.mode?(T[L][k]=p(S[L].lastCount+O.length,O.mode)-p(S[L].lastCount,O.mode),S[L].lastCount+=O.length):(S[L]&&(S[L].lastCount=O.length),T[L][k]=p(O.length,O.mode)+4+e.getCharCountIndicator(O.mode,E))}}B=N}for(let V=0;V<B.length;V++)T[B[V]].end=0;return{map:T,table:S}}function A(x,E){let S;const T=e.getBestModeForData(x);if(S=e.from(E,T),S!==e.BYTE&&S.bit<T.bit)throw new Error('"'+x+'" cannot be encoded with mode '+e.toString(S)+`.
 Suggested mode is: `+e.toString(T));switch(S===e.KANJI&&!a.isKanjiModeEnabled()&&(S=e.BYTE),S){case e.NUMERIC:return new t(x);case e.ALPHANUMERIC:return new r(x);case e.KANJI:return new s(x);case e.BYTE:return new i(x)}}n.fromArray=function(E){return E.reduce(function(S,T){return typeof T=="string"?S.push(A(T,null)):T.data&&S.push(A(T.data,T.mode)),S},[])},n.fromString=function(E,S){const T=h(E,a.isKanjiModeEnabled()),B=b(T),V=w(B,S),M=l.find_path(V.map,"start","end"),N=[];for(let P=1;P<M.length-1;P++)N.push(V.table[M[P]].node);return n.fromArray(f(N))},n.rawSplit=function(E){return n.fromArray(h(E,a.isKanjiModeEnabled()))}})(jW);const tA=Ca,l8=J6,Cye=oye,Tye=aye,Nye=TW,kye=NW,HC=kW,WC=Z6,Iye=cye,y_=RW,Pye=MW,Rye=Xf,c8=jW;function Lye(n,e){const t=n.size,r=kye.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||t<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||t<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?n.set(s+a,o+l,!0,!0):n.set(s+a,o+l,!1,!0))}}function Mye(n){const e=n.size;for(let t=8;t<e-8;t++){const r=t%2===0;n.set(t,6,r,!0),n.set(6,t,r,!0)}}function Dye(n,e){const t=Nye.getPositions(e);for(let r=0;r<t.length;r++){const i=t[r][0],s=t[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?n.set(i+o,s+a,!0,!0):n.set(i+o,s+a,!1,!0)}}function jye(n,e){const t=n.size,r=y_.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+t-8-3,o=(r>>a&1)===1,n.set(i,s,o,!0),n.set(s,i,o,!0)}function u8(n,e,t){const r=n.size,i=Pye.getEncodedBits(e,t);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?n.set(s,8,o,!0):s<8?n.set(s+1,8,o,!0):n.set(r-15+s,8,o,!0),s<8?n.set(8,r-s-1,o,!0):s<9?n.set(8,15-s-1+1,o,!0):n.set(8,15-s-1,o,!0);n.set(r-8,8,1,!0)}function Oye(n,e){const t=n.size;let r=-1,i=t-1,s=7,o=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!n.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),n.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||t<=i){i-=r,r=-r;break}}}function Fye(n,e,t){const r=new Cye;t.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),Rye.getCharCountIndicator(l.mode,n)),l.write(r)});const i=tA.getSymbolTotalCodewords(n),s=WC.getTotalCodewordsCount(n,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return Bye(r,n,e)}function Bye(n,e,t){const r=tA.getSymbolTotalCodewords(e),i=WC.getTotalCodewordsCount(e,t),s=r-i,o=WC.getBlocksCount(e,t),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(s/o),h=u+1,p=c-u,f=new Iye(p);let b=0;const w=new Array(o),A=new Array(o);let x=0;const E=new Uint8Array(n.buffer);for(let M=0;M<o;M++){const N=M<l?u:h;w[M]=E.slice(b,b+N),A[M]=f.encode(w[M]),b+=N,x=Math.max(x,N)}const S=new Uint8Array(r);let T=0,B,V;for(B=0;B<x;B++)for(V=0;V<o;V++)B<w[V].length&&(S[T++]=w[V][B]);for(B=0;B<p;B++)for(V=0;V<o;V++)S[T++]=A[V][B];return S}function Uye(n,e,t,r){let i;if(Array.isArray(n))i=c8.fromArray(n);else if(typeof n=="string"){let c=e;if(!c){const u=c8.rawSplit(n);c=y_.getBestVersionForData(u,t)}i=c8.fromString(n,c||40)}else throw new Error("Invalid data");const s=y_.getBestVersionForData(i,t);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=Fye(e,t,i),a=tA.getSymbolSize(e),l=new Tye(a);return Lye(l,e),Mye(l),Dye(l,e),u8(l,t,0),e>=7&&jye(l,e),Oye(l,o),isNaN(r)&&(r=HC.getBestMask(l,u8.bind(null,l,t))),HC.applyMask(r,l),u8(l,t,r),{modules:l,version:e,errorCorrectionLevel:t,maskPattern:r,segments:i}}SW.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let r=l8.M,i,s;return typeof t<"u"&&(r=l8.from(t.errorCorrectionLevel,l8.M),i=y_.from(t.version),s=HC.from(t.maskPattern),t.toSJISFunc&&tA.setToSJISFunction(t.toSJISFunc)),Uye(e,i,r,s)};var FW={},y9={};(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const s=n.getScale(r,i);return Math.floor((r+i.margin*2)*s)},n.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=n.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,h=[s.color.light,s.color.dark];for(let p=0;p<c;p++)for(let f=0;f<c;f++){let b=(p*c+f)*4,w=s.color.light;if(p>=u&&f>=u&&p<c-u&&f<c-u){const A=Math.floor((p-u)/l),x=Math.floor((f-u)/l);w=h[a[A*o+x]?1:0]}r[b++]=w.r,r[b++]=w.g,r[b++]=w.b,r[b]=w.a}}})(y9);(function(n){const e=y9;function t(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),h=c.getContext("2d"),p=h.createImageData(u,u);return e.qrToImageData(p.data,s,l),t(h,c,u),h.putImageData(p,0,0),c},n.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=n.render(s,o,l),u=l.type||"image/png",h=l.rendererOpts||{};return c.toDataURL(u,h.quality)}})(FW);var BW={};const Vye=y9;function GD(n,e){const t=n.a/255,r=e+'="'+n.hex+'"';return t<1?r+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function d8(n,e,t){let r=n+e;return typeof t<"u"&&(r+=" "+t),r}function zye(n,e,t){let r="",i=0,s=!1,o=0;for(let a=0;a<n.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),n[a]?(o++,a>0&&l>0&&n[a-1]||(r+=s?d8("M",l+t,.5+c+t):d8("m",i,0),i=0,s=!1),l+1<e&&n[a+1]||(r+=d8("h",o),o=0)):i++}return r}BW.render=function(e,t,r){const i=Vye.getOptions(t),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+GD(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+GD(i.color.dark,"stroke")+' d="'+zye(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,p),p};const $ye=iye,GC=SW,UW=FW,qye=BW;function w9(n,e,t,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!$ye())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=t,t=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=t,t=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(t=e,e=r=void 0):o===2&&!e.getContext&&(r=t,t=e,e=void 0),new Promise(function(l,c){try{const u=GC.create(t,r);l(n(u,e,r))}catch(u){c(u)}})}try{const l=GC.create(t,r);i(null,n(l,e,r))}catch(l){i(l)}}Nb.create=GC.create;Nb.toCanvas=w9.bind(null,UW.render);Nb.toDataURL=w9.bind(null,UW.renderToDataURL);Nb.toString=w9.bind(null,function(n,e,t){return qye.render(n,t)});const h8=[{id:"font-dancing",name:"Dancing Script",family:'"Dancing Script", cursive',url:"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap"},{id:"font-vibes",name:"Great Vibes",family:'"Great Vibes", cursive',url:"https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap"},{id:"font-sacramento",name:"Sacramento",family:'"Sacramento", cursive',url:"https://fonts.googleapis.com/css2?family=Sacramento&display=swap"},{id:"font-caveat",name:"Caveat",family:'"Caveat", cursive',url:"https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&display=swap"},{id:"font-apple",name:"Homemade Apple",family:'"Homemade Apple", cursive',url:"https://fonts.googleapis.com/css2?family=Homemade+Apple&display=swap"}],KD=async(n,e,t)=>{var f,b,w,A;const r=n.signature_data||e;if(!r)return xt.error("A signature is required to generate the PDF."),null;const i=new St,s=i.internal.pageSize.getWidth(),o=i.internal.pageSize.getHeight();i.setFillColor(59,130,246),i.rect(0,0,s,35,"F"),i.setTextColor(255,255,255),i.setFontSize(22),i.setFont("helvetica","bold"),i.text("Endorse",20,23),i.setFontSize(9),i.setFont("helvetica","normal"),i.text("Electronic Signature Document",s-20,23,{align:"right"}),i.setTextColor(30,41,59),i.setFontSize(16),i.setFont("helvetica","bold"),i.text(n.name,20,55),i.setFontSize(10),i.setFont("helvetica","normal"),i.setTextColor(100,116,139),i.text(`Document ID: ${n.id.slice(0,8)}...`,20,65),i.text(`Date: ${new Date().toLocaleDateString()}`,20,72),i.setDrawColor(226,232,240),i.setLineWidth(.5),i.line(20,82,s-20,82),i.setTextColor(30,41,59),i.setFontSize(11),i.setFont("helvetica","bold"),i.text("Document Agreement",20,95);const a=["This document has been electronically signed using Endorse.","The signature below confirms the signer's agreement to the terms and conditions.","By signing, you acknowledge this is a legally binding electronic signature."];i.setTextColor(71,85,105),i.setFontSize(10),i.setFont("helvetica","normal");let l=108;a.forEach(x=>{i.text(x,20,l),l+=6}),i.setDrawColor(226,232,240),i.setFillColor(248,250,252),i.roundedRect(20,o-95,s-40,75,4,4,"FD"),i.setTextColor(30,41,59),i.setFontSize(11),i.setFont("helvetica","bold"),i.text("Signature",30,o-80);const c=n.signature_type||t;if(c==="draw"||c==="upload"){const x=r.startsWith("data:image/jpeg")?"JPEG":"PNG";i.addImage(r,x,30,o-72,90,35)}else i.setFontSize(24),i.setFont("times","italic"),i.setTextColor(30,41,59),i.text(r,30,o-50);i.setFontSize(8),i.setFont("helvetica","normal"),i.setTextColor(100,116,139),i.text(`Signed by: ${((f=zl.currentUser)==null?void 0:f.email)||"Authenticated User"} on ${new Date().toLocaleString()}`,30,o-28),i.setFontSize(7),i.setTextColor(148,163,184),i.text("This document was electronically signed via Endorse - Endorse.app",s/2,o-10,{align:"center"}),i.addPage(),i.setFillColor(248,250,252),i.rect(0,0,s,40,"F"),i.setTextColor(15,23,42),i.setFontSize(20),i.setFont("helvetica","bold"),i.text("Audit Trail",20,25);try{const x=`https://endorse.app/verify/${n.id}`,E=await Nb.toDataURL(x,{width:100,margin:1,color:{dark:"#0f172a",light:"#f8fafc"}});i.addImage(E,"PNG",s-45,8,25,25)}catch(x){console.error("Error generating QR code:",x)}i.setFontSize(10),i.setTextColor(71,85,105),i.setFont("helvetica","normal"),i.text(`File Name: ${n.name}`,20,55),i.text(`Document ID: ${n.id}`,20,62);const u=Array.from({length:24},()=>Math.floor(Math.random()*16).toString(16)).join("").toUpperCase();i.text(`Transaction ID: ${u}`,20,69),i.setFontSize(12),i.setTextColor(15,23,42),i.setFont("helvetica","bold"),i.text("History",20,90);let h=105;return[{action:"Document Created",by:"System",time:new Date(Date.now()-36e5).toLocaleString()},{action:"Viewed by Signer",by:((b=zl.currentUser)==null?void 0:b.email)||"Guest User",time:new Date(Date.now()-3e5).toLocaleString()},{action:"Terms Accepted",by:((w=zl.currentUser)==null?void 0:w.email)||"Guest User",time:new Date(Date.now()-5e3).toLocaleString()},{action:"Document Signed",by:((A=zl.currentUser)==null?void 0:A.email)||"Guest User",time:new Date().toLocaleString()},{action:"Completed",by:"System",time:new Date().toLocaleString()}].forEach(x=>{i.setFillColor(59,130,246),i.circle(24,h-1,2,"F"),i.setFontSize(10),i.setTextColor(15,23,42),i.setFont("helvetica","bold"),i.text(x.action,35,h),i.setFontSize(9),i.setTextColor(100,116,139),i.setFont("helvetica","normal"),i.text(`${x.by} - ${x.time}`,35,h+5),h+=20}),i.setDrawColor(226,232,240),i.line(20,o-30,s-20,o-30),i.setFontSize(8),i.setTextColor(148,163,184),i.text("Endorse Security System | IP: 192.168.1.1 | Encrypted with AES-256",20,o-20),i.output("blob")},Hye=n=>new Promise((e,t)=>{const r=new Image;r.addEventListener("load",()=>e(r)),r.addEventListener("error",i=>t(i)),r.setAttribute("crossOrigin","anonymous"),r.src=n}),Wye=async(n,e)=>{const t=await Hye(n),r=document.createElement("canvas"),i=r.getContext("2d");return i?(r.width=e.width,r.height=e.height,i.drawImage(t,e.x,e.y,e.width,e.height,0,0,e.width,e.height),r.toDataURL("image/png")):null},Gye=(n,e,t=60)=>{const r=document.createElement("canvas"),i=r.getContext("2d");if(!i)return null;i.font=`${t}px ${e}`;const s=i.measureText(n),o=40;return r.width=s.width+o*2,r.height=t*2.5,i.font=`${t}px ${e}`,i.fillStyle="#000000",i.textBaseline="middle",i.fillText(n,o,r.height/2),r.toDataURL("image/png")},VW=({document:n,onClose:e,onSave:t})=>{const[r,i]=D.useState("draw"),[s,o]=D.useState(!1),[a,l]=D.useState(""),[c,u]=D.useState(null),[h,p]=D.useState(!1),[f,b]=D.useState(null),[w,A]=D.useState({x:0,y:0}),[x,E]=D.useState(1),[S,T]=D.useState(null),[B,V]=D.useState(!1),[M,N]=D.useState(!1),[P,O]=D.useState(""),[k,j]=D.useState(!1),[L,W]=D.useState(!1),[ue,de]=D.useState(""),[le,J]=D.useState(!1),[re,ge]=D.useState(!1),ye=D.useRef(null),z=D.useRef(null),[Q,ie]=D.useState(h8[0]),[ce,fe]=D.useState(60),{userProfile:he}=Ab();D.useEffect(()=>{h8.forEach(Ie=>{if(!window.document.getElementById(Ie.id)){const He=window.document.createElement("link");He.id=Ie.id,He.href=Ie.url,He.rel="stylesheet",window.document.head.appendChild(He)}})},[]),D.useEffect(()=>{if(r==="draw"&&ye.current){const Ie=ye.current.getCanvas();if(Ie){const He=Ie.getContext("2d");He&&(He.globalCompositeOperation=s?"destination-out":"source-over")}}},[s,r]);const Ee=()=>{r==="draw"&&ye.current?(ye.current.clear(),o(!1)):r==="type"?l(""):(u(null),b(null),V(!1))},xe=Ie=>{if(Ie.type.startsWith("image/")){const He=new FileReader;He.onload=Ke=>{var Xt;(Xt=Ke.target)!=null&&Xt.result&&(b(Ke.target.result),V(!0))},He.readAsDataURL(Ie)}else xt.error("Please upload an image file")},Ae=Ie=>{var Ke;const He=(Ke=Ie.target.files)==null?void 0:Ke[0];He&&xe(He)},Fe=Ie=>{Ie.preventDefault(),N(!0)},Ce=Ie=>{Ie.preventDefault(),N(!1)},Ne=Ie=>{var Ke;Ie.preventDefault(),N(!1);const He=(Ke=Ie.dataTransfer.files)==null?void 0:Ke[0];He&&xe(He)},De=(Ie,He)=>{T(He)},Z=async()=>{if(f&&S)try{const Ie=await Wye(f,S);Ie&&(u(Ie),V(!1))}catch(Ie){console.error(Ie),xt.error("Failed to crop image")}},Oe=()=>{var Ie,He;if(r==="draw")return(Ie=ye.current)!=null&&Ie.isEmpty()?null:((He=ye.current)==null?void 0:He.toDataURL("image/png"))||null;if(r==="type"){const Ke=a.trim();return Ke?Gye(Ke,Q.family,ce):null}else return c},at=()=>{if(n.status==="pending"&&!h){xt.error("Please agree to the terms and conditions to sign.");return}const Ie=Oe();if(!Ie){xt.error("Please add your signature first");return}t(Ie,r==="type"?"upload":r)},Ye=async()=>{const Ie=await KD(n,Oe(),r==="type"?"upload":r);if(Ie){const He=URL.createObjectURL(Ie),Ke=window.document.createElement("a");Ke.href=He,Ke.download=`${n.name.replace(/\s+/g,"_")}_signed.pdf`,window.document.body.appendChild(Ke),Ke.click(),window.document.body.removeChild(Ke),URL.revokeObjectURL(He),xt.success("PDF downloaded!")}},Re=async()=>{if(!P){xt.error("Please enter recipient email");return}const Ie=await KD(n,Oe(),r==="type"?"upload":r);if(!Ie)return;W(!0);const He=new FileReader;He.readAsDataURL(Ie),He.onloadend=async()=>{const Ke=He.result,Xt=l5(gC,"sendDocument");try{await Xt({recipientEmail:P,pdfBase64:Ke,documentName:n.name}),xt.success(`Document sent to ${P}!`),j(!1),O("")}catch(Ut){console.error("Firebase function error:",Ut),xt.error(Ut.message||"Failed to send document.")}finally{W(!1)}}},rt=async()=>{if(!ue){xt.error("Please enter the recipient's email.");return}if((he==null?void 0:he.plan)!=="pro"&&(he==null?void 0:he.plan)!=="business"){xt.error("Inviting signers is a Pro feature. Please upgrade your plan.");return}ge(!0);const Ie=l5(gC,"inviteToSign");try{await Ie({documentId:n.id,recipientEmail:ue,signingLink:`${window.location.origin}/sign/${n.id}`}),xt.success(`Invitation sent to ${ue}!`),J(!1),de("")}catch(He){console.error("Firebase function error (inviteToSign):",He),xt.error(He.message||"Failed to send invitation.")}finally{ge(!1)}};return d.jsx("div",{className:"fixed inset-0 z-50 bg-foreground/60 backdrop-blur-sm flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-card rounded-xl shadow-xl border border-border w-full max-w-lg max-h-[90vh] overflow-hidden animate-scale-in",children:[d.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-border bg-transparent",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(so,{className:"h-8 w-auto"}),d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-base font-semibold text-foreground",children:n.status==="pending"?"Sign Document":"Document Details"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:n.name})]})]}),d.jsx(Qe,{variant:"ghost",size:"sm",onClick:e,className:"w-8 h-8 p-0",children:d.jsx(Xa,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"p-5 overflow-y-auto max-h-[calc(90vh-180px)]",children:n.status==="pending"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex gap-2 mb-5",children:[d.jsxs(Qe,{variant:r==="draw"?"default":"outline",className:"flex-1 h-9",size:"sm",onClick:()=>i("draw"),children:[d.jsx(Rs,{className:"w-3.5 h-3.5 mr-1.5"}),"Draw"]}),d.jsxs(Qe,{variant:r==="type"?"default":"outline",className:"flex-1 h-9",size:"sm",onClick:()=>i("type"),children:[d.jsx($B,{className:"w-3.5 h-3.5 mr-1.5"}),"Type"]}),d.jsxs(Qe,{variant:r==="upload"?"default":"outline",className:"flex-1 h-9",size:"sm",onClick:()=>i("upload"),children:[d.jsx(Ky,{className:"w-3.5 h-3.5 mr-1.5"}),"Upload"]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx(gd,{className:"mb-2 block text-sm",children:"Your Signature"}),r==="draw"?d.jsxs("div",{className:"relative border-2 border-dashed border-border rounded-lg overflow-hidden bg-white",children:[d.jsx(W6,{ref:ye,canvasProps:{className:`w-full h-40 ${s?"cursor-cell":"cursor-crosshair"}`,style:{width:"100%",height:"160px"}},backgroundColor:"transparent",penColor:"#1e293b"}),d.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-1",children:[d.jsxs(Qe,{variant:s?"secondary":"ghost",size:"sm",className:`h-8 px-2 backdrop-blur-sm ${s?"bg-white/80 text-primary shadow-sm":"bg-white/40 text-muted-foreground hover:bg-white/60"}`,onClick:()=>o(!s),title:s?"Switch to Pen":"Eraser",children:[d.jsx(QZ,{className:"w-4 h-4"}),s&&d.jsx("span",{className:"ml-1.5 text-xs",children:"Erasing"})]}),d.jsx(Qe,{variant:"ghost",size:"sm",className:"h-8 px-2 bg-white/40 text-muted-foreground hover:bg-white/60 backdrop-blur-sm",onClick:Ee,title:"Clear Signature",children:d.jsx(cee,{className:"w-4 h-4"})})]})]}):r==="type"?d.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-5 bg-white",children:[d.jsx(Ni,{placeholder:"Type your full name",value:a,onChange:Ie=>l(Ie.target.value),className:"text-center text-2xl border-0 bg-transparent focus-visible:ring-0 h-auto py-2 text-black",style:{fontFamily:Q.family}}),d.jsx("div",{className:"flex justify-end mt-2",children:d.jsxs(Qe,{type:"button",variant:"ghost",size:"sm",className:"text-xs text-muted-foreground h-6 px-2",onClick:()=>l(new Date().toLocaleDateString(void 0,{dateStyle:"long"})),children:[d.jsx(FB,{className:"w-3 h-3 mr-1.5"}),"Insert Today's Date"]})}),a&&d.jsx("div",{className:"mt-6 pb-4 overflow-x-auto flex justify-center",children:d.jsx("p",{className:"text-center text-black whitespace-nowrap",style:{fontFamily:Q.family,fontSize:`${ce}px`},children:a})}),d.jsxs("div",{className:"flex items-center gap-3 px-2 mt-2",children:[d.jsx("span",{className:"text-xs text-muted-foreground w-12",children:"Size"}),d.jsx("input",{type:"range",min:"24",max:"100",step:"2",value:ce,onChange:Ie=>fe(Number(Ie.target.value)),className:"flex-1 h-1.5 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"}),d.jsxs("span",{className:"text-xs text-muted-foreground w-8 text-right",children:[ce,"px"]})]}),d.jsx("div",{className:"flex flex-wrap justify-center gap-2 mt-4 pt-4 border-t border-border/50",children:h8.map(Ie=>d.jsx(Qe,{type:"button",variant:Q.id===Ie.id?"secondary":"ghost",size:"sm",onClick:()=>ie(Ie),className:"text-lg h-auto py-1 px-3 font-normal",style:{fontFamily:Ie.family},children:"Sign"},Ie.id))})]}):d.jsx("div",{className:`border-2 border-dashed rounded-lg overflow-hidden flex flex-col items-center justify-center min-h-[200px] transition-colors ${M?"border-primary bg-primary/10":"border-border bg-secondary/30"}`,onDragOver:Fe,onDragLeave:Ce,onDrop:Ne,children:B&&f?d.jsxs("div",{className:"w-full h-64 relative bg-black/5",children:[d.jsx("div",{className:"absolute inset-0 bottom-12",children:d.jsx(nge,{image:f,crop:w,zoom:x,aspect:3/1,onCropChange:A,onCropComplete:De,onZoomChange:E})}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-background/90 backdrop-blur flex items-center px-4 gap-4 border-t border-border",children:[d.jsx("span",{className:"text-xs font-medium text-muted-foreground w-12",children:"Zoom"}),d.jsx("input",{type:"range",value:x,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:Ie=>E(Number(Ie.target.value)),className:"flex-1 h-1 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"}),d.jsx(Qe,{size:"sm",className:"h-7 w-7 p-0 rounded-full",onClick:Z,children:d.jsx(D3,{className:"w-4 h-4"})})]})]}):c?d.jsxs("div",{className:"relative w-full flex flex-col items-center justify-center p-4",children:[d.jsx("img",{src:c,alt:"Uploaded signature",className:"max-h-32 object-contain mb-4"}),d.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>V(!0),children:[d.jsx(XZ,{className:"w-3.5 h-3.5 mr-1.5"}),"Crop Again"]})]}):d.jsxs("div",{className:"text-center",children:[d.jsx(Ky,{className:`w-8 h-8 mx-auto mb-2 ${M?"text-primary":"text-muted-foreground"}`}),d.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Click or drag image to upload"}),d.jsx(Ni,{ref:z,type:"file",accept:"image/*",className:"hidden",onChange:Ae}),d.jsx(Qe,{variant:"outline",size:"sm",onClick:()=>{var Ie;return(Ie=z.current)==null?void 0:Ie.click()},children:"Select Image"})]})})]}),d.jsxs("div",{className:"mt-6 flex items-start gap-3 px-1",children:[d.jsx("input",{type:"checkbox",id:"terms",className:"mt-1 h-4 w-4 rounded border-border text-primary focus:ring-primary",checked:h,onChange:Ie=>p(Ie.target.checked)}),d.jsxs("label",{htmlFor:"terms",className:"text-xs text-muted-foreground leading-tight cursor-pointer",children:["I agree to be legally bound by this document and the ",d.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Terms of Service"})," and ",d.jsx("span",{className:"text-primary hover:underline",children:"Electronic Record and Signature Disclosure"}),"."]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-5",children:[d.jsx(gd,{className:"mb-2 block text-sm",children:"Signature"}),d.jsx("div",{className:"border-2 border-border rounded-lg p-5 bg-secondary/30",children:n.signature_type==="draw"||n.signature_type==="upload"?d.jsx("img",{src:n.signature_data,alt:"Signature",className:"max-h-28 mx-auto"}):d.jsx("p",{className:"text-center font-serif text-3xl italic text-foreground py-2",children:n.signature_data})})]}),le&&d.jsxs("div",{className:"mb-5 p-4 bg-secondary/50 rounded-lg border border-border animate-fade-in",children:[d.jsx(gd,{className:"mb-2 block text-sm font-semibold",children:"Invite another person to sign"}),d.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"They will receive a fresh copy of this document to sign."}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(Gy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(Ni,{type:"email",placeholder:"signer@example.com",value:ue,onChange:Ie=>de(Ie.target.value),className:"pl-9 h-9"})]}),d.jsx(Qe,{size:"sm",className:"h-9",onClick:rt,disabled:re,children:re?d.jsx(Ya,{className:"w-4 h-4 animate-spin"}):"Invite"})]})]}),k&&d.jsxs("div",{className:"mb-5 p-4 bg-secondary/50 rounded-lg border border-border animate-fade-in",children:[d.jsx(gd,{className:"mb-2 block text-sm font-semibold",children:"Send a signed copy"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(Gy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(Ni,{type:"email",placeholder:"recipient@example.com",value:P,onChange:Ie=>O(Ie.target.value),className:"pl-9 h-9"})]}),d.jsx(Qe,{size:"sm",className:"h-9",onClick:Re,disabled:L,children:L?d.jsx(Ya,{className:"w-4 h-4 animate-spin"}):"Send"})]})]})]})}),d.jsxs("div",{className:"flex gap-2 px-5 py-4 border-t border-border bg-secondary/30",children:[d.jsx(Qe,{variant:"outline",className:"flex-1 h-9",size:"sm",onClick:e,children:"Cancel"}),n.status==="pending"?d.jsxs(Qe,{className:"flex-1 h-9 bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black",size:"sm",onClick:at,disabled:!h,children:[d.jsx(Rs,{className:"w-3.5 h-3.5 mr-1.5"}),"Sign Document"]}):d.jsxs(d.Fragment,{children:[d.jsxs(Qe,{variant:"outline",className:"flex-1 h-9",size:"sm",onClick:Ye,children:[d.jsx(bN,{className:"w-3.5 h-3.5 mr-1.5"}),"Download"]}),d.jsxs(Qe,{variant:"outline",className:"flex-1 h-9",size:"sm",onClick:()=>{J(!le),j(!1)},children:[d.jsx(qB,{className:"w-3.5 h-3.5 mr-1.5"}),"Invite"]}),d.jsxs(Qe,{className:"flex-1 h-9 bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black",size:"sm",onClick:()=>{j(!k),J(!1)},children:[d.jsx(xN,{className:"w-3.5 h-3.5 mr-1.5"}),"Send Copy"]})]})]})]})})},Kye=D.lazy(()=>Kc(()=>Promise.resolve().then(()=>Pxe),void 0).then(n=>({default:n.PDFViewer}))),Yye=async n=>new Promise((e,t)=>{const r=new FileReader;r.readAsDataURL(n),r.onload=async()=>{try{const i=r.result.split(",")[1],s=ck(),l=(await l5(s,"convertDocument")({file:i,filename:n.name,mimeType:n.type})).data,c=atob(l.pdfBase64),u=new Array(c.length);for(let p=0;p<c.length;p++)u[p]=c.charCodeAt(p);const h=new Uint8Array(u);e(new Blob([h],{type:"application/pdf"}))}catch(i){t(i)}},r.onerror=i=>t(i)}),Xye=()=>{var Ae,Fe;const n=x1(),[e]=QU(),{user:t,userProfile:r,loading:i,signOut:s}=Ab(),[o,a]=D.useState(null),[l,c]=D.useState(null),[u,h]=D.useState([]),[p,f]=D.useState([]),[b,w]=D.useState([]),[A,x]=D.useState([]),[E,S]=D.useState((r==null?void 0:r.documentsSigned)||0),[T,B]=D.useState({total:0,signed:0,pending:0}),[V,M]=D.useState(!0),[N,P]=D.useState(!1),[O,k]=D.useState(!1),[j,L]=D.useState(!1),[W,ue]=D.useState(!1),[de,le]=D.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"light");D.useEffect(()=>{const Ce=window.document.documentElement;Ce.classList.remove("light","dark"),Ce.classList.add(de),localStorage.setItem("theme",de)},[de]),D.useEffect(()=>{!i&&!t&&n("/auth")},[t,i,n]),D.useEffect(()=>{(e.get("payment")==="success"||e.get("reference"))&&xt.success("Payment successful! Your plan has been updated.")},[e]),D.useEffect(()=>{(async()=>{if(t!=null&&t.email)try{const Ne=sM(RE(Al,"documents"),oM("ownerEmail","==",t.email),aM("createdAt","desc")),Z=(await Gme(Ne)).docs.map(Re=>({id:Re.id,...Re.data()})),Oe=Z.length,at=Z.filter(Re=>["signed","completed","Signed"].includes(Re.status)).length,Ye=Oe-at;B({total:Oe,signed:at,pending:Ye}),w(Z.slice(0,5))}catch(Ne){console.error("Error fetching recent docs:",Ne)}finally{M(!1)}})()},[t]),D.useEffect(()=>{if(t!=null&&t.uid){const Ce=uM(hf(Al,"users",t.uid),Ne=>{if(Ne.exists()){const De=Ne.data();S(De.documentsSigned||0)}},Ne=>{console.error("Error listening to usage count:",Ne)});return()=>Ce()}},[t]),D.useEffect(()=>{if(!(t!=null&&t.email))return;const Ce=sM(RE(Al,"notifications"),oM("recipientEmail","==",t.email),aM("createdAt","desc"),qme(10)),Ne=uM(Ce,De=>{const Z=De.docs.map(Oe=>({id:Oe.id,...Oe.data()}));x(Z)},De=>{console.log("Notifications error:",De)});return()=>Ne()},[t]);const J=async()=>{const Ce=e1e(Al),Ne=A.filter(De=>!De.read);if(Ne.length!==0){Ne.forEach(De=>{Ce.update(hf(Al,"notifications",De.id),{read:!0})});try{await Ce.commit(),xt.success("Notifications marked as read")}catch(De){console.error("Error marking read:",De)}}},re=async Ce=>{const Ne=(r==null?void 0:r.plan)==="pro"||(r==null?void 0:r.plan)==="business",De=E||(r==null?void 0:r.documentsSigned)||0;if(!Ne&&De>=3){xt.error("You have reached the limit of 3 free documents. Redirecting to upgrade..."),n("/settings?tab=billing");return}const Z=Ce.type==="application/pdf"||Ce.name.toLowerCase().endsWith(".pdf"),Oe=Ce.name.match(/\.(doc|docx)$/i)||Ce.type==="application/msword"||Ce.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document";if(Z)a(Ce),c(null),h([]),f([]);else if(Oe){const at=xt.loading("Converting Word document to PDF...");try{const Ye=await Yye(Ce),Re=new File([Ye],Ce.name.replace(/\.(doc|docx)$/i,".pdf"),{type:"application/pdf"});a(Re),c(null),h([]),f([]),xt.success("Document converted successfully",{id:at})}catch(Ye){console.error("Conversion error:",Ye),xt.error("Failed to convert document. Please ensure you have a stable connection and try again.",{id:at})}}else xt.error("Unsupported file format. Please upload PDF or Word documents.")},ge=Ce=>{c(Ce),L(!1),xt.success("Signature created! Click on the document to place it.")},ye=Ce=>{h(Ne=>[...Ne,Ce]),xt.success("Signature placed!")},z=Ce=>{h(Ne=>{const De=[...Ne];return De.length>0&&(De[De.length-1]=Ce),De})},Q=async()=>{if(!o||!l||u.length===0){xt.error("Please upload a document and place at least one signature.");return}const Ce=(r==null?void 0:r.plan)==="pro"||(r==null?void 0:r.plan)==="business",Ne=E||(r==null?void 0:r.documentsSigned)||0;if(!Ce&&Ne>=3){xt.error("You have reached the limit of 3 free documents. Redirecting to upgrade..."),n("/settings?tab=billing");return}P(!0);try{const{embedSignatureInPDF:De,downloadPDF:Z}=await Kc(async()=>{const{embedSignatureInPDF:Ye,downloadPDF:Re}=await import("./pdfUtils-B15y1YlI.js");return{embedSignatureInPDF:Ye,downloadPDF:Re}},[]);let Oe=o,at=null;for(const Ye of u)at=await De(Oe,l,Ye),Oe=new File([at],o.name,{type:"application/pdf"});at&&(Z(at,`signed_${o.name}`),xt.success("Signed document downloaded!"),t!=null&&t.uid&&Kme(hf(Al,"users",t.uid),{documentsSigned:Zme(1)},{merge:!0}).then(()=>{}).catch(Ye=>{console.error("Background update failed (non-critical):",Ye)}))}catch(De){console.error("Error downloading PDF:",De),xt.error("Failed to download signed document. Please try again.")}finally{P(!1)}},ie=async()=>{if(!(!o||!l||u.length===0)){k(!0);try{const{embedSignatureInPDF:Ce}=await Kc(async()=>{const{embedSignatureInPDF:Z}=await import("./pdfUtils-B15y1YlI.js");return{embedSignatureInPDF:Z}},[]);let Ne=o,De=null;for(const Z of u)De=await Ce(Ne,l,Z),Ne=new File([De],o.name,{type:"application/pdf"});De&&(a(Ne),c(null),h([]),xt.success("Signatures applied. You can now add another signature."))}catch(Ce){console.error("Error applying signature:",Ce),xt.error("Failed to apply signature.")}finally{k(!1)}}},ce=()=>{a(null),c(null),h([]),f([])},fe=async()=>{await s(),n("/")},he=async()=>{if(!o||p.length===0){xt.error("Please upload a document and add at least one signer.");return}if((r==null?void 0:r.plan)!=="pro"&&(r==null?void 0:r.plan)!=="business"){xt.error("Inviting signers is a Pro feature. Please upgrade your plan.");return}const Ce=async()=>{var Re;const Ne=await o.arrayBuffer(),Z=`data:application/pdf;base64,${btoa(new Uint8Array(Ne).reduce((rt,Ie)=>rt+String.fromCharCode(Ie),""))}`,Oe=await Qme(RE(Al,"documents"),{name:o.name,status:"pending",ownerEmail:t==null?void 0:t.email,createdAt:mC(),updatedAt:mC(),pdfBase64:Z,signers:p.map(rt=>({...rt,status:"pending"})),invitedBy:t==null?void 0:t.uid}),at=ck();await l5(at,"sendSignerInvites")({signers:p,documentName:o.name,uploaderName:((Re=t==null?void 0:t.email)==null?void 0:Re.split("@")[0])||"A user",uploaderEmail:t==null?void 0:t.email,documentId:Oe.id,signingLink:`${window.location.origin}/sign/${Oe.id}`}),B(rt=>({...rt,total:rt.total+1,pending:rt.pending+1}))};xt.promise(Ce(),{loading:"Sending invitations...",success:"Invitations sent successfully!",error:Ne=>(console.error("Firebase function error:",Ne),"Failed to send invitations. Please try again.")})},Ee=()=>{le(Ce=>Ce==="light"?"dark":"light")},xe=async(Ce,Ne)=>{if(Ce.stopPropagation(),window.confirm("Are you sure you want to delete this document?"))try{await Xme(hf(Al,"documents",Ne)),w(De=>De.filter(Z=>Z.id!==Ne)),xt.success("Document deleted successfully")}catch(De){console.error("Error deleting document:",De),xt.error("Failed to delete document")}};return i?d.jsx("div",{className:"min-h-screen gradient-subtle flex items-center justify-center",children:d.jsx(Ya,{className:"w-8 h-8 animate-spin text-primary"})}):d.jsxs("div",{className:"min-h-screen bg-gray-50/50 font-sans text-gray-900",children:[d.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 h-16",children:d.jsxs("div",{className:"container mx-auto px-4 md:px-6 h-full flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Qe,{variant:"ghost",size:"icon",className:"lg:hidden mr-2",onClick:()=>ue(!0),children:d.jsx(l6,{className:"h-5 w-5"})}),d.jsx(so,{className:"h-12 md:h-16 w-auto"})]}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[d.jsx(Qe,{variant:"ghost",size:"sm",onClick:Ee,className:"w-9 h-9 p-0 hidden md:inline-flex",children:de==="light"?d.jsx(aee,{className:"w-5 h-5"}):d.jsx(pee,{className:"w-5 h-5"})}),d.jsxs(yd,{children:[d.jsx(wd,{asChild:!0,children:d.jsx(Qe,{variant:"ghost",size:"icon",className:"w-9 h-9 hidden md:inline-flex",children:d.jsx(Xm,{className:"w-5 h-5"})})}),d.jsxs(Zc,{align:"end",className:"w-56",children:[d.jsx(oi,{asChild:!0,children:d.jsxs("a",{href:"#",className:"cursor-pointer flex items-center",children:[d.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Documentation"]})}),d.jsx(oi,{asChild:!0,children:d.jsxs("a",{href:"#",className:"cursor-pointer flex items-center",children:[d.jsx(see,{className:"w-4 h-4 mr-2"}),"Support"]})}),d.jsx(oi,{asChild:!0,children:d.jsxs("a",{href:"#",className:"cursor-pointer flex items-center",children:[d.jsx(Qm,{className:"w-4 h-4 mr-2"}),"API Reference"]})})]})]}),d.jsxs(yd,{children:[d.jsx(wd,{asChild:!0,children:d.jsxs(Qe,{variant:"ghost",size:"icon",className:"relative w-9 h-9",children:[d.jsx(HZ,{className:"w-5 h-5"}),A.some(Ce=>!Ce.read)&&d.jsx("span",{className:"absolute top-2 right-2.5 h-2 w-2 rounded-full bg-red-500 border border-background"})]})}),d.jsxs(Zc,{align:"end",className:"w-80",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-border/50",children:[d.jsx("span",{className:"font-semibold text-sm",children:"Notifications"}),d.jsx("span",{className:"text-xs text-muted-foreground cursor-pointer hover:text-primary",onClick:J,children:"Mark all as read"})]}),A.length===0?d.jsx("div",{className:"px-4 py-8 text-center text-muted-foreground text-sm",children:"No notifications"}):A.map(Ce=>{var Ne;return d.jsxs(oi,{className:"px-4 py-3 cursor-pointer flex flex-col items-start gap-1",children:[d.jsxs("div",{className:"flex items-center justify-between w-full",children:[d.jsx("span",{className:`font-medium text-sm ${Ce.read?"text-muted-foreground":"text-foreground"}`,children:Ce.title}),d.jsx("span",{className:"text-[10px] text-muted-foreground",children:(Ne=Ce.createdAt)!=null&&Ne.seconds?new Date(Ce.createdAt.seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),d.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:Ce.message||Ce.desc})]},Ce.id)})]})]}),o&&l&&u.length>0&&d.jsxs(Qe,{onClick:Q,disabled:N,className:"gradient-primary text-primary-foreground shadow-soft hover:shadow-medium transition-shadow",children:[N?d.jsx(Ya,{className:"w-4 h-4 mr-2 animate-spin"}):d.jsx(bN,{className:"w-4 h-4 mr-2"}),"Download Signed PDF"]}),o&&d.jsxs(Qe,{variant:"outline",onClick:ce,children:[d.jsx(lee,{className:"w-4 h-4 mr-2"}),"Start Over"]}),d.jsxs(yd,{children:[d.jsx(wd,{asChild:!0,children:d.jsxs(Qe,{variant:"ghost",className:"flex items-center gap-2 pl-0 hover:bg-transparent md:hover:bg-accent",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center overflow-hidden border border-border ml-2",children:t!=null&&t.photoURL?d.jsx("img",{src:t.photoURL,alt:"User",className:"w-full h-full object-cover"}):d.jsx("span",{className:"font-medium text-xs text-accent-foreground",children:(Ae=t==null?void 0:t.email)==null?void 0:Ae.substring(0,2).toUpperCase()})}),d.jsx("span",{className:"hidden md:inline text-sm font-medium",children:(t==null?void 0:t.displayName)||((Fe=t==null?void 0:t.email)==null?void 0:Fe.split("@")[0])}),d.jsx(pa,{className:"w-4 h-4"})]})}),d.jsxs(Zc,{align:"end",className:"w-56",children:[d.jsx("div",{className:"px-2 py-1.5",children:d.jsx("p",{className:"text-sm font-medium",children:t==null?void 0:t.email})}),d.jsx(lz,{}),d.jsxs(oi,{onClick:fe,className:"text-destructive",children:[d.jsx(iee,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]})]})}),W&&d.jsx("div",{className:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm lg:hidden",onClick:()=>ue(!1),children:d.jsxs("div",{className:"fixed inset-y-0 left-0 z-50 w-64 border-r bg-white p-6 shadow-lg animate-in slide-in-from-left",onClick:Ce=>Ce.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsx(so,{className:"h-8 w-auto"}),d.jsx(Qe,{variant:"ghost",size:"icon",onClick:()=>ue(!1),children:d.jsx(Xa,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"space-y-1",children:d.jsx(Qe,{variant:"secondary",className:"w-full justify-start",asChild:!0,onClick:()=>ue(!1),children:d.jsxs(Ze,{to:"/dashboard",children:[d.jsx(zP,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})}),d.jsx("div",{className:"mt-auto pt-8",children:d.jsxs(xc,{children:[d.jsx(Ap,{className:"p-4 pb-2",children:d.jsxs(Ep,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(j3,{className:"h-4 w-4 text-primary"}),(r==null?void 0:r.plan)==="business"?"Business":(r==null?void 0:r.plan)==="pro"?"Pro Plan":"Free Plan"]})}),d.jsxs(_c,{className:"p-4 pt-2",children:[((r==null?void 0:r.plan)==="free"||!(r!=null&&r.plan))&&d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex justify-between text-xs font-medium mb-1",children:[d.jsx("span",{children:"Free Usage"}),d.jsxs("span",{children:[E||(r==null?void 0:r.documentsSigned)||0,"/3 used"]})]}),d.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-[#FFC83D] transition-all duration-500 ease-out",style:{width:`${Math.min((E||(r==null?void 0:r.documentsSigned)||0)/3*100,100)}%`}})})]}),d.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:(r==null?void 0:r.plan)==="free"||!(r!=null&&r.plan)?"Upgrade to unlock unlimited documents.":"Your plan is active."})]})]})})]})}),d.jsxs("div",{className:"container mx-auto px-4 md:px-6 py-8 flex items-start gap-8",children:[!o&&d.jsxs("aside",{className:"hidden lg:block w-64 shrink-0 space-y-6 sticky top-24 text-sm",children:[d.jsx("div",{className:"space-y-1",children:d.jsx(Qe,{variant:"secondary",className:"w-full justify-start",asChild:!0,children:d.jsxs(Ze,{to:"/dashboard",children:[d.jsx(zP,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})}),d.jsxs(xc,{className:"bg-white shadow-sm border-gray-200",children:[d.jsx(Ap,{className:"p-4 pb-2",children:d.jsxs(Ep,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(j3,{className:"h-4 w-4 text-primary"}),(r==null?void 0:r.plan)==="business"?"Business":(r==null?void 0:r.plan)==="pro"?"Pro Plan":"Free Plan"]})}),d.jsxs(_c,{className:"p-4 pt-2",children:[((r==null?void 0:r.plan)==="free"||!(r!=null&&r.plan))&&d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex justify-between text-xs font-medium mb-1",children:[d.jsx("span",{children:"Free Usage"}),d.jsxs("span",{children:[E||(r==null?void 0:r.documentsSigned)||0,"/3 used"]})]}),d.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-[#FFC83D] transition-all duration-500 ease-out",style:{width:`${Math.min((E||(r==null?void 0:r.documentsSigned)||0)/3*100,100)}%`}})})]}),d.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:(r==null?void 0:r.plan)==="free"||!(r!=null&&r.plan)?"Upgrade to unlock unlimited documents.":"Your plan is active."})]})]})]}),d.jsx("main",{className:"flex-1 min-w-0",children:o?d.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs("div",{className:"gradient-card rounded-2xl border border-border/50 shadow-soft overflow-hidden",children:[d.jsx("div",{className:"p-4 border-b border-border/50 bg-muted/30",children:d.jsxs("h2",{className:"font-display font-semibold flex items-center gap-2",children:[d.jsx(eee,{className:"w-5 h-5 text-primary"}),o.name]})}),d.jsx("div",{className:"p-4",children:d.jsx(D.Suspense,{fallback:d.jsx("div",{className:"h-[600px] flex items-center justify-center bg-muted/10 rounded-lg",children:d.jsx(Ya,{className:"w-8 h-8 animate-spin text-primary"})}),children:d.jsx(Kye,{file:o,signatureImage:l,signaturePositions:u,signaturePosition:u.length>0?u[u.length-1]:null,onSignaturePlace:ye,onSignatureMove:z})})})]})}),d.jsx("div",{className:"lg:col-span-1",children:d.jsx("div",{className:"sticky top-24",children:d.jsx(xc,{className:"border-border/60 shadow-sm",children:d.jsxs(_c,{className:"p-6 space-y-6",children:[d.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[d.jsx(Rs,{className:"w-4 h-4"})," Signature Tools"]}),d.jsxs(Qe,{onClick:()=>L(!0),className:"w-full",variant:"outline",children:[d.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Create Signature"]}),u.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs(Qe,{className:"w-full mb-2 bg-green-600 hover:bg-green-700 text-white",onClick:ie,disabled:O,children:[O?d.jsx(Ya,{className:"w-4 h-4 mr-2 animate-spin"}):d.jsx(Ka,{className:"w-4 h-4 mr-2"}),"Apply & Add Another"]}),d.jsx(Qe,{variant:"ghost",className:"w-full text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>{h([]),xt.info("All signature placements have been cleared.")},children:"Clear All Placements"})]}),d.jsx(rH,{}),d.jsx(m1e,{signers:p,setSigners:f,onSendInvites:he})]})})})})]}):d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Dashboard"}),d.jsx("p",{className:"text-gray-500",children:"Manage your documents and signatures."})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs(Qe,{variant:"outline",className:"bg-white",children:[d.jsx(dee,{className:"w-4 h-4 mr-2"})," Settings"]}),d.jsx("label",{htmlFor:"new-doc-upload-input",className:"cursor-pointer",children:d.jsxs(Qe,{className:"bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black font-medium pointer-events-none",children:[d.jsx(Rs,{className:"w-4 h-4 mr-2"}),"New Document"]})}),d.jsx("input",{id:"new-doc-upload-input",type:"file",className:"hidden",accept:".pdf,.doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:Ce=>{Ce.target.files&&Ce.target.files[0]&&re(Ce.target.files[0])}})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs(xc,{className:"bg-white shadow-sm border-gray-200",children:[d.jsxs(Ap,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Ep,{className:"text-sm font-medium text-gray-600",children:"Total Documents"}),d.jsx(Qs,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(_c,{children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:T.total}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All documents"})]})]}),d.jsxs(xc,{className:"bg-white shadow-sm border-gray-200",children:[d.jsxs(Ap,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Ep,{className:"text-sm font-medium text-gray-600",children:"Signed"}),d.jsx(Ka,{className:"h-4 w-4 text-green-500"})]}),d.jsxs(_c,{children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:T.signed}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Completed documents"})]})]}),d.jsxs(xc,{className:"bg-white shadow-sm border-gray-200",children:[d.jsxs(Ap,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Ep,{className:"text-sm font-medium text-gray-600",children:"Pending"}),d.jsx(BB,{className:"h-4 w-4 text-orange-500"})]}),d.jsxs(_c,{children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:T.pending}),d.jsx("p",{className:"text-xs text-orange-600 font-medium mt-1",children:"Action required"})]})]})]}),d.jsx(xc,{className:"border-dashed border-2 border-gray-200 bg-gray-50/50 hover:bg-gray-50 transition-colors shadow-none",children:d.jsx(_c,{className:"pt-6",children:d.jsx(p1e,{onFileSelect:re,currentFile:o,accept:".pdf,.doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"})})}),d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"px-4 md:px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[d.jsxs("h2",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[d.jsx(UB,{className:"w-4 h-4 text-gray-500"}),"Recent Documents"]}),d.jsx(Qe,{variant:"ghost",size:"sm",className:"text-primary h-8 text-xs",children:"View All"})]}),d.jsx("div",{className:"divide-y divide-gray-100",children:V?d.jsx("div",{className:"flex justify-center py-8",children:d.jsx(Ya,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):b.length===0?d.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[d.jsx(Qs,{className:"w-10 h-10 mx-auto mb-3 text-gray-300"}),d.jsx("p",{children:"No recent documents found"})]}):b.map(Ce=>{var Ne;return d.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50 transition-colors group cursor-pointer",children:[d.jsxs("div",{className:"flex items-center gap-3 md:gap-4 min-w-0 flex-1",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center shrink-0",children:d.jsx(Qs,{className:"w-5 h-5 text-blue-600"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("h3",{className:"font-medium text-gray-900 truncate",children:Ce.name}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[d.jsx("span",{children:(Ne=Ce.createdAt)!=null&&Ne.seconds?new Date(Ce.createdAt.seconds*1e3).toLocaleDateString():"Unknown date"}),d.jsx("span",{children:""}),d.jsx("span",{children:Ce.ownerEmail})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-4 pl-2",children:[d.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${Ce.status==="Signed"||Ce.status==="completed"?"bg-green-500/10 text-green-500":Ce.status==="Pending"||Ce.status==="pending"?"bg-orange-500/10 text-orange-600":"bg-gray-100 text-gray-600"}`,children:Ce.status||"Draft"}),d.jsx(Qe,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-red-600 hover:bg-red-50",onClick:De=>xe(De,Ce.id),children:d.jsx(mee,{className:"w-4 h-4"})})]})]},Ce.id)})})]})]})})]}),j&&o&&d.jsx(VW,{document:{id:"temp",name:o.name,status:"pending",signature_data:null,signature_type:null},onClose:()=>L(!1),onSave:ge})]})},Qye=()=>{const n=Ud();return D.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Jye=()=>{const{user:n,loading:e}=Ab(),t=Ud();return e?d.jsx("div",{children:"Loading..."}):n?d.jsx(Mie,{}):d.jsx(Lie,{to:"/auth",state:{from:t},replace:!0})};var Cy={};Cy.d=(n,e)=>{for(var t in e)Cy.o(e,t)&&!Cy.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Cy.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Yt=globalThis.pdfjsLib={};Cy.d(Yt,{AbortException:()=>I1,AnnotationEditorLayer:()=>sT,AnnotationEditorParamsType:()=>Ht,AnnotationEditorType:()=>rn,AnnotationEditorUIManager:()=>d1,AnnotationLayer:()=>Xwe,AnnotationMode:()=>Nh,ColorPicker:()=>__,DOMSVGFactory:()=>P9,DrawLayer:()=>cT,FeatureTest:()=>no,GlobalWorkerOptions:()=>dd,ImageKind:()=>L4,InvalidPDFException:()=>$W,MissingPDFException:()=>k1,OPS:()=>El,OutputScale:()=>JC,PDFDataRangeTransport:()=>BG,PDFDateString:()=>E9,PDFWorker:()=>Wg,PasswordResponses:()=>n5e,PermissionFlag:()=>t5e,PixelsPerInch:()=>Uf,RenderingCancelledException:()=>_9,TextLayer:()=>C7,UnexpectedResponseException:()=>sA,Util:()=>At,VerbosityLevel:()=>nA,XfaLayer:()=>VG,build:()=>Iwe,createValidAbsoluteUrl:()=>o5e,fetchData:()=>aA,getDocument:()=>xwe,getFilenameFromUrl:()=>m5e,getPdfFilenameFromUrl:()=>g5e,getXfaPageViewport:()=>v5e,isDataScheme:()=>lA,isPdfFile:()=>A9,noContextMenu:()=>ll,normalizeUnicode:()=>h5e,setLayerDimensions:()=>u1,shadow:()=>xn,version:()=>kwe});const Ds=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),zW=[1,0,0,1,0,0],KC=[.001,0,0,.001,0,0],Zye=1e7,f8=1.35,ca={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Nh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},e5e="pdfjs_internal_editor_",rn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Ht={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},t5e={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},As={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},L4={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ai={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Tv={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},nA={ERRORS:0,WARNINGS:1,INFOS:5},El={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},n5e={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let rA=nA.WARNINGS;function r5e(n){Number.isInteger(n)&&(rA=n)}function i5e(){return rA}function iA(n){rA>=nA.INFOS&&console.log(`Info: ${n}`)}function ln(n){rA>=nA.WARNINGS&&console.log(`Warning: ${n}`)}function gr(n){throw new Error(n)}function ki(n,e){n||gr(e)}function s5e(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function o5e(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=d5e(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(s5e(r))return r}catch{}return null}function xn(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Qf=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class YC extends Qf{constructor(e,t){super(e,"PasswordException"),this.code=t}}class XC extends Qf{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class $W extends Qf{constructor(e){super(e,"InvalidPDFException")}}class k1 extends Qf{constructor(e){super(e,"MissingPDFException")}}class sA extends Qf{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class a5e extends Qf{constructor(e){super(e,"FormatError")}}class I1 extends Qf{constructor(e){super(e,"AbortException")}}function qW(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&gr("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function oA(n){typeof n!="string"&&gr("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function l5e(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function b9(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function c5e(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function u5e(){try{return new Function(""),!0}catch{return!1}}class no{static get isLittleEndian(){return xn(this,"isLittleEndian",c5e())}static get isEvalSupported(){return xn(this,"isEvalSupported",u5e())}static get isOffscreenCanvasSupported(){return xn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?xn(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):xn(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return xn(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const p8=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Ad,M4,QC;class At{static makeHexColor(e,t,r){return`#${p8[e]}${p8[t]}${p8[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(r+o)/2,l=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,c=a+l||1,u=a-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,t,r,i,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],G(this,Ad,QC).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),c),G(this,Ad,QC).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),c),c}}Ad=new WeakSet,M4=function(e,t,r,i,s,o,a,l,c,u){if(c<=0||c>=1)return;const h=1-c,p=c*c,f=p*c,b=h*(h*(h*e+3*c*t)+3*p*r)+f*i,w=h*(h*(h*s+3*c*o)+3*p*a)+f*l;u[0]=Math.min(u[0],b),u[1]=Math.min(u[1],w),u[2]=Math.max(u[2],b),u[3]=Math.max(u[3],w)},QC=function(e,t,r,i,s,o,a,l,c,u,h,p){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&G(this,Ad,M4).call(this,e,t,r,i,s,o,a,l,-h/u,p);return}const f=u**2-4*h*c;if(f<0)return;const b=Math.sqrt(f),w=2*c;G(this,Ad,M4).call(this,e,t,r,i,s,o,a,l,(-u+b)/w,p),G(this,Ad,M4).call(this,e,t,r,i,s,o,a,l,(-u-b)/w,p)},Y(At,Ad);function d5e(n){return decodeURIComponent(escape(n))}let m8=null,YD=null;function h5e(n){return m8||(m8=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,YD=new Map([["","t"]])),n.replaceAll(m8,(e,t,r)=>t?t.normalize("NFKC"):YD.get(r))}function f5e(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return qW(n)}const x9="pdfjs_internal_id_",ku={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function p5e(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(qW(n))}const Ru="http://www.w3.org/2000/svg",Tp=class Tp{};nt(Tp,"CSS",96),nt(Tp,"PDF",72),nt(Tp,"PDF_TO_CSS_UNITS",Tp.CSS/Tp.PDF);let Uf=Tp;async function aA(n,e="text"){if($v(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Ib{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,h,p;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,u=0,h=0,p=1;break;case 90:c=0,u=1,h=1,p=0;break;case 270:c=0,u=-1,h=-1,p=0;break;case 0:c=1,u=0,h=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,p=-p);let f,b,w,A;c===0?(f=Math.abs(l-e[1])*t+i,b=Math.abs(a-e[0])*t+s,w=(e[3]-e[1])*t,A=(e[2]-e[0])*t):(f=Math.abs(a-e[0])*t+i,b=Math.abs(l-e[1])*t+s,w=(e[2]-e[0])*t,A=(e[3]-e[1])*t),this.transform=[c*t,u*t,h*t,p*t,f-c*t*a-h*t*l,b-u*t*a-p*t*l],this.width=w,this.height=A}get rawDims(){const{viewBox:e}=this;return xn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Ib({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return At.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=At.applyTransform([e[0],e[1]],this.transform),r=At.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return At.applyInverseTransform([e,t],this.transform)}}class _9 extends Qf{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function lA(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function A9(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function m5e(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function g5e(n,e="document.pdf"){if(typeof n!="string")return e;if(lA(n))return ln('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class XD{constructor(){nt(this,"started",Object.create(null));nt(this,"times",[])}time(e){e in this.started&&ln(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ln(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function $v(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function ll(n){n.preventDefault()}function QD(n){console.log("Deprecated API usage: "+n)}var P5;class E9{static toDateObject(e){if(!e||typeof e!="string")return null;m(this,P5)||$(this,P5,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=m(this,P5).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(o+=u,a+=h):c==="+"&&(o-=u,a-=h),new Date(Date.UTC(r,i,s,o,a,l))}}P5=new WeakMap,Y(E9,P5);function v5e(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Ib({viewBox:s,scale:e,rotation:t})}function S9(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ln(`Not a valid color format: "${n}"`),[0,0,0])}function y5e(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,S9(r))}e.remove()}function Mr(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function Iu(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function u1(n,e,t=!1,r=!0){if(e instanceof Ib){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=no.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${s}px`,u=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,h=a?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!t||e.rotation%180===0?(o.width=u,o.height=h):(o.width=h,o.height=u)}r&&n.setAttribute("data-main-rotation",e.rotation)}class JC{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Mh,Hp,Tl,Wp,R5,L5,E_,HW,ro,WW,GW,D4,KW,e7;const Mu=class Mu{constructor(e){Y(this,ro);Y(this,Mh,null);Y(this,Hp,null);Y(this,Tl);Y(this,Wp,null);Y(this,R5,null);$(this,Tl,e),m(Mu,L5)||$(Mu,L5,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=$(this,Mh,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=m(this,Tl)._uiManager._signal;e.addEventListener("contextmenu",ll,{signal:t}),e.addEventListener("pointerdown",G(Mu,E_,HW),{signal:t});const r=$(this,Wp,document.createElement("div"));r.className="buttons",e.append(r);const i=m(this,Tl).toolbarPosition;if(i){const{style:s}=e,o=m(this,Tl)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return G(this,ro,KW).call(this),e}get div(){return m(this,Mh)}hide(){var e;m(this,Mh).classList.add("hidden"),(e=m(this,Hp))==null||e.hideDropdown()}show(){var e;m(this,Mh).classList.remove("hidden"),(e=m(this,R5))==null||e.shown()}async addAltText(e){const t=await e.render();G(this,ro,D4).call(this,t),m(this,Wp).prepend(t,m(this,ro,e7)),$(this,R5,e)}addColorPicker(e){$(this,Hp,e);const t=e.renderButton();G(this,ro,D4).call(this,t),m(this,Wp).prepend(t,m(this,ro,e7))}remove(){var e;m(this,Mh).remove(),(e=m(this,Hp))==null||e.destroy(),$(this,Hp,null)}};Mh=new WeakMap,Hp=new WeakMap,Tl=new WeakMap,Wp=new WeakMap,R5=new WeakMap,L5=new WeakMap,E_=new WeakSet,HW=function(e){e.stopPropagation()},ro=new WeakSet,WW=function(e){m(this,Tl)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},GW=function(e){m(this,Tl)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},D4=function(e){const t=m(this,Tl)._uiManager._signal;e.addEventListener("focusin",G(this,ro,WW).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",G(this,ro,GW).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ll,{signal:t})},KW=function(){const{editorType:e,_uiManager:t}=m(this,Tl),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",m(Mu,L5)[e]),G(this,ro,D4).call(this,r),r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),m(this,Wp).append(r)},e7=function(){const e=document.createElement("div");return e.className="divider",e},Y(Mu,E_),Y(Mu,L5,null);let ZC=Mu;var M5,Gp,Kp,zf,YW,XW,QW;class w5e{constructor(e){Y(this,zf);Y(this,M5,null);Y(this,Gp,null);Y(this,Kp);$(this,Kp,e)}show(e,t,r){const[i,s]=G(this,zf,XW).call(this,t,r),{style:o}=m(this,Gp)||$(this,Gp,G(this,zf,YW).call(this));e.append(m(this,Gp)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,Gp).remove()}}M5=new WeakMap,Gp=new WeakMap,Kp=new WeakMap,zf=new WeakSet,YW=function(){const e=$(this,Gp,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ll,{signal:m(this,Kp)._signal});const t=$(this,M5,document.createElement("div"));return t.className="buttons",e.append(t),G(this,zf,QW).call(this),e},XW=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},QW=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=m(this,Kp)._signal;e.addEventListener("contextmenu",ll,{signal:r}),e.addEventListener("click",()=>{m(this,Kp).highlightSelection("floating_button")},{signal:r}),m(this,M5).append(e)};function w_(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function b5e(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var S_;class x5e{constructor(){Y(this,S_,0)}get id(){return`${e5e}${Di(this,S_)._++}`}}S_=new WeakMap;var r0,D5,Cs,i0,j4;const O9=class O9{constructor(){Y(this,i0);Y(this,r0,f5e());Y(this,D5,0);Y(this,Cs,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return xn(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return G(this,i0,j4).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return G(this,i0,j4).call(this,e,e)}async getFromBlob(e,t){const r=await t;return G(this,i0,j4).call(this,e,r)}async getFromId(e){m(this,Cs)||$(this,Cs,new Map);const t=m(this,Cs).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){m(this,Cs)||$(this,Cs,new Map);let r=m(this,Cs).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${m(this,r0)}_${Di(this,D5)._++}`,refCounter:1,isSvg:!1},m(this,Cs).set(e,r),m(this,Cs).set(r.id,r),r}getSvgUrl(e){const t=m(this,Cs).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;m(this,Cs)||$(this,Cs,new Map);const t=m(this,Cs).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${m(this,r0)}_`)}};r0=new WeakMap,D5=new WeakMap,Cs=new WeakMap,i0=new WeakSet,j4=async function(e,t){m(this,Cs)||$(this,Cs,new Map);let r=m(this,Cs).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${m(this,r0)}_${Di(this,D5)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await aA(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=O9._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},o.onload=async()=>{const h=r.svgUrl=o.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=u});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return m(this,Cs).set(e,r),r&&m(this,Cs).set(r.id,r),r};let t7=O9;var Oi,Dh,j5,Fi;class _5e{constructor(e=128){Y(this,Oi,[]);Y(this,Dh,!1);Y(this,j5);Y(this,Fi,-1);$(this,j5,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),m(this,Dh))return;const l={cmd:e,undo:t,post:r,type:s};if(m(this,Fi)===-1){m(this,Oi).length>0&&(m(this,Oi).length=0),$(this,Fi,0),m(this,Oi).push(l);return}if(o&&m(this,Oi)[m(this,Fi)].type===s){a&&(l.undo=m(this,Oi)[m(this,Fi)].undo),m(this,Oi)[m(this,Fi)]=l;return}const c=m(this,Fi)+1;c===m(this,j5)?m(this,Oi).splice(0,1):($(this,Fi,c),c<m(this,Oi).length&&m(this,Oi).splice(c)),m(this,Oi).push(l)}undo(){if(m(this,Fi)===-1)return;$(this,Dh,!0);const{undo:e,post:t}=m(this,Oi)[m(this,Fi)];e(),t==null||t(),$(this,Dh,!1),$(this,Fi,m(this,Fi)-1)}redo(){if(m(this,Fi)<m(this,Oi).length-1){$(this,Fi,m(this,Fi)+1),$(this,Dh,!0);const{cmd:e,post:t}=m(this,Oi)[m(this,Fi)];e(),t==null||t(),$(this,Dh,!1)}}hasSomethingToUndo(){return m(this,Fi)!==-1}hasSomethingToRedo(){return m(this,Fi)<m(this,Oi).length-1}destroy(){$(this,Oi,null)}}Oi=new WeakMap,Dh=new WeakMap,j5=new WeakMap,Fi=new WeakMap;var C_,JW;class Pb{constructor(e){Y(this,C_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=no.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(G(this,C_,JW).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}C_=new WeakSet,JW=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const T_=class T_{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return y5e(e),xn(this,"_colors",e)}convert(e){const t=S9(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return T_._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?At.makeHexColor(...t):e}};nt(T_,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let n7=T_;var s0,ta,Ei,es,o0,Uu,a0,Nl,jh,l0,Yp,Cc,kl,Xp,O5,F5,c0,B5,Tc,Oh,u0,Fh,Nc,N_,Bh,U5,Uh,Qp,V5,z5,Bi,$n,Vu,Jp,$5,q5,Vh,kc,zu,H5,Va,et,O4,r7,ZW,eG,F4,tG,nG,rG,i7,iG,s7,o7,sG,Hs,yh,oG,aG,a7,lG,qv,l7;const Sg=class Sg{constructor(e,t,r,i,s,o,a,l,c,u,h){Y(this,et);Y(this,s0,new AbortController);Y(this,ta,null);Y(this,Ei,new Map);Y(this,es,new Map);Y(this,o0,null);Y(this,Uu,null);Y(this,a0,null);Y(this,Nl,new _5e);Y(this,jh,null);Y(this,l0,0);Y(this,Yp,new Set);Y(this,Cc,null);Y(this,kl,null);Y(this,Xp,new Set);Y(this,O5,!1);Y(this,F5,!1);Y(this,c0,!1);Y(this,B5,null);Y(this,Tc,null);Y(this,Oh,null);Y(this,u0,null);Y(this,Fh,!1);Y(this,Nc,null);Y(this,N_,new x5e);Y(this,Bh,!1);Y(this,U5,!1);Y(this,Uh,null);Y(this,Qp,null);Y(this,V5,null);Y(this,z5,null);Y(this,Bi,rn.NONE);Y(this,$n,new Set);Y(this,Vu,null);Y(this,Jp,null);Y(this,$5,null);Y(this,q5,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Y(this,Vh,[0,0]);Y(this,kc,null);Y(this,zu,null);Y(this,H5,null);Y(this,Va,null);const p=this._signal=m(this,s0).signal;$(this,zu,e),$(this,H5,t),$(this,o0,r),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:p}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),i._on("setpreference",this.onSetPreference.bind(this),{signal:p}),i._on("switchannotationeditorparams",f=>this.updateParams(f.type,f.value),{signal:p}),G(this,et,tG).call(this),G(this,et,sG).call(this),G(this,et,i7).call(this),$(this,Uu,s.annotationStorage),$(this,B5,s.filterFactory),$(this,Jp,o),$(this,u0,a||null),$(this,O5,l),$(this,F5,c),$(this,c0,u),$(this,z5,h||null),this.viewParameters={realScale:Uf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Sg.prototype,t=o=>m(o,zu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return xn(this,"_keyboardManager",new Pb([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&m(o,zu).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&m(o,zu).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i;(e=m(this,Va))==null||e.resolve(),$(this,Va,null),(t=m(this,s0))==null||t.abort(),$(this,s0,null),this._signal=null;for(const s of m(this,es).values())s.destroy();m(this,es).clear(),m(this,Ei).clear(),m(this,Xp).clear(),$(this,ta,null),m(this,$n).clear(),m(this,Nl).destroy(),(r=m(this,o0))==null||r.destroy(),(i=m(this,Nc))==null||i.hide(),$(this,Nc,null),m(this,Tc)&&(clearTimeout(m(this,Tc)),$(this,Tc,null)),m(this,kc)&&(clearTimeout(m(this,kc)),$(this,kc,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return m(this,z5)}get useNewAltTextFlow(){return m(this,F5)}get useNewAltTextWhenAddingImage(){return m(this,c0)}get hcmFilter(){return xn(this,"hcmFilter",m(this,Jp)?m(this,B5).addHCMFilter(m(this,Jp).foreground,m(this,Jp).background):"none")}get direction(){return xn(this,"direction",getComputedStyle(m(this,zu)).direction)}get highlightColors(){return xn(this,"highlightColors",m(this,u0)?new Map(m(this,u0).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return xn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){$(this,V5,e)}editAltText(e,t=!1){var r;(r=m(this,o0))==null||r.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":$(this,c0,t);break}}onPageChanging({pageNumber:e}){$(this,l0,e-1)}focusMainContainer(){m(this,zu).focus()}findParent(e,t){for(const r of m(this,es).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){m(this,H5).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,Xp).add(e)}removeShouldRescale(e){m(this,Xp).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Uf.PDF_TO_CSS_UNITS;for(const t of m(this,Xp))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),c=G(this,et,O4).call(this,t).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;t.empty();const h=G(this,et,r7).call(this,c),p=m(this,Bi)===rn.NONE,f=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a}),p&&this.showAllEditors("highlight",!0,!0)};if(p){this.switchToMode(rn.HIGHLIGHT,f);return}f()}addToAnnotationStorage(e){!e.isEmpty()&&m(this,Uu)&&!m(this,Uu).has(e.id)&&m(this,Uu).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,m(this,Fh)&&($(this,Fh,!1),G(this,et,F4).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of m(this,$n))if(t.div.contains(e)){$(this,Qp,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!m(this,Qp))return;const[e,t]=m(this,Qp);$(this,Qp,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){G(this,et,i7).call(this),G(this,et,s7).call(this)}removeEditListeners(){G(this,et,iG).call(this),G(this,et,o7).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of m(this,kl))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of m(this,kl))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=m(this,ta))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of m(this,$n)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of m(this,kl))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){ln(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)G(this,et,a7).call(this,l);G(this,et,l7).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){ln(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,Bi)!==rn.NONE&&!this.isEditorHandlingKeyboard&&Sg._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,Fh)&&($(this,Fh,!1),G(this,et,F4).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(G(this,et,nG).call(this),G(this,et,s7).call(this),G(this,et,Hs).call(this,{isEditing:m(this,Bi)!==rn.NONE,isEmpty:G(this,et,qv).call(this),hasSomethingToUndo:m(this,Nl).hasSomethingToUndo(),hasSomethingToRedo:m(this,Nl).hasSomethingToRedo(),hasSelectedEditor:!1})):(G(this,et,rG).call(this),G(this,et,o7).call(this),G(this,et,Hs).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,kl)){$(this,kl,e);for(const t of m(this,kl))G(this,et,yh).call(this,t.defaultPropertiesToUpdate)}}getId(){return m(this,N_).id}get currentLayer(){return m(this,es).get(m(this,l0))}getLayer(e){return m(this,es).get(e)}get currentPageIndex(){return m(this,l0)}addLayer(e){m(this,es).set(e.pageIndex,e),m(this,Bh)?e.enable():e.disable()}removeLayer(e){m(this,es).delete(e.pageIndex)}async updateMode(e,t=null,r=!1){if(m(this,Bi)!==e&&!(m(this,Va)&&(await m(this,Va).promise,!m(this,Va)))){if($(this,Va,Promise.withResolvers()),$(this,Bi,e),e===rn.NONE){this.setEditingState(!1),G(this,et,aG).call(this),m(this,Va).resolve();return}this.setEditingState(!0),await G(this,et,oG).call(this),this.unselectAll();for(const i of m(this,es).values())i.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),m(this,Va).resolve();return}for(const i of m(this,Ei).values())i.annotationElementId===t?(this.setSelected(i),i.enterInEditMode()):i.unselect();m(this,Va).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==m(this,Bi)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(m(this,kl)){switch(e){case Ht.CREATE:this.currentLayer.addNewEditor();return;case Ht.HIGHLIGHT_DEFAULT_COLOR:(r=m(this,V5))==null||r.updateColor(t);break;case Ht.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,$5)||$(this,$5,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of m(this,$n))i.updateParams(e,t);for(const i of m(this,kl))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of m(this,Ei).values())o.editorType===e&&o.show(t);(((s=m(this,$5))==null?void 0:s.get(Ht.HIGHLIGHT_SHOW_ALL))??!0)!==t&&G(this,et,yh).call(this,[[Ht.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(m(this,U5)!==e){$(this,U5,e);for(const t of m(this,es).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of m(this,Ei).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return m(this,Ei).get(e)}addEditor(e){m(this,Ei).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(m(this,Tc)&&clearTimeout(m(this,Tc)),$(this,Tc,setTimeout(()=>{this.focusMainContainer(),$(this,Tc,null)},0))),m(this,Ei).delete(e.id),this.unselect(e),(!e.annotationElementId||!m(this,Yp).has(e.annotationElementId))&&((t=m(this,Uu))==null||t.remove(e.id))}addDeletedAnnotationElement(e){m(this,Yp).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,Yp).has(e)}removeDeletedAnnotationElement(e){m(this,Yp).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,ta)!==e&&($(this,ta,e),e&&G(this,et,yh).call(this,e.propertiesToUpdate))}updateUI(e){m(this,et,lG)===e&&G(this,et,yh).call(this,e.propertiesToUpdate)}toggleSelected(e){if(m(this,$n).has(e)){m(this,$n).delete(e),e.unselect(),G(this,et,Hs).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,$n).add(e),e.select(),G(this,et,yh).call(this,e.propertiesToUpdate),G(this,et,Hs).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of m(this,$n))t!==e&&t.unselect();m(this,$n).clear(),m(this,$n).add(e),e.select(),G(this,et,yh).call(this,e.propertiesToUpdate),G(this,et,Hs).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,$n).has(e)}get firstSelectedEditor(){return m(this,$n).values().next().value}unselect(e){e.unselect(),m(this,$n).delete(e),G(this,et,Hs).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,$n).size!==0}get isEnterHandled(){return m(this,$n).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){m(this,Nl).undo(),G(this,et,Hs).call(this,{hasSomethingToUndo:m(this,Nl).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:G(this,et,qv).call(this)})}redo(){m(this,Nl).redo(),G(this,et,Hs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,Nl).hasSomethingToRedo(),isEmpty:G(this,et,qv).call(this)})}addCommands(e){m(this,Nl).add(e),G(this,et,Hs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:G(this,et,qv).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...m(this,$n)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)G(this,et,a7).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=m(this,ta))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,ta)||this.hasSelection}selectAll(){for(const e of m(this,$n))e.commit();G(this,et,l7).call(this,m(this,Ei).values())}unselectAll(){if(!(m(this,ta)&&(m(this,ta).commitOrRemove(),m(this,Bi)!==rn.NONE))&&this.hasSelection){for(const e of m(this,$n))e.unselect();m(this,$n).clear(),G(this,et,Hs).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;m(this,Vh)[0]+=e,m(this,Vh)[1]+=t;const[i,s]=m(this,Vh),o=[...m(this,$n)],a=1e3;m(this,kc)&&clearTimeout(m(this,kc)),$(this,kc,setTimeout(()=>{$(this,kc,null),m(this,Vh)[0]=m(this,Vh)[1]=0,this.addCommands({cmd:()=>{for(const l of o)m(this,Ei).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of o)m(this,Ei).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),$(this,Cc,new Map);for(const e of m(this,$n))m(this,Cc).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,Cc))return!1;this.disableUserSelect(!1);const e=m(this,Cc);$(this,Cc,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(m(this,Ei).has(i.id)){const l=m(this,es).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(m(this,Cc))for(const r of m(this,Cc).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,$n).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,ta)===e}getActive(){return m(this,ta)}getMode(){return m(this,Bi)}get imageManager(){return xn(this,"imageManager",new t7)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,u,h,p)=>({x:(u-i)/o,y:1-(c+h-r)/s,width:p/o,height:h/s});break;case"180":a=(c,u,h,p)=>({x:1-(c+h-r)/s,y:1-(u+p-i)/o,width:h/s,height:p/o});break;case"270":a=(c,u,h,p)=>({x:1-(u+p-i)/o,y:(c-r)/s,width:p/o,height:h/s});break;default:a=(c,u,h,p)=>({x:(c-r)/s,y:(u-i)/o,width:h/s,height:p/o});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const h=t.getRangeAt(c);if(!h.collapsed)for(const{x:p,y:f,width:b,height:w}of h.getClientRects())b===0||w===0||l.push(a(p,f,b,w))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(m(this,a0)||$(this,a0,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=m(this,a0))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=m(this,a0))==null?void 0:i.get(e.data.id);if(!t)return;const r=m(this,Uu).getRawValue(t);r&&(m(this,Bi)===rn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};s0=new WeakMap,ta=new WeakMap,Ei=new WeakMap,es=new WeakMap,o0=new WeakMap,Uu=new WeakMap,a0=new WeakMap,Nl=new WeakMap,jh=new WeakMap,l0=new WeakMap,Yp=new WeakMap,Cc=new WeakMap,kl=new WeakMap,Xp=new WeakMap,O5=new WeakMap,F5=new WeakMap,c0=new WeakMap,B5=new WeakMap,Tc=new WeakMap,Oh=new WeakMap,u0=new WeakMap,Fh=new WeakMap,Nc=new WeakMap,N_=new WeakMap,Bh=new WeakMap,U5=new WeakMap,Uh=new WeakMap,Qp=new WeakMap,V5=new WeakMap,z5=new WeakMap,Bi=new WeakMap,$n=new WeakMap,Vu=new WeakMap,Jp=new WeakMap,$5=new WeakMap,q5=new WeakMap,Vh=new WeakMap,kc=new WeakMap,zu=new WeakMap,H5=new WeakMap,Va=new WeakMap,et=new WeakSet,O4=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},r7=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of m(this,es).values())if(r.hasTextLayer(e))return r;return null},ZW=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=G(this,et,O4).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(m(this,Nc)||$(this,Nc,new w5e(this)),m(this,Nc).show(r,i,this.direction==="ltr"))},eG=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){m(this,Vu)&&((s=m(this,Nc))==null||s.hide(),$(this,Vu,null),G(this,et,Hs).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===m(this,Vu))return;const i=G(this,et,O4).call(this,e).closest(".textLayer");if(!i){m(this,Vu)&&((o=m(this,Nc))==null||o.hide(),$(this,Vu,null),G(this,et,Hs).call(this,{hasSelectedText:!1}));return}if((a=m(this,Nc))==null||a.hide(),$(this,Vu,t),G(this,et,Hs).call(this,{hasSelectedText:!0}),!(m(this,Bi)!==rn.HIGHLIGHT&&m(this,Bi)!==rn.NONE)&&(m(this,Bi)===rn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),$(this,Fh,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=m(this,Bi)===rn.HIGHLIGHT?G(this,et,r7).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),h=p=>{p.type==="pointerup"&&p.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),p.type==="pointerup"&&G(this,et,F4).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("blur",h,{signal:u})}},F4=function(e=""){m(this,Bi)===rn.HIGHLIGHT?this.highlightSelection(e):m(this,O5)&&G(this,et,ZW).call(this)},tG=function(){document.addEventListener("selectionchange",G(this,et,eG).bind(this),{signal:this._signal})},nG=function(){if(m(this,Oh))return;$(this,Oh,new AbortController);const e=this.combinedSignal(m(this,Oh));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},rG=function(){var e;(e=m(this,Oh))==null||e.abort(),$(this,Oh,null)},i7=function(){if(m(this,Uh))return;$(this,Uh,new AbortController);const e=this.combinedSignal(m(this,Uh));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},iG=function(){var e;(e=m(this,Uh))==null||e.abort(),$(this,Uh,null)},s7=function(){if(m(this,jh))return;$(this,jh,new AbortController);const e=this.combinedSignal(m(this,jh));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},o7=function(){var e;(e=m(this,jh))==null||e.abort(),$(this,jh,null)},sG=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Hs=function(e){Object.entries(e).some(([r,i])=>m(this,q5)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,q5),e)}),m(this,Bi)===rn.HIGHLIGHT&&e.hasSelectedEditor===!1&&G(this,et,yh).call(this,[[Ht.HIGHLIGHT_FREE,!0]]))},yh=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},oG=async function(){if(!m(this,Bh)){$(this,Bh,!0);const e=[];for(const t of m(this,es).values())e.push(t.enable());await Promise.all(e);for(const t of m(this,Ei).values())t.enable()}},aG=function(){if(this.unselectAll(),m(this,Bh)){$(this,Bh,!1);for(const e of m(this,es).values())e.disable();for(const e of m(this,Ei).values())e.disable()}},a7=function(e){const t=m(this,es).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},lG=function(){let e=null;for(e of m(this,$n));return e},qv=function(){if(m(this,Ei).size===0)return!0;if(m(this,Ei).size===1)for(const e of m(this,Ei).values())return e.isEmpty();return!1},l7=function(e){for(const t of m(this,$n))t.unselect();m(this,$n).clear();for(const t of e)t.isEmpty()||(m(this,$n).add(t),t.select());G(this,et,Hs).call(this,{hasSelectedEditor:this.hasSelection})},nt(Sg,"TRANSLATE_SMALL",1),nt(Sg,"TRANSLATE_BIG",10);let d1=Sg;var Ui,Ic,Il,d0,Pc,na,h0,Rc,wo,$u,Zp,Lc,zh,ql,Hv,B4;const Ws=class Ws{constructor(e){Y(this,ql);Y(this,Ui,null);Y(this,Ic,!1);Y(this,Il,null);Y(this,d0,null);Y(this,Pc,null);Y(this,na,null);Y(this,h0,!1);Y(this,Rc,null);Y(this,wo,null);Y(this,$u,null);Y(this,Zp,null);Y(this,Lc,!1);$(this,wo,e),$(this,Lc,e._uiManager.useNewAltTextFlow),m(Ws,zh)||$(Ws,zh,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Ws._l10n??(Ws._l10n=e)}async render(){const e=$(this,Il,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=$(this,d0,document.createElement("span"));e.append(t),m(this,Lc)?(e.classList.add("new"),e.setAttribute("data-l10n-id",m(Ws,zh).missing),t.setAttribute("data-l10n-id",m(Ws,zh)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=m(this,wo)._uiManager._signal;e.addEventListener("contextmenu",ll,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),m(this,wo)._uiManager.editAltText(m(this,wo)),m(this,Lc)&&m(this,wo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:m(this,ql,Hv)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&($(this,h0,!0),i(s))},{signal:r}),await G(this,ql,B4).call(this),e}finish(){m(this,Il)&&(m(this,Il).focus({focusVisible:m(this,h0)}),$(this,h0,!1))}isEmpty(){return m(this,Lc)?m(this,Ui)===null:!m(this,Ui)&&!m(this,Ic)}hasData(){return m(this,Lc)?m(this,Ui)!==null||!!m(this,$u):this.isEmpty()}get guessedText(){return m(this,$u)}async setGuessedText(e){m(this,Ui)===null&&($(this,$u,e),$(this,Zp,await Ws._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),G(this,ql,B4).call(this))}toggleAltTextBadge(e=!1){var t;if(!m(this,Lc)||m(this,Ui)){(t=m(this,Rc))==null||t.remove(),$(this,Rc,null);return}if(!m(this,Rc)){const r=$(this,Rc,document.createElement("div"));r.className="noAltTextBadge",m(this,wo).div.append(r)}m(this,Rc).classList.toggle("hidden",!e)}serialize(e){let t=m(this,Ui);return!e&&m(this,$u)===t&&(t=m(this,Zp)),{altText:t,decorative:m(this,Ic),guessedText:m(this,$u),textWithDisclaimer:m(this,Zp)}}get data(){return{altText:m(this,Ui),decorative:m(this,Ic)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&($(this,$u,r),$(this,Zp,i)),!(m(this,Ui)===e&&m(this,Ic)===t)&&(s||($(this,Ui,e),$(this,Ic,t)),G(this,ql,B4).call(this))}toggle(e=!1){m(this,Il)&&(!e&&m(this,na)&&(clearTimeout(m(this,na)),$(this,na,null)),m(this,Il).disabled=!e)}shown(){m(this,wo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:m(this,ql,Hv)}})}destroy(){var e,t;(e=m(this,Il))==null||e.remove(),$(this,Il,null),$(this,d0,null),$(this,Pc,null),(t=m(this,Rc))==null||t.remove(),$(this,Rc,null)}};Ui=new WeakMap,Ic=new WeakMap,Il=new WeakMap,d0=new WeakMap,Pc=new WeakMap,na=new WeakMap,h0=new WeakMap,Rc=new WeakMap,wo=new WeakMap,$u=new WeakMap,Zp=new WeakMap,Lc=new WeakMap,zh=new WeakMap,ql=new WeakSet,Hv=function(){return m(this,Ui)&&"added"||m(this,Ui)===null&&this.guessedText&&"review"||"missing"},B4=async function(){var i,s,o;const e=m(this,Il);if(!e)return;if(m(this,Lc)){if(e.classList.toggle("done",!!m(this,Ui)),e.setAttribute("data-l10n-id",m(Ws,zh)[m(this,ql,Hv)]),(i=m(this,d0))==null||i.setAttribute("data-l10n-id",m(Ws,zh)[`${m(this,ql,Hv)}-label`]),!m(this,Ui)){(s=m(this,Pc))==null||s.remove();return}}else{if(!m(this,Ui)&&!m(this,Ic)){e.classList.remove("done"),(o=m(this,Pc))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=m(this,Pc);if(!t){$(this,Pc,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${m(this,wo).id}`;const a=100,l=m(this,wo)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(m(this,na)),$(this,na,null)},{once:!0}),e.addEventListener("mouseenter",()=>{$(this,na,setTimeout(()=>{$(this,na,null),m(this,Pc).classList.add("show"),m(this,wo)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;m(this,na)&&(clearTimeout(m(this,na)),$(this,na,null)),(c=m(this,Pc))==null||c.classList.remove("show")},{signal:l})}m(this,Ic)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=m(this,Ui)),t.parentNode||e.append(t);const r=m(this,wo).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},Y(Ws,zh,null),nt(Ws,"_l10n",null);let b_=Ws;var em,Pl,Rr,f0,tm,ts,nm,$h,W5,rm,qh,G5,im,qu,Mc,p0,m0,za,K5,k_,an,c7,Y5,u7,d7,cG,uG,h7,f7,p7,dG,m7,hG,fG,pG,g7,Wv;const Fn=class Fn{constructor(e){Y(this,an);Y(this,em,null);Y(this,Pl,null);Y(this,Rr,null);Y(this,f0,!1);Y(this,tm,!1);Y(this,ts,null);Y(this,nm,null);Y(this,$h,null);Y(this,W5,"");Y(this,rm,!1);Y(this,qh,null);Y(this,G5,!1);Y(this,im,!1);Y(this,qu,!1);Y(this,Mc,null);Y(this,p0,0);Y(this,m0,0);Y(this,za,null);nt(this,"_editToolbar",null);nt(this,"_initialOptions",Object.create(null));nt(this,"_initialData",null);nt(this,"_isVisible",!0);nt(this,"_uiManager",null);nt(this,"_focusEventsAllowed",!0);Y(this,K5,!1);Y(this,k_,Fn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Fn.prototype._resizeWithKeyboard,t=d1.TRANSLATE_SMALL,r=d1.TRANSLATE_BIG;return xn(this,"_resizerKeyboardManager",new Pb([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Fn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return xn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new A5e({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Fn._l10n??(Fn._l10n=e),Fn._l10nResizer||(Fn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Fn._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Fn._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){gr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,K5)}set _isDraggable(e){var t;$(this,K5,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,k_)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):G(this,an,Wv).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,rm)?$(this,rm,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){G(this,an,c7).call(this,this.parentDimensions,e,t)}translateInPage(e,t){m(this,qh)||$(this,qh,[this.x,this.y]),G(this,an,c7).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){m(this,qh)||$(this,qh,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!m(this,qh)&&(m(this,qh)[0]!==this.x||m(this,qh)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=Fn,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=t,a*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),s=Math.max(0,Math.min(r-a,s));break;case 90:i=Math.max(0,Math.min(t-a,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(t,Math.max(o,i)),s=Math.min(r,Math.max(a,s));break;case 270:i=Math.min(t,Math.max(a,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=t,this.y=s/=r;const[l,c]=this.getBaseTranslation();i+=l,s+=c;const{style:u}=this.div;u.left=`${(100*i).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return G(r=Fn,Y5,u7).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return G(r=Fn,Y5,u7).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,m(this,tm)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!m(this,tm)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!m(this,tm)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=m(this,Rr))==null||e.finish()}async addEditToolbar(){return this._editToolbar||m(this,im)?this._editToolbar:(this._editToolbar=new ZC(this),this.div.append(this._editToolbar.render()),m(this,Rr)&&await this._editToolbar.addAltText(m(this,Rr)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=m(this,Rr))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){m(this,Rr)||(b_.initialize(Fn._l10n),$(this,Rr,new b_(this)),m(this,em)&&(m(this,Rr).data=m(this,em),$(this,em,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=m(this,Rr))==null?void 0:e.data}set altTextData(e){m(this,Rr)&&(m(this,Rr).data=e)}get guessedAltText(){var e;return(e=m(this,Rr))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=m(this,Rr))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=m(this,Rr))==null?void 0:t.serialize(e)}hasAltText(){return!!m(this,Rr)&&!m(this,Rr).isEmpty()}hasAltTextData(){var e;return((e=m(this,Rr))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=m(this,f0)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),G(this,an,m7).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),w_(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=no.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if($(this,rm,!0),this._isDraggable){G(this,an,dG).call(this,e);return}G(this,an,p7).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){m(this,Mc)&&clearTimeout(m(this,Mc)),$(this,Mc,setTimeout(()=>{var e;$(this,Mc,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/i,u=t/i,h=this.x*s,p=this.y*o,f=this.width*s,b=this.height*o;switch(r){case 0:return[h+c+a,o-p-u-b+l,h+c+f+a,o-p-u+l];case 90:return[h+u+a,o-p+c+l,h+u+b+a,o-p+c+f+l];case 180:return[h-c-f+a,o-p+u+l,h-c+a,o-p+u+b+l];case 270:return[h-u-b+a,o-p-c-f+l,h-u+a,o-p-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){$(this,im,!0)}disableEditMode(){$(this,im,!1)}isInEditMode(){return m(this,im)}shouldGetKeyboardEvents(){return m(this,qu)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){G(this,an,m7).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){gr("An editor must be serializable")}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,$(i,em,e.accessibilityData);const[s,o]=i.pageDimensions,[a,l,c,u]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=u/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=m(this,$h))==null||e.abort(),$(this,$h,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,Mc)&&(clearTimeout(m(this,Mc)),$(this,Mc,null)),G(this,an,Wv).call(this),this.removeEditToolbar(),m(this,za)){for(const t of m(this,za).values())clearTimeout(t);$(this,za,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(G(this,an,cG).call(this),m(this,ts).classList.remove("hidden"),w_(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),$(this,nm,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=m(this,ts).children;if(!m(this,Pl)){$(this,Pl,Array.from(t));const o=G(this,an,hG).bind(this),a=G(this,an,fG).bind(this),l=this._uiManager._signal;for(const c of m(this,Pl)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",G(this,an,pG).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",Fn._l10nResizer[u])}}const r=m(this,Pl)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(m(this,Pl).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)m(this,ts).append(m(this,ts).firstChild);else if(s>i)for(let a=0;a<s-i;a++)m(this,ts).firstChild.before(m(this,ts).lastChild);let o=0;for(const a of t){const c=m(this,Pl)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",Fn._l10nResizer[c])}}G(this,an,g7).call(this,0),$(this,qu,!0),m(this,ts).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){m(this,qu)&&G(this,an,f7).call(this,m(this,W5),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){G(this,an,Wv).call(this),this.div.focus()}select(){var e,t,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=m(this,Rr))==null||r.toggleAltTextBadge(!1)}unselect(){var e,t,r,i,s;(e=m(this,ts))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=m(this,Rr))==null||s.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return m(this,G5)}set isEditing(e){$(this,G5,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){$(this,tm,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){m(this,za)||$(this,za,new Map);const{action:r}=e;let i=m(this,za).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,za).delete(r),m(this,za).size===0&&$(this,za,null)},Fn._telemetryTimeout),m(this,za).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),$(this,f0,!1)}disable(){this.div&&(this.div.tabIndex=-1),$(this,f0,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};em=new WeakMap,Pl=new WeakMap,Rr=new WeakMap,f0=new WeakMap,tm=new WeakMap,ts=new WeakMap,nm=new WeakMap,$h=new WeakMap,W5=new WeakMap,rm=new WeakMap,qh=new WeakMap,G5=new WeakMap,im=new WeakMap,qu=new WeakMap,Mc=new WeakMap,p0=new WeakMap,m0=new WeakMap,za=new WeakMap,K5=new WeakMap,k_=new WeakMap,an=new WeakSet,c7=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},Y5=new WeakSet,u7=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},d7=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},cG=function(){if(m(this,ts))return;$(this,ts,document.createElement("div")),m(this,ts).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");m(this,ts).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",G(this,an,uG).bind(this,r),{signal:t}),i.addEventListener("contextmenu",ll,{signal:t}),i.tabIndex=-1}this.div.prepend(m(this,ts))},uG=function(e,t){var b;t.preventDefault();const{isMac:r}=no.platform;if(t.button!==0||t.ctrlKey&&r)return;(b=m(this,Rr))==null||b.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",G(this,an,f7).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",ll,{signal:o});const a=this.x,l=this.y,c=this.width,u=this.height,h=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{var w;s.abort(),this.parent.togglePointerEvents(!0),(w=m(this,Rr))==null||w.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=h,this.div.style.cursor=p,G(this,an,h7).call(this,a,l,c,u)};window.addEventListener("pointerup",f,{signal:o}),window.addEventListener("blur",f,{signal:o})},h7=function(e,t,r,i){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[c,u]=this.parentDimensions;this.setDims(c*a,u*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[c,u]=this.parentDimensions;this.setDims(c*r,u*i),this.fixAndSetPosition()},mustExec:!0})},f7=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=Fn.MIN_SIZE/r,u=Fn.MIN_SIZE/i,h=le=>Math.round(le*1e4)/1e4,p=G(this,an,d7).call(this,this.rotation),f=(le,J)=>[p[0]*le+p[2]*J,p[1]*le+p[3]*J],b=G(this,an,d7).call(this,360-this.rotation),w=(le,J)=>[b[0]*le+b[2]*J,b[1]*le+b[3]*J];let A,x,E=!1,S=!1;switch(e){case"topLeft":E=!0,A=(le,J)=>[0,0],x=(le,J)=>[le,J];break;case"topMiddle":A=(le,J)=>[le/2,0],x=(le,J)=>[le/2,J];break;case"topRight":E=!0,A=(le,J)=>[le,0],x=(le,J)=>[0,J];break;case"middleRight":S=!0,A=(le,J)=>[le,J/2],x=(le,J)=>[0,J/2];break;case"bottomRight":E=!0,A=(le,J)=>[le,J],x=(le,J)=>[0,0];break;case"bottomMiddle":A=(le,J)=>[le/2,J],x=(le,J)=>[le/2,0];break;case"bottomLeft":E=!0,A=(le,J)=>[0,J],x=(le,J)=>[le,0];break;case"middleLeft":S=!0,A=(le,J)=>[0,J/2],x=(le,J)=>[le,J/2];break}const T=A(a,l),B=x(a,l);let V=f(...B);const M=h(s+V[0]),N=h(o+V[1]);let P=1,O=1,[k,j]=this.screenToPageTranslation(t.movementX,t.movementY);if([k,j]=w(k/r,j/i),E){const le=Math.hypot(a,l);P=O=Math.max(Math.min(Math.hypot(B[0]-T[0]-k,B[1]-T[1]-j)/le,1/a,1/l),c/a,u/l)}else S?P=Math.max(c,Math.min(1,Math.abs(B[0]-T[0]-k)))/a:O=Math.max(u,Math.min(1,Math.abs(B[1]-T[1]-j)))/l;const L=h(a*P),W=h(l*O);V=f(...x(L,W));const ue=M-V[0],de=N-V[1];this.width=L,this.height=W,this.x=ue,this.y=de,this.setDims(r*L,i*W),this.fixAndSetPosition()},p7=function(e){const{isMac:t}=no.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},dG=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const r=new AbortController,i=this._uiManager.combinedSignal(r);if(t){this.div.classList.add("moving"),$(this,p0,e.clientX),$(this,m0,e.clientY);const o=a=>{const{clientX:l,clientY:c}=a,[u,h]=this.screenToPageTranslation(l-m(this,p0),c-m(this,m0));$(this,p0,l),$(this,m0,c),this._uiManager.dragSelectedEditors(u,h)};window.addEventListener("pointermove",o,{passive:!0,capture:!0,signal:i})}const s=()=>{r.abort(),t&&this.div.classList.remove("moving"),$(this,rm,!1),this._uiManager.endDragSession()||G(this,an,p7).call(this,e)};window.addEventListener("pointerup",s,{signal:i}),window.addEventListener("blur",s,{signal:i})},m7=function(){if(m(this,$h)||!this.div)return;$(this,$h,new AbortController);const e=this._uiManager.combinedSignal(m(this,$h));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},hG=function(e){Fn._resizerKeyboardManager.exec(this,e)},fG=function(e){var t;m(this,qu)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==m(this,ts)&&G(this,an,Wv).call(this)},pG=function(e){$(this,W5,m(this,qu)?e:"")},g7=function(e){if(m(this,Pl))for(const t of m(this,Pl))t.tabIndex=e},Wv=function(){if($(this,qu,!1),G(this,an,g7).call(this,-1),m(this,nm)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=m(this,nm);G(this,an,h7).call(this,e,t,r,i),$(this,nm,null)}},Y(Fn,Y5),nt(Fn,"_l10n",null),nt(Fn,"_l10nResizer",null),nt(Fn,"_borderLineWidth",-1),nt(Fn,"_colorManager",new n7),nt(Fn,"_zIndex",1),nt(Fn,"_telemetryTimeout",1e3);let Hn=Fn;class A5e extends Hn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const JD=3285377520,Ba=4294901760,yc=65535;class mG{constructor(e){this.h1=e?e&4294967295:JD,this.h2=e?e&4294967295:JD}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let w=0,A=e.length;w<A;w++){const x=e.charCodeAt(w);x<=255?t[r++]=x:(t[r++]=x>>>8,t[r++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,c=this.h1,u=this.h2;const h=3432918353,p=461845907,f=h&yc,b=p&yc;for(let w=0;w<i;w++)w&1?(a=o[w],a=a*h&Ba|a*f&yc,a=a<<15|a>>>17,a=a*p&Ba|a*b&yc,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[w],l=l*h&Ba|l*f&yc,l=l<<15|l>>>17,l=l*p&Ba|l*b&yc,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*h&Ba|a*f&yc,a=a<<15|a>>>17,a=a*p&Ba|a*b&yc,i&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ba|e*36045&yc,t=t*4283543511&Ba|((t<<16|e>>>16)*2950163797&Ba)>>>16,e^=t>>>1,e=e*444984403&Ba|e*60499&yc,t=t*3301882366&Ba|((t<<16|e>>>16)*3120437893&Ba)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const v7=Object.freeze({map:null,hash:"",transfer:void 0});var sm,om,Vi,I_,gG;class C9{constructor(){Y(this,I_);Y(this,sm,!1);Y(this,om,null);Y(this,Vi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=m(this,Vi).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return m(this,Vi).get(e)}remove(e){if(m(this,Vi).delete(e),m(this,Vi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of m(this,Vi).values())if(t instanceof Hn)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=m(this,Vi).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,m(this,Vi).set(e,t);i&&G(this,I_,gG).call(this),t instanceof Hn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return m(this,Vi).has(e)}getAll(){return m(this,Vi).size>0?b9(m(this,Vi)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return m(this,Vi).size}resetModified(){m(this,sm)&&($(this,sm,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new vG(this)}get serializable(){if(m(this,Vi).size===0)return v7;const e=new Map,t=new mG,r=[],i=Object.create(null);let s=!1;for(const[o,a]of m(this,Vi)){const l=a instanceof Hn?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:v7}get editorStats(){let e=null;const t=new Map;for(const r of m(this,Vi).values()){if(!(r instanceof Hn))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){$(this,om,null)}get modifiedIds(){if(m(this,om))return m(this,om);const e=[];for(const t of m(this,Vi).values())!(t instanceof Hn)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return $(this,om,{ids:new Set(e),hash:e.join(",")})}}sm=new WeakMap,om=new WeakMap,Vi=new WeakMap,I_=new WeakSet,gG=function(){m(this,sm)||($(this,sm,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var X5;class vG extends C9{constructor(t){super();Y(this,X5);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);$(this,X5,{map:o,hash:i,transfer:s})}get print(){gr("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,X5)}get modifiedIds(){return xn(this,"modifiedIds",{ids:new Set,hash:""})}}X5=new WeakMap;var g0;class E5e{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){Y(this,g0,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,g0).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||m(this,g0).has(e.loadedName))){if(ki(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),m(this,g0).add(r),t==null||t(e)}catch{ln(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}gr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw ln(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return xn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Ds||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),xn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(ki(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return xn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(T,B){return T.charCodeAt(B)<<24|T.charCodeAt(B+1)<<16|T.charCodeAt(B+2)<<8|T.charCodeAt(B+3)&255}function i(T,B,V,M){const N=T.substring(0,B),P=T.substring(B+V);return N+M+P}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(T,B){if(++c>30){ln("Load test font never loaded."),B();return}if(l.font="30px "+T,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){B();return}setTimeout(u.bind(null,T,B))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=i(p,976,h.length,h);const b=16,w=1482184792;let A=r(p,b);for(s=0,o=h.length-3;s<o;s+=4)A=A-w+r(h,s)|0;s<h.length&&(A=A-w+r(h+"XXX",s)|0),p=i(p,b,4,l5e(A));const x=`url(data:font/opentype;base64,${btoa(p)});`,E=`@font-face {font-family:"${h}";src:${x}}`;this.insertRule(E);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const T of[e.loadedName,h]){const B=this._document.createElement("span");B.textContent="Hi",B.style.fontFamily=T,S.append(B)}this._document.body.append(S),u(h,()=>{S.remove(),t.complete()})}}g0=new WeakMap;class S5e{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${p5e(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){ln(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case ku.BEZIER_CURVE_TO:{const[a,l,c,u,h,p]=r.slice(s,s+6);i.push(f=>f.bezierCurveTo(a,l,c,u,h,p)),s+=6}break;case ku.MOVE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.moveTo(a,l)),s+=2}break;case ku.LINE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.lineTo(a,l)),s+=2}break;case ku.QUADRATIC_CURVE_TO:{const[a,l,c,u]=r.slice(s,s+4);i.push(h=>h.quadraticCurveTo(a,l,c,u)),s+=4}break;case ku.RESTORE:i.push(a=>a.restore());break;case ku.SAVE:i.push(a=>a.save());break;case ku.SCALE:ki(i.length===2,"Scale command is only valid at the third position.");break;case ku.TRANSFORM:{const[a,l,c,u,h,p]=r.slice(s,s+6);i.push(f=>f.transform(a,l,c,u,h,p)),s+=6}break;case ku.TRANSLATE:{const[a,l]=r.slice(s,s+2);i.push(c=>c.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let l=2,c=i.length;l<c;l++)i[l](o)}}}var Q5;class yG{constructor({enableHWA:e=!1}){Y(this,Q5,!1);$(this,Q5,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!m(this,Q5)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){gr("Abstract method `_createCanvas` called.")}}Q5=new WeakMap;class C5e extends yG{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class wG{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){gr("Abstract method `_fetch` called.")}}class bG extends wG{async _fetch(e){const t=await aA(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):oA(t)}}class xG{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var am,lm,Dc,Hu,Ts,P_,cm,ot,Es,ng,rg,U4,ig,_G,y7,sg,Gv,Kv,w7,Yv;class T5e extends xG{constructor({docId:t,ownerDocument:r=globalThis.document}){super();Y(this,ot);Y(this,am);Y(this,lm);Y(this,Dc);Y(this,Hu);Y(this,Ts);Y(this,P_);Y(this,cm,0);$(this,Hu,t),$(this,Ts,r)}addFilter(t){if(!t)return"none";let r=m(this,ot,Es).get(t);if(r)return r;const[i,s,o]=G(this,ot,U4).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=m(this,ot,Es).get(a),r)return m(this,ot,Es).set(t,r),r;const l=`g_${m(this,Hu)}_transfer_map_${Di(this,cm)._++}`,c=G(this,ot,ig).call(this,l);m(this,ot,Es).set(t,c),m(this,ot,Es).set(a,c);const u=G(this,ot,sg).call(this,l);return G(this,ot,Kv).call(this,i,s,o,u),c}addHCMFilter(t,r){var b;const i=`${t}-${r}`,s="base";let o=m(this,ot,ng).get(s);if((o==null?void 0:o.key)===i||(o?((b=o.filter)==null||b.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},m(this,ot,ng).set(s,o)),!t||!r))return o.url;const a=G(this,ot,Yv).call(this,t);t=At.makeHexColor(...a);const l=G(this,ot,Yv).call(this,r);if(r=At.makeHexColor(...l),m(this,ot,rg).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const c=new Array(256);for(let w=0;w<=255;w++){const A=w/255;c[w]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const u=c.join(","),h=`g_${m(this,Hu)}_hcm_filter`,p=o.filter=G(this,ot,sg).call(this,h);G(this,ot,Kv).call(this,u,u,u,p),G(this,ot,y7).call(this,p);const f=(w,A)=>{const x=a[w]/255,E=l[w]/255,S=new Array(A+1);for(let T=0;T<=A;T++)S[T]=x+T/A*(E-x);return S.join(",")};return G(this,ot,Kv).call(this,f(0,5),f(1,5),f(2,5),p),o.url=G(this,ot,ig).call(this,h),o.url}addAlphaFilter(t){let r=m(this,ot,Es).get(t);if(r)return r;const[i]=G(this,ot,U4).call(this,[t]),s=`alpha_${i}`;if(r=m(this,ot,Es).get(s),r)return m(this,ot,Es).set(t,r),r;const o=`g_${m(this,Hu)}_alpha_map_${Di(this,cm)._++}`,a=G(this,ot,ig).call(this,o);m(this,ot,Es).set(t,a),m(this,ot,Es).set(s,a);const l=G(this,ot,sg).call(this,o);return G(this,ot,w7).call(this,i,l),a}addLuminosityFilter(t){let r=m(this,ot,Es).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=G(this,ot,U4).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=m(this,ot,Es).get(s),r)return m(this,ot,Es).set(t,r),r;const o=`g_${m(this,Hu)}_luminosity_map_${Di(this,cm)._++}`,a=G(this,ot,ig).call(this,o);m(this,ot,Es).set(t,a),m(this,ot,Es).set(s,a);const l=G(this,ot,sg).call(this,o);return G(this,ot,_G).call(this,l),t&&G(this,ot,w7).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var E;const a=`${r}-${i}-${s}-${o}`;let l=m(this,ot,ng).get(t);if((l==null?void 0:l.key)===a||(l?((E=l.filter)==null||E.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},m(this,ot,ng).set(t,l)),!r||!i))return l.url;const[c,u]=[r,i].map(G(this,ot,Yv).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[f,b]=[s,o].map(G(this,ot,Yv).bind(this));p<h&&([h,p,f,b]=[p,h,b,f]),m(this,ot,rg).style.color="";const w=(S,T,B)=>{const V=new Array(256),M=(p-h)/B,N=S/255,P=(T-S)/(255*B);let O=0;for(let k=0;k<=B;k++){const j=Math.round(h+k*M),L=N+k*P;for(let W=O;W<=j;W++)V[W]=L;O=j+1}for(let k=O;k<256;k++)V[k]=V[O-1];return V.join(",")},A=`g_${m(this,Hu)}_hcm_${t}_filter`,x=l.filter=G(this,ot,sg).call(this,A);return G(this,ot,y7).call(this,x),G(this,ot,Kv).call(this,w(f[0],b[0],5),w(f[1],b[1],5),w(f[2],b[2],5),x),l.url=G(this,ot,ig).call(this,A),l.url}destroy(t=!1){t&&m(this,ot,ng).size!==0||(m(this,Dc)&&(m(this,Dc).parentNode.parentNode.remove(),$(this,Dc,null)),m(this,lm)&&(m(this,lm).clear(),$(this,lm,null)),$(this,cm,0))}}am=new WeakMap,lm=new WeakMap,Dc=new WeakMap,Hu=new WeakMap,Ts=new WeakMap,P_=new WeakMap,cm=new WeakMap,ot=new WeakSet,Es=function(){return m(this,lm)||$(this,lm,new Map)},ng=function(){return m(this,P_)||$(this,P_,new Map)},rg=function(){if(!m(this,Dc)){const t=m(this,Ts).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=m(this,Ts).createElementNS(Ru,"svg");i.setAttribute("width",0),i.setAttribute("height",0),$(this,Dc,m(this,Ts).createElementNS(Ru,"defs")),t.append(i),i.append(m(this,Dc)),m(this,Ts).body.append(t)}return m(this,Dc)},U4=function(t){if(t.length===1){const c=t[0],u=new Array(256);for(let p=0;p<256;p++)u[p]=c[p]/255;const h=u.join(",");return[h,h,h]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=r[c]/255,a[c]=i[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},ig=function(t){if(m(this,am)===void 0){$(this,am,"");const r=m(this,Ts).URL;r!==m(this,Ts).baseURI&&(lA(r)?ln('#createUrl: ignore "data:"-URL for performance reasons.'):$(this,am,r.split("#",1)[0]))}return`url(${m(this,am)}#${t})`},_G=function(t){const r=m(this,Ts).createElementNS(Ru,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},y7=function(t){const r=m(this,Ts).createElementNS(Ru,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},sg=function(t){const r=m(this,Ts).createElementNS(Ru,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),m(this,ot,rg).append(r),r},Gv=function(t,r,i){const s=m(this,Ts).createElementNS(Ru,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},Kv=function(t,r,i,s){const o=m(this,Ts).createElementNS(Ru,"feComponentTransfer");s.append(o),G(this,ot,Gv).call(this,o,"feFuncR",t),G(this,ot,Gv).call(this,o,"feFuncG",r),G(this,ot,Gv).call(this,o,"feFuncB",i)},w7=function(t,r){const i=m(this,Ts).createElementNS(Ru,"feComponentTransfer");r.append(i),G(this,ot,Gv).call(this,i,"feFuncA",t)},Yv=function(t){return m(this,ot,rg).style.color=t,S9(getComputedStyle(m(this,ot,rg)).getPropertyValue("color"))};class AG{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){gr("Abstract method `_fetch` called.")}}class EG extends AG{async _fetch(e){const t=await aA(e,"arraybuffer");return new Uint8Array(t)}}if(Ds){var b7=Promise.withResolvers(),Ty=null;(async()=>{const e=await Kc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Kc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Kc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Kc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:o}))})().then(e=>{Ty=e,b7.resolve()},e=>{ln(`loadPackages: ${e}`),Ty=new Map,b7.resolve()})}class Vf{static get promise(){return b7.promise}static get(e){return Ty==null?void 0:Ty.get(e)}}async function SG(n){const t=await Vf.get("fs").promises.readFile(n);return new Uint8Array(t)}class N5e extends xG{}class k5e extends yG{_createCanvas(e,t){return Vf.get("canvas").createCanvas(e,t)}}class I5e extends wG{async _fetch(e){return SG(e)}}class P5e extends AG{async _fetch(e){return SG(e)}}const Xs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function x7(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class T9{getPattern(){gr("Abstract method `getPattern` called.")}}class R5e extends T9{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Xs.STROKE||i===Xs.FILL){const o=t.current.getClippedPathBoundingBox(i,Mr(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),r=At.transform(r,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),x7(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else x7(e,this._bbox),s=this._createGradient(e);return s}}function g8(n,e,t,r,i,s,o,a){const l=e.coords,c=e.colors,u=n.data,h=n.width*4;let p;l[t+1]>l[r+1]&&(p=t,t=r,r=p,p=s,s=o,o=p),l[r+1]>l[i+1]&&(p=r,r=i,i=p,p=o,o=a,a=p),l[t+1]>l[r+1]&&(p=t,t=r,r=p,p=s,s=o,o=p);const f=(l[t]+e.offsetX)*e.scaleX,b=(l[t+1]+e.offsetY)*e.scaleY,w=(l[r]+e.offsetX)*e.scaleX,A=(l[r+1]+e.offsetY)*e.scaleY,x=(l[i]+e.offsetX)*e.scaleX,E=(l[i+1]+e.offsetY)*e.scaleY;if(b>=E)return;const S=c[s],T=c[s+1],B=c[s+2],V=c[o],M=c[o+1],N=c[o+2],P=c[a],O=c[a+1],k=c[a+2],j=Math.round(b),L=Math.round(E);let W,ue,de,le,J,re,ge,ye;for(let z=j;z<=L;z++){if(z<A){const he=z<b?0:(b-z)/(b-A);W=f-(f-w)*he,ue=S-(S-V)*he,de=T-(T-M)*he,le=B-(B-N)*he}else{let he;z>E?he=1:A===E?he=0:he=(A-z)/(A-E),W=w-(w-x)*he,ue=V-(V-P)*he,de=M-(M-O)*he,le=N-(N-k)*he}let Q;z<b?Q=0:z>E?Q=1:Q=(b-z)/(b-E),J=f-(f-x)*Q,re=S-(S-P)*Q,ge=T-(T-O)*Q,ye=B-(B-k)*Q;const ie=Math.round(Math.min(W,J)),ce=Math.round(Math.max(W,J));let fe=h*z+ie*4;for(let he=ie;he<=ce;he++)Q=(W-he)/(W-J),Q<0?Q=0:Q>1&&(Q=1),u[fe++]=ue-(ue-re)*Q|0,u[fe++]=de-(de-ge)*Q|0,u[fe++]=le-(le-ye)*Q|0,u[fe++]=255}}function L5e(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let h=0;h<c;h++,u++)g8(n,t,r[u],r[u+1],r[u+a],i[u],i[u+1],i[u+a]),g8(n,t,r[u+a+1],r[u+1],r[u+a],i[u+a+1],i[u+1],i[u+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)g8(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class M5e extends T9{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),f=c/h,b=u/p,w={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/f,scaleY:1/b},A=h+2*2,x=p+2*2,E=r.getCanvas("mesh",A,x),S=E.context,T=S.createImageData(h,p);if(t){const V=T.data;for(let M=0,N=V.length;M<N;M+=4)V[M]=t[0],V[M+1]=t[1],V[M+2]=t[2],V[M+3]=255}for(const V of this._figures)L5e(T,V,w);return S.putImageData(T,2,2),{canvas:E.canvas,offsetX:a-2*f,offsetY:l-2*b,scaleX:f,scaleY:b}}getPattern(e,t,r,i){x7(e,this._bbox);let s;if(i===Xs.SHADING)s=At.singularValueDecompose2dScale(Mr(e));else if(s=At.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=At.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===Xs.SHADING?null:this._background,t.cachedCanvases);return i!==Xs.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class D5e extends T9{getPattern(){return"hotpink"}}function j5e(n){switch(n[0]){case"RadialAxial":return new R5e(n);case"Mesh":return new M5e(n);case"Dummy":return new D5e}throw new Error(`Unknown IR type: ${n[0]}`)}const ZD={COLORED:1,UNCOLORED:2},R_=class R_{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:i,tilingType:s,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),iA("TilingType: "+s);const u=t[0],h=t[1],p=t[2],f=t[3],b=p-u,w=f-h,A=At.singularValueDecompose2dScale(this.matrix),x=At.singularValueDecompose2dScale(this.baseTransform),E=A[0]*x[0],S=A[1]*x[1];let T=b,B=w,V=!1,M=!1;const N=Math.ceil(l*E),P=Math.ceil(c*S),O=Math.ceil(b*E),k=Math.ceil(w*S);N>=O?T=l:V=!0,P>=k?B=c:M=!0;const j=this.getSizeAndScale(T,this.ctx.canvas.width,E),L=this.getSizeAndScale(B,this.ctx.canvas.height,S),W=e.cachedCanvases.getCanvas("pattern",j.size,L.size),ue=W.context,de=a.createCanvasGraphics(ue);if(de.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(de,i,o),ue.translate(-j.scale*u,-L.scale*h),de.transform(j.scale,0,0,L.scale,0,0),ue.save(),this.clipBbox(de,u,h,p,f),de.baseTransform=Mr(de.ctx),de.executeOperatorList(r),de.endDrawing(),ue.restore(),V||M){const le=W.canvas;V&&(T=l),M&&(B=c);const J=this.getSizeAndScale(T,this.ctx.canvas.width,E),re=this.getSizeAndScale(B,this.ctx.canvas.height,S),ge=J.size,ye=re.size,z=e.cachedCanvases.getCanvas("pattern-workaround",ge,ye),Q=z.context,ie=V?Math.floor(b/l):0,ce=M?Math.floor(w/c):0;for(let fe=0;fe<=ie;fe++)for(let he=0;he<=ce;he++)Q.drawImage(le,ge*fe,ye*he,ge,ye,0,0,ge,ye);return{canvas:z.canvas,scaleX:J.scale,scaleY:re.scale,offsetX:u,offsetY:h}}return{canvas:W.canvas,scaleX:j.scale,scaleY:L.scale,offsetX:u,offsetY:h}}getSizeAndScale(e,t,r){const i=Math.max(R_.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),e.current.updateRectMinMax(Mr(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case ZD.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case ZD.UNCOLORED:const a=At.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new a5e(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==Xs.SHADING&&(s=At.transform(s,t.baseTransform),this.matrix&&(s=At.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};nt(R_,"MAX_PATTERN_SIZE",3e3);let _7=R_;function O5e({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=no.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=r>>3,h=r&7,p=n.length;t=new Uint32Array(t.buffer);let f=0;for(let b=0;b<i;b++){for(const A=e+u;e<A;e++){const x=e<p?n[e]:255;t[f++]=x&128?c:l,t[f++]=x&64?c:l,t[f++]=x&32?c:l,t[f++]=x&16?c:l,t[f++]=x&8?c:l,t[f++]=x&4?c:l,t[f++]=x&2?c:l,t[f++]=x&1?c:l}if(h===0)continue;const w=e<p?n[e++]:255;for(let A=0;A<h;A++)t[f++]=w&1<<7-A?c:l}return{srcPos:e,destPos:f}}const ej=16,tj=100,F5e=15,nj=10,rj=1e3,Ao=16;function B5e(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,o,a,l){e.transform(r,i,s,o,a,l),this.__originalTransform(r,i,s,o,a,l)},n.setTransform=function(r,i,s,o,a,l){e.setTransform(r,i,s,o,a,l),this.__originalSetTransform(r,i,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class U5e{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function qx(n,e,t,r,i,s,o,a,l,c){const[u,h,p,f,b,w]=Mr(n);if(h===0&&p===0){const E=o*u+b,S=Math.round(E),T=a*f+w,B=Math.round(T),V=(o+l)*u+b,M=Math.abs(Math.round(V)-S)||1,N=(a+c)*f+w,P=Math.abs(Math.round(N)-B)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(f),S,B),n.drawImage(e,t,r,i,s,0,0,M,P),n.setTransform(u,h,p,f,b,w),[M,P]}if(u===0&&f===0){const E=a*p+b,S=Math.round(E),T=o*h+w,B=Math.round(T),V=(a+c)*p+b,M=Math.abs(Math.round(V)-S)||1,N=(o+l)*h+w,P=Math.abs(Math.round(N)-B)||1;return n.setTransform(0,Math.sign(h),Math.sign(p),0,S,B),n.drawImage(e,t,r,i,s,0,0,P,M),n.setTransform(u,h,p,f,b,w),[P,M]}n.drawImage(e,t,r,i,s,o,a,l,c);const A=Math.hypot(u,h),x=Math.hypot(p,f);return[A*l,x*c]}function V5e(n){const{width:e,height:t}=n;if(e>rj||t>rj)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,c;const u=e+7&-8;let h=new Uint8Array(u*t),p=0;for(const x of n.data){let E=128;for(;E>0;)h[p++]=x&E?0:255,E>>=1}let f=0;for(p=0,h[p]!==0&&(o[0]=1,++f),l=1;l<e;l++)h[p]!==h[p+1]&&(o[l]=h[p]?2:1,++f),p++;for(h[p]!==0&&(o[l]=2,++f),a=1;a<t;a++){p=a*u,c=a*s,h[p-u]!==h[p]&&(o[c]=h[p]?1:8,++f);let x=(h[p]?4:0)+(h[p-u]?8:0);for(l=1;l<e;l++)x=(x>>2)+(h[p+1]?4:0)+(h[p-u+1]?8:0),i[x]&&(o[c+l]=i[x],++f),p++;if(h[p-u]!==h[p]&&(o[c+l]=h[p]?2:4,++f),f>r)return null}for(p=u*(t-1),c=a*s,h[p]!==0&&(o[c]=8,++f),l=1;l<e;l++)h[p]!==h[p+1]&&(o[c+l]=h[p]?4:8,++f),p++;if(h[p]!==0&&(o[c+l]=4,++f),f>r)return null;const b=new Int32Array([0,s,-1,0,-s,0,0,0,1]),w=new Path2D;for(a=0;f&&a<=t;a++){let x=a*s;const E=x+e;for(;x<E&&!o[x];)x++;if(x===E)continue;w.moveTo(x%s,a);const S=x;let T=o[x];do{const B=b[T];do x+=B;while(!o[x]);const V=o[x];V!==5&&V!==10?(T=V,o[x]=0):(T=V&51*T>>4,o[x]&=T>>2|T<<2),w.lineTo(x%s,x/s|0),o[x]||--f}while(S!==x);--a}return h=null,o=null,function(x){x.save(),x.scale(1/e,-1/t),x.translate(0,-t),x.fill(w),x.beginPath(),x.restore()}}class ij{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=zW,this.textMatrixScale=1,this.fontMatrix=KC,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=As.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=At.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=At.applyTransform(t,e),i=At.applyTransform(t.slice(2),e),s=At.applyTransform([t[0],t[3]],e),o=At.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,t){At.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,o,a,l,c,u){const h=At.bezierBoundingBox(t,r,i,s,o,a,l,c,u);u||this.updateRectMinMax(e,h)}getPathBoundingBox(e=Xs.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Xs.STROKE){t||gr("Stroke bounding box must include transform.");const i=At.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=At.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Xs.FILL,t=null){return At.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function sj(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%Ao,s=(t-i)/Ao,o=i===0?s:s+1,a=n.createImageData(r,Ao);let l=0,c;const u=e.data,h=a.data;let p,f,b,w;if(e.kind===L4.GRAYSCALE_1BPP){const A=u.byteLength,x=new Uint32Array(h.buffer,0,h.byteLength>>2),E=x.length,S=r+7>>3,T=4294967295,B=no.isLittleEndian?4278190080:255;for(p=0;p<o;p++){for(b=p<s?Ao:i,c=0,f=0;f<b;f++){const V=A-l;let M=0;const N=V>S?r:V*8-7,P=N&-8;let O=0,k=0;for(;M<P;M+=8)k=u[l++],x[c++]=k&128?T:B,x[c++]=k&64?T:B,x[c++]=k&32?T:B,x[c++]=k&16?T:B,x[c++]=k&8?T:B,x[c++]=k&4?T:B,x[c++]=k&2?T:B,x[c++]=k&1?T:B;for(;M<N;M++)O===0&&(k=u[l++],O=128),x[c++]=k&O?T:B,O>>=1}for(;c<E;)x[c++]=0;n.putImageData(a,0,p*Ao)}}else if(e.kind===L4.RGBA_32BPP){for(f=0,w=r*Ao*4,p=0;p<s;p++)h.set(u.subarray(l,l+w)),l+=w,n.putImageData(a,0,f),f+=Ao;p<o&&(w=r*i*4,h.set(u.subarray(l,l+w)),n.putImageData(a,0,f))}else if(e.kind===L4.RGB_24BPP)for(b=Ao,w=r*b,p=0;p<o;p++){for(p>=s&&(b=i,w=r*b),c=0,f=w;f--;)h[c++]=u[l++],h[c++]=u[l++],h[c++]=u[l++],h[c++]=255;n.putImageData(a,0,p*Ao)}else throw new Error(`bad image kind: ${e.kind}`)}function oj(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%Ao,s=(t-i)/Ao,o=i===0?s:s+1,a=n.createImageData(r,Ao);let l=0;const c=e.data,u=a.data;for(let h=0;h<o;h++){const p=h<s?Ao:i;({srcPos:l}=O5e({src:c,srcPos:l,dest:u,width:r,height:p,nonBlackColor:0})),n.putImageData(a,0,h*Ao)}}function Nv(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Hx(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Ds){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function aj(n,e){if(e)return!0;const t=At.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Uf.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const z5e=["butt","round","square"],$5e=["miter","round","bevel"],q5e={},lj={};var $f,A7,E7;const F9=class F9{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){Y(this,$f);this.ctx=e,this.current=new ij(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new U5e(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Mr(this.compositeCtx))}this.ctx.save(),Hx(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Mr(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>nj&&typeof r=="function",u=c?Date.now()+F5e:0;let h=0;const p=this.commonObjs,f=this.objs;let b;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(b=o[a],b!==El.dependency)this[b].apply(this,s[a]);else for(const w of s[a]){const A=w.startsWith("g_")?p:f;if(!A.has(w))return A.get(w,r),a}if(a++,a===l)return a;if(c&&++h>nj){if(Date.now()>u)return r(),a;h=0}}}endDrawing(){G(this,$f,A7).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),G(this,$f,E7).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,c="prescale1",u,h;for(;s>2&&a>1||o>2&&l>1;){let p=a,f=l;s>2&&a>1&&(p=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/p),o>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/f),u=this.cachedCanvases.getCanvas(c,p,f),h=u.context,h.clearRect(0,0,p,f),h.drawImage(e,0,0,a,l,0,0,p,f),e=u.canvas,a=p,l=f,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=Mr(t);let l,c,u,h;if((e.bitmap||e.data)&&e.count>1){const N=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(N),l||(l=new Map,this._cachedBitmapsMap.set(N,l));const P=l.get(c);if(P&&!o){const O=Math.round(Math.min(a[0],a[2])+a[4]),k=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:P,offsetX:O,offsetY:k}}u=P}u||(h=this.cachedCanvases.getCanvas("maskCanvas",r,i),oj(h.context,e));let p=At.transform(a,[1/r,0,0,-1/i,0,0]);p=At.transform(p,[1,0,0,1,0,-i]);const[f,b,w,A]=At.getAxialAlignedBoundingBox([0,0,r,i],p),x=Math.round(w-f)||1,E=Math.round(A-b)||1,S=this.cachedCanvases.getCanvas("fillCanvas",x,E),T=S.context,B=f,V=b;T.translate(-B,-V),T.transform(...p),u||(u=this._scaleImage(h.canvas,Iu(T)),u=u.img,l&&o&&l.set(c,u)),T.imageSmoothingEnabled=aj(Mr(T),e.interpolate),qx(T,u,0,0,u.width,u.height,0,0,r,i),T.globalCompositeOperation="source-in";const M=At.transform(Iu(T),[1,0,0,1,-B,-V]);return T.fillStyle=o?s.getPattern(t,this,M,Xs.FILL):s,T.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,S.canvas)),{canvas:S.canvas,offsetX:Math.round(B),offsetY:Math.round(V)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=z5e[e]}setLineJoin(e){this.ctx.lineJoin=$5e[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Mr(this.suspendedCtx)),Nv(this.suspendedCtx,s),B5e(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Nv(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,c,u,h){let p=e.canvas,f=l-u,b=c-h;if(o){const A=At.makeHexColor(...o);if(f<0||b<0||f+r>p.width||b+i>p.height){const x=this.cachedCanvases.getCanvas("maskExtension",r,i),E=x.context;E.drawImage(p,-f,-b),E.globalCompositeOperation="destination-atop",E.fillStyle=A,E.fillRect(0,0,r,i),E.globalCompositeOperation="source-over",p=x.canvas,f=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(f,b,r,i),e.clip(x),e.globalCompositeOperation="destination-atop",e.fillStyle=A,e.fillRect(f,b,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const w=new Path2D;w.rect(l,c,r,i),t.clip(w),t.globalCompositeOperation="destination-in",t.drawImage(p,f,b,r,i,l,c,r,i),t.restore()}save(){this.inSMaskMode?(Nv(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Nv(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let o=s.x,a=s.y,l,c;const u=Mr(i),h=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,p=h?r.slice(0):null;for(let f=0,b=0,w=e.length;f<w;f++)switch(e[f]|0){case El.rectangle:o=t[b++],a=t[b++];const A=t[b++],x=t[b++],E=o+A,S=a+x;i.moveTo(o,a),A===0||x===0?i.lineTo(E,S):(i.lineTo(E,a),i.lineTo(E,S),i.lineTo(o,S)),h||s.updateRectMinMax(u,[o,a,E,S]),i.closePath();break;case El.moveTo:o=t[b++],a=t[b++],i.moveTo(o,a),h||s.updatePathMinMax(u,o,a);break;case El.lineTo:o=t[b++],a=t[b++],i.lineTo(o,a),h||s.updatePathMinMax(u,o,a);break;case El.curveTo:l=o,c=a,o=t[b+4],a=t[b+5],i.bezierCurveTo(t[b],t[b+1],t[b+2],t[b+3],o,a),s.updateCurvePathMinMax(u,l,c,t[b],t[b+1],t[b+2],t[b+3],o,a,p),b+=6;break;case El.curveTo2:l=o,c=a,i.bezierCurveTo(o,a,t[b],t[b+1],t[b+2],t[b+3]),s.updateCurvePathMinMax(u,l,c,o,a,t[b],t[b+1],t[b+2],t[b+3],p),o=t[b+2],a=t[b+3],b+=4;break;case El.curveTo3:l=o,c=a,o=t[b+2],a=t[b+3],i.bezierCurveTo(t[b],t[b+1],o,a,o,a),s.updateCurvePathMinMax(u,l,c,t[b],t[b+1],o,a,o,a,p),b+=4;break;case El.closePath:i.closePath();break}h&&s.updateScalingPathMinMax(u,p),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Iu(t),Xs.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Iu(t),Xs.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=q5e}eoClip(){this.pendingClip=lj}beginText(){this.current.textMatrix=zW,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var u;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||KC,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&ln("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((u=r.systemFontInfo)==null?void 0:u.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let c=t;t<ej?c=ej:t>tj&&(c=tj),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,o){this.current.textMatrix=[e,t,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,u=l&As.FILL_STROKE_MASK,h=!!(l&As.ADD_TO_PATH_FLAG),p=o.patternFill&&!a.missingFile;let f;(a.disableFontFace||h||p)&&(f=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||p?(s.save(),s.translate(t,r),s.beginPath(),f(s,c),i&&s.setTransform(...i),(u===As.FILL||u===As.FILL_STROKE)&&s.fill(),(u===As.STROKE||u===As.FILL_STROKE)&&s.stroke(),s.restore()):((u===As.FILL||u===As.FILL_STROKE)&&s.fillText(e,t,r),(u===As.STROKE||u===As.FILL_STROKE)&&s.strokeText(e,t,r)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Mr(s),x:t,y:r,fontSize:c,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return xn(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,h=e.length,p=r.vertical,f=p?1:-1,b=r.defaultVMetrics,w=i*t.fontMatrix[0],A=t.textRenderingMode===As.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(u,-1):s.scale(u,1);let x;if(t.patternFill){s.save();const V=t.fillColor.getPattern(s,this,Iu(s),Xs.FILL);x=Mr(s),s.restore(),s.fillStyle=V}let E=t.lineWidth;const S=t.textMatrixScale;if(S===0||E===0){const V=t.textRenderingMode&As.FILL_STROKE_MASK;(V===As.STROKE||V===As.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=S;if(o!==1&&(s.scale(o,o),E/=o),s.lineWidth=E,r.isInvalidPDFjsFont){const V=[];let M=0;for(const N of e)V.push(N.unicode),M+=N.width;s.fillText(V.join(""),0,0),t.x+=M*w*u,s.restore(),this.compose();return}let T=0,B;for(B=0;B<h;++B){const V=e[B];if(typeof V=="number"){T+=f*V*i/1e3;continue}let M=!1;const N=(V.isSpace?l:0)+a,P=V.fontChar,O=V.accent;let k,j,L=V.width;if(p){const ue=V.vmetric||b,de=-(V.vmetric?ue[1]:L*.5)*w,le=ue[2]*w;L=ue?-ue[0]:L,k=de/o,j=(T+le)/o}else k=T/o,j=0;if(r.remeasure&&L>0){const ue=s.measureText(P).width*1e3/i*o;if(L<ue&&this.isFontSubpixelAAEnabled){const de=L/ue;M=!0,s.save(),s.scale(de,1),k/=de}else L!==ue&&(k+=(L-ue)/2e3*i/o)}if(this.contentVisible&&(V.isInFont||r.missingFile)){if(A&&!O)s.fillText(P,k,j);else if(this.paintChar(P,k,j,x),O){const ue=k+i*O.offset.x/o,de=j-i*O.offset.y/o;this.paintChar(O.fontChar,ue,de,x)}}const W=p?L*w-N*c:L*w+N*c;T+=W,M&&s.restore()}p?t.y-=T:t.x+=T*u,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,u=r.textHScale*o,h=r.fontMatrix||KC,p=e.length,f=r.textRenderingMode===As.INVISIBLE;let b,w,A,x;if(!(f||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(u,o),b=0;b<p;++b){if(w=e[b],typeof w=="number"){x=a*w*s/1e3,this.ctx.translate(x,0),r.x+=x*u;continue}const E=(w.isSpace?c:0)+l,S=i.charProcOperatorList[w.operatorListId];if(!S){ln(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),t.scale(s,s),t.transform(...h),this.executeOperatorList(S),this.restore()),A=At.applyTransform([w.width,0],h)[0]*s+E,t.translate(A,0),r.x+=A*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Mr(this.ctx),s={createCanvasGraphics:o=>new F9(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new _7(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){this.ctx.strokeStyle=this.current.strokeColor=At.makeHexColor(e,t,r)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,r){this.ctx.fillStyle=this.current.fillColor=At.makeHexColor(e,t,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=j5e(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Iu(t),Xs.SHADING);const i=Iu(t);if(i){const{width:s,height:o}=t.canvas,[a,l,c,u]=At.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){gr("Should not call beginInlineImage")}beginImageData(){gr("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Mr(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(Mr(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||iA("TODO: Support non-isolated groups."),e.knockout&&ln("Knockout groups not supported.");const r=Mr(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=At.getAxialAlignedBoundingBox(e.bbox,Mr(t));const s=[0,0,t.canvas.width,t.canvas.height];i=At.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(u,l,c),p=h.context;p.translate(-o,-a),p.transform(...r),e.smask?this.smaskStack.push({canvas:h.canvas,context:p,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),Nv(t,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Mr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=At.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(G(this,$f,A7).call(this),Hx(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,c]=At.singularValueDecompose2dScale(Mr(this.ctx)),{viewportScale:u}=this,h=Math.ceil(o*this.outputScaleX*u),p=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(h,p);const{canvas:f,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),Hx(this.ctx)}else Hx(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new ij(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),G(this,$f,E7).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=V5e(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Mr(a);a.transform(t,r,i,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,h=o.length;u<h;u+=2){const p=At.transform(l,[t,r,i,s,o[u],o[u+1]]),[f,b]=At.applyTransform([0,0],p);a.drawImage(c.canvas,f,b)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=u.context;h.save();const p=this.getObject(o,s);oj(h,p),h.globalCompositeOperation="source-in",h.fillStyle=i?r.getPattern(h,this,Iu(t),Xs.FILL):r,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),qx(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ln("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){ln("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,u=i.length;c<u;c+=2)l.push({transform:[t,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!Ds){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;sj(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,Iu(i));i.imageSmoothingEnabled=aj(Mr(i),e.interpolate),qx(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;sj(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),qx(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===lj?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Mr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/c;else{const u=l*e,h=c*e;o=u<1?1/u:1,a=h<1?1/h:1}}else{const l=Math.abs(t*s-r*i),c=Math.hypot(t,r),u=Math.hypot(i,s);if(e===0)o=u/l,a=c/l;else{const h=e*l;o=u>h?u/h:1,a=c>h?c/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,s),o.length>0){const a=Math.max(i,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};$f=new WeakSet,A7=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},E7=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Hg=F9;for(const n in El)Hg.prototype[n]!==void 0&&(Hg.prototype[El[n]]=Hg.prototype[n]);var J5,Z5;class dd{static get workerPort(){return m(this,J5)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");$(this,J5,e)}static get workerSrc(){return m(this,Z5)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");$(this,Z5,e)}}J5=new WeakMap,Z5=new WeakMap,Y(dd,J5,null),Y(dd,Z5,"");const Wx={UNKNOWN:0,DATA:1,ERROR:2},di={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Zo(n){switch(n instanceof Error||typeof n=="object"&&n!==null||gr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new I1(n.message);case"MissingPDFException":return new k1(n.message);case"PasswordException":return new YC(n.message,n.code);case"UnexpectedResponseException":return new sA(n.message,n.status);case"UnknownErrorException":return new XC(n.message,n.details);default:return new XC(n.message,n.toString())}}var v0,rl,CG,TG,NG,V4;class Xv{constructor(e,t,r){Y(this,rl);Y(this,v0,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",G(this,rl,CG).bind(this),{signal:m(this,v0).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:di.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{ki(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:di.CANCEL,streamId:s,reason:Zo(c)}),u.promise}},r)}destroy(){var e;(e=m(this,v0))==null||e.abort(),$(this,v0,null)}}v0=new WeakMap,rl=new WeakSet,CG=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){G(this,rl,NG).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===Wx.DATA)i.resolve(e.data);else if(e.callback===Wx.ERROR)i.reject(Zo(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;new Promise(function(o){o(t(e.data))}).then(function(o){s.postMessage({sourceName:r,targetName:i,callback:Wx.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:r,targetName:i,callback:Wx.ERROR,callbackId:e.callbackId,reason:Zo(o)})});return}if(e.streamId){G(this,rl,TG).call(this,e);return}t(e.data)},TG=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,h){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=u,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:di.ENQUEUE,streamId:t,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:di.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){ki(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:di.ERROR,streamId:t,reason:Zo(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:di.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:di.START_COMPLETE,streamId:t,reason:Zo(c)})})},NG=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case di.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Zo(e.reason));break;case di.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Zo(e.reason));break;case di.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:di.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=a.onPull)==null?void 0:c.call(a))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:di.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:di.PULL_COMPLETE,streamId:t,reason:Zo(l)})});break;case di.ENQUEUE:if(ki(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case di.CLOSE:if(ki(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),G(this,rl,V4).call(this,o,t);break;case di.ERROR:ki(o,"error should have stream controller"),o.controller.error(Zo(e.reason)),G(this,rl,V4).call(this,o,t);break;case di.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Zo(e.reason)),G(this,rl,V4).call(this,o,t);break;case di.CANCEL:if(!a)break;new Promise(function(l){var c;l((c=a.onCancel)==null?void 0:c.call(a,Zo(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:di.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:di.CANCEL_COMPLETE,streamId:t,reason:Zo(l)})}),a.sinkCapability.reject(Zo(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},V4=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var um,ew;class H5e{constructor({parsedData:e,rawData:t}){Y(this,um);Y(this,ew);$(this,um,e),$(this,ew,t)}getRaw(){return m(this,ew)}get(e){return m(this,um).get(e)??null}getAll(){return b9(m(this,um))}has(e){return m(this,um).has(e)}}um=new WeakMap,ew=new WeakMap;const og=Symbol("INTERNAL");var tw,nw,rw,y0;class W5e{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){Y(this,tw,!1);Y(this,nw,!1);Y(this,rw,!1);Y(this,y0,!0);$(this,tw,!!(e&ca.DISPLAY)),$(this,nw,!!(e&ca.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(m(this,rw))return m(this,y0);if(!m(this,y0))return!1;const{print:e,view:t}=this.usage;return m(this,tw)?(t==null?void 0:t.viewState)!=="OFF":m(this,nw)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==og&&gr("Internal method `_setVisible` called."),$(this,rw,r),$(this,y0,t)}}tw=new WeakMap,nw=new WeakMap,rw=new WeakMap,y0=new WeakMap;var Hh,qn,w0,b0,iw,S7;class G5e{constructor(e,t=ca.DISPLAY){Y(this,iw);Y(this,Hh,null);Y(this,qn,new Map);Y(this,w0,null);Y(this,b0,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,$(this,b0,e.order);for(const r of e.groups)m(this,qn).set(r.id,new W5e(t,r));if(e.baseState==="OFF")for(const r of m(this,qn).values())r._setVisible(og,!1);for(const r of e.on)m(this,qn).get(r)._setVisible(og,!0);for(const r of e.off)m(this,qn).get(r)._setVisible(og,!1);$(this,w0,this.getHash())}}isVisible(e){if(m(this,qn).size===0)return!0;if(!e)return iA("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,qn).has(e.id)?m(this,qn).get(e.id).visible:(ln(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return G(this,iw,S7).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!m(this,qn).has(t))return ln(`Optional content group not found: ${t}`),!0;if(m(this,qn).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!m(this,qn).has(t))return ln(`Optional content group not found: ${t}`),!0;if(!m(this,qn).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!m(this,qn).has(t))return ln(`Optional content group not found: ${t}`),!0;if(!m(this,qn).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!m(this,qn).has(t))return ln(`Optional content group not found: ${t}`),!0;if(m(this,qn).get(t).visible)return!1}return!0}return ln(`Unknown optional content policy ${e.policy}.`),!0}return ln(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=m(this,qn).get(e);if(!i){ln(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const o of i.rbGroups)for(const a of o)a!==e&&((s=m(this,qn).get(a))==null||s._setVisible(og,!1,!0));i._setVisible(og,!!t,!0),$(this,Hh,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=m(this,qn).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}$(this,Hh,null)}get hasInitialVisibility(){return m(this,w0)===null||this.getHash()===m(this,w0)}getOrder(){return m(this,qn).size?m(this,b0)?m(this,b0).slice():[...m(this,qn).keys()]:null}getGroups(){return m(this,qn).size>0?b9(m(this,qn)):null}getGroup(e){return m(this,qn).get(e)||null}getHash(){if(m(this,Hh)!==null)return m(this,Hh);const e=new mG;for(const[t,r]of m(this,qn))e.update(`${t}:${r.visible}`);return $(this,Hh,e.hexdigest())}}Hh=new WeakMap,qn=new WeakMap,w0=new WeakMap,b0=new WeakMap,iw=new WeakSet,S7=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=G(this,iw,S7).call(this,s);else if(m(this,qn).has(s))o=m(this,qn).get(s).visible;else return ln(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class K5e{constructor(e,{disableRange:t=!1,disableStream:r=!1}){ki(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});ki(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ki(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Y5e(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new X5e(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class Y5e{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=A9(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class X5e{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Q5e(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=o(n),t){const u=c(t);return s(u)}if(t=r("filename","i").exec(n),t){t=t[1];let u=a(t);return u=c(u),s(u)}function r(u,h){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(u,h){if(u){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const p=new TextDecoder(u,{fatal:!0}),f=oA(h);h=p.decode(f),e=!1}catch{}}return h}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function o(u){const h=[];let p;const f=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=f.exec(u))!==null;){let[,w,A,x]=p;if(w=parseInt(w,10),w in h){if(w===0)break;continue}h[w]=[A,x]}const b=[];for(let w=0;w<h.length&&w in h;++w){let[A,x]=h[w];x=a(x),A&&(x=unescape(x),w===0&&(x=l(x))),b.push(x)}return b.join("")}function a(u){if(u.startsWith('"')){const h=u.slice(1).split('\\"');for(let p=0;p<h.length;++p){const f=h[p].indexOf('"');f!==-1&&(h[p]=h[p].slice(0,f),h.length=p+1),h[p]=h[p].replaceAll(/\\(.)/g,"$1")}u=h.join('"')}return u}function l(u){const h=u.indexOf("'");if(h===-1)return u;const p=u.slice(0,h),b=u.slice(h+1).replace(/^[^']*'/,"");return i(p,b)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,p,f,b){if(f==="q"||f==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,A){return String.fromCharCode(parseInt(A,16))}),i(p,b);try{b=atob(b)}catch{}return i(p,b)})}return""}function N9(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function k9({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function I9(n){const e=n.get("Content-Disposition");if(e){let t=Q5e(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(A9(t))return t}return null}function cA(n,e){return n===404||n===0&&e.startsWith("file:")?new k1('Missing PDF "'+e+'".'):new sA(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function kG(n){return n===200||n===206}function IG(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function PG(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ln(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class cj{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=N9(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ki(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new J5e(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Z5e(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class J5e{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,IG(r,this._withCredentials,this._abortController)).then(s=>{if(!kG(s.status))throw cA(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:l}=k9({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=I9(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new I1("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:PG(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class Z5e{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const o=i.url;fetch(o,IG(s,this._withCredentials,this._abortController)).then(a=>{if(!kG(a.status))throw cA(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:PG(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const v8=200,y8=206;function ewe(n){const e=n.response;return typeof e!="string"?e:oA(e).buffer}class twe{constructor({url:e,httpHeaders:t,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=N9(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=y8):i.expectedStatus=v8,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var l,c,u;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const s=i.status||v8;if(!(s===v8&&r.expectedStatus===y8)&&s!==r.expectedStatus){(c=r.onError)==null||c.call(r,i.status);return}const a=ewe(i);if(s===y8){const h=i.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);r.onDone({begin:parseInt(p[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(u=r.onError)==null||u.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class nwe{constructor(e){this._source=e,this._manager=new twe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ki(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new rwe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new iwe(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class rwe{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(o=>{const[a,...l]=o.split(": ");return[a,l.join(": ")]})),{allowRangeRequests:i,suggestedLength:s}=k9({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=I9(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=cA(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class iwe{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=cA(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const swe=/^[a-z][a-z0-9\-+.]+:/i;function owe(n){if(swe.test(n))return new URL(n);const e=Vf.get("url");return new URL(e.pathToFileURL(n))}function RG(n,e,t){return n.protocol==="http:"?Vf.get("http").request(n,{headers:e},t):Vf.get("https").request(n,{headers:e},t)}class awe{constructor(e){this.source=e,this.url=owe(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=N9(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ki(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new uwe(this):new lwe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new dwe(this,e,t):new cwe(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class LG{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new I1("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class MG{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class lwe extends LG{constructor(e){super(e);const t=Object.fromEntries(e.headers),r=i=>{if(i.statusCode===404){const l=new k1(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(i);const s=new Headers(this._readableStream.headers),{allowRangeRequests:o,suggestedLength:a}=k9({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=I9(s)};this._request=RG(this._url,t,r),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class cwe extends MG{constructor(e,t,r){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${t}-${r-1}`;const s=o=>{if(o.statusCode===404){const a=new k1(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(o)};this._request=RG(this._url,i,s),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class uwe extends LG{constructor(e){super(e);const t=Vf.get("fs");t.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new k1(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class dwe extends MG{constructor(e,t,r){super(e);const i=Vf.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:r-1}))}}const hwe=1e5,go=30,fwe=.8;var Qj,Wh,bo,sw,ow,dm,Wu,aw,lw,hm,x0,_0,Gh,A0,cw,E0,fm,uw,dw,Wr,pm,mm,hw,Kh,S0,Od,DG,jG,T7,xa,z4,N7,OG,FG;let C7=(Wr=class{constructor({textContentSource:e,container:t,viewport:r}){Y(this,Od);Y(this,Wh,Promise.withResolvers());Y(this,bo,null);Y(this,sw,!1);Y(this,ow,!!((Qj=globalThis.FontInspector)!=null&&Qj.enabled));Y(this,dm,null);Y(this,Wu,null);Y(this,aw,0);Y(this,lw,0);Y(this,hm,null);Y(this,x0,null);Y(this,_0,0);Y(this,Gh,0);Y(this,A0,Object.create(null));Y(this,cw,[]);Y(this,E0,null);Y(this,fm,[]);Y(this,uw,new WeakMap);Y(this,dw,null);var l;if(e instanceof ReadableStream)$(this,E0,e);else if(typeof e=="object")$(this,E0,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');$(this,bo,$(this,x0,t)),$(this,Gh,r.scale*(globalThis.devicePixelRatio||1)),$(this,_0,r.rotation),$(this,Wu,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;$(this,dw,[1,0,0,-1,-o,a+s]),$(this,lw,i),$(this,aw,s),G(l=Wr,xa,OG).call(l),u1(t,r),m(this,Wh).promise.finally(()=>{m(Wr,S0).delete(this),$(this,Wu,null),$(this,A0,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=no.platform;return xn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{m(this,hm).read().then(({value:t,done:r})=>{if(r){m(this,Wh).resolve();return}m(this,dm)??$(this,dm,t.lang),Object.assign(m(this,A0),t.styles),G(this,Od,DG).call(this,t.items),e()},m(this,Wh).reject)};return $(this,hm,m(this,E0).getReader()),m(Wr,S0).add(this),e(),m(this,Wh).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==m(this,_0)&&(t==null||t(),$(this,_0,i),u1(m(this,x0),{rotation:i})),r!==m(this,Gh)){t==null||t(),$(this,Gh,r);const o={div:null,properties:null,ctx:G(s=Wr,xa,z4).call(s,m(this,dm))};for(const a of m(this,fm))o.properties=m(this,uw).get(a),o.div=a,G(this,Od,T7).call(this,o)}}cancel(){var t;const e=new I1("TextLayer task cancelled.");(t=m(this,hm))==null||t.cancel(e).catch(()=>{}),$(this,hm,null),m(this,Wh).reject(e)}get textDivs(){return m(this,fm)}get textContentItemsStr(){return m(this,cw)}static cleanup(){if(!(m(this,S0).size>0)){m(this,pm).clear();for(const{canvas:e}of m(this,mm).values())e.remove();m(this,mm).clear()}}},Wh=new WeakMap,bo=new WeakMap,sw=new WeakMap,ow=new WeakMap,dm=new WeakMap,Wu=new WeakMap,aw=new WeakMap,lw=new WeakMap,hm=new WeakMap,x0=new WeakMap,_0=new WeakMap,Gh=new WeakMap,A0=new WeakMap,cw=new WeakMap,E0=new WeakMap,fm=new WeakMap,uw=new WeakMap,dw=new WeakMap,pm=new WeakMap,mm=new WeakMap,hw=new WeakMap,Kh=new WeakMap,S0=new WeakMap,Od=new WeakSet,DG=function(e){var i,s;if(m(this,sw))return;(s=m(this,Wu)).ctx??(s.ctx=G(i=Wr,xa,z4).call(i,m(this,dm)));const t=m(this,fm),r=m(this,cw);for(const o of e){if(t.length>hwe){ln("Ignoring additional textDivs for performance reasons."),$(this,sw,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=m(this,bo);$(this,bo,document.createElement("span")),m(this,bo).classList.add("markedContent"),o.id!==null&&m(this,bo).setAttribute("id",`${o.id}`),a.append(m(this,bo))}else o.type==="endMarkedContent"&&$(this,bo,m(this,bo).parentNode);continue}r.push(o.str),G(this,Od,jG).call(this,o)}},jG=function(e){var w;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,fm).push(t);const i=At.transform(m(this,dw),e.transform);let s=Math.atan2(i[1],i[0]);const o=m(this,A0)[e.fontName];o.vertical&&(s+=Math.PI/2);let a=m(this,ow)&&o.fontSubstitution||o.fontFamily;a=Wr.fontFamilyMap.get(a)||a;const l=Math.hypot(i[2],i[3]),c=l*G(w=Wr,xa,FG).call(w,a,m(this,dm));let u,h;s===0?(u=i[4],h=i[5]-c):(u=i[4]+c*Math.sin(s),h=i[5]-c*Math.cos(s));const p="calc(var(--scale-factor)*",f=t.style;m(this,bo)===m(this,x0)?(f.left=`${(100*u/m(this,lw)).toFixed(2)}%`,f.top=`${(100*h/m(this,aw)).toFixed(2)}%`):(f.left=`${p}${u.toFixed(2)}px)`,f.top=`${p}${h.toFixed(2)}px)`),f.fontSize=`${p}${(m(Wr,Kh)*l).toFixed(2)}px)`,f.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,m(this,ow)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const A=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);A!==x&&Math.max(A,x)/Math.min(A,x)>1.5&&(b=!0)}if(b&&(r.canvasWidth=o.vertical?e.height:e.width),m(this,uw).set(t,r),m(this,Wu).div=t,m(this,Wu).properties=r,G(this,Od,T7).call(this,m(this,Wu)),r.hasText&&m(this,bo).append(t),r.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),m(this,bo).append(A)}},T7=function(e){var a;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let o="";if(m(Wr,Kh)>1&&(o=`scale(${1/m(Wr,Kh)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:u}=r;G(a=Wr,xa,N7).call(a,i,u*m(this,Gh),l);const{width:h}=i.measureText(t.textContent);h>0&&(o=`scaleX(${c*m(this,Gh)/h}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(s.transform=o)},xa=new WeakSet,z4=function(e=null){let t=m(this,mm).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,mm).set(e,t),m(this,hw).set(t,{size:0,family:""})}return t},N7=function(e,t,r){const i=m(this,hw).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},OG=function(){if(m(this,Kh)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),$(this,Kh,e.getBoundingClientRect().height),e.remove()},FG=function(e,t){const r=m(this,pm).get(e);if(r)return r;const i=G(this,xa,z4).call(this,t);i.canvas.width=i.canvas.height=go,G(this,xa,N7).call(this,i,go,e);const s=i.measureText("");let o=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);if(o){const u=o/(o+a);return m(this,pm).set(e,u),i.canvas.width=i.canvas.height=0,u}i.strokeStyle="red",i.clearRect(0,0,go,go),i.strokeText("g",0,0);let l=i.getImageData(0,0,go,go).data;a=0;for(let u=l.length-1-3;u>=0;u-=4)if(l[u]>0){a=Math.ceil(u/4/go);break}i.clearRect(0,0,go,go),i.strokeText("A",0,go),l=i.getImageData(0,0,go,go).data,o=0;for(let u=0,h=l.length;u<h;u+=4)if(l[u]>0){o=go-Math.floor(u/4/go);break}i.canvas.width=i.canvas.height=0;const c=o?o/(o+a):fwe;return m(this,pm).set(e,c),c},Y(Wr,xa),Y(Wr,pm,new Map),Y(Wr,mm,new Map),Y(Wr,hw,new WeakMap),Y(Wr,Kh,null),Y(Wr,S0,new Set),Wr);class T5{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(T5.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const pwe=65536,mwe=100,gwe=5e3,vwe=Ds?k5e:C5e,ywe=Ds?I5e:bG,wwe=Ds?N5e:T5e,bwe=Ds?P5e:EG;function xwe(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new k7,{docId:t}=e,r=n.url?_we(n.url):null,i=n.data?Awe(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof BG?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:pwe;let u=n.worker instanceof Wg?n.worker:null;const h=n.verbosity,p=typeof n.docBaseUrl=="string"&&!lA(n.docBaseUrl)?n.docBaseUrl:null,f=typeof n.cMapUrl=="string"?n.cMapUrl:null,b=n.cMapPacked!==!1,w=n.CMapReaderFactory||ywe,A=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,x=n.StandardFontDataFactory||bwe,E=n.stopAtErrors!==!0,S=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,T=n.isEvalSupported!==!1,B=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Ds,V=typeof n.isChrome=="boolean"?n.isChrome:!no.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),M=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,N=typeof n.disableFontFace=="boolean"?n.disableFontFace:Ds,P=n.fontExtraProperties===!0,O=n.enableXfa===!0,k=n.ownerDocument||globalThis.document,j=n.disableRange===!0,L=n.disableStream===!0,W=n.disableAutoFetch===!0,ue=n.pdfBug===!0,de=n.CanvasFactory||vwe,le=n.FilterFactory||wwe,J=n.enableHWA===!0,re=l?l.length:n.length??NaN,ge=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Ds&&!N,ye=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:w===bG&&x===EG&&f&&A&&$v(f,document.baseURI)&&$v(A,document.baseURI);n.canvasFactory&&QD("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&QD("`filterFactory`-instance option, please use `FilterFactory` instead.");const z=null;r5e(h);const Q={canvasFactory:new de({ownerDocument:k,enableHWA:J}),filterFactory:new le({docId:t,ownerDocument:k}),cMapReaderFactory:ye?null:new w({baseUrl:f,isCompressed:b}),standardFontDataFactory:ye?null:new x({baseUrl:A})};if(!u){const fe={verbosity:h,port:dd.workerPort};u=fe.port?Wg.fromPort(fe):new Wg(fe),e._worker=u}const ie={docId:t,apiVersion:"4.8.69",data:i,password:a,disableAutoFetch:W,rangeChunkSize:c,length:re,docBaseUrl:p,enableXfa:O,evaluatorOptions:{maxImageSize:S,disableFontFace:N,ignoreErrors:E,isEvalSupported:T,isOffscreenCanvasSupported:B,isChrome:V,canvasMaxAreaInBytes:M,fontExtraProperties:P,useSystemFonts:ge,cMapUrl:ye?f:null,standardFontDataUrl:ye?A:null}},ce={disableFontFace:N,fontExtraProperties:P,ownerDocument:k,pdfBug:ue,styleElement:z,loadingParams:{disableAutoFetch:W,enableXfa:O}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const fe=u.messageHandler.sendWithPromise("GetDocRequest",ie,i?[i.buffer]:null);let he;if(l)he=new K5e(l,{disableRange:j,disableStream:L});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");let Ee;Ds?Ee=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&$v(r)?cj:awe:Ee=$v(r)?cj:nwe,he=new Ee({url:r,length:re,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:j,disableStream:L})}return fe.then(Ee=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const xe=new Xv(t,Ee,u.port),Ae=new Twe(xe,e,he,ce,Q);e._transport=Ae,xe.send("Ready",null)})}).catch(e._capability.reject),e}function _we(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Ds&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Awe(n){if(Ds&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return oA(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function uj(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var L_;const M_=class M_{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Di(M_,L_)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};L_=new WeakMap,Y(M_,L_,0);let k7=M_,BG=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){gr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class Ewe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return xn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Yh,Gu,Ja,ag,$4;class Swe{constructor(e,t,r,i=!1){Y(this,Ja);Y(this,Yh,null);Y(this,Gu,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new XD:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new UG,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Ib({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return xn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=Nh.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:h=!1}){var T,B;(T=this._stats)==null||T.time("Overall");const p=this._transport.getRenderingIntent(r,i,u,h),{renderingIntent:f,cacheKey:b}=p;$(this,Gu,!1),G(this,Ja,$4).call(this),a||(a=this._transport.getOptionalContentConfig(f));let w=this._intentStates.get(b);w||(w=Object.create(null),this._intentStates.set(b,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const A=!!(f&ca.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(B=this._stats)==null||B.time("Page Request"),this._pumpOperatorList(p));const x=V=>{var M;w.renderTasks.delete(E),(this._maybeCleanupAfterRender||A)&&$(this,Gu,!0),G(this,Ja,ag).call(this,!A),V?(E.capability.reject(V),this._abortOperatorList({intentState:w,reason:V instanceof Error?V:new Error(V)})):E.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(M=globalThis.Stats)!=null&&M.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},E=new P7({callback:x,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:c});(w.renderTasks||(w.renderTasks=new Set)).add(E);const S=E.task;return Promise.all([w.displayReadyCapability.promise,a]).then(([V,M])=>{var N;if(this.destroyed){x();return}if((N=this._stats)==null||N.time("Rendering"),!(M.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");E.initializeGraphics({transparency:V,optionalContentConfig:M}),E.operatorListChanged()}).catch(x),S}getOperatorList({intent:e="display",annotationMode:t=Nh.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,r,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>T5.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),$(this,Gu,!1),G(this,Ja,$4).call(this),Promise.all(e)}cleanup(e=!1){$(this,Gu,!0);const t=G(this,Ja,ag).call(this,!1);return e&&t&&this._stats&&(this._stats=new XD),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&G(this,Ja,ag).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:o}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},o).getReader(),c=this._intentStates.get(t);c.streamReader=l;const u=()=>{l.read().then(({value:h,done:p})=>{if(p){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),u())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const p of c.renderTasks)p.operatorListChanged();G(this,Ja,ag).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};u()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof _9){let i=mwe;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new I1(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Yh=new WeakMap,Gu=new WeakMap,Ja=new WeakSet,ag=function(e=!1){if(G(this,Ja,$4).call(this),!m(this,Gu)||this.destroyed)return!1;if(e)return $(this,Yh,setTimeout(()=>{$(this,Yh,null),G(this,Ja,ag).call(this,!1)},gwe)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),$(this,Gu,!1),!0},$4=function(){m(this,Yh)&&(clearTimeout(m(this,Yh)),$(this,Yh,null))};var Ku,D_;class Cwe{constructor(){Y(this,Ku,new Map);Y(this,D_,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};m(this,D_).then(()=>{for(const[i]of m(this,Ku))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){ln("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}m(this,Ku).set(t,i)}removeEventListener(e,t){const r=m(this,Ku).get(t);r==null||r(),m(this,Ku).delete(t)}terminate(){for(const[,e]of m(this,Ku))e==null||e();m(this,Ku).clear()}}Ku=new WeakMap,D_=new WeakMap;var j_,gm,vm,C0,q4,T0,H4;const Ar=class Ar{constructor({name:e=null,port:t=null,verbosity:r=i5e()}={}){Y(this,C0);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=m(Ar,vm))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(m(Ar,vm)||$(Ar,vm,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Ds?Promise.all([Vf.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Xv("main","worker",e),this._messageHandler.on("ready",function(){}),G(this,C0,q4).call(this)}_initialize(){if(m(Ar,gm)||m(Ar,T0,H4)){this._setupFakeWorker();return}let{workerSrc:e}=Ar;try{Ar._isSameOrigin(window.location.href,e)||(e=Ar._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new Xv("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,G(this,C0,q4).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{iA("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){m(Ar,gm)||(ln("Setting up fake worker."),$(Ar,gm,!0)),Ar._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new Cwe;this._port=t;const r=`fake${Di(Ar,j_)._++}`,i=new Xv(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new Xv(r,r+"_worker",t),G(this,C0,q4).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=m(Ar,vm))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=m(this,vm))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Ar(e)}static get workerSrc(){if(dd.workerSrc)return dd.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return xn(this,"_setupFakeWorkerGlobal",(async()=>m(this,T0,H4)?m(this,T0,H4):(await import(this.workerSrc)).WorkerMessageHandler)())}};j_=new WeakMap,gm=new WeakMap,vm=new WeakMap,C0=new WeakSet,q4=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},T0=new WeakSet,H4=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},Y(Ar,T0),Y(Ar,j_,0),Y(Ar,gm,!1),Y(Ar,vm),Ds&&($(Ar,gm,!0),dd.workerSrc||(dd.workerSrc="./pdf.worker.mjs")),Ar._isSameOrigin=(e,t)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const i=new URL(t,r);return r.origin===i.origin},Ar._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Wg=Ar;var Yu,jc,N0,k0,Oc,ym,Qv;class Twe{constructor(e,t,r,i,s){Y(this,ym);Y(this,Yu,new Map);Y(this,jc,new Map);Y(this,N0,new Map);Y(this,k0,new Map);Y(this,Oc,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new UG,this.fontLoader=new E5e({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return xn(this,"annotationStorage",new C9)}getRenderingIntent(e,t=Nh.ENABLE,r=null,i=!1,s=!1){let o=ca.DISPLAY,a=v7;switch(e){case"any":o=ca.ANY;break;case"display":break;case"print":o=ca.PRINT;break;default:ln(`getRenderingIntent - invalid intent: ${e}`)}const l=o&ca.PRINT&&r instanceof vG?r:this.annotationStorage;switch(t){case Nh.DISABLE:o+=ca.ANNOTATIONS_DISABLE;break;case Nh.ENABLE:break;case Nh.ENABLE_FORMS:o+=ca.ANNOTATIONS_FORMS;break;case Nh.ENABLE_STORAGE:o+=ca.ANNOTATIONS_STORAGE,a=l.serializable;break;default:ln(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=ca.IS_EDITING),s&&(o+=ca.OPLIST);const{ids:c,hash:u}=l.modifiedIds,h=[o,a.hash,u];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=m(this,Oc))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,jc).values())e.push(i._destroy());m(this,jc).clear(),m(this,N0).clear(),m(this,k0).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),m(this,Yu).clear(),this.filterFactory.destroy(),C7.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new I1("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{ki(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}ki(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:o}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(r,i)=>{ki(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}ki(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new Ewe(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new YC(r.message,r.code);break;case"InvalidPDFException":i=new $W(r.message);break;case"MissingPDFException":i=new k1(r.message);break;case"UnexpectedResponseException":i=new sA(r.message,r.status);break;case"UnknownErrorException":i=new XC(r.message,r.details);break;default:gr("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if($(this,Oc,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?m(this,Oc).reject(s):m(this,Oc).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){m(this,Oc).reject(s)}}else m(this,Oc).reject(new YC(r.message,r.code));return m(this,Oc).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;m(this,jc).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in s){const f=s.error;ln(`Error during font loading: ${f}`),this.commonObjs.resolve(r,f);break}const u=c&&((o=globalThis.FontInspector)!=null&&o.enabled)?(f,b)=>globalThis.FontInspector.fontAdded(f,b):null,h=new S5e(s,{disableFontFace:a,inspectFont:u});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:p}=s;ki(p,"The imageRef must be defined.");for(const f of m(this,jc).values())for(const[,b]of f.objs)if((b==null?void 0:b.ref)===p)return b.dataLen?(this.commonObjs.resolve(r,structuredClone(b)),b.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=m(this,jc).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(r,o),(o==null?void 0:o.dataLen)>Zye&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&ln("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=m(this,N0).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&m(this,k0).set(s.refStr,e);const o=new Swe(t,s,this,this._params.pdfBug);return m(this,jc).set(t,o),o});return m(this,N0).set(t,i),i}getPageIndex(e){return uj(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return G(this,ym,Qv).call(this,"GetFieldObjects")}hasJSActions(){return G(this,ym,Qv).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return G(this,ym,Qv).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return G(this,ym,Qv).call(this,"GetOptionalContentConfig").then(t=>new G5e(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=m(this,Yu).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new H5e(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return m(this,Yu).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of m(this,jc).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,Yu).clear(),this.filterFactory.destroy(!0),C7.cleanup()}}cachedPageNumber(e){if(!uj(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,k0).get(t)??null}}Yu=new WeakMap,jc=new WeakMap,N0=new WeakMap,k0=new WeakMap,Oc=new WeakMap,ym=new WeakSet,Qv=function(e,t=null){const r=m(this,Yu).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return m(this,Yu).set(e,i),i};const Gx=Symbol("INITIAL_DATA");var Rl,fw,I7;class UG{constructor(){Y(this,fw);Y(this,Rl,Object.create(null))}get(e,t=null){if(t){const i=G(this,fw,I7).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=m(this,Rl)[e];if(!r||r.data===Gx)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=m(this,Rl)[e];return!!t&&t.data!==Gx}resolve(e,t=null){const r=G(this,fw,I7).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in m(this,Rl)){const{data:r}=m(this,Rl)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}$(this,Rl,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,Rl)){const{data:t}=m(this,Rl)[e];t!==Gx&&(yield[e,t])}}}Rl=new WeakMap,fw=new WeakSet,I7=function(e){var t;return(t=m(this,Rl))[e]||(t[e]={...Promise.withResolvers(),data:Gx})};var Xh;class Nwe{constructor(e){Y(this,Xh,null);$(this,Xh,e),this.onContinue=null}get promise(){return m(this,Xh).capability.promise}cancel(e=0){m(this,Xh).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,Xh).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=m(this,Xh);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Xh=new WeakMap;var Qh,wm;const Np=class Np{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:p=null}){Y(this,Qh,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Nwe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(m(Np,wm).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(Np,wm).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new Hg(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),m(this,Qh)&&(window.cancelAnimationFrame(m(this,Qh)),$(this,Qh,null)),m(Np,wm).delete(this._canvas),this.callback(e||new _9(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?$(this,Qh,window.requestAnimationFrame(()=>{$(this,Qh,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(Np,wm).delete(this._canvas),this.callback())))}};Qh=new WeakMap,wm=new WeakMap,Y(Np,wm,new WeakSet);let P7=Np;const kwe="4.8.69",Iwe="3634dab10";function dj(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function kv(n){return Math.max(0,Math.min(255,255*n))}class hj{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=kv(e),[e,e,e]}static G_HTML([e]){const t=dj(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(kv)}static RGB_HTML(e){return`#${e.map(dj).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[kv(1-Math.min(1,e+i)),kv(1-Math.min(1,r+i)),kv(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class Pwe{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){gr("Abstract method `_createSVG` called.")}}class P9 extends Pwe{_createSVG(e){return document.createElementNS(Ru,e)}}class VG{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var h,p;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=f}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const f=document.createTextNode(i.value);o.append(f),a&&T5.shouldBuildText(i.name)&&c.push(f)}return{textDivs:c}}const u=[[i,-1,o]];for(;u.length>0;){const[f,b,w]=u.at(-1);if(b+1===f.children.length){u.pop();continue}const A=f.children[++u.at(-1)[1]];if(A===null)continue;const{name:x}=A;if(x==="#text"){const S=document.createTextNode(A.value);c.push(S),w.append(S);continue}const E=(h=A==null?void 0:A.attributes)!=null&&h.xmlns?document.createElementNS(A.attributes.xmlns,x):document.createElement(x);if(w.append(E),A.attributes&&this.setAttributes({html:E,element:A,storage:t,intent:s,linkService:r}),((p=A.children)==null?void 0:p.length)>0)u.push([A,-1,E]);else if(A.value){const S=document.createTextNode(A.value);a&&T5.shouldBuildText(x)&&c.push(S),E.append(S)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Rb=1e3,Rwe=9,h1=new WeakSet;function _d(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class Lwe{static create(e){switch(e.data.annotationType){case Ai.LINK:return new zG(e);case Ai.TEXT:return new Mwe(e);case Ai.WIDGET:switch(e.data.fieldType){case"Tx":return new Dwe(e);case"Btn":return e.data.radioButton?new HG(e):e.data.checkBox?new Owe(e):new Fwe(e);case"Ch":return new Bwe(e);case"Sig":return new jwe(e)}return new P1(e);case Ai.POPUP:return new L7(e);case Ai.FREETEXT:return new XG(e);case Ai.LINE:return new Vwe(e);case Ai.SQUARE:return new zwe(e);case Ai.CIRCLE:return new $we(e);case Ai.POLYLINE:return new QG(e);case Ai.CARET:return new Hwe(e);case Ai.INK:return new R9(e);case Ai.POLYGON:return new qwe(e);case Ai.HIGHLIGHT:return new JG(e);case Ai.UNDERLINE:return new Wwe(e);case Ai.SQUIGGLY:return new Gwe(e);case Ai.STRIKEOUT:return new Kwe(e);case Ai.STAMP:return new ZG(e);case Ai.FILEATTACHMENT:return new Ywe(e);default:return new li(e)}}}var bm,I0,P0,pw,R7;const B9=class B9{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){Y(this,pw);Y(this,bm,null);Y(this,I0,!1);Y(this,P0,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return B9._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;m(this,bm)||$(this,bm,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&G(this,pw,R7).call(this,t),(r=m(this,P0))==null||r.popup.updateEdited(e)}resetEdited(){var e;m(this,bm)&&(G(this,pw,R7).call(this,m(this,bm).rect),(e=m(this,P0))==null||e.popup.resetEdited(),$(this,bm,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof P1||(s.tabIndex=Rb);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof L7){const{rotation:w}=t;return!t.hasOwnCanvas&&w!==0&&this.setRotation(w,s),s}const{width:a,height:l}=_d(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const w=t.borderStyle.horizontalCornerRadius,A=t.borderStyle.verticalCornerRadius;if(w>0||A>0){const E=`calc(${w}px * var(--scale-factor)) / calc(${A}px * var(--scale-factor))`;o.borderRadius=E}else if(this instanceof HG){const E=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=E}switch(t.borderStyle.style){case Tv.SOLID:o.borderStyle="solid";break;case Tv.DASHED:o.borderStyle="dashed";break;case Tv.BEVELED:ln("Unimplemented border style: beveled");break;case Tv.INSET:ln("Unimplemented border style: inset");break;case Tv.UNDERLINE:o.borderBottomStyle="solid";break}const x=t.borderColor||null;x?($(this,I0,!0),o.borderColor=At.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):o.borderWidth=0}const c=At.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:h,pageX:p,pageY:f}=i.rawDims;o.left=`${100*(c[0]-p)/u}%`,o.top=`${100*(c[1]-f)/h}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(o.width=`${100*a/u}%`,o.height=`${100*l/h}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=_d(this.data.rect);let a,l;e%180===0?(a=100*s/r,l=100*o/i):(a=100*o/r,l=100*s/i),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=hj[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:hj[`${o}_rgb`](a)})};return xn(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(w=>Math.fround(w));if(e.length===8){const[w,A,x,E]=e.subarray(2,6);if(i===w&&s===A&&t===x&&r===E)return}const{style:o}=this.container;let a;if(m(this,I0)){const{borderColor:w,borderWidth:A}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-r,{svgFactory:u}=this,h=u.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const p=u.createElement("defs");h.append(p);const f=u.createElement("clipPath"),b=`clippath_${this.data.id}`;f.setAttribute("id",b),f.setAttribute("clipPathUnits","objectBoundingBox"),p.append(f);for(let w=2,A=e.length;w<A;w+=8){const x=e[w],E=e[w+1],S=e[w+2],T=e[w+3],B=u.createElement("rect"),V=(S-t)/l,M=(s-E)/c,N=(x-S)/l,P=(E-T)/c;B.setAttribute("x",V),B.setAttribute("y",M),B.setAttribute("width",N),B.setAttribute("height",P),f.append(B),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${V}" y="${M}" width="${N}" height="${P}"/>`)}m(this,I0)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${b})`}_createPopup(){const{data:e}=this,t=$(this,P0,new L7({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){gr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!h1.has(c)){ln(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&h1.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};bm=new WeakMap,I0=new WeakMap,P0=new WeakMap,pw=new WeakSet,R7=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:c,height:u}=_d(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*c/s}%`,t.height=`${100*u/o}%`):this.setRotation(i)};let li=B9;var ha,wp,$G,qG;class zG extends li{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});Y(this,ha);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(G(this,ha,$G).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(G(this,ha,qG).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&G(this,ha,wp).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),G(this,ha,wp).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),G(this,ha,wp).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),G(this,ha,wp).call(this),!this._fieldObjects){ln('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const p=new Set(o);for(const f of s){const b=this._fieldObjects[f]||[];for(const{id:w}of b)p.add(w)}for(const f of Object.values(this._fieldObjects))for(const b of f)p.has(b.id)===a&&l.push(b)}else for(const p of Object.values(this._fieldObjects))l.push(...p);const c=this.annotationStorage,u=[];for(const p of l){const{id:f}=p;switch(u.push(f),p.type){case"text":{const w=p.defaultValue||"";c.setValue(f,{value:w});break}case"checkbox":case"radiobutton":{const w=p.defaultValue===p.exportValues;c.setValue(f,{value:w});break}case"combobox":case"listbox":{const w=p.defaultValue||"";c.setValue(f,{value:w});break}default:continue}const b=document.querySelector(`[data-element-id="${f}"]`);if(b){if(!h1.has(b)){ln(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}ha=new WeakSet,wp=function(){this.container.setAttribute("data-internal-link","")},$G=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},G(this,ha,wp).call(this)},qG=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),G(this,ha,wp).call(this)};class Mwe extends li{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class P1 extends li{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return no.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":At.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Rwe,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(f8*i))||1,h=c/u;o=Math.min(i,l(h/f8))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/f8))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=At.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Dwe extends P1{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",c??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),h1.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Rb,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",p=>{e.setValue(t,{value:p.target.value}),this.setPropertyOnSiblings(r,"value",p.target.value,"value"),u.formattedValue=null}),r.addEventListener("resetform",p=>{const f=this.data.defaultFieldValue??"";r.value=u.userValue=f,u.formattedValue=null});let h=p=>{const{formattedValue:f}=u;f!=null&&(p.target.value=f),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",f=>{var w;if(u.focused)return;const{target:b}=f;u.userValue&&(b.value=u.userValue),u.lastCommittedValue=b.value,u.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(u.focused=!0)}),r.addEventListener("updatefromsandbox",f=>{this.showElementAndHideCanvas(f.target);const b={value(w){u.userValue=w.detail.value??"",e.setValue(t,{value:u.userValue.toString()}),w.target.value=u.userValue},formattedValue(w){const{formattedValue:A}=w.detail;u.formattedValue=A,A!=null&&w.target!==document.activeElement&&(w.target.value=A),e.setValue(t,{formattedValue:A})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var S;const{charLimit:A}=w.detail,{target:x}=w;if(A===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",A);let E=u.userValue;!E||E.length<=A||(E=E.slice(0,A),x.value=u.userValue=E,e.setValue(t,{value:E}),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(b,f)}),r.addEventListener("keydown",f=>{var A;u.commitKey=1;let b=-1;if(f.key==="Escape"?b=0:f.key==="Enter"&&!this.data.multiLine?b=2:f.key==="Tab"&&(u.commitKey=3),b===-1)return;const{value:w}=f.target;u.lastCommittedValue!==w&&(u.lastCommittedValue=w,u.userValue=w,(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:b,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}))});const p=h;h=null,r.addEventListener("blur",f=>{var w,A;if(!u.focused||!f.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(u.focused=!1);const{value:b}=f.target;u.userValue=b,u.lastCommittedValue!==b&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:u.commitKey,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}})),p(f)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",f=>{var B;u.lastCommittedValue=null;const{data:b,target:w}=f,{value:A,selectionStart:x,selectionEnd:E}=w;let S=x,T=E;switch(f.inputType){case"deleteWordBackward":{const V=A.substring(0,x).match(/\w*[^\w]*$/);V&&(S-=V[0].length);break}case"deleteWordForward":{const V=A.substring(x).match(/^[^\w]*\w*/);V&&(T+=V[0].length);break}case"deleteContentBackward":x===E&&(S-=1);break;case"deleteContentForward":x===E&&(T+=1);break}f.preventDefault(),(B=this.linkService.eventBus)==null||B.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,change:b||"",willCommit:!1,selStart:S,selEnd:T}})}),this._setEventListeners(r,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.value)}if(h&&r.addEventListener("blur",h),this.data.comb){const f=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${f}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class jwe extends P1{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Owe extends P1{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return h1.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Rb,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class HG extends P1{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(h1.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Rb,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const p=u&&h.id===r;h.domElement&&(h.domElement.checked=p),e.setValue(h.id,{value:p})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Fwe extends zG{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class Bwe extends P1{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");h1.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Rb;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const h=this.data.defaultFieldValue;for(const p of i.options)p.selected=p.value===h});for(const u of this.data.options){const h=document.createElement("option");h.textContent=u.displayValue,h.value=u.exportValue,r.value.includes(u.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),o=()=>{u.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=u=>{const h=u?"value":"textContent",{options:p,multiple:f}=i;return f?Array.prototype.filter.call(p,b=>b.selected).map(b=>b[h]):p.selectedIndex===-1?null:p[p.selectedIndex][h]};let l=a(!1);const c=u=>{const h=u.target.options;return Array.prototype.map.call(h,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const h={value(p){o==null||o();const f=p.detail.value,b=new Set(Array.isArray(f)?f:[f]);for(const w of i.options)w.selected=b.has(w.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(p){i.multiple=!0},remove(p){const f=i.options,b=p.detail.remove;f[b].selected=!1,i.remove(b),f.length>0&&Array.prototype.findIndex.call(f,A=>A.selected)===-1&&(f[0].selected=!0),e.setValue(t,{value:a(!0),items:c(p)}),l=a(!1)},clear(p){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(p){const{index:f,displayValue:b,exportValue:w}=p.detail.insert,A=i.children[f],x=document.createElement("option");x.textContent=b,x.value=w,A?A.before(x):i.append(x),e.setValue(t,{value:a(!0),items:c(p)}),l=a(!1)},items(p){const{items:f}=p.detail;for(;i.length!==0;)i.remove(0);for(const b of f){const{displayValue:w,exportValue:A}=b,x=document.createElement("option");x.textContent=w,x.value=A,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(p)}),l=a(!1)},indices(p){const f=new Set(p.detail.indices);for(const b of p.target.options)b.selected=f.has(b.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(h,u)}),i.addEventListener("input",u=>{var f;const h=a(!0),p=a(!1);e.setValue(t,{value:h}),u.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:p,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class L7 extends li{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:li._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Uwe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${x9}${r}`).join(",")),this.container}}var R0,O_,F_,L0,xm,qr,Xu,M0,mw,gw,D0,Qu,Ll,Ju,vw,Zu,yw,_m,Am,Qn,W4,M7,WG,GG,KG,YG,G4,K4,D7;class Uwe{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:h}){Y(this,Qn);Y(this,R0,G(this,Qn,KG).bind(this));Y(this,O_,G(this,Qn,D7).bind(this));Y(this,F_,G(this,Qn,K4).bind(this));Y(this,L0,G(this,Qn,G4).bind(this));Y(this,xm,null);Y(this,qr,null);Y(this,Xu,null);Y(this,M0,null);Y(this,mw,null);Y(this,gw,null);Y(this,D0,null);Y(this,Qu,!1);Y(this,Ll,null);Y(this,Ju,null);Y(this,vw,null);Y(this,Zu,null);Y(this,yw,null);Y(this,_m,null);Y(this,Am,!1);var p;$(this,qr,e),$(this,yw,i),$(this,Xu,o),$(this,Zu,a),$(this,gw,l),$(this,xm,t),$(this,vw,c),$(this,D0,u),$(this,mw,r),$(this,M0,E9.toDateObject(s)),this.trigger=r.flatMap(f=>f.getElementsToTriggerPopup());for(const f of this.trigger)f.addEventListener("click",m(this,L0)),f.addEventListener("mouseenter",m(this,F_)),f.addEventListener("mouseleave",m(this,O_)),f.classList.add("popupTriggerArea");for(const f of r)(p=f.container)==null||p.addEventListener("keydown",m(this,R0));m(this,qr).hidden=!0,h&&G(this,Qn,G4).call(this)}render(){if(m(this,Ll))return;const e=$(this,Ll,document.createElement("div"));if(e.className="popup",m(this,xm)){const s=e.style.outlineColor=At.makeHexColor(...m(this,xm));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=At.makeHexColor(...m(this,xm).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=m(this,yw),e.append(t),m(this,M0)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:m(this,M0).valueOf()})),t.append(s)}const i=m(this,Qn,W4);if(i)VG.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(m(this,Xu));e.append(s)}m(this,qr).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;m(this,_m)||$(this,_m,{contentsObj:m(this,Xu),richText:m(this,Zu)}),e&&$(this,Ju,null),t&&($(this,Zu,G(this,Qn,GG).call(this,t)),$(this,Xu,null)),(r=m(this,Ll))==null||r.remove(),$(this,Ll,null)}resetEdited(){var e;m(this,_m)&&({contentsObj:Di(this,Xu)._,richText:Di(this,Zu)._}=m(this,_m),$(this,_m,null),(e=m(this,Ll))==null||e.remove(),$(this,Ll,null),$(this,Ju,null))}forceHide(){$(this,Am,this.isVisible),m(this,Am)&&(m(this,qr).hidden=!0)}maybeShow(){m(this,Am)&&(m(this,Ll)||G(this,Qn,K4).call(this),$(this,Am,!1),m(this,qr).hidden=!1)}get isVisible(){return m(this,qr).hidden===!1}}R0=new WeakMap,O_=new WeakMap,F_=new WeakMap,L0=new WeakMap,xm=new WeakMap,qr=new WeakMap,Xu=new WeakMap,M0=new WeakMap,mw=new WeakMap,gw=new WeakMap,D0=new WeakMap,Qu=new WeakMap,Ll=new WeakMap,Ju=new WeakMap,vw=new WeakMap,Zu=new WeakMap,yw=new WeakMap,_m=new WeakMap,Am=new WeakMap,Qn=new WeakSet,W4=function(){const e=m(this,Zu),t=m(this,Xu);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&m(this,Zu).html||null},M7=function(){var e,t,r;return((r=(t=(e=m(this,Qn,W4))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},WG=function(){var e,t,r;return((r=(t=(e=m(this,Qn,W4))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},GG=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:m(this,Qn,WG),fontSize:m(this,Qn,M7)?`calc(${m(this,Qn,M7)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},KG=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,Qu))&&G(this,Qn,G4).call(this)},YG=function(){if(m(this,Ju)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=m(this,gw);let o=!!m(this,D0),a=o?m(this,D0):m(this,vw);for(const b of m(this,mw))if(!a||At.intersect(b.data.rect,a)!==null){a=b.data.rect,o=!0;break}const l=At.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),u=o?a[2]-a[0]+5:0,h=l[0]+u,p=l[1];$(this,Ju,[100*(h-i)/t,100*(p-s)/r]);const{style:f}=m(this,qr);f.left=`${m(this,Ju)[0]}%`,f.top=`${m(this,Ju)[1]}%`},G4=function(){$(this,Qu,!m(this,Qu)),m(this,Qu)?(G(this,Qn,K4).call(this),m(this,qr).addEventListener("click",m(this,L0)),m(this,qr).addEventListener("keydown",m(this,R0))):(G(this,Qn,D7).call(this),m(this,qr).removeEventListener("click",m(this,L0)),m(this,qr).removeEventListener("keydown",m(this,R0)))},K4=function(){m(this,Ll)||this.render(),this.isVisible?m(this,Qu)&&m(this,qr).classList.add("focused"):(G(this,Qn,YG).call(this),m(this,qr).hidden=!1,m(this,qr).style.zIndex=parseInt(m(this,qr).style.zIndex)+1e3)},D7=function(){m(this,qr).classList.remove("focused"),!(m(this,Qu)||!this.isVisible)&&(m(this,qr).hidden=!0,m(this,qr).style.zIndex=parseInt(m(this,qr).style.zIndex)-1e3)};class XG extends li{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=rn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ww;class Vwe extends li{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Y(this,ww,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=_d(t.rect),s=this.svgFactory.create(r,i,!0),o=$(this,ww,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,ww)}addHighlightArea(){this.container.classList.add("highlightArea")}}ww=new WeakMap;var bw;class zwe extends li{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Y(this,bw,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=_d(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=$(this,bw,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,bw)}addHighlightArea(){this.container.classList.add("highlightArea")}}bw=new WeakMap;var xw;class $we extends li{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Y(this,xw,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=_d(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=$(this,xw,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,xw)}addHighlightArea(){this.container.classList.add("highlightArea")}}xw=new WeakMap;var _w;class QG extends li{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Y(this,_w,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:o,height:a}=_d(t),l=this.svgFactory.create(o,a,!0);let c=[];for(let h=0,p=r.length;h<p;h+=2){const f=r[h]-t[0],b=t[3]-r[h+1];c.push(`${f},${b}`)}c=c.join(" ");const u=$(this,_w,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,_w)}addHighlightArea(){this.container.classList.add("highlightArea")}}_w=new WeakMap;class qwe extends QG{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Hwe extends li{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Aw;class R9 extends li{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Y(this,Aw,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?rn.HIGHLIGHT:rn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:r,borderStyle:i,popupRef:s}}=this,{width:o,height:a}=_d(t),l=this.svgFactory.create(o,a,!0);for(const c of r){let u=[];for(let p=0,f=c.length;p<f;p+=2){const b=c[p]-t[0],w=t[3]-c[p+1];u.push(`${b},${w}`)}u=u.join(" ");const h=this.svgFactory.createElement(this.svgElementName);m(this,Aw).push(h),h.setAttribute("points",u),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return m(this,Aw)}addHighlightArea(){this.container.classList.add("highlightArea")}}Aw=new WeakMap;class JG extends li{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=rn.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class Wwe extends li{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Gwe extends li{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Kwe extends li{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ZG extends li{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=rn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ew,Sw,j7;class Ywe extends li{constructor(t){var i;super(t,{isRenderable:!0});Y(this,Sw);Y(this,Ew,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",G(this,Sw,j7).bind(this)),$(this,Ew,i);const{isMac:s}=no.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&G(this,Sw,j7).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return m(this,Ew)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ew=new WeakMap,Sw=new WeakSet,j7=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Cw,Em,Sm,Tw,m1,eK,O7,Jj;let Xwe=(Jj=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o,structTreeLayer:a}){Y(this,m1);Y(this,Cw,null);Y(this,Em,null);Y(this,Sm,new Map);Y(this,Tw,null);this.div=e,$(this,Cw,t),$(this,Em,r),$(this,Tw,a||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return m(this,Sm).size>0}async render(e){var o;const{annotations:t}=e,r=this.div;u1(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new P9,annotationStorage:e.annotationStorage||new C9,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===Ai.POPUP;if(l){const h=i.get(a.id);if(!h)continue;s.elements=h}else{const{width:h,height:p}=_d(a.rect);if(h<=0||p<=0)continue}s.data=a;const c=Lwe.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const h=i.get(a.popupRef);h?h.push(c):i.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),await G(this,m1,eK).call(this,u,a.id),c._isEditable&&(m(this,Sm).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}G(this,m1,O7).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,u1(t,{rotation:e.rotation}),G(this,m1,O7).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(m(this,Sm).values())}getEditableAnnotation(e){return m(this,Sm).get(e)}},Cw=new WeakMap,Em=new WeakMap,Sm=new WeakMap,Tw=new WeakMap,m1=new WeakSet,eK=async function(e,t){var o,a;const r=e.firstChild||e,i=r.id=`${x9}${t}`,s=await((o=m(this,Tw))==null?void 0:o.getAriaAttributes(i));if(s)for(const[l,c]of s)r.setAttribute(l,c);this.div.append(e),(a=m(this,Cw))==null||a.moveElementInDOM(this.div,e,r,!1)},O7=function(){if(!m(this,Em))return;const e=this.div;for(const[t,r]of m(this,Em)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}m(this,Em).clear()},Jj);const Kx=/\r\n?|\n/g;var Ml,ra,Nw,Cm,ia,vi,tK,nK,rK,Y4,Ed,X4,Q4,iK,B7,sK;const lr=class lr extends Hn{constructor(t){super({...t,name:"freeTextEditor"});Y(this,vi);Y(this,Ml);Y(this,ra,"");Y(this,Nw,`${this.id}-editor`);Y(this,Cm,null);Y(this,ia);$(this,Ml,t.color||lr._defaultColor||Hn._defaultLineColor),$(this,ia,t.fontSize||lr._defaultFontSize)}static get _keyboardManager(){const t=lr.prototype,r=o=>o.isEmpty(),i=d1.TRANSLATE_SMALL,s=d1.TRANSLATE_BIG;return xn(this,"_keyboardManager",new Pb([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Hn.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case Ht.FREETEXT_SIZE:lr._defaultFontSize=r;break;case Ht.FREETEXT_COLOR:lr._defaultColor=r;break}}updateParams(t,r){switch(t){case Ht.FREETEXT_SIZE:G(this,vi,tK).call(this,r);break;case Ht.FREETEXT_COLOR:G(this,vi,nK).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Ht.FREETEXT_SIZE,lr._defaultFontSize],[Ht.FREETEXT_COLOR,lr._defaultColor||Hn._defaultLineColor]]}get propertiesToUpdate(){return[[Ht.FREETEXT_SIZE,m(this,ia)],[Ht.FREETEXT_COLOR,m(this,Ml)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-lr._internalPadding*t,-(lr._internalPadding+m(this,ia))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(rn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),$(this,Cm,new AbortController);const t=this._uiManager.combinedSignal(m(this,Cm));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,Nw)),this._isDraggable=!0,(t=m(this,Cm))==null||t.abort(),$(this,Cm,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=m(this,ra),r=$(this,ra,G(this,vi,rK).call(this).trimEnd());if(t===r)return;const i=s=>{if($(this,ra,s),!s){this.remove();return}G(this,vi,Q4).call(this),this._uiManager.rebuild(this),G(this,vi,Y4).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),G(this,vi,Y4).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){lr._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,Nw)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,ia)}px * var(--scale-factor))`,i.color=m(this,Ml),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),w_(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,h]=this.pageDimensions,[p,f]=this.pageTranslation;let b,w;switch(this.rotation){case 0:b=t+(a[0]-p)/u,w=r+this.height-(a[1]-f)/h;break;case 90:b=t+(a[0]-p)/u,w=r-(a[1]-f)/h,[l,c]=[c,-l];break;case 180:b=t-this.width+(a[0]-p)/u,w=r-(a[1]-f)/h,[l,c]=[-l,-c];break;case 270:b=t+(a[0]-p-this.height*h)/u,w=r+(a[1]-f-this.width*u)/h,[l,c]=[-c,l];break}this.setAt(b*s,w*o,l,c)}else this.setAt(t*s,r*o,this.width*s,this.height*o);G(this,vi,Q4).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,w,A;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=G(b=lr,Ed,B7).call(b,r.getData("text")||"").replaceAll(Kx,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,u=[],h=[];if(l.nodeType===Node.TEXT_NODE){const x=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(Kx,"")),x!==this.editorDiv){let E=u;for(const S of this.editorDiv.childNodes){if(S===x){E=h;continue}E.push(G(w=lr,Ed,X4).call(w,S))}}u.push(l.nodeValue.slice(0,c).replaceAll(Kx,""))}else if(l===this.editorDiv){let x=u,E=0;for(const S of this.editorDiv.childNodes)E++===c&&(x=h),x.push(G(A=lr,Ed,X4).call(A,S))}$(this,ra,`${u.join(`
`)}${s}${h.join(`
`)}`),G(this,vi,Q4).call(this);const p=new Range;let f=u.reduce((x,E)=>x+E.length,0);for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const E=x.nodeValue.length;if(f<=E){p.setStart(x,f),p.setEnd(x,f);break}f-=E}o.removeAllRanges(),o.addRange(p)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,i){var a;let s=null;if(t instanceof XG){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:h,id:p,popupRef:f},textContent:b,textPosition:w,parent:{page:{pageNumber:A}}}=t;if(!b||b.length===0)return null;s=t={annotationType:rn.FREETEXT,color:Array.from(c),fontSize:l,value:b.join(`
`),position:w,pageIndex:A-1,rect:u.slice(0),rotation:h,id:p,deleted:!1,popupRef:f}}const o=await super.deserialize(t,r,i);return $(o,ia,t.fontSize),$(o,Ml,At.makeHexColor(...t.color)),$(o,ra,G(a=lr,Ed,B7).call(a,t.value)),o.annotationElementId=t.id||null,o._initialData=s,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=lr._internalPadding*this.parentScale,i=this.getRect(r,r),s=Hn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:m(this,Ml)),o={annotationType:rn.FREETEXT,color:s,fontSize:m(this,ia),value:G(this,vi,iK).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!G(this,vi,sK).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${m(this,ia)}px * var(--scale-factor))`,i.color=m(this,Ml),r.replaceChildren();for(const o of m(this,ra).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=lr._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:m(this,ra)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ml=new WeakMap,ra=new WeakMap,Nw=new WeakMap,Cm=new WeakMap,ia=new WeakMap,vi=new WeakSet,tK=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-m(this,ia))*this.parentScale),$(this,ia,s),G(this,vi,Y4).call(this)},i=m(this,ia);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ht.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},nK=function(t){const r=s=>{$(this,Ml,this.editorDiv.style.color=s)},i=m(this,Ml);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ht.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},rK=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(G(i=lr,Ed,X4).call(i,s)),r=s);return t.join(`
`)},Y4=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},Ed=new WeakSet,X4=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Kx,"")},Q4=function(){if(this.editorDiv.replaceChildren(),!!m(this,ra))for(const t of m(this,ra).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},iK=function(){return m(this,ra).replaceAll(""," ")},B7=function(t){return t.replaceAll(" ","")},sK=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},Y(lr,Ed),nt(lr,"_freeTextDefaultContent",""),nt(lr,"_internalPadding",0),nt(lr,"_defaultColor",null),nt(lr,"_defaultFontSize",10),nt(lr,"_type","freetext"),nt(lr,"_editorType",rn.FREETEXT);let F7=lr;class oK{toSVGPath(){gr("Abstract method `toSVGPath` must be implemented.")}get box(){gr("Abstract getter `box` must be implemented.")}serialize(e,t){gr("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){gr("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){gr("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var sa,Dl,j0,O0,Fc,un,Tm,Nm,kw,Iw,F0,B0,Jh,Pw,B_,U_,Pi,Jv,aK,lK,cK,uK,dK,hK;const Du=class Du{constructor({x:e,y:t},r,i,s,o,a=0){Y(this,Pi);Y(this,sa);Y(this,Dl,[]);Y(this,j0);Y(this,O0);Y(this,Fc,[]);Y(this,un,new Float64Array(18));Y(this,Tm);Y(this,Nm);Y(this,kw);Y(this,Iw);Y(this,F0);Y(this,B0);Y(this,Jh,[]);$(this,sa,r),$(this,B0,s*i),$(this,O0,o),m(this,un).set([NaN,NaN,NaN,NaN,e,t],6),$(this,j0,a),$(this,Iw,m(Du,Pw)*i),$(this,kw,m(Du,U_)*i),$(this,F0,i),m(this,Jh).push(e,t)}isEmpty(){return isNaN(m(this,un)[8])}add({x:e,y:t}){var P;$(this,Tm,e),$(this,Nm,t);const[r,i,s,o]=m(this,sa);let[a,l,c,u]=m(this,un).subarray(8,12);const h=e-c,p=t-u,f=Math.hypot(h,p);if(f<m(this,kw))return!1;const b=f-m(this,Iw),w=b/f,A=w*h,x=w*p;let E=a,S=l;a=c,l=u,c+=A,u+=x,(P=m(this,Jh))==null||P.push(e,t);const T=-x/b,B=A/b,V=T*m(this,B0),M=B*m(this,B0);return m(this,un).set(m(this,un).subarray(2,8),0),m(this,un).set([c+V,u+M],4),m(this,un).set(m(this,un).subarray(14,18),12),m(this,un).set([c-V,u-M],16),isNaN(m(this,un)[6])?(m(this,Fc).length===0&&(m(this,un).set([a+V,l+M],2),m(this,Fc).push(NaN,NaN,NaN,NaN,(a+V-r)/s,(l+M-i)/o),m(this,un).set([a-V,l-M],14),m(this,Dl).push(NaN,NaN,NaN,NaN,(a-V-r)/s,(l-M-i)/o)),m(this,un).set([E,S,a,l,c,u],6),!this.isEmpty()):(m(this,un).set([E,S,a,l,c,u],6),Math.abs(Math.atan2(S-l,E-a)-Math.atan2(x,A))<Math.PI/2?([a,l,c,u]=m(this,un).subarray(2,6),m(this,Fc).push(NaN,NaN,NaN,NaN,((a+c)/2-r)/s,((l+u)/2-i)/o),[a,l,E,S]=m(this,un).subarray(14,18),m(this,Dl).push(NaN,NaN,NaN,NaN,((E+a)/2-r)/s,((S+l)/2-i)/o),!0):([E,S,a,l,c,u]=m(this,un).subarray(0,6),m(this,Fc).push(((E+5*a)/6-r)/s,((S+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),[c,u,a,l,E,S]=m(this,un).subarray(12,18),m(this,Dl).push(((E+5*a)/6-r)/s,((S+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,Fc),t=m(this,Dl);if(isNaN(m(this,un)[6])&&!this.isEmpty())return G(this,Pi,aK).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);G(this,Pi,cK).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return G(this,Pi,lK).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,o){return new fK(e,t,r,i,s,o)}getOutlines(){var h;const e=m(this,Fc),t=m(this,Dl),r=m(this,un),[i,s,o,a]=m(this,sa),l=new Float64Array((((h=m(this,Jh))==null?void 0:h.length)??0)+2);for(let p=0,f=l.length-2;p<f;p+=2)l[p]=(m(this,Jh)[p]-i)/o,l[p+1]=(m(this,Jh)[p+1]-s)/a;if(l[l.length-2]=(m(this,Tm)-i)/o,l[l.length-1]=(m(this,Nm)-s)/a,isNaN(r[6])&&!this.isEmpty())return G(this,Pi,uK).call(this,l);const c=new Float64Array(m(this,Fc).length+24+m(this,Dl).length);let u=e.length;for(let p=0;p<u;p+=2){if(isNaN(e[p])){c[p]=c[p+1]=NaN;continue}c[p]=e[p],c[p+1]=e[p+1]}u=G(this,Pi,hK).call(this,c,u);for(let p=t.length-6;p>=6;p-=6)for(let f=0;f<6;f+=2){if(isNaN(t[p+f])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=t[p+f],c[u+1]=t[p+f+1],u+=2}return G(this,Pi,dK).call(this,c,u),this.newFreeDrawOutline(c,l,m(this,sa),m(this,F0),m(this,j0),m(this,O0))}};sa=new WeakMap,Dl=new WeakMap,j0=new WeakMap,O0=new WeakMap,Fc=new WeakMap,un=new WeakMap,Tm=new WeakMap,Nm=new WeakMap,kw=new WeakMap,Iw=new WeakMap,F0=new WeakMap,B0=new WeakMap,Jh=new WeakMap,Pw=new WeakMap,B_=new WeakMap,U_=new WeakMap,Pi=new WeakSet,Jv=function(){const e=m(this,un).subarray(4,6),t=m(this,un).subarray(16,18),[r,i,s,o]=m(this,sa);return[(m(this,Tm)+(e[0]-t[0])/2-r)/s,(m(this,Nm)+(e[1]-t[1])/2-i)/o,(m(this,Tm)+(t[0]-e[0])/2-r)/s,(m(this,Nm)+(t[1]-e[1])/2-i)/o]},aK=function(){const[e,t,r,i]=m(this,sa),[s,o,a,l]=G(this,Pi,Jv).call(this);return`M${(m(this,un)[2]-e)/r} ${(m(this,un)[3]-t)/i} L${(m(this,un)[4]-e)/r} ${(m(this,un)[5]-t)/i} L${s} ${o} L${a} ${l} L${(m(this,un)[16]-e)/r} ${(m(this,un)[17]-t)/i} L${(m(this,un)[14]-e)/r} ${(m(this,un)[15]-t)/i} Z`},lK=function(e){const t=m(this,Dl);e.push(`L${t[4]} ${t[5]} Z`)},cK=function(e){const[t,r,i,s]=m(this,sa),o=m(this,un).subarray(4,6),a=m(this,un).subarray(16,18),[l,c,u,h]=G(this,Pi,Jv).call(this);e.push(`L${(o[0]-t)/i} ${(o[1]-r)/s} L${l} ${c} L${u} ${h} L${(a[0]-t)/i} ${(a[1]-r)/s}`)},uK=function(e){const t=m(this,un),[r,i,s,o]=m(this,sa),[a,l,c,u]=G(this,Pi,Jv).call(this),h=new Float64Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/o],0),this.newFreeDrawOutline(h,e,m(this,sa),m(this,F0),m(this,j0),m(this,O0))},dK=function(e,t){const r=m(this,Dl);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},hK=function(e,t){const r=m(this,un).subarray(4,6),i=m(this,un).subarray(16,18),[s,o,a,l]=m(this,sa),[c,u,h,p]=G(this,Pi,Jv).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l],t),t+=24},Y(Du,Pw,8),Y(Du,B_,2),Y(Du,U_,m(Du,Pw)+m(Du,B_));let x_=Du;var U0,km,ed,Rw,oa,Lw,ei,Io,Zv,ey,pK;class fK extends oK{constructor(t,r,i,s,o,a){super();Y(this,Io);Y(this,U0);Y(this,km,null);Y(this,ed);Y(this,Rw);Y(this,oa);Y(this,Lw);Y(this,ei);$(this,ei,t),$(this,oa,r),$(this,U0,i),$(this,Lw,s),$(this,ed,o),$(this,Rw,a),G(this,Io,pK).call(this,a);const{x:l,y:c,width:u,height:h}=m(this,km);for(let p=0,f=t.length;p<f;p+=2)t[p]=(t[p]-l)/u,t[p+1]=(t[p+1]-c)/h;for(let p=0,f=r.length;p<f;p+=2)r[p]=(r[p]-l)/u,r[p+1]=(r[p+1]-c)/h}toSVGPath(){const t=[`M${m(this,ei)[4]} ${m(this,ei)[5]}`];for(let r=6,i=m(this,ei).length;r<i;r+=6){if(isNaN(m(this,ei)[r])){t.push(`L${m(this,ei)[r+4]} ${m(this,ei)[r+5]}`);continue}t.push(`C${m(this,ei)[r]} ${m(this,ei)[r+1]} ${m(this,ei)[r+2]} ${m(this,ei)[r+3]} ${m(this,ei)[r+4]} ${m(this,ei)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let c,u;switch(o){case 0:c=G(this,Io,Zv).call(this,m(this,ei),t,s,a,-l),u=G(this,Io,Zv).call(this,m(this,oa),t,s,a,-l);break;case 90:c=G(this,Io,ey).call(this,m(this,ei),t,r,a,l),u=G(this,Io,ey).call(this,m(this,oa),t,r,a,l);break;case 180:c=G(this,Io,Zv).call(this,m(this,ei),i,r,-a,l),u=G(this,Io,Zv).call(this,m(this,oa),i,r,-a,l);break;case 270:c=G(this,Io,ey).call(this,m(this,ei),i,s,-a,-l),u=G(this,Io,ey).call(this,m(this,oa),i,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return m(this,km)}newOutliner(t,r,i,s,o,a=0){return new x_(t,r,i,s,o,a)}getNewOutline(t,r){const{x:i,y:s,width:o,height:a}=m(this,km),[l,c,u,h]=m(this,U0),p=o*u,f=a*h,b=i*u+l,w=s*h+c,A=this.newOutliner({x:m(this,oa)[0]*p+b,y:m(this,oa)[1]*f+w},m(this,U0),m(this,Lw),t,m(this,Rw),r??m(this,ed));for(let x=2;x<m(this,oa).length;x+=2)A.add({x:m(this,oa)[x]*p+b,y:m(this,oa)[x+1]*f+w});return A.getOutlines()}get mustRemoveSelfIntersections(){return!0}}U0=new WeakMap,km=new WeakMap,ed=new WeakMap,Rw=new WeakMap,oa=new WeakMap,Lw=new WeakMap,ei=new WeakMap,Io=new WeakSet,Zv=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=r+t[l]*s,a[l+1]=i+t[l+1]*o;return a},ey=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=r+t[l+1]*s,a[l+1]=i+t[l]*o;return a},pK=function(t){const r=m(this,ei);let i=r[4],s=r[5],o=i,a=s,l=i,c=s,u=i,h=s;const p=t?Math.max:Math.min;for(let x=6,E=r.length;x<E;x+=6){if(isNaN(r[x]))o=Math.min(o,r[x+4]),a=Math.min(a,r[x+5]),l=Math.max(l,r[x+4]),c=Math.max(c,r[x+5]),h<r[x+5]?(u=r[x+4],h=r[x+5]):h===r[x+5]&&(u=p(u,r[x+4]));else{const S=At.bezierBoundingBox(i,s,...r.slice(x,x+6));o=Math.min(o,S[0]),a=Math.min(a,S[1]),l=Math.max(l,S[2]),c=Math.max(c,S[3]),h<S[3]?(u=S[2],h=S[3]):h===S[3]&&(u=p(u,S[2]))}i=r[x+4],s=r[x+5]}const f=o-m(this,ed),b=a-m(this,ed),w=l-o+2*m(this,ed),A=c-a+2*m(this,ed);$(this,km,{x:f,y:b,width:w,height:A,lastPoint:[u,h]})};var Mw,Zh,jl,io,mK,J4,gK,vK,U7;class fj{constructor(e,t=0,r=0,i=!0){Y(this,io);Y(this,Mw);Y(this,Zh,[]);Y(this,jl,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x,y:E,width:S,height:T}of e){const B=Math.floor((x-t)/u)*u,V=Math.ceil((x+S+t)/u)*u,M=Math.floor((E-t)/u)*u,N=Math.ceil((E+T+t)/u)*u,P=[B,M,N,!0],O=[V,M,N,!1];m(this,Zh).push(P,O),s=Math.min(s,B),o=Math.max(o,V),a=Math.min(a,M),l=Math.max(l,N)}const h=o-s+2*r,p=l-a+2*r,f=s-r,b=a-r,w=m(this,Zh).at(i?-1:-2),A=[w[0],w[2]];for(const x of m(this,Zh)){const[E,S,T]=x;x[0]=(E-f)/h,x[1]=(S-b)/p,x[2]=(T-b)/p}$(this,Mw,{x:f,y:b,width:h,height:p,lastPoint:A})}getOutlines(){m(this,Zh).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of m(this,Zh))t[3]?(e.push(...G(this,io,U7).call(this,t)),G(this,io,gK).call(this,t)):(G(this,io,vK).call(this,t),e.push(...G(this,io,U7).call(this,t)));return G(this,io,mK).call(this,e)}}Mw=new WeakMap,Zh=new WeakMap,jl=new WeakMap,io=new WeakSet,mK=function(e){const t=[],r=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,c,u,h]=o;r.delete(o);let p=a,f=l;for(s=[a,c],i.push(s);;){let b;if(r.has(u))b=u;else if(r.has(h))b=h;else break;r.delete(b),[a,l,c,u,h]=b,p!==a&&(s.push(p,f,a,f===l?l:c),p=a),f=f===l?c:l}s.push(p,f)}return new Qwe(i,m(this,Mw))},J4=function(e){const t=m(this,jl);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},gK=function([,e,t]){const r=G(this,io,J4).call(this,e);m(this,jl).splice(r,0,[e,t])},vK=function([,e,t]){const r=G(this,io,J4).call(this,e);for(let i=r;i<m(this,jl).length;i++){const[s,o]=m(this,jl)[i];if(s!==e)break;if(s===e&&o===t){m(this,jl).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=m(this,jl)[i];if(s!==e)break;if(s===e&&o===t){m(this,jl).splice(i,1);return}}},U7=function(e){const[t,r,i]=e,s=[[t,r,i]],o=G(this,io,J4).call(this,i);for(let a=0;a<o;a++){const[l,c]=m(this,jl)[a];for(let u=0,h=s.length;u<h;u++){const[,p,f]=s[u];if(!(c<=p||f<=l)){if(p>=l){if(f>c)s[u][1]=c;else{if(h===1)return[];s.splice(u,1),u--,h--}continue}s[u][2]=l,f>c&&s.push([t,c,f])}}}return s};var Dw,V0;class Qwe extends oK{constructor(t,r){super();Y(this,Dw);Y(this,V0);$(this,V0,t),$(this,Dw,r)}toSVGPath(){const t=[];for(const r of m(this,V0)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,c=s-r;for(const u of m(this,V0)){const h=new Array(u.length);for(let p=0;p<u.length;p+=2)h[p]=t+u[p]*l,h[p+1]=s-u[p+1]*c;a.push(h)}return a}get box(){return m(this,Dw)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Dw=new WeakMap,V0=new WeakMap;class V7 extends x_{newFreeDrawOutline(e,t,r,i,s,o){return new Jwe(e,t,r,i,s,o)}get classNamesForDrawing(){return["highlight","free"]}}class Jwe extends fK{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,r,i,s,o=0){return new V7(e,t,r,i,s,o)}}var Ol,Im,z0,Si,jw,$0,Ow,Fw,ef,Fl,q0,Bw,Xn,z7,$7,q7,bp,yK,wh;const yo=class yo{constructor({editor:e=null,uiManager:t=null}){Y(this,Xn);Y(this,Ol,null);Y(this,Im,null);Y(this,z0);Y(this,Si,null);Y(this,jw,!1);Y(this,$0,!1);Y(this,Ow,null);Y(this,Fw);Y(this,ef,null);Y(this,Fl,null);Y(this,q0);var r;e?($(this,$0,!1),$(this,q0,Ht.HIGHLIGHT_COLOR),$(this,Ow,e)):($(this,$0,!0),$(this,q0,Ht.HIGHLIGHT_DEFAULT_COLOR)),$(this,Fl,(e==null?void 0:e._uiManager)||t),$(this,Fw,m(this,Fl)._eventBus),$(this,z0,(e==null?void 0:e.color)||((r=m(this,Fl))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),m(yo,Bw)||$(yo,Bw,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return xn(this,"_keyboardManager",new Pb([[["Escape","mac+Escape"],yo.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],yo.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],yo.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],yo.prototype._moveToPrevious],[["Home","mac+Home"],yo.prototype._moveToBeginning],[["End","mac+End"],yo.prototype._moveToEnd]]))}renderButton(){const e=$(this,Ol,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=m(this,Fl)._signal;e.addEventListener("click",G(this,Xn,bp).bind(this),{signal:t}),e.addEventListener("keydown",G(this,Xn,q7).bind(this),{signal:t});const r=$(this,Im,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=m(this,z0),e.append(r),e}renderMainDropdown(){const e=$(this,Si,G(this,Xn,z7).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===m(this,Ol)){G(this,Xn,bp).call(this,e);return}const t=e.target.getAttribute("data-color");t&&G(this,Xn,$7).call(this,t,e)}_moveToNext(e){var t,r;if(!m(this,Xn,wh)){G(this,Xn,bp).call(this,e);return}if(e.target===m(this,Ol)){(t=m(this,Si).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=m(this,Si))==null?void 0:t.firstChild)||e.target===m(this,Ol)){m(this,Xn,wh)&&this._hideDropdownFromKeyboard();return}m(this,Xn,wh)||G(this,Xn,bp).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!m(this,Xn,wh)){G(this,Xn,bp).call(this,e);return}(t=m(this,Si).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!m(this,Xn,wh)){G(this,Xn,bp).call(this,e);return}(t=m(this,Si).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=m(this,Si))==null||e.classList.add("hidden"),(t=m(this,ef))==null||t.abort(),$(this,ef,null)}_hideDropdownFromKeyboard(){var e;if(!m(this,$0)){if(!m(this,Xn,wh)){(e=m(this,Ow))==null||e.unselect();return}this.hideDropdown(),m(this,Ol).focus({preventScroll:!0,focusVisible:m(this,jw)})}}updateColor(e){if(m(this,Im)&&(m(this,Im).style.backgroundColor=e),!m(this,Si))return;const t=m(this,Fl).highlightColors.values();for(const r of m(this,Si).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=m(this,Ol))==null||e.remove(),$(this,Ol,null),$(this,Im,null),(t=m(this,Si))==null||t.remove(),$(this,Si,null)}};Ol=new WeakMap,Im=new WeakMap,z0=new WeakMap,Si=new WeakMap,jw=new WeakMap,$0=new WeakMap,Ow=new WeakMap,Fw=new WeakMap,ef=new WeakMap,Fl=new WeakMap,q0=new WeakMap,Bw=new WeakMap,Xn=new WeakSet,z7=function(){const e=document.createElement("div"),t=m(this,Fl)._signal;e.addEventListener("contextmenu",ll,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of m(this,Fl).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",m(yo,Bw)[r]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.setAttribute("aria-selected",i===m(this,z0)),s.addEventListener("click",G(this,Xn,$7).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",G(this,Xn,q7).bind(this),{signal:t}),e},$7=function(e,t){t.stopPropagation(),m(this,Fw).dispatch("switchannotationeditorparams",{source:this,type:m(this,q0),value:e})},q7=function(e){yo._keyboardManager.exec(this,e)},bp=function(e){if(m(this,Xn,wh)){this.hideDropdown();return}if($(this,jw,e.detail===0),m(this,ef)||($(this,ef,new AbortController),window.addEventListener("pointerdown",G(this,Xn,yK).bind(this),{signal:m(this,Fl).combinedSignal(m(this,ef))})),m(this,Si)){m(this,Si).classList.remove("hidden");return}const t=$(this,Si,G(this,Xn,z7).call(this));m(this,Ol).append(t)},yK=function(e){var t;(t=m(this,Si))!=null&&t.contains(e.target)||this.hideDropdown()},wh=function(){return m(this,Si)&&!m(this,Si).classList.contains("hidden")},Y(yo,Bw,null);let __=yo;var H0,Uw,td,Pm,W0,$a,Vw,zw,Rm,Bl,Ns,xo,G0,nd,Ci,K0,qa,$w,Zt,H7,Z4,wK,bK,xK,W7,xp,Za,lg,_K,e3,ty,AK,EK,SK,CK,TK;const Mn=class Mn extends Hn{constructor(t){super({...t,name:"highlightEditor"});Y(this,Zt);Y(this,H0,null);Y(this,Uw,0);Y(this,td);Y(this,Pm,null);Y(this,W0,null);Y(this,$a,null);Y(this,Vw,null);Y(this,zw,0);Y(this,Rm,null);Y(this,Bl,null);Y(this,Ns,null);Y(this,xo,!1);Y(this,G0,null);Y(this,nd);Y(this,Ci,null);Y(this,K0,"");Y(this,qa);Y(this,$w,"");this.color=t.color||Mn._defaultColor,$(this,qa,t.thickness||Mn._defaultThickness),$(this,nd,t.opacity||Mn._defaultOpacity),$(this,td,t.boxes||null),$(this,$w,t.methodOfCreation||""),$(this,K0,t.text||""),this._isDraggable=!1,t.highlightId>-1?($(this,xo,!0),G(this,Zt,Z4).call(this,t),G(this,Zt,xp).call(this)):m(this,td)&&($(this,H0,t.anchorNode),$(this,Uw,t.anchorOffset),$(this,Vw,t.focusNode),$(this,zw,t.focusOffset),G(this,Zt,H7).call(this),G(this,Zt,xp).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Mn.prototype;return xn(this,"_keyboardManager",new Pb([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,xo)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:m(this,qa),methodOfCreation:m(this,$w)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Hn.initialize(t,r),Mn._defaultColor||(Mn._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case Ht.HIGHLIGHT_DEFAULT_COLOR:Mn._defaultColor=r;break;case Ht.HIGHLIGHT_THICKNESS:Mn._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return m(this,G0)}updateParams(t,r){switch(t){case Ht.HIGHLIGHT_COLOR:G(this,Zt,wK).call(this,r);break;case Ht.HIGHLIGHT_THICKNESS:G(this,Zt,bK).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Ht.HIGHLIGHT_DEFAULT_COLOR,Mn._defaultColor],[Ht.HIGHLIGHT_THICKNESS,Mn._defaultThickness]]}get propertiesToUpdate(){return[[Ht.HIGHLIGHT_COLOR,this.color||Mn._defaultColor],[Ht.HIGHLIGHT_THICKNESS,m(this,qa)||Mn._defaultThickness],[Ht.HIGHLIGHT_FREE,m(this,xo)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&($(this,W0,new __({editor:this})),t.addColorPicker(m(this,W0))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(G(this,Zt,ty).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,G(this,Zt,ty).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){G(this,Zt,W7).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(G(this,Zt,xp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?G(this,Zt,W7).call(this):t&&(G(this,Zt,xp).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;m(this,xo)?(t=(t-this.rotation+360)%360,i=G(s=Mn,Za,lg).call(s,m(this,Bl).box,t)):i=G(o=Mn,Za,lg).call(o,this,t),r.rotate(m(this,Ns),t),r.rotate(m(this,Ci),t),r.updateBox(m(this,Ns),i),r.updateBox(m(this,Ci),G(a=Mn,Za,lg).call(a,m(this,$a).box,t))}render(){if(this.div)return this.div;const t=super.render();m(this,K0)&&(t.setAttribute("aria-label",m(this,K0)),t.setAttribute("role","mark")),m(this,xo)?t.classList.add("free"):this.div.addEventListener("keydown",G(this,Zt,_K).bind(this),{signal:this._uiManager._signal});const r=$(this,Rm,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=m(this,Pm);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),w_(this,m(this,Rm),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(m(this,Ci),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(m(this,Ci),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:G(this,Zt,e3).call(this,!0);break;case 1:case 3:G(this,Zt,e3).call(this,!1);break}}select(){var t,r;super.select(),m(this,Ci)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,Ci),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(m(this,Ci),"selected"))}unselect(){var t;super.unselect(),m(this,Ci)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,Ci),"selected"),m(this,xo)||G(this,Zt,e3).call(this,!1))}get _mustFixPosition(){return!m(this,xo)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(m(this,Ns),t),this.parent.drawLayer.show(m(this,Ci),t))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:c,height:u}=i.getBoundingClientRect(),h=new AbortController,p=t.combinedSignal(h),f=w=>{w.preventDefault(),w.stopPropagation()},b=w=>{h.abort(),G(this,Za,CK).call(this,t,w)};window.addEventListener("blur",b,{signal:p}),window.addEventListener("pointerup",b,{signal:p}),window.addEventListener("pointerdown",f,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",ll,{signal:p}),i.addEventListener("pointermove",G(this,Za,SK).bind(this,t),{signal:p}),this._freeHighlight=new V7({x:s,y:o},[a,l,c,u],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,r,i){var w,A,x,E;let s=null;if(t instanceof JG){const{data:{quadPoints:S,rect:T,rotation:B,id:V,color:M,opacity:N,popupRef:P},parent:{page:{pageNumber:O}}}=t;s=t={annotationType:rn.HIGHLIGHT,color:Array.from(M),opacity:N,quadPoints:S,boxes:null,pageIndex:O-1,rect:T.slice(0),rotation:B,id:V,deleted:!1,popupRef:P}}else if(t instanceof R9){const{data:{inkLists:S,rect:T,rotation:B,id:V,color:M,borderStyle:{rawWidth:N},popupRef:P},parent:{page:{pageNumber:O}}}=t;s=t={annotationType:rn.HIGHLIGHT,color:Array.from(M),thickness:N,inkLists:S,boxes:null,pageIndex:O-1,rect:T.slice(0),rotation:B,id:V,deleted:!1,popupRef:P}}const{color:o,quadPoints:a,inkLists:l,opacity:c}=t,u=await super.deserialize(t,r,i);u.color=At.makeHexColor(...o),$(u,nd,c||1),l&&$(u,qa,t.thickness),u.annotationElementId=t.id||null,u._initialData=s;const[h,p]=u.pageDimensions,[f,b]=u.pageTranslation;if(a){const S=$(u,td,[]);for(let T=0;T<a.length;T+=8)S.push({x:(a[T]-f)/h,y:1-(a[T+1]-b)/p,width:(a[T+2]-a[T])/h,height:(a[T+1]-a[T+5])/p});G(w=u,Zt,H7).call(w),G(A=u,Zt,xp).call(A),u.rotate(u.rotation)}else if(l){$(u,xo,!0);const S=l[0],T={x:S[0]-f,y:p-(S[1]-b)},B=new V7(T,[0,0,h,p],1,m(u,qa)/2,!0,.001);for(let N=0,P=S.length;N<P;N+=2)T.x=S[N]-f,T.y=p-(S[N+1]-b),B.add(T);const{id:V,clipPathId:M}=r.drawLayer.draw(B,u.color,u._defaultOpacity,!0);G(x=u,Zt,Z4).call(x,{highlightOutlines:B.getOutlines(),highlightId:V,clipPathId:M}),G(E=u,Zt,xp).call(E)}return u}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=Hn._colorManager.convert(this.color),s={annotationType:rn.HIGHLIGHT,color:i,opacity:m(this,nd),thickness:m(this,qa),quadPoints:G(this,Zt,AK).call(this),outlines:G(this,Zt,EK).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:G(this,Zt,ty).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!G(this,Zt,TK).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};H0=new WeakMap,Uw=new WeakMap,td=new WeakMap,Pm=new WeakMap,W0=new WeakMap,$a=new WeakMap,Vw=new WeakMap,zw=new WeakMap,Rm=new WeakMap,Bl=new WeakMap,Ns=new WeakMap,xo=new WeakMap,G0=new WeakMap,nd=new WeakMap,Ci=new WeakMap,K0=new WeakMap,qa=new WeakMap,$w=new WeakMap,Zt=new WeakSet,H7=function(){const t=new fj(m(this,td),.001);$(this,Bl,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=m(this,Bl).box;const r=new fj(m(this,td),.0025,.001,this._uiManager.direction==="ltr");$(this,$a,r.getOutlines());const{lastPoint:i}=m(this,$a).box;$(this,G0,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Z4=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var h,p;if($(this,Bl,t),$(this,$a,t.getNewOutline(m(this,qa)/2+1.5,.0025)),r>=0)$(this,Ns,r),$(this,Pm,i),this.parent.drawLayer.finalizeLine(r,t),$(this,Ci,this.parent.drawLayer.drawOutline(m(this,$a)));else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(m(this,Ns),t),this.parent.drawLayer.updateBox(m(this,Ns),G(h=Mn,Za,lg).call(h,m(this,Bl).box,(f-this.rotation+360)%360)),this.parent.drawLayer.updateLine(m(this,Ci),m(this,$a)),this.parent.drawLayer.updateBox(m(this,Ci),G(p=Mn,Za,lg).call(p,m(this,$a).box,f))}const{x:o,y:a,width:l,height:c}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[f,b]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*b/f,this.height=c*f/b;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[f,b]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*b/f,this.height=c*f/b;break}}const{lastPoint:u}=m(this,$a).box;$(this,G0,[(u[0]-o)/l,(u[1]-a)/c])},wK=function(t){const r=(o,a)=>{var l,c,u;this.color=o,(l=this.parent)==null||l.drawLayer.changeColor(m(this,Ns),o),(c=m(this,W0))==null||c.updateColor(o),$(this,nd,a),(u=this.parent)==null||u.drawLayer.changeOpacity(m(this,Ns),a)},i=this.color,s=m(this,nd);this.addCommands({cmd:r.bind(this,t,Mn._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ht.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},bK=function(t){const r=m(this,qa),i=s=>{$(this,qa,s),G(this,Zt,xK).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ht.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},xK=function(t){if(!m(this,xo))return;G(this,Zt,Z4).call(this,{highlightOutlines:m(this,Bl).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},W7=function(){m(this,Ns)===null||!this.parent||(this.parent.drawLayer.remove(m(this,Ns)),$(this,Ns,null),this.parent.drawLayer.remove(m(this,Ci)),$(this,Ci,null))},xp=function(t=this.parent){m(this,Ns)===null&&({id:Di(this,Ns)._,clipPathId:Di(this,Pm)._}=t.drawLayer.draw(m(this,Bl),this.color,m(this,nd)),$(this,Ci,t.drawLayer.drawOutline(m(this,$a))),m(this,Rm)&&(m(this,Rm).style.clipPath=m(this,Pm)))},Za=new WeakSet,lg=function({x:t,y:r,width:i,height:s},o){switch(o){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},_K=function(t){Mn._keyboardManager.exec(this,t)},e3=function(t){if(!m(this,H0))return;const r=window.getSelection();t?r.setPosition(m(this,H0),m(this,Uw)):r.setPosition(m(this,Vw),m(this,zw))},ty=function(){return m(this,xo)?this.rotation:0},AK=function(){if(m(this,xo))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,o=m(this,td),a=new Float32Array(o.length*8);let l=0;for(const{x:c,y:u,width:h,height:p}of o){const f=c*t+i,b=(1-u-p)*r+s;a[l]=a[l+4]=f,a[l+1]=a[l+3]=b,a[l+2]=a[l+6]=f+h*t,a[l+5]=a[l+7]=b+p*r,l+=8}return a},EK=function(t){return m(this,Bl).serialize(t,G(this,Zt,ty).call(this))},SK=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},CK=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},TK=function(t){const{color:r}=this._initialData;return t.color.some((i,s)=>i!==r[s])},Y(Mn,Za),nt(Mn,"_defaultColor",null),nt(Mn,"_defaultOpacity",1),nt(Mn,"_defaultThickness",12),nt(Mn,"_type","highlight"),nt(Mn,"_editorType",rn.HIGHLIGHT),nt(Mn,"_freeHighlightId",-1),nt(Mn,"_freeHighlight",null),nt(Mn,"_freeHighlightClipId","");let A_=Mn;var Lm,Mm,Bc,rd,Ha,Dm,jm,Om,id,Y0,Fm,Bm,tf,Je,NK,kK,IK,PK,K7,RK,Y7,LK,MK,DK,jK,OK,_p,X7,Q7,J7,t3,n3,cg,Z7,r3,Fd,FK,eT,BK,UK,tT,i3,ny;const Ir=class Ir extends Hn{constructor(t){super({...t,name:"inkEditor"});Y(this,Je);Y(this,Lm,0);Y(this,Mm,0);Y(this,Bc,null);Y(this,rd,new Path2D);Y(this,Ha,!1);Y(this,Dm,null);Y(this,jm,!1);Y(this,Om,!1);Y(this,id,null);Y(this,Y0,null);Y(this,Fm,0);Y(this,Bm,0);Y(this,tf,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){Hn.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case Ht.INK_THICKNESS:Ir._defaultThickness=r;break;case Ht.INK_COLOR:Ir._defaultColor=r;break;case Ht.INK_OPACITY:Ir._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case Ht.INK_THICKNESS:G(this,Je,NK).call(this,r);break;case Ht.INK_COLOR:G(this,Je,kK).call(this,r);break;case Ht.INK_OPACITY:G(this,Je,IK).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Ht.INK_THICKNESS,Ir._defaultThickness],[Ht.INK_COLOR,Ir._defaultColor||Hn._defaultLineColor],[Ht.INK_OPACITY,Math.round(Ir._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Ht.INK_THICKNESS,this.thickness||Ir._defaultThickness],[Ht.INK_COLOR,this.color||Ir._defaultColor||Hn._defaultLineColor],[Ht.INK_OPACITY,Math.round(100*(this.opacity??Ir._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(G(this,Je,t3).call(this),G(this,Je,n3).call(this)),this.isAttachedToDOM||(this.parent.add(this),G(this,Je,cg).call(this)),G(this,Je,ny).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,m(this,Bc)&&(clearTimeout(m(this,Bc)),$(this,Bc,null)),(t=m(this,id))==null||t.disconnect(),$(this,id,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){m(this,Ha)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,G(this,Je,X7).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),G(this,Je,Q7).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){m(this,Ha)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),$(this,Ha,!0),this.div.classList.add("disabled"),G(this,Je,ny).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||m(this,Ha)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),G(this,Je,RK).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),G(this,Je,Y7).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),G(this,Je,J7).call(this,t)}canvasPointerleave(t){G(this,Je,J7).call(this,t)}get isResizable(){return!this.isEmpty()&&m(this,Ha)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,a]=G(this,Je,PK).call(this);if(this.setAt(i,s,0,0),this.setDims(o,a),G(this,Je,t3).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,r*c,this.width*l,this.height*c),$(this,Om,!0),G(this,Je,cg).call(this),this.setDims(this.width*l,this.height*c),G(this,Je,_p).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return G(this,Je,n3).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(m(this,Fm)===i&&m(this,Bm)===s)return;$(this,Fm,i),$(this,Bm,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=r/a,this.fixAndSetPosition(),m(this,Ha)&&G(this,Je,Z7).call(this,t,r),G(this,Je,cg).call(this),G(this,Je,_p).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,r,i){var A,x,E;if(t instanceof R9)return null;const s=await super.deserialize(t,r,i);s.thickness=t.thickness,s.color=At.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,c=s.height*a,u=s.parentScale,h=t.thickness/2;$(s,Ha,!0),$(s,Fm,Math.round(l)),$(s,Bm,Math.round(c));const{paths:p,rect:f,rotation:b}=t;for(let{bezier:S}of p){S=G(A=Ir,Fd,BK).call(A,S,f,b);const T=[];s.paths.push(T);let B=u*(S[0]-h),V=u*(S[1]-h);for(let N=2,P=S.length;N<P;N+=6){const O=u*(S[N]-h),k=u*(S[N+1]-h),j=u*(S[N+2]-h),L=u*(S[N+3]-h),W=u*(S[N+4]-h),ue=u*(S[N+5]-h);T.push([[B,V],[O,k],[j,L],[W,ue]]),B=W,V=ue}const M=G(this,Fd,FK).call(this,T);s.bezierPath2D.push(M)}const w=G(x=s,Je,tT).call(x);return $(s,Mm,Math.max(Hn.MIN_SIZE,w[2]-w[0])),$(s,Lm,Math.max(Hn.MIN_SIZE,w[3]-w[1])),G(E=s,Je,Z7).call(E,l,c),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=Hn._colorManager.convert(this.ctx.strokeStyle);return{annotationType:rn.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:G(this,Je,UK).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Lm=new WeakMap,Mm=new WeakMap,Bc=new WeakMap,rd=new WeakMap,Ha=new WeakMap,Dm=new WeakMap,jm=new WeakMap,Om=new WeakMap,id=new WeakMap,Y0=new WeakMap,Fm=new WeakMap,Bm=new WeakMap,tf=new WeakMap,Je=new WeakSet,NK=function(t){const r=s=>{this.thickness=s,G(this,Je,ny).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ht.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},kK=function(t){const r=s=>{this.color=s,G(this,Je,_p).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ht.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},IK=function(t){const r=s=>{this.opacity=s,G(this,Je,_p).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ht.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},PK=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},K7=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${b5e(i)}`},RK=function(t,r){this.canvas.addEventListener("contextmenu",ll,{signal:this._uiManager._signal}),G(this,Je,Q7).call(this),$(this,Dm,new AbortController);const i=this._uiManager.combinedSignal(m(this,Dm));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,m(this,Om)||($(this,Om,!0),G(this,Je,cg).call(this),this.thickness||(this.thickness=Ir._defaultThickness),this.color||(this.color=Ir._defaultColor||Hn._defaultLineColor),this.opacity??(this.opacity=Ir._defaultOpacity)),this.currentPath.push([t,r]),$(this,jm,!1),G(this,Je,K7).call(this),$(this,tf,()=>{G(this,Je,DK).call(this),m(this,tf)&&window.requestAnimationFrame(m(this,tf))}),window.requestAnimationFrame(m(this,tf))},Y7=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const o=this.currentPath;let a=m(this,rd);if(o.push([t,r]),$(this,jm,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,r);return}o.length===3&&($(this,rd,a=new Path2D),a.moveTo(...o[0])),G(this,Je,jK).call(this,a,...o.at(-3),...o.at(-2),t,r)},LK=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);m(this,rd).lineTo(...t)},MK=function(t,r){$(this,tf,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),G(this,Je,Y7).call(this,t,r),G(this,Je,LK).call(this);let i;if(this.currentPath.length!==1)i=G(this,Je,OK).call(this);else{const c=[t,r];i=[[c,c.slice(),c.slice(),c]]}const s=m(this,rd),o=this.currentPath;this.currentPath=[],$(this,rd,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(G(this,Je,t3).call(this),G(this,Je,n3).call(this)),G(this,Je,ny).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},DK=function(){if(!m(this,jm))return;$(this,jm,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),s=r.map(a=>a[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(m(this,rd)),o.restore()},jK=function(t,r,i,s,o,a,l){const c=(r+s)/2,u=(i+o)/2,h=(s+a)/2,p=(o+l)/2;t.bezierCurveTo(c+2*(s-c)/3,u+2*(o-u)/3,h+2*(s-h)/3,p+2*(o-p)/3,h,p)},OK=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,o]=t[0];for(i=1;i<t.length-2;i++){const[f,b]=t[i],[w,A]=t[i+1],x=(f+w)/2,E=(b+A)/2,S=[s+2*(f-s)/3,o+2*(b-o)/3],T=[x+2*(f-x)/3,E+2*(b-E)/3];r.push([[s,o],S,T,[x,E]]),[s,o]=[x,E]}const[a,l]=t[i],[c,u]=t[i+1],h=[s+2*(a-s)/3,o+2*(l-o)/3],p=[c+2*(a-c)/3,u+2*(l-u)/3];return r.push([[s,o],h,p,[c,u]]),r},_p=function(){if(this.isEmpty()){G(this,Je,r3).call(this);return}G(this,Je,K7).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),G(this,Je,r3).call(this);for(const i of this.bezierPath2D)r.stroke(i)},X7=function(){if(m(this,Y0))return;$(this,Y0,new AbortController);const t=this._uiManager.combinedSignal(m(this,Y0));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},Q7=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},J7=function(t){var r;(r=m(this,Dm))==null||r.abort(),$(this,Dm,null),G(this,Je,X7).call(this),m(this,Bc)&&clearTimeout(m(this,Bc)),$(this,Bc,setTimeout(()=>{$(this,Bc,null),this.canvas.removeEventListener("contextmenu",ll)},10)),G(this,Je,MK).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},t3=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},n3=function(){$(this,id,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),m(this,id).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,id))==null||t.disconnect(),$(this,id,null)},{once:!0})},cg=function(){if(!m(this,Om))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),G(this,Je,r3).call(this)},Z7=function(t,r){const i=G(this,Je,i3).call(this),s=(t-i)/m(this,Mm),o=(r-i)/m(this,Lm);this.scaleFactor=Math.min(s,o)},r3=function(){const t=G(this,Je,i3).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Fd=new WeakSet,FK=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[o,a,l,c]=t[i];i===0&&r.moveTo(...o),r.bezierCurveTo(a[0],a[1],l[0],l[1],c[0],c[1])}return r},eT=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]+=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=t[c+1]+s,t[c+1]=h+o}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]+=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=a-t[c+1],t[c+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},BK=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]-=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=t[c+1]-o,t[c+1]=h-s}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]-=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=l-t[c+1],t[c+1]=a-h}break;default:throw new Error("Invalid rotation")}return t},UK=function(t,r,i,s){var u,h;const o=[],a=this.thickness/2,l=t*r+a,c=t*i+a;for(const p of this.paths){const f=[],b=[];for(let w=0,A=p.length;w<A;w++){const[x,E,S,T]=p[w];if(x[0]===T[0]&&x[1]===T[1]&&A===1){const L=t*x[0]+l,W=t*x[1]+c;f.push(L,W),b.push(L,W);break}const B=t*x[0]+l,V=t*x[1]+c,M=t*E[0]+l,N=t*E[1]+c,P=t*S[0]+l,O=t*S[1]+c,k=t*T[0]+l,j=t*T[1]+c;w===0&&(f.push(B,V),b.push(B,V)),f.push(M,N,P,O,k,j),b.push(M,N),w===A-1&&b.push(k,j)}o.push({bezier:G(u=Ir,Fd,eT).call(u,f,s,this.rotation),points:G(h=Ir,Fd,eT).call(h,b,s,this.rotation)})}return o},tT=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,c,u]of o){const h=At.bezierBoundingBox(...a,...l,...c,...u);t=Math.min(t,h[0]),i=Math.min(i,h[1]),r=Math.max(r,h[2]),s=Math.max(s,h[3])}return[t,i,r,s]},i3=function(){return m(this,Ha)?Math.ceil(this.thickness*this.parentScale):0},ny=function(t=!1){if(this.isEmpty())return;if(!m(this,Ha)){G(this,Je,_p).call(this);return}const r=G(this,Je,tT).call(this),i=G(this,Je,i3).call(this);$(this,Mm,Math.max(Hn.MIN_SIZE,r[2]-r[0])),$(this,Lm,Math.max(Hn.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+m(this,Mm)*this.scaleFactor),o=Math.ceil(i+m(this,Lm)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const c=this.translationX,u=this.translationY;this.translationX=-r[0],this.translationY=-r[1],G(this,Je,cg).call(this),G(this,Je,_p).call(this),$(this,Fm,s),$(this,Bm,o),this.setDims(s,o);const h=t?i/this.scaleFactor/2:0;this.translate(c-this.translationX-h,u-this.translationY-h)},Y(Ir,Fd),nt(Ir,"_defaultColor",null),nt(Ir,"_defaultOpacity",1),nt(Ir,"_defaultThickness",1),nt(Ir,"_type","ink"),nt(Ir,"_editorType",rn.INK);let G7=Ir;var Lr,ns,nf,sd,rf,X0,Uc,od,Vc,aa,Q0,gn,ry,iy,s3,rT,VK,o3,iT,a3,zK,$K;const Ny=class Ny extends Hn{constructor(t){super({...t,name:"stampEditor"});Y(this,gn);Y(this,Lr,null);Y(this,ns,null);Y(this,nf,null);Y(this,sd,null);Y(this,rf,null);Y(this,X0,"");Y(this,Uc,null);Y(this,od,null);Y(this,Vc,null);Y(this,aa,!1);Y(this,Q0,!1);$(this,sd,t.bitmapUrl),$(this,rf,t.bitmapFile)}static initialize(t,r){Hn.initialize(t,r)}static get supportedTypes(){return xn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return xn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(rn.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t,r;m(this,ns)&&($(this,Lr,null),this._uiManager.imageManager.deleteId(m(this,ns)),(t=m(this,Uc))==null||t.remove(),$(this,Uc,null),(r=m(this,od))==null||r.disconnect(),$(this,od,null),m(this,Vc)&&(clearTimeout(m(this,Vc)),$(this,Vc,null))),super.remove()}rebuild(){if(!this.parent){m(this,ns)&&G(this,gn,s3).call(this);return}super.rebuild(),this.div!==null&&(m(this,ns)&&m(this,Uc)===null&&G(this,gn,s3).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(m(this,nf)||m(this,Lr)||m(this,sd)||m(this,rf)||m(this,ns))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),m(this,Lr)?G(this,gn,rT).call(this):G(this,gn,s3).call(this),this.width&&!this.annotationElementId){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}copyCanvas(t,r,i=!1){var f;t||(t=224);const{width:s,height:o}=m(this,Lr),a=new JC;let l=m(this,Lr),c=s,u=o,h=null;if(r){if(s>r||o>r){const N=Math.min(r/s,r/o);c=Math.floor(s*N),u=Math.floor(o*N)}h=document.createElement("canvas");const b=h.width=Math.ceil(c*a.sx),w=h.height=Math.ceil(u*a.sy);m(this,aa)||(l=G(this,gn,o3).call(this,b,w));const A=h.getContext("2d");A.filter=this._uiManager.hcmFilter;let x="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":(f=window.matchMedia)!=null&&f.call(window,"(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",E="#42414d");const S=15,T=S*a.sx,B=S*a.sy,V=new OffscreenCanvas(T*2,B*2),M=V.getContext("2d");M.fillStyle=x,M.fillRect(0,0,T*2,B*2),M.fillStyle=E,M.fillRect(0,0,T,B),M.fillRect(T,B,T,B),A.fillStyle=A.createPattern(V,"repeat"),A.fillRect(0,0,b,w),A.drawImage(l,0,0,l.width,l.height,0,0,b,w)}let p=null;if(i){let b,w;if(a.symmetric&&l.width<t&&l.height<t)b=l.width,w=l.height;else if(l=m(this,Lr),s>t||o>t){const E=Math.min(t/s,t/o);b=Math.floor(s*E),w=Math.floor(o*E),m(this,aa)||(l=G(this,gn,o3).call(this,b,w))}const x=new OffscreenCanvas(b,w).getContext("2d",{willReadFrequently:!0});x.drawImage(l,0,0,l.width,l.height,0,0,b,w),p={width:b,height:w,data:x.getImageData(0,0,b,w).data}}return{canvas:h,width:c,height:u,imageData:p}}getImageForAltText(){return m(this,Uc)}static async deserialize(t,r,i){var w;let s=null;if(t instanceof ZG){const{data:{rect:A,rotation:x,id:E,structParent:S,popupRef:T},container:B,parent:{page:{pageNumber:V}}}=t,M=B.querySelector("canvas"),N=i.imageManager.getFromCanvas(B.id,M);M.remove();const P=((w=await r._structTree.getAriaAttributes(`${x9}${E}`))==null?void 0:w.get("aria-label"))||"";s=t={annotationType:rn.STAMP,bitmapId:N.id,bitmap:N.bitmap,pageIndex:V-1,rect:A.slice(0),rotation:x,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:P},isSvg:!1,structParent:S,popupRef:T}}const o=await super.deserialize(t,r,i),{rect:a,bitmap:l,bitmapUrl:c,bitmapId:u,isSvg:h,accessibilityData:p}=t;u&&i.imageManager.isValidId(u)?($(o,ns,u),l&&$(o,Lr,l)):$(o,sd,c),$(o,aa,h);const[f,b]=o.pageDimensions;return o.width=(a[2]-a[0])/f,o.height=(a[3]-a[1])/b,o.annotationElementId=t.id||null,p&&(o.altTextData=p),o._initialData=s,$(o,Q0,!!s),o}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:rn.STAMP,bitmapId:m(this,ns),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:m(this,aa),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=G(this,gn,a3).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=G(this,gn,$K).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const a=m(this,aa)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(m(this,ns)))r.stamps.set(m(this,ns),{area:a,serialized:i}),i.bitmap=G(this,gn,a3).call(this,!1);else if(m(this,aa)){const l=r.stamps.get(m(this,ns));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=G(this,gn,a3).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Lr=new WeakMap,ns=new WeakMap,nf=new WeakMap,sd=new WeakMap,rf=new WeakMap,X0=new WeakMap,Uc=new WeakMap,od=new WeakMap,Vc=new WeakMap,aa=new WeakMap,Q0=new WeakMap,gn=new WeakSet,ry=function(t,r=!1){if(!t){this.remove();return}$(this,Lr,t.bitmap),r||($(this,ns,t.id),$(this,aa,t.isSvg)),t.file&&$(this,X0,t.file.name),G(this,gn,rT).call(this)},iy=function(){if($(this,nf,null),this._uiManager.enableWaiting(!1),!!m(this,Uc)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Lr)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Lr)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},s3=function(){if(m(this,ns)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,ns)).then(i=>G(this,gn,ry).call(this,i,!0)).finally(()=>G(this,gn,iy).call(this));return}if(m(this,sd)){const i=m(this,sd);$(this,sd,null),this._uiManager.enableWaiting(!0),$(this,nf,this._uiManager.imageManager.getFromUrl(i).then(s=>G(this,gn,ry).call(this,s)).finally(()=>G(this,gn,iy).call(this)));return}if(m(this,rf)){const i=m(this,rf);$(this,rf,null),this._uiManager.enableWaiting(!0),$(this,nf,this._uiManager.imageManager.getFromFile(i).then(s=>G(this,gn,ry).call(this,s)).finally(()=>G(this,gn,iy).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Ny.supportedTypesStr;const r=this._uiManager._signal;$(this,nf,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),G(this,gn,ry).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>G(this,gn,iy).call(this))),t.click()},rT=function(){const{div:t}=this;let{width:r,height:i}=m(this,Lr);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const h=Math.min(a*s/r,a*o/i);r*=h,i*=h}const[l,c]=this.parentDimensions;this.setDims(r*l/s,i*c/o),this._uiManager.enableWaiting(!1);const u=$(this,Uc,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),G(this,gn,iT).call(this,r,i),G(this,gn,zK).call(this),m(this,Q0)||(this.parent.addUndoableEditor(this),$(this,Q0,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,X0)&&u.setAttribute("aria-label",m(this,X0))},VK=function(t,r){var a;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,m(this,Vc)!==null&&clearTimeout(m(this,Vc)),$(this,Vc,setTimeout(()=>{$(this,Vc,null),G(this,gn,iT).call(this,t,r)},200))},o3=function(t,r){const{width:i,height:s}=m(this,Lr);let o=i,a=s,l=m(this,Lr);for(;o>2*t||a>2*r;){const c=o,u=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,c,u,0,0,o,a),l=h.transferToImageBitmap()}return l},iT=function(t,r){const i=new JC,s=Math.ceil(t*i.sx),o=Math.ceil(r*i.sy),a=m(this,Uc);if(!a||a.width===s&&a.height===o)return;a.width=s,a.height=o;const l=m(this,aa)?m(this,Lr):G(this,gn,o3).call(this,s,o),c=a.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,s,o)},a3=function(t){if(t){if(m(this,aa)){const s=this._uiManager.imageManager.getSvgUrl(m(this,ns));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=m(this,Lr),r.getContext("2d").drawImage(m(this,Lr),0,0),r.toDataURL()}if(m(this,aa)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Uf.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Uf.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(m(this,Lr),0,0,m(this,Lr).width,m(this,Lr).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(m(this,Lr))},zK=function(){this._uiManager._signal&&($(this,od,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&G(this,gn,VK).call(this,r.width,r.height)})),m(this,od).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,od))==null||t.disconnect(),$(this,od,null)},{once:!0}))},$K=function(t){var c;const{rect:r,pageIndex:i,accessibilityData:{altText:s}}=this._initialData,o=t.rect.every((u,h)=>Math.abs(u-r[h])<1),a=t.pageIndex===i,l=(((c=t.accessibilityData)==null?void 0:c.alt)||"")===s;return{isSame:o&&a&&l,isSameAltText:l}},nt(Ny,"_type","stamp"),nt(Ny,"_editorType",rn.STAMP);let nT=Ny;var Um,J0,zc,sf,ad,la,of,Z0,e2,ks,ld,It,af,cs,qK,oT,aT,lT,l3;const bl=class bl{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:u}){Y(this,cs);Y(this,Um);Y(this,J0,!1);Y(this,zc,null);Y(this,sf,null);Y(this,ad,null);Y(this,la,new Map);Y(this,of,!1);Y(this,Z0,!1);Y(this,e2,!1);Y(this,ks,null);Y(this,ld,null);Y(this,It);const h=[...m(bl,af).values()];if(!bl._initialized){bl._initialized=!0;for(const p of h)p.initialize(u,e)}e.registerEditorTypes(h),$(this,It,e),this.pageIndex=t,this.div=r,$(this,Um,s),$(this,zc,o),this.viewport=c,$(this,ks,l),this.drawLayer=a,this._structTree=i,m(this,It).addLayer(this)}get isEmpty(){return m(this,la).size===0}get isInvisible(){return this.isEmpty&&m(this,It).getMode()===rn.NONE}updateToolbar(e){m(this,It).updateToolbar(e)}updateMode(e=m(this,It).getMode()){switch(G(this,cs,l3).call(this),e){case rn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case rn.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case rn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of m(bl,af).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=m(this,ks))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(m(this,It).getMode()!==rn.INK)return;if(!e){for(const r of m(this,la).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){m(this,It).setEditingState(e)}addCommands(e){m(this,It).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=m(this,zc))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of m(this,la).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(m(this,It).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!m(this,zc))return;const t=m(this,zc).getEditableAnnotations();for(const r of t){if(r.hide(),m(this,It).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;$(this,e2,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of m(this,la).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(m(this,zc)){const s=m(this,zc).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(m(this,It).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(m(this,It).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}G(this,cs,l3).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of m(bl,af).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),$(this,e2,!1)}getEditableAnnotation(e){var t;return((t=m(this,zc))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,It).getActive()!==e&&m(this,It).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=m(this,ks))!=null&&e.div&&!m(this,ld)){$(this,ld,new AbortController);const t=m(this,It).combinedSignal(m(this,ld));m(this,ks).div.addEventListener("pointerdown",G(this,cs,qK).bind(this),{signal:t}),m(this,ks).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,ks))!=null&&e.div&&m(this,ld)&&(m(this,ld).abort(),$(this,ld,null),m(this,ks).div.classList.remove("highlighting"))}enableClick(){if(m(this,sf))return;$(this,sf,new AbortController);const e=m(this,It).combinedSignal(m(this,sf));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=m(this,sf))==null||e.abort(),$(this,sf,null)}attach(e){m(this,la).set(e.id,e);const{annotationElementId:t}=e;t&&m(this,It).isDeletedAnnotationElement(t)&&m(this,It).removeDeletedAnnotationElement(e)}detach(e){var t;m(this,la).delete(e.id),(t=m(this,Um))==null||t.removePointerInTextLayer(e.contentDiv),!m(this,e2)&&e.annotationElementId&&m(this,It).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,It).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,m(this,Z0)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,It).addDeletedAnnotationElement(e.annotationElementId),Hn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,It).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),m(this,It).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!m(this,ad)&&(e._focusEventsAllowed=!1,$(this,ad,setTimeout(()=>{$(this,ad,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,It)._signal}),t.focus())},0))),e._structTreeParentId=(r=m(this,Um))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return m(this,It).getId()}combinedSignal(e){return m(this,It).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=m(this,cs,oT))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){m(this,It).updateToolbar(e),m(this,It).updateMode(e);const{offsetX:r,offsetY:i}=G(this,cs,lT).call(this),s=this.getNextId(),o=G(this,cs,aT).call(this,{parent:this,id:s,x:r,y:i,uiManager:m(this,It),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=m(bl,af).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,m(this,It)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=G(this,cs,aT).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,It),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(G(this,cs,lT).call(this),!0)}setSelected(e){m(this,It).setSelected(e)}toggleSelected(e){m(this,It).toggleSelected(e)}unselect(e){m(this,It).unselect(e)}pointerup(e){const{isMac:t}=no.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&m(this,of)){if($(this,of,!1),!m(this,J0)){$(this,J0,!0);return}if(m(this,It).getMode()===rn.STAMP){m(this,It).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(m(this,It).getMode()===rn.HIGHLIGHT&&this.enableTextSelection(),m(this,of)){$(this,of,!1);return}const{isMac:t}=no.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;$(this,of,!0);const r=m(this,It).getActive();$(this,J0,!r||r.isEmpty())}findNewParent(e,t,r){const i=m(this,It).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=m(this,It).getActive())==null?void 0:e.parent)===this&&(m(this,It).commitOrRemove(),m(this,It).setActiveEditor(null)),m(this,ad)&&(clearTimeout(m(this,ad)),$(this,ad,null));for(const r of m(this,la).values())(t=m(this,Um))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,m(this,la).clear(),m(this,It).removeLayer(this)}render({viewport:e}){this.viewport=e,u1(this.div,e);for(const t of m(this,It).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){m(this,It).commitOrRemove(),G(this,cs,l3).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,u1(this.div,{rotation:r}),t!==r)for(const i of m(this,la).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return m(this,It).viewParameters.realScale}};Um=new WeakMap,J0=new WeakMap,zc=new WeakMap,sf=new WeakMap,ad=new WeakMap,la=new WeakMap,of=new WeakMap,Z0=new WeakMap,e2=new WeakMap,ks=new WeakMap,ld=new WeakMap,It=new WeakMap,af=new WeakMap,cs=new WeakSet,qK=function(e){m(this,It).unselectAll();const{target:t}=e;if(t===m(this,ks).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&m(this,ks).div.contains(t)){const{isMac:r}=no.platform;if(e.button!==0||e.ctrlKey&&r)return;m(this,It).showAllEditors("highlight",!0,!0),m(this,ks).div.classList.add("free"),this.toggleDrawing(),A_.startHighlighting(this,m(this,It).direction==="ltr",{target:m(this,ks).div,x:e.x,y:e.y}),m(this,ks).div.addEventListener("pointerup",()=>{m(this,ks).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:m(this,It)._signal}),e.preventDefault()}},oT=function(){return m(bl,af).get(m(this,It).getMode())},aT=function(e){const t=m(this,cs,oT);return t?new t.prototype.constructor(e):null},lT=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),c=(s+a)/2-e,u=(o+l)/2-t,[h,p]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:h,offsetY:p}},l3=function(){$(this,Z0,!0);for(const e of m(this,la).values())e.isEmpty()&&e.remove();$(this,Z0,!1)},nt(bl,"_initialized",!1),Y(bl,af,new Map([F7,G7,nT,A_].map(e=>[e._editorType,e])));let sT=bl;var $c,qw,fi,cd,Hw,uT,g1,dT,HK;const Zi=class Zi{constructor({pageIndex:e}){Y(this,g1);Y(this,$c,null);Y(this,qw,0);Y(this,fi,new Map);Y(this,cd,new Map);this.pageIndex=e}setParent(e){if(!m(this,$c)){$(this,$c,e);return}if(m(this,$c)!==e){if(m(this,fi).size>0)for(const t of m(this,fi).values())t.remove(),e.append(t);$(this,$c,e)}}static get _svgFactory(){return xn(this,"_svgFactory",new P9)}draw(e,t,r,i=!1){const s=Di(this,qw)._++,o=G(this,g1,dT).call(this,e.box);o.classList.add(...e.classNamesForDrawing);const a=Zi._svgFactory.createElement("defs");o.append(a);const l=Zi._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),i&&m(this,cd).set(s,l);const u=G(this,g1,HK).call(this,a,c),h=Zi._svgFactory.createElement("use");return o.append(h),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),h.setAttribute("href",`#${c}`),m(this,fi).set(s,o),{id:s,clipPathId:`url(#${u})`}}drawOutline(e){const t=Di(this,qw)._++,r=G(this,g1,dT).call(this,e.box);r.classList.add(...e.classNamesForOutlining);const i=Zi._svgFactory.createElement("defs");r.append(i);const s=Zi._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.mustRemoveSelfIntersections){const u=Zi._svgFactory.createElement("mask");i.append(u),a=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",a),u.setAttribute("maskUnits","objectBoundingBox");const h=Zi._svgFactory.createElement("rect");u.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const p=Zi._svgFactory.createElement("use");u.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const l=Zi._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return r.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),m(this,fi).set(t,r),t}finalizeLine(e,t){const r=m(this,cd).get(e);m(this,cd).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){m(this,fi).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){m(this,cd).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;G(r=Zi,Hw,uT).call(r,m(this,fi).get(e),t)}show(e,t){m(this,fi).get(e).classList.toggle("hidden",!t)}rotate(e,t){m(this,fi).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){m(this,fi).get(e).setAttribute("fill",t)}changeOpacity(e,t){m(this,fi).get(e).setAttribute("fill-opacity",t)}addClass(e,t){m(this,fi).get(e).classList.add(t)}removeClass(e,t){m(this,fi).get(e).classList.remove(t)}getSVGRoot(e){return m(this,fi).get(e)}remove(e){m(this,cd).delete(e),m(this,$c)!==null&&(m(this,fi).get(e).remove(),m(this,fi).delete(e))}destroy(){$(this,$c,null);for(const e of m(this,fi).values())e.remove();m(this,fi).clear(),m(this,cd).clear()}};$c=new WeakMap,qw=new WeakMap,fi=new WeakMap,cd=new WeakMap,Hw=new WeakSet,uT=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},g1=new WeakSet,dT=function(e){var r;const t=Zi._svgFactory.create(1,1,!0);return m(this,$c).append(t),t.setAttribute("aria-hidden",!0),G(r=Zi,Hw,uT).call(r,t,e),t},HK=function(e,t){const r=Zi._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Zi._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},Y(Zi,Hw);let cT=Zi;var Zwe=Yt.AbortException,ebe=Yt.AnnotationEditorLayer,tbe=Yt.AnnotationEditorParamsType,nbe=Yt.AnnotationEditorType,rbe=Yt.AnnotationEditorUIManager,WK=Yt.AnnotationLayer,GK=Yt.AnnotationMode,ibe=Yt.ColorPicker,sbe=Yt.DOMSVGFactory,obe=Yt.DrawLayer,abe=Yt.FeatureTest,L9=Yt.GlobalWorkerOptions,lbe=Yt.ImageKind,cbe=Yt.InvalidPDFException,ube=Yt.MissingPDFException,dbe=Yt.OPS,hbe=Yt.OutputScale,fbe=Yt.PDFDataRangeTransport,pbe=Yt.PDFDateString,mbe=Yt.PDFWorker,gbe=Yt.PasswordResponses,vbe=Yt.PermissionFlag,ybe=Yt.PixelsPerInch,wbe=Yt.RenderingCancelledException,KK=Yt.TextLayer,bbe=Yt.UnexpectedResponseException,xbe=Yt.Util,_be=Yt.VerbosityLevel,Abe=Yt.XfaLayer,Ebe=Yt.build,Sbe=Yt.createValidAbsoluteUrl,Cbe=Yt.fetchData,YK=Yt.getDocument,Tbe=Yt.getFilenameFromUrl,Nbe=Yt.getPdfFilenameFromUrl,kbe=Yt.getXfaPageViewport,Ibe=Yt.isDataScheme,Pbe=Yt.isPdfFile,Rbe=Yt.noContextMenu,Lbe=Yt.normalizeUnicode,Mbe=Yt.setLayerDimensions,Dbe=Yt.shadow,XK=Yt.version;const jbe=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Zwe,AnnotationEditorLayer:ebe,AnnotationEditorParamsType:tbe,AnnotationEditorType:nbe,AnnotationEditorUIManager:rbe,AnnotationLayer:WK,AnnotationMode:GK,ColorPicker:ibe,DOMSVGFactory:sbe,DrawLayer:obe,FeatureTest:abe,GlobalWorkerOptions:L9,ImageKind:lbe,InvalidPDFException:cbe,MissingPDFException:ube,OPS:dbe,OutputScale:hbe,PDFDataRangeTransport:fbe,PDFDateString:pbe,PDFWorker:mbe,PasswordResponses:gbe,PermissionFlag:vbe,PixelsPerInch:ybe,RenderingCancelledException:wbe,TextLayer:KK,UnexpectedResponseException:bbe,Util:xbe,VerbosityLevel:_be,XfaLayer:Abe,build:Ebe,createValidAbsoluteUrl:Sbe,fetchData:Cbe,getDocument:YK,getFilenameFromUrl:Tbe,getPdfFilenameFromUrl:Nbe,getXfaPageViewport:kbe,isDataScheme:Ibe,isPdfFile:Pbe,noContextMenu:Rbe,normalizeUnicode:Lbe,setLayerDimensions:Mbe,shadow:Dbe,version:XK},Symbol.toStringTag,{value:"Module"}));var ji=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},Obe=["onCopy","onCut","onPaste"],Fbe=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Bbe=["onFocus","onBlur"],Ube=["onInput","onInvalid","onReset","onSubmit"],Vbe=["onLoad","onError"],zbe=["onKeyDown","onKeyPress","onKeyUp"],$be=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],qbe=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Hbe=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Wbe=["onSelect"],Gbe=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Kbe=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Ybe=["onScroll"],Xbe=["onWheel"],Qbe=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Jbe=["onTransitionEnd"],Zbe=["onToggle"],exe=["onChange"],txe=ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji([],Obe,!0),Fbe,!0),Bbe,!0),Ube,!0),Vbe,!0),zbe,!0),$be,!0),qbe,!0),Hbe,!0),Wbe,!0),Gbe,!0),Kbe,!0),Ybe,!0),Xbe,!0),Qbe,!0),Jbe,!0),exe,!0),Zbe,!0);function QK(n,e){var t={};return txe.forEach(function(r){var i=n[r];i&&(e?t[r]=function(s){return i(s,e(r))}:t[r]=i)}),t}function Lb(n){var e=!1,t=new Promise(function(r,i){n.then(function(s){return!e&&r(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}var nxe="Invariant failed";function rr(n,e){if(!n)throw new Error(nxe)}var rxe=function(){},ixe=rxe;const Ms=C2(ixe);var pj=Object.prototype.hasOwnProperty;function mj(n,e,t){for(t of n.keys())if(Gg(t,e))return t}function Gg(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Gg(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=mj(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=mj(e,i),!i)||!Gg(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(pj.call(n,t)&&++r&&!pj.call(e,t)||!(t in e)||!Gg(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const JK=D.createContext(null);function Kg({children:n,type:e}){return d.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const sxe="noopener noreferrer nofollow";class oxe{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return rr(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){rr(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{rr(this.pdfDocument),rr(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{rr(Array.isArray(t));const r=t[0];new Promise(i=>{rr(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{rr(!1)}):typeof r=="number"?i(r):rr(!1)}).then(i=>{const s=i+1;rr(this.pdfViewer),rr(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;rr(this.pdfViewer),rr(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||sxe,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const gj={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},uA=typeof window<"u",ZK=uA&&window.location.protocol==="file:";function axe(n){return typeof n<"u"}function fp(n){return axe(n)&&n!==null}function lxe(n){return typeof n=="string"}function cxe(n){return n instanceof ArrayBuffer}function uxe(n){return rr(uA),n instanceof Blob}function hT(n){return lxe(n)&&/^data:/.test(n)}function vj(n){rr(hT(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function dxe(){return uA&&window.devicePixelRatio||1}const eY="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function yj(){Ms(!ZK,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${eY}`)}function hxe(){Ms(!ZK,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${eY}`)}function f1(n){n!=null&&n.cancel&&n.cancel()}function fT(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function fxe(n){return n.name==="RenderingCancelledException"}function pxe(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function mxe(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function S2(){return D.useReducer(mxe,{value:void 0,error:void 0})}var gxe=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},wj=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{PDFDataRangeTransport:vxe}=jbe,yxe=(n,e)=>{switch(e){case gj.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case gj.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function bj(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const wxe=D.forwardRef(function(e,t){var{children:r,className:i,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:c,imageResourcesPath:u,loading:h="Loading PDF",noData:p="No PDF file specified.",onItemClick:f,onLoadError:b,onLoadProgress:w,onLoadSuccess:A,onPassword:x=yxe,onSourceError:E,onSourceSuccess:S,options:T,renderMode:B,rotate:V}=e,M=wj(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[N,P]=S2(),{value:O,error:k}=N,[j,L]=S2(),{value:W,error:ue}=j,de=D.useRef(new oxe),le=D.useRef([]),J=D.useRef(void 0),re=D.useRef(void 0);l&&l!==J.current&&bj(l)&&(Ms(!Gg(l,J.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),J.current=l),T&&T!==re.current&&(Ms(!Gg(T,re.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),re.current=T);const ge=D.useRef({scrollPageIntoView:Ne=>{const{dest:De,pageNumber:Z,pageIndex:Oe=Z-1}=Ne;if(f){f({dest:De,pageIndex:Oe,pageNumber:Z});return}const at=le.current[Oe];if(at){at.scrollIntoView();return}Ms(!1,`An internal link leading to page ${Z} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});D.useImperativeHandle(t,()=>({linkService:de,pages:le,viewer:ge}),[]);function ye(){S&&S()}function z(){k&&(Ms(!1,k.toString()),E&&E(k))}function Q(){P({type:"RESET"})}D.useEffect(Q,[l,P]);const ie=D.useCallback(()=>gxe(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return hT(l)?{data:vj(l)}:(yj(),{url:l});if(l instanceof vxe)return{range:l};if(cxe(l))return{data:l};if(uA&&uxe(l))return{data:yield pxe(l)};if(rr(typeof l=="object"),rr(bj(l)),"url"in l&&typeof l.url=="string"){if(hT(l.url)){const{url:Ne}=l,De=wj(l,["url"]),Z=vj(Ne);return Object.assign({data:Z},De)}yj()}return l}),[l]);D.useEffect(()=>{const Ne=Lb(ie());return Ne.promise.then(De=>{P({type:"RESOLVE",value:De})}).catch(De=>{P({type:"REJECT",error:De})}),()=>{f1(Ne)}},[ie,P]),D.useEffect(()=>{if(!(typeof O>"u")){if(O===!1){z();return}ye()}},[O]);function ce(){W&&(A&&A(W),le.current=new Array(W.numPages),de.current.setDocument(W))}function fe(){ue&&(Ms(!1,ue.toString()),b&&b(ue))}D.useEffect(function(){L({type:"RESET"})},[L,O]),D.useEffect(function(){if(!O)return;const De=T?Object.assign(Object.assign({},O),T):O,Z=YK(De);w&&(Z.onProgress=w),x&&(Z.onPassword=x);const Oe=Z,at=Oe.promise.then(Ye=>{L({type:"RESOLVE",value:Ye})}).catch(Ye=>{Oe.destroyed||L({type:"REJECT",error:Ye})});return()=>{at.finally(()=>Oe.destroy())}},[T,L,O]),D.useEffect(()=>{if(!(typeof W>"u")){if(W===!1){fe();return}ce()}},[W]),D.useEffect(function(){de.current.setViewer(ge.current),de.current.setExternalLinkRel(o),de.current.setExternalLinkTarget(a)},[o,a]);const he=D.useCallback((Ne,De)=>{le.current[Ne]=De},[]),Ee=D.useCallback(Ne=>{delete le.current[Ne]},[]),xe=D.useMemo(()=>({imageResourcesPath:u,linkService:de.current,onItemClick:f,pdf:W,registerPage:he,renderMode:B,rotate:V,unregisterPage:Ee}),[u,f,W,he,B,V,Ee]),Ae=D.useMemo(()=>QK(M,()=>W),[M,W]);function Fe(){return d.jsx(JK.Provider,{value:xe,children:r})}function Ce(){return l?W==null?d.jsx(Kg,{type:"loading",children:typeof h=="function"?h():h}):W===!1?d.jsx(Kg,{type:"error",children:typeof s=="function"?s():s}):Fe():d.jsx(Kg,{type:"no-data",children:typeof p=="function"?p():p})}return d.jsx("div",Object.assign({className:I2("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},Ae,{children:Ce()}))});function tY(){return D.useContext(JK)}function nY(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const rY=D.createContext(null),iY={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},bxe=/^H(\d+)$/;function xxe(n){return n in iY}function dA(n){return"children"in n}function sY(n){return dA(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function _xe(n){const e={};if(dA(n)){const{role:t}=n,r=t.match(bxe);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(xxe(t)){const i=iY[t];i&&(e.role=i)}}return e}function oY(n){const e={};if(dA(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),sY(n)){const[t]=n.children;if(t){const r=oY(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function Axe(n){return n?Object.assign(Object.assign({},_xe(n)),oY(n)):null}function aY({className:n,node:e}){const t=D.useMemo(()=>Axe(e),[e]),r=D.useMemo(()=>!dA(e)||sY(e)?null:e.children.map((i,s)=>d.jsx(aY,{node:i},s)),[e]);return d.jsx("span",Object.assign({className:n},t,{children:r}))}function hA(){return D.useContext(rY)}function Exe(){const n=hA();rr(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=S2(),{value:s,error:o}=r,{customTextRenderer:a,page:l}=n;function c(){s&&t&&t(s)}function u(){o&&(Ms(!1,o.toString()),e&&e(o))}return D.useEffect(function(){i({type:"RESET"})},[i,l]),D.useEffect(function(){if(a||!l)return;const p=Lb(l.getStructTree()),f=p;return p.promise.then(b=>{i({type:"RESOLVE",value:b})}).catch(b=>{i({type:"REJECT",error:b})}),()=>f1(f)},[a,l,i]),D.useEffect(()=>{if(s!==void 0){if(s===!1){u();return}c()}},[s]),s?d.jsx(aY,{className:"react-pdf__Page__structTree structTree",node:s}):null}const xj=GK;function Sxe(n){const e=hA();rr(e);const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:i,devicePixelRatio:s=dxe(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:u,rotate:h,scale:p}=t,{canvasRef:f}=n;rr(l);const b=D.useRef(null);function w(){l&&a&&a(fT(l,p))}function A(T){fxe(T)||(Ms(!1,T.toString()),o&&o(T))}const x=D.useMemo(()=>l.getViewport({scale:p*s,rotation:h}),[s,l,h,p]),E=D.useMemo(()=>l.getViewport({scale:p,rotation:h}),[l,h,p]);D.useEffect(function(){if(!l)return;l.cleanup();const{current:B}=b;if(!B)return;B.width=x.width,B.height=x.height,B.style.width=`${Math.floor(E.width)}px`,B.style.height=`${Math.floor(E.height)}px`,B.style.visibility="hidden";const V={annotationMode:c?xj.ENABLE_FORMS:xj.ENABLE,canvasContext:B.getContext("2d",{alpha:!1}),viewport:x};i&&(V.background=i);const M=l.render(V),N=M;return M.promise.then(()=>{B.style.visibility="",w()}).catch(A),()=>f1(N)},[i,l,c,x,E]);const S=D.useCallback(()=>{const{current:T}=b;T&&(T.width=0,T.height=0)},[]);return D.useEffect(()=>S,[S]),d.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:nY(f,b),style:{display:"block",userSelect:"none"},children:u?d.jsx(Exe,{}):null})}function Cxe(n){return"str"in n}function Txe(){const n=hA();rr(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:u}=n;rr(o);const[h,p]=S2(),{value:f,error:b}=h,w=D.useRef(null);Ms(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function A(){f&&r&&r(f)}function x(){b&&(Ms(!1,b.toString()),t&&t(b))}D.useEffect(function(){p({type:"RESET"})},[o,p]),D.useEffect(function(){if(!o)return;const N=Lb(o.getTextContent()),P=N;return N.promise.then(O=>{p({type:"RESOLVE",value:O})}).catch(O=>{p({type:"REJECT",error:O})}),()=>f1(P)},[o,p]),D.useEffect(()=>{if(f!==void 0){if(f===!1){x();return}A()}},[f]);const E=D.useCallback(()=>{s&&s()},[s]),S=D.useCallback(M=>{Ms(!1,M.toString()),i&&i(M)},[i]);function T(){const M=w.current;M&&M.classList.add("selecting")}function B(){const M=w.current;M&&M.classList.remove("selecting")}const V=D.useMemo(()=>o.getViewport({scale:u,rotation:c}),[o,c,u]);return D.useLayoutEffect(function(){if(!o||!f)return;const{current:N}=w;if(!N)return;N.innerHTML="";const P=o.streamTextContent({includeMarkedContent:!0}),O={container:N,textContentSource:P,viewport:V},k=new KK(O),j=k;return k.render().then(()=>{const L=document.createElement("div");L.className="endOfContent",N.append(L);const W=N.querySelectorAll('[role="presentation"]');if(e){let ue=0;f.items.forEach((de,le)=>{if(!Cxe(de))return;const J=W[ue];if(!J)return;const re=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:le},de));J.innerHTML=re,ue+=de.str&&de.hasEOL?2:1})}E()}).catch(S),()=>f1(j)},[e,S,E,o,a,l,f,V]),d.jsx("div",{className:I2("react-pdf__Page__textContent","textLayer"),onMouseUp:B,onMouseDown:T,ref:w})}function Nxe(){const n=tY(),e=hA();rr(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:u,renderForms:h,rotate:p,scale:f=1}=t;rr(u),rr(c),rr(i);const[b,w]=S2(),{value:A,error:x}=b,E=D.useRef(null);Ms(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function S(){A&&o&&o(A)}function T(){x&&(Ms(!1,x.toString()),s&&s(x))}D.useEffect(function(){w({type:"RESET"})},[w,c]),D.useEffect(function(){if(!c)return;const P=Lb(c.getAnnotations()),O=P;return P.promise.then(k=>{w({type:"RESOLVE",value:k})}).catch(k=>{w({type:"REJECT",error:k})}),()=>{f1(O)}},[w,c]),D.useEffect(()=>{if(A!==void 0){if(A===!1){T();return}S()}},[A]);function B(){l&&l()}function V(N){Ms(!1,`${N}`),a&&a(N)}const M=D.useMemo(()=>c.getViewport({scale:f,rotation:p}),[c,p,f]);return D.useEffect(function(){if(!u||!c||!i||!A)return;const{current:P}=E;if(!P)return;const O=M.clone({dontFlip:!0}),k={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:P,l10n:null,page:c,structTreeLayer:null,viewport:O},j={annotations:A,annotationStorage:u.annotationStorage,div:P,imageResourcesPath:r,linkService:i,page:c,renderForms:h,viewport:O};P.innerHTML="";try{new WK(k).render(j),B()}catch(L){V(L)}return()=>{}},[A,r,i,c,u,h,M]),d.jsx("div",{className:I2("react-pdf__Page__annotations","annotationLayer"),ref:E})}var kxe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const _j=1;function Ixe(n){const e=tY(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:u,devicePixelRatio:h,error:p="Failed to load the page.",height:f,inputRef:b,loading:w="Loading page",noData:A="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:E,onGetStructTreeError:S,onGetStructTreeSuccess:T,onGetTextError:B,onGetTextSuccess:V,onLoadError:M,onLoadSuccess:N,onRenderAnnotationLayerError:P,onRenderAnnotationLayerSuccess:O,onRenderError:k,onRenderSuccess:j,onRenderTextLayerError:L,onRenderTextLayerSuccess:W,pageIndex:ue,pageNumber:de,pdf:le,registerPage:J,renderAnnotationLayer:re=!0,renderForms:ge=!1,renderMode:ye="canvas",renderTextLayer:z=!0,rotate:Q,scale:ie=_j,unregisterPage:ce,width:fe}=t,he=kxe(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ee,xe]=S2(),{value:Ae,error:Fe}=Ee,Ce=D.useRef(null);rr(le);const Ne=fp(de)?de-1:ue??null,De=de??(fp(ue)?ue+1:null),Z=Q??(Ae?Ae.rotate:null),Oe=D.useMemo(()=>{if(!Ae)return null;let ut=1;const Ft=ie??_j;if(fe||f){const st=Ae.getViewport({scale:1,rotation:Z});fe?ut=fe/st.width:f&&(ut=f/st.height)}return Ft*ut},[f,Ae,Z,ie,fe]);D.useEffect(function(){return()=>{fp(Ne)&&i&&ce&&ce(Ne)}},[i,le,Ne,ce]);function at(){if(N){if(!Ae||!Oe)return;N(fT(Ae,Oe))}if(i&&J){if(!fp(Ne)||!Ce.current)return;J(Ne,Ce.current)}}function Ye(){Fe&&(Ms(!1,Fe.toString()),M&&M(Fe))}D.useEffect(function(){xe({type:"RESET"})},[xe,le,Ne]),D.useEffect(function(){if(!le||!De)return;const Ft=Lb(le.getPage(De)),st=Ft;return Ft.promise.then(Nt=>{xe({type:"RESOLVE",value:Nt})}).catch(Nt=>{xe({type:"REJECT",error:Nt})}),()=>f1(st)},[xe,le,De]),D.useEffect(()=>{if(Ae!==void 0){if(Ae===!1){Ye();return}at()}},[Ae,Oe]);const Re=D.useMemo(()=>Ae&&fp(Ne)&&De&&fp(Z)&&fp(Oe)?{_className:r,canvasBackground:s,customTextRenderer:u,devicePixelRatio:h,onGetAnnotationsError:x,onGetAnnotationsSuccess:E,onGetStructTreeError:S,onGetStructTreeSuccess:T,onGetTextError:B,onGetTextSuccess:V,onRenderAnnotationLayerError:P,onRenderAnnotationLayerSuccess:O,onRenderError:k,onRenderSuccess:j,onRenderTextLayerError:L,onRenderTextLayerSuccess:W,page:Ae,pageIndex:Ne,pageNumber:De,renderForms:ge,renderTextLayer:z,rotate:Z,scale:Oe}:null,[r,s,u,h,x,E,S,T,B,V,P,O,k,j,L,W,Ae,Ne,De,ge,z,Z,Oe]),rt=D.useMemo(()=>QK(he,()=>Ae&&(Oe?fT(Ae,Oe):void 0)),[he,Ae,Oe]),Ie=`${Ne}@${Oe}/${Z}`;function He(){switch(ye){case"custom":return rr(c),d.jsx(c,{},`${Ie}_custom`);case"none":return null;case"canvas":default:return d.jsx(Sxe,{canvasRef:o},`${Ie}_canvas`)}}function Ke(){return z?d.jsx(Txe,{},`${Ie}_text`):null}function Xt(){return re?d.jsx(Nxe,{},`${Ie}_annotations`):null}function Ut(){return d.jsxs(rY.Provider,{value:Re,children:[He(),Ke(),Xt(),a]})}function tt(){return De?le===null||Ae===void 0||Ae===null?d.jsx(Kg,{type:"loading",children:typeof w=="function"?w():w}):le===!1||Ae===!1?d.jsx(Kg,{type:"error",children:typeof p=="function"?p():p}):Ut():d.jsx(Kg,{type:"no-data",children:typeof A=="function"?A():A})}return d.jsx("div",Object.assign({className:I2(r,l),"data-page-number":De,ref:nY(b,Ce),style:{"--scale-factor":`${Oe}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},rt,{children:tt()}))}hxe();L9.workerSrc="pdf.worker.mjs";L9.workerSrc=`//unpkg.com/pdfjs-dist@${XK}/build/pdf.worker.min.mjs`;const lY=({file:n,signatureImage:e,signaturePosition:t,onSignaturePlace:r,onSignatureMove:i})=>{const[s,o]=D.useState(0),[a,l]=D.useState(1),[c,u]=D.useState(!1),h=D.useRef(null),p=({numPages:x})=>{o(x)},f=x=>{if(!e||c)return;const E=x.currentTarget.getBoundingClientRect(),S=(x.clientX-E.left)/E.width*100,T=(x.clientY-E.top)/E.height*100;r({x:S,y:T,page:a})},b=x=>{x.preventDefault(),u(!0)},w=x=>{if(!c||!t)return;const E=x.currentTarget.getBoundingClientRect(),S=Math.max(0,Math.min(100,(x.clientX-E.left)/E.width*100)),T=Math.max(0,Math.min(100,(x.clientY-E.top)/E.height*100));i({x:S,y:T,page:t.page})},A=()=>{u(!1)};return d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx(Qe,{variant:"outline",size:"icon",onClick:()=>l(x=>Math.max(1,x-1)),disabled:a<=1,children:d.jsx(WZ,{className:"h-4 w-4"})}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",a," of ",s]}),d.jsx(Qe,{variant:"outline",size:"icon",onClick:()=>l(x=>Math.min(s,x+1)),disabled:a>=s,children:d.jsx(a6,{className:"h-4 w-4"})})]}),d.jsxs("div",{ref:h,className:"relative border border-border rounded-lg overflow-hidden cursor-crosshair",onClick:f,onMouseMove:w,onMouseUp:A,onMouseLeave:A,children:[d.jsx(wxe,{file:n,onLoadSuccess:p,children:d.jsx(Ixe,{pageNumber:a,width:600,renderTextLayer:!0,renderAnnotationLayer:!0})}),e&&t&&t.page===a&&d.jsx("div",{className:"absolute cursor-move select-none",style:{left:`${t.x}%`,top:`${t.y}%`,transform:"translate(-50%, -50%)"},onMouseDown:b,children:d.jsx("img",{src:e,alt:"Signature",className:"max-w-[200px] max-h-[80px] pointer-events-none",draggable:!1})})]}),e&&!t&&d.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Click on the document to place your signature"})]})},Pxe=Object.freeze(Object.defineProperty({__proto__:null,PDFViewer:lY},Symbol.toStringTag,{value:"Module"})),Rxe=()=>{const{id:n}=wie(),e=x1(),[t,r]=D.useState(!0),[i,s]=D.useState(null),[o,a]=D.useState(null),[l,c]=D.useState(null),[u,h]=D.useState([]),[p,f]=D.useState(!1),[b,w]=D.useState(!1),[A,x]=D.useState(!1);D.useEffect(()=>{(async()=>{if(n)try{const V=hf(Al,"documents",n),M=await Yq(V);if(M.exists()){const N=M.data();if(s(N),N.status==="completed"||N.status==="signed"){x(!0),r(!1);return}if(N.fileUrl){const O=await(await fetch(N.fileUrl)).blob(),k=new File([O],N.name||"document.pdf",{type:"application/pdf"});a(k)}else if(N.pdfBase64){const O=await(await fetch(N.pdfBase64)).blob(),k=new File([O],N.name||"document.pdf",{type:"application/pdf"});a(k)}else xt.error("Document file not found.")}else xt.error("Document not found."),e("/")}catch(V){console.error("Error fetching document:",V),xt.error("Failed to load document.")}finally{r(!1)}})()},[n,e]);const E=B=>{c(B),f(!1),xt.success("Signature created! Click on the document to place it.")},S=B=>{h(V=>[...V,B]),xt.success("Signature placed!")},T=async()=>{if(!l||u.length===0||!n){xt.error("Please place at least one signature on the document.");return}w(!0);try{await Yme(hf(Al,"documents",n),{status:"signed",signature_data:l,signature_positions:u,signedAt:mC()}),x(!0),xt.success("Document signed successfully!")}catch(B){console.error("Error signing document:",B),xt.error("Failed to submit signature.")}finally{w(!1)}};return t?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx(Ya,{className:"w-8 h-8 animate-spin text-primary"})}):A?d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 text-center bg-muted/30",children:[d.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:d.jsx(Ka,{className:"w-8 h-8 text-green-600"})}),d.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Document Signed Successfully!"}),d.jsxs("p",{className:"text-muted-foreground mb-6 max-w-md",children:["Thank you for signing ",d.jsx("strong",{children:i==null?void 0:i.name}),"."]}),d.jsx(Qe,{onClick:()=>e("/dashboard"),children:"Go to Dashboard"})]}):d.jsxs("div",{className:"min-h-screen bg-muted/30 flex flex-col",children:[d.jsx("header",{className:"bg-background border-b border-border sticky top-0 z-50",children:d.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[d.jsx(so,{className:"h-8 w-auto"}),d.jsxs(Qe,{onClick:T,disabled:!l||u.length===0||b,className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:[b?d.jsx(Ya,{className:"w-4 h-4 animate-spin md:mr-2"}):d.jsx(Rs,{className:"w-4 h-4 md:mr-2"}),d.jsx("span",{className:"hidden md:inline",children:"Finish Signing"})]})]})}),d.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:d.jsxs("div",{className:"max-w-5xl mx-auto bg-card rounded-xl shadow-sm border border-border overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-border bg-muted/20 flex justify-between items-center",children:[d.jsxs("h2",{className:"font-semibold flex items-center gap-2",children:[d.jsx(BB,{className:"w-4 h-4 text-primary"})," ",i==null?void 0:i.name]}),!l&&d.jsx(Qe,{size:"sm",variant:"outline",onClick:()=>f(!0),children:"Create Signature"})]}),d.jsx("div",{className:"p-6 bg-muted/10 min-h-[600px] flex justify-center",children:o&&d.jsx(lY,{file:o,signatureImage:l,signaturePositions:u,signaturePosition:u.length>0?u[u.length-1]:null,onSignaturePlace:S,onSignatureMove:B=>{h(V=>{const M=[...V];return M.length>0&&(M[M.length-1]=B),M})}})})]})}),p&&d.jsx(VW,{document:{id:n||"temp",name:(i==null?void 0:i.name)||"Document",status:"pending",signature_data:null,signature_type:null},onClose:()=>f(!1),onSave:E})]})},Lxe=()=>{const[n,e]=D.useState(!1),[t,r]=D.useState(!1),[i,s]=D.useState(!1);D.useEffect(()=>{window.scrollTo(0,0)},[]);const o=[{category:"Product Updates",title:"New Feature: Bulk Send for Enterprise Teams",excerpt:"Efficiency just got an upgrade. Learn how to send hundreds of documents for signature in minutes with our new Bulk Send feature, designed for HR and Sales teams.",date:"Oct 24, 2024",readTime:"4 min read",author:"Product Team",image:"bg-blue-500/5"},{category:"Compliance",title:"Understanding eIDAS and ESIGN: A Global Compliance Guide",excerpt:"Navigating the complex world of digital signature legality. We break down what you need to know about regulations in the US, EU, and beyond.",date:"Oct 18, 2024",readTime:"7 min read",author:"Legal Team",image:"bg-purple-500/5"},{category:"Security",title:"How We Protect Your Data: SOC 2 & Encryption",excerpt:"Security is our top priority. A deep dive into our 256-bit encryption, audit trails, and why enterprise-grade security is non-negotiable.",date:"Oct 12, 2024",readTime:"5 min read",author:"Security Team",image:"bg-green-500/5"},{category:"Productivity",title:"5 Strategies to Close Deals Faster",excerpt:"Reduce friction in your sales cycle. Actionable tips for preparing contracts that get signed immediately, not next week.",date:"Oct 05, 2024",readTime:"3 min read",author:"Success Team",image:"bg-orange-500/5"},{category:"Engineering",title:"Building Scalable Real-Time Collaboration",excerpt:"A technical look at the WebSocket architecture behind Endorse's lightning-fast signature processing and live status updates.",date:"Sep 28, 2024",readTime:"9 min read",author:"Engineering",image:"bg-red-500/5"},{category:"Case Study",title:"How a Fortune 500 Firm Digitized HR Onboarding",excerpt:"See how moving to digital signatures saved 1,000+ hours of administrative work annually for a global logistics company.",date:"Sep 20, 2024",readTime:"7 min read",author:"Endorse Team",image:"bg-indigo-500/5"}];return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-strong border-b bordercab yo-border/40",children:[d.jsxs("div",{className:"container mx-auto px-6 h-20 flex items-center justify-between",children:[d.jsx(Ze,{to:"/",className:"flex items-center gap-2.5","aria-label":"Endorse",children:d.jsx(so,{className:"h-14 w-auto drop-shadow-sm"})}),d.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[d.jsxs(yd,{children:[d.jsxs(wd,{className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors flex items-center gap-1 outline-none group",children:["Product ",d.jsx(pa,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Zc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(oi,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(Ze,{to:"/#features",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Rs,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"eSign"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Create, send, and track legally binding electronic signatures."})]})]})}),d.jsx(oi,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(Ze,{to:"/conversion",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Jm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"File Conversion"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Transform documents between PDF, Word, and other formats."})]})]})})]})]}),d.jsx(Ze,{to:"/#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors",children:"Pricing"}),d.jsxs(yd,{children:[d.jsxs(wd,{className:"font-sans text-sm font-bold tracking-tight text-foreground transition-colors flex items-center gap-1 outline-none group",children:["Resources ",d.jsx(pa,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Zc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(oi,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(Ze,{to:"/blog",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Qs,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Blog"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Latest updates, articles, and insights."})]})]})}),d.jsx(oi,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(Ze,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Xm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Help Center"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Guides, tutorials, and support documentation."})]})]})}),d.jsx(oi,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(Ze,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Qm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"API Docs"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Complete reference for developers."})]})]})})]})]}),d.jsx(Ze,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors",children:"Company"})]}),d.jsx("div",{className:"flex items-center gap-4",children:d.jsx(Ze,{to:"/auth",children:d.jsx(Qe,{className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:"Get Started"})})}),d.jsx("button",{className:"md:hidden text-foreground p-2",onClick:()=>e(!n),"aria-label":"Toggle menu",children:n?d.jsx(Xa,{className:"w-6 h-6"}):d.jsx(l6,{className:"w-6 h-6"})})]}),n&&d.jsxs("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-background border-b border-border p-4 flex flex-col gap-4 shadow-lg animate-in slide-in-from-top-5 h-[calc(100vh-4rem)] overflow-y-auto",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>r(!t),children:["Product",d.jsx(pa,{className:`w-4 h-4 transition-transform duration-200 ${t?"rotate-180":""}`})]}),t&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs(Ze,{to:"/#features",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Rs,{className:"w-4 h-4"})," eSign"]}),d.jsxs(Ze,{to:"/conversion",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Jm,{className:"w-4 h-4"})," File Conversion"]})]})]}),d.jsx(Ze,{to:"/#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>e(!1),children:"Pricing"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>s(!i),children:["Resources",d.jsx(pa,{className:`w-4 h-4 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs(Ze,{to:"/blog",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Qs,{className:"w-4 h-4"})," Blog"]}),d.jsxs(Ze,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Xm,{className:"w-4 h-4"})," Help Center"]}),d.jsxs(Ze,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Qm,{className:"w-4 h-4"})," API Docs"]})]})]}),d.jsx(Ze,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>e(!1),children:"Company"}),d.jsx("div",{className:"flex flex-col gap-3 mt-2",children:d.jsx(Ze,{to:"/auth",onClick:()=>e(!1),children:d.jsx(Qe,{className:"w-full bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:"Get Started"})})})]})]}),d.jsx("main",{className:"pt-24 md:pt-32 pb-16 md:pb-20 px-4 md:px-6",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsxs("div",{className:"text-center mb-20",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-sm font-medium mb-6",children:[d.jsx(Qs,{className:"w-4 h-4"}),"The Endorse Blog"]}),d.jsxs("h1",{className:"font-display text-3xl sm:text-4xl md:text-6xl font-bold mb-6 tracking-tight",children:["Insights for the ",d.jsx("br",{}),d.jsx("span",{className:"text-gradient",children:"Modern Workflow"})]}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-10",children:"Latest product updates, industry news, and tips to help you manage documents better."}),d.jsxs("div",{className:"max-w-md mx-auto relative",children:[d.jsx(uee,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),d.jsx(Ni,{placeholder:"Search articles...",className:"pl-10 h-12 bg-secondary/50 border-border focus:ring-primary","aria-label":"Search articles"})]})]}),d.jsx("div",{className:"mb-20",children:d.jsxs("div",{className:"group relative rounded-2xl bg-card border border-border overflow-hidden grid md:grid-cols-2 gap-8 hover:shadow-lg transition-all duration-500",children:[d.jsxs("div",{className:"aspect-video md:aspect-auto bg-secondary/50 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx(Qs,{className:"w-20 h-20 text-primary/20 group-hover:scale-110 transition-transform duration-700"})})]}),d.jsxs("div",{className:"p-6 md:p-12 flex flex-col justify-center",children:[d.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mb-4",children:[d.jsx("span",{className:"text-primary font-medium px-2.5 py-0.5 rounded-full bg-primary/10 text-xs uppercase tracking-wide",children:"Featured"}),d.jsx("span",{children:""}),d.jsx("span",{children:"Oct 24, 2024"})]}),d.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4 group-hover:text-primary transition-colors",children:"The Future of Digital Agreements: Trends to Watch in 2025"}),d.jsx("p",{className:"text-muted-foreground text-lg mb-8 leading-relaxed",children:"As remote work becomes permanent, the way we sign and manage contracts is evolving. Here are the key trends shaping the industry."}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center font-bold text-muted-foreground",children:d.jsx(so,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-sm",children:"Endorse Editorial"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Industry Trends"})]})]})]})]})}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((a,l)=>d.jsxs(Ze,{to:"#",className:"group flex flex-col h-full bg-card rounded-xl border border-border overflow-hidden hover:shadow-md transition-all duration-300",children:[d.jsx("div",{className:`aspect-[16/9] ${a.image} relative overflow-hidden`,children:d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-muted-foreground/20 group-hover:scale-105 transition-transform duration-500",children:d.jsx(Qs,{className:"w-12 h-12"})})}),d.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mb-3",children:[d.jsx("span",{className:"text-primary font-medium px-2 py-0.5 rounded-full bg-primary/10 uppercase tracking-wide",children:a.category}),d.jsx("span",{children:""}),d.jsx("span",{children:a.readTime})]}),d.jsx("h3",{className:"text-xl font-bold mb-3 group-hover:text-primary transition-colors leading-tight",children:a.title}),d.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-2 leading-relaxed flex-1",children:a.excerpt}),d.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border/50 mt-auto",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[d.jsx(ES,{className:"w-3 h-3"}),a.author]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:c=>{c.preventDefault(),navigator.share&&navigator.share({title:a.title,text:a.excerpt,url:window.location.href}).catch(()=>{})},className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"Share post",children:d.jsx(hee,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex items-center text-xs font-semibold text-foreground group-hover:translate-x-1 transition-transform",children:["Read ",d.jsx(a6,{className:"w-3 h-3 ml-1"})]})]})]})]})]},l))}),d.jsxs("div",{className:"mt-16 md:mt-24 rounded-2xl bg-secondary/30 border border-border p-6 md:p-12 text-center",children:[d.jsx("h3",{className:"font-display text-2xl md:text-3xl font-bold mb-4",children:"Subscribe to our newsletter"}),d.jsx("p",{className:"text-muted-foreground mb-8 max-w-xl mx-auto",children:"Get the latest articles, resources, and product updates delivered directly to your inbox."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[d.jsx(Ni,{placeholder:"Enter your email",className:"bg-background","aria-label":"Email address"}),d.jsx(Qe,{children:"Subscribe"})]})]})]})}),d.jsx("footer",{className:"bg-background border-t border-border py-12 px-4 md:px-6",children:d.jsxs("div",{className:"container mx-auto max-w-6xl flex flex-col md:flex-row items-center justify-between gap-6",children:[d.jsxs("p",{className:"text-muted-foreground text-sm",children:[" ",new Date().getFullYear()," Endorse. All rights reserved."]}),d.jsxs("div",{className:"flex gap-6 text-sm text-muted-foreground",children:[d.jsx(Ze,{to:"/",className:"hover:text-foreground",children:"Home"}),d.jsx(Ze,{to:"/auth",className:"hover:text-foreground",children:"Sign In"}),d.jsx(Ze,{to:"/privacy",className:"hover:text-foreground",children:"Privacy"}),d.jsx(Ze,{to:"/terms",className:"hover:text-foreground",children:"Terms"})]})]})})]})},Mxe="/assets/bankole-DIxerWJK.png",Dxe=()=>{const[n,e]=D.useState(!1),[t,r]=D.useState(!1),[i,s]=D.useState(!1);return D.useEffect(()=>{window.scrollTo(0,0)},[]),d.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[d.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-strong border-b border-border/40",children:[d.jsxs("div",{className:"container mx-auto px-6 h-20 flex items-center justify-between",children:[d.jsx(Ze,{to:"/",className:"flex items-center gap-2.5","aria-label":"Endorse",children:d.jsx(so,{className:"h-14 w-auto drop-shadow-sm"})}),d.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[d.jsxs(yd,{children:[d.jsxs(wd,{className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors flex items-center gap-1 outline-none group",children:["Product ",d.jsx(pa,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Zc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(oi,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(Ze,{to:"/#features",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Rs,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"eSign"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Create, send, and track legally binding electronic signatures."})]})]})}),d.jsx(oi,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(Ze,{to:"/conversion",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Jm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"File Conversion"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Transform documents between PDF, Word, and other formats."})]})]})})]})]}),d.jsx(Ze,{to:"/#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors",children:"Pricing"}),d.jsxs(yd,{children:[d.jsxs(wd,{className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors flex items-center gap-1 outline-none group",children:["Resources ",d.jsx(pa,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Zc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(oi,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(Ze,{to:"/blog",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Qs,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Blog"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Latest updates, articles, and insights."})]})]})}),d.jsx(oi,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(Ze,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Xm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Help Center"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Guides, tutorials, and support documentation."})]})]})}),d.jsx(oi,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(Ze,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Qm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"API Docs"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Complete reference for developers."})]})]})})]})]}),d.jsx(Ze,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground transition-colors",children:"Company"})]}),d.jsx("div",{className:"flex items-center gap-4",children:d.jsx(Ze,{to:"/auth",children:d.jsx(Qe,{className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:"Get Started"})})}),d.jsx("button",{className:"md:hidden text-foreground p-2",onClick:()=>e(!n),"aria-label":"Toggle menu",children:n?d.jsx(Xa,{className:"w-6 h-6"}):d.jsx(l6,{className:"w-6 h-6"})})]}),n&&d.jsxs("div",{className:"md:hidden absolute top-20 left-0 right-0 bg-background border-b border-border p-4 flex flex-col gap-4 shadow-lg animate-in slide-in-from-top-5 h-[calc(100vh-5rem)] overflow-y-auto",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>r(!t),children:["Product",d.jsx(pa,{className:`w-4 h-4 transition-transform duration-200 ${t?"rotate-180":""}`})]}),t&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs(Ze,{to:"/#features",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Rs,{className:"w-4 h-4"})," eSign"]}),d.jsxs(Ze,{to:"/conversion",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Jm,{className:"w-4 h-4"})," File Conversion"]})]})]}),d.jsx(Ze,{to:"/#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>e(!1),children:"Pricing"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>s(!i),children:["Resources",d.jsx(pa,{className:`w-4 h-4 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs(Ze,{to:"/blog",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Qs,{className:"w-4 h-4"})," Blog"]}),d.jsxs(Ze,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Xm,{className:"w-4 h-4"})," Help Center"]}),d.jsxs(Ze,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Qm,{className:"w-4 h-4"})," API Docs"]})]})]}),d.jsx(Ze,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>e(!1),children:"Company"}),d.jsx("div",{className:"flex flex-col gap-3 mt-2",children:d.jsx(Ze,{to:"/auth",onClick:()=>e(!1),children:d.jsx(Qe,{className:"w-full bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:"Get Started"})})})]})]}),d.jsxs("main",{className:"pt-32",children:[d.jsx("section",{className:"px-4 md:px-6 pb-16 md:pb-20 text-center",children:d.jsxs("div",{className:"container mx-auto max-w-4xl",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-sm font-medium mb-6",children:[d.jsx(VP,{className:"w-4 h-4"}),"Our Company"]}),d.jsxs("h1",{className:"font-display text-4xl sm:text-5xl md:text-7xl font-bold mb-8 tracking-tight text-foreground",children:["We're changing the way ",d.jsx("br",{}),d.jsx("span",{className:"text-gradient",children:"the world agrees."})]}),d.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Endorse is dedicated to making every agreement digital, secure, and accessible from anywhere on the planet."})]})}),d.jsx("section",{className:"px-4 md:px-6 mb-16 md:mb-24",children:d.jsx("div",{className:"container mx-auto max-w-6xl",children:d.jsxs("div",{className:"aspect-video md:aspect-[21/9] rounded-3xl overflow-hidden relative bg-secondary",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-background to-secondary"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"grid grid-cols-3 gap-8 opacity-20 transform -rotate-12 scale-125",children:[...Array(9)].map((o,a)=>d.jsx("div",{className:"w-64 h-40 bg-foreground rounded-xl"},a))})}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 md:p-12 bg-gradient-to-t from-black/80 to-transparent text-white",children:d.jsx("p",{className:"font-display text-2xl md:text-3xl font-bold",children:"Connecting businesses and people."})})]})})}),d.jsx("section",{className:"px-4 md:px-6 py-16 md:py-20 bg-secondary/20",children:d.jsx("div",{className:"container mx-auto max-w-6xl",children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-10 md:gap-16 items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-6",children:"Our Mission"}),d.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:"Founded in 2024, Endorse started with a simple premise: paper contracts are a bottleneck to progress. We believe that agreements should be as fast and fluid as the rest of your work."}),d.jsx("p",{className:"text-lg text-muted-foreground mb-8 leading-relaxed",children:"We are at the beginning of our journey, building a platform for forward-thinking individuals and teams. Whether you're a freelancer or a growing startup, Endorse provides the secure infrastructure to help you scale."}),d.jsxs("div",{className:"flex gap-8",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-4xl font-bold text-primary mb-1",children:"100%"}),d.jsx("div",{className:"text-sm text-muted-foreground uppercase tracking-wider",children:"Committed"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-4xl font-bold text-primary mb-1",children:"Secure"}),d.jsx("div",{className:"text-sm text-muted-foreground uppercase tracking-wider",children:"By Design"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-4xl font-bold text-primary mb-1",children:"Global"}),d.jsx("div",{className:"text-sm text-muted-foreground uppercase tracking-wider",children:"Vision"})]})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary/20 to-purple-500/20 rounded-2xl blur-xl opacity-50"}),d.jsxs("div",{className:"relative bg-card border border-border p-8 rounded-2xl shadow-xl",children:[d.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[d.jsx(j3,{className:"w-5 h-5 text-green-500"}),"Built on Trust"]}),d.jsx("p",{className:"text-muted-foreground mb-6",children:"Security isn't just a feature; it's our foundation. We adhere to the strictest global standards to ensure your data remains yours."}),d.jsx("ul",{className:"space-y-3",children:["Secure Cloud Infrastructure","Encrypted Data Transfer","Privacy Focused","99.9% Uptime"].map((o,a)=>d.jsxs("li",{className:"flex items-center gap-3 text-sm font-medium",children:[d.jsx(Ka,{className:"w-4 h-4 text-primary"}),o]},a))})]})]})]})})}),d.jsx("section",{className:"px-4 md:px-6 py-16 md:py-24",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Our Core Values"}),d.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"The principles that guide every decision we make."})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:nee,title:"Customer Success",desc:"We only win when our customers win. We obsess over user experience and support."},{icon:WB,title:"Simplicity",desc:"Complexity is the enemy of execution. We strive to make the complex simple."},{icon:HB,title:"Integrity",desc:"We do the right thing, even when no one is watching. Trust is our currency."}].map((o,a)=>d.jsxs("div",{className:"bg-card p-8 rounded-2xl border border-border hover:shadow-lg transition-all duration-300 group",children:[d.jsx("div",{className:"w-12 h-12 bg-secondary rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:d.jsx(o.icon,{className:"w-6 h-6 text-primary"})}),d.jsx("h3",{className:"text-xl font-bold mb-3",children:o.title}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:o.desc})]},a))})]})}),d.jsxs("section",{className:"px-4 md:px-6 py-16 md:py-24 bg-[#1a1f2c] text-white relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop')] bg-cover bg-center opacity-10 mix-blend-overlay"}),d.jsx("div",{className:"container mx-auto max-w-6xl relative z-10",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-12",children:[d.jsxs("div",{className:"md:w-1/2",children:[d.jsxs("h2",{className:"font-display text-3xl md:text-5xl font-bold mb-6",children:["Built for the",d.jsx("br",{}),"Remote World."]}),d.jsx("p",{className:"text-gray-400 text-lg mb-8 leading-relaxed",children:"We are a fully distributed team spanning multiple continents. This allows us to provide 24/7 support and build a product that truly understands global collaboration."})]}),d.jsx("div",{className:"md:w-1/2 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{title:"Remote First",desc:"Distributed team across 12+ time zones"},{title:"24/7 Support",desc:"Always on, wherever you are"},{title:"Global Compliance",desc:"Adhering to international standards"},{title:"Digital Native",desc:"Born in the cloud, built for speed"}].map((o,a)=>d.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-xl backdrop-blur-sm",children:[d.jsx(VB,{className:"w-5 h-5 text-[#FFC83D] mb-3"}),d.jsx("h4",{className:"font-bold text-lg",children:o.title}),d.jsx("p",{className:"text-sm text-gray-400",children:o.desc})]},a))})]})})]}),d.jsx("section",{className:"px-4 md:px-6 py-16 md:py-24",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Meet the Builder"}),d.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Driving innovation in digital agreements."})]}),d.jsxs("div",{className:"bg-card border border-border rounded-3xl p-6 md:p-12 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-[0.03] pointer-events-none",children:d.jsx($P,{className:"w-64 h-64"})}),d.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-10 items-center",children:[d.jsxs("div",{className:"shrink-0 relative",children:[d.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-2xl rounded-full"}),d.jsx("div",{className:"relative w-48 h-48 rounded-full overflow-hidden border-4 border-background shadow-2xl",children:d.jsx("img",{src:Mxe,alt:"Bankole Ebenezer",className:"object-cover w-full h-full"})})]}),d.jsxs("div",{className:"flex-1 text-center md:text-left",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-medium mb-6",children:[d.jsx(VP,{className:"w-3 h-3"}),"Builder"]}),d.jsx("h3",{className:"font-display text-3xl font-bold mb-6",children:"Bankole Ebenezer"}),d.jsxs("div",{className:"relative",children:[d.jsx($P,{className:"w-8 h-8 text-primary/20 absolute -top-4 -left-4 -z-10"}),d.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-8 relative z-10",children:"I built Endorse to solve a problem I had for myself signing documents quickly and easily. Now, its a tool I love using every day, and I designed it so others can sign, send, and manage documents without the hassle."})]}),d.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-4",children:[d.jsx("a",{href:"#",className:"p-2 bg-secondary hover:bg-primary hover:text-primary-foreground rounded-full transition-colors","aria-label":"LinkedIn",children:d.jsx(_S,{className:"w-5 h-5"})}),d.jsx("a",{href:"#",className:"p-2 bg-secondary hover:bg-primary hover:text-primary-foreground rounded-full transition-colors","aria-label":"GitHub",children:d.jsx(tee,{className:"w-5 h-5"})}),d.jsx("a",{href:"mailto:contact@endorse.com",className:"p-2 bg-secondary hover:bg-primary hover:text-primary-foreground rounded-full transition-colors","aria-label":"Email",children:d.jsx(Gy,{className:"w-5 h-5"})})]})]})]})]})]})}),d.jsx("section",{className:"py-16 md:py-24 px-4 md:px-6",children:d.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[d.jsx("h2",{className:"font-display text-4xl font-bold mb-6",children:"Join the movement"}),d.jsx("p",{className:"text-xl text-muted-foreground mb-10 max-w-2xl mx-auto",children:"Ready to modernize your workflow? Start using Endorse today."}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[d.jsx(Ze,{to:"/auth",children:d.jsx(Qe,{size:"lg",className:"h-14 px-8 text-lg bg-primary text-primary-foreground hover:bg-primary/90",children:"Get Started for Free"})}),d.jsx(Qe,{variant:"outline",size:"lg",className:"h-14 px-8 text-lg",children:"Contact Sales"})]})]})})]})]})};var Pr=function(){return Pr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Pr.apply(this,arguments)};function cY(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Aj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Kr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(t),!0).forEach(function(r){hY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Aj(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function p1(n){return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p1(n)}function uY(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ej(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function dY(n,e,t){return e&&Ej(n.prototype,e),t&&Ej(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function hY(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pT(n,e){if(n==null)return{};var t,r,i=function(o,a){if(o==null)return{};var l,c,u={},h=Object.keys(o);for(c=0;c<h.length;c++)l=h[c],a.indexOf(l)>=0||(u[l]=o[l]);return u}(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function jxe(n,e){return function(t){if(Array.isArray(t))return t}(n)||function(t,r){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var s,o,a=[],l=!0,c=!1;try{for(i=i.call(t);!(l=(s=i.next()).done)&&(a.push(s.value),!r||a.length!==r);l=!0);}catch(u){c=!0,o=u}finally{try{l||i.return==null||i.return()}finally{if(c)throw o}}return a}}(n,e)||fY(n,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oxe(n){return function(e){if(Array.isArray(e))return mT(e)}(n)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(n)||fY(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fY(n,e){if(n){if(typeof n=="string")return mT(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?mT(n,e):void 0}}function mT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var M9={cookieTestUrl:"https://legacy-staging.paystack.co/test-iframe/start.html",publishableKey:"uFmz/uE/SDT6GupOrSEXIZXGByjQ0zFkPyc9LqKHFqnTI0WPN3JS5kQPo/j9or0TOXlqMQj2lzHn/UGsQT4XeQ==",publicKey:`-----BEGIN PUBLIC KEY-----\r
MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBALhZs/7hP0g0+hrqTq0hFyGVxgco0NMx\r
ZD8nPS6ihxap0yNFjzdyUuZED6P4/aK9Ezl5ajEI9pcx5/1BrEE+F3kCAwEAAQ==\r
-----END PUBLIC KEY-----`,applePayVersion:6,applePayValidateSessionPath:"applepay/validate-session/",applePayChargePath:"applepay/charge"},Fxe=Kr(Kr({},M9),{},{checkoutUrl:"http://localhost:8081/",paymentBaseUrl:"https://legacy-staging.paystack.co/",paystackApiUrl:"https://studio-api.paystack.co/",siteUrl:"https://paystack.com",pusherKey:"1c7b262ee18455815893",pusherUrl:"http://localhost:8081/static/vendor/pusher.min.js"}),Sj=Kr(Kr({},M9),{},{checkoutUrl:"https://checkout-studio.paystack.com/",paymentBaseUrl:"https://legacy-staging.paystack.co/",paystackApiUrl:"https://studio-api.paystack.co/",siteUrl:"https://beta.paystack.com",pusherKey:"1c7b262ee18455815893",pusherUrl:"https://checkout-studio.paystack.com/static/vendor/pusher.min.js"}),Eo={dev:Fxe,staging:Sj,production:Kr(Kr({},M9),{},{checkoutUrl:"https://checkout.paystack.com/",paymentBaseUrl:"https://standard.paystack.co/",paystackApiUrl:"https://api.paystack.co/",siteUrl:"https://paystack.com",pusherKey:"8e4b9b7ca3418bd5cdc8",pusherUrl:"https://checkout.paystack.com/static/vendor/pusher.min.js"})}.production||Sj;function pY(n,e){var t=[];return Object.keys(n).forEach(function(r){var i=e?"".concat(e,"[").concat(r,"]"):r,s=n[i];t.push(s!==null&&(typeof v>"u"?"undefined":p1(v))==="object"?pY(s,i):"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(s)))}),t.join("&")}function ug(){return document.currentScript||(n=document.getElementsByTagName("script"))[n.length-1];var n}function Cj(){var n=[],e=ug();if(e){var t=Array.prototype.slice.call(e.attributes);n=Object.keys(t).filter(function(r){var i=t[r].nodeName;return i&&i.indexOf("data")>-1}).map(function(r){return t[r].nodeName})}return n}var mY=`
  <svg id="inline-button-wordmark--white" width="137" height="13" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M.037 5.095l1.075-.135c-.011-.774-.025-1.944-.013-2.149C1.19 1.364 2.38.134 3.81.013 3.9.006 3.99.002 4.077 0a2.947 2.947 0 0 1 2.046.76c.574.509.95 1.26 1.008 2.007.015.192.01 1.491.01 2.257l1.096.163L8.2 11.44 4.093 12 0 11.346l.037-6.251zm4.106-.514l1.724.256c-.007-.933-.05-2.295-.26-2.654-.319-.545-.846-.867-1.443-.88h-.063c-.607.008-1.138.322-1.458.864-.222.378-.266 1.66-.265 2.637l1.765-.223zM18.228 10.108c-.576 0-1.064-.072-1.464-.216a2.864 2.864 0 0 1-.972-.6 2.552 2.552 0 0 1-.588-.864 4.067 4.067 0 0 1-.252-1.044h1.008c.032.256.088.5.168.732.08.224.204.424.372.6.168.168.388.304.66.408.28.096.636.144 1.068.144.28 0 .536-.036.768-.108.24-.08.448-.192.624-.336.176-.144.312-.316.408-.516.104-.2.156-.42.156-.66 0-.24-.032-.448-.096-.624a1.02 1.02 0 0 0-.336-.468 1.885 1.885 0 0 0-.636-.324 6.4 6.4 0 0 0-1.008-.228 8.79 8.79 0 0 1-1.212-.276 3.246 3.246 0 0 1-.9-.432 1.982 1.982 0 0 1-.564-.672c-.128-.272-.192-.6-.192-.984 0-.328.068-.632.204-.912.136-.288.324-.536.564-.744.248-.208.54-.372.876-.492.336-.12.708-.18 1.116-.18.864 0 1.548.204 2.052.612.512.4.812.984.9 1.752h-.936c-.104-.544-.316-.932-.636-1.164-.32-.24-.78-.36-1.38-.36-.592 0-1.04.132-1.344.396a1.255 1.255 0 0 0-.444.996c0 .208.024.396.072.564.056.16.156.3.3.42.152.12.36.228.624.324a6.72 6.72 0 0 0 1.068.228c.48.072.9.168 1.26.288.36.12.664.276.912.468s.432.428.552.708c.128.28.192.624.192 1.032 0 .36-.076.696-.228 1.008a2.472 2.472 0 0 1-.612.804c-.264.224-.58.4-.948.528-.36.128-.752.192-1.176.192zM25.355 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM32.091 10.108c-.44 0-.848-.072-1.224-.216a3.054 3.054 0 0 1-.972-.636 3.12 3.12 0 0 1-.648-1.008 3.626 3.626 0 0 1-.228-1.32v-.096c0-.48.08-.916.24-1.308.16-.4.376-.74.648-1.02.28-.28.604-.496.972-.648.376-.16.772-.24 1.188-.24.328 0 .644.04.948.12.312.08.588.208.828.384.248.168.456.392.624.672.168.28.276.62.324 1.02h-.984c-.08-.496-.284-.848-.612-1.056-.32-.208-.696-.312-1.128-.312a1.93 1.93 0 0 0-.804.168c-.24.112-.452.272-.636.48a2.23 2.23 0 0 0-.42.744 2.991 2.991 0 0 0-.156.996v.096c0 .776.188 1.364.564 1.764.384.392.88.588 1.488.588.224 0 .436-.032.636-.096a1.651 1.651 0 0 0 .96-.768c.112-.192.18-.416.204-.672h.924a2.595 2.595 0 0 1-.276.948 2.386 2.386 0 0 1-.576.744c-.24.208-.52.372-.84.492-.32.12-.668.18-1.044.18zM38.335 10.108a2.83 2.83 0 0 1-.876-.132 1.724 1.724 0 0 1-.684-.42 2.145 2.145 0 0 1-.456-.756c-.112-.304-.168-.672-.168-1.104V3.724h.996v3.924c0 .552.116.956.348 1.212.24.256.608.384 1.104.384.224 0 .44-.036.648-.108.208-.072.392-.18.552-.324.16-.144.288-.324.384-.54.096-.216.144-.464.144-.744V3.724h.996V10h-.996v-.996c-.144.296-.388.556-.732.78-.336.216-.756.324-1.26.324zM43.216 3.724h.996v1.128c.2-.352.452-.64.756-.864.312-.232.748-.356 1.308-.372v.936a4.461 4.461 0 0 0-.852.12 1.647 1.647 0 0 0-.66.324 1.472 1.472 0 0 0-.408.612c-.096.248-.144.564-.144.948V10h-.996V3.724zM50 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM56.496 10.108c-.408 0-.788-.068-1.14-.204a2.683 2.683 0 0 1-.9-.612 3.01 3.01 0 0 1-.588-.984 4.01 4.01 0 0 1-.204-1.32v-.096c0-.48.072-.92.216-1.32.144-.4.344-.744.6-1.032.256-.296.564-.524.924-.684.36-.16.756-.24 1.188-.24.528 0 .956.112 1.284.336.328.216.584.476.768.78V.724h.996V10h-.996V8.92c-.088.152-.208.3-.36.444a2.792 2.792 0 0 1-.516.384 2.874 2.874 0 0 1-.6.252c-.216.072-.44.108-.672.108zm.108-.828c.288 0 .56-.048.816-.144.256-.096.476-.24.66-.432.184-.2.328-.448.432-.744.112-.304.168-.656.168-1.056v-.096c0-.808-.18-1.404-.54-1.788-.352-.384-.836-.576-1.452-.576-.624 0-1.112.208-1.464.624-.352.416-.528 1.008-.528 1.776v.096c0 .392.048.736.144 1.032.104.296.24.54.408.732.176.192.38.336.612.432.232.096.48.144.744.144zM67.712 10.108c-.512 0-.948-.112-1.308-.336a2.38 2.38 0 0 1-.816-.804V10h-.996V.724h.996V4.78a1.92 1.92 0 0 1 .348-.432c.152-.144.32-.268.504-.372.192-.112.396-.2.612-.264.216-.064.436-.096.66-.096.408 0 .788.072 1.14.216.352.144.652.352.9.624.256.272.456.604.6.996.144.392.216.832.216 1.32v.096c0 .48-.068.92-.204 1.32a3.103 3.103 0 0 1-.576 1.02 2.583 2.583 0 0 1-.9.672 2.937 2.937 0 0 1-1.176.228zm-.096-.828c.624 0 1.1-.2 1.428-.6.328-.408.492-.996.492-1.764V6.82c0-.4-.052-.748-.156-1.044a2.095 2.095 0 0 0-.42-.732 1.53 1.53 0 0 0-.612-.444 1.798 1.798 0 0 0-.744-.156c-.288 0-.56.048-.816.144a1.71 1.71 0 0 0-.648.444c-.184.192-.328.44-.432.744a3.152 3.152 0 0 0-.156 1.044v.096c0 .8.192 1.396.576 1.788.384.384.88.576 1.488.576zM73.63 9.352l-2.46-5.628h1.068l1.92 4.5 1.74-4.5h1.02l-3.468 8.46h-1.008l1.188-2.832zM87.127 3.669A3.138 3.138 0 0 0 86.1 2.95a3.09 3.09 0 0 0-1.228-.25c-.448 0-.848.086-1.187.26a2.199 2.199 0 0 0-.662.497v-.191a.387.387 0 0 0-.214-.348.323.323 0 0 0-.14-.03h-1.315a.314.314 0 0 0-.254.116.377.377 0 0 0-.1.262v8.97c0 .1.034.188.1.258a.34.34 0 0 0 .254.103h1.341a.342.342 0 0 0 .244-.103.336.336 0 0 0 .11-.259v-3.06c.178.202.417.357.702.464.35.134.72.203 1.093.203.43 0 .848-.082 1.242-.248a3.124 3.124 0 0 0 1.04-.724c.305-.326.545-.709.707-1.128a3.93 3.93 0 0 0 .263-1.477c0-.54-.086-1.037-.263-1.477a3.387 3.387 0 0 0-.706-1.12zm-1.204 3.24c-.073.19-.18.362-.315.51a1.415 1.415 0 0 1-1.065.466c-.2.001-.4-.04-.584-.12a1.484 1.484 0 0 1-.49-.346 1.593 1.593 0 0 1-.32-.51 1.738 1.738 0 0 1-.115-.63c0-.224.04-.435.115-.631a1.532 1.532 0 0 1 .804-.846c.185-.086.386-.13.59-.129.215 0 .414.044.593.13.177.083.338.199.474.341a1.622 1.622 0 0 1 .425 1.135c0 .225-.037.436-.112.63zM95.298 2.89h-1.33a.339.339 0 0 0-.246.11.384.384 0 0 0-.108.266v.166a1.856 1.856 0 0 0-.602-.472 2.525 2.525 0 0 0-1.166-.258 3.227 3.227 0 0 0-2.284.964 3.554 3.554 0 0 0-.734 1.123 3.827 3.827 0 0 0-.275 1.477c0 .54.092 1.037.275 1.477.184.434.427.817.728 1.128a3.146 3.146 0 0 0 2.277.973c.437 0 .834-.088 1.173-.259.25-.13.456-.287.608-.471v.177a.34.34 0 0 0 .11.259.341.341 0 0 0 .244.104h1.33a.324.324 0 0 0 .25-.105.349.349 0 0 0 .102-.258V3.267a.377.377 0 0 0-.1-.262.325.325 0 0 0-.252-.115zM93.502 6.9a1.55 1.55 0 0 1-.312.511c-.136.143-.296.26-.473.344-.178.085-.38.129-.596.129-.207 0-.407-.044-.59-.13a1.501 1.501 0 0 1-.791-.855 1.766 1.766 0 0 1-.112-.62c0-.225.038-.436.112-.632.075-.193.181-.364.314-.504.137-.143.3-.26.478-.342.182-.085.382-.129.59-.129.215 0 .417.044.595.13.178.085.338.2.473.341a1.623 1.623 0 0 1 .424 1.135c0 .215-.037.424-.112.622zM108.567 6.094a2.265 2.265 0 0 0-.654-.402c-.247-.101-.509-.181-.785-.235l-1.014-.204c-.26-.05-.441-.117-.543-.203a.328.328 0 0 1-.136-.264c0-.11.063-.2.189-.282.137-.086.329-.13.566-.13.26 0 .518.053.757.157.243.106.471.226.67.36.295.187.546.162.727-.053l.487-.57a.543.543 0 0 0 .152-.357c0-.128-.064-.245-.185-.351-.207-.184-.533-.378-.971-.568-.437-.192-.987-.29-1.637-.29-.427 0-.82.058-1.168.172-.35.116-.65.276-.893.474-.245.204-.438.44-.57.713a2 2 0 0 0-.198.875c0 .56.167 1.017.496 1.358.328.333.766.56 1.304.67l1.054.232c.3.062.528.132.675.21.129.067.19.163.19.297 0 .12-.061.227-.188.324-.133.104-.342.155-.622.155a1.83 1.83 0 0 1-.831-.19 3.056 3.056 0 0 1-.678-.458.995.995 0 0 0-.307-.17c-.126-.037-.268.003-.431.13l-.583.461c-.169.145-.24.32-.209.522.029.194.19.394.491.62.269.193.614.368 1.029.518.415.151.901.229 1.453.229.444 0 .854-.058 1.215-.172.362-.119.681-.278.941-.48a2.056 2.056 0 0 0 .819-1.663c0-.319-.053-.6-.165-.836a1.843 1.843 0 0 0-.447-.6zM114.383 7.73a.363.363 0 0 0-.295-.192.55.55 0 0 0-.343.113c-.095.062-.198.11-.306.141a.75.75 0 0 1-.426.013.43.43 0 0 1-.181-.093.554.554 0 0 1-.143-.204.92.92 0 0 1-.059-.362v-2.46h1.731c.099 0 .188-.04.266-.117a.368.368 0 0 0 .112-.26V3.268a.369.369 0 0 0-.115-.268.38.38 0 0 0-.263-.109h-1.732V1.216a.354.354 0 0 0-.108-.27.347.347 0 0 0-.243-.104h-1.344a.36.36 0 0 0-.34.226.371.371 0 0 0-.027.148V2.89h-.767a.324.324 0 0 0-.255.115.385.385 0 0 0-.098.262V4.31a.4.4 0 0 0 .212.346c.044.021.092.032.14.03h.768v2.925c0 .39.069.726.2 1.003.132.274.305.504.514.676.217.178.465.31.731.388.27.084.551.126.833.126.385 0 .75-.061 1.094-.18a2.13 2.13 0 0 0 .861-.552c.152-.181.17-.381.046-.581l-.463-.76zM121.672 2.89h-1.329a.339.339 0 0 0-.244.11.39.39 0 0 0-.08.122.394.394 0 0 0-.027.144v.166a1.906 1.906 0 0 0-.605-.472c-.335-.173-.726-.258-1.168-.258-.42 0-.834.083-1.226.249a3.24 3.24 0 0 0-1.055.715 3.528 3.528 0 0 0-.734 1.123 3.79 3.79 0 0 0-.276 1.477c0 .54.092 1.037.275 1.477.184.434.428.817.729 1.128a3.138 3.138 0 0 0 2.273.973 2.59 2.59 0 0 0 1.175-.259c.255-.13.457-.287.612-.471v.177a.34.34 0 0 0 .108.259.343.343 0 0 0 .243.104h1.329a.335.335 0 0 0 .252-.105.364.364 0 0 0 .102-.258V3.267a.38.38 0 0 0-.1-.262.332.332 0 0 0-.115-.087.311.311 0 0 0-.139-.028zM119.876 6.9a1.534 1.534 0 0 1-.786.855 1.362 1.362 0 0 1-.594.129c-.207 0-.405-.044-.588-.13a1.516 1.516 0 0 1-.792-.855 1.757 1.757 0 0 1-.113-.62c0-.225.037-.436.112-.632.073-.187.179-.358.314-.504.138-.143.3-.26.479-.342.184-.086.385-.13.588-.129.217 0 .415.044.594.13.181.085.34.2.472.341.134.143.24.313.314.504a1.73 1.73 0 0 1 0 1.253zM128.978 7.64l-.763-.593c-.146-.118-.284-.15-.404-.1a.742.742 0 0 0-.279.205 2.527 2.527 0 0 1-.583.535c-.192.122-.444.183-.742.183-.219 0-.42-.04-.6-.122a1.423 1.423 0 0 1-.469-.342 1.575 1.575 0 0 1-.308-.51 1.751 1.751 0 0 1-.106-.617c0-.228.034-.438.106-.632.07-.192.173-.363.308-.503.135-.144.295-.26.472-.342.187-.088.391-.132.597-.13.298 0 .547.064.742.187.198.126.396.306.584.534.078.092.17.16.278.206.122.048.259.016.401-.101l.762-.594a.53.53 0 0 0 .201-.269.437.437 0 0 0-.034-.365 3.329 3.329 0 0 0-1.18-1.127c-.504-.291-1.108-.441-1.784-.441a3.519 3.519 0 0 0-2.51 1.033c-.322.322-.576.71-.747 1.137a3.68 3.68 0 0 0-.273 1.407c0 .495.093.968.273 1.402.173.424.427.808.747 1.128a3.527 3.527 0 0 0 2.51 1.034c.676 0 1.28-.149 1.784-.444a3.286 3.286 0 0 0 1.182-1.13.411.411 0 0 0 .055-.173.415.415 0 0 0-.023-.182.624.624 0 0 0-.197-.273zM136.06 9.045l-2.104-3.143 1.801-2.415c.094-.139.119-.272.075-.397-.031-.09-.116-.2-.334-.2h-1.425a.52.52 0 0 0-.234.058.482.482 0 0 0-.209.205L132.191 5.2h-.349V.363a.37.37 0 0 0-.099-.26.352.352 0 0 0-.253-.103h-1.332a.37.37 0 0 0-.337.22.346.346 0 0 0-.027.143V9.29c0 .103.038.193.11.259a.353.353 0 0 0 .254.104h1.333a.328.328 0 0 0 .251-.105.346.346 0 0 0 .075-.119.333.333 0 0 0 .024-.14V6.927h.386l1.571 2.446c.112.187.267.281.46.281h1.491c.226 0 .32-.11.358-.202.054-.13.038-.262-.047-.406zM102.863 2.89h-1.489a.389.389 0 0 0-.298.122.544.544 0 0 0-.13.249l-1.099 4.167h-.268l-1.182-4.167a.66.66 0 0 0-.113-.247.329.329 0 0 0-.264-.124h-1.544c-.199 0-.325.066-.372.193a.588.588 0 0 0-.002.37l1.887 5.865c.03.093.08.17.145.232a.388.388 0 0 0 .281.104h.798l-.066.19-.19.547a.872.872 0 0 1-.29.426.7.7 0 0 1-.442.148.956.956 0 0 1-.4-.09 1.842 1.842 0 0 1-.35-.209.62.62 0 0 0-.335-.115h-.016c-.13 0-.243.074-.334.216l-.474.708c-.193.304-.086.504.039.615.234.224.528.399.875.524.344.125.723.186 1.126.186.682 0 1.252-.187 1.689-.565.435-.376.756-.887.952-1.524l2.188-7.258c.05-.155.05-.284.005-.389-.037-.08-.125-.174-.327-.174z" fill="#ffffff"/>
  </svg>
`,Bxe=`
<svg id="inline-button-wordmark--grey" width="166" height="16" viewBox="0 0 166 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path
  d="M0.564068 6.26985L1.86515 6.10375C1.85184 5.15143 1.83489 3.71187 1.84942 3.45964C1.95955 1.67927 3.39982 0.16589 5.13056 0.0170127C5.23949 0.00839996 5.34842 0.0034784 5.45371 0.00101762C6.36645 -0.0209585 7.25272 0.313716 7.93 0.936113C8.62472 1.56238 9.07979 2.4864 9.14999 3.4055C9.16815 3.64174 9.1621 5.24002 9.1621 6.18249L10.4886 6.38305L10.4438 14.0767L5.47308 14.7657L0.519287 13.961L0.564068 6.26985ZM5.53359 5.63743L7.62016 5.95241C7.61169 4.80446 7.55965 3.12867 7.30548 2.68696C6.91939 2.0164 6.28156 1.62021 5.55901 1.60421H5.48276C4.7481 1.61406 4.10543 2.0004 3.71813 2.66727C3.44944 3.13236 3.39619 4.70972 3.3974 5.91181L5.53359 5.63743ZM22.5808 12.4378C21.8836 12.4378 21.293 12.3492 20.8089 12.172C20.372 12.0088 19.9719 11.7577 19.6325 11.4338C19.3256 11.1331 19.0833 10.7712 18.9208 10.3707C18.7637 9.95815 18.6612 9.52621 18.6158 9.08621H19.8358C19.8745 9.40119 19.9423 9.70141 20.0391 9.98686C20.136 10.2625 20.286 10.5085 20.4894 10.7251C20.6927 10.9318 20.959 11.0991 21.2882 11.2271C21.6271 11.3452 22.0579 11.4043 22.5808 11.4043C22.9197 11.4043 23.2295 11.36 23.5103 11.2714C23.8008 11.173 24.0525 11.0351 24.2655 10.858C24.4785 10.6808 24.6431 10.4692 24.7593 10.2231C24.8852 9.97701 24.9481 9.70633 24.9481 9.41103C24.9481 9.11574 24.9094 8.85982 24.8319 8.64327C24.7536 8.41559 24.6125 8.21568 24.4253 8.06745C24.196 7.88594 23.9347 7.75064 23.6555 7.6688C23.257 7.54201 22.849 7.4482 22.4355 7.38828C21.9393 7.31041 21.4491 7.19693 20.9686 7.04869C20.5808 6.92967 20.2133 6.75038 19.8794 6.51716C19.5939 6.29685 19.3607 6.01432 19.1968 5.69034C19.0418 5.35567 18.9644 4.9521 18.9644 4.47963C18.9644 4.07607 19.0467 3.70203 19.2113 3.35752C19.3759 3.00317 19.6034 2.69803 19.8939 2.44211C20.194 2.18619 20.5475 1.98441 20.9541 1.83676C21.3608 1.68911 21.811 1.61529 22.3048 1.61529C23.3505 1.61529 24.1784 1.86629 24.7884 2.36829C25.4081 2.86044 25.7711 3.57899 25.8777 4.52393H24.7448C24.6189 3.8546 24.3624 3.37721 23.9751 3.09176C23.5878 2.79646 23.031 2.64882 22.3048 2.64882C21.5883 2.64882 21.0461 2.81123 20.6782 3.13605C20.5037 3.28606 20.3648 3.47417 20.2717 3.68635C20.1787 3.89853 20.1339 4.12931 20.1408 4.36152C20.1408 4.61744 20.1698 4.84875 20.2279 5.05546C20.2957 5.25232 20.4167 5.42457 20.591 5.57222C20.775 5.71987 21.0267 5.85275 21.3463 5.97087C21.7689 6.09987 22.2012 6.19369 22.6389 6.25139C23.2198 6.33998 23.7281 6.4581 24.1639 6.60575C24.5996 6.75339 24.9675 6.94533 25.2677 7.18157C25.5678 7.4178 25.7905 7.70818 25.9358 8.05268C26.0907 8.39719 26.1681 8.82045 26.1681 9.32245C26.1681 9.76539 26.0761 10.1788 25.8922 10.5627C25.7149 10.9408 25.4627 11.2775 25.1515 11.5519C24.8319 11.8275 24.4495 12.0441 24.0041 12.2016C23.5684 12.359 23.094 12.4378 22.5808 12.4378ZM31.2066 12.4378C30.6741 12.4378 30.1803 12.3443 29.7252 12.1573C29.2906 11.9775 28.8956 11.7115 28.5633 11.3747C28.2268 11.0185 27.965 10.5966 27.7936 10.1345C27.6136 9.61796 27.5251 9.07309 27.5321 8.52515V8.40704C27.5321 7.82629 27.6193 7.29476 27.7936 6.81245C27.9679 6.3203 28.2099 5.90196 28.5198 5.55746C28.8393 5.2031 29.2169 4.93242 29.6526 4.7454C30.0883 4.54854 30.5676 4.45011 31.0905 4.45011C31.5262 4.45011 31.9473 4.52393 32.354 4.67158C32.7704 4.80938 33.1383 5.03085 33.4578 5.33599C33.7773 5.64112 34.0291 6.03977 34.213 6.53192C34.4067 7.01424 34.5035 7.5999 34.5035 8.28892V8.68756H28.7812C28.8102 9.57345 29.0281 10.2526 29.4348 10.7251C29.8414 11.1877 30.4369 11.419 31.2212 11.419C32.4121 11.419 33.085 10.9712 33.24 10.0754H34.4454C34.3099 10.8531 33.9516 11.4436 33.3707 11.8472C32.7897 12.2409 32.0684 12.4378 31.2066 12.4378ZM33.269 7.69833C33.2109 6.90104 32.9882 6.33014 32.6009 5.98563C32.2233 5.64112 31.7198 5.46887 31.0905 5.46887C30.4708 5.46887 29.9624 5.67065 29.5655 6.07422C29.1782 6.46794 28.9313 7.00932 28.8248 7.69833H33.269ZM39.3593 12.4378C38.8267 12.4378 38.3329 12.3492 37.8779 12.172C37.4401 11.9901 37.0407 11.7245 36.7014 11.3895C36.3636 11.0315 36.0973 10.6103 35.9172 10.1493C35.7268 9.63002 35.6332 9.07925 35.6412 8.52515V8.40704C35.6412 7.81645 35.738 7.28 35.9317 6.79769C36.1253 6.30553 36.3868 5.8872 36.716 5.54269C37.0548 5.19818 37.447 4.93242 37.8924 4.7454C38.3475 4.54854 38.8267 4.45011 39.3302 4.45011C39.7272 4.45011 40.1097 4.49932 40.4776 4.59775C40.8552 4.69618 41.1893 4.85367 41.4797 5.07022C41.7799 5.27693 42.0316 5.55253 42.235 5.89704C42.4383 6.24155 42.569 6.65988 42.6271 7.15204H41.4362C41.3393 6.54177 41.0924 6.10867 40.6955 5.85275C40.3082 5.59683 39.8531 5.46887 39.3302 5.46887C38.995 5.46599 38.6632 5.53649 38.3571 5.67557C38.0667 5.81338 37.8101 6.01024 37.5874 6.26616C37.3615 6.53514 37.1889 6.84598 37.0791 7.18157C36.9484 7.57626 36.8845 7.99063 36.8902 8.40704V8.52515C36.8902 9.47994 37.1178 10.2034 37.5729 10.6956C38.0376 11.1779 38.6379 11.419 39.3738 11.419C39.6449 11.419 39.9015 11.3797 40.1436 11.3009C40.6361 11.1497 41.0523 10.8113 41.3055 10.356C41.441 10.1197 41.5233 9.84413 41.5524 9.52915H42.6707C42.6338 9.9361 42.5204 10.3321 42.3366 10.6956C42.1663 11.0447 41.9293 11.3559 41.6395 11.611C41.349 11.8669 41.0101 12.0687 40.6228 12.2163C40.2355 12.364 39.8144 12.4378 39.3593 12.4378ZM46.9164 12.4378C46.5568 12.4406 46.199 12.3858 45.8562 12.2754C45.5441 12.1717 45.2605 11.9947 45.0284 11.7586C44.7829 11.4908 44.595 11.1741 44.4765 10.8284C44.3409 10.4544 44.2731 10.0016 44.2731 9.47009V4.58299H45.4786V9.41103C45.4786 10.0902 45.619 10.5873 45.8998 10.9023C46.1903 11.2172 46.6356 11.3747 47.236 11.3747C47.5071 11.3747 47.7685 11.3304 48.0202 11.2419C48.272 11.1533 48.4947 11.0204 48.6883 10.8432C48.882 10.666 49.0369 10.4446 49.1531 10.1788C49.2693 9.91303 49.3274 9.6079 49.3274 9.26339V4.58299H50.5328V12.3049H49.3274V11.0794C49.1531 11.4436 48.8578 11.7635 48.4414 12.0391C48.0348 12.3049 47.5264 12.4378 46.9164 12.4378ZM52.8239 4.58299H54.0294V5.97087C54.2715 5.53777 54.5765 5.18342 54.9444 4.90781C55.322 4.62236 55.8497 4.46979 56.5275 4.45011V5.60175C56.1799 5.61707 55.8346 5.66652 55.4963 5.7494C55.2039 5.81939 54.9308 5.95567 54.6975 6.14804C54.4729 6.35252 54.303 6.6116 54.2037 6.90104C54.0875 7.20618 54.0294 7.59498 54.0294 8.06745V12.3049H52.8239V4.58299ZM61.0347 12.4378C60.5021 12.4378 60.0083 12.3443 59.5533 12.1573C59.1186 11.9775 58.7236 11.7115 58.3914 11.3747C58.0549 11.0185 57.793 10.5966 57.6216 10.1345C57.4416 9.61796 57.3531 9.07309 57.3602 8.52515V8.40704C57.3602 7.82629 57.4473 7.29476 57.6216 6.81245C57.7959 6.3203 58.038 5.90196 58.3478 5.55746C58.6673 5.2031 59.0449 4.93242 59.4806 4.7454C59.9164 4.54854 60.3956 4.45011 60.9185 4.45011C61.3542 4.45011 61.7754 4.52393 62.1821 4.67158C62.5984 4.80938 62.9663 5.03085 63.2859 5.33599C63.6054 5.64112 63.8571 6.03977 64.0411 6.53192C64.2347 7.01424 64.3316 7.5999 64.3316 8.28892V8.68756H58.6092C58.6383 9.57345 58.8561 10.2526 59.2628 10.7251C59.6695 11.1877 60.2649 11.419 61.0492 11.419C62.2401 11.419 62.9131 10.9712 63.068 10.0754H64.2735C64.1379 10.8531 63.7797 11.4436 63.1987 11.8472C62.6178 12.2409 61.8964 12.4378 61.0347 12.4378ZM63.097 7.69833C63.0389 6.90104 62.8162 6.33014 62.429 5.98563C62.0513 5.64112 61.5478 5.46887 60.9185 5.46887C60.2988 5.46887 59.7905 5.67065 59.3935 6.07422C59.0062 6.46794 58.7593 7.00932 58.6528 7.69833H63.097ZM68.8968 12.4378C68.403 12.4378 67.9431 12.3541 67.5171 12.1868C67.1072 12.0141 66.7365 11.7578 66.4278 11.4338C66.1165 11.0803 65.8749 10.6693 65.7161 10.2231C65.5451 9.69956 65.4617 9.15057 65.4692 8.59898V8.48086C65.4692 7.89027 65.5564 7.3489 65.7307 6.85675C65.905 6.36459 66.147 5.94134 66.4569 5.58698C66.7667 5.22279 67.1395 4.94226 67.5752 4.7454C68.0109 4.54854 68.4902 4.45011 69.013 4.45011C69.6521 4.45011 70.1701 4.58791 70.5671 4.86352C70.964 5.12928 71.2739 5.44918 71.4966 5.82322V0.891819H72.702V12.3049H71.4966V10.9761C71.3901 11.1631 71.2448 11.3452 71.0609 11.5224C70.8713 11.7038 70.6617 11.8623 70.4363 11.9949C70.2066 12.1258 69.963 12.2298 69.7102 12.3049C69.4487 12.3935 69.1776 12.4378 68.8968 12.4378ZM69.0275 11.419C69.3761 11.419 69.7053 11.36 70.0152 11.2419C70.325 11.1237 70.5913 10.9466 70.814 10.7103C71.0367 10.4642 71.2109 10.1591 71.3368 9.79492C71.4724 9.42088 71.5401 8.98778 71.5401 8.49562V8.37751C71.5401 7.38335 71.3223 6.65004 70.8866 6.17757C70.4606 5.7051 69.8748 5.46887 69.1292 5.46887C68.374 5.46887 67.7834 5.72479 67.3573 6.23663C66.9313 6.74847 66.7183 7.47686 66.7183 8.4218V8.53992C66.7183 9.02223 66.7764 9.44549 66.8926 9.80968C67.0184 10.1739 67.183 10.4741 67.3864 10.7103C67.5994 10.9466 67.8463 11.1237 68.1271 11.2419C68.4079 11.36 68.708 11.419 69.0275 11.419ZM82.4716 12.4378C81.852 12.4378 81.3243 12.3 80.8886 12.0244C80.485 11.7813 80.146 11.4417 79.901 11.0351V12.3049H78.6955V0.891819H79.901V5.88228C80.0153 5.68531 80.1572 5.50626 80.3221 5.35075C80.5061 5.17357 80.7094 5.02101 80.9321 4.89305C81.1645 4.75524 81.4114 4.64697 81.6729 4.56822C81.9343 4.48948 82.2005 4.45011 82.4716 4.45011C82.9655 4.45011 83.4254 4.53869 83.8514 4.71587C84.2774 4.89305 84.6405 5.14897 84.9407 5.48363C85.2505 5.8183 85.4926 6.22679 85.6669 6.7091C85.8411 7.19141 85.9283 7.73278 85.9283 8.33321V8.45133C85.9283 9.04192 85.846 9.58329 85.6814 10.0754C85.5295 10.535 85.2929 10.9609 84.9843 11.3304C84.6852 11.6839 84.3133 11.9662 83.895 12.1573C83.4445 12.3492 82.96 12.4447 82.4716 12.4378ZM82.3555 11.419C83.1107 11.419 83.6868 11.173 84.0838 10.6808C84.4808 10.1788 84.6793 9.45533 84.6793 8.51039V8.39227C84.6793 7.90012 84.6163 7.47194 84.4904 7.10775C84.3829 6.77559 84.2099 6.46915 83.9821 6.2071C83.7841 5.96487 83.5294 5.77704 83.2414 5.66081C82.9581 5.53232 82.6511 5.46687 82.3409 5.46887C81.9924 5.46887 81.6632 5.52793 81.3533 5.64604C81.0537 5.7638 80.7852 5.95084 80.569 6.19234C80.3464 6.42857 80.1721 6.73371 80.0462 7.10775C79.9127 7.52209 79.8488 7.95635 79.8574 8.39227V8.51039C79.8574 9.4947 80.0898 10.228 80.5545 10.7103C81.0193 11.1828 81.6196 11.419 82.3555 11.419ZM89.6342 11.5076L86.6569 4.58299H87.9495L90.2733 10.1197L92.3792 4.58299H93.6137L89.4164 14.9921H88.1964L89.6342 11.5076ZM105.97 4.51532C105.618 4.13844 105.195 3.83755 104.727 3.63067C104.257 3.42601 103.751 3.32132 103.241 3.32307C102.698 3.32307 102.214 3.42888 101.804 3.64297C101.501 3.7934 101.229 4.00091 101.003 4.25447V4.01947C101.003 3.93064 100.979 3.84347 100.933 3.76781C100.888 3.69214 100.822 3.631 100.744 3.59129C100.691 3.56626 100.633 3.55364 100.574 3.55438H98.9827C98.9241 3.55245 98.8658 3.56433 98.8125 3.58909C98.7592 3.61385 98.7122 3.65082 98.6753 3.69711C98.5956 3.78474 98.5523 3.90019 98.5542 4.01947V15.0561C98.5542 15.1791 98.5954 15.2874 98.6753 15.3735C98.715 15.4152 98.7629 15.4479 98.8158 15.4698C98.8688 15.4916 98.9256 15.502 98.9827 15.5002H100.606C100.661 15.5001 100.715 15.4889 100.766 15.4671C100.817 15.4453 100.863 15.4135 100.901 15.3735C100.945 15.3333 100.979 15.284 101.002 15.229C101.025 15.174 101.036 15.1146 101.034 15.0548V11.2898C101.25 11.5384 101.539 11.7291 101.884 11.8607C102.307 12.0256 102.755 12.1105 103.207 12.1105C103.727 12.1105 104.233 12.0096 104.71 11.8054C105.185 11.599 105.613 11.2958 105.969 10.9146C106.338 10.5135 106.628 10.0422 106.824 9.52669C107.044 8.94733 107.152 8.33033 107.143 7.70941C107.143 7.045 107.038 6.43349 106.824 5.89212C106.631 5.38011 106.341 4.91182 105.97 4.51409V4.51532ZM104.513 8.50178C104.424 8.73555 104.295 8.94718 104.131 9.12928C103.969 9.31219 103.77 9.45789 103.547 9.55674C103.325 9.65558 103.085 9.70531 102.842 9.70264C102.6 9.70387 102.358 9.65342 102.136 9.55499C101.911 9.4556 101.71 9.31074 101.542 9.12928C101.375 8.94704 101.244 8.73407 101.155 8.50178C101.062 8.25439 101.015 7.99155 101.016 7.72663C101.016 7.45102 101.064 7.19141 101.155 6.95026C101.332 6.48635 101.682 6.1122 102.128 5.90935C102.352 5.80353 102.595 5.7494 102.842 5.75063C103.103 5.75063 103.343 5.80476 103.56 5.91058C103.774 6.0127 103.969 6.15542 104.134 6.33014C104.476 6.71058 104.661 7.21105 104.648 7.72663C104.648 8.00347 104.603 8.26308 104.513 8.50178ZM115.859 3.55684H114.249C114.193 3.55751 114.138 3.56987 114.087 3.59315C114.036 3.61643 113.99 3.65013 113.952 3.69219C113.868 3.78 113.821 3.8973 113.821 4.01947V4.22371C113.62 3.9808 113.372 3.78302 113.092 3.64297C112.654 3.42397 112.17 3.31511 111.681 3.32553C111.166 3.32821 110.657 3.43439 110.183 3.63795C109.708 3.84151 109.278 4.13843 108.917 4.51162C108.537 4.91069 108.236 5.37962 108.029 5.89335C107.801 6.47081 107.687 7.08847 107.696 7.71064C107.696 8.37505 107.807 8.98655 108.029 9.52792C108.251 10.0619 108.545 10.5331 108.91 10.9158C109.265 11.2945 109.693 11.5958 110.167 11.8016C110.641 12.0074 111.15 12.1133 111.665 12.113C112.194 12.113 112.675 12.0047 113.085 11.7943C113.388 11.6343 113.637 11.4412 113.821 11.2148V11.4326C113.82 11.4923 113.831 11.5516 113.854 11.6066C113.877 11.6615 113.911 11.7109 113.954 11.7512C113.993 11.7915 114.038 11.8236 114.089 11.8456C114.14 11.8676 114.194 11.879 114.249 11.8792H115.859C115.916 11.8812 115.972 11.8706 116.024 11.8483C116.077 11.826 116.124 11.7925 116.162 11.75C116.203 11.7085 116.235 11.6589 116.256 11.6043C116.277 11.5497 116.287 11.4912 116.285 11.4326V4.0207C116.287 3.90142 116.244 3.78597 116.164 3.69834C116.127 3.65337 116.08 3.61736 116.027 3.5929C115.975 3.56844 115.917 3.55613 115.859 3.55684ZM113.685 8.4907C113.601 8.72324 113.473 8.9368 113.308 9.11943C113.143 9.29538 112.95 9.43933 112.735 9.54269C112.52 9.64727 112.275 9.70141 112.014 9.70141C111.764 9.70141 111.521 9.64727 111.3 9.54146C111.079 9.4398 110.881 9.29437 110.717 9.11372C110.552 8.93306 110.425 8.72082 110.343 8.48947C110.253 8.24551 110.207 7.98712 110.207 7.72663C110.207 7.44979 110.253 7.19018 110.343 6.94903C110.433 6.71156 110.562 6.50116 110.723 6.32891C110.888 6.15296 111.086 6.00901 111.301 5.90812C111.521 5.80353 111.764 5.7494 112.015 5.7494C112.275 5.7494 112.52 5.80353 112.735 5.90935C112.951 6.01393 113.144 6.15542 113.308 6.32891C113.65 6.70961 113.834 7.21001 113.821 7.7254C113.821 7.98993 113.776 8.24709 113.685 8.4907ZM131.919 7.49901C131.685 7.28955 131.417 7.12228 131.127 7.00439C130.828 6.88012 130.511 6.78169 130.177 6.71525L128.95 6.46425C128.635 6.40273 128.416 6.3203 128.293 6.21448C128.242 6.17732 128.201 6.12853 128.172 6.07209C128.144 6.01565 128.128 5.95315 128.128 5.88966C128.128 5.75432 128.204 5.64358 128.357 5.54269C128.523 5.43688 128.755 5.38274 129.042 5.38274C129.357 5.38274 129.669 5.44795 129.958 5.57591C130.252 5.70633 130.528 5.85398 130.769 6.01885C131.126 6.24893 131.43 6.21817 131.649 5.95364L132.238 5.25232C132.351 5.13393 132.416 4.97752 132.422 4.81307C132.422 4.65558 132.345 4.51162 132.198 4.3812C131.948 4.15481 131.553 3.91612 131.023 3.68234C130.494 3.44611 129.829 3.32553 129.042 3.32553C128.525 3.32553 128.049 3.39689 127.628 3.53716C127.205 3.67988 126.842 3.87674 126.547 4.12036C126.251 4.37136 126.017 4.66173 125.858 4.99763C125.699 5.33341 125.617 5.70154 125.618 6.07422C125.618 6.76324 125.82 7.32552 126.218 7.74509C126.615 8.15481 127.145 8.43411 127.796 8.56945L129.072 8.8549C129.435 8.93118 129.711 9.01731 129.889 9.11328C130.045 9.19572 130.119 9.31383 130.119 9.47871C130.119 9.62635 130.045 9.758 129.892 9.87735C129.731 10.0053 129.478 10.0681 129.139 10.0681C128.79 10.0717 128.445 9.99161 128.133 9.83429C127.836 9.68469 127.56 9.49515 127.312 9.27077C127.202 9.17922 127.076 9.1084 126.941 9.0616C126.788 9.01608 126.616 9.0653 126.419 9.22155L125.714 9.78876C125.509 9.96717 125.423 10.1825 125.461 10.431C125.496 10.6697 125.691 10.9158 126.055 11.1939C126.38 11.4313 126.798 11.6467 127.3 11.8312C127.803 12.017 128.391 12.113 129.059 12.113C129.596 12.113 130.092 12.0416 130.529 11.9013C130.967 11.7549 131.354 11.5593 131.668 11.3108C131.98 11.0724 132.231 10.7631 132.404 10.4077C132.576 10.0523 132.663 9.66076 132.659 9.26462C132.659 8.87212 132.595 8.52638 132.46 8.23601C132.331 7.95492 132.147 7.70366 131.919 7.49778V7.49901ZM138.958 9.51193C138.923 9.445 138.872 9.3882 138.809 9.34687C138.747 9.30555 138.675 9.28105 138.601 9.27569C138.451 9.27322 138.305 9.3222 138.186 9.41473C138.071 9.49101 137.946 9.55007 137.815 9.58821C137.649 9.64412 137.47 9.64967 137.3 9.60421C137.219 9.58443 137.144 9.54519 137.081 9.48978C137.005 9.42056 136.946 9.33472 136.908 9.23878C136.855 9.09669 136.83 8.94521 136.836 8.79338V5.76662H138.931C139.051 5.76662 139.159 5.71741 139.253 5.62267C139.295 5.58108 139.329 5.5314 139.352 5.4765C139.376 5.42159 139.388 5.36254 139.389 5.30276V4.02193C139.389 3.96024 139.377 3.89918 139.353 3.84249C139.329 3.78579 139.294 3.73465 139.25 3.69219C139.165 3.60724 139.05 3.55916 138.931 3.55807H136.835V1.49717C136.838 1.43555 136.827 1.37406 136.805 1.31679C136.782 1.25952 136.748 1.20777 136.704 1.16497C136.627 1.08454 136.521 1.03854 136.41 1.03701H134.784C134.695 1.03555 134.609 1.06135 134.535 1.11101C134.462 1.16066 134.405 1.23182 134.372 1.31507C134.349 1.37287 134.338 1.43484 134.339 1.49717V3.55684H133.411C133.353 3.55549 133.294 3.5675 133.241 3.59199C133.188 3.61647 133.14 3.65281 133.102 3.69834C133.025 3.78687 132.982 3.90193 132.984 4.0207V5.304C132.985 5.39177 133.01 5.47753 133.055 5.55238C133.1 5.62724 133.164 5.68846 133.24 5.72971C133.294 5.75555 133.352 5.76908 133.41 5.76662H134.339V9.36551C134.339 9.84536 134.423 10.2588 134.581 10.5996C134.741 10.9367 134.951 11.2197 135.204 11.4313C135.466 11.6503 135.766 11.8128 136.088 11.9087C136.415 12.0121 136.755 12.0638 137.096 12.0638C137.562 12.0638 138.004 11.9887 138.421 11.8423C138.817 11.7053 139.175 11.4722 139.463 11.1631C139.647 10.9404 139.668 10.6943 139.518 10.4483L138.958 9.51316V9.51193ZM147.78 3.55684H146.171C146.116 3.55785 146.061 3.57036 146.01 3.59363C145.959 3.6169 145.914 3.65043 145.876 3.69219C145.835 3.73558 145.802 3.78651 145.779 3.84229C145.758 3.89876 145.746 3.95885 145.747 4.01947V4.22371C145.544 3.98167 145.295 3.78409 145.014 3.64297C144.609 3.43011 144.136 3.32553 143.601 3.32553C143.092 3.32553 142.591 3.42765 142.117 3.6319C141.638 3.83631 141.204 4.13534 140.84 4.51162C140.46 4.9102 140.158 5.37925 139.952 5.89335C139.722 6.47038 139.608 7.08828 139.618 7.71064C139.618 8.37505 139.729 8.98655 139.95 9.52792C140.173 10.0619 140.468 10.5331 140.833 10.9158C141.188 11.2943 141.614 11.5956 142.087 11.8014C142.56 12.0072 143.069 12.1132 143.584 12.113C144.076 12.1217 144.563 12.0125 145.006 11.7943C145.314 11.6343 145.559 11.4412 145.747 11.2148V11.4326C145.745 11.4921 145.756 11.5513 145.778 11.6062C145.801 11.6612 145.834 11.7106 145.877 11.7512C145.916 11.7913 145.961 11.8232 146.012 11.8452C146.062 11.8671 146.116 11.8787 146.171 11.8792H147.78C147.837 11.8806 147.893 11.8699 147.946 11.8476C147.998 11.8254 148.046 11.7921 148.085 11.75C148.166 11.6649 148.21 11.5508 148.208 11.4326V4.0207C148.21 3.90149 148.167 3.78617 148.087 3.69834C148.049 3.65272 148.002 3.61618 147.948 3.59129C147.895 3.56679 147.838 3.555 147.78 3.55684ZM145.606 8.4907C145.437 8.95456 145.095 9.33232 144.655 9.54269C144.43 9.64997 144.184 9.70423 143.936 9.70141C143.685 9.70141 143.446 9.64727 143.224 9.54146C143.004 9.43906 142.806 9.2934 142.642 9.11285C142.477 8.9323 142.349 8.72044 142.266 8.48947C142.175 8.24565 142.129 7.98721 142.129 7.72663C142.129 7.44979 142.174 7.19018 142.264 6.94903C142.353 6.71894 142.481 6.50855 142.645 6.32891C142.812 6.15296 143.008 6.00901 143.224 5.90812C143.447 5.8023 143.69 5.74817 143.936 5.7494C144.199 5.7494 144.438 5.80353 144.655 5.90935C144.874 6.01393 145.066 6.15542 145.226 6.32891C145.388 6.50486 145.517 6.71402 145.606 6.94903C145.796 7.44486 145.796 7.99486 145.606 8.4907ZM156.622 9.40119L155.699 8.67157C155.522 8.52638 155.355 8.48701 155.21 8.54853C155.079 8.60436 154.964 8.69079 154.872 8.80076C154.673 9.05649 154.434 9.27863 154.167 9.45902C153.934 9.60913 153.629 9.68418 153.269 9.68418C153.004 9.68418 152.76 9.63496 152.542 9.53407C152.327 9.43495 152.134 9.2917 151.975 9.11328C151.812 8.93013 151.686 8.71715 151.602 8.48578C151.515 8.24262 151.471 7.98546 151.474 7.72663C151.474 7.4461 151.515 7.18772 151.602 6.94903C151.687 6.71279 151.811 6.50239 151.975 6.33014C152.138 6.15296 152.332 6.01024 152.546 5.90935C152.772 5.80107 153.019 5.74694 153.269 5.7494C153.629 5.7494 153.931 5.82814 154.167 5.97948C154.406 6.13451 154.646 6.35598 154.873 6.63651C154.968 6.7497 155.079 6.83337 155.21 6.88997C155.358 6.94903 155.523 6.90965 155.695 6.7657L156.618 6.03485C156.732 5.95424 156.817 5.83809 156.861 5.70387C156.886 5.63045 156.896 5.55227 156.889 5.47473C156.882 5.39719 156.858 5.32214 156.82 5.25478C156.464 4.67928 155.973 4.20275 155.391 3.86813C154.781 3.51009 154.05 3.32553 153.232 3.32553C152.668 3.32238 152.109 3.43311 151.588 3.65129C151.066 3.86947 150.593 4.19076 150.194 4.59652C149.805 4.99271 149.497 5.4701 149.29 5.99547C149.07 6.54494 148.957 7.13314 148.96 7.72663C148.96 8.33567 149.072 8.91765 149.29 9.45164C149.5 9.97332 149.807 10.4458 150.194 10.8395C150.593 11.2451 151.067 11.5663 151.588 11.7846C152.11 12.003 152.668 12.1142 153.232 12.1117C154.05 12.1117 154.781 11.9284 155.391 11.5654C155.976 11.232 156.468 10.7537 156.822 10.1751C156.86 10.1101 156.882 10.0374 156.889 9.96225C156.896 9.88643 156.886 9.80992 156.861 9.73832C156.813 9.60626 156.731 9.49007 156.622 9.40242V9.40119ZM165.194 11.1299L162.647 7.26277L164.827 4.29138C164.941 4.12036 164.971 3.95672 164.918 3.80292C164.88 3.69219 164.777 3.55684 164.514 3.55684H162.789C162.69 3.55775 162.593 3.58219 162.506 3.62821C162.398 3.68359 162.309 3.77173 162.253 3.88043L160.511 6.39904H160.089V0.447649C160.091 0.329229 160.048 0.214475 159.969 0.127748C159.929 0.0869473 159.881 0.0547186 159.828 0.0329554C159.776 0.0111921 159.719 0.000333517 159.663 0.00101762H158.051C157.964 0.00131009 157.88 0.0270233 157.807 0.0750545C157.735 0.123086 157.678 0.191382 157.643 0.271703C157.62 0.327334 157.608 0.387308 157.61 0.447649V11.4313C157.61 11.5581 157.656 11.6688 157.743 11.75C157.783 11.7911 157.831 11.8236 157.884 11.8456C157.937 11.8676 157.993 11.8786 158.051 11.878H159.664C159.721 11.8798 159.777 11.8692 159.83 11.8469C159.882 11.8246 159.929 11.7912 159.968 11.7488C160.007 11.7068 160.038 11.657 160.058 11.6024C160.08 11.5477 160.09 11.489 160.087 11.4301V8.52392H160.555L162.456 11.5335C162.592 11.7635 162.779 11.8792 163.013 11.8792H164.817C165.091 11.8792 165.205 11.7439 165.251 11.6307C165.316 11.4707 165.297 11.3083 165.194 11.1311V11.1299ZM125.015 3.55684H123.213C123.146 3.55424 123.079 3.56628 123.017 3.59218C122.954 3.61807 122.898 3.6572 122.852 3.70695C122.774 3.79331 122.72 3.89895 122.695 4.01332L121.365 9.14035H121.041L119.61 4.01332C119.586 3.90347 119.539 3.79998 119.473 3.70941C119.435 3.66072 119.386 3.62162 119.331 3.59516C119.276 3.5687 119.215 3.55559 119.154 3.55684H117.285C117.044 3.55684 116.892 3.63805 116.835 3.79431C116.786 3.94184 116.785 4.10149 116.832 4.24955L119.116 11.4658C119.152 11.5802 119.213 11.675 119.292 11.7512C119.337 11.7944 119.391 11.828 119.449 11.8499C119.507 11.8719 119.57 11.8818 119.632 11.8792H120.598L120.518 12.113L120.288 12.786C120.225 12.9927 120.103 13.1754 119.937 13.3101C119.784 13.4312 119.595 13.4954 119.402 13.4922C119.234 13.4914 119.069 13.4536 118.918 13.3815C118.768 13.312 118.625 13.2257 118.494 13.1243C118.375 13.0381 118.234 12.9889 118.089 12.9829H118.069C117.912 12.9829 117.775 13.0739 117.665 13.2486L117.091 14.1197C116.858 14.4938 116.987 14.7399 117.139 14.8764C117.422 15.152 117.778 15.3673 118.198 15.5211C118.614 15.6749 119.073 15.75 119.56 15.75C120.386 15.75 121.076 15.5199 121.605 15.0548C122.131 14.5922 122.52 13.9635 122.757 13.1797L125.405 4.24955C125.465 4.05884 125.465 3.90012 125.411 3.77093C125.366 3.6725 125.26 3.55684 125.015 3.55684Z"
  fill="#838383"
/>
</svg>
`,Uxe=`
  <button type="button" id="apple-pay-close-button">
    <svg width="10" height="9" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M5.572 4.033L8.89.71a.4.4 0 0 0-.566-.566L5.003 3.459 1.681.145a.4.4 0 0 0-.566.566L4.44 4.033
      1.115 7.354a.398.398 0 0 0 0 .566.4.4 0 0 0 .566 0l3.322-3.33 3.322 3.33a.4.4 0 0 0 .566-.566L5.57 4.033z"
        fill="white"
      />
    </svg>
  </button>
`,Vxe=`
<svg width="74" height="19" viewBox="0 0 74 19" fill="none" xmlns="http://www.w3.org/2000/svg" id="vault-logo">
  <g clip-path="url(#clip0_9910_9664)">
    <path
      d="M32.1273 15.8163H28.9432C28.6448 15.8163 28.4481 15.6622 28.3497 15.3507L25.1886 6.20188C25.1165 6.01825 25.1296 5.85101 25.2214 5.70345C25.3132 5.55589 25.451 5.48047 25.6346 5.48047H27.9693C28.2513 5.48047 28.435 5.63787 28.5202 5.94611L30.6648 12.9077L32.5536 5.94611C32.6388 5.63459 32.829 5.48047 33.1274 5.48047H35.4195C35.6031 5.48047 35.7441 5.55589 35.8425 5.70345C35.9409 5.85101 35.954 6.01825 35.8851 6.20188L32.7241 15.3507C32.6257 15.6622 32.4257 15.8163 32.1305 15.8163H32.1273Z"
      fill="#343C43" />
    <path
      d="M37.6361 14.5842C36.6097 13.5644 36.0981 12.2495 36.0981 10.6362C36.0981 9.02283 36.6097 7.71118 37.6361 6.69792C38.6624 5.68795 39.8757 5.17969 41.2759 5.17969C41.9416 5.17969 42.5384 5.31085 43.0696 5.57318C43.6008 5.83551 43.9943 6.16998 44.2468 6.57988V5.94373C44.2468 5.81584 44.2927 5.70763 44.3845 5.61581C44.4763 5.524 44.578 5.47809 44.6927 5.47809H46.8373C46.9652 5.47809 47.0701 5.524 47.1554 5.61581C47.2406 5.70763 47.2833 5.81584 47.2833 5.94373V15.3679C47.2833 15.4958 47.2406 15.6008 47.1554 15.686C47.0701 15.7713 46.9652 15.8139 46.8373 15.8139H44.6927C44.578 15.8139 44.4763 15.7713 44.3845 15.686C44.2927 15.6008 44.2468 15.4958 44.2468 15.3679V14.7088C43.991 15.1187 43.6008 15.4565 43.0696 15.7155C42.5384 15.9779 41.935 16.109 41.2562 16.109C39.8691 16.109 38.6624 15.6008 37.6361 14.581V14.5842ZM39.9151 8.79985C39.433 9.31795 39.1936 9.93443 39.1936 10.6558C39.1936 11.3772 39.433 11.997 39.9151 12.5118C40.3971 13.0299 40.9972 13.2857 41.7186 13.2857C42.44 13.2857 43.0401 13.0266 43.5221 12.5118C44.0041 11.997 44.2435 11.3772 44.2435 10.6558C44.2435 9.93443 44.0041 9.31467 43.5221 8.79985C43.0401 8.28502 42.44 8.02597 41.7186 8.02597C40.9972 8.02597 40.3938 8.28502 39.9151 8.79985Z"
      fill="#343C43" />
    <path
      d="M51.6315 5.9016V11.2302C51.6315 11.9385 51.8086 12.4959 52.1627 12.9058C52.5169 13.3157 53.0415 13.5223 53.7334 13.5223C54.4253 13.5223 54.9401 13.319 55.3139 12.9058C55.6878 12.4959 55.878 11.9516 55.878 11.2728V5.9016C55.878 5.78683 55.9239 5.68845 56.0157 5.60319C56.1075 5.51794 56.2092 5.47531 56.3239 5.47531H58.4685C58.6095 5.47531 58.7242 5.52122 58.8095 5.61303C58.8948 5.70485 58.9374 5.81306 58.9374 5.94094V15.3652C58.9374 15.4931 58.8948 15.598 58.8095 15.6832C58.7242 15.7685 58.6128 15.8111 58.4685 15.8111H56.3239C56.196 15.8111 56.0911 15.7718 56.0058 15.6931C55.9206 15.6144 55.878 15.5127 55.878 15.3848V14.7257C55.1139 15.6472 54.081 16.1062 52.7792 16.1062C51.4774 16.1062 50.4707 15.7062 49.7132 14.9061C48.9557 14.106 48.5786 13.0501 48.5786 11.7319V5.89504C48.5786 5.78027 48.6278 5.68189 48.7262 5.59664C48.8246 5.51138 48.9295 5.46875 49.0442 5.46875H51.1658C51.2937 5.46875 51.4019 5.51138 51.4938 5.59664C51.5856 5.68189 51.6315 5.78027 51.6315 5.89504V5.9016Z"
      fill="#343C43" />
    <path
      d="M62.9872 15.8148C62.0658 15.8148 61.387 15.582 60.9509 15.113C60.5115 14.6474 60.2917 14.0178 60.2917 13.2243V1.42267C60.2917 1.29478 60.3344 1.18657 60.4196 1.09475C60.5049 1.00294 60.6164 0.957031 60.7607 0.957031H62.8823C63.0233 0.957031 63.138 1.00294 63.2233 1.09475C63.3085 1.18657 63.3512 1.29478 63.3512 1.42267V12.6078C63.3512 12.8045 63.4069 12.9652 63.5217 13.0865C63.6332 13.2079 63.7906 13.2669 63.9873 13.2669H64.6464C64.9448 13.2669 65.0924 13.4144 65.0924 13.7129V15.2409C65.0924 15.6246 64.8956 15.8148 64.4989 15.8148H62.9905H62.9872Z"
      fill="#343C43" />
    <path
      d="M66.722 12.7378V8.04861H65.3644C65.2365 8.04861 65.1316 8.00271 65.0463 7.91089C64.9611 7.81907 64.9185 7.71086 64.9185 7.58298V5.94997C64.9185 5.82208 64.9611 5.71387 65.0463 5.62206C65.1316 5.53024 65.2365 5.48433 65.3644 5.48433H66.722V2.74626C66.722 2.60526 66.7679 2.49049 66.8597 2.40523C66.9515 2.31997 67.0597 2.27734 67.1876 2.27734H69.3518C69.4666 2.27734 69.5683 2.31997 69.6601 2.40523C69.7519 2.49049 69.7978 2.60198 69.7978 2.74626V5.48433H72.7064C72.8343 5.48433 72.9458 5.53024 73.0474 5.62206C73.1458 5.71387 73.195 5.82208 73.195 5.94997V7.58298C73.195 7.69775 73.1458 7.80268 73.0474 7.90105C72.949 7.99943 72.8343 8.04861 72.7064 8.04861H69.7978V12.0164C69.7978 12.4689 69.9027 12.7804 70.1159 12.9509C70.329 13.1214 70.5684 13.2067 70.8373 13.2067C71.1193 13.2067 71.4308 13.1083 71.7718 12.9083C72.1555 12.6689 72.4441 12.6951 72.6408 12.9935L73.3852 14.1806C73.5557 14.4495 73.5327 14.7052 73.3229 14.9446C72.6146 15.6792 71.5948 16.0497 70.2667 16.0497C69.2764 16.0497 68.437 15.7742 67.7516 15.2234C67.0663 14.6725 66.722 13.8428 66.722 12.741V12.7378Z"
      fill="#343C43" />
    <path
      d="M15.2266 0H4.43496C2.26089 0 0.5 1.76089 0.5 3.93496V14.7266C0.5 16.9006 2.26089 18.6615 4.43496 18.6615H15.2266C17.4006 18.6615 19.1615 16.9006 19.1615 14.7266V3.93496C19.1615 1.76089 17.4006 0 15.2266 0ZM15.079 12.2312L12.1442 14.6118C11.9114 14.8086 11.5507 14.6807 11.4949 14.379L10.8161 11.8934C10.7702 11.6934 10.8489 11.4868 11.0096 11.3589C11.4425 11.0113 11.7179 10.4801 11.7179 9.8833C11.7179 8.44048 10.098 7.37476 8.5765 8.40113C8.48468 8.46344 8.40598 8.54214 8.34368 8.63723C7.63539 9.68983 7.92723 10.7883 8.65192 11.3655C8.8126 11.4934 8.88474 11.6967 8.84211 11.8967L8.22891 14.3823C8.17317 14.6839 7.81246 14.8118 7.57964 14.6151L4.57924 12.2344C4.47431 12.1262 4.41856 11.9787 4.4284 11.8278L4.77271 6.69271C4.78582 6.49268 4.91371 6.31561 5.09734 6.23691L9.41924 4.03661C9.68157 3.9284 9.97341 3.9284 10.2357 4.03661L14.5576 6.23691C14.7445 6.31561 14.8691 6.49268 14.8855 6.69271L15.2299 11.8278C15.2397 11.9787 15.1839 12.1262 15.079 12.2344V12.2312Z"
      fill="#343C43" />
  </g>
  <defs>
    <clipPath id="clip0_9910_9664">
      <rect width="73" height="18.6615" fill="white" transform="translate(0.5)" />
    </clipPath>
  </defs>
</svg>
`,w8={height:"50px",width:"auto",borderRadius:"3px",padding:"10px",locale:"en",type:"pay"},Tj=function(n){return n&&p1(n)==="object"?Object.keys(w8).reduce(function(e,t){return Kr(Kr({},e),{},hY({},t,n[t]||w8[t]))},{}):w8},zxe=`
  .pre-checkout-modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100vw;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.75);
    transition: all 0.2s ease;
  }

  .pre-checkout-modal.show {
    display: block;
  }

  .pre-checkout-modal__content {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    margin-left: auto;
    margin-right: auto;
    background-color: #fefefe;
    padding: 20px;
    padding-bottom: max(30px, env(safe-area-inset-bottom));
    width: 100%;
    border-radius: 6px 6px 0 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    max-width: 350px;

    box-sizing: border-box;
    transform: translateY(238px);
    transition: transform 0.3s cubic-bezier(.16,.81,.32,1);
  }

  .modal-wrapper {
    width: 100%;
  }

  .payment-info {
    position: relative;
    padding-bottom: 15px;
    border-bottom: solid 1px whitesmoke;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    width: 100%;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
  }

  .customer-email {
    color: #737373;
    font-size: 13px;
    line-height: 16px;
  }

  .customer-info {
    flex: 1;
    text-align: right;
  }

  .merchant-logo {
    display: flex;
    align-items: center;
    height: 30px;
  }
  .transaction-amount {
    margin-top: 5px;
    font-size: 13px;
    line-height: 16px;
    color: #737373;
  }

  .amount {
    color: #29b263;
    font-weight: bold;
  }

  @media only screen and (min-width: 500px) {
    .pre-checkout-modal__content {
      bottom: 0;
      top: 0;
      margin: auto;
      border-radius: 6px;
      height: fit-content;
    }
  }

  .pre-checkout-modal__content.show {
    transform: translateY(0);
    margin: 0 auto;
    margin-top: 100px;
  }

  .pre-checkout-modal__content > * {
    margin-top: 0;
    margin-bottom: 40px;
  }
  .pre-checkout-modal__content > *:last-child {
    margin-bottom: 0;
  }

  .pre-checkout-modal__content svg {
    margin: auto;
    width: 100%;
  }

  #inline-button-wordmark--white {
    position: absolute;
    bottom: -50px;
    margin: auto;
    left: 0;
    right: 0;
    width: fit-content;
  }

  #inline-button-wordmark--grey {
    display: none;
  }

  .pre-checkout-modal__content #apple-pay-mark--light {
    margin-bottom: 16px;
  }

  .pre-checkout-modal p {
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
    color: #4E4E4E;
    line-height: 140%;
    font-size: 14px;
    font-weight: 500;
    margin: 0;
    padding: 0 20px;
    text-align: center;
    letter-spacing: -0.3px;
  }

  .pre-checkout-modal button {
    height: 42px;
    width: 100%;
    
    box-sizing: border-box;
    border-radius: 3px;
    font-size: 14px;
    line-height: 24px;
    cursor: pointer;
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
  }

  .pre-checkout-modal .open-paystack-pop-button {
    background: #FAFAFA;
    border: 1px solid #F2F3F3;
    color: #4E4E4E;
    font-weight: 500;
  }

  .pre-checkout-modal .open-paystack-pop-button:hover, 
  .pre-checkout-modal .open-paystack-pop-button:active, 
  .pre-checkout-modal .open-paystack-pop-button:focus {
    background: #F2F3F3;
  }

  .pre-checkout-modal .pay-with-vault-button {
    font-weight: 700;
    background: #44b669;
    background: linear-gradient(to bottom, #44b669 0%, #40ad57 100%);
    border: solid 1px #49a861;
    text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);
    outline: none;
    color: white;
    transition: all 300ms;
  }

  .pre-checkout-modal .vault-instruction {
    color: #2f3d4d;
    font-size: 14px;
    letter-spacing: normal;
    line-height: 1.4;
    margin: 0 auto 24px;
    padding: 0;
  }
  .vault-logo-container {
    width: 74px;
    height: 20px;
    margin: 0 auto 24px
  }
  .vault-logo-container img {
    height: 100%;
    width: 100%;
    border-radius: 8px;
  }
  .vault-divider {
    margin-bottom: 16px;
    margin-top: 24px;
    position: relative;
  }
  .vault-divider__container {
    align-items: center;
    bottom: 0;
    display: flex;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
  }
  .vault-divider__line {
    border: 1px dashed #ccced0;
    width: 100%;
  }
  .vault-divider__text-container {
    display: flex;
    justify-content: center;
    position: relative;
  }
  .vault-divider__text {
    background-color: #fff;
    color: #999da1;
    font-size: 14px;
    font-weight: 500;
    letter-spacing: -.3px;
    line-height: 19.6px;
    margin-bottom: 2px;
    padding: 0 8px;
  }

  #payment-request-button {
    width: 100%;
    height: fit-content;
    margin: 24px 0 16px 0;
  }

  #paystackpop-button {
    padding: 0 16px;
  }

  #apple-pay-close-button {
    position: absolute;
    text-align: center;
    top: 0;
    right: -26px;
    height: 16px;
    width: 16px;
    padding: 0;
    display: inline-block;
    z-index: 3;
    border-radius: 50%;
    background: transparent;
    transition: all 300ms;
    outline: none;
    cursor: pointer;
    border: none;
  }

  #apple-pay-close-button svg {
    width: initial;
  }
  
  #apple-pay-close-button:hover {
    background-color: #e22b28;
  }

  @media only screen and (max-width: 500px) {
    .pre-checkout-modal__content {
      max-width: 500px;
      border-radius: 0;
      padding-bottom: 0;
    }

    .modal-wrapper {
      padding: 0;
    }

    .vault-logo-container {
      width: 74px;
      height: 20px;
    }

    #inline-button-wordmark--white {
      display: none
    }
    
    #inline-button-wordmark--grey {
      display: block;
      width: 100%;
      margin: 16px 0;
      height: 13px;
    }

    #apple-pay-close-button {
      display: none;
    }
  }
`,Nj=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Number(parseFloat(n/100).toFixed(2))},kj={headers:{accept:"application/json, text/plain, */*","accept-language":"en-GB,en-US;q=0.9,en;q=0.8","content-type":"application/x-www-form-urlencoded","sec-ch-ua-mobile":"?0","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site"},referrerPolicy:"no-referrer-when-downgrade",method:"POST",mode:"cors",credentials:"omit"};function Ij(n){return Object.keys(n).reduce(function(e,t){var r=encodeURIComponent(t),i=encodeURIComponent(n[t]),s="".concat(r,"=").concat(i);return[].concat(Oxe(e),[s])},[]).join("&")}var $xe=function(n){return{biannually:"BIANNUAL PLAN",annually:"ANNUAL PLAN"}[n]||"".concat(n.toUpperCase()," PLAN")},gY=function(){try{return window.location&&window.location.protocol==="https:"&&window.ApplePaySession&&window.ApplePaySession.supportsVersion(Eo.applePayVersion)}catch{return!1}},gT=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return gY()&&n.includes("apple_pay")};function qxe(){var n=0;return Array.from(document.querySelectorAll("body *")).forEach(function(e){var t=window.getComputedStyle(e),r=parseFloat(t.zIndex);!Number.isNaN(r)&&r>n&&(n=r)}),n}function b8(n){var e=document.createElement("iframe");return e.setAttribute("frameBorder","0"),e.setAttribute("allowtransparency","true"),e.id=n,e.style.display="none",e}function c3(n){return n.querySelector("apple-pay-button")||n.querySelector("#apple-pay-button")}function Yx(n){return document.querySelector("#".concat(n))}function Pj(n,e,t){var r=e.channels,i=r===void 0?[]:r,s=e.styles,o=s===void 0?{}:s,a={applePay:!1};return new Promise(function(l,c){if(n)if(gT(i)){if(c3(n))return a.applePay=!0,void l(a);(function(u,h){return new Promise(function(p,f){var b=document.createElement("script");b.src=u,b.addEventListener("load",function(){p(!0)}),b.addEventListener("error",function(){b.remove(),f(!1)}),h?h.appendChild(b):document.head.appendChild(b)})})("https://applepay.cdn-apple.com/jsapi/v1.1.0/apple-pay-sdk.js",n).then(function(){if(t&&t!==1077497&&window&&!Array.isArray(window.webpackJsonp))throw new Error("Incorrect data type for 'webpackJsonp', expected array, got ".concat(p1(window.webpackJsonp),". Switching to fallback apple pay button"));(function(u,h){var p=h.styles,f=h.theme,b=document.createElement("style"),w=function(x){var E=x.height,S=x.width,T=x.borderRadius,B=x.padding;return`
  apple-pay-button {
    --apple-pay-button-width: `.concat(S,`;
    --apple-pay-button-height: `).concat(E,`;
    --apple-pay-button-border-radius: `).concat(T,`;
    --apple-pay-button-padding: `).concat(B,`;
    --apple-pay-button-box-sizing: border-box;
    width: `).concat(S,`;
  }
`)}(p);b.type="text/css",b.styleSheet?b.styleSheet.cssText=w:b.appendChild(document.createTextNode(w)),u.appendChild(b);var A=document.createElement("apple-pay-button");A.setAttribute("buttonstyle",f==="light"?"white":"black"),A.setAttribute("type",p.type),A.setAttribute("locale",p.locale),u.appendChild(A)})(n,{styles:Tj(o.applePay),theme:o.theme}),a.applePay=!0,l(a)}).catch(function(){(function(u,h){var p=h.styles,f=h.theme,b=document.createElement("style"),w=function(E){var S=E.height,T=E.width,B=E.borderRadius,V=E.padding,M=E.type,N=E.locale;return`
  @supports (-webkit-appearance: -apple-pay-button) { 
    .apple-pay-button {
        display: inline-block;
        -webkit-appearance: -apple-pay-button;
        width: `.concat(T,`;
        height: `).concat(S,`;
        border-radius: `).concat(B,`;
        padding: `).concat(V,`;
        -apple-pay-button-type: `).concat(M,`;
        -webkit-locale: `).concat(N,`;
    }
    .apple-pay-button-black {
        -apple-pay-button-style: black;
    }
    .apple-pay-button-white {
        -apple-pay-button-style: white;
    }
    .apple-pay-button-white-with-line {
        -apple-pay-button-style: white-outline;
    }
  }

  @supports not (-webkit-appearance: -apple-pay-button) {
    .apple-pay-button {
        display: inline-block;
        background-size: 100% 60%;
        background-repeat: no-repeat;
        background-position: 50% 50%;
        border-radius: 5px;
        padding: 0px;
        box-sizing: border-box;
        min-width: 200px;
        min-height: 32px;
        max-height: 64px;
    }
    .apple-pay-button-black {
        background-image: -webkit-named-image(apple-pay-logo-white);
        background-color: black;
    }
    .apple-pay-button-white {
        background-image: -webkit-named-image(apple-pay-logo-black);
        background-color: white;
    }
    .apple-pay-button-white-with-line {
        background-image: -webkit-named-image(apple-pay-logo-black);
        background-color: white;
        border: .5px solid black;
    }
  }
`)}(p);b.type="text/css",b.styleSheet?b.styleSheet.cssText=w:b.appendChild(document.createTextNode(w)),u.appendChild(b);var A=document.createElement("button");A.classList.add("apple-pay-button",f==="light"?"apple-pay-button-white":"apple-pay-button-black"),A.id="apple-pay-button";var x=document.createElement("span");x.classList.add("logo"),A.appendChild(x),u.appendChild(A)})(n,{styles:Tj(o.applePay),theme:o.theme}),a.applePay=!0,l(a)})}else c("No wallet payment method is available on this device");else c("Container to mount elements was not provided")})}function Hxe(n){for(;n.firstChild;)n.removeChild(n.firstChild)}var vY="payment-request-button",yY="paystackpop-button",wY="pay-with-vault-button";function bY(n){var e=document.createElement("button");return e.id=yY,e.className="open-paystack-pop-button",e.innerText=n,e}function Rj(n){return n.querySelector("#".concat(yY))}function xY(){var n=document.createElement("div");return n.id=vY,n}function x8(n){return n.querySelector("#".concat(vY))}function Wxe(){var n=document.createElement("button");return n.className="pay-with-vault-button",n.id=wY,n.innerText="Pay with Vault",n}function Gxe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=document.createElement("div");t.className="vault-logo-container",t.innerHTML=Vxe,n.appendChild(t);var r=document.createElement("p");r.id="instruction",r.className="vault-instruction",r.innerHTML="Access your saved cards and bank details for faster, more secure payments",n.appendChild(r);var i=Wxe();n.appendChild(i);var s=document.createElement("div");if(s.className="vault-divider",s.innerHTML='<div id="vault-divider" class="vault-divider__container"><div class="vault-divider__line"></div></div><div class="vault-divider__text-container"><span class="vault-divider__text">or</span></div>',n.appendChild(s),e.canPayWithApplePay){var o=xY();n.appendChild(o)}var a=bY("Use other payment methods");n.appendChild(a)}function Kxe(n){var e=document.createElement("div");e.innerHTML=`
  <svg width="51" height="32" viewBox="0 0 51 32" fill="none" xmlns="http://www.w3.org/2000/svg" id="apple-pay-mark--light">
    <g>
    <path d="M46.0162 0H4.98386C4.81297 0 4.64177 0 4.47118 0.000996555C4.32698 0.00202331 4.18311 0.00362383 4.03925 0.00754966C3.72548 0.0160355 3.40903 0.0345472 3.09919 0.0902335C2.7844 0.146886 2.49148 0.239294 2.20571 0.384791C1.92477 0.52766 1.66757 0.71453 1.44468 0.937516C1.22169 1.1605 1.03482 1.41728 0.891977 1.69852C0.74645 1.98429 0.653982 2.27731 0.597722 2.59234C0.541737 2.90227 0.523101 3.21866 0.514645 3.53209C0.51078 3.67596 0.509122 3.81982 0.508183 3.96366C0.507186 4.13461 0.507519 4.30545 0.507519 4.4767V27.5236C0.507519 27.6949 0.507186 27.8654 0.508183 28.0367C0.509122 28.1805 0.51078 28.3244 0.514645 28.4683C0.523101 28.7814 0.541737 29.0978 0.597722 29.4077C0.653982 29.7228 0.74645 30.0157 0.891977 30.3015C1.03482 30.5827 1.22169 30.8399 1.44468 31.0625C1.66757 31.2859 1.92477 31.4727 2.20571 31.6152C2.49148 31.7611 2.7844 31.8535 3.09919 31.9102C3.40903 31.9655 3.72548 31.9843 4.03925 31.9928C4.18311 31.9961 4.32698 31.998 4.47118 31.9987C4.64177 32 4.81297 32 4.98386 32H46.0162C46.1868 32 46.358 32 46.5286 31.9987C46.6724 31.998 46.8163 31.9961 46.9608 31.9928C47.2739 31.9843 47.5903 31.9655 47.9009 31.9102C48.2153 31.8535 48.5083 31.7611 48.7941 31.6152C49.0753 31.4727 49.3317 31.2859 49.5551 31.0625C49.7777 30.8399 49.9646 30.5827 50.1078 30.3015C50.2537 30.0157 50.346 29.7228 50.402 29.4077C50.458 29.0978 50.4762 28.7814 50.4847 28.4683C50.4886 28.3244 50.4906 28.1805 50.4912 28.0367C50.4925 27.8654 50.4926 27.6949 50.4926 27.5236V4.4767C50.4926 4.30545 50.4925 4.13461 50.4912 3.96366C50.4906 3.81982 50.4886 3.67596 50.4847 3.53209C50.4762 3.21866 50.458 2.90227 50.402 2.59234C50.346 2.27731 50.2537 1.98429 50.1078 1.69852C49.9646 1.41728 49.7777 1.1605 49.5551 0.937516C49.3317 0.71453 49.0753 0.52766 48.7941 0.384791C48.5083 0.239294 48.2153 0.146886 47.9009 0.0902335C47.5903 0.0345472 47.2739 0.0160355 46.9608 0.00754966C46.8163 0.00362383 46.6724 0.00202331 46.5286 0.000996555C46.358 0 46.1868 0 46.0162 0Z" fill="black"/>
    <path d="M46.0162 1.06662L46.521 1.06759C46.6577 1.06855 46.7945 1.07003 46.932 1.07378C47.1711 1.08024 47.4509 1.09319 47.7117 1.13994C47.9384 1.18077 48.1285 1.24286 48.311 1.33575C48.4911 1.42728 48.6562 1.54723 48.8003 1.69113C48.9449 1.83599 49.065 2.0013 49.1578 2.18343C49.2501 2.36447 49.3118 2.55369 49.3524 2.78205C49.3991 3.04001 49.412 3.32055 49.4185 3.56121C49.4222 3.69704 49.424 3.83287 49.4247 3.97194C49.426 4.14012 49.4259 4.3082 49.4259 4.47671V27.5236C49.4259 27.6921 49.426 27.8599 49.4246 28.0317C49.424 28.1675 49.4222 28.3033 49.4185 28.4394C49.4119 28.6797 49.3991 28.9601 49.3519 29.2211C49.3118 29.4463 49.2502 29.6356 49.1573 29.8175C49.0648 29.9992 48.9449 30.1643 48.8009 30.3083C48.656 30.4532 48.4915 30.5728 48.3092 30.6652C48.1281 30.7576 47.9383 30.8197 47.7138 30.8601C47.4477 30.9075 47.1562 30.9205 46.9367 30.9265C46.7986 30.9296 46.6611 30.9315 46.5203 30.9321C46.3525 30.9334 46.1841 30.9334 46.0162 30.9334H4.98386C4.98162 30.9334 4.97945 30.9334 4.97718 30.9334C4.81127 30.9334 4.64503 30.9334 4.4761 30.9321C4.33836 30.9315 4.20093 30.9296 4.06805 30.9266C3.8435 30.9205 3.55181 30.9075 3.2879 30.8604C3.06151 30.8197 2.87171 30.7576 2.68822 30.664C2.50766 30.5724 2.34329 30.453 2.19831 30.3077C2.05444 30.1641 1.93488 29.9995 1.84245 29.8176C1.74992 29.6358 1.68801 29.446 1.64731 29.218C1.60025 28.9576 1.58733 28.6783 1.58087 28.4396C1.57718 28.303 1.57564 28.1664 1.57476 28.0305L1.5741 27.6295L1.57413 27.5236V4.47671L1.5741 4.37083L1.57473 3.97067C1.57564 3.83402 1.57718 3.6974 1.58087 3.56088C1.58733 3.32197 1.60025 3.04258 1.64769 2.77991C1.68804 2.55405 1.74992 2.36422 1.84293 2.18155C1.93464 2.001 2.05441 1.83617 2.19903 1.69158C2.34308 1.54747 2.50799 1.42767 2.6897 1.33527C2.87122 1.24283 3.06138 1.18077 3.28778 1.14003C3.54864 1.09316 3.82861 1.08024 4.06839 1.07375C4.20507 1.07003 4.34174 1.06855 4.4774 1.06762L4.98386 1.06662H46.0162Z" fill="white"/>
    <path d="M14.1531 10.7629C14.5811 10.2276 14.8715 9.50886 14.7949 8.77435C14.1684 8.80551 13.4038 9.18768 12.9612 9.72342C12.5638 10.1822 12.212 10.9311 12.3037 11.6348C13.007 11.6958 13.7097 11.2832 14.1531 10.7629Z" fill="black"/>
    <path d="M14.7869 11.7722C13.7655 11.7114 12.8972 12.3519 12.4094 12.3519C11.9214 12.3519 11.1745 11.8029 10.3667 11.8177C9.31521 11.8331 8.33959 12.4276 7.80602 13.3731C6.70857 15.2646 7.51641 18.0704 8.58362 19.611C9.10188 20.3731 9.72648 21.2123 10.5495 21.1822C11.3271 21.1517 11.6319 20.6787 12.5771 20.6787C13.5216 20.6787 13.7961 21.1822 14.6192 21.1669C15.4729 21.1516 16.0065 20.4044 16.5248 19.6415C17.1193 18.7727 17.3627 17.9338 17.378 17.8877C17.3627 17.8725 15.732 17.2469 15.7169 15.3711C15.7015 13.8004 16.9972 13.0534 17.0581 13.007C16.3265 11.9249 15.1832 11.8029 14.7869 11.7722Z" fill="black"/>
    <path d="M23.68 9.64661C25.8999 9.64661 27.4457 11.1768 27.4457 13.4046C27.4457 15.6404 25.8681 17.1786 23.6244 17.1786H21.1665V21.0872H19.3907V9.64661H23.68V9.64661ZM21.1665 15.688H23.2041C24.7502 15.688 25.6302 14.8556 25.6302 13.4126C25.6302 11.9697 24.7502 11.1451 23.2121 11.1451H21.1665V15.688Z" fill="black"/>
    <path d="M27.9097 18.7167C27.9097 17.2578 29.0276 16.3619 31.0098 16.2509L33.293 16.1162V15.474C33.293 14.5464 32.6666 13.9914 31.6203 13.9914C30.629 13.9914 30.0106 14.467 29.8601 15.2124H28.2428C28.3379 13.7059 29.6222 12.5959 31.6836 12.5959C33.7053 12.5959 34.9976 13.6663 34.9976 15.3392V21.0872H33.3563V19.7156H33.3169C32.8333 20.6433 31.7787 21.2299 30.6847 21.2299C29.0514 21.2299 27.9097 20.2151 27.9097 18.7167ZM33.293 17.9635V17.3055L31.2395 17.4323C30.2167 17.5037 29.6381 17.9556 29.6381 18.6691C29.6381 19.3985 30.2406 19.8742 31.1603 19.8742C32.3574 19.8742 33.293 19.0496 33.293 17.9635Z" fill="black"/>
    <path d="M36.547 24.1556V22.768C36.6736 22.7997 36.959 22.7997 37.1018 22.7997C37.8946 22.7997 38.3228 22.4668 38.5843 21.6105C38.5843 21.5946 38.7351 21.1031 38.7351 21.0952L35.7224 12.7466H37.5774L39.6866 19.5333H39.7181L41.8273 12.7466H43.6349L40.5109 21.5232C39.7976 23.5451 38.973 24.1952 37.2447 24.1952C37.1018 24.1952 36.6736 24.1793 36.547 24.1556Z" fill="black"/>
    </g>
    <defs>
    <clipPath id="clip0">
    <rect width="49.9851" height="32" fill="white" transform="translate(0.507462)"/>
    </clipPath>
    </defs>
  </svg>
`,n.appendChild(e);var t=document.createElement("p");t.id="apple-pay-description",t.innerHTML="Pay with Apple Pay to complete your purchase without filling a form",n.appendChild(t);var r=xY();n.appendChild(r);var i=bY("More payment options");n.appendChild(i)}var Xx=[{value:"key",required:!0,types:["string"]},{value:"amount",required:!0,or:["plan","planCode"],types:["string","number"]},{value:"currency",required:!1,types:["string"]},{value:"email",required:!0,or:["customerCode"],types:["string"]},{value:"label",required:!1,types:["string"]},{value:"firstName",required:!1,types:["string"]},{value:"lastName",required:!1,types:["string"]},{value:"reference",required:!1,types:["string"]},{value:"phone",required:!1,types:["string"]},{value:"customerCode",required:!1,override:"email",types:["string"]},{value:"channels",required:!1,types:["array"]},{value:"paymentRequest",required:!1,types:["string","number"]},{value:"paymentPage",required:!1,types:["string"]},{value:"hash",required:!1,types:["string"]},{value:"container",required:!1,types:["string"]},{value:"metadata",required:!1,types:["object"]},{value:"subaccountCode",required:!1,types:["string"]},{value:"bearer",required:!1,types:["string"]},{value:"transactionCharge",required:!1,types:["string","number"]},{value:"planCode",required:!1,override:"amount",types:["string"]},{value:"subscriptionCount",required:!1,types:["number"]},{value:"planInterval",required:!1,types:["string"]},{value:"subscriptionLimit",required:!1,types:["number"]},{value:"subscriptionStartDate",required:!1,types:["string"]},{value:"accessCode",required:!1,types:["string"]},{value:"onError",required:!1,types:["function"]},{value:"onLoad",required:!1,types:["function"]},{value:"onSuccess",required:!1,types:["function"]},{value:"onCancel",required:!1,types:["function"]},{value:"callback",required:!1,types:["function"]},{value:"onClose",required:!1,types:["function"]},{value:"onBankTransferConfirmationPending",required:!1,types:["function"]},{value:"firstname",required:!1,types:["string"]},{value:"lastname",required:!1,types:["string"]},{value:"customer_code",required:!1,types:["string"]},{value:"payment_request",required:!1,types:["string","number"]},{value:"subaccount",required:!1,types:["string"]},{value:"transaction_charge",required:!1,types:["number","string"]},{value:"plan",required:!1,types:["string"]},{value:"quantity",required:!1,types:["number"]},{value:"interval",required:!1,types:["string"]},{value:"invoice_limit",required:!1,types:["number","string"]},{value:"start_date",required:!1,types:["string"]},{value:"payment_page",required:!1,types:["number","string"]},{value:"order_id",required:!1,types:["number"]},{value:"ref",required:!1,types:["string"]},{value:"card",required:!1,types:["string"]},{value:"bank",required:!1,types:["string"]},{value:"split",required:!1,types:["object"]},{value:"split_code",required:!1,types:["string"]},{value:"transaction_type",required:!1,types:["string"]},{value:"subscription",required:!1,types:["number"]},{value:"language",required:!1,types:["string"]},{value:"connect_account",required:!1,types:["string"]},{value:"connect_split",required:!1,types:["array"]}];function Yxe(n){var e,t=Kr({},n);return t.metadata=n.metadata||{},t.metadata.referrer=(e=window.location.href)&&e.length>500?e.split("?")[0]:e,t.metadata=JSON.stringify(t.metadata),t.mode="popup",n.split&&typeof n.split!="string"&&(t.split=JSON.stringify(t.split)),t.card!==void 0&&["false",!1].indexOf(t.card)>-1&&(t.channels=["bank"],delete t.card),t.bank!==void 0&&["false",!1].indexOf(t.bank)>-1&&(t.channels=["card"],delete t.bank),[{to:"firstname",from:"firstName"},{to:"lastname",from:"lastName"},{to:"customer_code",from:"customerCode"},{to:"payment_request",from:"paymentRequest"},{to:"subaccount",from:"subaccountCode"},{to:"transaction_charge",from:"transactionCharge"},{to:"plan",from:"planCode"},{to:"quantity",from:"subscriptionCount"},{to:"interval",from:"planInterval"},{to:"invoice_limit",from:"subscriptionLimit"},{to:"start_date",from:"subscriptionStartDate"},{to:"ref",from:"reference"}].forEach(function(r){t[r.from]&&(t[r.to]=t[r.from],delete t[r.from])}),Object.values(n).forEach(function(r,i){if(typeof r=="function"){var s=Object.keys(n)[i];delete t[s]}}),t}var Xxe=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"],_Y=window&&window.navigator&&(window.navigator.platform||window.navigator.userAgentData&&window.navigator.userAgentData.platform),AY=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.platform,t=n.userAgent,r=t===void 0?window&&window.navigator&&window.navigator.userAgent:t,i=e||_Y;return Xxe.includes(i)||r.includes("Mac")&&"ontouchend"in document},Qxe=function(n,e,t){var r="".concat(Eo.paystackApiUrl,"transaction/update_log/").concat(n),i={Authorization:"Bearer ".concat(e)};return fetch(r,{method:"POST",body:JSON.stringify({payload:JSON.stringify(t)}),headers:i})},Jxe=function(n,e){var t="".concat(Eo.paystackApiUrl,"transaction/set_ip/").concat(n),r={Authorization:"Bearer ".concat(e)};return fetch(t,{method:"POST",headers:r})},Zxe={initializeLog:function(n){var e=n||{},t=e.attempts,r=e.authentication,i=e.errors,s=e.history;this.log={start_time:Math.round(Date.now()/1e3),time_spent:0,attempts:t||0,authentication:r,errors:i||0,success:!1,mobile:AY(),input:[],history:s||[]}},getTimeSpent:function(){var n=Math.round(Date.now()/1e3);return this.log.time_spent=n-this.log.start_time,this.log.time_spent},logAPIResponse:function(n,e){switch(n.status){case"success":return this.logApiSuccess(e);case"failed":return this.logApiError(n.message);default:return!1}},logValidationResponse:function(n){return this.log.history.push({type:"action",message:n,time:this.getTimeSpent()}),this.saveLog()},logAttempt:function(n){var e="Attempted to pay";return n&&(e+=" with ".concat(n)),this.log.attempts+=1,this.log.history.push({type:"action",message:e,time:this.getTimeSpent()}),this.saveLog()},logApiError:function(n){var e="Error";return n&&(e+=": ".concat(n)),this.log.errors+=1,this.log.history.push({type:"error",message:e,time:this.getTimeSpent()}),this.saveLog()},logApiSuccess:function(n){var e="Successfully paid";return n&&(e+=" with ".concat(n)),this.log.success=!0,this.log.history.push({type:"success",message:e,time:this.getTimeSpent()}),this.saveLog()},saveLog:function(){try{if(this.response)return Qxe(this.id,this.response.merchant_key,this.log)}catch{}},saveIpAddress:function(){try{if(this.response)return Jxe(this.id,this.response.merchant_key)}catch{}}},e4e=["language","connect_account"],t4e={requestInline:function(){var n=this,e=this.urlParameters,t=e.language,r=e.connect_account,i=pT(e,e4e),s=Kr({"Content-Type":"application/json"},t&&{"Accept-Language":t});return(this.accessCode?fetch(new URL("transaction/verify_access_code/".concat(this.accessCode),Eo.paystackApiUrl).toString(),{headers:s}):fetch(new URL("/checkout/request_inline",Eo.paystackApiUrl).toString(),{method:"POST",body:JSON.stringify(i),headers:Kr(Kr({},s),r&&{"x-connect-account":r})})).then(function(o){return o.json()}).then(function(o){if(o.status===!1)throw new Error(o.message);return n.response=o.data,n.id=o.data.id,n.status=o.data.transaction_status,n.accessCode=o.data.access_code,n.log=null,Object.assign(n,Zxe),n.initializeLog(o.data.log),n.saveIpAddress(),o.data})}},_8=function(){function n(e){uY(this,n),function(c){function u(b,w){this.message=b,this.issues=w||[]}if(!c||p1(c)!=="object")throw new u("Transaction parameters should be a non-empty object");var h=c;if("accessCode"in h)return{accessCode:h.accessCode};Object.keys(h).forEach(function(b){Xx.find(function(w){return w.value===b})!==void 0||delete h[b]});var p=Object.keys(h),f=[];if(Xx.filter(function(b){return b.required}).forEach(function(b){var w=!h[b.value],A=b.or?b.or.some(function(x){return h[x]}):null;w&&!A&&f.push({message:"Required parameter missing: ".concat(b.value)})}),p.forEach(function(b){var w=h[b],A=Xx.find(function(E){return E.value===b}),x=p1(w);x==="object"&&Array.isArray(w)&&(x="array"),A.types.indexOf(x)<=-1&&f.push({message:"Invalid parameter type: ".concat(b),validTypes:A.types})}),p.forEach(function(b){var w=Xx.find(function(A){return A.value===b});w.override&&delete h[w.override]}),f.length)throw new u("Invalid transaction parameters",f)}(e),this.parameters=e,this.urlParameters=Yxe(e),this.id=null,this.status=null,this.accessCode=e.accessCode||null,this.authorizationUrl=null,this.errors=[],this.response=null,this.isActive=!0;var t=e.onError,r=e.onLoad,i=e.onSuccess,s=e.onCancel,o=e.callback,a=e.onClose,l=e.onBankTransferConfirmationPending;this.callbacks={onError:t,onLoad:r,onSuccess:i,onCancel:s,onBankTransferConfirmationPending:l},this.deprecatedCallbacks={callback:o,onClose:a},Object.assign(this,t4e)}return dY(n,[{key:"onSetupError",value:function(e){this.logError(e),this.callbacks.onError&&this.callbacks.onError(e)}},{key:"onLoad",value:function(e){var t=e.id,r=e.customer,i=e.accessCode;Object.assign(this,{id:t,customer:r,accessCode:i}),this.authorizationUrl="".concat(Eo.checkoutUrl).concat(i),this.callbacks.onLoad&&this.callbacks.onLoad({id:t,customer:r,accessCode:i})}},{key:"onSuccess",value:function(e){this.isActive=!1,this.response=e,this.status=e.status,this.callbacks.onSuccess&&this.callbacks.onSuccess(e),this.deprecatedCallbacks.callback&&this.deprecatedCallbacks.callback(e)}},{key:"setStatus",value:function(e){this.status=e}},{key:"onCancel",value:function(){this.callbacks.onCancel&&this.callbacks.onCancel(),this.deprecatedCallbacks.onClose&&this.deprecatedCallbacks.onClose()}},{key:"cancel",value:function(){this.isActive=!1,this.onCancel()}},{key:"onBankTransferConfirmationPending",value:function(){this.cancel(),this.callbacks.onBankTransferConfirmationPending&&this.callbacks.onBankTransferConfirmationPending()}},{key:"logError",value:function(e){this.errors.push(e)}}]),n}(),D9=console?console.warn||console.log:function(){};function Lj(n,e,t){D9('"'.concat(n,'" has been deprecated, please use "').concat(e,'". ').concat(t))}var Jt,n4e=["preload","inlineTransaction"],r4e=["container","styles","onElementsMount"];function A8(n,e){if(!n.length)return null;var t=n.filter(function(r){var i,s,o,a,l=!r.status||r.status==="abandoned",c=(i=r.parameters,s=e,o=Object.keys(i).sort().join("")===Object.keys(s).sort().join(""),a=Object.values(i).sort().join("")===Object.values(s).sort().join(""),o&&a);return l&&c});return t.length?t[t.length-1]:null}function Mj(n){var e=n.checkoutIframe,t=n.urlParameters;e&&t&&e.contentWindow.postMessage({type:"inline:url",path:"newTransaction",params:t},"*")}var i4e="trackCheckoutClosed",Dj="trackPaymentError",s4e="trackPaymentAttempt",o4e="trackPaymentCompletion";function E8(n){throw D9(n),new Error(n)}var jj,Oj,EY=function(){function n(e){var t,r;uY(this,n),this.id=function(){for(var i="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<5;o+=1)i+=s.charAt(Math.floor(Math.random()*s.length));return i}(),this.transactions=[],this.isOpen=!1,this.isLoaded=!1,this.isDeprecatedApi=e&&e.isDeprecatedApi,e&&e.isEmbed?this.isEmbed=!0:e&&e.isPaymentRequest&&(e.container&&Yx(e.container)||E8("A container is required to mount the payment request button"),this.paymentRequestContainer=Yx(e.container),this.paymentRequestTransaction=null),this.preCheckoutModal=null,this.backgroundIframe=function(i){var s=b8("inline-background-".concat(i));s.style.cssText=`
  z-index: 999999999999999;
  background: transparent;
  background: rgba(0, 0, 0, 0.75);    
  border: 0px none transparent;
  overflow-x: hidden;
  overflow-y: hidden;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  transition: opacity 0.3s;
  -webkit-transition: opacity 0.3s;
  visibility: hidden;
  display: none;
`,document.body.appendChild(s);var o=s.contentWindow.document;return o.open(),o.write(`
  <!DOCTYPE html>
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Paystack Popup Loader</title>
    <style>
      .app-loader {
        margin: 200px 0;
        text-align: center;
        color: white;
      }      
      @keyframes app-loader__spinner {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @-webkit-keyframes app-loader__spinner {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      .app-loader__spinner {
        position: relative;
        display: inline-block;
      }
      .app-loader__spinner div {
        left: 95px;
        top: 35px;
        position: absolute;
        -webkit-animation: app-loader__spinner linear 1s infinite;
        animation: app-loader__spinner linear 1s infinite;
        background: white;
        width: 10px;
        height: 30px;
        border-radius: 40%;
        -webkit-transform-origin: 5px 65px;
        transform-origin: 5px 65px;
      }
      .app-loader__spinner div:nth-child(1) {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
        -webkit-animation-delay: -0.916666666666667s;
        animation-delay: -0.916666666666667s;
      }
      .app-loader__spinner div:nth-child(2) {
        -webkit-transform: rotate(30deg);
        transform: rotate(30deg);
        -webkit-animation-delay: -0.833333333333333s;
        animation-delay: -0.833333333333333s;
      }
      .app-loader__spinner div:nth-child(3) {
        -webkit-transform: rotate(60deg);
        transform: rotate(60deg);
        -webkit-animation-delay: -0.75s;
        animation-delay: -0.75s;
      }
      .app-loader__spinner div:nth-child(4) {
        -webkit-transform: rotate(90deg);
        transform: rotate(90deg);
        -webkit-animation-delay: -0.666666666666667s;
        animation-delay: -0.666666666666667s;
      }
      .app-loader__spinner div:nth-child(5) {
        -webkit-transform: rotate(120deg);
        transform: rotate(120deg);
        -webkit-animation-delay: -0.583333333333333s;
        animation-delay: -0.583333333333333s;
      }
      .app-loader__spinner div:nth-child(6) {
        -webkit-transform: rotate(150deg);
        transform: rotate(150deg);
        -webkit-animation-delay: -0.5s;
        animation-delay: -0.5s;
      }
      .app-loader__spinner div:nth-child(7) {
        -webkit-transform: rotate(180deg);
        transform: rotate(180deg);
        -webkit-animation-delay: -0.416666666666667s;
        animation-delay: -0.416666666666667s;
      }
      .app-loader__spinner div:nth-child(8) {
        -webkit-transform: rotate(210deg);
        transform: rotate(210deg);
        -webkit-animation-delay: -0.333333333333333s;
        animation-delay: -0.333333333333333s;
      }
      .app-loader__spinner div:nth-child(9) {
        -webkit-transform: rotate(240deg);
        transform: rotate(240deg);
        -webkit-animation-delay: -0.25s;
        animation-delay: -0.25s;
      }
      .app-loader__spinner div:nth-child(10) {
        -webkit-transform: rotate(270deg);
        transform: rotate(270deg);
        -webkit-animation-delay: -0.166666666666667s;
        animation-delay: -0.166666666666667s;
      }
      .app-loader__spinner div:nth-child(11) {
        -webkit-transform: rotate(300deg);
        transform: rotate(300deg);
        -webkit-animation-delay: -0.083333333333333s;
        animation-delay: -0.083333333333333s;
      }
      .app-loader__spinner div:nth-child(12) {
        -webkit-transform: rotate(330deg);
        transform: rotate(330deg);
        -webkit-animation-delay: 0s;
        animation-delay: 0s;
      }
      .app-loader__spinner {
        width: 40px;
        height: 40px;
        -webkit-transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px);
        transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px);
      }
    </style>
  </head>

  <body>
    <div id="app-loader" class="app-loader">
      <div id="spinner" class="app-loader__spinner">
        <div></div><div></div><div></div><div></div><div></div><div></div><div>
        </div><div></div><div></div><div></div><div></div><div></div>
      </div>
    </div>
  </body>

  </html>
`),o.close(),s}(this.id),this.checkoutIframe=(t=this.id,(r=b8("inline-checkout-".concat(t))).src="".concat(Eo.checkoutUrl,"popup"),r.style.cssText=`
  z-index: 999999999999999;
  background: transparent;
  border: 0px none transparent;
  overflow-x: hidden;
  overflow-y: hidden;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  visibility: hidden;
  display: none;
  height: 100%;
`,r.setAttribute("allowpaymentrequest","true"),r.setAttribute("allow","payment; clipboard-read; clipboard-write"),document.body.appendChild(r),r),this.registerListeners()}return dY(n,[{key:"registerListeners",value:function(){var e=this;window.addEventListener("message",function(t){var r="".concat(t.origin,"/")===Eo.checkoutUrl,i=e.checkoutIframe&&e.checkoutIframe.contentWindow===t.source,s=e.isEmbed;r||i?e.respondToEvent(t):s&&e.respondToEmbedEvents(t)})}},{key:"sendAnalyticsEventToCheckout",value:function(e,t){this.checkoutIframe.contentWindow.postMessage({type:"analytics",action:e,params:t},"*")}},{key:"checkout",value:function(e){this.activeTransaction()&&this.activeTransaction().cancel(),Jt=this;var t=A8(this.transactions,e)||new _8(e);return new Promise(function(r,i){t.requestInline().then(function(s){var o=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=l.platform,u=l.userAgent,h=u===void 0?window&&window.navigator&&window.navigator.userAgent:u,p=c||_Y,f=h&&!!h.match(/Version\/[\d.]+.*Safari/),b=p&&/(Mac)/i.test(p);return AY()||b&&f}()&&gT(s.channels),a=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=!!l.custom_filters&&l.custom_filters.recurring,u=l.plan_details,h=c||u,p=!!l.link_config&&l.link_config.enabled&&l.link_config.has_payment_instruments;return!h&&p}(s);a||o?(Jt.preloadTransaction({inlineTransaction:t}),Jt.preCheckoutModal=function(l,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=document.querySelector("#pre-checkout-modal-".concat(l));if(h){if(Rj(h)&&x8(h))return h;h.remove()}var p=document.createElement("div");p.classList.add("pre-checkout-modal"),p.id="pre-checkout-modal-".concat(l),p.style.zIndex=qxe()+1;var f=document.createElement("div");f.classList.add("pre-checkout-modal__content"),p.appendChild(f);var b=c||{},w=b.merchant_logo,A=b.merchant_name,x=b.email,E=b.amount,S=b.currency,T=b.label,B=new Intl.NumberFormat("en",{style:"currency",currency:S,currencyDisplay:"code",maximumFractionDigits:2,minimumFractionDigits:0}).format(E/100),V=document.createElement("div");V.classList.add("payment-info"),V.innerHTML='<img class="merchant-logo" src="'.concat(w,'" alt="').concat(A,` Logo">
    <div class="customer-info">
      <div class="customer-email">`).concat(T||x,`</div>
      <div class="transaction-amount">Pay <span class="amount">`).concat(B,`</span></div>
    </div>`),f.appendChild(V),f.innerHTML+=Uxe;var M=document.createElement("div");M.classList.add("modal-wrapper"),u.canPayWithVault?Gxe(M,{canPayWithApplePay:u.canPayWithApplePay}):Kxe(M),M.innerHTML=M.innerHTML+mY+Bxe,f.appendChild(M);var N=document.createElement("style");return N.textContent=zxe,document.body.appendChild(N),document.body.appendChild(p),p}(Jt.id,s,{canPayWithVault:a,canPayWithApplePay:o}),o?(Jt.paymentRequestContainer=x8(Jt.preCheckoutModal),Pj(Jt.paymentRequestContainer,{channels:s.channels,styles:{applePay:{width:"100%",type:"pay",height:"42px",padding:"15px",borderRadius:"5px"}}},s.merchant_id).then(function(){Jt.registerPaymentRequestEventListeners(),Jt.openPreCheckoutModal()}).catch(function(){a?(x8(Jt.preCheckoutModal).remove(),Jt.openPreCheckoutModal()):(Jt.closePreCheckoutModal(),Jt.animateCheckoutIn())}).finally(function(){r(t)})):(Jt.openPreCheckoutModal(),r(t))):(Jt.newTransaction({inlineTransaction:t}),r(t))}).catch(function(s){t.onSetupError({status:!1,message:s.message}),i(s)})})}},{key:"openPreCheckoutModal",value:function(){var e;this.registerPreCheckoutModalEventListeners(),e=this.preCheckoutModal,new Promise(function(t,r){try{var i=e.querySelector(".pre-checkout-modal__content");e.classList.add("show"),setTimeout(function(){i.classList.add("show"),t(!0)},50)}catch(s){r(s)}})}},{key:"registerPreCheckoutModalEventListeners",value:function(){var e,t=this,r=!1,i=this.activeTransaction();document.addEventListener("touchstart",function(l){l.preventDefault(),r||(r=!0,e=setTimeout(function(){r=!1},125))},!0),document.addEventListener("touchend",function(l){l.target&&l.target.isSameNode(Jt.preCheckoutModal)&&r&&(clearTimeout(e),Jt.closePreCheckoutModal(),i&&i.cancel()),r=!1},!0);var s=Rj(this.preCheckoutModal),o=this.preCheckoutModal.querySelector("#".concat(wY));s.onclick=function(){t.closePreCheckoutModal(),t.animateCheckoutIn()},o&&(o.onclick=function(){t.closePreCheckoutModal(),t.animateCheckoutIn(),t.checkoutIframe.contentWindow.postMessage({type:"inline:pay-with-vault"},"*")});var a=function(l){return l.querySelector("#apple-pay-close-button")}(this.preCheckoutModal);a.onclick=function(){t.sendAnalyticsEventToCheckout(i4e),t.closePreCheckoutModalAndCancelTransaction()}}},{key:"closePreCheckoutModal",value:function(e){var t;this.preCheckoutModal&&(e==="failed"?(t=this.preCheckoutModal)&&(t.querySelector("#apple-pay-mark--light").innerHTML=`<svg width="50" height="30" viewBox="0 0 21 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="error-icon">
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="error" fill-rule="nonzero">
            <path d="M9.14672,0.47855 L0.14829,15.47855 C-0.0403320234,15.7872042 -0.0475647902,16.1736607 0.129375884,16.4891566 C0.306316558,16.8046526 0.639843999,16.9999993 1.00157,17 L19.43546,17 C19.797186,16.9999993 20.1307134,16.8046526 20.3076541,16.4891566 C20.4845948,16.1736607 20.477362,15.7872042 20.28874,15.47855 L10.85328,0.47855 C10.671624,0.181297031 10.3483651,3.00996351e-06 10,3.00996351e-06 C9.6516349,3.00996351e-06 9.32837603,0.181297031 9.14672,0.47855 Z" id="Shape" fill="#FFAA22"></path>
            <rect id="Rectangle-path" fill="#FFFFFF" x="9" y="6" width="2" height="5"></rect>
            <rect id="Rectangle-path" fill="#FFFFFF" x="9" y="12" width="2" height="2"></rect>
        </g>
    </g>
</svg>`,t.querySelector("#apple-pay-description").textContent="An error occurred while paying with Apple Pay. Please try again or use another payment method."):(function(r){r&&(r.querySelector(".pre-checkout-modal__content").classList.remove("show"),r.classList.remove("show"))}(this.preCheckoutModal),this.preCheckoutModal.remove(),this.preCheckoutModal=null))}},{key:"closePreCheckoutModalAndCancelTransaction",value:function(){this.preCheckoutModal&&(this.cancelTransaction(),this.checkoutIframe&&this.checkoutIframe.contentWindow&&this.checkoutIframe.contentWindow.postMessage("close","*"),this.closePreCheckoutModal())}},{key:"newTransaction",value:function(e){var t,r=e.preload,i=e.inlineTransaction,s=pT(e,n4e),o=this.paymentRequestContainer&&c3(this.paymentRequestContainer);this.activeTransaction()&&!o&&this.activeTransaction().cancel();var a=A8(this.transactions,i?i.parameters:s),l=a||i||new _8(s);return a?(l.isActive=!0,t={accessCode:l.accessCode}):(t=l.accessCode?{accessCode:l.accessCode}:l.urlParameters,this.transactions.push(l)),this.isDeprecatedApi||this.open(t,r),l}},{key:"preloadTransaction",value:function(e){var t=this;return this.newTransaction(Kr(Kr({},e),{},{preload:!0})),function(){return t.animateCheckoutIn()}}},{key:"paymentRequest",value:function(e){var t=e.container,r=e.styles,i=e.onElementsMount,s=pT(e,r4e);return Jt=this,new Promise(function(o,a){var l=document.querySelector("#".concat(e.loadPaystackCheckoutButton));if(gY()){Jt.activeTransaction()&&Jt.activeTransaction().cancel(),t&&Yx(t)||E8("A container is required to mount the payment request button"),Jt.paymentRequestContainer=Yx(t);var c=A8(Jt.transactions,s),u=c||new _8(s);u.requestInline().then(function(f){Pj(Jt.paymentRequestContainer,{channels:f.channels,styles:r},f.merchant_id).then(function(b){i&&i(b)}).catch(function(){i&&i(null)}).finally(function(){if(c?u.isActive=!0:Jt.transactions.push(u),Jt.registerPaymentRequestEventListeners(),l){var b=Jt.preloadTransaction({inlineTransaction:u});l.onclick=b}o(u)})}).catch(function(f){u.onSetupError({status:!1,message:f.message}),a(f)})}else{if(e&&e.loadPaystackCheckoutButton)if(l){var h=Jt.preloadTransaction(s);l.onclick=h}else D9("This device does not support any payment request wallet options. Please consult our documentation at https://developers.paystack.co/docs/paystack-inline to see how to load alternative payment options using 'loadPaystackCheckoutButton'");i&&i(null);var p=Jt.activeTransaction();o(p)}})}},{key:"registerApplePayEventListener",value:function(){var e=this;c3(this.paymentRequestContainer).onclick=function(){return e.startApplePay()}}},{key:"registerPaymentRequestEventListeners",value:function(){var e=this.activeTransaction();e&&gT(e.response.channels)?this.registerApplePayEventListener():Hxe(this.paymentRequestContainer)}},{key:"startApplePay",value:function(){var e,t,r,i,s,o=this,a="apple pay",l=this.activeTransaction();if(l){var c={channel:"apple_pay",paymentMethod:a,currency:l.currency,amount:l.amount},u={channel:"apple_pay",currency:l.currency,amount:l.amount,timeSpent:l.getTimeSpent()};try{l.logAttempt(a),this.sendAnalyticsEventToCheckout(s4e,c);var h=(e={currency:l.response.currency,amount:l.response.amount,merchantName:l.response.merchant_name,interval:l.response.plan_details&&l.response.plan_details.interval},t=e.currency,r=e.amount,i=e.merchantName,s=e.interval,Kr({countryCode:"NG",currencyCode:t,merchantCapabilities:["supports3DS","supportsCredit","supportsDebit"],supportedNetworks:["visa","masterCard"],requiredBillingContactFields:["postalAddress","name","phone","email"],total:{label:"".concat(i," - Paystack"),type:"final",amount:String(Nj(r))}},typeof s=="string"&&s.trim()!==""&&{lineItems:[{label:$xe(s),amount:String(Nj(r))}]})),p=new window.ApplePaySession(Eo.applePayVersion,h);p.onvalidatemerchant=function(f){var b=function(w){var A=w.transactionId,x=w.validationURL,E=w.merchantName,S=w.domainName,T=S===void 0?window&&window.location&&window.location.hostname:S,B="".concat(Eo.paymentBaseUrl).concat(Eo.applePayValidateSessionPath),V=Ij({transaction:A,sessionUrl:x,displayName:E,domainName:T});return fetch(B,Kr(Kr({},kj),{},{body:V})).then(function(M){return M.json()})}({validationURL:f.validationURL,transactionId:l.id,merchantName:l.response.merchant_name});b.then(function(w){w.status!=="success"?l.onSetupError(w):p.completeMerchantValidation(w.data),l.logValidationResponse(w.message)}).catch(function(w){l.onSetupError(w)})},p.oncancel=function(){Jt.preCheckoutModal||l.onCancel()},p.onpaymentauthorized=function(f){var b=f.payment,w=function(A){var x=A.transactionId,E=A.payment,S="".concat(Eo.paymentBaseUrl).concat(Eo.applePayChargePath),T=Ij({transaction:x,paymentObject:JSON.stringify(E)});return fetch(S,Kr(Kr({},kj),{},{body:T})).then(function(B){return B.json()})}({transactionId:l.id,payment:b});w.then(function(A){l.logAPIResponse(A,a),A.status==="success"?(p.completePayment(p.STATUS_SUCCESS),l.onSuccess(A),o.sendAnalyticsEventToCheckout(o4e,u)):(p.completePayment(p.STATUS_FAILURE),l.onSetupError(A),o.sendAnalyticsEventToCheckout(Dj,{channel:"apple_pay",message:A&&A.message||"Transaction attempt failed"})),Jt.closePreCheckoutModal(A.status)}).catch(function(A){p.completePayment(p.STATUS_FAILURE),l.onSetupError(A),o.sendAnalyticsEventToCheckout(Dj,{channel:"apple_pay",message:A&&A.message||"Error occurred"}),Jt.closePreCheckoutModal("failed")})},p.begin()}catch(f){l.onSetupError(f)}}else E8("Could not initiate apple pay transaction")}},{key:"resumeTransaction",value:function(e){return this.newTransaction({accessCode:e})}},{key:"activeTransaction",value:function(){var e=this.transactions.filter(function(r){return r.isActive}),t=e.length?e[e.length-1]:null;return t}},{key:"cancelTransaction",value:function(e){var t=this.transactions.find(function(r){return r.id===e})||this.activeTransaction();t&&(t.cancel(),this.close())}},{key:"respondToEvent",value:function(e){if(e){var t,r,i=this.activeTransaction();try{var s=e.data||e.message,o=s.event,a=s.data;if(o)switch(o){case"loaded:checkout":this.isLoaded=!0,i&&Mj({checkoutIframe:this.checkoutIframe,urlParameters:i.urlParameters});break;case"loaded:transaction":t=this.backgroundIframe,(r=t.contentWindow.document)&&(r.getElementById("app-loader").style.display="none"),i.onLoad(a);break;case"error":a.type==="setup"?i.onSetupError(a):i.logError(a);break;case"cancel":case"close":this.close();var l=a&&a.status;l&&i.setStatus(l),!(this.paymentRequestContainer&&c3(this.paymentRequestContainer)&&!this.preCheckoutModal)&&(i.isActive=!1),i.onCancel();break;case"transfer:pending":this.close();var c=a&&a.status;c&&i.setStatus(c),i.onBankTransferConfirmationPending();break;case"success":this.close(),i.onSuccess(a)}}catch{}}}},{key:"respondToEmbedEvents",value:function(e){var t,r,i=this.activeTransaction(),s=e.data||e.message;if(s&&(typeof s=="string"||s instanceof String)){var o={action:r=(t=s)&&typeof t=="string"?t.split(" ")[0]:null,data:r?t.split(" ").slice(2).join(" "):null};o&&o.action==="PaystackClose"&&o.data&&i.onSuccess(s),o.action==="PaystackTLSClose"&&i.cancel()}}},{key:"animateCheckoutIn",value:function(){var e,t=this;if(!this.isOpen){var r=this.checkoutIframe,i=this.backgroundIframe;(e={checkoutIframe:r,backgroundIframe:i},new Promise(function(s,o){e||o("No dom element provided");var a=e.checkoutIframe,l=e.backgroundIframe;a&&l||o("No dom element provided"),a.style.display="",a.style.visibility="visible",l.style.display="",l.style.visibility="visible",s()})).then(function(){t.checkoutIframe.contentWindow.postMessage("render","*")}),this.isOpen=!0}}},{key:"open",value:function(e,t){e&&(Mj({checkoutIframe:this.checkoutIframe,urlParameters:e}),t||this.animateCheckoutIn())}},{key:"close",value:function(){var e=this;if(this.isOpen){var t,r=this.checkoutIframe,i=this.backgroundIframe;(t={checkoutIframe:r,backgroundIframe:i},new Promise(function(s,o){t||o("No dom element provided");var a=t.checkoutIframe,l=t.backgroundIframe;a&&l||o("No dom element provided"),l.style.opacity=0,a.style.display="none",a.style.visibility="hidden",setTimeout(function(){l.style.display="none",l.style.visibility="hidden",l.style.opacity=1,s()},300)})).then(function(){e.checkoutIframe.contentWindow.postMessage("close","*")}),this.isOpen=!1}}},{key:"isLoaded",value:function(){return this.isLoaded}}],[{key:"setup",value:function(e){var t=e&&e.container;Jt||(Jt=new n({isDeprecatedApi:!0,isEmbed:t})),Lj("PaystackPop.setup()","new PaystackPop()","Please consult our documentation at https://developers.paystack.co/docs/paystack-inline");var r=Jt.newTransaction(e,"deprecated"),i=r.urlParameters;if(t){var s="".concat(Eo.siteUrl,"/assets/payment/production/inline.html?").concat(pY(i)),o=function(a,l){var c=b8("embed-checkout-".concat(a));return c.style.cssText=`
  background: transparent;
  background: rgba(0,0,0,0);
  border: 0px none transparent;
  overflow-x: hidden;
  overflow-y: hidden;
  nmargin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  visibility: hidden;
  display: none;
`,c.src=l,c.id=a,c.name=a,c}(Jt.id,s);(function(a,l){var c=document.getElementById(a);c.innerHTML="",c.removeAttribute("style"),c.className="paystack-embed-container",c.style.position="relative",c.style.width="100%",c.appendChild(l)})(e.container,o),o.onload=function(){var a;o.contentWindow.postMessage("PaystackOpen ".concat(Jt.id),"*"),a=o,new Promise(function(l,c){a||c("No dom element provided"),a.style.display="",a.style.visibility="visible",l()})}}else r.openIframe=function(){Lj("openIframe","open","Please consult our documentation at https://developers.paystack.co/docs/paystack-inline"),Jt.open(i)};return r}}]),n}();if(jj=Cj().length>0,Oj=ug()&&ug().parentElement.tagName==="FORM",jj&&Oj){var S8,pp=function(){var n={},e=ug();return Cj().forEach(function(t){var r=e.getAttribute(t),i=t.split("data-")[1].replace(/-([a-z])/g,function(s){return s[1].toUpperCase()});n[i]=r}),function(t){if(t.buttonId&&!document.getElementById(t.buttonId))throw new Error("Please make sure the buttonId is an element available in the DOM");var r=Kr({},t);r.buttonText=t.buttonText||"Pay",r.buttonVariant="normal",r.buttonWordmarkVariant="normal";var i=["normal","light"];return t.buttonVariant&&i.indexOf(t.buttonVariant)>-1&&(r.buttonVariant=t.buttonVariant),t.buttonWordmarkVariant&&i.indexOf(t.buttonWordmarkVariant)>-1&&(r.buttonWordmarkVariant=t.buttonWordmarkVariant),r}(n)}(),Fj=ug().parentElement;Jt||(Jt=new EY),function(n){var e;if(n.id)(e=document.getElementById(n.id)).setAttribute("data-inline-id",n.id);else{var t=document.createElement("div");t.id="inline-button-".concat(n.inlineId),t.innerHTML=function(r){var i,s,o={normal:`
  <svg id="inline-button-wordmark" width="137" height="13" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M.037 5.095l1.075-.135c-.011-.774-.025-1.944-.013-2.149C1.19 1.364 2.38.134 3.81.013 3.9.006 3.99.002 4.077 0a2.947 2.947 0 0 1 2.046.76c.574.509.95 1.26 1.008 2.007.015.192.01 1.491.01 2.257l1.096.163L8.2 11.44 4.093 12 0 11.346l.037-6.251zm4.106-.514l1.724.256c-.007-.933-.05-2.295-.26-2.654-.319-.545-.846-.867-1.443-.88h-.063c-.607.008-1.138.322-1.458.864-.222.378-.266 1.66-.265 2.637l1.765-.223zM18.228 10.108c-.576 0-1.064-.072-1.464-.216a2.864 2.864 0 0 1-.972-.6 2.552 2.552 0 0 1-.588-.864 4.067 4.067 0 0 1-.252-1.044h1.008c.032.256.088.5.168.732.08.224.204.424.372.6.168.168.388.304.66.408.28.096.636.144 1.068.144.28 0 .536-.036.768-.108.24-.08.448-.192.624-.336.176-.144.312-.316.408-.516.104-.2.156-.42.156-.66 0-.24-.032-.448-.096-.624a1.02 1.02 0 0 0-.336-.468 1.885 1.885 0 0 0-.636-.324 6.4 6.4 0 0 0-1.008-.228 8.79 8.79 0 0 1-1.212-.276 3.246 3.246 0 0 1-.9-.432 1.982 1.982 0 0 1-.564-.672c-.128-.272-.192-.6-.192-.984 0-.328.068-.632.204-.912.136-.288.324-.536.564-.744.248-.208.54-.372.876-.492.336-.12.708-.18 1.116-.18.864 0 1.548.204 2.052.612.512.4.812.984.9 1.752h-.936c-.104-.544-.316-.932-.636-1.164-.32-.24-.78-.36-1.38-.36-.592 0-1.04.132-1.344.396a1.255 1.255 0 0 0-.444.996c0 .208.024.396.072.564.056.16.156.3.3.42.152.12.36.228.624.324a6.72 6.72 0 0 0 1.068.228c.48.072.9.168 1.26.288.36.12.664.276.912.468s.432.428.552.708c.128.28.192.624.192 1.032 0 .36-.076.696-.228 1.008a2.472 2.472 0 0 1-.612.804c-.264.224-.58.4-.948.528-.36.128-.752.192-1.176.192zM25.355 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM32.091 10.108c-.44 0-.848-.072-1.224-.216a3.054 3.054 0 0 1-.972-.636 3.12 3.12 0 0 1-.648-1.008 3.626 3.626 0 0 1-.228-1.32v-.096c0-.48.08-.916.24-1.308.16-.4.376-.74.648-1.02.28-.28.604-.496.972-.648.376-.16.772-.24 1.188-.24.328 0 .644.04.948.12.312.08.588.208.828.384.248.168.456.392.624.672.168.28.276.62.324 1.02h-.984c-.08-.496-.284-.848-.612-1.056-.32-.208-.696-.312-1.128-.312a1.93 1.93 0 0 0-.804.168c-.24.112-.452.272-.636.48a2.23 2.23 0 0 0-.42.744 2.991 2.991 0 0 0-.156.996v.096c0 .776.188 1.364.564 1.764.384.392.88.588 1.488.588.224 0 .436-.032.636-.096a1.651 1.651 0 0 0 .96-.768c.112-.192.18-.416.204-.672h.924a2.595 2.595 0 0 1-.276.948 2.386 2.386 0 0 1-.576.744c-.24.208-.52.372-.84.492-.32.12-.668.18-1.044.18zM38.335 10.108a2.83 2.83 0 0 1-.876-.132 1.724 1.724 0 0 1-.684-.42 2.145 2.145 0 0 1-.456-.756c-.112-.304-.168-.672-.168-1.104V3.724h.996v3.924c0 .552.116.956.348 1.212.24.256.608.384 1.104.384.224 0 .44-.036.648-.108.208-.072.392-.18.552-.324.16-.144.288-.324.384-.54.096-.216.144-.464.144-.744V3.724h.996V10h-.996v-.996c-.144.296-.388.556-.732.78-.336.216-.756.324-1.26.324zM43.216 3.724h.996v1.128c.2-.352.452-.64.756-.864.312-.232.748-.356 1.308-.372v.936a4.461 4.461 0 0 0-.852.12 1.647 1.647 0 0 0-.66.324 1.472 1.472 0 0 0-.408.612c-.096.248-.144.564-.144.948V10h-.996V3.724zM50 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM56.496 10.108c-.408 0-.788-.068-1.14-.204a2.683 2.683 0 0 1-.9-.612 3.01 3.01 0 0 1-.588-.984 4.01 4.01 0 0 1-.204-1.32v-.096c0-.48.072-.92.216-1.32.144-.4.344-.744.6-1.032.256-.296.564-.524.924-.684.36-.16.756-.24 1.188-.24.528 0 .956.112 1.284.336.328.216.584.476.768.78V.724h.996V10h-.996V8.92c-.088.152-.208.3-.36.444a2.792 2.792 0 0 1-.516.384 2.874 2.874 0 0 1-.6.252c-.216.072-.44.108-.672.108zm.108-.828c.288 0 .56-.048.816-.144.256-.096.476-.24.66-.432.184-.2.328-.448.432-.744.112-.304.168-.656.168-1.056v-.096c0-.808-.18-1.404-.54-1.788-.352-.384-.836-.576-1.452-.576-.624 0-1.112.208-1.464.624-.352.416-.528 1.008-.528 1.776v.096c0 .392.048.736.144 1.032.104.296.24.54.408.732.176.192.38.336.612.432.232.096.48.144.744.144zM67.712 10.108c-.512 0-.948-.112-1.308-.336a2.38 2.38 0 0 1-.816-.804V10h-.996V.724h.996V4.78a1.92 1.92 0 0 1 .348-.432c.152-.144.32-.268.504-.372.192-.112.396-.2.612-.264.216-.064.436-.096.66-.096.408 0 .788.072 1.14.216.352.144.652.352.9.624.256.272.456.604.6.996.144.392.216.832.216 1.32v.096c0 .48-.068.92-.204 1.32a3.103 3.103 0 0 1-.576 1.02 2.583 2.583 0 0 1-.9.672 2.937 2.937 0 0 1-1.176.228zm-.096-.828c.624 0 1.1-.2 1.428-.6.328-.408.492-.996.492-1.764V6.82c0-.4-.052-.748-.156-1.044a2.095 2.095 0 0 0-.42-.732 1.53 1.53 0 0 0-.612-.444 1.798 1.798 0 0 0-.744-.156c-.288 0-.56.048-.816.144a1.71 1.71 0 0 0-.648.444c-.184.192-.328.44-.432.744a3.152 3.152 0 0 0-.156 1.044v.096c0 .8.192 1.396.576 1.788.384.384.88.576 1.488.576zM73.63 9.352l-2.46-5.628h1.068l1.92 4.5 1.74-4.5h1.02l-3.468 8.46h-1.008l1.188-2.832zM87.127 3.669A3.138 3.138 0 0 0 86.1 2.95a3.09 3.09 0 0 0-1.228-.25c-.448 0-.848.086-1.187.26a2.199 2.199 0 0 0-.662.497v-.191a.387.387 0 0 0-.214-.348.323.323 0 0 0-.14-.03h-1.315a.314.314 0 0 0-.254.116.377.377 0 0 0-.1.262v8.97c0 .1.034.188.1.258a.34.34 0 0 0 .254.103h1.341a.342.342 0 0 0 .244-.103.336.336 0 0 0 .11-.259v-3.06c.178.202.417.357.702.464.35.134.72.203 1.093.203.43 0 .848-.082 1.242-.248a3.124 3.124 0 0 0 1.04-.724c.305-.326.545-.709.707-1.128a3.93 3.93 0 0 0 .263-1.477c0-.54-.086-1.037-.263-1.477a3.387 3.387 0 0 0-.706-1.12zm-1.204 3.24c-.073.19-.18.362-.315.51a1.415 1.415 0 0 1-1.065.466c-.2.001-.4-.04-.584-.12a1.484 1.484 0 0 1-.49-.346 1.593 1.593 0 0 1-.32-.51 1.738 1.738 0 0 1-.115-.63c0-.224.04-.435.115-.631a1.532 1.532 0 0 1 .804-.846c.185-.086.386-.13.59-.129.215 0 .414.044.593.13.177.083.338.199.474.341a1.622 1.622 0 0 1 .425 1.135c0 .225-.037.436-.112.63zM95.298 2.89h-1.33a.339.339 0 0 0-.246.11.384.384 0 0 0-.108.266v.166a1.856 1.856 0 0 0-.602-.472 2.525 2.525 0 0 0-1.166-.258 3.227 3.227 0 0 0-2.284.964 3.554 3.554 0 0 0-.734 1.123 3.827 3.827 0 0 0-.275 1.477c0 .54.092 1.037.275 1.477.184.434.427.817.728 1.128a3.146 3.146 0 0 0 2.277.973c.437 0 .834-.088 1.173-.259.25-.13.456-.287.608-.471v.177a.34.34 0 0 0 .11.259.341.341 0 0 0 .244.104h1.33a.324.324 0 0 0 .25-.105.349.349 0 0 0 .102-.258V3.267a.377.377 0 0 0-.1-.262.325.325 0 0 0-.252-.115zM93.502 6.9a1.55 1.55 0 0 1-.312.511c-.136.143-.296.26-.473.344-.178.085-.38.129-.596.129-.207 0-.407-.044-.59-.13a1.501 1.501 0 0 1-.791-.855 1.766 1.766 0 0 1-.112-.62c0-.225.038-.436.112-.632.075-.193.181-.364.314-.504.137-.143.3-.26.478-.342.182-.085.382-.129.59-.129.215 0 .417.044.595.13.178.085.338.2.473.341a1.623 1.623 0 0 1 .424 1.135c0 .215-.037.424-.112.622zM108.567 6.094a2.265 2.265 0 0 0-.654-.402c-.247-.101-.509-.181-.785-.235l-1.014-.204c-.26-.05-.441-.117-.543-.203a.328.328 0 0 1-.136-.264c0-.11.063-.2.189-.282.137-.086.329-.13.566-.13.26 0 .518.053.757.157.243.106.471.226.67.36.295.187.546.162.727-.053l.487-.57a.543.543 0 0 0 .152-.357c0-.128-.064-.245-.185-.351-.207-.184-.533-.378-.971-.568-.437-.192-.987-.29-1.637-.29-.427 0-.82.058-1.168.172-.35.116-.65.276-.893.474-.245.204-.438.44-.57.713a2 2 0 0 0-.198.875c0 .56.167 1.017.496 1.358.328.333.766.56 1.304.67l1.054.232c.3.062.528.132.675.21.129.067.19.163.19.297 0 .12-.061.227-.188.324-.133.104-.342.155-.622.155a1.83 1.83 0 0 1-.831-.19 3.056 3.056 0 0 1-.678-.458.995.995 0 0 0-.307-.17c-.126-.037-.268.003-.431.13l-.583.461c-.169.145-.24.32-.209.522.029.194.19.394.491.62.269.193.614.368 1.029.518.415.151.901.229 1.453.229.444 0 .854-.058 1.215-.172.362-.119.681-.278.941-.48a2.056 2.056 0 0 0 .819-1.663c0-.319-.053-.6-.165-.836a1.843 1.843 0 0 0-.447-.6zM114.383 7.73a.363.363 0 0 0-.295-.192.55.55 0 0 0-.343.113c-.095.062-.198.11-.306.141a.75.75 0 0 1-.426.013.43.43 0 0 1-.181-.093.554.554 0 0 1-.143-.204.92.92 0 0 1-.059-.362v-2.46h1.731c.099 0 .188-.04.266-.117a.368.368 0 0 0 .112-.26V3.268a.369.369 0 0 0-.115-.268.38.38 0 0 0-.263-.109h-1.732V1.216a.354.354 0 0 0-.108-.27.347.347 0 0 0-.243-.104h-1.344a.36.36 0 0 0-.34.226.371.371 0 0 0-.027.148V2.89h-.767a.324.324 0 0 0-.255.115.385.385 0 0 0-.098.262V4.31a.4.4 0 0 0 .212.346c.044.021.092.032.14.03h.768v2.925c0 .39.069.726.2 1.003.132.274.305.504.514.676.217.178.465.31.731.388.27.084.551.126.833.126.385 0 .75-.061 1.094-.18a2.13 2.13 0 0 0 .861-.552c.152-.181.17-.381.046-.581l-.463-.76zM121.672 2.89h-1.329a.339.339 0 0 0-.244.11.39.39 0 0 0-.08.122.394.394 0 0 0-.027.144v.166a1.906 1.906 0 0 0-.605-.472c-.335-.173-.726-.258-1.168-.258-.42 0-.834.083-1.226.249a3.24 3.24 0 0 0-1.055.715 3.528 3.528 0 0 0-.734 1.123 3.79 3.79 0 0 0-.276 1.477c0 .54.092 1.037.275 1.477.184.434.428.817.729 1.128a3.138 3.138 0 0 0 2.273.973 2.59 2.59 0 0 0 1.175-.259c.255-.13.457-.287.612-.471v.177a.34.34 0 0 0 .108.259.343.343 0 0 0 .243.104h1.329a.335.335 0 0 0 .252-.105.364.364 0 0 0 .102-.258V3.267a.38.38 0 0 0-.1-.262.332.332 0 0 0-.115-.087.311.311 0 0 0-.139-.028zM119.876 6.9a1.534 1.534 0 0 1-.786.855 1.362 1.362 0 0 1-.594.129c-.207 0-.405-.044-.588-.13a1.516 1.516 0 0 1-.792-.855 1.757 1.757 0 0 1-.113-.62c0-.225.037-.436.112-.632.073-.187.179-.358.314-.504.138-.143.3-.26.479-.342.184-.086.385-.13.588-.129.217 0 .415.044.594.13.181.085.34.2.472.341.134.143.24.313.314.504a1.73 1.73 0 0 1 0 1.253zM128.978 7.64l-.763-.593c-.146-.118-.284-.15-.404-.1a.742.742 0 0 0-.279.205 2.527 2.527 0 0 1-.583.535c-.192.122-.444.183-.742.183-.219 0-.42-.04-.6-.122a1.423 1.423 0 0 1-.469-.342 1.575 1.575 0 0 1-.308-.51 1.751 1.751 0 0 1-.106-.617c0-.228.034-.438.106-.632.07-.192.173-.363.308-.503.135-.144.295-.26.472-.342.187-.088.391-.132.597-.13.298 0 .547.064.742.187.198.126.396.306.584.534.078.092.17.16.278.206.122.048.259.016.401-.101l.762-.594a.53.53 0 0 0 .201-.269.437.437 0 0 0-.034-.365 3.329 3.329 0 0 0-1.18-1.127c-.504-.291-1.108-.441-1.784-.441a3.519 3.519 0 0 0-2.51 1.033c-.322.322-.576.71-.747 1.137a3.68 3.68 0 0 0-.273 1.407c0 .495.093.968.273 1.402.173.424.427.808.747 1.128a3.527 3.527 0 0 0 2.51 1.034c.676 0 1.28-.149 1.784-.444a3.286 3.286 0 0 0 1.182-1.13.411.411 0 0 0 .055-.173.415.415 0 0 0-.023-.182.624.624 0 0 0-.197-.273zM136.06 9.045l-2.104-3.143 1.801-2.415c.094-.139.119-.272.075-.397-.031-.09-.116-.2-.334-.2h-1.425a.52.52 0 0 0-.234.058.482.482 0 0 0-.209.205L132.191 5.2h-.349V.363a.37.37 0 0 0-.099-.26.352.352 0 0 0-.253-.103h-1.332a.37.37 0 0 0-.337.22.346.346 0 0 0-.027.143V9.29c0 .103.038.193.11.259a.353.353 0 0 0 .254.104h1.333a.328.328 0 0 0 .251-.105.346.346 0 0 0 .075-.119.333.333 0 0 0 .024-.14V6.927h.386l1.571 2.446c.112.187.267.281.46.281h1.491c.226 0 .32-.11.358-.202.054-.13.038-.262-.047-.406zM102.863 2.89h-1.489a.389.389 0 0 0-.298.122.544.544 0 0 0-.13.249l-1.099 4.167h-.268l-1.182-4.167a.66.66 0 0 0-.113-.247.329.329 0 0 0-.264-.124h-1.544c-.199 0-.325.066-.372.193a.588.588 0 0 0-.002.37l1.887 5.865c.03.093.08.17.145.232a.388.388 0 0 0 .281.104h.798l-.066.19-.19.547a.872.872 0 0 1-.29.426.7.7 0 0 1-.442.148.956.956 0 0 1-.4-.09 1.842 1.842 0 0 1-.35-.209.62.62 0 0 0-.335-.115h-.016c-.13 0-.243.074-.334.216l-.474.708c-.193.304-.086.504.039.615.234.224.528.399.875.524.344.125.723.186 1.126.186.682 0 1.252-.187 1.689-.565.435-.376.756-.887.952-1.524l2.188-7.258c.05-.155.05-.284.005-.389-.037-.08-.125-.174-.327-.174z" fill="#011B33"/>
    </svg>`,light:mY};return`
    <style>
      #inline-button-`.concat(r.inlineId,` {
        position: relative;
        text-align: center;
        display: inline-block;
      }
      #inline-button-`).concat(r.inlineId,`__trigger {
        `).concat((i=r.variant||"normal",s={normal:`
    background: linear-gradient(180deg,#44b669 0,#40ad57);
    text-shadow: 1px 1px 1px rgba(0,0,0,.1);
    color: #ffffff;
  `,light:`
    background: white;
    text-shadow: none;
    color: #011b33;
  `},"".concat(`
    box-sizing: border-box;
    display: inline-block;
    line-height: 1;
    white-space: nowrap;
    margin: 0 0 10px;
    text-align: center;
    -webkit-appearance: none;
    outline: none;
    font-size: 14px;
    font-weight: 600;
    border-radius: 6px;
    cursor: pointer;
    padding: 16px 24px;
    box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.15);
    transition: all .3s ease;
    border: none;
    min-width: 190px;
  `).concat(s[i])),`
      }
      #inline-button-`).concat(r.inlineId,`__trigger:hover {
        box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);
      }
      #inline-button-`).concat(r.inlineId,`__trigger:active {
        transform: translateY(3px);
      }
    </style>
    <button id="inline-button-`).concat(r.inlineId,'__trigger" data-inline-id="').concat(r.inlineId,'">').concat(r.text||"Pay"," ").concat(r.currency||"NGN"," ").concat(r.amount,`</button>
    <div id="inline-button-`).concat(r.inlineId,`__wordmark">
      `).concat(o[r.wordmarkVariant||"normal"],`
    </div>
  `)}(n),n.parent.parentNode.insertBefore(t,n.parent.nextSibling),e=jxe(t.getElementsByTagName("button"),1)[0]}return e}({inlineId:Jt.id,amount:pp.amount/100,currency:pp.currency,id:pp.buttonId,text:pp.buttonText,variant:pp.buttonVariant,wordmarkVariant:pp.buttonWordmarkVariant,parent:ug()}).addEventListener("click",function(n){n.preventDefault(),S8?Jt.resumeTransaction(S8.accessCode):S8=Jt.newTransaction(Kr(Kr({},pp),{},{onSuccess:function(e){var t,r,i,s,o,a;t={type:"hidden",name:"reference",value:e.reference,parent:Fj},r=t.type,i=t.value,s=t.name,o=t.parent,(a=document.createElement("input")).type=r,a.value=i,a.name=s,o.appendChild(a),Fj.submit()}}))})}var a4e=function(n){var e=new EY;e.newTransaction(n)};function SY(n){function e(t){var r=t.config,i=t.onSuccess,s=t.onClose,o=Pr(Pr({},n),r),a=o.publicKey,l=o.firstname,c=o.lastname,u=o.phone,h=o.email,p=o.amount,f=o.reference,b=o.metadata,w=o.currency,A=w===void 0?"NGN":w,x=o.channels,E=o.label,S=o.plan,T=o.quantity,B=o.subaccount,V=o.transaction_charge,M=o.bearer,N=o.split,P=o.split_code,O=o.connect_account,k=o.connect_split,j=o.onBankTransferConfirmationPending,L=Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr({onSuccess:i||function(){return null},onCancel:s||function(){return null},key:a,email:h,amount:p},l&&{firstname:l}),c&&{lastname:c}),u&&{phone:u}),f&&{ref:f}),A&&{currency:A}),x&&{channels:x}),b&&{metadata:b}),E&&{label:E}),j&&{onBankTransferConfirmationPending:j}),B&&{subaccount:B}),V&&{transaction_charge:V}),M&&{bearer:M}),N&&{split:N}),P&&{split_code:P}),S&&{plan:S}),T&&{quantity:T}),k&&{connect_split:k}),O&&{connect_account:O});a4e(L)}return e}var CY=D.createContext({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),l4e=function(n){var e=n.children,t=n.onSuccess,r=n.onClose,i=cY(n,["children","onSuccess","onClose"]),s=SY(i);return We.createElement(CY.Provider,{value:{config:i,initializePayment:s,onSuccess:t,onClose:r}},e)},c4e=function(n){var e=n.children,t=n.ref,r=D.useContext(CY),i=r.config,s=r.initializePayment,o=r.onSuccess,a=r.onClose,l=function(){return s({config:i,onSuccess:o,onClose:a})};return e({initializePayment:l,ref:t})};D.forwardRef(function(n,e){var t=n.children,r=n.onSuccess,i=n.onClose,s=cY(n,["children","onSuccess","onClose"]),o=r||function(){return null},a=i||function(){return null};return We.createElement(l4e,Pr({},s,{onSuccess:o,onClose:a}),We.createElement(c4e,{ref:e},t))});/*!
 * react-paypal-js v8.9.2 (2025-10-02T20:17:55.069Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So;(function(n){n.INITIAL="initial",n.PENDING="pending",n.REJECTED="rejected",n.RESOLVED="resolved"})(So||(So={}));var Pf;(function(n){n.LOADING_STATUS="setLoadingStatus",n.RESET_OPTIONS="resetOptions",n.SET_BRAINTREE_INSTANCE="braintreeInstance"})(Pf||(Pf={}));var Bj;(function(n){n.NUMBER="number",n.CVV="cvv",n.EXPIRATION_DATE="expirationDate",n.EXPIRATION_MONTH="expirationMonth",n.EXPIRATION_YEAR="expirationYear",n.POSTAL_CODE="postalCode"})(Bj||(Bj={}));var pi=function(){return pi=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},pi.apply(this,arguments)};function TY(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Uj(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var N5="data-react-paypal-script-id",Fp={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},u4e="Failed to load the PayPal JS SDK script.",NY="paypal",d4e="usePayPalScriptReducer must be used within a PayPalScriptProvider";function h4e(n){return n===void 0&&(n=NY),window[n]}function f4e(n){for(var e="",t=0;t<n.length;t++){var r=n[t].charCodeAt(0)*t;n[t+1]&&(r+=n[t+1].charCodeAt(0)*(t-1)),e+=String.fromCharCode(97+Math.abs(r)%26)}return e}function p4e(n){var e=n.reactComponentName,t=n.sdkComponentKey,r=n.sdkRequestedComponents,i=r===void 0?"":r,s=n.sdkDataNamespace,o=s===void 0?NY:s,a=t.charAt(0).toUpperCase().concat(t.substring(1)),l="Unable to render <".concat(e," /> because window.").concat(o,".").concat(a," is undefined."),c=typeof i=="string"?i:i.join(",");if(!c.includes(t)){var u=[c,t].filter(Boolean).join();l+=`
To fix the issue, add '`.concat(t,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(u,"'}}>`.")}return l}function kY(n){var e=n,t=N5;e[t];var r=TY(e,[t+""]);return"react-paypal-js-".concat(f4e(JSON.stringify(r)))}function m4e(n){var e=self.document.querySelector("script[".concat(N5,'="').concat(n,'"]'));e!=null&&e.parentNode&&e.parentNode.removeChild(e)}function g4e(n,e){var t,r;switch(e.type){case Pf.LOADING_STATUS:return typeof e.value=="object"?pi(pi({},n),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):pi(pi({},n),{loadingStatus:e.value});case Pf.RESET_OPTIONS:return m4e(n.options[N5]),pi(pi({},n),{loadingStatus:So.PENDING,options:pi(pi((t={},t[Fp.DATA_SDK_INTEGRATION_SOURCE]=Fp.DATA_LIBRARY_VALUE,t),e.value),(r={},r[N5]="".concat(kY(e.value)),r))});case Pf.SET_BRAINTREE_INSTANCE:return pi(pi({},n),{braintreePayPalCheckoutInstance:e.value});default:return n}}var IY=D.createContext(null);function v4e(n){if(typeof(n==null?void 0:n.dispatch)=="function"&&n.dispatch.length!==0)return n;throw new Error(d4e)}function y4e(){var n=v4e(D.useContext(IY)),e=pi(pi({},n),{isInitial:n.loadingStatus===So.INITIAL,isPending:n.loadingStatus===So.PENDING,isResolved:n.loadingStatus===So.RESOLVED,isRejected:n.loadingStatus===So.REJECTED});return[e,n.dispatch]}D.createContext({});function w4e(n){var e=D.useRef(new Proxy({},{get:function(t,r,i){return typeof t[r]=="function"?function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return t[r].apply(t,s)}:Reflect.get(t,r,i)}}));return e.current=Object.assign(e.current,n),e.current}var j9=function(n){var e,t=n.className,r=t===void 0?"":t,i=n.disabled,s=i===void 0?!1:i,o=n.children,a=n.forceReRender,l=a===void 0?[]:a,c=TY(n,["className","disabled","children","forceReRender"]),u=s?{opacity:.38}:{},h="".concat(r," ").concat(s?"paypal-buttons-disabled":"").trim(),p=D.useRef(null),f=D.useRef(null),b=w4e(c),w=y4e()[0],A=w.isResolved,x=w.options,E=D.useState(null),S=E[0],T=E[1],B=D.useState(!0),V=B[0],M=B[1],N=D.useState(null),P=N[1];function O(){f.current!==null&&f.current.close().catch(function(){})}return!((e=f.current)===null||e===void 0)&&e.updateProps&&f.current.updateProps({message:c.message}),D.useEffect(function(){if(A===!1)return O;var k=h4e(x.dataNamespace);if(k===void 0||k.Buttons===void 0)return P(function(){throw new Error(p4e({reactComponentName:j9.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:x.components,sdkDataNamespace:x[Fp.DATA_NAMESPACE]}))}),O;var j=function(L,W){T(W),typeof c.onInit=="function"&&c.onInit(L,W)};try{f.current=k.Buttons(pi(pi({},b),{onInit:j}))}catch(L){return P(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(L))})}return f.current.isEligible()===!1?(M(!1),O):(p.current&&f.current.render(p.current).catch(function(L){p.current===null||p.current.children.length===0||P(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(L))})}),O)},Uj(Uj([A],l,!0),[c.fundingSource],!1)),D.useEffect(function(){S!==null&&(s===!0?S.disable().catch(function(){}):S.enable().catch(function(){}))},[s,S]),We.createElement(We.Fragment,null,V?We.createElement("div",{ref:p,style:u,className:h}):o)};j9.displayName="PayPalButtons";function b4e(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function x4e(n,e){var t=document.querySelector('script[src="'.concat(n,'"]'));if(t===null)return null;var r=PY(n,e),i=t.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(r.dataset).length)return null;var s=!0;return Object.keys(i.dataset).forEach(function(o){i.dataset[o]!==r.dataset[o]&&(s=!1)}),s?t:null}function _4e(n){var e=n.url,t=n.attributes,r=n.onSuccess,i=n.onError,s=PY(e,t);s.onerror=i,s.onload=r,document.head.insertBefore(s,document.head.firstElementChild)}function A4e(n){var e=n.sdkBaseUrl,t=n.environment,r=b4e(n,["sdkBaseUrl","environment"]),i=e||C4e(t),s=r,o=Object.keys(s).filter(function(c){return typeof s[c]<"u"&&s[c]!==null&&s[c]!==""}).reduce(function(c,u){var h=s[u].toString();return u=E4e(u),u.substring(0,4)==="data"||u==="crossorigin"?c.attributes[u]=h:c.queryParams[u]=h,c},{queryParams:{},attributes:{}}),a=o.queryParams,l=o.attributes;return a["merchant-id"]&&a["merchant-id"].indexOf(",")!==-1&&(l["data-merchant-id"]=a["merchant-id"],a["merchant-id"]="*"),{url:"".concat(i,"?").concat(S4e(a)),attributes:l}}function E4e(n){var e=function(t,r){return(r?"-":"")+t.toLowerCase()};return n.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function S4e(n){var e="";return Object.keys(n).forEach(function(t){e.length!==0&&(e+="&"),e+=t+"="+n[t]}),e}function C4e(n){return n==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function PY(n,e){e===void 0&&(e={});var t=document.createElement("script");return t.src=n,Object.keys(e).forEach(function(r){t.setAttribute(r,e[r]),r==="data-csp-nonce"&&t.setAttribute("nonce",e["data-csp-nonce"])}),t}function T4e(n,e){if(e===void 0&&(e=Promise),RY(n,e),typeof document>"u")return e.resolve(null);var t=A4e(n),r=t.url,i=t.attributes,s=i["data-namespace"]||"paypal",o=Vj(s);return i["data-js-sdk-library"]||(i["data-js-sdk-library"]="paypal-js"),x4e(r,i)&&o?e.resolve(o):N4e({url:r,attributes:i},e).then(function(){var a=Vj(s);if(a)return a;throw new Error("The window.".concat(s," global variable is not available."))})}function N4e(n,e){e===void 0&&(e=Promise),RY(n,e);var t=n.url,r=n.attributes;if(typeof t!="string"||t.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new e(function(i,s){if(typeof document>"u")return i();_4e({url:t,attributes:r,onSuccess:function(){return i()},onError:function(){var o=new Error('The script "'.concat(t,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return s(o)}})})}function Vj(n){return window[n]}function RY(n,e){if(typeof n!="object"||n===null)throw new Error("Expected an options object.");var t=n.environment;if(t&&t!=="production"&&t!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var k4e=function(n){var e,t=n.options,r=t===void 0?{clientId:"test"}:t,i=n.children,s=n.deferLoading,o=s===void 0?!1:s,a=D.useReducer(g4e,{options:pi(pi({},r),(e={},e[Fp.DATA_JS_SDK_LIBRARY]=Fp.DATA_LIBRARY_VALUE,e[Fp.DATA_SDK_INTEGRATION_SOURCE]=Fp.DATA_LIBRARY_VALUE,e[N5]="".concat(kY(r)),e)),loadingStatus:o?So.INITIAL:So.PENDING}),l=a[0],c=a[1];return D.useEffect(function(){if(o===!1&&l.loadingStatus===So.INITIAL)return c({type:Pf.LOADING_STATUS,value:So.PENDING});if(l.loadingStatus===So.PENDING){var u=!0;return T4e(l.options).then(function(){u&&c({type:Pf.LOADING_STATUS,value:So.RESOLVED})}).catch(function(h){console.error("".concat(u4e," ").concat(h)),u&&c({type:Pf.LOADING_STATUS,value:{state:So.REJECTED,message:String(h)}})}),function(){u=!1}}},[l.options,o,l.loadingStatus]),We.createElement(IY.Provider,{value:pi(pi({},l),{dispatch:c})},i)};function zj(){}D.createContext({cardFieldsForm:null,fields:{},registerField:zj,unregisterField:zj});const I4e=()=>{const[n]=D.useState("user@example.com"),[e]=D.useState(5e3),[t,r]=D.useState(!1),i=window.location.hostname==="e-ndorse.site"||window.location.hostname==="www.e-ndorse.site"||window.location.hostname==="endorse-app.web.app",s={reference:new Date().getTime().toString(),email:n,amount:e,publicKey:i?"pk_live_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx":"pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"},o=SY(s),a=c=>{console.log(c),r(!0)},l=()=>{console.log("Paystack dialog closed")};return t?d.jsxs("div",{className:"container mx-auto p-8 max-w-2xl text-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-green-600 mb-4",children:"Payment Successful!"}),d.jsx("p",{className:"text-xl",children:"The Pro version is now active for this session."})]}):d.jsxs("div",{className:"container mx-auto p-8 max-w-2xl",children:[d.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Checkout"}),d.jsxs("div",{className:"mb-8 p-6 border rounded-lg shadow-sm bg-white",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Pay with Paystack"}),d.jsx("p",{className:"mb-4 text-gray-600",children:"Secure payment for African cards and bank accounts."}),d.jsx("button",{className:"bg-green-600 text-white px-6 py-3 rounded hover:bg-green-700 transition-colors w-full font-medium",onClick:()=>{o({onSuccess:a,onClose:l})},children:"Pay Now (Paystack)"})]}),d.jsxs("div",{className:"p-6 border rounded-lg shadow-sm bg-white",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Pay with PayPal"}),d.jsx("p",{className:"mb-4 text-gray-600",children:"International payments via PayPal balance or cards."}),d.jsxs(k4e,{options:{"client-id":i?"YOUR_PAYPAL_LIVE_CLIENT_ID":"test"},children:[" ",d.jsx(j9,{style:{layout:"horizontal"},createOrder:(c,u)=>u.order.create({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"USD",value:"10.00"}}]}),onApprove:async(c,u)=>{if(u.order){const h=await u.order.capture();console.log("PayPal Success:",h),r(!0)}}})]})]})]})},P4e=()=>(D.useEffect(()=>{window.scrollTo(0,0)},[]),d.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[d.jsx("nav",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur",children:d.jsxs("div",{className:"container flex h-16 items-center justify-between px-4 md:px-6",children:[d.jsx(Ze,{to:"/",className:"flex items-center gap-2",children:d.jsx(so,{className:"h-8 w-auto"})}),d.jsx(Ze,{to:"/",children:d.jsxs(Qe,{variant:"ghost",size:"sm",children:[d.jsx(Zw,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})}),d.jsxs("main",{className:"container max-w-4xl py-12 px-4 md:px-6",children:[d.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Privacy Policy"}),d.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[d.jsxs("p",{className:"text-lg text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Welcome to Endorse. We respect your privacy and are committed to protecting your personal data. This privacy policy will inform you as to how we look after your personal data when you visit our website and tell you about your privacy rights and how the law protects you."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Data We Collect"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may collect, use, store and transfer different kinds of personal data about you which we have grouped together follows:"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Identity Data"})," includes first name, last name, username or similar identifier."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Contact Data"})," includes email address and telephone number."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Technical Data"})," includes internet protocol (IP) address, your login data, browser type and version, time zone setting and location."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Usage Data"})," includes information about how you use our website, products and services."]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. How We Use Your Data"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We will only use your personal data when the law allows us to. Most commonly, we will use your personal data in the following circumstances:"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[d.jsx("li",{children:"Where we need to perform the contract we are about to enter into or have entered into with you."}),d.jsx("li",{children:"Where it is necessary for our legitimate interests (or those of a third party) and your interests and fundamental rights do not override those interests."}),d.jsx("li",{children:"Where we need to comply with a legal or regulatory obligation."})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Data Security"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We have put in place appropriate security measures to prevent your personal data from being accidentally lost, used or accessed in an unauthorized way, altered or disclosed. In addition, we limit access to your personal data to those employees, agents, contractors and other third parties who have a business need to know."})]})]})]}),d.jsx("footer",{className:"border-t border-border mt-12",children:d.jsxs("div",{className:"container py-8 px-4 md:px-6 text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Endorse. All rights reserved."]})})]})),R4e=()=>(D.useEffect(()=>{window.scrollTo(0,0)},[]),d.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[d.jsx("nav",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur",children:d.jsxs("div",{className:"container flex h-16 items-center justify-between px-4 md:px-6",children:[d.jsx(Ze,{to:"/",className:"flex items-center gap-2",children:d.jsx(so,{className:"h-8 w-auto"})}),d.jsx(Ze,{to:"/",children:d.jsxs(Qe,{variant:"ghost",size:"sm",children:[d.jsx(Zw,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})}),d.jsxs("main",{className:"container max-w-4xl py-12 px-4 md:px-6",children:[d.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms of Service"}),d.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[d.jsxs("p",{className:"text-lg text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Acceptance of Terms"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"By accessing and using Endorse, you accept and agree to be bound by the terms and provision of this agreement. In addition, when using these particular services, you shall be subject to any posted guidelines or rules applicable to such services."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Use License"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Permission is granted to temporarily download one copy of the materials (information or software) on Endorse's website for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[d.jsx("li",{children:"modify or copy the materials;"}),d.jsx("li",{children:"use the materials for any commercial purpose, or for any public display (commercial or non-commercial);"}),d.jsx("li",{children:"attempt to decompile or reverse engineer any software contained on Endorse's website;"}),d.jsx("li",{children:"remove any copyright or other proprietary notations from the materials; or"}),d.jsx("li",{children:'transfer the materials to another person or "mirror" the materials on any other server.'})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Disclaimer"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The materials on Endorse's website are provided on an 'as is' basis. Endorse makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Limitations"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"In no event shall Endorse or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on Endorse's website, even if Endorse or a Endorse authorized representative has been notified orally or in writing of the possibility of such damage."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Governing Law"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"These terms and conditions are governed by and construed in accordance with the laws and you irrevocably submit to the exclusive jurisdiction of the courts in that location."})]})]})]}),d.jsx("footer",{className:"border-t border-border mt-12",children:d.jsxs("div",{className:"container py-8 px-4 md:px-6 text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Endorse. All rights reserved."]})})]})),L4e=()=>(D.useEffect(()=>{window.scrollTo(0,0)},[]),d.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[d.jsx("nav",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur",children:d.jsxs("div",{className:"container flex h-16 items-center justify-between px-4 md:px-6",children:[d.jsx(Ze,{to:"/",className:"flex items-center gap-2",children:d.jsx(so,{className:"h-8 w-auto"})}),d.jsx(Ze,{to:"/",children:d.jsxs(Qe,{variant:"ghost",size:"sm",children:[d.jsx(Zw,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})}),d.jsxs("main",{className:"container max-w-4xl py-12 px-4 md:px-6",children:[d.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Cookie Policy"}),d.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[d.jsxs("p",{className:"text-lg text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. What Are Cookies"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"As is common practice with almost all professional websites, this site uses cookies, which are tiny files that are downloaded to your computer, to improve your experience. This page describes what information they gather, how we use it, and why we sometimes need to store these cookies."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. How We Use Cookies"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We use cookies for a variety of reasons detailed below. Unfortunately, in most cases, there are no industry standard options for disabling cookies without completely disabling the functionality and features they add to this site."}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Account related cookies:"})," If you create an account with us, we will use cookies for the management of the signup process and general administration."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Login related cookies:"})," We use cookies when you are logged in so that we can remember this fact. This prevents you from having to log in every single time you visit a new page."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Forms related cookies:"})," When you submit data to through a form such as those found on contact pages or comment forms cookies may be set to remember your user details for future correspondence."]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Third Party Cookies"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"In some special cases we also use cookies provided by trusted third parties. The following section details which third party cookies you might encounter through this site."}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mt-4",children:[d.jsx("li",{children:"This site uses Google Analytics which is one of the most widespread and trusted analytics solutions on the web for helping us to understand how you use the site and ways that we can improve your experience."}),d.jsx("li",{children:"We also use social media buttons and/or plugins on this site that allow you to connect with your social network in various ways."})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Disabling Cookies"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You can prevent the setting of cookies by adjusting the settings on your browser (see your browser Help for how to do this). Be aware that disabling cookies will affect the functionality of this and many other websites that you visit."})]})]})]}),d.jsx("footer",{className:"border-t border-border mt-12",children:d.jsxs("div",{className:"container py-8 px-4 md:px-6 text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Endorse. All rights reserved."]})})]})),M4e=[{id:"word-to-pdf",title:"Word to PDF",description:"Convert DOC and DOCX files to PDF instantly.",icon:Qs,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"group-hover:border-blue-200",accept:".doc,.docx",targetFormat:"pdf"},{id:"pdf-to-word",title:"PDF to Word",description:"Turn your PDF files into editable Word documents.",icon:Jm,color:"text-red-600",bgColor:"bg-red-50",borderColor:"group-hover:border-red-200",accept:".pdf",targetFormat:"docx"},{id:"image-to-pdf",title:"Image to PDF",description:"Convert JPG and PNG images to PDF format.",icon:zB,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"group-hover:border-purple-200",accept:".jpg,.jpeg,.png",targetFormat:"pdf"},{id:"pdf-to-image",title:"PDF to Image",description:"Extract pages from your PDF as high-quality images.",icon:ZZ,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"group-hover:border-orange-200",accept:".pdf",targetFormat:"jpg"}],D4e=()=>{const[n,e]=D.useState(null),[t,r]=D.useState(null),[i,s]=D.useState(!1),[o,a]=D.useState(!1),[l,c]=D.useState(!1),u=E=>{e(E),r(null),c(!1),s(!1)},h=()=>{e(null),r(null),c(!1),s(!1)},p=E=>{E.target.files&&E.target.files[0]&&(r(E.target.files[0]),c(!1))},f=E=>{E.preventDefault(),s(!0)},b=E=>{E.preventDefault(),s(!1)},w=E=>{E.preventDefault(),s(!1),E.dataTransfer.files&&E.dataTransfer.files[0]&&(r(E.dataTransfer.files[0]),c(!1))},A=async()=>{if(!t||!n){xt.error("Please select a file.");return}a(!0);try{await new Promise(E=>setTimeout(E,2e3)),c(!0),xt.success(`Successfully converted to ${n.targetFormat.toUpperCase()}`)}catch{xt.error("Conversion failed. Please try again.")}finally{a(!1)}},x=()=>{r(null),c(!1),s(!1)};return d.jsxs("div",{className:"min-h-screen bg-background font-sans flex flex-col",children:[d.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur",children:d.jsxs("div",{className:"container flex h-16 items-center justify-between px-4 md:px-6",children:[d.jsx(Ze,{to:"/",className:"flex items-center gap-2",children:d.jsx(so,{className:"h-8 w-auto"})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(Ze,{to:"/dashboard",children:d.jsx(Qe,{variant:"ghost",children:"Dashboard"})}),d.jsx(Ze,{to:"/auth",children:d.jsx(Qe,{children:"Sign In"})})]})]})}),d.jsx("main",{className:"flex-1",children:n?d.jsxs("div",{className:"container max-w-4xl mx-auto py-12 px-4 md:px-6 animate-in fade-in zoom-in-95 duration-300",children:[d.jsxs(Qe,{variant:"ghost",onClick:h,className:"mb-8 hover:bg-transparent pl-0 hover:text-primary",children:[d.jsx(Zw,{className:"w-4 h-4 mr-2"}),"Back to Tools"]}),d.jsxs("div",{className:"text-center mb-10",children:[d.jsxs("h2",{className:"text-3xl font-bold mb-2 flex items-center justify-center gap-3",children:[d.jsx(n.icon,{className:`w-8 h-8 ${n.color}`}),n.title]}),d.jsx("p",{className:"text-muted-foreground",children:n.description})]}),d.jsxs(xc,{className:"border-2 border-dashed border-border shadow-2xl bg-card/50 backdrop-blur-sm overflow-hidden relative",children:[d.jsx("div",{className:`absolute inset-0 ${n.bgColor} opacity-5 pointer-events-none`}),d.jsx(_c,{className:"p-8 md:p-16 flex flex-col items-center justify-center gap-8 min-h-[400px]",children:t?d.jsxs("div",{className:"w-full max-w-md space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 bg-background rounded-xl border border-border shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`p-3 ${n.bgColor} rounded-lg`,children:d.jsx(n.icon,{className:`w-6 h-6 ${n.color}`})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"font-medium truncate max-w-[200px]",children:t.name}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[(t.size/1024/1024).toFixed(2)," MB"]})]})]}),d.jsx(Qe,{variant:"ghost",size:"icon",onClick:x,disabled:o,children:d.jsx(Xa,{className:"w-4 h-4"})})]}),l?d.jsxs("div",{className:"flex flex-col gap-4 animate-in fade-in slide-in-from-bottom-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-green-600 justify-center font-medium p-4 bg-green-50 rounded-xl border border-green-100",children:[d.jsx(Ka,{className:"w-5 h-5"})," Conversion Complete"]}),d.jsxs(Qe,{className:"w-full h-14 text-lg font-semibold",size:"lg",children:[d.jsx(bN,{className:"w-4 h-4 mr-2"})," Download ",n.targetFormat.toUpperCase()]}),d.jsx(Qe,{variant:"ghost",onClick:x,children:"Convert Another File"})]}):d.jsxs(Qe,{size:"lg",className:"w-full h-14 text-lg bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90 shadow-lg shadow-orange-500/10",onClick:A,disabled:o,children:[o?d.jsx(Ya,{className:"w-5 h-5 mr-2 animate-spin"}):d.jsx(M3,{className:"w-5 h-5 mr-2"}),"Convert to ",n.targetFormat.toUpperCase()]})]}):d.jsx("div",{className:`w-full flex flex-col items-center justify-center p-10 rounded-3xl transition-all duration-300 border-2 border-dashed ${i?"border-primary bg-primary/5 scale-[1.02]":"border-transparent"}`,onDragOver:f,onDragLeave:b,onDrop:w,children:d.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-6 group w-full",children:[d.jsx("div",{className:`w-24 h-24 ${n.bgColor} rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300 shadow-sm`,children:d.jsx(Ky,{className:`w-10 h-10 ${n.color}`})}),d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("p",{className:"text-xl font-semibold group-hover:text-primary transition-colors",children:"Drag & Drop or Click to Upload"}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Supported files: ",d.jsx("span",{className:"font-mono bg-secondary px-1 rounded",children:n.accept.replace(/,/g,", ")})]})]}),d.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:p,accept:n.accept})]})})})]})]}):d.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[d.jsxs("div",{className:"relative py-20 px-4 md:px-6 overflow-hidden bg-gradient-to-b from-secondary/30 to-background",children:[d.jsx("div",{className:"absolute inset-0 -z-10 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),d.jsxs("div",{className:"container max-w-4xl mx-auto text-center",children:[d.jsxs("div",{className:"inline-flex items-center justify-center px-4 py-1.5 mb-6 rounded-full bg-primary/10 text-primary text-sm font-medium border border-primary/20 shadow-sm",children:[d.jsx(fee,{className:"w-4 h-4 mr-2"}),d.jsx("span",{children:"Professional Document Tools"})]}),d.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-6 text-foreground",children:["Convert Documents ",d.jsx("br",{className:"hidden sm:block"}),d.jsx("span",{className:"text-primary",children:"With Confidence"})]}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Secure, fast, and enterprise-grade conversion tools for all your document needs. No registration required for basic tasks."})]})]}),d.jsx("div",{className:"container max-w-6xl mx-auto px-4 md:px-6 -mt-8 grid md:grid-cols-2 lg:grid-cols-2 gap-6",children:M4e.map(E=>d.jsxs("div",{onClick:()=>u(E),className:`group relative bg-card p-8 rounded-2xl border border-border shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer overflow-hidden ${E.borderColor}`,children:[d.jsx("div",{className:`absolute top-0 right-0 p-20 ${E.bgColor} rounded-bl-full opacity-0 group-hover:opacity-20 transition-opacity duration-500`}),d.jsxs("div",{className:"relative z-10 flex items-start gap-6",children:[d.jsx("div",{className:`p-4 rounded-xl ${E.bgColor} ${E.color} group-hover:scale-110 transition-transform duration-300`,children:d.jsx(E.icon,{className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-foreground mb-2 group-hover:text-primary transition-colors",children:E.title}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:E.description})]})]}),d.jsx("div",{className:"absolute bottom-6 right-6 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-x-2 group-hover:translate-x-0",children:d.jsx(M3,{className:`w-6 h-6 ${E.color}`})})]},E.id))}),d.jsx("div",{className:"container max-w-6xl mx-auto px-4 md:px-6 mt-24",children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-center max-w-4xl mx-auto",children:[d.jsxs("div",{className:"p-6 rounded-2xl bg-secondary/20 border border-border/50",children:[d.jsx("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:d.jsx(WB,{className:"w-6 h-6"})}),d.jsx("h3",{className:"font-bold text-lg mb-2",children:"Lightning Fast"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Our cloud servers process your documents in seconds, not minutes."})]}),d.jsxs("div",{className:"p-6 rounded-2xl bg-secondary/20 border border-border/50",children:[d.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:d.jsx(Ka,{className:"w-6 h-6"})}),d.jsx("h3",{className:"font-bold text-lg mb-2",children:"High Quality"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"We preserve your document formatting, images, and layout perfectly."})]})]})})]})})]})},j4e=new Ure,O4e=()=>d.jsx(zre,{client:j4e,children:d.jsxs(gre,{children:[d.jsx(Jee,{}),d.jsx(Ite,{}),d.jsx(qie,{children:d.jsxs(jie,{children:[d.jsx(vo,{path:"/",element:d.jsx(r1e,{})}),d.jsx(vo,{path:"/auth",element:d.jsx(o1e,{})}),d.jsx(vo,{path:"/blog",element:d.jsx(Lxe,{})}),d.jsx(vo,{path:"/about",element:d.jsx(Dxe,{})}),d.jsx(vo,{path:"/payment",element:d.jsx(I4e,{})}),d.jsx(vo,{path:"/privacy",element:d.jsx(P4e,{})}),d.jsx(vo,{path:"/terms",element:d.jsx(R4e,{})}),d.jsx(vo,{path:"/cookie-policy",element:d.jsx(L4e,{})}),d.jsx(vo,{path:"/conversion",element:d.jsx(D4e,{})}),d.jsxs(vo,{element:d.jsx(Jye,{}),children:[d.jsx(vo,{path:"/dashboard",element:d.jsx(Xye,{})}),d.jsx(vo,{path:"/sign/:id",element:d.jsx(Rxe,{})})]}),d.jsx(vo,{path:"*",element:d.jsx(Qye,{})})]})})]})});hB(document.getElementById("root")).render(d.jsx(t1e,{children:d.jsx(O4e,{})}));export{Bn as _,wX as c,C2 as g};
