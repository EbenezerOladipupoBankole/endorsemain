var dY=Object.defineProperty;var e6=n=>{throw TypeError(n)};var hY=(n,e,t)=>e in n?dY(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var rt=(n,e,t)=>hY(n,typeof e!="symbol"?e+"":e,t),xN=(n,e,t)=>e.has(n)||e6("Cannot "+t);var m=(n,e,t)=>(xN(n,e,"read from private field"),t?t.call(n):e.get(n)),K=(n,e,t)=>e.has(n)?e6("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),z=(n,e,t,r)=>(xN(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),W=(n,e,t)=>(xN(n,e,"access private method"),t);var Ii=(n,e,t,r)=>({set _(i){z(n,e,i,t)},get _(){return m(n,e,r)}});function fY(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var pY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var m8={exports:{}},LE={},g8={exports:{}},un={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2=Symbol.for("react.element"),mY=Symbol.for("react.portal"),gY=Symbol.for("react.fragment"),vY=Symbol.for("react.strict_mode"),yY=Symbol.for("react.profiler"),wY=Symbol.for("react.provider"),bY=Symbol.for("react.context"),xY=Symbol.for("react.forward_ref"),_Y=Symbol.for("react.suspense"),AY=Symbol.for("react.memo"),EY=Symbol.for("react.lazy"),t6=Symbol.iterator;function SY(n){return n===null||typeof n!="object"?null:(n=t6&&n[t6]||n["@@iterator"],typeof n=="function"?n:null)}var v8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y8=Object.assign,w8={};function y1(n,e,t){this.props=n,this.context=e,this.refs=w8,this.updater=t||v8}y1.prototype.isReactComponent={};y1.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};y1.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function b8(){}b8.prototype=y1.prototype;function YP(n,e,t){this.props=n,this.context=e,this.refs=w8,this.updater=t||v8}var XP=YP.prototype=new b8;XP.constructor=YP;y8(XP,y1.prototype);XP.isPureReactComponent=!0;var n6=Array.isArray,x8=Object.prototype.hasOwnProperty,QP={current:null},_8={key:!0,ref:!0,__self:!0,__source:!0};function A8(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)x8.call(e,r)&&!_8.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:U2,type:n,key:s,ref:o,props:i,_owner:QP.current}}function NY(n,e){return{$$typeof:U2,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function JP(n){return typeof n=="object"&&n!==null&&n.$$typeof===U2}function CY(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var r6=/\/+/g;function _N(n,e){return typeof n=="object"&&n!==null&&n.key!=null?CY(""+n.key):e.toString(36)}function H_(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case U2:case mY:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+_N(o,0):r,n6(i)?(t="",n!=null&&(t=n.replace(r6,"$&/")+"/"),H_(i,e,t,"",function(c){return c})):i!=null&&(JP(i)&&(i=NY(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(r6,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",n6(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+_N(s,a);o+=H_(s,e,t,l,i)}else if(l=SY(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+_N(s,a++),o+=H_(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hx(n,e,t){if(n==null)return n;var r=[],i=0;return H_(n,r,"","",function(s){return e.call(t,s,i++)}),r}function TY(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var io={current:null},q_={transition:null},kY={ReactCurrentDispatcher:io,ReactCurrentBatchConfig:q_,ReactCurrentOwner:QP};function E8(){throw Error("act(...) is not supported in production builds of React.")}un.Children={map:Hx,forEach:function(n,e,t){Hx(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Hx(n,function(){e++}),e},toArray:function(n){return Hx(n,function(e){return e})||[]},only:function(n){if(!JP(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};un.Component=y1;un.Fragment=gY;un.Profiler=yY;un.PureComponent=YP;un.StrictMode=vY;un.Suspense=_Y;un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kY;un.act=E8;un.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=y8({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=QP.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)x8.call(e,l)&&!_8.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:U2,type:n.type,key:i,ref:s,props:r,_owner:o}};un.createContext=function(n){return n={$$typeof:bY,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:wY,_context:n},n.Consumer=n};un.createElement=A8;un.createFactory=function(n){var e=A8.bind(null,n);return e.type=n,e};un.createRef=function(){return{current:null}};un.forwardRef=function(n){return{$$typeof:xY,render:n}};un.isValidElement=JP;un.lazy=function(n){return{$$typeof:EY,_payload:{_status:-1,_result:n},_init:TY}};un.memo=function(n,e){return{$$typeof:AY,type:n,compare:e===void 0?null:e}};un.startTransition=function(n){var e=q_.transition;q_.transition={};try{n()}finally{q_.transition=e}};un.unstable_act=E8;un.useCallback=function(n,e){return io.current.useCallback(n,e)};un.useContext=function(n){return io.current.useContext(n)};un.useDebugValue=function(){};un.useDeferredValue=function(n){return io.current.useDeferredValue(n)};un.useEffect=function(n,e){return io.current.useEffect(n,e)};un.useId=function(){return io.current.useId()};un.useImperativeHandle=function(n,e,t){return io.current.useImperativeHandle(n,e,t)};un.useInsertionEffect=function(n,e){return io.current.useInsertionEffect(n,e)};un.useLayoutEffect=function(n,e){return io.current.useLayoutEffect(n,e)};un.useMemo=function(n,e){return io.current.useMemo(n,e)};un.useReducer=function(n,e,t){return io.current.useReducer(n,e,t)};un.useRef=function(n){return io.current.useRef(n)};un.useState=function(n){return io.current.useState(n)};un.useSyncExternalStore=function(n,e,t){return io.current.useSyncExternalStore(n,e,t)};un.useTransition=function(){return io.current.useTransition()};un.version="18.3.1";g8.exports=un;var D=g8.exports;const Ye=v1(D),ZP=fY({__proto__:null,default:Ye},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IY=D,PY=Symbol.for("react.element"),RY=Symbol.for("react.fragment"),LY=Object.prototype.hasOwnProperty,DY=IY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MY={key:!0,ref:!0,__self:!0,__source:!0};function S8(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LY.call(e,r)&&!MY.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:PY,type:n,key:s,ref:o,props:i,_owner:DY.current}}LE.Fragment=RY;LE.jsx=S8;LE.jsxs=S8;m8.exports=LE;var d=m8.exports,N8={exports:{}},ba={},C8={exports:{}},T8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(Q,ne){var ge=Q.length;Q.push(ne);e:for(;0<ge;){var pe=ge-1>>>1,U=Q[pe];if(0<i(U,ne))Q[pe]=ne,Q[ge]=U,ge=pe;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ne=Q[0],ge=Q.pop();if(ge!==ne){Q[0]=ge;e:for(var pe=0,U=Q.length,Y=U>>>1;pe<Y;){var re=2*(pe+1)-1,le=Q[re],he=re+1,ue=Q[he];if(0>i(le,ge))he<U&&0>i(ue,le)?(Q[pe]=ue,Q[he]=ge,pe=he):(Q[pe]=le,Q[re]=ge,pe=re);else if(he<U&&0>i(ue,ge))Q[pe]=ue,Q[he]=ge,pe=he;else break e}}return ne}function i(Q,ne){var ge=Q.sortIndex-ne.sortIndex;return ge!==0?ge:Q.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,f=!1,w=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Q){for(var ne=t(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=Q)r(c),ne.sortIndex=ne.expirationTime,e(l,ne);else break;ne=t(c)}}function N(Q){if(y=!1,E(Q),!w)if(t(l)!==null)w=!0,de(F);else{var ne=t(c);ne!==null&&ae(N,ne.startTime-Q)}}function F(Q,ne){w=!1,y&&(y=!1,b(C),C=-1),f=!0;var ge=p;try{for(E(ne),h=t(l);h!==null&&(!(h.expirationTime>ne)||Q&&!T());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,p=h.priorityLevel;var U=pe(h.expirationTime<=ne);ne=n.unstable_now(),typeof U=="function"?h.callback=U:h===t(l)&&r(l),E(ne)}else r(l);h=t(l)}if(h!==null)var Y=!0;else{var re=t(c);re!==null&&ae(N,re.startTime-ne),Y=!1}return Y}finally{h=null,p=ge,f=!1}}var V=!1,L=null,C=-1,k=5,j=-1;function T(){return!(n.unstable_now()-j<k)}function M(){if(L!==null){var Q=n.unstable_now();j=Q;var ne=!0;try{ne=L(!0,Q)}finally{ne?R():(V=!1,L=null)}}else V=!1}var R;if(typeof A=="function")R=function(){A(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ce=q.port2;q.port1.onmessage=M,R=function(){ce.postMessage(null)}}else R=function(){_(M,0)};function de(Q){L=Q,V||(V=!0,R())}function ae(Q,ne){C=_(function(){Q(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){w||f||(w=!0,de(F))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(Q){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var ge=p;p=ne;try{return Q()}finally{p=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,ne){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=p;p=Q;try{return ne()}finally{p=ge}},n.unstable_scheduleCallback=function(Q,ne,ge){var pe=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?pe+ge:pe):ge=pe,Q){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ge+U,Q={id:u++,callback:ne,priorityLevel:Q,startTime:ge,expirationTime:U,sortIndex:-1},ge>pe?(Q.sortIndex=ge,e(c,Q),t(l)===null&&Q===t(c)&&(y?(b(C),C=-1):y=!0,ae(N,ge-pe))):(Q.sortIndex=U,e(l,Q),w||f||(w=!0,de(F))),Q},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(Q){var ne=p;return function(){var ge=p;p=ne;try{return Q.apply(this,arguments)}finally{p=ge}}}})(T8);C8.exports=T8;var jY=C8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OY=D,ya=jY;function He(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k8=new Set,Ew={};function cg(n,e){qv(n,e),qv(n+"Capture",e)}function qv(n,e){for(Ew[n]=e,n=0;n<e.length;n++)k8.add(e[n])}var wd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dT=Object.prototype.hasOwnProperty,FY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i6={},s6={};function BY(n){return dT.call(s6,n)?!0:dT.call(i6,n)?!1:FY.test(n)?s6[n]=!0:(i6[n]=!0,!1)}function UY(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function VY(n,e,t,r){if(e===null||typeof e>"u"||UY(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function so(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var as={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){as[n]=new so(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];as[e]=new so(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){as[n]=new so(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){as[n]=new so(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){as[n]=new so(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){as[n]=new so(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){as[n]=new so(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){as[n]=new so(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){as[n]=new so(n,5,!1,n.toLowerCase(),null,!1,!1)});var e4=/[\-:]([a-z])/g;function t4(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(e4,t4);as[e]=new so(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(e4,t4);as[e]=new so(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(e4,t4);as[e]=new so(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){as[n]=new so(n,1,!1,n.toLowerCase(),null,!1,!1)});as.xlinkHref=new so("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){as[n]=new so(n,1,!1,n.toLowerCase(),null,!0,!0)});function n4(n,e,t,r){var i=as.hasOwnProperty(e)?as[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VY(e,t,i,r)&&(t=null),r||i===null?BY(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ld=OY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qx=Symbol.for("react.element"),t0=Symbol.for("react.portal"),n0=Symbol.for("react.fragment"),r4=Symbol.for("react.strict_mode"),hT=Symbol.for("react.profiler"),I8=Symbol.for("react.provider"),P8=Symbol.for("react.context"),i4=Symbol.for("react.forward_ref"),fT=Symbol.for("react.suspense"),pT=Symbol.for("react.suspense_list"),s4=Symbol.for("react.memo"),fh=Symbol.for("react.lazy"),R8=Symbol.for("react.offscreen"),o6=Symbol.iterator;function sy(n){return n===null||typeof n!="object"?null:(n=o6&&n[o6]||n["@@iterator"],typeof n=="function"?n:null)}var Dr=Object.assign,AN;function Sy(n){if(AN===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);AN=e&&e[1]||""}return`
`+AN+n}var EN=!1;function SN(n,e){if(!n||EN)return"";EN=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{EN=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Sy(n):""}function zY(n){switch(n.tag){case 5:return Sy(n.type);case 16:return Sy("Lazy");case 13:return Sy("Suspense");case 19:return Sy("SuspenseList");case 0:case 2:case 15:return n=SN(n.type,!1),n;case 11:return n=SN(n.type.render,!1),n;case 1:return n=SN(n.type,!0),n;default:return""}}function mT(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case n0:return"Fragment";case t0:return"Portal";case hT:return"Profiler";case r4:return"StrictMode";case fT:return"Suspense";case pT:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case P8:return(n.displayName||"Context")+".Consumer";case I8:return(n._context.displayName||"Context")+".Provider";case i4:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case s4:return e=n.displayName||null,e!==null?e:mT(n.type)||"Memo";case fh:e=n._payload,n=n._init;try{return mT(n(e))}catch{}}return null}function $Y(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mT(e);case 8:return e===r4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ef(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function L8(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HY(n){var e=L8(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Wx(n){n._valueTracker||(n._valueTracker=HY(n))}function D8(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=L8(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function nA(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function gT(n,e){var t=e.checked;return Dr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function a6(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Ef(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function M8(n,e){e=e.checked,e!=null&&n4(n,"checked",e,!1)}function vT(n,e){M8(n,e);var t=Ef(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?yT(n,e.type,t):e.hasOwnProperty("defaultValue")&&yT(n,e.type,Ef(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function l6(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function yT(n,e,t){(e!=="number"||nA(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Ny=Array.isArray;function g0(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Ef(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function wT(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(He(91));return Dr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function c6(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(He(92));if(Ny(t)){if(1<t.length)throw Error(He(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ef(t)}}function j8(n,e){var t=Ef(e.value),r=Ef(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function u6(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function O8(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bT(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?O8(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Gx,F8=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Gx=Gx||document.createElement("div"),Gx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gx.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Sw(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ew={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qY=["Webkit","ms","Moz","O"];Object.keys(ew).forEach(function(n){qY.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ew[e]=ew[n]})});function B8(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ew.hasOwnProperty(n)&&ew[n]?(""+e).trim():e+"px"}function U8(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=B8(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var WY=Dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xT(n,e){if(e){if(WY[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(He(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(He(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(He(61))}if(e.style!=null&&typeof e.style!="object")throw Error(He(62))}}function _T(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AT=null;function o4(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ET=null,v0=null,y0=null;function d6(n){if(n=$2(n)){if(typeof ET!="function")throw Error(He(280));var e=n.stateNode;e&&(e=FE(e),ET(n.stateNode,n.type,e))}}function V8(n){v0?y0?y0.push(n):y0=[n]:v0=n}function z8(){if(v0){var n=v0,e=y0;if(y0=v0=null,d6(n),e)for(n=0;n<e.length;n++)d6(e[n])}}function $8(n,e){return n(e)}function H8(){}var NN=!1;function q8(n,e,t){if(NN)return n(e,t);NN=!0;try{return $8(n,e,t)}finally{NN=!1,(v0!==null||y0!==null)&&(H8(),z8())}}function Nw(n,e){var t=n.stateNode;if(t===null)return null;var r=FE(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(He(231,e,typeof t));return t}var ST=!1;if(wd)try{var oy={};Object.defineProperty(oy,"passive",{get:function(){ST=!0}}),window.addEventListener("test",oy,oy),window.removeEventListener("test",oy,oy)}catch{ST=!1}function GY(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var tw=!1,rA=null,iA=!1,NT=null,KY={onError:function(n){tw=!0,rA=n}};function YY(n,e,t,r,i,s,o,a,l){tw=!1,rA=null,GY.apply(KY,arguments)}function XY(n,e,t,r,i,s,o,a,l){if(YY.apply(this,arguments),tw){if(tw){var c=rA;tw=!1,rA=null}else throw Error(He(198));iA||(iA=!0,NT=c)}}function ug(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function W8(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function h6(n){if(ug(n)!==n)throw Error(He(188))}function QY(n){var e=n.alternate;if(!e){if(e=ug(n),e===null)throw Error(He(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return h6(i),n;if(s===r)return h6(i),e;s=s.sibling}throw Error(He(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(He(189))}}if(t.alternate!==r)throw Error(He(190))}if(t.tag!==3)throw Error(He(188));return t.stateNode.current===t?n:e}function G8(n){return n=QY(n),n!==null?K8(n):null}function K8(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=K8(n);if(e!==null)return e;n=n.sibling}return null}var Y8=ya.unstable_scheduleCallback,f6=ya.unstable_cancelCallback,JY=ya.unstable_shouldYield,ZY=ya.unstable_requestPaint,Jr=ya.unstable_now,eX=ya.unstable_getCurrentPriorityLevel,a4=ya.unstable_ImmediatePriority,X8=ya.unstable_UserBlockingPriority,sA=ya.unstable_NormalPriority,tX=ya.unstable_LowPriority,Q8=ya.unstable_IdlePriority,DE=null,Hc=null;function nX(n){if(Hc&&typeof Hc.onCommitFiberRoot=="function")try{Hc.onCommitFiberRoot(DE,n,void 0,(n.current.flags&128)===128)}catch{}}var Ul=Math.clz32?Math.clz32:sX,rX=Math.log,iX=Math.LN2;function sX(n){return n>>>=0,n===0?32:31-(rX(n)/iX|0)|0}var Kx=64,Yx=4194304;function Cy(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function oA(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Cy(a):(s&=o,s!==0&&(r=Cy(s)))}else o=t&~i,o!==0?r=Cy(o):s!==0&&(r=Cy(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ul(e),i=1<<t,r|=n[t],e&=~i;return r}function oX(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aX(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ul(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=oX(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function CT(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function J8(){var n=Kx;return Kx<<=1,!(Kx&4194240)&&(Kx=64),n}function CN(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function V2(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ul(e),n[e]=t}function lX(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Ul(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function l4(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Ul(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Hn=0;function Z8(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var e7,c4,t7,n7,r7,TT=!1,Xx=[],cf=null,uf=null,df=null,Cw=new Map,Tw=new Map,mh=[],cX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p6(n,e){switch(n){case"focusin":case"focusout":cf=null;break;case"dragenter":case"dragleave":uf=null;break;case"mouseover":case"mouseout":df=null;break;case"pointerover":case"pointerout":Cw.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tw.delete(e.pointerId)}}function ay(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=$2(e),e!==null&&c4(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function uX(n,e,t,r,i){switch(e){case"focusin":return cf=ay(cf,n,e,t,r,i),!0;case"dragenter":return uf=ay(uf,n,e,t,r,i),!0;case"mouseover":return df=ay(df,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Cw.set(s,ay(Cw.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tw.set(s,ay(Tw.get(s)||null,n,e,t,r,i)),!0}return!1}function i7(n){var e=xp(n.target);if(e!==null){var t=ug(e);if(t!==null){if(e=t.tag,e===13){if(e=W8(t),e!==null){n.blockedOn=e,r7(n.priority,function(){t7(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function W_(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=kT(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);AT=r,t.target.dispatchEvent(r),AT=null}else return e=$2(t),e!==null&&c4(e),n.blockedOn=t,!1;e.shift()}return!0}function m6(n,e,t){W_(n)&&t.delete(e)}function dX(){TT=!1,cf!==null&&W_(cf)&&(cf=null),uf!==null&&W_(uf)&&(uf=null),df!==null&&W_(df)&&(df=null),Cw.forEach(m6),Tw.forEach(m6)}function ly(n,e){n.blockedOn===e&&(n.blockedOn=null,TT||(TT=!0,ya.unstable_scheduleCallback(ya.unstable_NormalPriority,dX)))}function kw(n){function e(i){return ly(i,n)}if(0<Xx.length){ly(Xx[0],n);for(var t=1;t<Xx.length;t++){var r=Xx[t];r.blockedOn===n&&(r.blockedOn=null)}}for(cf!==null&&ly(cf,n),uf!==null&&ly(uf,n),df!==null&&ly(df,n),Cw.forEach(e),Tw.forEach(e),t=0;t<mh.length;t++)r=mh[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<mh.length&&(t=mh[0],t.blockedOn===null);)i7(t),t.blockedOn===null&&mh.shift()}var w0=Ld.ReactCurrentBatchConfig,aA=!0;function hX(n,e,t,r){var i=Hn,s=w0.transition;w0.transition=null;try{Hn=1,u4(n,e,t,r)}finally{Hn=i,w0.transition=s}}function fX(n,e,t,r){var i=Hn,s=w0.transition;w0.transition=null;try{Hn=4,u4(n,e,t,r)}finally{Hn=i,w0.transition=s}}function u4(n,e,t,r){if(aA){var i=kT(n,e,t,r);if(i===null)ON(n,e,r,lA,t),p6(n,r);else if(uX(i,n,e,t,r))r.stopPropagation();else if(p6(n,r),e&4&&-1<cX.indexOf(n)){for(;i!==null;){var s=$2(i);if(s!==null&&e7(s),s=kT(n,e,t,r),s===null&&ON(n,e,r,lA,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else ON(n,e,r,null,t)}}var lA=null;function kT(n,e,t,r){if(lA=null,n=o4(r),n=xp(n),n!==null)if(e=ug(n),e===null)n=null;else if(t=e.tag,t===13){if(n=W8(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return lA=n,null}function s7(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eX()){case a4:return 1;case X8:return 4;case sA:case tX:return 16;case Q8:return 536870912;default:return 16}default:return 16}}var ef=null,d4=null,G_=null;function o7(){if(G_)return G_;var n,e=d4,t=e.length,r,i="value"in ef?ef.value:ef.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return G_=i.slice(n,1<r?1-r:void 0)}function K_(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Qx(){return!0}function g6(){return!1}function xa(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qx:g6,this.isPropagationStopped=g6,this}return Dr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Qx)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Qx)},persist:function(){},isPersistent:Qx}),e}var w1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h4=xa(w1),z2=Dr({},w1,{view:0,detail:0}),pX=xa(z2),TN,kN,cy,ME=Dr({},z2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f4,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==cy&&(cy&&n.type==="mousemove"?(TN=n.screenX-cy.screenX,kN=n.screenY-cy.screenY):kN=TN=0,cy=n),TN)},movementY:function(n){return"movementY"in n?n.movementY:kN}}),v6=xa(ME),mX=Dr({},ME,{dataTransfer:0}),gX=xa(mX),vX=Dr({},z2,{relatedTarget:0}),IN=xa(vX),yX=Dr({},w1,{animationName:0,elapsedTime:0,pseudoElement:0}),wX=xa(yX),bX=Dr({},w1,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xX=xa(bX),_X=Dr({},w1,{data:0}),y6=xa(_X),AX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NX(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=SX[n])?!!e[n]:!1}function f4(){return NX}var CX=Dr({},z2,{key:function(n){if(n.key){var e=AX[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=K_(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?EX[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f4,charCode:function(n){return n.type==="keypress"?K_(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?K_(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),TX=xa(CX),kX=Dr({},ME,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w6=xa(kX),IX=Dr({},z2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f4}),PX=xa(IX),RX=Dr({},w1,{propertyName:0,elapsedTime:0,pseudoElement:0}),LX=xa(RX),DX=Dr({},ME,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),MX=xa(DX),jX=[9,13,27,32],p4=wd&&"CompositionEvent"in window,nw=null;wd&&"documentMode"in document&&(nw=document.documentMode);var OX=wd&&"TextEvent"in window&&!nw,a7=wd&&(!p4||nw&&8<nw&&11>=nw),b6=" ",x6=!1;function l7(n,e){switch(n){case"keyup":return jX.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c7(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var r0=!1;function FX(n,e){switch(n){case"compositionend":return c7(e);case"keypress":return e.which!==32?null:(x6=!0,b6);case"textInput":return n=e.data,n===b6&&x6?null:n;default:return null}}function BX(n,e){if(r0)return n==="compositionend"||!p4&&l7(n,e)?(n=o7(),G_=d4=ef=null,r0=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return a7&&e.locale!=="ko"?null:e.data;default:return null}}var UX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _6(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!UX[n.type]:e==="textarea"}function u7(n,e,t,r){V8(r),e=cA(e,"onChange"),0<e.length&&(t=new h4("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var rw=null,Iw=null;function VX(n){x7(n,0)}function jE(n){var e=o0(n);if(D8(e))return n}function zX(n,e){if(n==="change")return e}var d7=!1;if(wd){var PN;if(wd){var RN="oninput"in document;if(!RN){var A6=document.createElement("div");A6.setAttribute("oninput","return;"),RN=typeof A6.oninput=="function"}PN=RN}else PN=!1;d7=PN&&(!document.documentMode||9<document.documentMode)}function E6(){rw&&(rw.detachEvent("onpropertychange",h7),Iw=rw=null)}function h7(n){if(n.propertyName==="value"&&jE(Iw)){var e=[];u7(e,Iw,n,o4(n)),q8(VX,e)}}function $X(n,e,t){n==="focusin"?(E6(),rw=e,Iw=t,rw.attachEvent("onpropertychange",h7)):n==="focusout"&&E6()}function HX(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return jE(Iw)}function qX(n,e){if(n==="click")return jE(e)}function WX(n,e){if(n==="input"||n==="change")return jE(e)}function GX(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var $l=typeof Object.is=="function"?Object.is:GX;function Pw(n,e){if($l(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!dT.call(e,i)||!$l(n[i],e[i]))return!1}return!0}function S6(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function N6(n,e){var t=S6(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=S6(t)}}function f7(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?f7(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function p7(){for(var n=window,e=nA();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=nA(n.document)}return e}function m4(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function KX(n){var e=p7(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&f7(t.ownerDocument.documentElement,t)){if(r!==null&&m4(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=N6(t,s);var o=N6(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var YX=wd&&"documentMode"in document&&11>=document.documentMode,i0=null,IT=null,iw=null,PT=!1;function C6(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;PT||i0==null||i0!==nA(r)||(r=i0,"selectionStart"in r&&m4(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iw&&Pw(iw,r)||(iw=r,r=cA(IT,"onSelect"),0<r.length&&(e=new h4("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=i0)))}function Jx(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var s0={animationend:Jx("Animation","AnimationEnd"),animationiteration:Jx("Animation","AnimationIteration"),animationstart:Jx("Animation","AnimationStart"),transitionend:Jx("Transition","TransitionEnd")},LN={},m7={};wd&&(m7=document.createElement("div").style,"AnimationEvent"in window||(delete s0.animationend.animation,delete s0.animationiteration.animation,delete s0.animationstart.animation),"TransitionEvent"in window||delete s0.transitionend.transition);function OE(n){if(LN[n])return LN[n];if(!s0[n])return n;var e=s0[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in m7)return LN[n]=e[t];return n}var g7=OE("animationend"),v7=OE("animationiteration"),y7=OE("animationstart"),w7=OE("transitionend"),b7=new Map,T6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jf(n,e){b7.set(n,e),cg(e,[n])}for(var DN=0;DN<T6.length;DN++){var MN=T6[DN],XX=MN.toLowerCase(),QX=MN[0].toUpperCase()+MN.slice(1);jf(XX,"on"+QX)}jf(g7,"onAnimationEnd");jf(v7,"onAnimationIteration");jf(y7,"onAnimationStart");jf("dblclick","onDoubleClick");jf("focusin","onFocus");jf("focusout","onBlur");jf(w7,"onTransitionEnd");qv("onMouseEnter",["mouseout","mouseover"]);qv("onMouseLeave",["mouseout","mouseover"]);qv("onPointerEnter",["pointerout","pointerover"]);qv("onPointerLeave",["pointerout","pointerover"]);cg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cg("onBeforeInput",["compositionend","keypress","textInput","paste"]);cg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ty="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JX=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ty));function k6(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,XY(r,e,void 0,n),n.currentTarget=null}function x7(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;k6(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;k6(i,a,c),s=l}}}if(iA)throw n=NT,iA=!1,NT=null,n}function dr(n,e){var t=e[jT];t===void 0&&(t=e[jT]=new Set);var r=n+"__bubble";t.has(r)||(_7(e,n,2,!1),t.add(r))}function jN(n,e,t){var r=0;e&&(r|=4),_7(t,n,r,e)}var Zx="_reactListening"+Math.random().toString(36).slice(2);function Rw(n){if(!n[Zx]){n[Zx]=!0,k8.forEach(function(t){t!=="selectionchange"&&(JX.has(t)||jN(t,!1,n),jN(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Zx]||(e[Zx]=!0,jN("selectionchange",!1,e))}}function _7(n,e,t,r){switch(s7(e)){case 1:var i=hX;break;case 4:i=fX;break;default:i=u4}t=i.bind(null,e,t,n),i=void 0,!ST||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function ON(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xp(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}q8(function(){var c=s,u=o4(t),h=[];e:{var p=b7.get(n);if(p!==void 0){var f=h4,w=n;switch(n){case"keypress":if(K_(t)===0)break e;case"keydown":case"keyup":f=TX;break;case"focusin":w="focus",f=IN;break;case"focusout":w="blur",f=IN;break;case"beforeblur":case"afterblur":f=IN;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=v6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=gX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=PX;break;case g7:case v7:case y7:f=wX;break;case w7:f=LX;break;case"scroll":f=pX;break;case"wheel":f=MX;break;case"copy":case"cut":case"paste":f=xX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=w6}var y=(e&4)!==0,_=!y&&n==="scroll",b=y?p!==null?p+"Capture":null:p;y=[];for(var A=c,E;A!==null;){E=A;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,b!==null&&(N=Nw(A,b),N!=null&&y.push(Lw(A,N,E)))),_)break;A=A.return}0<y.length&&(p=new f(p,w,null,t,u),h.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",p&&t!==AT&&(w=t.relatedTarget||t.fromElement)&&(xp(w)||w[bd]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(w=t.relatedTarget||t.toElement,f=c,w=w?xp(w):null,w!==null&&(_=ug(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(f=null,w=c),f!==w)){if(y=v6,N="onMouseLeave",b="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(y=w6,N="onPointerLeave",b="onPointerEnter",A="pointer"),_=f==null?p:o0(f),E=w==null?p:o0(w),p=new y(N,A+"leave",f,t,u),p.target=_,p.relatedTarget=E,N=null,xp(u)===c&&(y=new y(b,A+"enter",w,t,u),y.target=E,y.relatedTarget=_,N=y),_=N,f&&w)t:{for(y=f,b=w,A=0,E=y;E;E=Dg(E))A++;for(E=0,N=b;N;N=Dg(N))E++;for(;0<A-E;)y=Dg(y),A--;for(;0<E-A;)b=Dg(b),E--;for(;A--;){if(y===b||b!==null&&y===b.alternate)break t;y=Dg(y),b=Dg(b)}y=null}else y=null;f!==null&&I6(h,p,f,y,!1),w!==null&&_!==null&&I6(h,_,w,y,!0)}}e:{if(p=c?o0(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var F=zX;else if(_6(p))if(d7)F=WX;else{F=HX;var V=$X}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(F=qX);if(F&&(F=F(n,c))){u7(h,F,t,u);break e}V&&V(n,p,c),n==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&yT(p,"number",p.value)}switch(V=c?o0(c):window,n){case"focusin":(_6(V)||V.contentEditable==="true")&&(i0=V,IT=c,iw=null);break;case"focusout":iw=IT=i0=null;break;case"mousedown":PT=!0;break;case"contextmenu":case"mouseup":case"dragend":PT=!1,C6(h,t,u);break;case"selectionchange":if(YX)break;case"keydown":case"keyup":C6(h,t,u)}var L;if(p4)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else r0?l7(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(a7&&t.locale!=="ko"&&(r0||C!=="onCompositionStart"?C==="onCompositionEnd"&&r0&&(L=o7()):(ef=u,d4="value"in ef?ef.value:ef.textContent,r0=!0)),V=cA(c,C),0<V.length&&(C=new y6(C,n,null,t,u),h.push({event:C,listeners:V}),L?C.data=L:(L=c7(t),L!==null&&(C.data=L)))),(L=OX?FX(n,t):BX(n,t))&&(c=cA(c,"onBeforeInput"),0<c.length&&(u=new y6("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=L))}x7(h,e)})}function Lw(n,e,t){return{instance:n,listener:e,currentTarget:t}}function cA(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Nw(n,t),s!=null&&r.unshift(Lw(n,s,i)),s=Nw(n,e),s!=null&&r.push(Lw(n,s,i))),n=n.return}return r}function Dg(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function I6(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Nw(t,s),l!=null&&o.unshift(Lw(t,l,a))):i||(l=Nw(t,s),l!=null&&o.push(Lw(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var ZX=/\r\n?/g,eQ=/\u0000|\uFFFD/g;function P6(n){return(typeof n=="string"?n:""+n).replace(ZX,`
`).replace(eQ,"")}function e_(n,e,t){if(e=P6(e),P6(n)!==e&&t)throw Error(He(425))}function uA(){}var RT=null,LT=null;function DT(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var MT=typeof setTimeout=="function"?setTimeout:void 0,tQ=typeof clearTimeout=="function"?clearTimeout:void 0,R6=typeof Promise=="function"?Promise:void 0,nQ=typeof queueMicrotask=="function"?queueMicrotask:typeof R6<"u"?function(n){return R6.resolve(null).then(n).catch(rQ)}:MT;function rQ(n){setTimeout(function(){throw n})}function FN(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),kw(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);kw(e)}function hf(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function L6(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var b1=Math.random().toString(36).slice(2),Oc="__reactFiber$"+b1,Dw="__reactProps$"+b1,bd="__reactContainer$"+b1,jT="__reactEvents$"+b1,iQ="__reactListeners$"+b1,sQ="__reactHandles$"+b1;function xp(n){var e=n[Oc];if(e)return e;for(var t=n.parentNode;t;){if(e=t[bd]||t[Oc]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=L6(n);n!==null;){if(t=n[Oc])return t;n=L6(n)}return e}n=t,t=n.parentNode}return null}function $2(n){return n=n[Oc]||n[bd],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function o0(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(He(33))}function FE(n){return n[Dw]||null}var OT=[],a0=-1;function Of(n){return{current:n}}function mr(n){0>a0||(n.current=OT[a0],OT[a0]=null,a0--)}function lr(n,e){a0++,OT[a0]=n.current,n.current=e}var Sf={},Ms=Of(Sf),Co=Of(!1),Om=Sf;function Wv(n,e){var t=n.type.contextTypes;if(!t)return Sf;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function To(n){return n=n.childContextTypes,n!=null}function dA(){mr(Co),mr(Ms)}function D6(n,e,t){if(Ms.current!==Sf)throw Error(He(168));lr(Ms,e),lr(Co,t)}function A7(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(He(108,$Y(n)||"Unknown",i));return Dr({},t,r)}function hA(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Sf,Om=Ms.current,lr(Ms,n),lr(Co,Co.current),!0}function M6(n,e,t){var r=n.stateNode;if(!r)throw Error(He(169));t?(n=A7(n,e,Om),r.__reactInternalMemoizedMergedChildContext=n,mr(Co),mr(Ms),lr(Ms,n)):mr(Co),lr(Co,t)}var Pu=null,BE=!1,BN=!1;function E7(n){Pu===null?Pu=[n]:Pu.push(n)}function oQ(n){BE=!0,E7(n)}function Ff(){if(!BN&&Pu!==null){BN=!0;var n=0,e=Hn;try{var t=Pu;for(Hn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Pu=null,BE=!1}catch(i){throw Pu!==null&&(Pu=Pu.slice(n+1)),Y8(a4,Ff),i}finally{Hn=e,BN=!1}}return null}var l0=[],c0=0,fA=null,pA=0,za=[],$a=0,Fm=null,ad=1,ld="";function ap(n,e){l0[c0++]=pA,l0[c0++]=fA,fA=n,pA=e}function S7(n,e,t){za[$a++]=ad,za[$a++]=ld,za[$a++]=Fm,Fm=n;var r=ad;n=ld;var i=32-Ul(r)-1;r&=~(1<<i),t+=1;var s=32-Ul(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ad=1<<32-Ul(e)+i|t<<i|r,ld=s+n}else ad=1<<s|t<<i|r,ld=n}function g4(n){n.return!==null&&(ap(n,1),S7(n,1,0))}function v4(n){for(;n===fA;)fA=l0[--c0],l0[c0]=null,pA=l0[--c0],l0[c0]=null;for(;n===Fm;)Fm=za[--$a],za[$a]=null,ld=za[--$a],za[$a]=null,ad=za[--$a],za[$a]=null}var pa=null,ca=null,_r=!1,Ol=null;function N7(n,e){var t=Ka(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function j6(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,pa=n,ca=hf(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,pa=n,ca=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Fm!==null?{id:ad,overflow:ld}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ka(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,pa=n,ca=null,!0):!1;default:return!1}}function FT(n){return(n.mode&1)!==0&&(n.flags&128)===0}function BT(n){if(_r){var e=ca;if(e){var t=e;if(!j6(n,e)){if(FT(n))throw Error(He(418));e=hf(t.nextSibling);var r=pa;e&&j6(n,e)?N7(r,t):(n.flags=n.flags&-4097|2,_r=!1,pa=n)}}else{if(FT(n))throw Error(He(418));n.flags=n.flags&-4097|2,_r=!1,pa=n}}}function O6(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;pa=n}function t_(n){if(n!==pa)return!1;if(!_r)return O6(n),_r=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!DT(n.type,n.memoizedProps)),e&&(e=ca)){if(FT(n))throw C7(),Error(He(418));for(;e;)N7(n,e),e=hf(e.nextSibling)}if(O6(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(He(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ca=hf(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ca=null}}else ca=pa?hf(n.stateNode.nextSibling):null;return!0}function C7(){for(var n=ca;n;)n=hf(n.nextSibling)}function Gv(){ca=pa=null,_r=!1}function y4(n){Ol===null?Ol=[n]:Ol.push(n)}var aQ=Ld.ReactCurrentBatchConfig;function uy(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(He(309));var r=t.stateNode}if(!r)throw Error(He(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(He(284));if(!t._owner)throw Error(He(290,n))}return n}function n_(n,e){throw n=Object.prototype.toString.call(e),Error(He(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function F6(n){var e=n._init;return e(n._payload)}function T7(n){function e(b,A){if(n){var E=b.deletions;E===null?(b.deletions=[A],b.flags|=16):E.push(A)}}function t(b,A){if(!n)return null;for(;A!==null;)e(b,A),A=A.sibling;return null}function r(b,A){for(b=new Map;A!==null;)A.key!==null?b.set(A.key,A):b.set(A.index,A),A=A.sibling;return b}function i(b,A){return b=gf(b,A),b.index=0,b.sibling=null,b}function s(b,A,E){return b.index=E,n?(E=b.alternate,E!==null?(E=E.index,E<A?(b.flags|=2,A):E):(b.flags|=2,A)):(b.flags|=1048576,A)}function o(b){return n&&b.alternate===null&&(b.flags|=2),b}function a(b,A,E,N){return A===null||A.tag!==6?(A=WN(E,b.mode,N),A.return=b,A):(A=i(A,E),A.return=b,A)}function l(b,A,E,N){var F=E.type;return F===n0?u(b,A,E.props.children,N,E.key):A!==null&&(A.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===fh&&F6(F)===A.type)?(N=i(A,E.props),N.ref=uy(b,A,E),N.return=b,N):(N=t5(E.type,E.key,E.props,null,b.mode,N),N.ref=uy(b,A,E),N.return=b,N)}function c(b,A,E,N){return A===null||A.tag!==4||A.stateNode.containerInfo!==E.containerInfo||A.stateNode.implementation!==E.implementation?(A=GN(E,b.mode,N),A.return=b,A):(A=i(A,E.children||[]),A.return=b,A)}function u(b,A,E,N,F){return A===null||A.tag!==7?(A=Lm(E,b.mode,N,F),A.return=b,A):(A=i(A,E),A.return=b,A)}function h(b,A,E){if(typeof A=="string"&&A!==""||typeof A=="number")return A=WN(""+A,b.mode,E),A.return=b,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case qx:return E=t5(A.type,A.key,A.props,null,b.mode,E),E.ref=uy(b,null,A),E.return=b,E;case t0:return A=GN(A,b.mode,E),A.return=b,A;case fh:var N=A._init;return h(b,N(A._payload),E)}if(Ny(A)||sy(A))return A=Lm(A,b.mode,E,null),A.return=b,A;n_(b,A)}return null}function p(b,A,E,N){var F=A!==null?A.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return F!==null?null:a(b,A,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case qx:return E.key===F?l(b,A,E,N):null;case t0:return E.key===F?c(b,A,E,N):null;case fh:return F=E._init,p(b,A,F(E._payload),N)}if(Ny(E)||sy(E))return F!==null?null:u(b,A,E,N,null);n_(b,E)}return null}function f(b,A,E,N,F){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(E)||null,a(A,b,""+N,F);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case qx:return b=b.get(N.key===null?E:N.key)||null,l(A,b,N,F);case t0:return b=b.get(N.key===null?E:N.key)||null,c(A,b,N,F);case fh:var V=N._init;return f(b,A,E,V(N._payload),F)}if(Ny(N)||sy(N))return b=b.get(E)||null,u(A,b,N,F,null);n_(A,N)}return null}function w(b,A,E,N){for(var F=null,V=null,L=A,C=A=0,k=null;L!==null&&C<E.length;C++){L.index>C?(k=L,L=null):k=L.sibling;var j=p(b,L,E[C],N);if(j===null){L===null&&(L=k);break}n&&L&&j.alternate===null&&e(b,L),A=s(j,A,C),V===null?F=j:V.sibling=j,V=j,L=k}if(C===E.length)return t(b,L),_r&&ap(b,C),F;if(L===null){for(;C<E.length;C++)L=h(b,E[C],N),L!==null&&(A=s(L,A,C),V===null?F=L:V.sibling=L,V=L);return _r&&ap(b,C),F}for(L=r(b,L);C<E.length;C++)k=f(L,b,C,E[C],N),k!==null&&(n&&k.alternate!==null&&L.delete(k.key===null?C:k.key),A=s(k,A,C),V===null?F=k:V.sibling=k,V=k);return n&&L.forEach(function(T){return e(b,T)}),_r&&ap(b,C),F}function y(b,A,E,N){var F=sy(E);if(typeof F!="function")throw Error(He(150));if(E=F.call(E),E==null)throw Error(He(151));for(var V=F=null,L=A,C=A=0,k=null,j=E.next();L!==null&&!j.done;C++,j=E.next()){L.index>C?(k=L,L=null):k=L.sibling;var T=p(b,L,j.value,N);if(T===null){L===null&&(L=k);break}n&&L&&T.alternate===null&&e(b,L),A=s(T,A,C),V===null?F=T:V.sibling=T,V=T,L=k}if(j.done)return t(b,L),_r&&ap(b,C),F;if(L===null){for(;!j.done;C++,j=E.next())j=h(b,j.value,N),j!==null&&(A=s(j,A,C),V===null?F=j:V.sibling=j,V=j);return _r&&ap(b,C),F}for(L=r(b,L);!j.done;C++,j=E.next())j=f(L,b,C,j.value,N),j!==null&&(n&&j.alternate!==null&&L.delete(j.key===null?C:j.key),A=s(j,A,C),V===null?F=j:V.sibling=j,V=j);return n&&L.forEach(function(M){return e(b,M)}),_r&&ap(b,C),F}function _(b,A,E,N){if(typeof E=="object"&&E!==null&&E.type===n0&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case qx:e:{for(var F=E.key,V=A;V!==null;){if(V.key===F){if(F=E.type,F===n0){if(V.tag===7){t(b,V.sibling),A=i(V,E.props.children),A.return=b,b=A;break e}}else if(V.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===fh&&F6(F)===V.type){t(b,V.sibling),A=i(V,E.props),A.ref=uy(b,V,E),A.return=b,b=A;break e}t(b,V);break}else e(b,V);V=V.sibling}E.type===n0?(A=Lm(E.props.children,b.mode,N,E.key),A.return=b,b=A):(N=t5(E.type,E.key,E.props,null,b.mode,N),N.ref=uy(b,A,E),N.return=b,b=N)}return o(b);case t0:e:{for(V=E.key;A!==null;){if(A.key===V)if(A.tag===4&&A.stateNode.containerInfo===E.containerInfo&&A.stateNode.implementation===E.implementation){t(b,A.sibling),A=i(A,E.children||[]),A.return=b,b=A;break e}else{t(b,A);break}else e(b,A);A=A.sibling}A=GN(E,b.mode,N),A.return=b,b=A}return o(b);case fh:return V=E._init,_(b,A,V(E._payload),N)}if(Ny(E))return w(b,A,E,N);if(sy(E))return y(b,A,E,N);n_(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,A!==null&&A.tag===6?(t(b,A.sibling),A=i(A,E),A.return=b,b=A):(t(b,A),A=WN(E,b.mode,N),A.return=b,b=A),o(b)):t(b,A)}return _}var Kv=T7(!0),k7=T7(!1),mA=Of(null),gA=null,u0=null,w4=null;function b4(){w4=u0=gA=null}function x4(n){var e=mA.current;mr(mA),n._currentValue=e}function UT(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function b0(n,e){gA=n,w4=u0=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Eo=!0),n.firstContext=null)}function Ja(n){var e=n._currentValue;if(w4!==n)if(n={context:n,memoizedValue:e,next:null},u0===null){if(gA===null)throw Error(He(308));u0=n,gA.dependencies={lanes:0,firstContext:n}}else u0=u0.next=n;return e}var _p=null;function _4(n){_p===null?_p=[n]:_p.push(n)}function I7(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,_4(e)):(t.next=i.next,i.next=t),e.interleaved=t,xd(n,r)}function xd(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ph=!1;function A4(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P7(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function dd(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ff(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Sn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xd(n,t)}return i=r.interleaved,i===null?(e.next=e,_4(r)):(e.next=i.next,i.next=e),r.interleaved=e,xd(n,t)}function Y_(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,l4(n,t)}}function B6(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function vA(n,e,t,r){var i=n.updateQueue;ph=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,f=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=n,y=a;switch(p=e,f=t,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(f,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,p=typeof w=="function"?w.call(f,h,p):w,p==null)break e;h=Dr({},h,p);break e;case 2:ph=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Um|=o,n.lanes=o,n.memoizedState=h}}function U6(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(He(191,i));i.call(r)}}}var H2={},qc=Of(H2),Mw=Of(H2),jw=Of(H2);function Ap(n){if(n===H2)throw Error(He(174));return n}function E4(n,e){switch(lr(jw,e),lr(Mw,n),lr(qc,H2),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bT(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=bT(e,n)}mr(qc),lr(qc,e)}function Yv(){mr(qc),mr(Mw),mr(jw)}function R7(n){Ap(jw.current);var e=Ap(qc.current),t=bT(e,n.type);e!==t&&(lr(Mw,n),lr(qc,t))}function S4(n){Mw.current===n&&(mr(qc),mr(Mw))}var Rr=Of(0);function yA(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var UN=[];function N4(){for(var n=0;n<UN.length;n++)UN[n]._workInProgressVersionPrimary=null;UN.length=0}var X_=Ld.ReactCurrentDispatcher,VN=Ld.ReactCurrentBatchConfig,Bm=0,Lr=null,Ai=null,Ui=null,wA=!1,sw=!1,Ow=0,lQ=0;function fs(){throw Error(He(321))}function C4(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!$l(n[t],e[t]))return!1;return!0}function T4(n,e,t,r,i,s){if(Bm=s,Lr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,X_.current=n===null||n.memoizedState===null?hQ:fQ,n=t(r,i),sw){s=0;do{if(sw=!1,Ow=0,25<=s)throw Error(He(301));s+=1,Ui=Ai=null,e.updateQueue=null,X_.current=pQ,n=t(r,i)}while(sw)}if(X_.current=bA,e=Ai!==null&&Ai.next!==null,Bm=0,Ui=Ai=Lr=null,wA=!1,e)throw Error(He(300));return n}function k4(){var n=Ow!==0;return Ow=0,n}function fc(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ui===null?Lr.memoizedState=Ui=n:Ui=Ui.next=n,Ui}function Za(){if(Ai===null){var n=Lr.alternate;n=n!==null?n.memoizedState:null}else n=Ai.next;var e=Ui===null?Lr.memoizedState:Ui.next;if(e!==null)Ui=e,Ai=n;else{if(n===null)throw Error(He(310));Ai=n,n={memoizedState:Ai.memoizedState,baseState:Ai.baseState,baseQueue:Ai.baseQueue,queue:Ai.queue,next:null},Ui===null?Lr.memoizedState=Ui=n:Ui=Ui.next=n}return Ui}function Fw(n,e){return typeof e=="function"?e(n):e}function zN(n){var e=Za(),t=e.queue;if(t===null)throw Error(He(311));t.lastRenderedReducer=n;var r=Ai,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Bm&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Lr.lanes|=u,Um|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,$l(r,e.memoizedState)||(Eo=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Lr.lanes|=s,Um|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function $N(n){var e=Za(),t=e.queue;if(t===null)throw Error(He(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);$l(s,e.memoizedState)||(Eo=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function L7(){}function D7(n,e){var t=Lr,r=Za(),i=e(),s=!$l(r.memoizedState,i);if(s&&(r.memoizedState=i,Eo=!0),r=r.queue,I4(O7.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Ui!==null&&Ui.memoizedState.tag&1){if(t.flags|=2048,Bw(9,j7.bind(null,t,r,i,e),void 0,null),$i===null)throw Error(He(349));Bm&30||M7(t,e,i)}return i}function M7(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Lr.updateQueue,e===null?(e={lastEffect:null,stores:null},Lr.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function j7(n,e,t,r){e.value=t,e.getSnapshot=r,F7(e)&&B7(n)}function O7(n,e,t){return t(function(){F7(e)&&B7(n)})}function F7(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!$l(n,t)}catch{return!0}}function B7(n){var e=xd(n,1);e!==null&&Vl(e,n,1,-1)}function V6(n){var e=fc();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fw,lastRenderedState:n},e.queue=n,n=n.dispatch=dQ.bind(null,Lr,n),[e.memoizedState,n]}function Bw(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Lr.updateQueue,e===null?(e={lastEffect:null,stores:null},Lr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function U7(){return Za().memoizedState}function Q_(n,e,t,r){var i=fc();Lr.flags|=n,i.memoizedState=Bw(1|e,t,void 0,r===void 0?null:r)}function UE(n,e,t,r){var i=Za();r=r===void 0?null:r;var s=void 0;if(Ai!==null){var o=Ai.memoizedState;if(s=o.destroy,r!==null&&C4(r,o.deps)){i.memoizedState=Bw(e,t,s,r);return}}Lr.flags|=n,i.memoizedState=Bw(1|e,t,s,r)}function z6(n,e){return Q_(8390656,8,n,e)}function I4(n,e){return UE(2048,8,n,e)}function V7(n,e){return UE(4,2,n,e)}function z7(n,e){return UE(4,4,n,e)}function $7(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function H7(n,e,t){return t=t!=null?t.concat([n]):null,UE(4,4,$7.bind(null,e,n),t)}function P4(){}function q7(n,e){var t=Za();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&C4(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function W7(n,e){var t=Za();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&C4(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function G7(n,e,t){return Bm&21?($l(t,e)||(t=J8(),Lr.lanes|=t,Um|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Eo=!0),n.memoizedState=t)}function cQ(n,e){var t=Hn;Hn=t!==0&&4>t?t:4,n(!0);var r=VN.transition;VN.transition={};try{n(!1),e()}finally{Hn=t,VN.transition=r}}function K7(){return Za().memoizedState}function uQ(n,e,t){var r=mf(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},Y7(n))X7(e,t);else if(t=I7(n,e,t,r),t!==null){var i=Qs();Vl(t,n,r,i),Q7(t,e,r)}}function dQ(n,e,t){var r=mf(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(Y7(n))X7(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,$l(a,o)){var l=e.interleaved;l===null?(i.next=i,_4(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=I7(n,e,i,r),t!==null&&(i=Qs(),Vl(t,n,r,i),Q7(t,e,r))}}function Y7(n){var e=n.alternate;return n===Lr||e!==null&&e===Lr}function X7(n,e){sw=wA=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Q7(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,l4(n,t)}}var bA={readContext:Ja,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},hQ={readContext:Ja,useCallback:function(n,e){return fc().memoizedState=[n,e===void 0?null:e],n},useContext:Ja,useEffect:z6,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Q_(4194308,4,$7.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Q_(4194308,4,n,e)},useInsertionEffect:function(n,e){return Q_(4,2,n,e)},useMemo:function(n,e){var t=fc();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=fc();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=uQ.bind(null,Lr,n),[r.memoizedState,n]},useRef:function(n){var e=fc();return n={current:n},e.memoizedState=n},useState:V6,useDebugValue:P4,useDeferredValue:function(n){return fc().memoizedState=n},useTransition:function(){var n=V6(!1),e=n[0];return n=cQ.bind(null,n[1]),fc().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Lr,i=fc();if(_r){if(t===void 0)throw Error(He(407));t=t()}else{if(t=e(),$i===null)throw Error(He(349));Bm&30||M7(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,z6(O7.bind(null,r,s,n),[n]),r.flags|=2048,Bw(9,j7.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=fc(),e=$i.identifierPrefix;if(_r){var t=ld,r=ad;t=(r&~(1<<32-Ul(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Ow++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=lQ++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},fQ={readContext:Ja,useCallback:q7,useContext:Ja,useEffect:I4,useImperativeHandle:H7,useInsertionEffect:V7,useLayoutEffect:z7,useMemo:W7,useReducer:zN,useRef:U7,useState:function(){return zN(Fw)},useDebugValue:P4,useDeferredValue:function(n){var e=Za();return G7(e,Ai.memoizedState,n)},useTransition:function(){var n=zN(Fw)[0],e=Za().memoizedState;return[n,e]},useMutableSource:L7,useSyncExternalStore:D7,useId:K7,unstable_isNewReconciler:!1},pQ={readContext:Ja,useCallback:q7,useContext:Ja,useEffect:I4,useImperativeHandle:H7,useInsertionEffect:V7,useLayoutEffect:z7,useMemo:W7,useReducer:$N,useRef:U7,useState:function(){return $N(Fw)},useDebugValue:P4,useDeferredValue:function(n){var e=Za();return Ai===null?e.memoizedState=n:G7(e,Ai.memoizedState,n)},useTransition:function(){var n=$N(Fw)[0],e=Za().memoizedState;return[n,e]},useMutableSource:L7,useSyncExternalStore:D7,useId:K7,unstable_isNewReconciler:!1};function vl(n,e){if(n&&n.defaultProps){e=Dr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function VT(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Dr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var VE={isMounted:function(n){return(n=n._reactInternals)?ug(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Qs(),i=mf(n),s=dd(r,i);s.payload=e,t!=null&&(s.callback=t),e=ff(n,s,i),e!==null&&(Vl(e,n,i,r),Y_(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Qs(),i=mf(n),s=dd(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ff(n,s,i),e!==null&&(Vl(e,n,i,r),Y_(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Qs(),r=mf(n),i=dd(t,r);i.tag=2,e!=null&&(i.callback=e),e=ff(n,i,r),e!==null&&(Vl(e,n,r,t),Y_(e,n,r))}};function $6(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pw(t,r)||!Pw(i,s):!0}function J7(n,e,t){var r=!1,i=Sf,s=e.contextType;return typeof s=="object"&&s!==null?s=Ja(s):(i=To(e)?Om:Ms.current,r=e.contextTypes,s=(r=r!=null)?Wv(n,i):Sf),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=VE,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function H6(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&VE.enqueueReplaceState(e,e.state,null)}function zT(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},A4(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ja(s):(s=To(e)?Om:Ms.current,i.context=Wv(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(VT(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&VE.enqueueReplaceState(i,i.state,null),vA(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Xv(n,e){try{var t="",r=e;do t+=zY(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function HN(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function $T(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var mQ=typeof WeakMap=="function"?WeakMap:Map;function Z7(n,e,t){t=dd(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){_A||(_A=!0,ZT=r),$T(n,e)},t}function e9(n,e,t){t=dd(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){$T(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){$T(n,e),typeof r!="function"&&(pf===null?pf=new Set([this]):pf.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function q6(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new mQ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=kQ.bind(null,n,e,t),e.then(n,n))}function W6(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function G6(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=dd(-1,1),e.tag=2,ff(t,e,1))),t.lanes|=1),n)}var gQ=Ld.ReactCurrentOwner,Eo=!1;function Ws(n,e,t,r){e.child=n===null?k7(e,null,t,r):Kv(e,n.child,t,r)}function K6(n,e,t,r,i){t=t.render;var s=e.ref;return b0(e,i),r=T4(n,e,t,r,s,i),t=k4(),n!==null&&!Eo?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,_d(n,e,i)):(_r&&t&&g4(e),e.flags|=1,Ws(n,e,r,i),e.child)}function Y6(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!B4(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,t9(n,e,s,r,i)):(n=t5(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Pw,t(o,r)&&n.ref===e.ref)return _d(n,e,i)}return e.flags|=1,n=gf(s,r),n.ref=e.ref,n.return=e,e.child=n}function t9(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Pw(s,r)&&n.ref===e.ref)if(Eo=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Eo=!0);else return e.lanes=n.lanes,_d(n,e,i)}return HT(n,e,t,r,i)}function n9(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lr(h0,oa),oa|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,lr(h0,oa),oa|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,lr(h0,oa),oa|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,lr(h0,oa),oa|=r;return Ws(n,e,i,t),e.child}function r9(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function HT(n,e,t,r,i){var s=To(t)?Om:Ms.current;return s=Wv(e,s),b0(e,i),t=T4(n,e,t,r,s,i),r=k4(),n!==null&&!Eo?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,_d(n,e,i)):(_r&&r&&g4(e),e.flags|=1,Ws(n,e,t,i),e.child)}function X6(n,e,t,r,i){if(To(t)){var s=!0;hA(e)}else s=!1;if(b0(e,i),e.stateNode===null)J_(n,e),J7(e,t,r),zT(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ja(c):(c=To(t)?Om:Ms.current,c=Wv(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&H6(e,o,r,c),ph=!1;var p=e.memoizedState;o.state=p,vA(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Co.current||ph?(typeof u=="function"&&(VT(e,t,u,r),l=e.memoizedState),(a=ph||$6(e,t,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,P7(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:vl(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ja(l):(l=To(t)?Om:Ms.current,l=Wv(e,l));var f=t.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&H6(e,o,r,l),ph=!1,p=e.memoizedState,o.state=p,vA(e,r,o,i);var w=e.memoizedState;a!==h||p!==w||Co.current||ph?(typeof f=="function"&&(VT(e,t,f,r),w=e.memoizedState),(c=ph||$6(e,t,c,r,p,w,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return qT(n,e,t,r,s,i)}function qT(n,e,t,r,i,s){r9(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&M6(e,t,!1),_d(n,e,s);r=e.stateNode,gQ.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Kv(e,n.child,null,s),e.child=Kv(e,null,a,s)):Ws(n,e,a,s),e.memoizedState=r.state,i&&M6(e,t,!0),e.child}function i9(n){var e=n.stateNode;e.pendingContext?D6(n,e.pendingContext,e.pendingContext!==e.context):e.context&&D6(n,e.context,!1),E4(n,e.containerInfo)}function Q6(n,e,t,r,i){return Gv(),y4(i),e.flags|=256,Ws(n,e,t,r),e.child}var WT={dehydrated:null,treeContext:null,retryLane:0};function GT(n){return{baseLanes:n,cachePool:null,transitions:null}}function s9(n,e,t){var r=e.pendingProps,i=Rr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),lr(Rr,i&1),n===null)return BT(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=HE(o,r,0,null),n=Lm(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=GT(t),e.memoizedState=WT,n):R4(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vQ(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=gf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=gf(a,s):(s=Lm(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?GT(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=WT,r}return s=n.child,n=s.sibling,r=gf(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function R4(n,e){return e=HE({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function r_(n,e,t,r){return r!==null&&y4(r),Kv(e,n.child,null,t),n=R4(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function vQ(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=HN(Error(He(422))),r_(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=HE({mode:"visible",children:r.children},i,0,null),s=Lm(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Kv(e,n.child,null,o),e.child.memoizedState=GT(o),e.memoizedState=WT,s);if(!(e.mode&1))return r_(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(He(419)),r=HN(s,r,void 0),r_(n,e,o,r)}if(a=(o&n.childLanes)!==0,Eo||a){if(r=$i,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xd(n,i),Vl(r,n,i,-1))}return F4(),r=HN(Error(He(421))),r_(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=IQ.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,ca=hf(i.nextSibling),pa=e,_r=!0,Ol=null,n!==null&&(za[$a++]=ad,za[$a++]=ld,za[$a++]=Fm,ad=n.id,ld=n.overflow,Fm=e),e=R4(e,r.children),e.flags|=4096,e)}function J6(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),UT(n.return,e,t)}function qN(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function o9(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ws(n,e,r.children,t),r=Rr.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&J6(n,t,e);else if(n.tag===19)J6(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(lr(Rr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&yA(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),qN(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&yA(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}qN(e,!0,t,null,s);break;case"together":qN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function J_(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function _d(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Um|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(He(153));if(e.child!==null){for(n=e.child,t=gf(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=gf(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function yQ(n,e,t){switch(e.tag){case 3:i9(e),Gv();break;case 5:R7(e);break;case 1:To(e.type)&&hA(e);break;case 4:E4(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;lr(mA,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lr(Rr,Rr.current&1),e.flags|=128,null):t&e.child.childLanes?s9(n,e,t):(lr(Rr,Rr.current&1),n=_d(n,e,t),n!==null?n.sibling:null);lr(Rr,Rr.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return o9(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lr(Rr,Rr.current),r)break;return null;case 22:case 23:return e.lanes=0,n9(n,e,t)}return _d(n,e,t)}var a9,KT,l9,c9;a9=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};KT=function(){};l9=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Ap(qc.current);var s=null;switch(t){case"input":i=gT(n,i),r=gT(n,r),s=[];break;case"select":i=Dr({},i,{value:void 0}),r=Dr({},r,{value:void 0}),s=[];break;case"textarea":i=wT(n,i),r=wT(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=uA)}xT(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ew.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ew.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&dr("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};c9=function(n,e,t,r){t!==r&&(e.flags|=4)};function dy(n,e){if(!_r)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function ps(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function wQ(n,e,t){var r=e.pendingProps;switch(v4(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(e),null;case 1:return To(e.type)&&dA(),ps(e),null;case 3:return r=e.stateNode,Yv(),mr(Co),mr(Ms),N4(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(t_(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ol!==null&&(nk(Ol),Ol=null))),KT(n,e),ps(e),null;case 5:S4(e);var i=Ap(jw.current);if(t=e.type,n!==null&&e.stateNode!=null)l9(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(He(166));return ps(e),null}if(n=Ap(qc.current),t_(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Oc]=e,r[Dw]=s,n=(e.mode&1)!==0,t){case"dialog":dr("cancel",r),dr("close",r);break;case"iframe":case"object":case"embed":dr("load",r);break;case"video":case"audio":for(i=0;i<Ty.length;i++)dr(Ty[i],r);break;case"source":dr("error",r);break;case"img":case"image":case"link":dr("error",r),dr("load",r);break;case"details":dr("toggle",r);break;case"input":a6(r,s),dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},dr("invalid",r);break;case"textarea":c6(r,s),dr("invalid",r)}xT(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&e_(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&e_(r.textContent,a,n),i=["children",""+a]):Ew.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dr("scroll",r)}switch(t){case"input":Wx(r),l6(r,s,!0);break;case"textarea":Wx(r),u6(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uA)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=O8(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Oc]=e,n[Dw]=r,a9(n,e,!1,!1),e.stateNode=n;e:{switch(o=_T(t,r),t){case"dialog":dr("cancel",n),dr("close",n),i=r;break;case"iframe":case"object":case"embed":dr("load",n),i=r;break;case"video":case"audio":for(i=0;i<Ty.length;i++)dr(Ty[i],n);i=r;break;case"source":dr("error",n),i=r;break;case"img":case"image":case"link":dr("error",n),dr("load",n),i=r;break;case"details":dr("toggle",n),i=r;break;case"input":a6(n,r),i=gT(n,r),dr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Dr({},r,{value:void 0}),dr("invalid",n);break;case"textarea":c6(n,r),i=wT(n,r),dr("invalid",n);break;default:i=r}xT(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?U8(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&F8(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Sw(n,l):typeof l=="number"&&Sw(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ew.hasOwnProperty(s)?l!=null&&s==="onScroll"&&dr("scroll",n):l!=null&&n4(n,s,l,o))}switch(t){case"input":Wx(n),l6(n,r,!1);break;case"textarea":Wx(n),u6(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Ef(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?g0(n,!!r.multiple,s,!1):r.defaultValue!=null&&g0(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=uA)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ps(e),null;case 6:if(n&&e.stateNode!=null)c9(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(He(166));if(t=Ap(jw.current),Ap(qc.current),t_(e)){if(r=e.stateNode,t=e.memoizedProps,r[Oc]=e,(s=r.nodeValue!==t)&&(n=pa,n!==null))switch(n.tag){case 3:e_(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&e_(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Oc]=e,e.stateNode=r}return ps(e),null;case 13:if(mr(Rr),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(_r&&ca!==null&&e.mode&1&&!(e.flags&128))C7(),Gv(),e.flags|=98560,s=!1;else if(s=t_(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(He(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[Oc]=e}else Gv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ps(e),s=!1}else Ol!==null&&(nk(Ol),Ol=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Rr.current&1?Si===0&&(Si=3):F4())),e.updateQueue!==null&&(e.flags|=4),ps(e),null);case 4:return Yv(),KT(n,e),n===null&&Rw(e.stateNode.containerInfo),ps(e),null;case 10:return x4(e.type._context),ps(e),null;case 17:return To(e.type)&&dA(),ps(e),null;case 19:if(mr(Rr),s=e.memoizedState,s===null)return ps(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)dy(s,!1);else{if(Si!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=yA(n),o!==null){for(e.flags|=128,dy(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return lr(Rr,Rr.current&1|2),e.child}n=n.sibling}s.tail!==null&&Jr()>Qv&&(e.flags|=128,r=!0,dy(s,!1),e.lanes=4194304)}else{if(!r)if(n=yA(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),dy(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_r)return ps(e),null}else 2*Jr()-s.renderingStartTime>Qv&&t!==1073741824&&(e.flags|=128,r=!0,dy(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Jr(),e.sibling=null,t=Rr.current,lr(Rr,r?t&1|2:t&1),e):(ps(e),null);case 22:case 23:return O4(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?oa&1073741824&&(ps(e),e.subtreeFlags&6&&(e.flags|=8192)):ps(e),null;case 24:return null;case 25:return null}throw Error(He(156,e.tag))}function bQ(n,e){switch(v4(e),e.tag){case 1:return To(e.type)&&dA(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Yv(),mr(Co),mr(Ms),N4(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return S4(e),null;case 13:if(mr(Rr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(He(340));Gv()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return mr(Rr),null;case 4:return Yv(),null;case 10:return x4(e.type._context),null;case 22:case 23:return O4(),null;case 24:return null;default:return null}}var i_=!1,Ts=!1,xQ=typeof WeakSet=="function"?WeakSet:Set,ut=null;function d0(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Hr(n,e,r)}else t.current=null}function YT(n,e,t){try{t()}catch(r){Hr(n,e,r)}}var Z6=!1;function _Q(n,e){if(RT=aA,n=p7(),m4(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,p=null;t:for(;;){for(var f;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(LT={focusedElem:n,selectionRange:t},aA=!1,ut=e;ut!==null;)if(e=ut,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ut=n;else for(;ut!==null;){e=ut;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,_=w.memoizedState,b=e.stateNode,A=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:vl(e.type,y),_);b.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(N){Hr(e,e.return,N)}if(n=e.sibling,n!==null){n.return=e.return,ut=n;break}ut=e.return}return w=Z6,Z6=!1,w}function ow(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&YT(e,t,s)}i=i.next}while(i!==r)}}function zE(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function XT(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function u9(n){var e=n.alternate;e!==null&&(n.alternate=null,u9(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Oc],delete e[Dw],delete e[jT],delete e[iQ],delete e[sQ])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function d9(n){return n.tag===5||n.tag===3||n.tag===4}function eD(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||d9(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function QT(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=uA));else if(r!==4&&(n=n.child,n!==null))for(QT(n,e,t),n=n.sibling;n!==null;)QT(n,e,t),n=n.sibling}function JT(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(JT(n,e,t),n=n.sibling;n!==null;)JT(n,e,t),n=n.sibling}var es=null,jl=!1;function rh(n,e,t){for(t=t.child;t!==null;)h9(n,e,t),t=t.sibling}function h9(n,e,t){if(Hc&&typeof Hc.onCommitFiberUnmount=="function")try{Hc.onCommitFiberUnmount(DE,t)}catch{}switch(t.tag){case 5:Ts||d0(t,e);case 6:var r=es,i=jl;es=null,rh(n,e,t),es=r,jl=i,es!==null&&(jl?(n=es,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):es.removeChild(t.stateNode));break;case 18:es!==null&&(jl?(n=es,t=t.stateNode,n.nodeType===8?FN(n.parentNode,t):n.nodeType===1&&FN(n,t),kw(n)):FN(es,t.stateNode));break;case 4:r=es,i=jl,es=t.stateNode.containerInfo,jl=!0,rh(n,e,t),es=r,jl=i;break;case 0:case 11:case 14:case 15:if(!Ts&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&YT(t,e,o),i=i.next}while(i!==r)}rh(n,e,t);break;case 1:if(!Ts&&(d0(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Hr(t,e,a)}rh(n,e,t);break;case 21:rh(n,e,t);break;case 22:t.mode&1?(Ts=(r=Ts)||t.memoizedState!==null,rh(n,e,t),Ts=r):rh(n,e,t);break;default:rh(n,e,t)}}function tD(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new xQ),e.forEach(function(r){var i=PQ.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function fl(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:es=a.stateNode,jl=!1;break e;case 3:es=a.stateNode.containerInfo,jl=!0;break e;case 4:es=a.stateNode.containerInfo,jl=!0;break e}a=a.return}if(es===null)throw Error(He(160));h9(s,o,i),es=null,jl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Hr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)f9(e,n),e=e.sibling}function f9(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(fl(e,n),cc(n),r&4){try{ow(3,n,n.return),zE(3,n)}catch(y){Hr(n,n.return,y)}try{ow(5,n,n.return)}catch(y){Hr(n,n.return,y)}}break;case 1:fl(e,n),cc(n),r&512&&t!==null&&d0(t,t.return);break;case 5:if(fl(e,n),cc(n),r&512&&t!==null&&d0(t,t.return),n.flags&32){var i=n.stateNode;try{Sw(i,"")}catch(y){Hr(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&M8(i,s),_T(a,o);var c=_T(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?U8(i,h):u==="dangerouslySetInnerHTML"?F8(i,h):u==="children"?Sw(i,h):n4(i,u,h,c)}switch(a){case"input":vT(i,s);break;case"textarea":j8(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?g0(i,!!s.multiple,f,!1):p!==!!s.multiple&&(s.defaultValue!=null?g0(i,!!s.multiple,s.defaultValue,!0):g0(i,!!s.multiple,s.multiple?[]:"",!1))}i[Dw]=s}catch(y){Hr(n,n.return,y)}}break;case 6:if(fl(e,n),cc(n),r&4){if(n.stateNode===null)throw Error(He(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){Hr(n,n.return,y)}}break;case 3:if(fl(e,n),cc(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{kw(e.containerInfo)}catch(y){Hr(n,n.return,y)}break;case 4:fl(e,n),cc(n);break;case 13:fl(e,n),cc(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(M4=Jr())),r&4&&tD(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Ts=(c=Ts)||u,fl(e,n),Ts=c):fl(e,n),cc(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(ut=n,u=n.child;u!==null;){for(h=ut=u;ut!==null;){switch(p=ut,f=p.child,p.tag){case 0:case 11:case 14:case 15:ow(4,p,p.return);break;case 1:d0(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){Hr(r,t,y)}}break;case 5:d0(p,p.return);break;case 22:if(p.memoizedState!==null){rD(h);continue}}f!==null?(f.return=p,ut=f):rD(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=B8("display",o))}catch(y){Hr(n,n.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Hr(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(e,n),cc(n),r&4&&tD(n);break;case 21:break;default:fl(e,n),cc(n)}}function cc(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(d9(t)){var r=t;break e}t=t.return}throw Error(He(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sw(i,""),r.flags&=-33);var s=eD(n);JT(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=eD(n);QT(n,a,o);break;default:throw Error(He(161))}}catch(l){Hr(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function AQ(n,e,t){ut=n,p9(n)}function p9(n,e,t){for(var r=(n.mode&1)!==0;ut!==null;){var i=ut,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||i_;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ts;a=i_;var c=Ts;if(i_=o,(Ts=l)&&!c)for(ut=i;ut!==null;)o=ut,l=o.child,o.tag===22&&o.memoizedState!==null?iD(i):l!==null?(l.return=o,ut=l):iD(i);for(;s!==null;)ut=s,p9(s),s=s.sibling;ut=i,i_=a,Ts=c}nD(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ut=s):nD(n)}}function nD(n){for(;ut!==null;){var e=ut;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ts||zE(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ts)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:vl(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&U6(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}U6(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&kw(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}Ts||e.flags&512&&XT(e)}catch(p){Hr(e,e.return,p)}}if(e===n){ut=null;break}if(t=e.sibling,t!==null){t.return=e.return,ut=t;break}ut=e.return}}function rD(n){for(;ut!==null;){var e=ut;if(e===n){ut=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ut=t;break}ut=e.return}}function iD(n){for(;ut!==null;){var e=ut;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{zE(4,e)}catch(l){Hr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Hr(e,i,l)}}var s=e.return;try{XT(e)}catch(l){Hr(e,s,l)}break;case 5:var o=e.return;try{XT(e)}catch(l){Hr(e,o,l)}}}catch(l){Hr(e,e.return,l)}if(e===n){ut=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ut=a;break}ut=e.return}}var EQ=Math.ceil,xA=Ld.ReactCurrentDispatcher,L4=Ld.ReactCurrentOwner,Ya=Ld.ReactCurrentBatchConfig,Sn=0,$i=null,di=null,is=0,oa=0,h0=Of(0),Si=0,Uw=null,Um=0,$E=0,D4=0,aw=null,_o=null,M4=0,Qv=1/0,Tu=null,_A=!1,ZT=null,pf=null,s_=!1,tf=null,AA=0,lw=0,ek=null,Z_=-1,e5=0;function Qs(){return Sn&6?Jr():Z_!==-1?Z_:Z_=Jr()}function mf(n){return n.mode&1?Sn&2&&is!==0?is&-is:aQ.transition!==null?(e5===0&&(e5=J8()),e5):(n=Hn,n!==0||(n=window.event,n=n===void 0?16:s7(n.type)),n):1}function Vl(n,e,t,r){if(50<lw)throw lw=0,ek=null,Error(He(185));V2(n,t,r),(!(Sn&2)||n!==$i)&&(n===$i&&(!(Sn&2)&&($E|=t),Si===4&&gh(n,is)),ko(n,r),t===1&&Sn===0&&!(e.mode&1)&&(Qv=Jr()+500,BE&&Ff()))}function ko(n,e){var t=n.callbackNode;aX(n,e);var r=oA(n,n===$i?is:0);if(r===0)t!==null&&f6(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&f6(t),e===1)n.tag===0?oQ(sD.bind(null,n)):E7(sD.bind(null,n)),nQ(function(){!(Sn&6)&&Ff()}),t=null;else{switch(Z8(r)){case 1:t=a4;break;case 4:t=X8;break;case 16:t=sA;break;case 536870912:t=Q8;break;default:t=sA}t=_9(t,m9.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function m9(n,e){if(Z_=-1,e5=0,Sn&6)throw Error(He(327));var t=n.callbackNode;if(x0()&&n.callbackNode!==t)return null;var r=oA(n,n===$i?is:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=EA(n,r);else{e=r;var i=Sn;Sn|=2;var s=v9();($i!==n||is!==e)&&(Tu=null,Qv=Jr()+500,Rm(n,e));do try{CQ();break}catch(a){g9(n,a)}while(!0);b4(),xA.current=s,Sn=i,di!==null?e=0:($i=null,is=0,e=Si)}if(e!==0){if(e===2&&(i=CT(n),i!==0&&(r=i,e=tk(n,i))),e===1)throw t=Uw,Rm(n,0),gh(n,r),ko(n,Jr()),t;if(e===6)gh(n,r);else{if(i=n.current.alternate,!(r&30)&&!SQ(i)&&(e=EA(n,r),e===2&&(s=CT(n),s!==0&&(r=s,e=tk(n,s))),e===1))throw t=Uw,Rm(n,0),gh(n,r),ko(n,Jr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(He(345));case 2:lp(n,_o,Tu);break;case 3:if(gh(n,r),(r&130023424)===r&&(e=M4+500-Jr(),10<e)){if(oA(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Qs(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=MT(lp.bind(null,n,_o,Tu),e);break}lp(n,_o,Tu);break;case 4:if(gh(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Ul(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Jr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EQ(r/1960))-r,10<r){n.timeoutHandle=MT(lp.bind(null,n,_o,Tu),r);break}lp(n,_o,Tu);break;case 5:lp(n,_o,Tu);break;default:throw Error(He(329))}}}return ko(n,Jr()),n.callbackNode===t?m9.bind(null,n):null}function tk(n,e){var t=aw;return n.current.memoizedState.isDehydrated&&(Rm(n,e).flags|=256),n=EA(n,e),n!==2&&(e=_o,_o=t,e!==null&&nk(e)),n}function nk(n){_o===null?_o=n:_o.push.apply(_o,n)}function SQ(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!$l(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gh(n,e){for(e&=~D4,e&=~$E,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ul(e),r=1<<t;n[t]=-1,e&=~r}}function sD(n){if(Sn&6)throw Error(He(327));x0();var e=oA(n,0);if(!(e&1))return ko(n,Jr()),null;var t=EA(n,e);if(n.tag!==0&&t===2){var r=CT(n);r!==0&&(e=r,t=tk(n,r))}if(t===1)throw t=Uw,Rm(n,0),gh(n,e),ko(n,Jr()),t;if(t===6)throw Error(He(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,lp(n,_o,Tu),ko(n,Jr()),null}function j4(n,e){var t=Sn;Sn|=1;try{return n(e)}finally{Sn=t,Sn===0&&(Qv=Jr()+500,BE&&Ff())}}function Vm(n){tf!==null&&tf.tag===0&&!(Sn&6)&&x0();var e=Sn;Sn|=1;var t=Ya.transition,r=Hn;try{if(Ya.transition=null,Hn=1,n)return n()}finally{Hn=r,Ya.transition=t,Sn=e,!(Sn&6)&&Ff()}}function O4(){oa=h0.current,mr(h0)}function Rm(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,tQ(t)),di!==null)for(t=di.return;t!==null;){var r=t;switch(v4(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dA();break;case 3:Yv(),mr(Co),mr(Ms),N4();break;case 5:S4(r);break;case 4:Yv();break;case 13:mr(Rr);break;case 19:mr(Rr);break;case 10:x4(r.type._context);break;case 22:case 23:O4()}t=t.return}if($i=n,di=n=gf(n.current,null),is=oa=e,Si=0,Uw=null,D4=$E=Um=0,_o=aw=null,_p!==null){for(e=0;e<_p.length;e++)if(t=_p[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}_p=null}return n}function g9(n,e){do{var t=di;try{if(b4(),X_.current=bA,wA){for(var r=Lr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wA=!1}if(Bm=0,Ui=Ai=Lr=null,sw=!1,Ow=0,L4.current=null,t===null||t.return===null){Si=1,Uw=e,di=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=is,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=W6(o);if(f!==null){f.flags&=-257,G6(f,o,a,s,e),f.mode&1&&q6(s,c,e),e=f,l=c;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){q6(s,c,e),F4();break e}l=Error(He(426))}}else if(_r&&a.mode&1){var _=W6(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),G6(_,o,a,s,e),y4(Xv(l,a));break e}}s=l=Xv(l,a),Si!==4&&(Si=2),aw===null?aw=[s]:aw.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=Z7(s,l,e);B6(s,b);break e;case 1:a=l;var A=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(pf===null||!pf.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=e9(s,a,e);B6(s,N);break e}}s=s.return}while(s!==null)}w9(t)}catch(F){e=F,di===t&&t!==null&&(di=t=t.return);continue}break}while(!0)}function v9(){var n=xA.current;return xA.current=bA,n===null?bA:n}function F4(){(Si===0||Si===3||Si===2)&&(Si=4),$i===null||!(Um&268435455)&&!($E&268435455)||gh($i,is)}function EA(n,e){var t=Sn;Sn|=2;var r=v9();($i!==n||is!==e)&&(Tu=null,Rm(n,e));do try{NQ();break}catch(i){g9(n,i)}while(!0);if(b4(),Sn=t,xA.current=r,di!==null)throw Error(He(261));return $i=null,is=0,Si}function NQ(){for(;di!==null;)y9(di)}function CQ(){for(;di!==null&&!JY();)y9(di)}function y9(n){var e=x9(n.alternate,n,oa);n.memoizedProps=n.pendingProps,e===null?w9(n):di=e,L4.current=null}function w9(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=bQ(t,e),t!==null){t.flags&=32767,di=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Si=6,di=null;return}}else if(t=wQ(t,e,oa),t!==null){di=t;return}if(e=e.sibling,e!==null){di=e;return}di=e=n}while(e!==null);Si===0&&(Si=5)}function lp(n,e,t){var r=Hn,i=Ya.transition;try{Ya.transition=null,Hn=1,TQ(n,e,t,r)}finally{Ya.transition=i,Hn=r}return null}function TQ(n,e,t,r){do x0();while(tf!==null);if(Sn&6)throw Error(He(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(He(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(lX(n,s),n===$i&&(di=$i=null,is=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||s_||(s_=!0,_9(sA,function(){return x0(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Ya.transition,Ya.transition=null;var o=Hn;Hn=1;var a=Sn;Sn|=4,L4.current=null,_Q(n,t),f9(t,n),KX(LT),aA=!!RT,LT=RT=null,n.current=t,AQ(t),ZY(),Sn=a,Hn=o,Ya.transition=s}else n.current=t;if(s_&&(s_=!1,tf=n,AA=i),s=n.pendingLanes,s===0&&(pf=null),nX(t.stateNode),ko(n,Jr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(_A)throw _A=!1,n=ZT,ZT=null,n;return AA&1&&n.tag!==0&&x0(),s=n.pendingLanes,s&1?n===ek?lw++:(lw=0,ek=n):lw=0,Ff(),null}function x0(){if(tf!==null){var n=Z8(AA),e=Ya.transition,t=Hn;try{if(Ya.transition=null,Hn=16>n?16:n,tf===null)var r=!1;else{if(n=tf,tf=null,AA=0,Sn&6)throw Error(He(331));var i=Sn;for(Sn|=4,ut=n.current;ut!==null;){var s=ut,o=s.child;if(ut.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ut=c;ut!==null;){var u=ut;switch(u.tag){case 0:case 11:case 15:ow(8,u,s)}var h=u.child;if(h!==null)h.return=u,ut=h;else for(;ut!==null;){u=ut;var p=u.sibling,f=u.return;if(u9(u),u===c){ut=null;break}if(p!==null){p.return=f,ut=p;break}ut=f}}}var w=s.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}ut=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ut=o;else e:for(;ut!==null;){if(s=ut,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ow(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,ut=b;break e}ut=s.return}}var A=n.current;for(ut=A;ut!==null;){o=ut;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ut=E;else e:for(o=A;ut!==null;){if(a=ut,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zE(9,a)}}catch(F){Hr(a,a.return,F)}if(a===o){ut=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,ut=N;break e}ut=a.return}}if(Sn=i,Ff(),Hc&&typeof Hc.onPostCommitFiberRoot=="function")try{Hc.onPostCommitFiberRoot(DE,n)}catch{}r=!0}return r}finally{Hn=t,Ya.transition=e}}return!1}function oD(n,e,t){e=Xv(t,e),e=Z7(n,e,1),n=ff(n,e,1),e=Qs(),n!==null&&(V2(n,1,e),ko(n,e))}function Hr(n,e,t){if(n.tag===3)oD(n,n,t);else for(;e!==null;){if(e.tag===3){oD(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pf===null||!pf.has(r))){n=Xv(t,n),n=e9(e,n,1),e=ff(e,n,1),n=Qs(),e!==null&&(V2(e,1,n),ko(e,n));break}}e=e.return}}function kQ(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Qs(),n.pingedLanes|=n.suspendedLanes&t,$i===n&&(is&t)===t&&(Si===4||Si===3&&(is&130023424)===is&&500>Jr()-M4?Rm(n,0):D4|=t),ko(n,e)}function b9(n,e){e===0&&(n.mode&1?(e=Yx,Yx<<=1,!(Yx&130023424)&&(Yx=4194304)):e=1);var t=Qs();n=xd(n,e),n!==null&&(V2(n,e,t),ko(n,t))}function IQ(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),b9(n,t)}function PQ(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(He(314))}r!==null&&r.delete(e),b9(n,t)}var x9;x9=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Co.current)Eo=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Eo=!1,yQ(n,e,t);Eo=!!(n.flags&131072)}else Eo=!1,_r&&e.flags&1048576&&S7(e,pA,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;J_(n,e),n=e.pendingProps;var i=Wv(e,Ms.current);b0(e,t),i=T4(null,e,r,n,i,t);var s=k4();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,To(r)?(s=!0,hA(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,A4(e),i.updater=VE,e.stateNode=i,i._reactInternals=e,zT(e,r,n,t),e=qT(null,e,r,!0,s,t)):(e.tag=0,_r&&s&&g4(e),Ws(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(J_(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=LQ(r),n=vl(r,n),i){case 0:e=HT(null,e,r,n,t);break e;case 1:e=X6(null,e,r,n,t);break e;case 11:e=K6(null,e,r,n,t);break e;case 14:e=Y6(null,e,r,vl(r.type,n),t);break e}throw Error(He(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vl(r,i),HT(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vl(r,i),X6(n,e,r,i,t);case 3:e:{if(i9(e),n===null)throw Error(He(387));r=e.pendingProps,s=e.memoizedState,i=s.element,P7(n,e),vA(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xv(Error(He(423)),e),e=Q6(n,e,r,t,i);break e}else if(r!==i){i=Xv(Error(He(424)),e),e=Q6(n,e,r,t,i);break e}else for(ca=hf(e.stateNode.containerInfo.firstChild),pa=e,_r=!0,Ol=null,t=k7(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Gv(),r===i){e=_d(n,e,t);break e}Ws(n,e,r,t)}e=e.child}return e;case 5:return R7(e),n===null&&BT(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,DT(r,i)?o=null:s!==null&&DT(r,s)&&(e.flags|=32),r9(n,e),Ws(n,e,o,t),e.child;case 6:return n===null&&BT(e),null;case 13:return s9(n,e,t);case 4:return E4(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Kv(e,null,r,t):Ws(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vl(r,i),K6(n,e,r,i,t);case 7:return Ws(n,e,e.pendingProps,t),e.child;case 8:return Ws(n,e,e.pendingProps.children,t),e.child;case 12:return Ws(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,lr(mA,r._currentValue),r._currentValue=o,s!==null)if($l(s.value,o)){if(s.children===i.children&&!Co.current){e=_d(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=dd(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),UT(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(He(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),UT(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ws(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,b0(e,t),i=Ja(i),r=r(i),e.flags|=1,Ws(n,e,r,t),e.child;case 14:return r=e.type,i=vl(r,e.pendingProps),i=vl(r.type,i),Y6(n,e,r,i,t);case 15:return t9(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vl(r,i),J_(n,e),e.tag=1,To(r)?(n=!0,hA(e)):n=!1,b0(e,t),J7(e,r,i),zT(e,r,i,t),qT(null,e,r,!0,n,t);case 19:return o9(n,e,t);case 22:return n9(n,e,t)}throw Error(He(156,e.tag))};function _9(n,e){return Y8(n,e)}function RQ(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ka(n,e,t,r){return new RQ(n,e,t,r)}function B4(n){return n=n.prototype,!(!n||!n.isReactComponent)}function LQ(n){if(typeof n=="function")return B4(n)?1:0;if(n!=null){if(n=n.$$typeof,n===i4)return 11;if(n===s4)return 14}return 2}function gf(n,e){var t=n.alternate;return t===null?(t=Ka(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function t5(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")B4(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case n0:return Lm(t.children,i,s,e);case r4:o=8,i|=8;break;case hT:return n=Ka(12,t,e,i|2),n.elementType=hT,n.lanes=s,n;case fT:return n=Ka(13,t,e,i),n.elementType=fT,n.lanes=s,n;case pT:return n=Ka(19,t,e,i),n.elementType=pT,n.lanes=s,n;case R8:return HE(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case I8:o=10;break e;case P8:o=9;break e;case i4:o=11;break e;case s4:o=14;break e;case fh:o=16,r=null;break e}throw Error(He(130,n==null?n:typeof n,""))}return e=Ka(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Lm(n,e,t,r){return n=Ka(7,n,r,e),n.lanes=t,n}function HE(n,e,t,r){return n=Ka(22,n,r,e),n.elementType=R8,n.lanes=t,n.stateNode={isHidden:!1},n}function WN(n,e,t){return n=Ka(6,n,null,e),n.lanes=t,n}function GN(n,e,t){return e=Ka(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function DQ(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=CN(0),this.expirationTimes=CN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=CN(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function U4(n,e,t,r,i,s,o,a,l){return n=new DQ(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ka(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},A4(s),n}function MQ(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:t0,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function A9(n){if(!n)return Sf;n=n._reactInternals;e:{if(ug(n)!==n||n.tag!==1)throw Error(He(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(To(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(He(171))}if(n.tag===1){var t=n.type;if(To(t))return A7(n,t,e)}return e}function E9(n,e,t,r,i,s,o,a,l){return n=U4(t,r,!0,n,i,s,o,a,l),n.context=A9(null),t=n.current,r=Qs(),i=mf(t),s=dd(r,i),s.callback=e??null,ff(t,s,i),n.current.lanes=i,V2(n,i,r),ko(n,r),n}function qE(n,e,t,r){var i=e.current,s=Qs(),o=mf(i);return t=A9(t),e.context===null?e.context=t:e.pendingContext=t,e=dd(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=ff(i,e,o),n!==null&&(Vl(n,i,o,s),Y_(n,i,o)),o}function SA(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function aD(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function V4(n,e){aD(n,e),(n=n.alternate)&&aD(n,e)}function jQ(){return null}var S9=typeof reportError=="function"?reportError:function(n){console.error(n)};function z4(n){this._internalRoot=n}WE.prototype.render=z4.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(He(409));qE(n,e,null,null)};WE.prototype.unmount=z4.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Vm(function(){qE(null,n,null,null)}),e[bd]=null}};function WE(n){this._internalRoot=n}WE.prototype.unstable_scheduleHydration=function(n){if(n){var e=n7();n={blockedOn:null,target:n,priority:e};for(var t=0;t<mh.length&&e!==0&&e<mh[t].priority;t++);mh.splice(t,0,n),t===0&&i7(n)}};function $4(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function GE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function lD(){}function OQ(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=SA(o);s.call(c)}}var o=E9(e,r,n,0,null,!1,!1,"",lD);return n._reactRootContainer=o,n[bd]=o.current,Rw(n.nodeType===8?n.parentNode:n),Vm(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=SA(l);a.call(c)}}var l=U4(n,0,!1,null,null,!1,!1,"",lD);return n._reactRootContainer=l,n[bd]=l.current,Rw(n.nodeType===8?n.parentNode:n),Vm(function(){qE(e,l,t,r)}),l}function KE(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=SA(o);a.call(l)}}qE(e,o,n,i)}else o=OQ(t,e,n,i,r);return SA(o)}e7=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Cy(e.pendingLanes);t!==0&&(l4(e,t|1),ko(e,Jr()),!(Sn&6)&&(Qv=Jr()+500,Ff()))}break;case 13:Vm(function(){var r=xd(n,1);if(r!==null){var i=Qs();Vl(r,n,1,i)}}),V4(n,1)}};c4=function(n){if(n.tag===13){var e=xd(n,134217728);if(e!==null){var t=Qs();Vl(e,n,134217728,t)}V4(n,134217728)}};t7=function(n){if(n.tag===13){var e=mf(n),t=xd(n,e);if(t!==null){var r=Qs();Vl(t,n,e,r)}V4(n,e)}};n7=function(){return Hn};r7=function(n,e){var t=Hn;try{return Hn=n,e()}finally{Hn=t}};ET=function(n,e,t){switch(e){case"input":if(vT(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=FE(r);if(!i)throw Error(He(90));D8(r),vT(r,i)}}}break;case"textarea":j8(n,t);break;case"select":e=t.value,e!=null&&g0(n,!!t.multiple,e,!1)}};$8=j4;H8=Vm;var FQ={usingClientEntryPoint:!1,Events:[$2,o0,FE,V8,z8,j4]},hy={findFiberByHostInstance:xp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BQ={bundleType:hy.bundleType,version:hy.version,rendererPackageName:hy.rendererPackageName,rendererConfig:hy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ld.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=G8(n),n===null?null:n.stateNode},findFiberByHostInstance:hy.findFiberByHostInstance||jQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var o_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!o_.isDisabled&&o_.supportsFiber)try{DE=o_.inject(BQ),Hc=o_}catch{}}ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FQ;ba.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$4(e))throw Error(He(200));return MQ(n,e,null,t)};ba.createRoot=function(n,e){if(!$4(n))throw Error(He(299));var t=!1,r="",i=S9;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=U4(n,1,!1,null,null,t,!1,r,i),n[bd]=e.current,Rw(n.nodeType===8?n.parentNode:n),new z4(e)};ba.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(He(188)):(n=Object.keys(n).join(","),Error(He(268,n)));return n=G8(e),n=n===null?null:n.stateNode,n};ba.flushSync=function(n){return Vm(n)};ba.hydrate=function(n,e,t){if(!GE(e))throw Error(He(200));return KE(null,n,e,!0,t)};ba.hydrateRoot=function(n,e,t){if(!$4(n))throw Error(He(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=S9;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=E9(e,null,n,1,t??null,i,!1,s,o),n[bd]=e.current,Rw(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new WE(e)};ba.render=function(n,e,t){if(!GE(e))throw Error(He(200));return KE(null,n,e,!1,t)};ba.unmountComponentAtNode=function(n){if(!GE(n))throw Error(He(40));return n._reactRootContainer?(Vm(function(){KE(null,null,n,!1,function(){n._reactRootContainer=null,n[bd]=null})}),!0):!1};ba.unstable_batchedUpdates=j4;ba.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!GE(t))throw Error(He(200));if(n==null||n._reactInternals===void 0)throw Error(He(38));return KE(n,e,t,!1,r)};ba.version="18.3.1-next-f1338f8080-20240426";function N9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N9)}catch(n){console.error(n)}}N9(),N8.exports=ba;var q2=N8.exports;const C9=v1(q2);var T9,cD=q2;T9=cD.createRoot,cD.hydrateRoot;const UQ=1,VQ=1e6;let KN=0;function zQ(){return KN=(KN+1)%Number.MAX_SAFE_INTEGER,KN.toString()}const YN=new Map,uD=n=>{if(YN.has(n))return;const e=setTimeout(()=>{YN.delete(n),cw({type:"REMOVE_TOAST",toastId:n})},VQ);YN.set(n,e)},$Q=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,UQ)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?uD(t):n.toasts.forEach(r=>{uD(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},n5=[];let r5={toasts:[]};function cw(n){r5=$Q(r5,n),n5.forEach(e=>{e(r5)})}function HQ({...n}){const e=zQ(),t=i=>cw({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>cw({type:"DISMISS_TOAST",toastId:e});return cw({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function qQ(){const[n,e]=D.useState(r5);return D.useEffect(()=>(n5.push(e),()=>{const t=n5.indexOf(e);t>-1&&n5.splice(t,1)}),[n]),{...n,toast:HQ,dismiss:t=>cw({type:"DISMISS_TOAST",toastId:t})}}function Ot(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function dD(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function YE(...n){return e=>{let t=!1;const r=n.map(i=>{const s=dD(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():dD(n[i],null)}}}}function Hi(...n){return D.useCallback(YE(...n),n)}function dg(n,e=[]){let t=[];function r(s,o){const a=D.createContext(o),l=t.length;t=[...t,o];const c=h=>{var b;const{scope:p,children:f,...w}=h,y=((b=p==null?void 0:p[n])==null?void 0:b[l])||a,_=D.useMemo(()=>w,Object.values(w));return d.jsx(y.Provider,{value:_,children:f})};c.displayName=s+"Provider";function u(h,p){var y;const f=((y=p==null?void 0:p[n])==null?void 0:y[l])||a,w=D.useContext(f);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=t.map(o=>D.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return D.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,WQ(i,...e)]}function WQ(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return D.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Vw(n){const e=KQ(n),t=D.forwardRef((r,i)=>{const{children:s,...o}=r,a=D.Children.toArray(s),l=a.find(XQ);if(l){const c=l.props.children,u=a.map(h=>h===l?D.Children.count(c)>1?D.Children.only(null):D.isValidElement(c)?c.props.children:null:h);return d.jsx(e,{...o,ref:i,children:D.isValidElement(c)?D.cloneElement(c,void 0,u):null})}return d.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var GQ=Vw("Slot");function KQ(n){const e=D.forwardRef((t,r)=>{const{children:i,...s}=t;if(D.isValidElement(i)){const o=JQ(i),a=QQ(s,i.props);return i.type!==D.Fragment&&(a.ref=r?YE(r,o):o),D.cloneElement(i,a)}return D.Children.count(i)>1?D.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var k9=Symbol("radix.slottable");function YQ(n){const e=({children:t})=>d.jsx(d.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=k9,e}function XQ(n){return D.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===k9}function QQ(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function JQ(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function H4(n){const e=n+"CollectionProvider",[t,r]=dg(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:b}=y,A=Ye.useRef(null),E=Ye.useRef(new Map).current;return d.jsx(i,{scope:_,itemMap:E,collectionRef:A,children:b})};o.displayName=e;const a=n+"CollectionSlot",l=Vw(a),c=Ye.forwardRef((y,_)=>{const{scope:b,children:A}=y,E=s(a,b),N=Hi(_,E.collectionRef);return d.jsx(l,{ref:N,children:A})});c.displayName=a;const u=n+"CollectionItemSlot",h="data-radix-collection-item",p=Vw(u),f=Ye.forwardRef((y,_)=>{const{scope:b,children:A,...E}=y,N=Ye.useRef(null),F=Hi(_,N),V=s(u,b);return Ye.useEffect(()=>(V.itemMap.set(N,{ref:N,...E}),()=>void V.itemMap.delete(N))),d.jsx(p,{[h]:"",ref:F,children:A})});f.displayName=u;function w(y){const _=s(n+"CollectionConsumer",y);return Ye.useCallback(()=>{const A=_.collectionRef.current;if(!A)return[];const E=Array.from(A.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((V,L)=>E.indexOf(V.ref.current)-E.indexOf(L.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},w,r]}var ZQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gr=ZQ.reduce((n,e)=>{const t=Vw(`Primitive.${e}`),r=D.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function q4(n,e){n&&q2.flushSync(()=>n.dispatchEvent(e))}function wa(n){const e=D.useRef(n);return D.useEffect(()=>{e.current=n}),D.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function eJ(n,e=globalThis==null?void 0:globalThis.document){const t=wa(n);D.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var tJ="DismissableLayer",rk="dismissableLayer.update",nJ="dismissableLayer.pointerDownOutside",rJ="dismissableLayer.focusOutside",hD,I9=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),XE=D.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=D.useContext(I9),[u,h]=D.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=D.useState({}),w=Hi(e,L=>h(L)),y=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(_),A=u?y.indexOf(u):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,N=A>=b,F=sJ(L=>{const C=L.target,k=[...c.branches].some(j=>j.contains(C));!N||k||(i==null||i(L),o==null||o(L),L.defaultPrevented||a==null||a())},p),V=oJ(L=>{const C=L.target;[...c.branches].some(j=>j.contains(C))||(s==null||s(L),o==null||o(L),L.defaultPrevented||a==null||a())},p);return eJ(L=>{A===c.layers.size-1&&(r==null||r(L),!L.defaultPrevented&&a&&(L.preventDefault(),a()))},p),D.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(hD=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),fD(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=hD)}},[u,p,t,c]),D.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),fD())},[u,c]),D.useEffect(()=>{const L=()=>f({});return document.addEventListener(rk,L),()=>document.removeEventListener(rk,L)},[]),d.jsx(gr.div,{...l,ref:w,style:{pointerEvents:E?N?"auto":"none":void 0,...n.style},onFocusCapture:Ot(n.onFocusCapture,V.onFocusCapture),onBlurCapture:Ot(n.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Ot(n.onPointerDownCapture,F.onPointerDownCapture)})});XE.displayName=tJ;var iJ="DismissableLayerBranch",P9=D.forwardRef((n,e)=>{const t=D.useContext(I9),r=D.useRef(null),i=Hi(e,r);return D.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),d.jsx(gr.div,{...n,ref:i})});P9.displayName=iJ;function sJ(n,e=globalThis==null?void 0:globalThis.document){const t=wa(n),r=D.useRef(!1),i=D.useRef(()=>{});return D.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){R9(nJ,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function oJ(n,e=globalThis==null?void 0:globalThis.document){const t=wa(n),r=D.useRef(!1);return D.useEffect(()=>{const i=s=>{s.target&&!r.current&&R9(rJ,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fD(){const n=new CustomEvent(rk);document.dispatchEvent(n)}function R9(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?q4(i,s):i.dispatchEvent(s)}var aJ=XE,lJ=P9,Ad=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},cJ="Portal",W4=D.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=D.useState(!1);Ad(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?C9.createPortal(d.jsx(gr.div,{...r,ref:e}),o):null});W4.displayName=cJ;function uJ(n,e){return D.useReducer((t,r)=>e[t][r]??t,n)}var hg=n=>{const{present:e,children:t}=n,r=dJ(e),i=typeof t=="function"?t({present:r.isPresent}):D.Children.only(t),s=Hi(r.ref,hJ(i));return typeof t=="function"||r.isPresent?D.cloneElement(i,{ref:s}):null};hg.displayName="Presence";function dJ(n){const[e,t]=D.useState(),r=D.useRef(null),i=D.useRef(n),s=D.useRef("none"),o=n?"mounted":"unmounted",[a,l]=uJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const c=a_(r.current);s.current=a==="mounted"?c:"none"},[a]),Ad(()=>{const c=r.current,u=i.current;if(u!==n){const p=s.current,f=a_(c);n?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),Ad(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=f=>{const y=a_(r.current).includes(f.animationName);if(f.target===e&&y&&(l("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=f=>{f.target===e&&(s.current=a_(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:D.useCallback(c=>{r.current=c?getComputedStyle(c):null,t(c)},[])}}function a_(n){return(n==null?void 0:n.animationName)||"none"}function hJ(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var fJ=ZP[" useInsertionEffect ".trim().toString()]||Ad;function G4({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,o]=pJ({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:i;{const u=D.useRef(n!==void 0);D.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=D.useCallback(u=>{var h;if(a){const p=mJ(u)?u(n):u;p!==n&&((h=o.current)==null||h.call(o,p))}else s(u)},[a,n,s,o]);return[l,c]}function pJ({defaultProp:n,onChange:e}){const[t,r]=D.useState(n),i=D.useRef(t),s=D.useRef(e);return fJ(()=>{s.current=e},[e]),D.useEffect(()=>{var o;i.current!==t&&((o=s.current)==null||o.call(s,t),i.current=t)},[t,i]),[t,r,s]}function mJ(n){return typeof n=="function"}var gJ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vJ="VisuallyHidden",QE=D.forwardRef((n,e)=>d.jsx(gr.span,{...n,ref:e,style:{...gJ,...n.style}}));QE.displayName=vJ;var yJ=QE,K4="ToastProvider",[Y4,wJ,bJ]=H4("Toast"),[L9,Xxe]=dg("Toast",[bJ]),[xJ,JE]=L9(K4),D9=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=n,[a,l]=D.useState(null),[c,u]=D.useState(0),h=D.useRef(!1),p=D.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${K4}\`. Expected non-empty \`string\`.`),d.jsx(Y4.Provider,{scope:e,children:d.jsx(xJ,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:D.useCallback(()=>u(f=>f+1),[]),onToastRemove:D.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};D9.displayName=K4;var M9="ToastViewport",_J=["F8"],ik="toast.viewportPause",sk="toast.viewportResume",j9=D.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=_J,label:i="Notifications ({hotkey})",...s}=n,o=JE(M9,t),a=wJ(t),l=D.useRef(null),c=D.useRef(null),u=D.useRef(null),h=D.useRef(null),p=Hi(e,h,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;D.useEffect(()=>{const _=b=>{var E;r.length!==0&&r.every(N=>b[N]||b.code===N)&&((E=h.current)==null||E.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),D.useEffect(()=>{const _=l.current,b=h.current;if(w&&_&&b){const A=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(ik);b.dispatchEvent(V),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(sk);b.dispatchEvent(V),o.isClosePausedRef.current=!1}},N=V=>{!_.contains(V.relatedTarget)&&E()},F=()=>{_.contains(document.activeElement)||E()};return _.addEventListener("focusin",A),_.addEventListener("focusout",N),_.addEventListener("pointermove",A),_.addEventListener("pointerleave",F),window.addEventListener("blur",A),window.addEventListener("focus",E),()=>{_.removeEventListener("focusin",A),_.removeEventListener("focusout",N),_.removeEventListener("pointermove",A),_.removeEventListener("pointerleave",F),window.removeEventListener("blur",A),window.removeEventListener("focus",E)}}},[w,o.isClosePausedRef]);const y=D.useCallback(({tabbingDirection:_})=>{const A=a().map(E=>{const N=E.ref.current,F=[N,...MJ(N)];return _==="forwards"?F:F.reverse()});return(_==="forwards"?A.reverse():A).flat()},[a]);return D.useEffect(()=>{const _=h.current;if(_){const b=A=>{var F,V,L;const E=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!E){const C=document.activeElement,k=A.shiftKey;if(A.target===_&&k){(F=c.current)==null||F.focus();return}const M=y({tabbingDirection:k?"backwards":"forwards"}),R=M.findIndex(q=>q===C);XN(M.slice(R+1))?A.preventDefault():k?(V=c.current)==null||V.focus():(L=u.current)==null||L.focus()}};return _.addEventListener("keydown",b),()=>_.removeEventListener("keydown",b)}},[a,y]),d.jsxs(lJ,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&d.jsx(ok,{ref:c,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"forwards"});XN(_)}}),d.jsx(Y4.Slot,{scope:t,children:d.jsx(gr.ol,{tabIndex:-1,...s,ref:p})}),w&&d.jsx(ok,{ref:u,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"backwards"});XN(_)}})]})});j9.displayName=M9;var O9="ToastFocusProxy",ok=D.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=JE(O9,t);return d.jsx(QE,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});ok.displayName=O9;var W2="Toast",AJ="toast.swipeStart",EJ="toast.swipeMove",SJ="toast.swipeCancel",NJ="toast.swipeEnd",F9=D.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...o}=n,[a,l]=G4({prop:r,defaultProp:i??!0,onChange:s,caller:W2});return d.jsx(hg,{present:t||a,children:d.jsx(kJ,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:wa(n.onPause),onResume:wa(n.onResume),onSwipeStart:Ot(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ot(n.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ot(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ot(n.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});F9.displayName=W2;var[CJ,TJ]=L9(W2,{onClose(){}}),kJ=D.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...w}=n,y=JE(W2,t),[_,b]=D.useState(null),A=Hi(e,q=>b(q)),E=D.useRef(null),N=D.useRef(null),F=i||y.duration,V=D.useRef(0),L=D.useRef(F),C=D.useRef(0),{onToastAdd:k,onToastRemove:j}=y,T=wa(()=>{var ce;(_==null?void 0:_.contains(document.activeElement))&&((ce=y.viewport)==null||ce.focus()),o()}),M=D.useCallback(q=>{!q||q===1/0||(window.clearTimeout(C.current),V.current=new Date().getTime(),C.current=window.setTimeout(T,q))},[T]);D.useEffect(()=>{const q=y.viewport;if(q){const ce=()=>{M(L.current),c==null||c()},de=()=>{const ae=new Date().getTime()-V.current;L.current=L.current-ae,window.clearTimeout(C.current),l==null||l()};return q.addEventListener(ik,de),q.addEventListener(sk,ce),()=>{q.removeEventListener(ik,de),q.removeEventListener(sk,ce)}}},[y.viewport,F,l,c,M]),D.useEffect(()=>{s&&!y.isClosePausedRef.current&&M(F)},[s,F,y.isClosePausedRef,M]),D.useEffect(()=>(k(),()=>j()),[k,j]);const R=D.useMemo(()=>_?q9(_):null,[_]);return y.viewport?d.jsxs(d.Fragment,{children:[R&&d.jsx(IJ,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),d.jsx(CJ,{scope:t,onClose:T,children:q2.createPortal(d.jsx(Y4.ItemSlot,{scope:t,children:d.jsx(aJ,{asChild:!0,onEscapeKeyDown:Ot(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||T(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(gr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:A,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Ot(n.onKeyDown,q=>{q.key==="Escape"&&(a==null||a(q.nativeEvent),q.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:Ot(n.onPointerDown,q=>{q.button===0&&(E.current={x:q.clientX,y:q.clientY})}),onPointerMove:Ot(n.onPointerMove,q=>{if(!E.current)return;const ce=q.clientX-E.current.x,de=q.clientY-E.current.y,ae=!!N.current,Q=["left","right"].includes(y.swipeDirection),ne=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ge=Q?ne(0,ce):0,pe=Q?0:ne(0,de),U=q.pointerType==="touch"?10:2,Y={x:ge,y:pe},re={originalEvent:q,delta:Y};ae?(N.current=Y,l_(EJ,h,re,{discrete:!1})):pD(Y,y.swipeDirection,U)?(N.current=Y,l_(AJ,u,re,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(ce)>U||Math.abs(de)>U)&&(E.current=null)}),onPointerUp:Ot(n.onPointerUp,q=>{const ce=N.current,de=q.target;if(de.hasPointerCapture(q.pointerId)&&de.releasePointerCapture(q.pointerId),N.current=null,E.current=null,ce){const ae=q.currentTarget,Q={originalEvent:q,delta:ce};pD(ce,y.swipeDirection,y.swipeThreshold)?l_(NJ,f,Q,{discrete:!0}):l_(SJ,p,Q,{discrete:!0}),ae.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),IJ=n=>{const{__scopeToast:e,children:t,...r}=n,i=JE(W2,e),[s,o]=D.useState(!1),[a,l]=D.useState(!1);return LJ(()=>o(!0)),D.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(W4,{asChild:!0,children:d.jsx(QE,{...r,children:s&&d.jsxs(d.Fragment,{children:[i.label," ",t]})})})},PJ="ToastTitle",B9=D.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return d.jsx(gr.div,{...r,ref:e})});B9.displayName=PJ;var RJ="ToastDescription",U9=D.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return d.jsx(gr.div,{...r,ref:e})});U9.displayName=RJ;var V9="ToastAction",z9=D.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?d.jsx(H9,{altText:t,asChild:!0,children:d.jsx(X4,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${V9}\`. Expected non-empty \`string\`.`),null)});z9.displayName=V9;var $9="ToastClose",X4=D.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=TJ($9,t);return d.jsx(H9,{asChild:!0,children:d.jsx(gr.button,{type:"button",...r,ref:e,onClick:Ot(n.onClick,i.onClose)})})});X4.displayName=$9;var H9=D.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return d.jsx(gr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function q9(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),DJ(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...q9(r))}}),e}function l_(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?q4(i,s):i.dispatchEvent(s)}var pD=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function LJ(n=()=>{}){const e=wa(n);Ad(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function DJ(n){return n.nodeType===n.ELEMENT_NODE}function MJ(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function XN(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var jJ=D9,W9=j9,G9=F9,K9=B9,Y9=U9,X9=z9,Q9=X4;function J9(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=J9(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function x1(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=J9(n))&&(r&&(r+=" "),r+=e);return r}const mD=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,gD=x1,Q4=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return gD(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=t==null?void 0:t[c],h=s==null?void 0:s[c];if(u===null)return null;const p=mD(u)||mD(h);return i[c][p]}),a=t&&Object.entries(t).reduce((c,u)=>{let[h,p]=u;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:p,...f}=u;return Object.entries(f).every(w=>{let[y,_]=w;return Array.isArray(_)?_.includes({...s,...a}[y]):{...s,...a}[y]===_})?[...c,h,p]:c},[]);return gD(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z9=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>D.createElement("svg",{ref:l,...FJ,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Z9("lucide",i),...a},[...o.map(([c,u])=>D.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(n,e)=>{const t=D.forwardRef(({className:r,...i},s)=>D.createElement(BJ,{ref:s,iconNode:e,className:Z9(`lucide-${OJ(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=yt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=yt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=yt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=yt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=yt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=yt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=yt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=yt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=yt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=yt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=yt("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=yt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=yt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=yt("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=yt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=yt("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=yt("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=yt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=yt("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=yt("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=yt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=yt("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=yt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=yt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=yt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=yt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=yt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=yt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=yt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=yt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=yt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=yt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=yt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=yt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=yt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=yt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=yt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=yt("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=yt("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=yt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=yt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=yt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=yt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=yt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=yt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=yt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=yt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=yt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=yt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=yt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=yt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=yt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=yt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=yt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),tR="-",dZ=n=>{const e=fZ(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(tR);return a[0]===""&&a.length!==1&&a.shift(),uB(a,e)||hZ(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},uB=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?uB(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(tR);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},_D=/^\[(.+)\]$/,hZ=n=>{if(_D.test(n)){const e=_D.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},fZ=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return mZ(Object.entries(n.classGroups),t).forEach(([s,o])=>{lk(o,r,s,e)}),r},lk=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:AD(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(pZ(i)){lk(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{lk(o,AD(e,s),t,r)})})},AD=(n,e)=>{let t=n;return e.split(tR).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},pZ=n=>n.isThemeGetter,mZ=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):n,gZ=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},dB="!",vZ=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let _=0;_<a.length;_++){let b=a[_];if(c===0){if(b===i&&(r||a.slice(_,_+s)===e)){l.push(a.slice(u,_)),u=_+s;continue}if(b==="/"){h=_;continue}}b==="["?c++:b==="]"&&c--}const p=l.length===0?a:a.substring(u),f=p.startsWith(dB),w=f?p.substring(1):p,y=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:w,maybePostfixModifierPosition:y}};return t?a=>t({className:a,parseClassName:o}):o},yZ=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},wZ=n=>({cache:gZ(n.cacheSize),parseClassName:vZ(n),...dZ(n)}),bZ=/\s+/,xZ=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=n.trim().split(bZ);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=t(c);let w=!!f,y=r(w?p.substring(0,f):p);if(!y){if(!w){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}w=!1}const _=yZ(u).join(":"),b=h?_+dB:_,A=b+y;if(s.includes(A))continue;s.push(A);const E=i(y,w);for(let N=0;N<E.length;++N){const F=E[N];s.push(b+F)}a=c+(a.length>0?" "+a:a)}return a};function _Z(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=hB(e))&&(r&&(r+=" "),r+=t);return r}const hB=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=hB(n[r]))&&(t&&(t+=" "),t+=e);return t};function AZ(n,...e){let t,r,i,s=o;function o(l){const c=e.reduce((u,h)=>h(u),n());return t=wZ(c),r=t.cache.get,i=t.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=xZ(l,t);return i(l,u),u}return function(){return s(_Z.apply(null,arguments))}}const ur=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},fB=/^\[(?:([a-z-]+):)?(.+)\]$/i,EZ=/^\d+\/\d+$/,SZ=new Set(["px","full","screen"]),NZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,TZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xu=n=>_0(n)||SZ.has(n)||EZ.test(n),ih=n=>A1(n,"length",FZ),_0=n=>!!n&&!Number.isNaN(Number(n)),QN=n=>A1(n,"number",_0),fy=n=>!!n&&Number.isInteger(Number(n)),PZ=n=>n.endsWith("%")&&_0(n.slice(0,-1)),en=n=>fB.test(n),sh=n=>NZ.test(n),RZ=new Set(["length","size","percentage"]),LZ=n=>A1(n,RZ,pB),DZ=n=>A1(n,"position",pB),MZ=new Set(["image","url"]),jZ=n=>A1(n,MZ,UZ),OZ=n=>A1(n,"",BZ),py=()=>!0,A1=(n,e,t)=>{const r=fB.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},FZ=n=>CZ.test(n)&&!TZ.test(n),pB=()=>!1,BZ=n=>kZ.test(n),UZ=n=>IZ.test(n),VZ=()=>{const n=ur("colors"),e=ur("spacing"),t=ur("blur"),r=ur("brightness"),i=ur("borderColor"),s=ur("borderRadius"),o=ur("borderSpacing"),a=ur("borderWidth"),l=ur("contrast"),c=ur("grayscale"),u=ur("hueRotate"),h=ur("invert"),p=ur("gap"),f=ur("gradientColorStops"),w=ur("gradientColorStopPositions"),y=ur("inset"),_=ur("margin"),b=ur("opacity"),A=ur("padding"),E=ur("saturate"),N=ur("scale"),F=ur("sepia"),V=ur("skew"),L=ur("space"),C=ur("translate"),k=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",en,e],M=()=>[en,e],R=()=>["",xu,ih],q=()=>["auto",_0,en],ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],de=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",en],ge=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[_0,en];return{cacheSize:500,separator:":",theme:{colors:[py],spacing:[xu,ih],blur:["none","",sh,en],brightness:pe(),borderColor:[n],borderRadius:["none","","full",sh,en],borderSpacing:M(),borderWidth:R(),contrast:pe(),grayscale:ne(),hueRotate:pe(),invert:ne(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[PZ,ih],inset:T(),margin:T(),opacity:pe(),padding:M(),saturate:pe(),scale:pe(),sepia:ne(),skew:pe(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",en]}],container:["container"],columns:[{columns:[sh]}],"break-after":[{"break-after":ge()}],"break-before":[{"break-before":ge()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ce(),en]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fy,en]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",en]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",fy,en]}],"grid-cols":[{"grid-cols":[py]}],"col-start-end":[{col:["auto",{span:["full",fy,en]},en]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[py]}],"row-start-end":[{row:["auto",{span:[fy,en]},en]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",en]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",en]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",en,e]}],"min-w":[{"min-w":[en,e,"min","max","fit"]}],"max-w":[{"max-w":[en,e,"none","full","min","max","fit","prose",{screen:[sh]},sh]}],h:[{h:[en,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[en,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[en,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[en,e,"auto","min","max","fit"]}],"font-size":[{text:["base",sh,ih]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",QN]}],"font-family":[{font:[py]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",en]}],"line-clamp":[{"line-clamp":["none",_0,QN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xu,en]}],"list-image":[{"list-image":["none",en]}],"list-style-type":[{list:["none","disc","decimal",en]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xu,ih]}],"underline-offset":[{"underline-offset":["auto",xu,en]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",en]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",en]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ce(),DZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",LZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jZ]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...de(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:de()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...de()]}],"outline-offset":[{"outline-offset":[xu,en]}],"outline-w":[{outline:[xu,ih]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[xu,ih]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",sh,OZ]}],"shadow-color":[{shadow:[py]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",sh,en]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[E]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",en]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",en]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",en]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[fy,en]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",en]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",en]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",en]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[xu,ih,QN]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zZ=AZ(VZ);function vr(...n){return zZ(x1(n))}const $Z=jJ,mB=D.forwardRef(({className:n,...e},t)=>d.jsx(W9,{ref:t,className:vr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));mB.displayName=W9.displayName;const HZ=Q4("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gB=D.forwardRef(({className:n,variant:e,...t},r)=>d.jsx(G9,{ref:r,className:vr(HZ({variant:e}),n),...t}));gB.displayName=G9.displayName;const qZ=D.forwardRef(({className:n,...e},t)=>d.jsx(X9,{ref:t,className:vr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...e}));qZ.displayName=X9.displayName;const vB=D.forwardRef(({className:n,...e},t)=>d.jsx(Q9,{ref:t,className:vr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:d.jsx(Ps,{className:"h-4 w-4"})}));vB.displayName=Q9.displayName;const yB=D.forwardRef(({className:n,...e},t)=>d.jsx(K9,{ref:t,className:vr("text-sm font-semibold",n),...e}));yB.displayName=K9.displayName;const wB=D.forwardRef(({className:n,...e},t)=>d.jsx(Y9,{ref:t,className:vr("text-sm opacity-90",n),...e}));wB.displayName=Y9.displayName;function WZ(){const{toasts:n}=qQ();return d.jsxs($Z,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return d.jsxs(gB,{...s,children:[d.jsxs("div",{className:"grid gap-1",children:[t&&d.jsx(yB,{children:t}),r&&d.jsx(wB,{children:r})]}),i,d.jsx(vB,{})]},e)}),d.jsx(mB,{})]})}var ED=["light","dark"],GZ="(prefers-color-scheme: dark)",KZ=D.createContext(void 0),YZ={setTheme:n=>{},themes:[]},XZ=()=>{var n;return(n=D.useContext(KZ))!=null?n:YZ};D.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=i?ED.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(w,y=!1,_=!0)=>{let b=o?o[w]:w,A=y?w+"|| ''":`'${b}'`,E="";return i&&_&&!y&&ED.includes(w)&&(E+=`d.style.colorScheme = '${w}';`),t==="class"?y||b?E+=`c.add(${A})`:E+="null":b&&(E+=`d[s](n,${A})`),E},f=n?`!function(){${u}${p(n)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${GZ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(s,!1,!1)};}${h}}catch(t){}}();`;return D.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var QZ=n=>{switch(n){case"success":return eee;case"info":return nee;case"warning":return tee;case"error":return ree;default:return null}},JZ=Array(12).fill(0),ZZ=({visible:n,className:e})=>Ye.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},Ye.createElement("div",{className:"sonner-spinner"},JZ.map((t,r)=>Ye.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),eee=Ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ye.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),tee=Ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ye.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nee=Ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ree=Ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iee=Ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ye.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ye.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),see=()=>{let[n,e]=Ye.useState(document.hidden);return Ye.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},ck=1,oee=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ck++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,o,a=i.then(async c=>{if(o=["resolve",c],Ye.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(lee(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,h=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:h})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:h})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:h})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||ck++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},bo=new oee,aee=(n,e)=>{let t=(e==null?void 0:e.id)||ck++;return bo.addToast({title:n,...e,id:t}),t},lee=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",cee=aee,uee=()=>bo.toasts,dee=()=>bo.getActiveToasts(),st=Object.assign(cee,{success:bo.success,info:bo.info,warning:bo.warning,error:bo.error,custom:bo.custom,message:bo.message,promise:bo.promise,dismiss:bo.dismiss,loading:bo.loading},{getHistory:uee,getToasts:dee});function hee(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}hee(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function c_(n){return n.label!==void 0}var fee=3,pee="32px",mee="16px",SD=4e3,gee=356,vee=14,yee=20,wee=200;function pl(...n){return n.filter(Boolean).join(" ")}function bee(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var xee=n=>{var e,t,r,i,s,o,a,l,c,u,h;let{invert:p,toast:f,unstyled:w,interacting:y,setHeights:_,visibleToasts:b,heights:A,index:E,toasts:N,expanded:F,removeToast:V,defaultRichColors:L,closeButton:C,style:k,cancelButtonStyle:j,actionButtonStyle:T,className:M="",descriptionClassName:R="",duration:q,position:ce,gap:de,loadingIcon:ae,expandByDefault:Q,classNames:ne,icons:ge,closeButtonAriaLabel:pe="Close toast",pauseWhenPageIsHidden:U}=n,[Y,re]=Ye.useState(null),[le,he]=Ye.useState(null),[ue,Ae]=Ye.useState(!1),[we,_e]=Ye.useState(!1),[Me,Ee]=Ye.useState(!1),[Ce,Le]=Ye.useState(!1),[J,je]=Ye.useState(!1),[Qe,Ge]=Ye.useState(0),[Ie,lt]=Ye.useState(0),Xe=Ye.useRef(f.duration||q||SD),pt=Ye.useRef(null),it=Ye.useRef(null),Lt=E===0,Oe=E+1<=b,Fe=f.type,Ke=f.dismissible!==!1,Nt=f.className||"",nt=f.descriptionClassName||"",kt=Ye.useMemo(()=>A.findIndex(It=>It.toastId===f.id)||0,[A,f.id]),wt=Ye.useMemo(()=>{var It;return(It=f.closeButton)!=null?It:C},[f.closeButton,C]),Ln=Ye.useMemo(()=>f.duration||q||SD,[f.duration,q]),nn=Ye.useRef(0),Ft=Ye.useRef(0),Vt=Ye.useRef(0),An=Ye.useRef(null),[Et,Nn]=ce.split("-"),Ct=Ye.useMemo(()=>A.reduce((It,jt,cn)=>cn>=kt?It:It+jt.height,0),[A,kt]),Bt=see(),Cn=f.invert||p,zt=Fe==="loading";Ft.current=Ye.useMemo(()=>kt*de+Ct,[kt,Ct]),Ye.useEffect(()=>{Xe.current=Ln},[Ln]),Ye.useEffect(()=>{Ae(!0)},[]),Ye.useEffect(()=>{let It=it.current;if(It){let jt=It.getBoundingClientRect().height;return lt(jt),_(cn=>[{toastId:f.id,height:jt,position:f.position},...cn]),()=>_(cn=>cn.filter(Wn=>Wn.toastId!==f.id))}},[_,f.id]),Ye.useLayoutEffect(()=>{if(!ue)return;let It=it.current,jt=It.style.height;It.style.height="auto";let cn=It.getBoundingClientRect().height;It.style.height=jt,lt(cn),_(Wn=>Wn.find(dt=>dt.toastId===f.id)?Wn.map(dt=>dt.toastId===f.id?{...dt,height:cn}:dt):[{toastId:f.id,height:cn,position:f.position},...Wn])},[ue,f.title,f.description,_,f.id]);let mt=Ye.useCallback(()=>{_e(!0),Ge(Ft.current),_(It=>It.filter(jt=>jt.toastId!==f.id)),setTimeout(()=>{V(f)},wee)},[f,V,_,Ft]);Ye.useEffect(()=>{if(f.promise&&Fe==="loading"||f.duration===1/0||f.type==="loading")return;let It;return F||y||U&&Bt?(()=>{if(Vt.current<nn.current){let jt=new Date().getTime()-nn.current;Xe.current=Xe.current-jt}Vt.current=new Date().getTime()})():Xe.current!==1/0&&(nn.current=new Date().getTime(),It=setTimeout(()=>{var jt;(jt=f.onAutoClose)==null||jt.call(f,f),mt()},Xe.current)),()=>clearTimeout(It)},[F,y,f,Fe,U,Bt,mt]),Ye.useEffect(()=>{f.delete&&mt()},[mt,f.delete]);function rn(){var It,jt,cn;return ge!=null&&ge.loading?Ye.createElement("div",{className:pl(ne==null?void 0:ne.loader,(It=f==null?void 0:f.classNames)==null?void 0:It.loader,"sonner-loader"),"data-visible":Fe==="loading"},ge.loading):ae?Ye.createElement("div",{className:pl(ne==null?void 0:ne.loader,(jt=f==null?void 0:f.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":Fe==="loading"},ae):Ye.createElement(ZZ,{className:pl(ne==null?void 0:ne.loader,(cn=f==null?void 0:f.classNames)==null?void 0:cn.loader),visible:Fe==="loading"})}return Ye.createElement("li",{tabIndex:0,ref:it,className:pl(M,Nt,ne==null?void 0:ne.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,ne==null?void 0:ne.default,ne==null?void 0:ne[Fe],(t=f==null?void 0:f.classNames)==null?void 0:t[Fe]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:L,"data-styled":!(f.jsx||f.unstyled||w),"data-mounted":ue,"data-promise":!!f.promise,"data-swiped":J,"data-removed":we,"data-visible":Oe,"data-y-position":Et,"data-x-position":Nn,"data-index":E,"data-front":Lt,"data-swiping":Me,"data-dismissible":Ke,"data-type":Fe,"data-invert":Cn,"data-swipe-out":Ce,"data-swipe-direction":le,"data-expanded":!!(F||Q&&ue),style:{"--index":E,"--toasts-before":E,"--z-index":N.length-E,"--offset":`${we?Qe:Ft.current}px`,"--initial-height":Q?"auto":`${Ie}px`,...k,...f.style},onDragEnd:()=>{Ee(!1),re(null),An.current=null},onPointerDown:It=>{zt||!Ke||(pt.current=new Date,Ge(Ft.current),It.target.setPointerCapture(It.pointerId),It.target.tagName!=="BUTTON"&&(Ee(!0),An.current={x:It.clientX,y:It.clientY}))},onPointerUp:()=>{var It,jt,cn,Wn;if(Ce||!Ke)return;An.current=null;let dt=Number(((It=it.current)==null?void 0:It.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),bn=Number(((jt=it.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),si=new Date().getTime()-((cn=pt.current)==null?void 0:cn.getTime()),Dn=Y==="x"?dt:bn,Qn=Math.abs(Dn)/si;if(Math.abs(Dn)>=yee||Qn>.11){Ge(Ft.current),(Wn=f.onDismiss)==null||Wn.call(f,f),he(Y==="x"?dt>0?"right":"left":bn>0?"down":"up"),mt(),Le(!0),je(!1);return}Ee(!1),re(null)},onPointerMove:It=>{var jt,cn,Wn,dt;if(!An.current||!Ke||((jt=window.getSelection())==null?void 0:jt.toString().length)>0)return;let bn=It.clientY-An.current.y,si=It.clientX-An.current.x,Dn=(cn=n.swipeDirections)!=null?cn:bee(ce);!Y&&(Math.abs(si)>1||Math.abs(bn)>1)&&re(Math.abs(si)>Math.abs(bn)?"x":"y");let Qn={x:0,y:0};Y==="y"?(Dn.includes("top")||Dn.includes("bottom"))&&(Dn.includes("top")&&bn<0||Dn.includes("bottom")&&bn>0)&&(Qn.y=bn):Y==="x"&&(Dn.includes("left")||Dn.includes("right"))&&(Dn.includes("left")&&si<0||Dn.includes("right")&&si>0)&&(Qn.x=si),(Math.abs(Qn.x)>0||Math.abs(Qn.y)>0)&&je(!0),(Wn=it.current)==null||Wn.style.setProperty("--swipe-amount-x",`${Qn.x}px`),(dt=it.current)==null||dt.style.setProperty("--swipe-amount-y",`${Qn.y}px`)}},wt&&!f.jsx?Ye.createElement("button",{"aria-label":pe,"data-disabled":zt,"data-close-button":!0,onClick:zt||!Ke?()=>{}:()=>{var It;mt(),(It=f.onDismiss)==null||It.call(f,f)},className:pl(ne==null?void 0:ne.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},(s=ge==null?void 0:ge.close)!=null?s:iee):null,f.jsx||D.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:Ye.createElement(Ye.Fragment,null,Fe||f.icon||f.promise?Ye.createElement("div",{"data-icon":"",className:pl(ne==null?void 0:ne.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||rn():null,f.type!=="loading"?f.icon||(ge==null?void 0:ge[Fe])||QZ(Fe):null):null,Ye.createElement("div",{"data-content":"",className:pl(ne==null?void 0:ne.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},Ye.createElement("div",{"data-title":"",className:pl(ne==null?void 0:ne.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?Ye.createElement("div",{"data-description":"",className:pl(R,nt,ne==null?void 0:ne.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),D.isValidElement(f.cancel)?f.cancel:f.cancel&&c_(f.cancel)?Ye.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||j,onClick:It=>{var jt,cn;c_(f.cancel)&&Ke&&((cn=(jt=f.cancel).onClick)==null||cn.call(jt,It),mt())},className:pl(ne==null?void 0:ne.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,D.isValidElement(f.action)?f.action:f.action&&c_(f.action)?Ye.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:It=>{var jt,cn;c_(f.action)&&((cn=(jt=f.action).onClick)==null||cn.call(jt,It),!It.defaultPrevented&&mt())},className:pl(ne==null?void 0:ne.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function ND(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function _ee(n,e){let t={};return[n,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?mee:pee;function l(c){["top","right","bottom","left"].forEach(u=>{t[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?t[`${o}-${c}`]=a:t[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),t}var Aee=D.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:p,style:f,visibleToasts:w=fee,toastOptions:y,dir:_=ND(),gap:b=vee,loadingIcon:A,icons:E,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:F}=n,[V,L]=Ye.useState([]),C=Ye.useMemo(()=>Array.from(new Set([r].concat(V.filter(U=>U.position).map(U=>U.position)))),[V,r]),[k,j]=Ye.useState([]),[T,M]=Ye.useState(!1),[R,q]=Ye.useState(!1),[ce,de]=Ye.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ae=Ye.useRef(null),Q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),ne=Ye.useRef(null),ge=Ye.useRef(!1),pe=Ye.useCallback(U=>{L(Y=>{var re;return(re=Y.find(le=>le.id===U.id))!=null&&re.delete||bo.dismiss(U.id),Y.filter(({id:le})=>le!==U.id)})},[]);return Ye.useEffect(()=>bo.subscribe(U=>{if(U.dismiss){L(Y=>Y.map(re=>re.id===U.id?{...re,delete:!0}:re));return}setTimeout(()=>{C9.flushSync(()=>{L(Y=>{let re=Y.findIndex(le=>le.id===U.id);return re!==-1?[...Y.slice(0,re),{...Y[re],...U},...Y.slice(re+1)]:[U,...Y]})})})}),[]),Ye.useEffect(()=>{if(u!=="system"){de(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?de("dark"):de("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:Y})=>{de(Y?"dark":"light")})}catch{U.addListener(({matches:re})=>{try{de(re?"dark":"light")}catch(le){console.error(le)}})}},[u]),Ye.useEffect(()=>{V.length<=1&&M(!1)},[V]),Ye.useEffect(()=>{let U=Y=>{var re,le;i.every(he=>Y[he]||Y.code===he)&&(M(!0),(re=ae.current)==null||re.focus()),Y.code==="Escape"&&(document.activeElement===ae.current||(le=ae.current)!=null&&le.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[i]),Ye.useEffect(()=>{if(ae.current)return()=>{ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null,ge.current=!1)}},[ae.current]),Ye.createElement("section",{ref:e,"aria-label":`${N} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((U,Y)=>{var re;let[le,he]=U.split("-");return V.length?Ye.createElement("ol",{key:U,dir:_==="auto"?ND():_,tabIndex:-1,ref:ae,className:a,"data-sonner-toaster":!0,"data-theme":ce,"data-y-position":le,"data-lifted":T&&V.length>1&&!s,"data-x-position":he,style:{"--front-toast-height":`${((re=k[0])==null?void 0:re.height)||0}px`,"--width":`${gee}px`,"--gap":`${b}px`,...f,..._ee(l,c)},onBlur:ue=>{ge.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(ge.current=!1,ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||ge.current||(ge.current=!0,ne.current=ue.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{R||M(!1)},onDragEnd:()=>M(!1),onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},V.filter(ue=>!ue.position&&Y===0||ue.position===U).map((ue,Ae)=>{var we,_e;return Ye.createElement(xee,{key:ue.id,icons:E,index:Ae,toast:ue,defaultRichColors:h,duration:(we=y==null?void 0:y.duration)!=null?we:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:t,visibleToasts:w,closeButton:(_e=y==null?void 0:y.closeButton)!=null?_e:o,interacting:R,position:U,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:pe,toasts:V.filter(Me=>Me.position==ue.position),heights:k.filter(Me=>Me.position==ue.position),setHeights:j,expandByDefault:s,gap:b,loadingIcon:A,expanded:T,pauseWhenPageIsHidden:F,swipeDirections:n.swipeDirections})})):null}))});const Eee=({...n})=>{const{theme:e="system"}=XZ();return d.jsx(Aee,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var See=ZP[" useId ".trim().toString()]||(()=>{}),Nee=0;function uk(n){const[e,t]=D.useState(See());return Ad(()=>{t(r=>r??String(Nee++))},[n]),e?`radix-${e}`:""}const Cee=["top","right","bottom","left"],Nf=Math.min,aa=Math.max,TA=Math.round,u_=Math.floor,Wc=n=>({x:n,y:n}),Tee={left:"right",right:"left",bottom:"top",top:"bottom"},kee={start:"end",end:"start"};function dk(n,e,t){return aa(n,Nf(e,t))}function Ed(n,e){return typeof n=="function"?n(e):n}function Sd(n){return n.split("-")[0]}function E1(n){return n.split("-")[1]}function nR(n){return n==="x"?"y":"x"}function rR(n){return n==="y"?"height":"width"}const Iee=new Set(["top","bottom"]);function Uc(n){return Iee.has(Sd(n))?"y":"x"}function iR(n){return nR(Uc(n))}function Pee(n,e,t){t===void 0&&(t=!1);const r=E1(n),i=iR(n),s=rR(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=kA(o)),[o,kA(o)]}function Ree(n){const e=kA(n);return[hk(n),e,hk(e)]}function hk(n){return n.replace(/start|end/g,e=>kee[e])}const CD=["left","right"],TD=["right","left"],Lee=["top","bottom"],Dee=["bottom","top"];function Mee(n,e,t){switch(n){case"top":case"bottom":return t?e?TD:CD:e?CD:TD;case"left":case"right":return e?Lee:Dee;default:return[]}}function jee(n,e,t,r){const i=E1(n);let s=Mee(Sd(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(hk)))),s}function kA(n){return n.replace(/left|right|bottom|top/g,e=>Tee[e])}function Oee(n){return{top:0,right:0,bottom:0,left:0,...n}}function bB(n){return typeof n!="number"?Oee(n):{top:n,right:n,bottom:n,left:n}}function IA(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function kD(n,e,t){let{reference:r,floating:i}=n;const s=Uc(e),o=iR(e),a=rR(o),l=Sd(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-i.width,y:h};break;default:f={x:r.x,y:r.y}}switch(E1(e)){case"start":f[o]-=p*(t&&c?-1:1);break;case"end":f[o]+=p*(t&&c?-1:1);break}return f}const Fee=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:h}=kD(c,r,l),p=r,f={},w=0;for(let y=0;y<a.length;y++){const{name:_,fn:b}=a[y],{x:A,y:E,data:N,reset:F}=await b({x:u,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:n,floating:e}});u=A??u,h=E??h,f={...f,[_]:{...f[_],...N}},F&&w<=50&&(w++,typeof F=="object"&&(F.placement&&(p=F.placement),F.rects&&(c=F.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):F.rects),{x:u,y:h}=kD(c,p,l)),y=-1)}return{x:u,y:h,placement:p,strategy:i,middlewareData:f}};async function Hw(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Ed(e,n),w=bB(f),_=a[p?h==="floating"?"reference":"floating":h],b=IA(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(_)))==null||t?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),A=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),N=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},F=IA(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:E,strategy:l}):A);return{top:(b.top-F.top+w.top)/N.y,bottom:(F.bottom-b.bottom+w.bottom)/N.y,left:(b.left-F.left+w.left)/N.x,right:(F.right-b.right+w.right)/N.x}}const Bee=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ed(n,e)||{};if(c==null)return{};const h=bB(u),p={x:t,y:r},f=iR(i),w=rR(f),y=await o.getDimensions(c),_=f==="y",b=_?"top":"left",A=_?"bottom":"right",E=_?"clientHeight":"clientWidth",N=s.reference[w]+s.reference[f]-p[f]-s.floating[w],F=p[f]-s.reference[f],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let L=V?V[E]:0;(!L||!await(o.isElement==null?void 0:o.isElement(V)))&&(L=a.floating[E]||s.floating[w]);const C=N/2-F/2,k=L/2-y[w]/2-1,j=Nf(h[b],k),T=Nf(h[A],k),M=j,R=L-y[w]-T,q=L/2-y[w]/2+C,ce=dk(M,q,R),de=!l.arrow&&E1(i)!=null&&q!==ce&&s.reference[w]/2-(q<M?j:T)-y[w]/2<0,ae=de?q<M?q-M:q-R:0;return{[f]:p[f]+ae,data:{[f]:ce,centerOffset:q-ce-ae,...de&&{alignmentOffset:ae}},reset:de}}}),Uee=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,..._}=Ed(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const b=Sd(i),A=Uc(a),E=Sd(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(c.floating)),F=p||(E||!y?[kA(a)]:Ree(a)),V=w!=="none";!p&&V&&F.push(...jee(a,y,w,N));const L=[a,...F],C=await Hw(e,_),k=[];let j=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&k.push(C[b]),h){const q=Pee(i,o,N);k.push(C[q[0]],C[q[1]])}if(j=[...j,{placement:i,overflows:k}],!k.every(q=>q<=0)){var T,M;const q=(((T=s.flip)==null?void 0:T.index)||0)+1,ce=L[q];if(ce&&(!(h==="alignment"?A!==Uc(ce):!1)||j.every(Q=>Q.overflows[0]>0&&Uc(Q.placement)===A)))return{data:{index:q,overflows:j},reset:{placement:ce}};let de=(M=j.filter(ae=>ae.overflows[0]<=0).sort((ae,Q)=>ae.overflows[1]-Q.overflows[1])[0])==null?void 0:M.placement;if(!de)switch(f){case"bestFit":{var R;const ae=(R=j.filter(Q=>{if(V){const ne=Uc(Q.placement);return ne===A||ne==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(ne=>ne>0).reduce((ne,ge)=>ne+ge,0)]).sort((Q,ne)=>Q[1]-ne[1])[0])==null?void 0:R[0];ae&&(de=ae);break}case"initialPlacement":de=a;break}if(i!==de)return{reset:{placement:de}}}return{}}}};function ID(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function PD(n){return Cee.some(e=>n[e]>=0)}const Vee=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Ed(n,e);switch(r){case"referenceHidden":{const s=await Hw(e,{...i,elementContext:"reference"}),o=ID(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:PD(o)}}}case"escaped":{const s=await Hw(e,{...i,altBoundary:!0}),o=ID(s,t.floating);return{data:{escapedOffsets:o,escaped:PD(o)}}}default:return{}}}}},xB=new Set(["left","top"]);async function zee(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Sd(t),a=E1(t),l=Uc(t)==="y",c=xB.has(o)?-1:1,u=s&&l?-1:1,h=Ed(e,n);let{mainAxis:p,crossAxis:f,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(f=a==="end"?w*-1:w),l?{x:f*u,y:p*c}:{x:p*c,y:f*u}}const $ee=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await zee(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Hee=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:b,y:A}=_;return{x:b,y:A}}},...l}=Ed(n,e),c={x:t,y:r},u=await Hw(e,l),h=Uc(Sd(i)),p=nR(h);let f=c[p],w=c[h];if(s){const _=p==="y"?"top":"left",b=p==="y"?"bottom":"right",A=f+u[_],E=f-u[b];f=dk(A,f,E)}if(o){const _=h==="y"?"top":"left",b=h==="y"?"bottom":"right",A=w+u[_],E=w-u[b];w=dk(A,w,E)}const y=a.fn({...e,[p]:f,[h]:w});return{...y,data:{x:y.x-t,y:y.y-r,enabled:{[p]:s,[h]:o}}}}}},qee=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ed(n,e),u={x:t,y:r},h=Uc(i),p=nR(h);let f=u[p],w=u[h];const y=Ed(a,e),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const E=p==="y"?"height":"width",N=s.reference[p]-s.floating[E]+_.mainAxis,F=s.reference[p]+s.reference[E]-_.mainAxis;f<N?f=N:f>F&&(f=F)}if(c){var b,A;const E=p==="y"?"width":"height",N=xB.has(Sd(i)),F=s.reference[h]-s.floating[E]+(N&&((b=o.offset)==null?void 0:b[h])||0)+(N?0:_.crossAxis),V=s.reference[h]+s.reference[E]+(N?0:((A=o.offset)==null?void 0:A[h])||0)-(N?_.crossAxis:0);w<F?w=F:w>V&&(w=V)}return{[p]:f,[h]:w}}}},Wee=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ed(n,e),u=await Hw(e,c),h=Sd(i),p=E1(i),f=Uc(i)==="y",{width:w,height:y}=s.floating;let _,b;h==="top"||h==="bottom"?(_=h,b=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=h,_=p==="end"?"top":"bottom");const A=y-u.top-u.bottom,E=w-u.left-u.right,N=Nf(y-u[_],A),F=Nf(w-u[b],E),V=!e.middlewareData.shift;let L=N,C=F;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(L=A),V&&!p){const j=aa(u.left,0),T=aa(u.right,0),M=aa(u.top,0),R=aa(u.bottom,0);f?C=w-2*(j!==0||T!==0?j+T:aa(u.left,u.right)):L=y-2*(M!==0||R!==0?M+R:aa(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:L});const k=await o.getDimensions(a.floating);return w!==k.width||y!==k.height?{reset:{rects:!0}}:{}}}};function tS(){return typeof window<"u"}function S1(n){return _B(n)?(n.nodeName||"").toLowerCase():"#document"}function ma(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function nu(n){var e;return(e=(_B(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function _B(n){return tS()?n instanceof Node||n instanceof ma(n).Node:!1}function Hl(n){return tS()?n instanceof Element||n instanceof ma(n).Element:!1}function Zc(n){return tS()?n instanceof HTMLElement||n instanceof ma(n).HTMLElement:!1}function RD(n){return!tS()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ma(n).ShadowRoot}const Gee=new Set(["inline","contents"]);function G2(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=ql(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!Gee.has(i)}const Kee=new Set(["table","td","th"]);function Yee(n){return Kee.has(S1(n))}const Xee=[":popover-open",":modal"];function nS(n){return Xee.some(e=>{try{return n.matches(e)}catch{return!1}})}const Qee=["transform","translate","scale","rotate","perspective"],Jee=["transform","translate","scale","rotate","perspective","filter"],Zee=["paint","layout","strict","content"];function sR(n){const e=oR(),t=Hl(n)?ql(n):n;return Qee.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||Jee.some(r=>(t.willChange||"").includes(r))||Zee.some(r=>(t.contain||"").includes(r))}function ete(n){let e=Cf(n);for(;Zc(e)&&!Jv(e);){if(sR(e))return e;if(nS(e))return null;e=Cf(e)}return null}function oR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tte=new Set(["html","body","#document"]);function Jv(n){return tte.has(S1(n))}function ql(n){return ma(n).getComputedStyle(n)}function rS(n){return Hl(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Cf(n){if(S1(n)==="html")return n;const e=n.assignedSlot||n.parentNode||RD(n)&&n.host||nu(n);return RD(e)?e.host:e}function AB(n){const e=Cf(n);return Jv(e)?n.ownerDocument?n.ownerDocument.body:n.body:Zc(e)&&G2(e)?e:AB(e)}function qw(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=AB(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=ma(i);if(s){const a=fk(o);return e.concat(o,o.visualViewport||[],G2(i)?i:[],a&&t?qw(a):[])}return e.concat(i,qw(i,[],t))}function fk(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function EB(n){const e=ql(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Zc(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=TA(t)!==s||TA(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function aR(n){return Hl(n)?n:n.contextElement}function A0(n){const e=aR(n);if(!Zc(e))return Wc(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=EB(e);let o=(s?TA(t.width):t.width)/r,a=(s?TA(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const nte=Wc(0);function SB(n){const e=ma(n);return!oR()||!e.visualViewport?nte:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rte(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ma(n)?!1:e}function Wm(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=aR(n);let o=Wc(1);e&&(r?Hl(r)&&(o=A0(r)):o=A0(n));const a=rte(s,t,r)?SB(s):Wc(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const p=ma(s),f=r&&Hl(r)?ma(r):r;let w=p,y=fk(w);for(;y&&r&&f!==w;){const _=A0(y),b=y.getBoundingClientRect(),A=ql(y),E=b.left+(y.clientLeft+parseFloat(A.paddingLeft))*_.x,N=b.top+(y.clientTop+parseFloat(A.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,h*=_.y,l+=E,c+=N,w=ma(y),y=fk(w)}}return IA({width:u,height:h,x:l,y:c})}function lR(n,e){const t=rS(n).scrollLeft;return e?e.left+t:Wm(nu(n)).left+t}function NB(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:lR(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function ite(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=nu(r),a=e?nS(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Wc(1);const u=Wc(0),h=Zc(r);if((h||!h&&!s)&&((S1(r)!=="body"||G2(o))&&(l=rS(r)),Zc(r))){const f=Wm(r);c=A0(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const p=o&&!h&&!s?NB(o,l,!0):Wc(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:t.y*c.y-l.scrollTop*c.y+u.y+p.y}}function ste(n){return Array.from(n.getClientRects())}function ote(n){const e=nu(n),t=rS(n),r=n.ownerDocument.body,i=aa(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=aa(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+lR(n);const a=-t.scrollTop;return ql(r).direction==="rtl"&&(o+=aa(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function ate(n,e){const t=ma(n),r=nu(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=oR();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const lte=new Set(["absolute","fixed"]);function cte(n,e){const t=Wm(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Zc(n)?A0(n):Wc(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function LD(n,e,t){let r;if(e==="viewport")r=ate(n,t);else if(e==="document")r=ote(nu(n));else if(Hl(e))r=cte(e,t);else{const i=SB(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return IA(r)}function CB(n,e){const t=Cf(n);return t===e||!Hl(t)||Jv(t)?!1:ql(t).position==="fixed"||CB(t,e)}function ute(n,e){const t=e.get(n);if(t)return t;let r=qw(n,[],!1).filter(a=>Hl(a)&&S1(a)!=="body"),i=null;const s=ql(n).position==="fixed";let o=s?Cf(n):n;for(;Hl(o)&&!Jv(o);){const a=ql(o),l=sR(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&lte.has(i.position)||G2(o)&&!l&&CB(n,o))?r=r.filter(u=>u!==o):i=a,o=Cf(o)}return e.set(n,r),r}function dte(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?nS(e)?[]:ute(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const h=LD(e,u,i);return c.top=aa(h.top,c.top),c.right=Nf(h.right,c.right),c.bottom=Nf(h.bottom,c.bottom),c.left=aa(h.left,c.left),c},LD(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function hte(n){const{width:e,height:t}=EB(n);return{width:e,height:t}}function fte(n,e,t){const r=Zc(e),i=nu(e),s=t==="fixed",o=Wm(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Wc(0);function c(){l.x=lR(i)}if(r||!r&&!s)if((S1(e)!=="body"||G2(i))&&(a=rS(e)),r){const f=Wm(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?NB(i,a):Wc(0),h=o.left+a.scrollLeft-l.x-u.x,p=o.top+a.scrollTop-l.y-u.y;return{x:h,y:p,width:o.width,height:o.height}}function JN(n){return ql(n).position==="static"}function DD(n,e){if(!Zc(n)||ql(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return nu(n)===t&&(t=t.ownerDocument.body),t}function TB(n,e){const t=ma(n);if(nS(n))return t;if(!Zc(n)){let i=Cf(n);for(;i&&!Jv(i);){if(Hl(i)&&!JN(i))return i;i=Cf(i)}return t}let r=DD(n,e);for(;r&&Yee(r)&&JN(r);)r=DD(r,e);return r&&Jv(r)&&JN(r)&&!sR(r)?t:r||ete(n)||t}const pte=async function(n){const e=this.getOffsetParent||TB,t=this.getDimensions,r=await t(n.floating);return{reference:fte(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mte(n){return ql(n).direction==="rtl"}const gte={convertOffsetParentRelativeRectToViewportRelativeRect:ite,getDocumentElement:nu,getClippingRect:dte,getOffsetParent:TB,getElementRects:pte,getClientRects:ste,getDimensions:hte,getScale:A0,isElement:Hl,isRTL:mte};function kB(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function vte(n,e){let t=null,r;const i=nu(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:u,top:h,width:p,height:f}=c;if(a||e(),!p||!f)return;const w=u_(h),y=u_(i.clientWidth-(u+p)),_=u_(i.clientHeight-(h+f)),b=u_(u),E={rootMargin:-w+"px "+-y+"px "+-_+"px "+-b+"px",threshold:aa(0,Nf(1,l))||1};let N=!0;function F(V){const L=V[0].intersectionRatio;if(L!==l){if(!N)return o();L?o(!1,L):r=setTimeout(()=>{o(!1,1e-7)},1e3)}L===1&&!kB(c,n.getBoundingClientRect())&&o(),N=!1}try{t=new IntersectionObserver(F,{...E,root:i.ownerDocument})}catch{t=new IntersectionObserver(F,E)}t.observe(n)}return o(!0),s}function yte(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=aR(n),u=i||s?[...c?qw(c):[],...qw(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",t,{passive:!0}),s&&b.addEventListener("resize",t)});const h=c&&a?vte(c,t):null;let p=-1,f=null;o&&(f=new ResizeObserver(b=>{let[A]=b;A&&A.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=f)==null||E.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let w,y=l?Wm(n):null;l&&_();function _(){const b=Wm(n);y&&!kB(y,b)&&t(),y=b,w=requestAnimationFrame(_)}return t(),()=>{var b;u.forEach(A=>{i&&A.removeEventListener("scroll",t),s&&A.removeEventListener("resize",t)}),h==null||h(),(b=f)==null||b.disconnect(),f=null,l&&cancelAnimationFrame(w)}}const wte=$ee,bte=Hee,xte=Uee,_te=Wee,Ate=Vee,MD=Bee,Ete=qee,Ste=(n,e,t)=>{const r=new Map,i={platform:gte,...t},s={...i.platform,_c:r};return Fee(n,e,{...i,platform:s})};var Nte=typeof document<"u",Cte=function(){},i5=Nte?D.useLayoutEffect:Cte;function PA(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!PA(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!PA(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function IB(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function jD(n,e){const t=IB(n);return Math.round(e*t)/t}function ZN(n){const e=D.useRef(n);return i5(()=>{e.current=n}),e}function Tte(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,h]=D.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=D.useState(r);PA(p,r)||f(r);const[w,y]=D.useState(null),[_,b]=D.useState(null),A=D.useCallback(Q=>{Q!==V.current&&(V.current=Q,y(Q))},[]),E=D.useCallback(Q=>{Q!==L.current&&(L.current=Q,b(Q))},[]),N=s||w,F=o||_,V=D.useRef(null),L=D.useRef(null),C=D.useRef(u),k=l!=null,j=ZN(l),T=ZN(i),M=ZN(c),R=D.useCallback(()=>{if(!V.current||!L.current)return;const Q={placement:e,strategy:t,middleware:p};T.current&&(Q.platform=T.current),Ste(V.current,L.current,Q).then(ne=>{const ge={...ne,isPositioned:M.current!==!1};q.current&&!PA(C.current,ge)&&(C.current=ge,q2.flushSync(()=>{h(ge)}))})},[p,e,t,T,M]);i5(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(Q=>({...Q,isPositioned:!1})))},[c]);const q=D.useRef(!1);i5(()=>(q.current=!0,()=>{q.current=!1}),[]),i5(()=>{if(N&&(V.current=N),F&&(L.current=F),N&&F){if(j.current)return j.current(N,F,R);R()}},[N,F,R,j,k]);const ce=D.useMemo(()=>({reference:V,floating:L,setReference:A,setFloating:E}),[A,E]),de=D.useMemo(()=>({reference:N,floating:F}),[N,F]),ae=D.useMemo(()=>{const Q={position:t,left:0,top:0};if(!de.floating)return Q;const ne=jD(de.floating,u.x),ge=jD(de.floating,u.y);return a?{...Q,transform:"translate("+ne+"px, "+ge+"px)",...IB(de.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:ge}},[t,a,de.floating,u.x,u.y]);return D.useMemo(()=>({...u,update:R,refs:ce,elements:de,floatingStyles:ae}),[u,R,ce,de,ae])}const kte=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?MD({element:r.current,padding:i}).fn(t):{}:r?MD({element:r,padding:i}).fn(t):{}}}},Ite=(n,e)=>({...wte(n),options:[n,e]}),Pte=(n,e)=>({...bte(n),options:[n,e]}),Rte=(n,e)=>({...Ete(n),options:[n,e]}),Lte=(n,e)=>({...xte(n),options:[n,e]}),Dte=(n,e)=>({..._te(n),options:[n,e]}),Mte=(n,e)=>({...Ate(n),options:[n,e]}),jte=(n,e)=>({...kte(n),options:[n,e]});var Ote="Arrow",PB=D.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return d.jsx(gr.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});PB.displayName=Ote;var Fte=PB;function Bte(n){const[e,t]=D.useState(void 0);return Ad(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var cR="Popper",[RB,iS]=dg(cR),[Ute,LB]=RB(cR),DB=n=>{const{__scopePopper:e,children:t}=n,[r,i]=D.useState(null);return d.jsx(Ute,{scope:e,anchor:r,onAnchorChange:i,children:t})};DB.displayName=cR;var MB="PopperAnchor",jB=D.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=LB(MB,t),o=D.useRef(null),a=Hi(e,o);return D.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(gr.div,{...i,ref:a})});jB.displayName=MB;var uR="PopperContent",[Vte,zte]=RB(uR),OB=D.forwardRef((n,e)=>{var ue,Ae,we,_e,Me,Ee;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:w,...y}=n,_=LB(uR,t),[b,A]=D.useState(null),E=Hi(e,Ce=>A(Ce)),[N,F]=D.useState(null),V=Bte(N),L=(V==null?void 0:V.width)??0,C=(V==null?void 0:V.height)??0,k=r+(s!=="center"?"-"+s:""),j=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},T=Array.isArray(c)?c:[c],M=T.length>0,R={padding:j,boundary:T.filter(Hte),altBoundary:M},{refs:q,floatingStyles:ce,placement:de,isPositioned:ae,middlewareData:Q}=Tte({strategy:"fixed",placement:k,whileElementsMounted:(...Ce)=>yte(...Ce,{animationFrame:f==="always"}),elements:{reference:_.anchor},middleware:[Ite({mainAxis:i+C,alignmentAxis:o}),l&&Pte({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Rte():void 0,...R}),l&&Lte({...R}),Dte({...R,apply:({elements:Ce,rects:Le,availableWidth:J,availableHeight:je})=>{const{width:Qe,height:Ge}=Le.reference,Ie=Ce.floating.style;Ie.setProperty("--radix-popper-available-width",`${J}px`),Ie.setProperty("--radix-popper-available-height",`${je}px`),Ie.setProperty("--radix-popper-anchor-width",`${Qe}px`),Ie.setProperty("--radix-popper-anchor-height",`${Ge}px`)}}),N&&jte({element:N,padding:a}),qte({arrowWidth:L,arrowHeight:C}),p&&Mte({strategy:"referenceHidden",...R})]}),[ne,ge]=UB(de),pe=wa(w);Ad(()=>{ae&&(pe==null||pe())},[ae,pe]);const U=(ue=Q.arrow)==null?void 0:ue.x,Y=(Ae=Q.arrow)==null?void 0:Ae.y,re=((we=Q.arrow)==null?void 0:we.centerOffset)!==0,[le,he]=D.useState();return Ad(()=>{b&&he(window.getComputedStyle(b).zIndex)},[b]),d.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:ae?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(_e=Q.transformOrigin)==null?void 0:_e.x,(Me=Q.transformOrigin)==null?void 0:Me.y].join(" "),...((Ee=Q.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:d.jsx(Vte,{scope:t,placedSide:ne,onArrowChange:F,arrowX:U,arrowY:Y,shouldHideArrow:re,children:d.jsx(gr.div,{"data-side":ne,"data-align":ge,...y,ref:E,style:{...y.style,animation:ae?void 0:"none"}})})})});OB.displayName=uR;var FB="PopperArrow",$te={top:"bottom",right:"left",bottom:"top",left:"right"},BB=D.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=zte(FB,r),o=$te[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(Fte,{...i,ref:t,style:{...i.style,display:"block"}})})});BB.displayName=FB;function Hte(n){return n!==null}var qte=n=>({name:"transformOrigin",options:n,fn(e){var _,b,A;const{placement:t,rects:r,middlewareData:i}=e,o=((_=i.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,u]=UB(t),h={start:"0%",center:"50%",end:"100%"}[u],p=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,f=(((A=i.arrow)==null?void 0:A.y)??0)+l/2;let w="",y="";return c==="bottom"?(w=o?h:`${p}px`,y=`${-l}px`):c==="top"?(w=o?h:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,y=o?h:`${f}px`):c==="left"&&(w=`${r.floating.width+l}px`,y=o?h:`${f}px`),{data:{x:w,y}}}});function UB(n){const[e,t="center"]=n.split("-");return[e,t]}var Wte=DB,VB=jB,zB=OB,$B=BB,[sS,Jxe]=dg("Tooltip",[iS]),dR=iS(),HB="TooltipProvider",Gte=700,OD="tooltip.open",[Kte,qB]=sS(HB),WB=n=>{const{__scopeTooltip:e,delayDuration:t=Gte,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,o=D.useRef(!0),a=D.useRef(!1),l=D.useRef(0);return D.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(Kte,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:D.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:D.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:D.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};WB.displayName=HB;var GB="Tooltip",[Zxe,oS]=sS(GB),pk="TooltipTrigger",Yte=D.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=oS(pk,t),s=qB(pk,t),o=dR(t),a=D.useRef(null),l=Hi(e,a,i.onTriggerChange),c=D.useRef(!1),u=D.useRef(!1),h=D.useCallback(()=>c.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(VB,{asChild:!0,...o,children:d.jsx(gr.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Ot(n.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ot(n.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ot(n.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ot(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ot(n.onBlur,i.onClose),onClick:Ot(n.onClick,i.onClose)})})});Yte.displayName=pk;var Xte="TooltipPortal",[e_e,Qte]=sS(Xte,{forceMount:void 0}),Zv="TooltipContent",KB=D.forwardRef((n,e)=>{const t=Qte(Zv,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=oS(Zv,n.__scopeTooltip);return d.jsx(hg,{present:r||o.open,children:o.disableHoverableContent?d.jsx(YB,{side:i,...s,ref:e}):d.jsx(Jte,{side:i,...s,ref:e})})}),Jte=D.forwardRef((n,e)=>{const t=oS(Zv,n.__scopeTooltip),r=qB(Zv,n.__scopeTooltip),i=D.useRef(null),s=Hi(e,i),[o,a]=D.useState(null),{trigger:l,onClose:c}=t,u=i.current,{onPointerInTransitChange:h}=r,p=D.useCallback(()=>{a(null),h(!1)},[h]),f=D.useCallback((w,y)=>{const _=w.currentTarget,b={x:w.clientX,y:w.clientY},A=rne(b,_.getBoundingClientRect()),E=ine(b,A),N=sne(y.getBoundingClientRect()),F=ane([...E,...N]);a(F),h(!0)},[h]);return D.useEffect(()=>()=>p(),[p]),D.useEffect(()=>{if(l&&u){const w=_=>f(_,u),y=_=>f(_,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",y)}}},[l,u,f,p]),D.useEffect(()=>{if(o){const w=y=>{const _=y.target,b={x:y.clientX,y:y.clientY},A=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),E=!one(b,o);A?p():E&&(p(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,o,c,p]),d.jsx(YB,{...n,ref:s})}),[Zte,ene]=sS(GB,{isInside:!1}),tne=YQ("TooltipContent"),YB=D.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=oS(Zv,t),c=dR(t),{onClose:u}=l;return D.useEffect(()=>(document.addEventListener(OD,u),()=>document.removeEventListener(OD,u)),[u]),D.useEffect(()=>{if(l.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(XE,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(zB,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(tne,{children:r}),d.jsx(Zte,{scope:t,isInside:!0,children:d.jsx(yJ,{id:l.contentId,role:"tooltip",children:i||r})})]})})});KB.displayName=Zv;var XB="TooltipArrow",nne=D.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=dR(t);return ene(XB,t).isInside?null:d.jsx($B,{...i,...r,ref:e})});nne.displayName=XB;function rne(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ine(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function sne(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function one(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,h=l.x,p=l.y;u>r!=p>r&&t<(h-c)*(r-u)/(p-u)+c&&(i=!i)}return i}function ane(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),lne(e)}function lne(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var cne=WB,QB=KB;const une=cne,dne=D.forwardRef(({className:n,sideOffset:e=4,...t},r)=>d.jsx(QB,{ref:r,sideOffset:e,className:vr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));dne.displayName=QB.displayName;var aS=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lS=typeof window>"u"||"Deno"in globalThis;function yl(){}function hne(n,e){return typeof n=="function"?n(e):n}function fne(n){return typeof n=="number"&&n>=0&&n!==1/0}function pne(n,e){return Math.max(n+(e||0)-Date.now(),0)}function mk(n,e){return typeof n=="function"?n(e):n}function mne(n,e){return typeof n=="function"?n(e):n}function FD(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==hR(o,e.options))return!1}else if(!Gw(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function BD(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Ww(e.options.mutationKey)!==Ww(s))return!1}else if(!Gw(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function hR(n,e){return((e==null?void 0:e.queryKeyHashFn)||Ww)(n)}function Ww(n){return JSON.stringify(n,(e,t)=>gk(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Gw(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Gw(n[t],e[t])):!1}function JB(n,e){if(n===e)return n;const t=UD(n)&&UD(e);if(t||gk(n)&&gk(e)){const r=t?n:Object.keys(n),i=r.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const h=t?u:s[u];(!t&&l.has(h)||t)&&n[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=JB(n[h],e[h]),a[h]===n[h]&&n[h]!==void 0&&c++)}return i===o&&c===i?n:a}return e}function UD(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function gk(n){if(!VD(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!VD(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function VD(n){return Object.prototype.toString.call(n)==="[object Object]"}function gne(n){return new Promise(e=>{setTimeout(e,n)})}function vne(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?JB(n,e):e}function yne(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function wne(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var fR=Symbol();function ZB(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===fR?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Ip,_h,B0,s8,bne=(s8=class extends aS{constructor(){super();K(this,Ip);K(this,_h);K(this,B0);z(this,B0,e=>{if(!lS&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){m(this,_h)||this.setEventListener(m(this,B0))}onUnsubscribe(){var e;this.hasListeners()||((e=m(this,_h))==null||e.call(this),z(this,_h,void 0))}setEventListener(e){var t;z(this,B0,e),(t=m(this,_h))==null||t.call(this),z(this,_h,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){m(this,Ip)!==e&&(z(this,Ip,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof m(this,Ip)=="boolean"?m(this,Ip):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ip=new WeakMap,_h=new WeakMap,B0=new WeakMap,s8),eU=new bne,U0,Ah,V0,o8,xne=(o8=class extends aS{constructor(){super();K(this,U0,!0);K(this,Ah);K(this,V0);z(this,V0,e=>{if(!lS&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){m(this,Ah)||this.setEventListener(m(this,V0))}onUnsubscribe(){var e;this.hasListeners()||((e=m(this,Ah))==null||e.call(this),z(this,Ah,void 0))}setEventListener(e){var t;z(this,V0,e),(t=m(this,Ah))==null||t.call(this),z(this,Ah,e(this.setOnline.bind(this)))}setOnline(e){m(this,U0)!==e&&(z(this,U0,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return m(this,U0)}},U0=new WeakMap,Ah=new WeakMap,V0=new WeakMap,o8),RA=new xne;function _ne(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function Ane(n){return Math.min(1e3*2**n,3e4)}function tU(n){return(n??"online")==="online"?RA.isOnline():!0}var nU=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function eC(n){return n instanceof nU}function rU(n){let e=!1,t=0,r=!1,i;const s=_ne(),o=y=>{var _;r||(p(new nU(y)),(_=n.abort)==null||_.call(n))},a=()=>{e=!0},l=()=>{e=!1},c=()=>eU.isFocused()&&(n.networkMode==="always"||RA.isOnline())&&n.canRun(),u=()=>tU(n.networkMode)&&n.canRun(),h=y=>{var _;r||(r=!0,(_=n.onSuccess)==null||_.call(n,y),i==null||i(),s.resolve(y))},p=y=>{var _;r||(r=!0,(_=n.onError)==null||_.call(n,y),i==null||i(),s.reject(y))},f=()=>new Promise(y=>{var _;i=b=>{(r||c())&&y(b)},(_=n.onPause)==null||_.call(n)}).then(()=>{var y;i=void 0,r||(y=n.onContinue)==null||y.call(n)}),w=()=>{if(r)return;let y;const _=t===0?n.initialPromise:void 0;try{y=_??n.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(h).catch(b=>{var V;if(r)return;const A=n.retry??(lS?0:3),E=n.retryDelay??Ane,N=typeof E=="function"?E(t,b):E,F=A===!0||typeof A=="number"&&t<A||typeof A=="function"&&A(t,b);if(e||!F){p(b);return}t++,(V=n.onFail)==null||V.call(n,t,b),gne(N).then(()=>c()?void 0:f()).then(()=>{e?p(b):w()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?w():f().then(w),s)}}var Ene=n=>setTimeout(n,0);function Sne(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=Ene;const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Gs=Sne(),Pp,a8,iU=(a8=class{constructor(){K(this,Pp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fne(this.gcTime)&&z(this,Pp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(lS?1/0:5*60*1e3))}clearGcTimeout(){m(this,Pp)&&(clearTimeout(m(this,Pp)),z(this,Pp,void 0))}},Pp=new WeakMap,a8),z0,Rp,ja,Lp,_s,Ab,Dp,xl,Nu,l8,Nne=(l8=class extends iU{constructor(t){super();K(this,xl);K(this,z0);K(this,Rp);K(this,ja);K(this,Lp);K(this,_s);K(this,Ab);K(this,Dp);z(this,Dp,!1),z(this,Ab,t.defaultOptions),this.setOptions(t.options),this.observers=[],z(this,Lp,t.client),z(this,ja,m(this,Lp).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,z(this,z0,Tne(this.options)),this.state=t.state??m(this,z0),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=m(this,_s))==null?void 0:t.promise}setOptions(t){this.options={...m(this,Ab),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&m(this,ja).remove(this)}setData(t,r){const i=vne(this.state.data,t,this.options);return W(this,xl,Nu).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(t,r){W(this,xl,Nu).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var i,s;const r=(i=m(this,_s))==null?void 0:i.promise;return(s=m(this,_s))==null||s.cancel(t),r?r.then(yl).catch(yl):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(m(this,z0))}isActive(){return this.observers.some(t=>mne(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>mk(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!pne(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=m(this,_s))==null||r.continue()}onOnline(){var r;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=m(this,_s))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),m(this,ja).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(m(this,_s)&&(m(this,Dp)?m(this,_s).cancel({revert:!0}):m(this,_s).cancelRetry()),this.scheduleGc()),m(this,ja).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||W(this,xl,Nu).call(this,{type:"invalidate"})}fetch(t,r){var u,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(m(this,_s))return m(this,_s).continueRetry(),m(this,_s).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(w=>w.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(z(this,Dp,!0),i.signal)})},o=()=>{const f=ZB(this.options,r),y=(()=>{const _={client:m(this,Lp),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return z(this,Dp,!1),this.options.persister?this.options.persister(f,y,this):f(y)},l=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:m(this,Lp),state:this.state,fetchFn:o};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(l,this),z(this,Rp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&W(this,xl,Nu).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=f=>{var w,y,_,b;eC(f)&&f.silent||W(this,xl,Nu).call(this,{type:"error",error:f}),eC(f)||((y=(w=m(this,ja).config).onError)==null||y.call(w,f,this),(b=(_=m(this,ja).config).onSettled)==null||b.call(_,this.state.data,f,this)),this.scheduleGc()};return z(this,_s,rU({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var w,y,_,b;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(A){c(A);return}(y=(w=m(this,ja).config).onSuccess)==null||y.call(w,f,this),(b=(_=m(this,ja).config).onSettled)==null||b.call(_,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,w)=>{W(this,xl,Nu).call(this,{type:"failed",failureCount:f,error:w})},onPause:()=>{W(this,xl,Nu).call(this,{type:"pause"})},onContinue:()=>{W(this,xl,Nu).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),m(this,_s).start()}},z0=new WeakMap,Rp=new WeakMap,ja=new WeakMap,Lp=new WeakMap,_s=new WeakMap,Ab=new WeakMap,Dp=new WeakMap,xl=new WeakSet,Nu=function(t){const r=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Cne(i.data,this.options),fetchMeta:t.meta??null};case"success":return z(this,Rp,void 0),{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return eC(s)&&s.revert&&m(this,Rp)?{...m(this,Rp),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=r(this.state),Gs.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),m(this,ja).notify({query:this,type:"updated",action:t})})},l8);function Cne(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tU(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Tne(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var gc,c8,kne=(c8=class extends aS{constructor(e={}){super();K(this,gc);this.config=e,z(this,gc,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??hR(i,t);let o=this.get(s);return o||(o=new Nne({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){m(this,gc).has(e.queryHash)||(m(this,gc).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=m(this,gc).get(e.queryHash);t&&(e.destroy(),t===e&&m(this,gc).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Gs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return m(this,gc).get(e)}getAll(){return[...m(this,gc).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>FD(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>FD(e,r)):t}notify(e){Gs.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Gs.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Gs.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gc=new WeakMap,c8),vc,qs,Mp,yc,ch,u8,Ine=(u8=class extends iU{constructor(t){super();K(this,yc);K(this,vc);K(this,qs);K(this,Mp);this.mutationId=t.mutationId,z(this,qs,t.mutationCache),z(this,vc,[]),this.state=t.state||Pne(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){m(this,vc).includes(t)||(m(this,vc).push(t),this.clearGcTimeout(),m(this,qs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){z(this,vc,m(this,vc).filter(r=>r!==t)),this.scheduleGc(),m(this,qs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){m(this,vc).length||(this.state.status==="pending"?this.scheduleGc():m(this,qs).remove(this))}continue(){var t;return((t=m(this,Mp))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,c,u,h,p,f,w,y,_,b,A,E,N,F,V,L,C,k;const r=()=>{W(this,yc,ch).call(this,{type:"continue"})};z(this,Mp,rU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,T)=>{W(this,yc,ch).call(this,{type:"failed",failureCount:j,error:T})},onPause:()=>{W(this,yc,ch).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>m(this,qs).canRun(this)}));const i=this.state.status==="pending",s=!m(this,Mp).canStart();try{if(i)r();else{W(this,yc,ch).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(o=m(this,qs).config).onMutate)==null?void 0:a.call(o,t,this));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));T!==this.state.context&&W(this,yc,ch).call(this,{type:"pending",context:T,variables:t,isPaused:s})}const j=await m(this,Mp).start();return await((h=(u=m(this,qs).config).onSuccess)==null?void 0:h.call(u,j,t,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,j,t,this.state.context)),await((y=(w=m(this,qs).config).onSettled)==null?void 0:y.call(w,j,null,this.state.variables,this.state.context,this)),await((b=(_=this.options).onSettled)==null?void 0:b.call(_,j,null,t,this.state.context)),W(this,yc,ch).call(this,{type:"success",data:j}),j}catch(j){try{throw await((E=(A=m(this,qs).config).onError)==null?void 0:E.call(A,j,t,this.state.context,this)),await((F=(N=this.options).onError)==null?void 0:F.call(N,j,t,this.state.context)),await((L=(V=m(this,qs).config).onSettled)==null?void 0:L.call(V,void 0,j,this.state.variables,this.state.context,this)),await((k=(C=this.options).onSettled)==null?void 0:k.call(C,void 0,j,t,this.state.context)),j}finally{W(this,yc,ch).call(this,{type:"error",error:j})}}finally{m(this,qs).runNext(this)}}},vc=new WeakMap,qs=new WeakMap,Mp=new WeakMap,yc=new WeakSet,ch=function(t){const r=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Gs.batch(()=>{m(this,vc).forEach(i=>{i.onMutationUpdate(t)}),m(this,qs).notify({mutation:this,type:"updated",action:t})})},u8);function Pne(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Du,_l,Eb,d8,Rne=(d8=class extends aS{constructor(e={}){super();K(this,Du);K(this,_l);K(this,Eb);this.config=e,z(this,Du,new Set),z(this,_l,new Map),z(this,Eb,0)}build(e,t,r){const i=new Ine({mutationCache:this,mutationId:++Ii(this,Eb)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){m(this,Du).add(e);const t=d_(e);if(typeof t=="string"){const r=m(this,_l).get(t);r?r.push(e):m(this,_l).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(m(this,Du).delete(e)){const t=d_(e);if(typeof t=="string"){const r=m(this,_l).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&m(this,_l).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=d_(e);if(typeof t=="string"){const r=m(this,_l).get(t),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=d_(e);if(typeof t=="string"){const i=(r=m(this,_l).get(t))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Gs.batch(()=>{m(this,Du).forEach(e=>{this.notify({type:"removed",mutation:e})}),m(this,Du).clear(),m(this,_l).clear()})}getAll(){return Array.from(m(this,Du))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>BD(t,r))}findAll(e={}){return this.getAll().filter(t=>BD(e,t))}notify(e){Gs.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Gs.batch(()=>Promise.all(e.map(t=>t.continue().catch(yl))))}},Du=new WeakMap,_l=new WeakMap,Eb=new WeakMap,d8);function d_(n){var e;return(e=n.options.scope)==null?void 0:e.id}function zD(n){return{onFetch:(e,t)=>{var u,h,p,f,w;const r=e.options,i=(p=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const _=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},b=ZB(e.options,e.fetchOptions),A=async(E,N,F)=>{if(y)return Promise.reject();if(N==null&&E.pages.length)return Promise.resolve(E);const L=(()=>{const T={client:e.client,queryKey:e.queryKey,pageParam:N,direction:F?"backward":"forward",meta:e.options.meta};return _(T),T})(),C=await b(L),{maxPages:k}=e.options,j=F?wne:yne;return{pages:j(E.pages,C,k),pageParams:j(E.pageParams,N,k)}};if(i&&s.length){const E=i==="backward",N=E?Lne:$D,F={pages:s,pageParams:o},V=N(r,F);a=await A(F,V,E)}else{const E=n??s.length;do{const N=l===0?o[0]??r.initialPageParam:$D(r,a);if(l>0&&N==null)break;a=await A(a,N),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var y,_;return(_=(y=e.options).persister)==null?void 0:_.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function $D(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function Lne(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Ur,Eh,Sh,$0,H0,Nh,q0,W0,h8,Dne=(h8=class{constructor(n={}){K(this,Ur);K(this,Eh);K(this,Sh);K(this,$0);K(this,H0);K(this,Nh);K(this,q0);K(this,W0);z(this,Ur,n.queryCache||new kne),z(this,Eh,n.mutationCache||new Rne),z(this,Sh,n.defaultOptions||{}),z(this,$0,new Map),z(this,H0,new Map),z(this,Nh,0)}mount(){Ii(this,Nh)._++,m(this,Nh)===1&&(z(this,q0,eU.subscribe(async n=>{n&&(await this.resumePausedMutations(),m(this,Ur).onFocus())})),z(this,W0,RA.subscribe(async n=>{n&&(await this.resumePausedMutations(),m(this,Ur).onOnline())})))}unmount(){var n,e;Ii(this,Nh)._--,m(this,Nh)===0&&((n=m(this,q0))==null||n.call(this),z(this,q0,void 0),(e=m(this,W0))==null||e.call(this),z(this,W0,void 0))}isFetching(n){return m(this,Ur).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return m(this,Eh).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=m(this,Ur).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=m(this,Ur).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(mk(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return m(this,Ur).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=m(this,Ur).get(r.queryHash),s=i==null?void 0:i.state.data,o=hne(e,s);if(o!==void 0)return m(this,Ur).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Gs.batch(()=>m(this,Ur).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=m(this,Ur).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=m(this,Ur);Gs.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=m(this,Ur);return Gs.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Gs.batch(()=>m(this,Ur).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(yl).catch(yl)}invalidateQueries(n,e={}){return Gs.batch(()=>(m(this,Ur).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Gs.batch(()=>m(this,Ur).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(yl)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(yl)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=m(this,Ur).build(this,e);return t.isStaleByTime(mk(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(yl).catch(yl)}fetchInfiniteQuery(n){return n.behavior=zD(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(yl).catch(yl)}ensureInfiniteQueryData(n){return n.behavior=zD(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return RA.isOnline()?m(this,Eh).resumePausedMutations():Promise.resolve()}getQueryCache(){return m(this,Ur)}getMutationCache(){return m(this,Eh)}getDefaultOptions(){return m(this,Sh)}setDefaultOptions(n){z(this,Sh,n)}setQueryDefaults(n,e){m(this,$0).set(Ww(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...m(this,$0).values()],t={};return e.forEach(r=>{Gw(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){m(this,H0).set(Ww(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...m(this,H0).values()],t={};return e.forEach(r=>{Gw(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...m(this,Sh).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=hR(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===fR&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...m(this,Sh).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){m(this,Ur).clear(),m(this,Eh).clear()}},Ur=new WeakMap,Eh=new WeakMap,Sh=new WeakMap,$0=new WeakMap,H0=new WeakMap,Nh=new WeakMap,q0=new WeakMap,W0=new WeakMap,h8),Mne=D.createContext(void 0),jne=({client:n,children:e})=>(D.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d.jsx(Mne.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kw(){return Kw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Kw.apply(this,arguments)}var nf;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(nf||(nf={}));const HD="popstate";function One(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return vk("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:LA(i)}return Bne(e,t,null,n)}function ri(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function sU(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fne(){return Math.random().toString(36).substr(2,8)}function qD(n,e){return{usr:n.state,key:n.key,idx:e}}function vk(n,e,t,r){return t===void 0&&(t=null),Kw({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?N1(e):e,{state:t,key:e&&e.key||r||Fne()})}function LA(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function N1(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Bne(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=nf.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Kw({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=nf.Pop;let _=u(),b=_==null?null:_-c;c=_,l&&l({action:a,location:y.location,delta:b})}function p(_,b){a=nf.Push;let A=vk(y.location,_,b);c=u()+1;let E=qD(A,c),N=y.createHref(A);try{o.pushState(E,"",N)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(N)}s&&l&&l({action:a,location:y.location,delta:1})}function f(_,b){a=nf.Replace;let A=vk(y.location,_,b);c=u();let E=qD(A,c),N=y.createHref(A);o.replaceState(E,"",N),s&&l&&l({action:a,location:y.location,delta:0})}function w(_){let b=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof _=="string"?_:LA(_);return A=A.replace(/ $/,"%20"),ri(b,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,b)}let y={get action(){return a},get location(){return n(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(HD,h),l=_,()=>{i.removeEventListener(HD,h),l=null}},createHref(_){return e(i,_)},createURL:w,encodeLocation(_){let b=w(_);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:f,go(_){return o.go(_)}};return y}var WD;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(WD||(WD={}));function Une(n,e,t){return t===void 0&&(t="/"),Vne(n,e,t,!1)}function Vne(n,e,t,r){let i=typeof e=="string"?N1(e):e,s=pR(i.pathname||"/",t);if(s==null)return null;let o=oU(n);zne(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Zne(s);a=Qne(o[l],c,r)}return a}function oU(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ri(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=vf([r,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(ri(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),oU(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Yne(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of aU(s.path))i(s,o,l)}),e}function aU(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=aU(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function zne(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Xne(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const $ne=/^:[\w-]+$/,Hne=3,qne=2,Wne=1,Gne=10,Kne=-2,GD=n=>n==="*";function Yne(n,e){let t=n.split("/"),r=t.length;return t.some(GD)&&(r+=Kne),e&&(r+=qne),t.filter(i=>!GD(i)).reduce((i,s)=>i+($ne.test(s)?Hne:s===""?Wne:Gne),r)}function Xne(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Qne(n,e,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=KD({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&t&&!r[r.length-1].route.index&&(h=KD({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:vf([s,h.pathname]),pathnameBase:rre(vf([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=vf([s,h.pathnameBase]))}return o}function KD(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Jne(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:p,isOptional:f}=u;if(p==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[h];return f&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function Jne(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),sU(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Zne(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sU(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function pR(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function ere(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?N1(n):n;return{pathname:t?t.startsWith("/")?t:tre(t,e):e,search:ire(r),hash:sre(i)}}function tre(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function tC(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nre(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mR(n,e){let t=nre(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function gR(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=N1(n):(i=Kw({},n),ri(!i.pathname||!i.pathname.includes("?"),tC("?","pathname","search",i)),ri(!i.pathname||!i.pathname.includes("#"),tC("#","pathname","hash",i)),ri(!i.search||!i.search.includes("#"),tC("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=ere(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const vf=n=>n.join("/").replace(/\/\/+/g,"/"),rre=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ire=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sre=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ore(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const lU=["post","put","patch","delete"];new Set(lU);const are=["get",...lU];new Set(are);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yw(){return Yw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yw.apply(this,arguments)}const vR=D.createContext(null),lre=D.createContext(null),Bf=D.createContext(null),cS=D.createContext(null),ru=D.createContext({outlet:null,matches:[],isDataRoute:!1}),cU=D.createContext(null);function cre(n,e){let{relative:t}=e===void 0?{}:e;C1()||ri(!1);let{basename:r,navigator:i}=D.useContext(Bf),{hash:s,pathname:o,search:a}=dU(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:vf([r,o])),i.createHref({pathname:l,search:a,hash:s})}function C1(){return D.useContext(cS)!=null}function Dd(){return C1()||ri(!1),D.useContext(cS).location}function uU(n){D.useContext(Bf).static||D.useLayoutEffect(n)}function Uf(){let{isDataRoute:n}=D.useContext(ru);return n?Sre():ure()}function ure(){C1()||ri(!1);let n=D.useContext(vR),{basename:e,future:t,navigator:r}=D.useContext(Bf),{matches:i}=D.useContext(ru),{pathname:s}=Dd(),o=JSON.stringify(mR(i,t.v7_relativeSplatPath)),a=D.useRef(!1);return uU(()=>{a.current=!0}),D.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=gR(c,JSON.parse(o),s,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:vf([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,n])}const dre=D.createContext(null);function hre(n){let e=D.useContext(ru).outlet;return e&&D.createElement(dre.Provider,{value:n},e)}function fre(){let{matches:n}=D.useContext(ru),e=n[n.length-1];return e?e.params:{}}function dU(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=D.useContext(Bf),{matches:i}=D.useContext(ru),{pathname:s}=Dd(),o=JSON.stringify(mR(i,r.v7_relativeSplatPath));return D.useMemo(()=>gR(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function pre(n,e){return mre(n,e)}function mre(n,e,t,r){C1()||ri(!1);let{navigator:i}=D.useContext(Bf),{matches:s}=D.useContext(ru),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Dd(),u;if(e){var h;let _=typeof e=="string"?N1(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||ri(!1),u=_}else u=c;let p=u.pathname||"/",f=p;if(l!=="/"){let _=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=Une(n,{pathname:f}),y=bre(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:vf([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:vf([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,t,r);return e&&y?D.createElement(cS.Provider,{value:{location:Yw({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:nf.Pop}},y):y}function gre(){let n=Ere(),e=ore(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:i},t):null,null)}const vre=D.createElement(gre,null);class yre extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(ru.Provider,{value:this.props.routeContext},D.createElement(cU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wre(n){let{routeContext:e,match:t,children:r}=n,i=D.useContext(vR);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(ru.Provider,{value:e},r)}function bre(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||ri(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:f}=t,w=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let f,w=!1,y=null,_=null;t&&(f=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||vre,l&&(c<0&&p===0?(w=!0,_=null):c===p&&(w=!0,_=h.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,p+1)),A=()=>{let E;return f?E=y:w?E=_:h.route.Component?E=D.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=u,D.createElement(wre,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:t!=null},children:E})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?D.createElement(yre,{location:t.location,revalidation:t.revalidation,component:y,error:f,children:A(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):A()},null)}var hU=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(hU||{}),DA=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(DA||{});function xre(n){let e=D.useContext(vR);return e||ri(!1),e}function _re(n){let e=D.useContext(lre);return e||ri(!1),e}function Are(n){let e=D.useContext(ru);return e||ri(!1),e}function fU(n){let e=Are(),t=e.matches[e.matches.length-1];return t.route.id||ri(!1),t.route.id}function Ere(){var n;let e=D.useContext(cU),t=_re(DA.UseRouteError),r=fU(DA.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Sre(){let{router:n}=xre(hU.UseNavigateStable),e=fU(DA.UseNavigateStable),t=D.useRef(!1);return uU(()=>{t.current=!0}),D.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Yw({fromRouteId:e},s)))},[n,e])}function Nre(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function YD(n){let{to:e,replace:t,state:r,relative:i}=n;C1()||ri(!1);let{future:s,static:o}=D.useContext(Bf),{matches:a}=D.useContext(ru),{pathname:l}=Dd(),c=Uf(),u=gR(e,mR(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return D.useEffect(()=>c(JSON.parse(h),{replace:t,state:r,relative:i}),[c,h,i,t,r]),null}function Cre(n){return hre(n.context)}function mo(n){ri(!1)}function Tre(n){let{basename:e="/",children:t=null,location:r,navigationType:i=nf.Pop,navigator:s,static:o=!1,future:a}=n;C1()&&ri(!1);let l=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:l,navigator:s,static:o,future:Yw({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=N1(r));let{pathname:u="/",search:h="",hash:p="",state:f=null,key:w="default"}=r,y=D.useMemo(()=>{let _=pR(u,l);return _==null?null:{location:{pathname:_,search:h,hash:p,state:f,key:w},navigationType:i}},[l,u,h,p,f,w,i]);return y==null?null:D.createElement(Bf.Provider,{value:c},D.createElement(cS.Provider,{children:t,value:y}))}function kre(n){let{children:e,location:t}=n;return pre(yk(e),t)}new Promise(()=>{});function yk(n,e){e===void 0&&(e=[]);let t=[];return D.Children.forEach(n,(r,i)=>{if(!D.isValidElement(r))return;let s=[...e,i];if(r.type===D.Fragment){t.push.apply(t,yk(r.props.children,s));return}r.type!==mo&&ri(!1),!r.props.index||!r.props.children||ri(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yk(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wk(){return wk=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wk.apply(this,arguments)}function Ire(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Pre(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Rre(n,e){return n.button===0&&(!e||e==="_self")&&!Pre(n)}function bk(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function Lre(n,e){let t=bk(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}const Dre=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Mre="6";try{window.__reactRouterVersion=Mre}catch{}const jre="startTransition",XD=ZP[jre];function Ore(n){let{basename:e,children:t,future:r,window:i}=n,s=D.useRef();s.current==null&&(s.current=One({window:i,v5Compat:!0}));let o=s.current,[a,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=D.useCallback(h=>{c&&XD?XD(()=>l(h)):l(h)},[l,c]);return D.useLayoutEffect(()=>o.listen(u),[o,u]),D.useEffect(()=>Nre(r),[r]),D.createElement(Tre,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}const Fre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=D.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,p=Ire(e,Dre),{basename:f}=D.useContext(Bf),w,y=!1;if(typeof c=="string"&&Bre.test(c)&&(w=c,Fre))try{let E=new URL(window.location.href),N=c.startsWith("//")?new URL(E.protocol+c):new URL(c),F=pR(N.pathname,f);N.origin===E.origin&&F!=null?c=F+N.search+N.hash:y=!0}catch{}let _=cre(c,{relative:i}),b=Ure(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function A(E){r&&r(E),E.defaultPrevented||b(E)}return D.createElement("a",wk({},p,{href:w||_,onClick:y||s?r:A,ref:t,target:l}))});var QD;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(QD||(QD={}));var JD;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(JD||(JD={}));function Ure(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Uf(),c=Dd(),u=dU(n,{relative:o});return D.useCallback(h=>{if(Rre(h,t)){h.preventDefault();let p=r!==void 0?r:LA(c)===LA(u);l(n,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,t,n,s,o,a])}function yR(n){let e=D.useRef(bk(n)),t=D.useRef(!1),r=Dd(),i=D.useMemo(()=>Lre(r.search,t.current?null:e.current),[r.search]),s=Uf(),o=D.useCallback((a,l)=>{const c=bk(typeof a=="function"?a(i):a);t.current=!0,s("?"+c,l)},[s,i]);return[i,o]}const Vre=Q4("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-lg hover:-translate-y-0.5",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-primary text-primary-foreground shadow-lg hover:shadow-xl hover:-translate-y-1 hover:shadow-glow",heroOutline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",success:"bg-success text-success-foreground hover:bg-success/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg font-semibold",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),qe=D.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?GQ:"button";return d.jsx(o,{className:vr(Vre({variant:e,size:t,className:n})),ref:s,...i})});qe.displayName="Button";const ui=D.forwardRef(({className:n,type:e,...t},r)=>d.jsx("input",{type:e,className:vr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));ui.displayName="Input";const zre="/assets/logo-Dp4nOnnn.png",ro=({className:n})=>{const e=zre;return d.jsx(et,{to:"/",className:`flex items-center gap-2.5 ${n}`,children:d.jsx("img",{src:e,alt:"Logo",className:"h-full w-auto shrink-0 object-contain rounded-xl"})})};var $re=D.createContext(void 0);function pU(n){const e=D.useContext($re);return n||e||"ltr"}var nC=0;function Hre(){D.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??ZD()),document.body.insertAdjacentElement("beforeend",n[1]??ZD()),nC++,()=>{nC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),nC--}},[])}function ZD(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var rC="focusScope.autoFocusOnMount",iC="focusScope.autoFocusOnUnmount",eM={bubbles:!1,cancelable:!0},qre="FocusScope",mU=D.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,l]=D.useState(null),c=wa(i),u=wa(s),h=D.useRef(null),p=Hi(e,y=>l(y)),f=D.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;D.useEffect(()=>{if(r){let y=function(E){if(f.paused||!a)return;const N=E.target;a.contains(N)?h.current=N:uh(h.current,{select:!0})},_=function(E){if(f.paused||!a)return;const N=E.relatedTarget;N!==null&&(a.contains(N)||uh(h.current,{select:!0}))},b=function(E){if(document.activeElement===document.body)for(const F of E)F.removedNodes.length>0&&uh(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const A=new MutationObserver(b);return a&&A.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),A.disconnect()}}},[r,a,f.paused]),D.useEffect(()=>{if(a){nM.add(f);const y=document.activeElement;if(!a.contains(y)){const b=new CustomEvent(rC,eM);a.addEventListener(rC,c),a.dispatchEvent(b),b.defaultPrevented||(Wre(Qre(gU(a)),{select:!0}),document.activeElement===y&&uh(a))}return()=>{a.removeEventListener(rC,c),setTimeout(()=>{const b=new CustomEvent(iC,eM);a.addEventListener(iC,u),a.dispatchEvent(b),b.defaultPrevented||uh(y??document.body,{select:!0}),a.removeEventListener(iC,u),nM.remove(f)},0)}}},[a,c,u,f]);const w=D.useCallback(y=>{if(!t&&!r||f.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(_&&b){const A=y.currentTarget,[E,N]=Gre(A);E&&N?!y.shiftKey&&b===N?(y.preventDefault(),t&&uh(E,{select:!0})):y.shiftKey&&b===E&&(y.preventDefault(),t&&uh(N,{select:!0})):b===A&&y.preventDefault()}},[t,r,f.paused]);return d.jsx(gr.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});mU.displayName=qre;function Wre(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(uh(r,{select:e}),document.activeElement!==t)return}function Gre(n){const e=gU(n),t=tM(e,n),r=tM(e.reverse(),n);return[t,r]}function gU(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function tM(n,e){for(const t of n)if(!Kre(t,{upTo:e}))return t}function Kre(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Yre(n){return n instanceof HTMLInputElement&&"select"in n}function uh(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Yre(n)&&e&&n.select()}}var nM=Xre();function Xre(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=rM(n,e),n.unshift(e)},remove(e){var t;n=rM(n,e),(t=n[0])==null||t.resume()}}}function rM(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function Qre(n){return n.filter(e=>e.tagName!=="A")}var sC="rovingFocusGroup.onEntryFocus",Jre={bubbles:!1,cancelable:!0},K2="RovingFocusGroup",[xk,vU,Zre]=H4(K2),[eie,yU]=dg(K2,[Zre]),[tie,nie]=eie(K2),wU=D.forwardRef((n,e)=>d.jsx(xk.Provider,{scope:n.__scopeRovingFocusGroup,children:d.jsx(xk.Slot,{scope:n.__scopeRovingFocusGroup,children:d.jsx(rie,{...n,ref:e})})}));wU.displayName=K2;var rie=D.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=n,p=D.useRef(null),f=Hi(e,p),w=pU(s),[y,_]=G4({prop:o,defaultProp:a??null,onChange:l,caller:K2}),[b,A]=D.useState(!1),E=wa(c),N=vU(t),F=D.useRef(!1),[V,L]=D.useState(0);return D.useEffect(()=>{const C=p.current;if(C)return C.addEventListener(sC,E),()=>C.removeEventListener(sC,E)},[E]),d.jsx(tie,{scope:t,orientation:r,dir:w,loop:i,currentTabStopId:y,onItemFocus:D.useCallback(C=>_(C),[_]),onItemShiftTab:D.useCallback(()=>A(!0),[]),onFocusableItemAdd:D.useCallback(()=>L(C=>C+1),[]),onFocusableItemRemove:D.useCallback(()=>L(C=>C-1),[]),children:d.jsx(gr.div,{tabIndex:b||V===0?-1:0,"data-orientation":r,...h,ref:f,style:{outline:"none",...n.style},onMouseDown:Ot(n.onMouseDown,()=>{F.current=!0}),onFocus:Ot(n.onFocus,C=>{const k=!F.current;if(C.target===C.currentTarget&&k&&!b){const j=new CustomEvent(sC,Jre);if(C.currentTarget.dispatchEvent(j),!j.defaultPrevented){const T=N().filter(de=>de.focusable),M=T.find(de=>de.active),R=T.find(de=>de.id===y),ce=[M,R,...T].filter(Boolean).map(de=>de.ref.current);_U(ce,u)}}F.current=!1}),onBlur:Ot(n.onBlur,()=>A(!1))})})}),bU="RovingFocusGroupItem",xU=D.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=n,l=uk(),c=s||l,u=nie(bU,t),h=u.currentTabStopId===c,p=vU(t),{onFocusableItemAdd:f,onFocusableItemRemove:w,currentTabStopId:y}=u;return D.useEffect(()=>{if(r)return f(),()=>w()},[r,f,w]),d.jsx(xk.ItemSlot,{scope:t,id:c,focusable:r,active:i,children:d.jsx(gr.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Ot(n.onMouseDown,_=>{r?u.onItemFocus(c):_.preventDefault()}),onFocus:Ot(n.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ot(n.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const b=oie(_,u.orientation,u.dir);if(b!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let E=p().filter(N=>N.focusable).map(N=>N.ref.current);if(b==="last")E.reverse();else if(b==="prev"||b==="next"){b==="prev"&&E.reverse();const N=E.indexOf(_.currentTarget);E=u.loop?aie(E,N+1):E.slice(N+1)}setTimeout(()=>_U(E))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:y!=null}):o})})});xU.displayName=bU;var iie={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sie(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function oie(n,e,t){const r=sie(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return iie[r]}function _U(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function aie(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var lie=wU,cie=xU,uie=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Mg=new WeakMap,h_=new WeakMap,f_={},oC=0,AU=function(n){return n&&(n.host||AU(n.parentNode))},die=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=AU(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},hie=function(n,e,t,r){var i=die(e,Array.isArray(n)?n:[n]);f_[t]||(f_[t]=new WeakMap);var s=f_[t],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))u(p);else try{var f=p.getAttribute(r),w=f!==null&&f!=="false",y=(Mg.get(p)||0)+1,_=(s.get(p)||0)+1;Mg.set(p,y),s.set(p,_),o.push(p),y===1&&w&&h_.set(p,!0),_===1&&p.setAttribute(t,"true"),w||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return u(e),a.clear(),oC++,function(){o.forEach(function(h){var p=Mg.get(h)-1,f=s.get(h)-1;Mg.set(h,p),s.set(h,f),p||(h_.has(h)||h.removeAttribute(r),h_.delete(h)),f||h.removeAttribute(t)}),oC--,oC||(Mg=new WeakMap,Mg=new WeakMap,h_=new WeakMap,f_={})}},fie=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=uie(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),hie(r,i,t,"aria-hidden")):function(){return null}},_k=function(n,e){return _k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},_k(n,e)};function pie(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_k(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ar=function(){return ar=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ar.apply(this,arguments)};function Y2(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function mie(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var s5="right-scroll-bar-position",o5="width-before-scroll-bar",gie="with-scroll-bars-hidden",vie="--removed-body-scroll-bar-size";function aC(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function yie(n,e){var t=D.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var wie=typeof window<"u"?D.useLayoutEffect:D.useEffect,iM=new WeakMap;function bie(n,e){var t=yie(null,function(r){return n.forEach(function(i){return aC(i,r)})});return wie(function(){var r=iM.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||aC(a,null)}),s.forEach(function(a){i.has(a)||aC(a,o)})}iM.set(t,n)},[n]),t}function xie(n){return n}function _ie(n,e){e===void 0&&(e=xie);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),t}}}};return i}function Aie(n){n===void 0&&(n={});var e=_ie(null);return e.options=ar({async:!0,ssr:!1},n),e}var EU=function(n){var e=n.sideCar,t=Y2(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return D.createElement(r,ar({},t))};EU.isSideCarExport=!0;function Eie(n,e){return n.useMedium(e),EU}var SU=Aie(),lC=function(){},uS=D.forwardRef(function(n,e){var t=D.useRef(null),r=D.useState({onScrollCapture:lC,onWheelCapture:lC,onTouchMoveCapture:lC}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,l=n.className,c=n.removeScrollBar,u=n.enabled,h=n.shards,p=n.sideCar,f=n.noRelative,w=n.noIsolation,y=n.inert,_=n.allowPinchZoom,b=n.as,A=b===void 0?"div":b,E=n.gapMode,N=Y2(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=p,V=bie([t,e]),L=ar(ar({},N),i);return D.createElement(D.Fragment,null,u&&D.createElement(F,{sideCar:SU,removeScrollBar:c,shards:h,noRelative:f,noIsolation:w,inert:y,setCallbacks:s,allowPinchZoom:!!_,lockRef:t,gapMode:E}),o?D.cloneElement(D.Children.only(a),ar(ar({},L),{ref:V})):D.createElement(A,ar({},L,{className:l,ref:V}),a))});uS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uS.classNames={fullWidth:o5,zeroRight:s5};var Sie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Nie(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Sie();return e&&n.setAttribute("nonce",e),n}function Cie(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Tie(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var kie=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Nie())&&(Cie(e,t),Tie(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Iie=function(){var n=kie();return function(e,t){D.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},NU=function(){var n=Iie(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},Pie={left:0,top:0,right:0,gap:0},cC=function(n){return parseInt(n||"",10)||0},Rie=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[cC(t),cC(r),cC(i)]},Lie=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Pie;var e=Rie(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},Die=NU(),E0="data-scroll-locked",Mie=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(gie,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(E0,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(s5,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(o5,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(s5," .").concat(s5,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(o5," .").concat(o5,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(E0,`] {
    `).concat(vie,": ").concat(a,`px;
  }
`)},sM=function(){var n=parseInt(document.body.getAttribute(E0)||"0",10);return isFinite(n)?n:0},jie=function(){D.useEffect(function(){return document.body.setAttribute(E0,(sM()+1).toString()),function(){var n=sM()-1;n<=0?document.body.removeAttribute(E0):document.body.setAttribute(E0,n.toString())}},[])},Oie=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;jie();var s=D.useMemo(function(){return Lie(i)},[i]);return D.createElement(Die,{styles:Mie(s,!e,i,t?"":"!important")})},Ak=!1;if(typeof window<"u")try{var p_=Object.defineProperty({},"passive",{get:function(){return Ak=!0,!0}});window.addEventListener("test",p_,p_),window.removeEventListener("test",p_,p_)}catch{Ak=!1}var jg=Ak?{passive:!1}:!1,Fie=function(n){return n.tagName==="TEXTAREA"},CU=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Fie(n)&&t[e]==="visible")},Bie=function(n){return CU(n,"overflowY")},Uie=function(n){return CU(n,"overflowX")},oM=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=TU(n,r);if(i){var s=kU(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Vie=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},zie=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},TU=function(n,e){return n==="v"?Bie(e):Uie(e)},kU=function(n,e){return n==="v"?Vie(e):zie(e)},$ie=function(n,e){return n==="h"&&e==="rtl"?-1:1},Hie=function(n,e,t,r,i){var s=$ie(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),c=!1,u=o>0,h=0,p=0;do{if(!a)break;var f=kU(n,a),w=f[0],y=f[1],_=f[2],b=y-_-s*w;(w||b)&&TU(n,a)&&(h+=b,p+=w);var A=a.parentNode;a=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!i)||!u&&(Math.abs(p)<1||!i))&&(c=!0),c},m_=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},aM=function(n){return[n.deltaX,n.deltaY]},lM=function(n){return n&&"current"in n?n.current:n},qie=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Wie=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Gie=0,Og=[];function Kie(n){var e=D.useRef([]),t=D.useRef([0,0]),r=D.useRef(),i=D.useState(Gie++)[0],s=D.useState(NU)[0],o=D.useRef(n);D.useEffect(function(){o.current=n},[n]),D.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var y=mie([n.lockRef.current],(n.shards||[]).map(lM),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=D.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var b=m_(y),A=t.current,E="deltaX"in y?y.deltaX:A[0]-b[0],N="deltaY"in y?y.deltaY:A[1]-b[1],F,V=y.target,L=Math.abs(E)>Math.abs(N)?"h":"v";if("touches"in y&&L==="h"&&V.type==="range")return!1;var C=oM(L,V);if(!C)return!0;if(C?F=L:(F=L==="v"?"h":"v",C=oM(L,V)),!C)return!1;if(!r.current&&"changedTouches"in y&&(E||N)&&(r.current=F),!F)return!0;var k=r.current||F;return Hie(k,_,y,k==="h"?E:N,!0)},[]),l=D.useCallback(function(y){var _=y;if(!(!Og.length||Og[Og.length-1]!==s)){var b="deltaY"in _?aM(_):m_(_),A=e.current.filter(function(F){return F.name===_.type&&(F.target===_.target||_.target===F.shadowParent)&&qie(F.delta,b)})[0];if(A&&A.should){_.cancelable&&_.preventDefault();return}if(!A){var E=(o.current.shards||[]).map(lM).filter(Boolean).filter(function(F){return F.contains(_.target)}),N=E.length>0?a(_,E[0]):!o.current.noIsolation;N&&_.cancelable&&_.preventDefault()}}},[]),c=D.useCallback(function(y,_,b,A){var E={name:y,delta:_,target:b,should:A,shadowParent:Yie(b)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(N){return N!==E})},1)},[]),u=D.useCallback(function(y){t.current=m_(y),r.current=void 0},[]),h=D.useCallback(function(y){c(y.type,aM(y),y.target,a(y,n.lockRef.current))},[]),p=D.useCallback(function(y){c(y.type,m_(y),y.target,a(y,n.lockRef.current))},[]);D.useEffect(function(){return Og.push(s),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,jg),document.addEventListener("touchmove",l,jg),document.addEventListener("touchstart",u,jg),function(){Og=Og.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,jg),document.removeEventListener("touchmove",l,jg),document.removeEventListener("touchstart",u,jg)}},[]);var f=n.removeScrollBar,w=n.inert;return D.createElement(D.Fragment,null,w?D.createElement(s,{styles:Wie(i)}):null,f?D.createElement(Oie,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function Yie(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Xie=Eie(SU,Kie);var IU=D.forwardRef(function(n,e){return D.createElement(uS,ar({},n,{ref:e,sideCar:Xie}))});IU.classNames=uS.classNames;var Ek=["Enter"," "],Qie=["ArrowDown","PageUp","Home"],PU=["ArrowUp","PageDown","End"],Jie=[...Qie,...PU],Zie={ltr:[...Ek,"ArrowRight"],rtl:[...Ek,"ArrowLeft"]},ese={ltr:["ArrowLeft"],rtl:["ArrowRight"]},X2="Menu",[Xw,tse,nse]=H4(X2),[fg,RU]=dg(X2,[nse,iS,yU]),dS=iS(),LU=yU(),[rse,pg]=fg(X2),[ise,Q2]=fg(X2),DU=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=n,a=dS(e),[l,c]=D.useState(null),u=D.useRef(!1),h=wa(s),p=pU(i);return D.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),d.jsx(Wte,{...a,children:d.jsx(rse,{scope:e,open:t,onOpenChange:h,content:l,onContentChange:c,children:d.jsx(ise,{scope:e,onClose:D.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};DU.displayName=X2;var sse="MenuAnchor",wR=D.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=dS(t);return d.jsx(VB,{...i,...r,ref:e})});wR.displayName=sse;var bR="MenuPortal",[ose,MU]=fg(bR,{forceMount:void 0}),jU=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,s=pg(bR,e);return d.jsx(ose,{scope:e,forceMount:t,children:d.jsx(hg,{present:t||s.open,children:d.jsx(W4,{asChild:!0,container:i,children:r})})})};jU.displayName=bR;var Xa="MenuContent",[ase,xR]=fg(Xa),OU=D.forwardRef((n,e)=>{const t=MU(Xa,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=pg(Xa,n.__scopeMenu),o=Q2(Xa,n.__scopeMenu);return d.jsx(Xw.Provider,{scope:n.__scopeMenu,children:d.jsx(hg,{present:r||s.open,children:d.jsx(Xw.Slot,{scope:n.__scopeMenu,children:o.modal?d.jsx(lse,{...i,ref:e}):d.jsx(cse,{...i,ref:e})})})})}),lse=D.forwardRef((n,e)=>{const t=pg(Xa,n.__scopeMenu),r=D.useRef(null),i=Hi(e,r);return D.useEffect(()=>{const s=r.current;if(s)return fie(s)},[]),d.jsx(_R,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ot(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),cse=D.forwardRef((n,e)=>{const t=pg(Xa,n.__scopeMenu);return d.jsx(_R,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),use=Vw("MenuContent.ScrollLock"),_R=D.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:f,disableOutsideScroll:w,...y}=n,_=pg(Xa,t),b=Q2(Xa,t),A=dS(t),E=LU(t),N=tse(t),[F,V]=D.useState(null),L=D.useRef(null),C=Hi(e,L,_.onContentChange),k=D.useRef(0),j=D.useRef(""),T=D.useRef(0),M=D.useRef(null),R=D.useRef("right"),q=D.useRef(0),ce=w?IU:D.Fragment,de=w?{as:use,allowPinchZoom:!0}:void 0,ae=ne=>{var ue,Ae;const ge=j.current+ne,pe=N().filter(we=>!we.disabled),U=document.activeElement,Y=(ue=pe.find(we=>we.ref.current===U))==null?void 0:ue.textValue,re=pe.map(we=>we.textValue),le=_se(re,ge,Y),he=(Ae=pe.find(we=>we.textValue===le))==null?void 0:Ae.ref.current;(function we(_e){j.current=_e,window.clearTimeout(k.current),_e!==""&&(k.current=window.setTimeout(()=>we(""),1e3))})(ge),he&&setTimeout(()=>he.focus())};D.useEffect(()=>()=>window.clearTimeout(k.current),[]),Hre();const Q=D.useCallback(ne=>{var pe,U;return R.current===((pe=M.current)==null?void 0:pe.side)&&Ese(ne,(U=M.current)==null?void 0:U.area)},[]);return d.jsx(ase,{scope:t,searchRef:j,onItemEnter:D.useCallback(ne=>{Q(ne)&&ne.preventDefault()},[Q]),onItemLeave:D.useCallback(ne=>{var ge;Q(ne)||((ge=L.current)==null||ge.focus(),V(null))},[Q]),onTriggerLeave:D.useCallback(ne=>{Q(ne)&&ne.preventDefault()},[Q]),pointerGraceTimerRef:T,onPointerGraceIntentChange:D.useCallback(ne=>{M.current=ne},[]),children:d.jsx(ce,{...de,children:d.jsx(mU,{asChild:!0,trapped:i,onMountAutoFocus:Ot(s,ne=>{var ge;ne.preventDefault(),(ge=L.current)==null||ge.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(XE,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:f,children:d.jsx(lie,{asChild:!0,...E,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:F,onCurrentTabStopIdChange:V,onEntryFocus:Ot(l,ne=>{b.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(zB,{role:"menu","aria-orientation":"vertical","data-state":ZU(_.open),"data-radix-menu-content":"",dir:b.dir,...A,...y,ref:C,style:{outline:"none",...y.style},onKeyDown:Ot(y.onKeyDown,ne=>{const pe=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,U=ne.ctrlKey||ne.altKey||ne.metaKey,Y=ne.key.length===1;pe&&(ne.key==="Tab"&&ne.preventDefault(),!U&&Y&&ae(ne.key));const re=L.current;if(ne.target!==re||!Jie.includes(ne.key))return;ne.preventDefault();const he=N().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);PU.includes(ne.key)&&he.reverse(),bse(he)}),onBlur:Ot(n.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(k.current),j.current="")}),onPointerMove:Ot(n.onPointerMove,Qw(ne=>{const ge=ne.target,pe=q.current!==ne.clientX;if(ne.currentTarget.contains(ge)&&pe){const U=ne.clientX>q.current?"right":"left";R.current=U,q.current=ne.clientX}}))})})})})})})});OU.displayName=Xa;var dse="MenuGroup",AR=D.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(gr.div,{role:"group",...r,ref:e})});AR.displayName=dse;var hse="MenuLabel",FU=D.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(gr.div,{...r,ref:e})});FU.displayName=hse;var MA="MenuItem",cM="menu.itemSelect",hS=D.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,s=D.useRef(null),o=Q2(MA,n.__scopeMenu),a=xR(MA,n.__scopeMenu),l=Hi(e,s),c=D.useRef(!1),u=()=>{const h=s.current;if(!t&&h){const p=new CustomEvent(cM,{bubbles:!0,cancelable:!0});h.addEventListener(cM,f=>r==null?void 0:r(f),{once:!0}),q4(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return d.jsx(BU,{...i,ref:l,disabled:t,onClick:Ot(n.onClick,u),onPointerDown:h=>{var p;(p=n.onPointerDown)==null||p.call(n,h),c.current=!0},onPointerUp:Ot(n.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:Ot(n.onKeyDown,h=>{const p=a.searchRef.current!=="";t||p&&h.key===" "||Ek.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});hS.displayName=MA;var BU=D.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...s}=n,o=xR(MA,t),a=LU(t),l=D.useRef(null),c=Hi(e,l),[u,h]=D.useState(!1),[p,f]=D.useState("");return D.useEffect(()=>{const w=l.current;w&&f((w.textContent??"").trim())},[s.children]),d.jsx(Xw.ItemSlot,{scope:t,disabled:r,textValue:i??p,children:d.jsx(cie,{asChild:!0,...a,focusable:!r,children:d.jsx(gr.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Ot(n.onPointerMove,Qw(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ot(n.onPointerLeave,Qw(w=>o.onItemLeave(w))),onFocus:Ot(n.onFocus,()=>h(!0)),onBlur:Ot(n.onBlur,()=>h(!1))})})})}),fse="MenuCheckboxItem",UU=D.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return d.jsx(qU,{scope:n.__scopeMenu,checked:t,children:d.jsx(hS,{role:"menuitemcheckbox","aria-checked":jA(t)?"mixed":t,...i,ref:e,"data-state":SR(t),onSelect:Ot(i.onSelect,()=>r==null?void 0:r(jA(t)?!0:!t),{checkForDefaultPrevented:!1})})})});UU.displayName=fse;var VU="MenuRadioGroup",[pse,mse]=fg(VU,{value:void 0,onValueChange:()=>{}}),zU=D.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,s=wa(r);return d.jsx(pse,{scope:n.__scopeMenu,value:t,onValueChange:s,children:d.jsx(AR,{...i,ref:e})})});zU.displayName=VU;var $U="MenuRadioItem",HU=D.forwardRef((n,e)=>{const{value:t,...r}=n,i=mse($U,n.__scopeMenu),s=t===i.value;return d.jsx(qU,{scope:n.__scopeMenu,checked:s,children:d.jsx(hS,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":SR(s),onSelect:Ot(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,t)},{checkForDefaultPrevented:!1})})})});HU.displayName=$U;var ER="MenuItemIndicator",[qU,gse]=fg(ER,{checked:!1}),WU=D.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,s=gse(ER,t);return d.jsx(hg,{present:r||jA(s.checked)||s.checked===!0,children:d.jsx(gr.span,{...i,ref:e,"data-state":SR(s.checked)})})});WU.displayName=ER;var vse="MenuSeparator",GU=D.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(gr.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});GU.displayName=vse;var yse="MenuArrow",KU=D.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=dS(t);return d.jsx($B,{...i,...r,ref:e})});KU.displayName=yse;var wse="MenuSub",[r_e,YU]=fg(wse),ky="MenuSubTrigger",XU=D.forwardRef((n,e)=>{const t=pg(ky,n.__scopeMenu),r=Q2(ky,n.__scopeMenu),i=YU(ky,n.__scopeMenu),s=xR(ky,n.__scopeMenu),o=D.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:n.__scopeMenu},u=D.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return D.useEffect(()=>u,[u]),D.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),d.jsx(wR,{asChild:!0,...c,children:d.jsx(BU,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":ZU(t.open),...n,ref:YE(e,i.onTriggerChange),onClick:h=>{var p;(p=n.onClick)==null||p.call(n,h),!(n.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ot(n.onPointerMove,Qw(h=>{s.onItemEnter(h),!h.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),u()},100))})),onPointerLeave:Ot(n.onPointerLeave,Qw(h=>{var f,w;u();const p=(f=t.content)==null?void 0:f.getBoundingClientRect();if(p){const y=(w=t.content)==null?void 0:w.dataset.side,_=y==="right",b=_?-5:5,A=p[_?"left":"right"],E=p[_?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:A,y:p.top},{x:E,y:p.top},{x:E,y:p.bottom},{x:A,y:p.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ot(n.onKeyDown,h=>{var f;const p=s.searchRef.current!=="";n.disabled||p&&h.key===" "||Zie[r.dir].includes(h.key)&&(t.onOpenChange(!0),(f=t.content)==null||f.focus(),h.preventDefault())})})})});XU.displayName=ky;var QU="MenuSubContent",JU=D.forwardRef((n,e)=>{const t=MU(Xa,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=pg(Xa,n.__scopeMenu),o=Q2(Xa,n.__scopeMenu),a=YU(QU,n.__scopeMenu),l=D.useRef(null),c=Hi(e,l);return d.jsx(Xw.Provider,{scope:n.__scopeMenu,children:d.jsx(hg,{present:r||s.open,children:d.jsx(Xw.Slot,{scope:n.__scopeMenu,children:d.jsx(_R,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ot(n.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ot(n.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Ot(n.onKeyDown,u=>{var f;const h=u.currentTarget.contains(u.target),p=ese[o.dir].includes(u.key);h&&p&&(s.onOpenChange(!1),(f=a.trigger)==null||f.focus(),u.preventDefault())})})})})})});JU.displayName=QU;function ZU(n){return n?"open":"closed"}function jA(n){return n==="indeterminate"}function SR(n){return jA(n)?"indeterminate":n?"checked":"unchecked"}function bse(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function xse(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function _se(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=xse(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function Ase(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,h=l.x,p=l.y;u>r!=p>r&&t<(h-c)*(r-u)/(p-u)+c&&(i=!i)}return i}function Ese(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return Ase(t,e)}function Qw(n){return e=>e.pointerType==="mouse"?n(e):void 0}var Sse=DU,Nse=wR,Cse=jU,Tse=OU,kse=AR,Ise=FU,Pse=hS,Rse=UU,Lse=zU,Dse=HU,Mse=WU,jse=GU,Ose=KU,Fse=XU,Bse=JU,fS="DropdownMenu",[Use,i_e]=dg(fS,[RU]),oo=RU(),[Vse,eV]=Use(fS),tV=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,l=oo(e),c=D.useRef(null),[u,h]=G4({prop:i,defaultProp:s??!1,onChange:o,caller:fS});return d.jsx(Vse,{scope:e,triggerId:uk(),triggerRef:c,contentId:uk(),open:u,onOpenChange:h,onOpenToggle:D.useCallback(()=>h(p=>!p),[h]),modal:a,children:d.jsx(Sse,{...l,open:u,onOpenChange:h,dir:r,modal:a,children:t})})};tV.displayName=fS;var nV="DropdownMenuTrigger",rV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,s=eV(nV,t),o=oo(t);return d.jsx(Nse,{asChild:!0,...o,children:d.jsx(gr.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:YE(e,s.triggerRef),onPointerDown:Ot(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Ot(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});rV.displayName=nV;var zse="DropdownMenuPortal",iV=n=>{const{__scopeDropdownMenu:e,...t}=n,r=oo(e);return d.jsx(Cse,{...r,...t})};iV.displayName=zse;var sV="DropdownMenuContent",oV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=eV(sV,t),s=oo(t),o=D.useRef(!1);return d.jsx(Tse,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Ot(n.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Ot(n.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oV.displayName=sV;var $se="DropdownMenuGroup",Hse=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oo(t);return d.jsx(kse,{...i,...r,ref:e})});Hse.displayName=$se;var qse="DropdownMenuLabel",aV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oo(t);return d.jsx(Ise,{...i,...r,ref:e})});aV.displayName=qse;var Wse="DropdownMenuItem",lV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oo(t);return d.jsx(Pse,{...i,...r,ref:e})});lV.displayName=Wse;var Gse="DropdownMenuCheckboxItem",cV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oo(t);return d.jsx(Rse,{...i,...r,ref:e})});cV.displayName=Gse;var Kse="DropdownMenuRadioGroup",Yse=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oo(t);return d.jsx(Lse,{...i,...r,ref:e})});Yse.displayName=Kse;var Xse="DropdownMenuRadioItem",uV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oo(t);return d.jsx(Dse,{...i,...r,ref:e})});uV.displayName=Xse;var Qse="DropdownMenuItemIndicator",dV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oo(t);return d.jsx(Mse,{...i,...r,ref:e})});dV.displayName=Qse;var Jse="DropdownMenuSeparator",hV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oo(t);return d.jsx(jse,{...i,...r,ref:e})});hV.displayName=Jse;var Zse="DropdownMenuArrow",eoe=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oo(t);return d.jsx(Ose,{...i,...r,ref:e})});eoe.displayName=Zse;var toe="DropdownMenuSubTrigger",fV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oo(t);return d.jsx(Fse,{...i,...r,ref:e})});fV.displayName=toe;var noe="DropdownMenuSubContent",pV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oo(t);return d.jsx(Bse,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pV.displayName=noe;var roe=tV,ioe=rV,soe=iV,mV=oV,gV=aV,vV=lV,yV=cV,wV=uV,bV=dV,xV=hV,_V=fV,AV=pV;const hd=roe,fd=ioe,ooe=D.forwardRef(({className:n,inset:e,children:t,...r},i)=>d.jsxs(_V,{ref:i,className:vr("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",n),...r,children:[t,d.jsx(ZE,{className:"ml-auto h-4 w-4"})]}));ooe.displayName=_V.displayName;const aoe=D.forwardRef(({className:n,...e},t)=>d.jsx(AV,{ref:t,className:vr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));aoe.displayName=AV.displayName;const Gc=D.forwardRef(({className:n,sideOffset:e=4,...t},r)=>d.jsx(soe,{children:d.jsx(mV,{ref:r,sideOffset:e,className:vr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));Gc.displayName=mV.displayName;const ni=D.forwardRef(({className:n,inset:e,...t},r)=>d.jsx(vV,{ref:r,className:vr("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",n),...t}));ni.displayName=vV.displayName;const loe=D.forwardRef(({className:n,children:e,checked:t,...r},i)=>d.jsxs(yV,{ref:i,className:vr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),checked:t,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(bV,{children:d.jsx(zm,{className:"h-4 w-4"})})}),e]}));loe.displayName=yV.displayName;const coe=D.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(wV,{ref:r,className:vr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),...t,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(bV,{children:d.jsx($J,{className:"h-2 w-2 fill-current"})})}),e]}));coe.displayName=wV.displayName;const uoe=D.forwardRef(({className:n,inset:e,...t},r)=>d.jsx(gV,{ref:r,className:vr("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));uoe.displayName=gV.displayName;const EV=D.forwardRef(({className:n,...e},t)=>d.jsx(xV,{ref:t,className:vr("-mx-1 my-1 h-px bg-muted",n),...e}));EV.displayName=xV.displayName;var uM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},doe=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},NV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(p=64)),r.push(t[u],t[h],t[p],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(SV(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):doe(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new hoe;const p=s<<2|a>>4;if(r.push(p),c!==64){const f=a<<4&240|c>>2;if(r.push(f),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class hoe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const foe=function(n){const e=SV(n);return NV.encodeByteArray(e,!0)},OA=function(n){return foe(n).replace(/\./g,"")},CV=function(n){try{return NV.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function poe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const moe=()=>poe().__FIREBASE_DEFAULTS__,goe=()=>{if(typeof process>"u"||typeof uM>"u")return;const n=uM.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},voe=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&CV(n[1]);return e&&JSON.parse(e)},pS=()=>{try{return moe()||goe()||voe()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},TV=n=>{var e,t;return(t=(e=pS())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},kV=n=>{const e=TV(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},IV=()=>{var n;return(n=pS())===null||n===void 0?void 0:n.config},PV=n=>{var e;return(e=pS())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function woe(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[OA(JSON.stringify(t)),OA(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function boe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(js())}function xoe(){var n;const e=(n=pS())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _oe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RV(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Aoe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Eoe(){const n=js();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Soe(){return!xoe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LV(){try{return typeof indexedDB=="object"}catch{return!1}}function DV(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function Noe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Coe="FirebaseError";class rl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Coe,Object.setPrototypeOf(this,rl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mg.prototype.create)}}class mg{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Toe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new rl(i,a,r)}}function Toe(n,e){return n.replace(koe,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const koe=/\{\$([^}]+)}/g;function Ioe(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jw(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(dM(s)&&dM(o)){if(!Jw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function dM(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Iy(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Py(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Poe(n,e){const t=new Roe(n,e);return t.subscribe.bind(t)}class Roe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Loe(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=uC),i.error===void 0&&(i.error=uC),i.complete===void 0&&(i.complete=uC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Loe(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function uC(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Doe=1e3,Moe=2,joe=4*60*60*1e3,Ooe=.5;function hM(n,e=Doe,t=Moe){const r=e*Math.pow(t,n),i=Math.round(Ooe*r*(Math.random()-.5)*2);return Math.min(joe,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(n){return n&&n._delegate?n._delegate:n}class el{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new yoe;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Uoe(e))try{this.getOrInitializeService({instanceIdentifier:cp})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=cp){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cp){return this.instances.has(e)}getOptions(e=cp){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Boe(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cp){return this.component?this.component.multipleInstances?e:cp:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Boe(n){return n===cp?void 0:n}function Uoe(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Voe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Foe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(yn||(yn={}));const zoe={debug:yn.DEBUG,verbose:yn.VERBOSE,info:yn.INFO,warn:yn.WARN,error:yn.ERROR,silent:yn.SILENT},$oe=yn.INFO,Hoe={[yn.DEBUG]:"log",[yn.VERBOSE]:"log",[yn.INFO]:"info",[yn.WARN]:"warn",[yn.ERROR]:"error"},qoe=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Hoe[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mS{constructor(e){this.name=e,this._logLevel=$oe,this._logHandler=qoe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zoe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yn.DEBUG,...e),this._logHandler(this,yn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yn.VERBOSE,...e),this._logHandler(this,yn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yn.INFO,...e),this._logHandler(this,yn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yn.WARN,...e),this._logHandler(this,yn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yn.ERROR,...e),this._logHandler(this,yn.ERROR,...e)}}const Woe=(n,e)=>e.some(t=>n instanceof t);let fM,pM;function Goe(){return fM||(fM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Koe(){return pM||(pM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MV=new WeakMap,Sk=new WeakMap,jV=new WeakMap,dC=new WeakMap,NR=new WeakMap;function Yoe(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(yf(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&MV.set(t,n)}).catch(()=>{}),NR.set(e,n),e}function Xoe(n){if(Sk.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Sk.set(n,e)}let Nk={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Sk.get(n);if(e==="objectStoreNames")return n.objectStoreNames||jV.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return yf(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Qoe(n){Nk=n(Nk)}function Joe(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(hC(this),e,...t);return jV.set(r,e.sort?e.sort():[e]),yf(r)}:Koe().includes(n)?function(...e){return n.apply(hC(this),e),yf(MV.get(this))}:function(...e){return yf(n.apply(hC(this),e))}}function Zoe(n){return typeof n=="function"?Joe(n):(n instanceof IDBTransaction&&Xoe(n),Woe(n,Goe())?new Proxy(n,Nk):n)}function yf(n){if(n instanceof IDBRequest)return Yoe(n);if(dC.has(n))return dC.get(n);const e=Zoe(n);return e!==n&&(dC.set(n,e),NR.set(e,n)),e}const hC=n=>NR.get(n);function OV(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=yf(o);return r&&o.addEventListener("upgradeneeded",l=>{r(yf(o.result),l.oldVersion,l.newVersion,yf(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const eae=["get","getKey","getAll","getAllKeys","count"],tae=["put","add","delete","clear"],fC=new Map;function mM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fC.get(e))return fC.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=tae.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eae.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return fC.set(e,s),s}Qoe(n=>({...n,get:(e,t,r)=>mM(e,t)||n.get(e,t,r),has:(e,t)=>!!mM(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rae(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function rae(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ck="@firebase/app",gM="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new mS("@firebase/app"),iae="@firebase/app-compat",sae="@firebase/analytics-compat",oae="@firebase/analytics",aae="@firebase/app-check-compat",lae="@firebase/app-check",cae="@firebase/auth",uae="@firebase/auth-compat",dae="@firebase/database",hae="@firebase/data-connect",fae="@firebase/database-compat",pae="@firebase/functions",mae="@firebase/functions-compat",gae="@firebase/installations",vae="@firebase/installations-compat",yae="@firebase/messaging",wae="@firebase/messaging-compat",bae="@firebase/performance",xae="@firebase/performance-compat",_ae="@firebase/remote-config",Aae="@firebase/remote-config-compat",Eae="@firebase/storage",Sae="@firebase/storage-compat",Nae="@firebase/firestore",Cae="@firebase/vertexai-preview",Tae="@firebase/firestore-compat",kae="firebase",Iae="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="[DEFAULT]",Pae={[Ck]:"fire-core",[iae]:"fire-core-compat",[oae]:"fire-analytics",[sae]:"fire-analytics-compat",[lae]:"fire-app-check",[aae]:"fire-app-check-compat",[cae]:"fire-auth",[uae]:"fire-auth-compat",[dae]:"fire-rtdb",[hae]:"fire-data-connect",[fae]:"fire-rtdb-compat",[pae]:"fire-fn",[mae]:"fire-fn-compat",[gae]:"fire-iid",[vae]:"fire-iid-compat",[yae]:"fire-fcm",[wae]:"fire-fcm-compat",[bae]:"fire-perf",[xae]:"fire-perf-compat",[_ae]:"fire-rc",[Aae]:"fire-rc-compat",[Eae]:"fire-gcs",[Sae]:"fire-gcs-compat",[Nae]:"fire-fst",[Tae]:"fire-fst-compat",[Cae]:"fire-vertex","fire-js":"fire-js",[kae]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new Map,Rae=new Map,kk=new Map;function vM(n,e){try{n.container.addComponent(e)}catch(t){Nd.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wl(n){const e=n.name;if(kk.has(e))return Nd.debug(`There were multiple attempts to register component ${e}.`),!1;kk.set(e,n);for(const t of FA.values())vM(t,n);for(const t of Rae.values())vM(t,n);return!0}function Vf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fl(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wf=new mg("app","Firebase",Lae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new el("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=Iae;function FV(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tk,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wf.create("bad-app-name",{appName:String(i)});if(t||(t=IV()),!t)throw wf.create("no-options");const s=FA.get(i);if(s){if(Jw(t,s.options)&&Jw(r,s.config))return s;throw wf.create("duplicate-app",{appName:i})}const o=new Voe(i);for(const l of kk.values())o.addComponent(l);const a=new Dae(t,r,o);return FA.set(i,a),a}function gS(n=Tk){const e=FA.get(n);if(!e&&n===Tk&&IV())return FV();if(!e)throw wf.create("no-app",{appName:n});return e}function Io(n,e,t){var r;let i=(r=Pae[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nd.warn(a.join(" "));return}Wl(new el(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mae="firebase-heartbeat-database",jae=1,Zw="firebase-heartbeat-store";let pC=null;function BV(){return pC||(pC=OV(Mae,jae,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zw)}catch(t){console.warn(t)}}}}).catch(n=>{throw wf.create("idb-open",{originalErrorMessage:n.message})})),pC}async function Oae(n){try{const t=(await BV()).transaction(Zw),r=await t.objectStore(Zw).get(UV(n));return await t.done,r}catch(e){if(e instanceof rl)Nd.warn(e.message);else{const t=wf.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nd.warn(t.message)}}}async function yM(n,e){try{const r=(await BV()).transaction(Zw,"readwrite");await r.objectStore(Zw).put(e,UV(n)),await r.done}catch(t){if(t instanceof rl)Nd.warn(t.message);else{const r=wf.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Nd.warn(r.message)}}}function UV(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fae=1024,Bae=30*24*60*60*1e3;class Uae{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zae(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wM();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Bae}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Nd.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=wM(),{heartbeatsToSend:r,unsentEntries:i}=Vae(this._heartbeatsCache.heartbeats),s=OA(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Nd.warn(t),""}}}function wM(){return new Date().toISOString().substring(0,10)}function Vae(n,e=Fae){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),bM(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),bM(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class zae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LV()?DV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Oae(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return yM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return yM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bM(n){return OA(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ae(n){Wl(new el("platform-logger",e=>new nae(e),"PRIVATE")),Wl(new el("heartbeat",e=>new Uae(e),"PRIVATE")),Io(Ck,gM,n),Io(Ck,gM,"esm2017"),Io("fire-js","")}$ae("");function VV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hae=VV,zV=new mg("auth","Firebase",VV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=new mS("@firebase/auth");function qae(n,...e){BA.logLevel<=yn.WARN&&BA.warn(`Auth (${T1}): ${n}`,...e)}function a5(n,...e){BA.logLevel<=yn.ERROR&&BA.error(`Auth (${T1}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(n,...e){throw TR(n,...e)}function zl(n,...e){return TR(n,...e)}function CR(n,e,t){const r=Object.assign(Object.assign({},Hae()),{[e]:t});return new mg("auth","Firebase",r).create(e,{appName:n.name})}function pd(n){return CR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wae(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ro(n,"argument-error"),CR(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function TR(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return zV.create(n,...e)}function Tt(n,e,...t){if(!n)throw TR(e,...t)}function Vc(n){const e="INTERNAL ASSERTION FAILED: "+n;throw a5(e),new Error(e)}function Cd(n,e){n||Vc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Gae(){return xM()==="http:"||xM()==="https:"}function xM(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gae()||RV()||"connection"in navigator)?navigator.onLine:!0}function Yae(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cd(t>e,"Short delay should be less than long delay!"),this.isMobile=boe()||Aoe()}get(){return Kae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(n,e){Cd(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qae=new Z2(3e4,6e4);function il(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function sl(n,e,t,r,i={}){return HV(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=J2(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return _oe()||(c.referrerPolicy="no-referrer"),$V.fetch()(qV(n,n.config.apiHost,t,a),c)})}async function HV(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Xae),e);try{const i=new Zae(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw g_(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw g_(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw g_(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw g_(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw CR(n,u,c);Ro(n,u)}}catch(i){if(i instanceof rl)throw i;Ro(n,"network-request-failed",{message:String(i)})}}async function ex(n,e,t,r,i={}){const s=await sl(n,e,t,r,i);return"mfaPendingCredential"in s&&Ro(n,"multi-factor-auth-required",{_serverResponse:s}),s}function qV(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?kR(n.config,i):`${n.config.apiScheme}://${i}`}function Jae(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(zl(this.auth,"network-request-failed")),Qae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function g_(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=zl(n,e,r);return i.customData._tokenResponse=t,i}function _M(n){return n!==void 0&&n.enterprise!==void 0}class ele{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Jae(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function tle(n,e){return sl(n,"GET","/v2/recaptchaConfig",il(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nle(n,e){return sl(n,"POST","/v1/accounts:delete",e)}async function WV(n,e){return sl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rle(n,e=!1){const t=Xn(n),r=await t.getIdToken(e),i=IR(r);Tt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:uw(mC(i.auth_time)),issuedAtTime:uw(mC(i.iat)),expirationTime:uw(mC(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function mC(n){return Number(n)*1e3}function IR(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return a5("JWT malformed, contained fewer than 3 sections"),null;try{const i=CV(t);return i?JSON.parse(i):(a5("Failed to decode base64 JWT payload"),null)}catch(i){return a5("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function AM(n){const e=IR(n);return Tt(e,"internal-error"),Tt(typeof e.exp<"u","internal-error"),Tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof rl&&ile(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function ile({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sle{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uw(this.lastLoginAt),this.creationTime=uw(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(n){var e;const t=n.auth,r=await n.getIdToken(),i=await eb(n,WV(t,{idToken:r}));Tt(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?GV(s.providerUserInfo):[],a=ale(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Pk(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)}async function ole(n){const e=Xn(n);await UA(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ale(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GV(n){return n.map(e=>{var{providerId:t}=e,r=Y2(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lle(n,e){const t=await HV(n,{},async()=>{const r=J2({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=qV(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$V.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cle(n,e){return sl(n,"POST","/v2/accounts:revokeToken",il(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt(typeof e.idToken<"u","internal-error"),Tt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Tt(e.length!==0,"internal-error");const t=AM(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await lle(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new S0;return r&&(Tt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Tt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Tt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new S0,this.toJSON())}_performRefresh(){return Vc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(n,e){Tt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class cd{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Y2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sle(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Pk(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await eb(this,this.stsTokenManager.getToken(this.auth,e));return Tt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rle(this,e)}reload(){return ole(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new cd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await UA(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fl(this.auth.app))return Promise.reject(pd(this.auth));const e=await this.getIdToken();return await eb(this,nle(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,p=(i=t.email)!==null&&i!==void 0?i:void 0,f=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=t.photoURL)!==null&&o!==void 0?o:void 0,y=(a=t.tenantId)!==null&&a!==void 0?a:void 0,_=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=t.createdAt)!==null&&c!==void 0?c:void 0,A=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:N,isAnonymous:F,providerData:V,stsTokenManager:L}=t;Tt(E&&L,e,"internal-error");const C=S0.fromJSON(this.name,L);Tt(typeof E=="string",e,"internal-error"),oh(h,e.name),oh(p,e.name),Tt(typeof N=="boolean",e,"internal-error"),Tt(typeof F=="boolean",e,"internal-error"),oh(f,e.name),oh(w,e.name),oh(y,e.name),oh(_,e.name),oh(b,e.name),oh(A,e.name);const k=new cd({uid:E,auth:e,email:p,emailVerified:N,displayName:h,isAnonymous:F,photoURL:w,phoneNumber:f,tenantId:y,stsTokenManager:C,createdAt:b,lastLoginAt:A});return V&&Array.isArray(V)&&(k.providerData=V.map(j=>Object.assign({},j))),_&&(k._redirectEventId=_),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new S0;i.updateFromServerResponse(t);const s=new cd({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await UA(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Tt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?GV(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new S0;a.updateFromIdToken(r);const l=new cd({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Pk(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=new Map;function ud(n){Cd(n instanceof Function,"Expected a class definition");let e=EM.get(n);return e?(Cd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,EM.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}KV.type="NONE";const SM=KV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(n,e,t){return`firebase:${n}:${e}:${t}`}class N0{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=l5(this.userKey,i.apiKey,s),this.fullPersistenceKey=l5("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cd._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new N0(ud(SM),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ud(SM);const o=l5(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){const h=cd._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new N0(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new N0(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ez(e))return"Blackberry";if(tz(e))return"Webos";if(XV(e))return"Safari";if((e.includes("chrome/")||QV(e))&&!e.includes("edge/"))return"Chrome";if(ZV(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YV(n=js()){return/firefox\//i.test(n)}function XV(n=js()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QV(n=js()){return/crios\//i.test(n)}function JV(n=js()){return/iemobile/i.test(n)}function ZV(n=js()){return/android/i.test(n)}function ez(n=js()){return/blackberry/i.test(n)}function tz(n=js()){return/webos/i.test(n)}function PR(n=js()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ule(n=js()){var e;return PR(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dle(){return Eoe()&&document.documentMode===10}function nz(n=js()){return PR(n)||ZV(n)||tz(n)||ez(n)||/windows phone/i.test(n)||JV(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(n,e=[]){let t;switch(n){case"Browser":t=NM(js());break;case"Worker":t=`${NM(js())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${T1}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hle{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fle(n,e={}){return sl(n,"GET","/v2/passwordPolicy",il(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ple=6;class mle{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:ple,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gle{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CM(this),this.idTokenSubscription=new CM(this),this.beforeStateQueue=new hle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ud(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await N0.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await WV(this,{idToken:e}),r=await cd._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Fl(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await UA(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Yae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fl(this.app))return Promise.reject(pd(this));const t=e?Xn(e):null;return t&&Tt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fl(this.app)?Promise.reject(pd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fl(this.app)?Promise.reject(pd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ud(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fle(this),t=new mle(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mg("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await cle(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ud(e)||this._popupRedirectResolver;Tt(t,this,"argument-error"),this.redirectPersistenceManager=await N0.create(this,[ud(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&qae(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function iu(n){return Xn(n)}class CM{constructor(e){this.auth=e,this.observer=null,this.addObserver=Poe(t=>this.observer=t)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vle(n){vS=n}function iz(n){return vS.loadJS(n)}function yle(){return vS.recaptchaEnterpriseScript}function wle(){return vS.gapiScript}function ble(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const xle="recaptcha-enterprise",_le="NO_RECAPTCHA";class Ale{constructor(e){this.type=xle,this.auth=iu(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{tle(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new ele(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;_M(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(_le)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&_M(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=yle();l.length!==0&&(l+=a),iz(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function TM(n,e,t,r=!1){const i=new Ale(n);let s;try{s=await i.verify(t)}catch{s=await i.verify(t,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function VA(n,e,t,r){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await TM(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await TM(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ele(n,e){const t=Vf(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Jw(s,e??{}))return i;Ro(i,"already-initialized")}return t.initialize({options:e})}function Sle(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ud);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Nle(n,e,t){const r=iu(n);Tt(r._canInitEmulator,r,"emulator-config-failed"),Tt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=sz(e),{host:o,port:a}=Cle(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Tle()}function sz(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Cle(n){const e=sz(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:kM(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:kM(o)}}}function kM(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Tle(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vc("not implemented")}_getIdTokenResponse(e){return Vc("not implemented")}_linkToIdToken(e,t){return Vc("not implemented")}_getReauthenticationResolver(e){return Vc("not implemented")}}async function kle(n,e){return sl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ile(n,e){return ex(n,"POST","/v1/accounts:signInWithPassword",il(n,e))}async function oz(n,e){return sl(n,"POST","/v1/accounts:sendOobCode",il(n,e))}async function Ple(n,e){return oz(n,e)}async function Rle(n,e){return oz(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lle(n,e){return ex(n,"POST","/v1/accounts:signInWithEmailLink",il(n,e))}async function Dle(n,e){return ex(n,"POST","/v1/accounts:signInWithEmailLink",il(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb extends RR{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new tb(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new tb(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VA(e,t,"signInWithPassword",Ile);case"emailLink":return Lle(e,{email:this._email,oobCode:this._password});default:Ro(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VA(e,r,"signUpPassword",kle);case"emailLink":return Dle(e,{idToken:t,email:this._email,oobCode:this._password});default:Ro(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C0(n,e){return ex(n,"POST","/v1/accounts:signInWithIdp",il(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mle="http://localhost";class Gm extends RR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ro("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Y2(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Gm(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return C0(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,C0(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,C0(e,t)}buildRequest(){const e={requestUri:Mle,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=J2(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jle(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ole(n){const e=Iy(Py(n)).link,t=e?Iy(Py(e)).deep_link_id:null,r=Iy(Py(n)).deep_link_id;return(r?Iy(Py(r)).link:null)||r||t||e||n}class LR{constructor(e){var t,r,i,s,o,a;const l=Iy(Py(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=jle((i=l.mode)!==null&&i!==void 0?i:null);Tt(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=Ole(e);try{return new LR(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.providerId=k1.PROVIDER_ID}static credential(e,t){return tb._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=LR.parseLink(t);return Tt(r,"argument-error"),tb._fromEmailAndCode(e,r.code,r.tenantId)}}k1.PROVIDER_ID="password";k1.EMAIL_PASSWORD_SIGN_IN_METHOD="password";k1.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx extends DR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends tx{constructor(){super("facebook.com")}static credential(e){return Gm._fromParams({providerId:vh.PROVIDER_ID,signInMethod:vh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vh.credentialFromTaggedObject(e)}static credentialFromError(e){return vh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vh.credential(e.oauthAccessToken)}catch{return null}}}vh.FACEBOOK_SIGN_IN_METHOD="facebook.com";vh.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends tx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gm._fromParams({providerId:sd.PROVIDER_ID,signInMethod:sd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sd.credentialFromTaggedObject(e)}static credentialFromError(e){return sd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return sd.credential(t,r)}catch{return null}}}sd.GOOGLE_SIGN_IN_METHOD="google.com";sd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends tx{constructor(){super("github.com")}static credential(e){return Gm._fromParams({providerId:yh.PROVIDER_ID,signInMethod:yh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yh.credentialFromTaggedObject(e)}static credentialFromError(e){return yh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yh.credential(e.oauthAccessToken)}catch{return null}}}yh.GITHUB_SIGN_IN_METHOD="github.com";yh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends tx{constructor(){super("twitter.com")}static credential(e,t){return Gm._fromParams({providerId:wh.PROVIDER_ID,signInMethod:wh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wh.credentialFromTaggedObject(e)}static credentialFromError(e){return wh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return wh.credential(t,r)}catch{return null}}}wh.TWITTER_SIGN_IN_METHOD="twitter.com";wh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fle(n,e){return ex(n,"POST","/v1/accounts:signUp",il(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await cd._fromIdTokenResponse(e,r,i),o=IM(r);return new Td({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=IM(r);return new Td({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function IM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA extends rl{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zA.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new zA(e,t,r,i)}}function az(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zA._fromErrorAndOperation(n,s,e,r):s})}async function Ble(n,e,t=!1){const r=await eb(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Td._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ule(n,e,t=!1){const{auth:r}=n;if(Fl(r.app))return Promise.reject(pd(r));const i="reauthenticate";try{const s=await eb(n,az(r,i,e,n),t);Tt(s.idToken,r,"internal-error");const o=IR(s.idToken);Tt(o,r,"internal-error");const{sub:a}=o;return Tt(n.uid===a,r,"user-mismatch"),Td._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ro(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lz(n,e,t=!1){if(Fl(n.app))return Promise.reject(pd(n));const r="signIn",i=await az(n,r,e),s=await Td._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Vle(n,e){return lz(iu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?jR._fromServerResponse(e,t):"totpInfo"in t?OR._fromServerResponse(e,t):Ro(e,"internal-error")}}class jR extends MR{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new jR(t)}}class OR extends MR{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new OR(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cz(n){const e=iu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zle(n,e,t){const r=iu(n);await VA(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Rle)}async function $le(n,e,t){if(Fl(n.app))return Promise.reject(pd(n));const r=iu(n),o=await VA(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fle).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&cz(n),l}),a=await Td._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Hle(n,e,t){return Fl(n.app)?Promise.reject(pd(n)):Vle(Xn(n),k1.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cz(n),r})}async function PM(n,e){const t=Xn(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:s}=await Ple(t.auth,i);s!==n.email&&await n.reload()}function qle(n,e,t,r){return Xn(n).onIdTokenChanged(e,t,r)}function Wle(n,e,t){return Xn(n).beforeAuthStateChanged(e,t)}function Gle(n,e,t,r){return Xn(n).onAuthStateChanged(e,t,r)}function Kle(n){return Xn(n).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new f0("enroll",e,t)}static _fromMfaPendingCredential(e){return new f0("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return f0._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return f0._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=iu(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>MR._fromServerResponse(r,a));Tt(i.mfaPendingCredential,r,"internal-error");const o=f0._fromMfaPendingCredential(i.mfaPendingCredential);return new FR(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(t.operationType){case"signIn":const u=await Td._fromIdTokenResponse(r,t.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return Tt(t.user,r,"internal-error"),Td._forOperation(t.user,t.operationType,c);default:Ro(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function RM(n,e){var t;const r=Xn(n),i=e;return Tt(e.customData.operationType,r,"argument-error"),Tt((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),FR._fromError(r,i)}function Yle(n,e){return sl(n,"POST","/v2/accounts/mfaEnrollment:start",il(n,e))}function Xle(n,e){return sl(n,"POST","/v2/accounts/mfaEnrollment:finalize",il(n,e))}const $A="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($A,"1"),this.storage.removeItem($A),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qle=1e3,Jle=10;class dz extends uz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);dle()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Jle):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Qle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dz.type="LOCAL";const Zle=dz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz extends uz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hz.type="SESSION";const fz=hz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ece(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new yS(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(t.origin,s)),l=await ece(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yS.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tce{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=BR("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(){return window}function nce(n){Kc().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(){return typeof Kc().WorkerGlobalScope<"u"&&typeof Kc().importScripts=="function"}async function rce(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ice(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function sce(){return pz()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz="firebaseLocalStorageDb",oce=1,HA="firebaseLocalStorage",gz="fbase_key";class nx{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wS(n,e){return n.transaction([HA],e?"readwrite":"readonly").objectStore(HA)}function ace(){const n=indexedDB.deleteDatabase(mz);return new nx(n).toPromise()}function Rk(){const n=indexedDB.open(mz,oce);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(HA,{keyPath:gz})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(HA)?e(r):(r.close(),await ace(),e(await Rk()))})})}async function LM(n,e,t){const r=wS(n,!0).put({[gz]:e,value:t});return new nx(r).toPromise()}async function lce(n,e){const t=wS(n,!1).get(e),r=await new nx(t).toPromise();return r===void 0?null:r.value}function DM(n,e){const t=wS(n,!0).delete(e);return new nx(t).toPromise()}const cce=800,uce=3;class vz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rk(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>uce)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yS._getInstance(sce()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await rce(),!this.activeServiceWorker)return;this.sender=new tce(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ice()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rk();return await LM(e,$A,"1"),await DM(e,$A),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>LM(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>lce(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>DM(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wS(i,!1).getAll();return new nx(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vz.type="LOCAL";const dce=vz;function hce(n,e){return sl(n,"POST","/v2/accounts/mfaSignIn:finalize",il(n,e))}new Z2(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(n,e){return e?ud(e):(Tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR extends RR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return C0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return C0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return C0(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fce(n){return lz(n.auth,new UR(n),n.bypassAuthState)}function pce(n){const{auth:e,user:t}=n;return Tt(t,e,"internal-error"),Ule(t,new UR(n),n.bypassAuthState)}async function mce(n){const{auth:e,user:t}=n;return Tt(t,e,"internal-error"),Ble(t,new UR(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fce;case"linkViaPopup":case"linkViaRedirect":return mce;case"reauthViaPopup":case"reauthViaRedirect":return pce;default:Ro(this.auth,"internal-error")}}resolve(e){Cd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gce=new Z2(2e3,1e4);async function vce(n,e,t){if(Fl(n.app))return Promise.reject(zl(n,"operation-not-supported-in-this-environment"));const r=iu(n);Wae(n,e,DR);const i=yz(r,t);return new Ep(r,"signInViaPopup",e,i).executeNotNull()}class Ep extends wz{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ep.currentPopupAction&&Ep.currentPopupAction.cancel(),Ep.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tt(e,this.auth,"internal-error"),e}async onExecution(){Cd(this.filter.length===1,"Popup operations only handle one event");const e=BR();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ep.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gce.get())};e()}}Ep.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yce="pendingRedirect",c5=new Map;class wce extends wz{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=c5.get(this.auth._key());if(!e){try{const r=await bce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}c5.set(this.auth._key(),e)}return this.bypassAuthState||c5.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bce(n,e){const t=Ace(e),r=_ce(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function xce(n,e){c5.set(n._key(),e)}function _ce(n){return ud(n._redirectPersistence)}function Ace(n){return l5(yce,n.config.apiKey,n.name)}async function Ece(n,e,t=!1){if(Fl(n.app))return Promise.reject(pd(n));const r=iu(n),i=yz(r,e),o=await new wce(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sce=10*60*1e3;class Nce{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Cce(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!bz(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(zl(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sce&&this.cachedEventUids.clear(),this.cachedEventUids.has(MM(e))}saveEventToCache(e){this.cachedEventUids.add(MM(e)),this.lastProcessedEventTime=Date.now()}}function MM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bz({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Cce(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bz(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tce(n,e={}){return sl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ice=/^https?/;async function Pce(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Tce(n);for(const t of e)try{if(Rce(t))return}catch{}Ro(n,"unauthorized-domain")}function Rce(n){const e=Ik(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!Ice.test(t))return!1;if(kce.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lce=new Z2(3e4,6e4);function jM(){const n=Kc().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Dce(n){return new Promise((e,t)=>{var r,i,s;function o(){jM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jM(),t(zl(n,"network-request-failed"))},timeout:Lce.get()})}if(!((i=(r=Kc().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Kc().gapi)===null||s===void 0)&&s.load)o();else{const a=ble("iframefcb");return Kc()[a]=()=>{gapi.load?o():t(zl(n,"network-request-failed"))},iz(`${wle()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw u5=null,e})}let u5=null;function Mce(n){return u5=u5||Dce(n),u5}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jce=new Z2(5e3,15e3),Oce="__/auth/iframe",Fce="emulator/auth/iframe",Bce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vce(n){const e=n.config;Tt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?kR(e,Fce):`https://${n.config.authDomain}/${Oce}`,r={apiKey:e.apiKey,appName:n.name,v:T1},i=Uce.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${J2(r).slice(1)}`}async function zce(n){const e=await Mce(n),t=Kc().gapi;return Tt(t,n,"internal-error"),e.open({where:document.body,url:Vce(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bce,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=zl(n,"network-request-failed"),a=Kc().setTimeout(()=>{s(o)},jce.get());function l(){Kc().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hce=500,qce=600,Wce="_blank",Gce="http://localhost";class OM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kce(n,e,t,r=Hce,i=qce){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$ce),{width:r.toString(),height:i.toString(),top:s,left:o}),c=js().toLowerCase();t&&(a=QV(c)?Wce:t),YV(c)&&(e=e||Gce,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[f,w])=>`${p}${f}=${w},`,"");if(ule(c)&&a!=="_self")return Yce(e||"",a),new OM(null);const h=window.open(e||"",a,u);Tt(h,n,"popup-blocked");try{h.focus()}catch{}return new OM(h)}function Yce(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xce="__/auth/handler",Qce="emulator/auth/handler",Jce=encodeURIComponent("fac");async function FM(n,e,t,r,i,s){Tt(n.config.authDomain,n,"auth-domain-config-required"),Tt(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:T1,eventId:i};if(e instanceof DR){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Ioe(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof tx){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${Jce}=${encodeURIComponent(l)}`:"";return`${Zce(n)}?${J2(a).slice(1)}${c}`}function Zce({config:n}){return n.emulator?kR(n,Qce):`https://${n.authDomain}/${Xce}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="webStorageSupport";class eue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fz,this._completeRedirectFn=Ece,this._overrideRedirectResult=xce}async _openPopup(e,t,r,i){var s;Cd((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await FM(e,t,r,Ik(),i);return Kce(e,o,BR())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await FM(e,t,r,Ik(),i);return nce(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Cd(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await zce(e),r=new Nce(e);return t.register("authEvent",i=>(Tt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gC,{type:gC},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[gC];o!==void 0&&t(!!o),Ro(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Pce(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nz()||XV()||PR()}}const tue=eue;class nue{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Vc("unexpected MultiFactorSessionType")}}}class xz{static assertionForEnrollment(e,t){return nb._fromSecret(e,t)}static assertionForSignIn(e,t){return nb._fromEnrollmentId(e,t)}static async generateSecret(e){var t;const r=e;Tt(typeof((t=r.user)===null||t===void 0?void 0:t.auth)<"u","internal-error");const i=await Yle(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});return VR._fromStartTotpMfaEnrollmentResponse(i,r.user.auth)}}xz.FACTOR_ID="totp";class nb extends nue{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new nb(t,void 0,e)}static _fromEnrollmentId(e,t){return new nb(t,e)}async _finalizeEnroll(e,t,r){return Tt(typeof this.secret<"u",e,"argument-error"),Xle(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){Tt(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const r={verificationCode:this.otp};return hce(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}}class VR{constructor(e,t,r,i,s,o,a){this.sessionInfo=o,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=s}static _fromStartTotpMfaEnrollmentResponse(e,t){return new VR(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var r;let i=!1;return(v_(e)||v_(t))&&(i=!0),i&&(v_(e)&&(e=((r=this.auth.currentUser)===null||r===void 0?void 0:r.email)||"unknownuser"),v_(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function v_(n){return typeof n>"u"||(n==null?void 0:n.length)===0}var BM="@firebase/auth",UM="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iue(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sue(n){Wl(new el("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Tt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rz(n)},c=new gle(r,i,s,l);return Sle(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Wl(new el("auth-internal",e=>{const t=iu(e.getProvider("auth").getImmediate());return(r=>new rue(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Io(BM,UM,iue(n)),Io(BM,UM,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oue=5*60,aue=PV("authIdTokenMaxAge")||oue;let VM=null;const lue=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>aue)return;const i=t==null?void 0:t.token;VM!==i&&(VM=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function cue(n=gS()){const e=Vf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Ele(n,{popupRedirectResolver:tue,persistence:[dce,Zle,fz]}),r=PV("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=lue(s.toString());Wle(t,o,()=>o(t.currentUser)),qle(t,a=>o(a))}}const i=TV("auth");return i&&Nle(t,`http://${i}`),t}function uue(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vle({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=zl("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",uue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sue("Browser");var due="firebase",hue="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io(due,hue,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fue="type.googleapis.com/google.protobuf.Int64Value",pue="type.googleapis.com/google.protobuf.UInt64Value";function _z(n,e){const t={};for(const r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}function Lk(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Lk(e));if(typeof n=="function"||typeof n=="object")return _z(n,e=>Lk(e));throw new Error("Data cannot be encoded in JSON: "+n)}function qA(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case fue:case pue:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>qA(e)):typeof n=="function"||typeof n=="object"?_z(n,e=>qA(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T0 extends rl{constructor(e,t,r){super(`${zR}/${e}`,t||""),this.details=r}}function mue(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function gue(n,e){let t=mue(n),r=t,i;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!zM[o])return new T0("internal","internal");t=zM[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=qA(i))}}catch{}return t==="ok"?null:new T0(t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vue{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="us-central1";function yue(n){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new T0("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class wue{constructor(e,t,r,i,s=Dk,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new vue(t,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Dk}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function bue(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}function xue(n,e,t){return r=>Aue(n,e,r,{})}async function _ue(n,e,t,r){t["Content-Type"]="application/json";let i;try{i=await r(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function Aue(n,e,t,r){const i=n._url(e);return Eue(n,i,t,r)}async function Eue(n,e,t,r){t=Lk(t);const i={data:t},s={},o=await n.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,l=yue(a),c=await Promise.race([_ue(e,i,s,n.fetchImpl),l.promise,n.cancelAllRequests]);if(l.cancel(),!c)throw new T0("cancelled","Firebase Functions instance was deleted.");const u=gue(c.status,c.json);if(u)throw u;if(!c.json)throw new T0("internal","Response is not valid JSON object.");let h=c.json.data;if(typeof h>"u"&&(h=c.json.result),typeof h>"u")throw new T0("internal","Response is missing data field.");return{data:qA(h)}}const $M="@firebase/functions",HM="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sue="auth-internal",Nue="app-check-internal",Cue="messaging-internal";function Tue(n,e){const t=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(Sue),a=r.getProvider(Cue),l=r.getProvider(Nue);return new wue(s,o,a,l,i,n)};Wl(new el(zR,t,"PUBLIC").setMultipleInstances(!0)),Io($M,HM,e),Io($M,HM,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kue(n=gS(),e=Dk){const r=Vf(Xn(n),zR).getImmediate({identifier:e}),i=kV("functions");return i&&Az(r,...i),r}function Az(n,e,t){bue(Xn(n),e,t)}function rb(n,e,t){return xue(Xn(n),e)}Tue(fetch.bind(self));const Ez="@firebase/installations",$R="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=1e4,Nz=`w:${$R}`,Cz="FIS_v2",Iue="https://firebaseinstallations.googleapis.com/v1",Pue=60*60*1e3,Rue="installations",Lue="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Due={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Km=new mg(Rue,Lue,Due);function Tz(n){return n instanceof rl&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz({projectId:n}){return`${Iue}/projects/${n}/installations`}function Iz(n){return{token:n.token,requestStatus:2,expiresIn:jue(n.expiresIn),creationTime:Date.now()}}async function Pz(n,e){const r=(await e.json()).error;return Km.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Rz({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Mue(n,{refreshToken:e}){const t=Rz(n);return t.append("Authorization",Oue(e)),t}async function Lz(n){const e=await n();return e.status>=500&&e.status<600?n():e}function jue(n){return Number(n.replace("s","000"))}function Oue(n){return`${Cz} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fue({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=kz(n),i=Rz(n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:t,authVersion:Cz,appId:n.appId,sdkVersion:Nz},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Lz(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:Iz(c.authToken)}}else throw await Pz("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bue(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uue=/^[cdef][\w-]{21}$/,Mk="";function Vue(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=zue(n);return Uue.test(t)?t:Mk}catch{return Mk}}function zue(n){return Bue(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=new Map;function jz(n,e){const t=bS(n);Oz(t,e),$ue(t,e)}function Oz(n,e){const t=Mz.get(n);if(t)for(const r of t)r(e)}function $ue(n,e){const t=Hue();t&&t.postMessage({key:n,fid:e}),que()}let Sp=null;function Hue(){return!Sp&&"BroadcastChannel"in self&&(Sp=new BroadcastChannel("[Firebase] FID Change"),Sp.onmessage=n=>{Oz(n.data.key,n.data.fid)}),Sp}function que(){Mz.size===0&&Sp&&(Sp.close(),Sp=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wue="firebase-installations-database",Gue=1,Ym="firebase-installations-store";let vC=null;function HR(){return vC||(vC=OV(Wue,Gue,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ym)}}})),vC}async function WA(n,e){const t=bS(n),i=(await HR()).transaction(Ym,"readwrite"),s=i.objectStore(Ym),o=await s.get(t);return await s.put(e,t),await i.done,(!o||o.fid!==e.fid)&&jz(n,e.fid),e}async function Fz(n){const e=bS(n),r=(await HR()).transaction(Ym,"readwrite");await r.objectStore(Ym).delete(e),await r.done}async function xS(n,e){const t=bS(n),i=(await HR()).transaction(Ym,"readwrite"),s=i.objectStore(Ym),o=await s.get(t),a=e(o);return a===void 0?await s.delete(t):await s.put(a,t),await i.done,a&&(!o||o.fid!==a.fid)&&jz(n,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(n){let e;const t=await xS(n.appConfig,r=>{const i=Kue(r),s=Yue(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===Mk?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Kue(n){const e=n||{fid:Vue(),registrationStatus:0};return Bz(e)}function Yue(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Km.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Xue(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Que(n)}:{installationEntry:e}}async function Xue(n,e){try{const t=await Fue(n,e);return WA(n.appConfig,t)}catch(t){throw Tz(t)&&t.customData.serverCode===409?await Fz(n.appConfig):await WA(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Que(n){let e=await qM(n.appConfig);for(;e.registrationStatus===1;)await Dz(100),e=await qM(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await qR(n);return r||t}return e}function qM(n){return xS(n,e=>{if(!e)throw Km.create("installation-not-found");return Bz(e)})}function Bz(n){return Jue(n)?{fid:n.fid,registrationStatus:0}:n}function Jue(n){return n.registrationStatus===1&&n.registrationTime+Sz<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zue({appConfig:n,heartbeatServiceProvider:e},t){const r=ede(n,t),i=Mue(n,t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:Nz,appId:n.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Lz(()=>fetch(r,a));if(l.ok){const c=await l.json();return Iz(c)}else throw await Pz("Generate Auth Token",l)}function ede(n,{fid:e}){return`${kz(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(n,e=!1){let t;const r=await xS(n.appConfig,s=>{if(!Uz(s))throw Km.create("not-registered");const o=s.authToken;if(!e&&rde(o))return s;if(o.requestStatus===1)return t=tde(n,e),s;{if(!navigator.onLine)throw Km.create("app-offline");const a=sde(s);return t=nde(n,a),a}});return t?await t:r.authToken}async function tde(n,e){let t=await WM(n.appConfig);for(;t.authToken.requestStatus===1;)await Dz(100),t=await WM(n.appConfig);const r=t.authToken;return r.requestStatus===0?WR(n,e):r}function WM(n){return xS(n,e=>{if(!Uz(e))throw Km.create("not-registered");const t=e.authToken;return ode(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function nde(n,e){try{const t=await Zue(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await WA(n.appConfig,r),t}catch(t){if(Tz(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Fz(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await WA(n.appConfig,r)}throw t}}function Uz(n){return n!==void 0&&n.registrationStatus===2}function rde(n){return n.requestStatus===2&&!ide(n)}function ide(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Pue}function sde(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function ode(n){return n.requestStatus===1&&n.requestTime+Sz<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ade(n){const e=n,{installationEntry:t,registrationPromise:r}=await qR(e);return r?r.catch(console.error):WR(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lde(n,e=!1){const t=n;return await cde(t),(await WR(t,e)).token}async function cde(n){const{registrationPromise:e}=await qR(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ude(n){if(!n||!n.options)throw yC("App Configuration");if(!n.name)throw yC("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw yC(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function yC(n){return Km.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz="installations",dde="installations-internal",hde=n=>{const e=n.getProvider("app").getImmediate(),t=ude(e),r=Vf(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},fde=n=>{const e=n.getProvider("app").getImmediate(),t=Vf(e,Vz).getImmediate();return{getId:()=>ade(t),getToken:i=>lde(t,i)}};function pde(){Wl(new el(Vz,hde,"PUBLIC")),Wl(new el(dde,fde,"PRIVATE"))}pde();Io(Ez,$R);Io(Ez,$R,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="analytics",mde="firebase_id",gde="origin",vde=60*1e3,yde="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GR="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new mS("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wde={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ga=new mg("analytics","Analytics",wde);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bde(n){if(!n.startsWith(GR)){const e=ga.create("invalid-gtag-resource",{gtagURL:n});return Po.warn(e.message),""}return n}function zz(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function xde(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function _de(n,e){const t=xde("firebase-js-sdk-policy",{createScriptURL:bde}),r=document.createElement("script"),i=`${GR}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Ade(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Ede(n,e,t,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await zz(t)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){Po.error(a)}n("config",i,s)}async function Sde(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await zz(t);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){Po.error(s)}}function Nde(n,e,t,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await Sde(n,e,t,a,l)}else if(s==="config"){const[a,l]=o;await Ede(n,e,t,r,a,l)}else if(s==="consent"){const[a,l]=o;n("consent",a,l)}else if(s==="get"){const[a,l,c]=o;n("get",a,l,c)}else if(s==="set"){const[a]=o;n("set",a)}else n(s,...o)}catch(a){Po.error(a)}}return i}function Cde(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Nde(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function Tde(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(GR)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kde=30,Ide=1e3;class Pde{constructor(e={},t=Ide){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $z=new Pde;function Rde(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Lde(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Rde(r)},s=yde.replace("{app-id}",t),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw ga.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Dde(n,e=$z,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw ga.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ga.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Ode;return setTimeout(async()=>{a.abort()},vde),Hz({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Hz(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=$z){var s;const{appId:o,measurementId:a}=n;try{await Mde(r,e)}catch(l){if(a)return Po.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Lde(n);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!jde(c)){if(i.deleteThrottleMetadata(o),a)return Po.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?hM(t,i.intervalMillis,kde):hM(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,h),Po.debug(`Calling attemptFetch again in ${u} millis`),Hz(n,h,r,i)}}function Mde(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(ga.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function jde(n){if(!(n instanceof rl)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class Ode{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Fde(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});n("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bde(){if(LV())try{await DV()}catch(n){return Po.warn(ga.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Po.warn(ga.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ude(n,e,t,r,i,s,o){var a;const l=Dde(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Po.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Po.error(f)),e.push(l);const c=Bde().then(f=>{if(f)return r.getId()}),[u,h]=await Promise.all([l,c]);Tde(s)||_de(s,u.measurementId),i("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[gde]="firebase",p.update=!0,h!=null&&(p[mde]=h),i("config",u.measurementId,p),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vde{constructor(e){this.app=e}_delete(){return delete dw[this.app.options.appId],Promise.resolve()}}let dw={},GM=[];const KM={};let wC="dataLayer",zde="gtag",YM,qz,XM=!1;function $de(){const n=[];if(RV()&&n.push("This is a browser extension environment."),Noe()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=ga.create("invalid-analytics-context",{errorInfo:e});Po.warn(t.message)}}function Hde(n,e,t){$de();const r=n.options.appId;if(!r)throw ga.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Po.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ga.create("no-api-key");if(dw[r]!=null)throw ga.create("already-exists",{id:r});if(!XM){Ade(wC);const{wrappedGtag:s,gtagCore:o}=Cde(dw,GM,KM,wC,zde);qz=s,YM=o,XM=!0}return dw[r]=Ude(n,GM,KM,e,YM,wC,t),new Vde(n)}function qde(n=gS()){n=Xn(n);const e=Vf(n,GA);return e.isInitialized()?e.getImmediate():Wde(n)}function Wde(n,e={}){const t=Vf(n,GA);if(t.isInitialized()){const i=t.getImmediate();if(Jw(e,t.getOptions()))return i;throw ga.create("already-initialized")}return t.initialize({options:e})}function Gde(n,e,t,r){n=Xn(n),Fde(qz,dw[n.app.options.appId],e,t,r).catch(i=>Po.error(i))}const QM="@firebase/analytics",JM="0.10.8";function Kde(){Wl(new el(GA,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Hde(r,i,t)},"PUBLIC")),Wl(new el("analytics-internal",n,"PRIVATE")),Io(QM,JM),Io(QM,JM,"esm2017");function n(e){try{const t=e.getProvider(GA).getImmediate();return{logEvent:(r,i,s)=>Gde(t,r,i,s)}}catch(t){throw ga.create("interop-component-reg-failed",{reason:t})}}}Kde();var ZM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mm,Wz;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,C){function k(){}k.prototype=C.prototype,L.D=C.prototype,L.prototype=new k,L.prototype.constructor=L,L.C=function(j,T,M){for(var R=Array(arguments.length-2),q=2;q<arguments.length;q++)R[q-2]=arguments[q];return C.prototype[T].apply(j,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,C,k){k||(k=0);var j=Array(16);if(typeof C=="string")for(var T=0;16>T;++T)j[T]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(T=0;16>T;++T)j[T]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=L.g[0],k=L.g[1],T=L.g[2];var M=L.g[3],R=C+(M^k&(T^M))+j[0]+3614090360&4294967295;C=k+(R<<7&4294967295|R>>>25),R=M+(T^C&(k^T))+j[1]+3905402710&4294967295,M=C+(R<<12&4294967295|R>>>20),R=T+(k^M&(C^k))+j[2]+606105819&4294967295,T=M+(R<<17&4294967295|R>>>15),R=k+(C^T&(M^C))+j[3]+3250441966&4294967295,k=T+(R<<22&4294967295|R>>>10),R=C+(M^k&(T^M))+j[4]+4118548399&4294967295,C=k+(R<<7&4294967295|R>>>25),R=M+(T^C&(k^T))+j[5]+1200080426&4294967295,M=C+(R<<12&4294967295|R>>>20),R=T+(k^M&(C^k))+j[6]+2821735955&4294967295,T=M+(R<<17&4294967295|R>>>15),R=k+(C^T&(M^C))+j[7]+4249261313&4294967295,k=T+(R<<22&4294967295|R>>>10),R=C+(M^k&(T^M))+j[8]+1770035416&4294967295,C=k+(R<<7&4294967295|R>>>25),R=M+(T^C&(k^T))+j[9]+2336552879&4294967295,M=C+(R<<12&4294967295|R>>>20),R=T+(k^M&(C^k))+j[10]+4294925233&4294967295,T=M+(R<<17&4294967295|R>>>15),R=k+(C^T&(M^C))+j[11]+2304563134&4294967295,k=T+(R<<22&4294967295|R>>>10),R=C+(M^k&(T^M))+j[12]+1804603682&4294967295,C=k+(R<<7&4294967295|R>>>25),R=M+(T^C&(k^T))+j[13]+4254626195&4294967295,M=C+(R<<12&4294967295|R>>>20),R=T+(k^M&(C^k))+j[14]+2792965006&4294967295,T=M+(R<<17&4294967295|R>>>15),R=k+(C^T&(M^C))+j[15]+1236535329&4294967295,k=T+(R<<22&4294967295|R>>>10),R=C+(T^M&(k^T))+j[1]+4129170786&4294967295,C=k+(R<<5&4294967295|R>>>27),R=M+(k^T&(C^k))+j[6]+3225465664&4294967295,M=C+(R<<9&4294967295|R>>>23),R=T+(C^k&(M^C))+j[11]+643717713&4294967295,T=M+(R<<14&4294967295|R>>>18),R=k+(M^C&(T^M))+j[0]+3921069994&4294967295,k=T+(R<<20&4294967295|R>>>12),R=C+(T^M&(k^T))+j[5]+3593408605&4294967295,C=k+(R<<5&4294967295|R>>>27),R=M+(k^T&(C^k))+j[10]+38016083&4294967295,M=C+(R<<9&4294967295|R>>>23),R=T+(C^k&(M^C))+j[15]+3634488961&4294967295,T=M+(R<<14&4294967295|R>>>18),R=k+(M^C&(T^M))+j[4]+3889429448&4294967295,k=T+(R<<20&4294967295|R>>>12),R=C+(T^M&(k^T))+j[9]+568446438&4294967295,C=k+(R<<5&4294967295|R>>>27),R=M+(k^T&(C^k))+j[14]+3275163606&4294967295,M=C+(R<<9&4294967295|R>>>23),R=T+(C^k&(M^C))+j[3]+4107603335&4294967295,T=M+(R<<14&4294967295|R>>>18),R=k+(M^C&(T^M))+j[8]+1163531501&4294967295,k=T+(R<<20&4294967295|R>>>12),R=C+(T^M&(k^T))+j[13]+2850285829&4294967295,C=k+(R<<5&4294967295|R>>>27),R=M+(k^T&(C^k))+j[2]+4243563512&4294967295,M=C+(R<<9&4294967295|R>>>23),R=T+(C^k&(M^C))+j[7]+1735328473&4294967295,T=M+(R<<14&4294967295|R>>>18),R=k+(M^C&(T^M))+j[12]+2368359562&4294967295,k=T+(R<<20&4294967295|R>>>12),R=C+(k^T^M)+j[5]+4294588738&4294967295,C=k+(R<<4&4294967295|R>>>28),R=M+(C^k^T)+j[8]+2272392833&4294967295,M=C+(R<<11&4294967295|R>>>21),R=T+(M^C^k)+j[11]+1839030562&4294967295,T=M+(R<<16&4294967295|R>>>16),R=k+(T^M^C)+j[14]+4259657740&4294967295,k=T+(R<<23&4294967295|R>>>9),R=C+(k^T^M)+j[1]+2763975236&4294967295,C=k+(R<<4&4294967295|R>>>28),R=M+(C^k^T)+j[4]+1272893353&4294967295,M=C+(R<<11&4294967295|R>>>21),R=T+(M^C^k)+j[7]+4139469664&4294967295,T=M+(R<<16&4294967295|R>>>16),R=k+(T^M^C)+j[10]+3200236656&4294967295,k=T+(R<<23&4294967295|R>>>9),R=C+(k^T^M)+j[13]+681279174&4294967295,C=k+(R<<4&4294967295|R>>>28),R=M+(C^k^T)+j[0]+3936430074&4294967295,M=C+(R<<11&4294967295|R>>>21),R=T+(M^C^k)+j[3]+3572445317&4294967295,T=M+(R<<16&4294967295|R>>>16),R=k+(T^M^C)+j[6]+76029189&4294967295,k=T+(R<<23&4294967295|R>>>9),R=C+(k^T^M)+j[9]+3654602809&4294967295,C=k+(R<<4&4294967295|R>>>28),R=M+(C^k^T)+j[12]+3873151461&4294967295,M=C+(R<<11&4294967295|R>>>21),R=T+(M^C^k)+j[15]+530742520&4294967295,T=M+(R<<16&4294967295|R>>>16),R=k+(T^M^C)+j[2]+3299628645&4294967295,k=T+(R<<23&4294967295|R>>>9),R=C+(T^(k|~M))+j[0]+4096336452&4294967295,C=k+(R<<6&4294967295|R>>>26),R=M+(k^(C|~T))+j[7]+1126891415&4294967295,M=C+(R<<10&4294967295|R>>>22),R=T+(C^(M|~k))+j[14]+2878612391&4294967295,T=M+(R<<15&4294967295|R>>>17),R=k+(M^(T|~C))+j[5]+4237533241&4294967295,k=T+(R<<21&4294967295|R>>>11),R=C+(T^(k|~M))+j[12]+1700485571&4294967295,C=k+(R<<6&4294967295|R>>>26),R=M+(k^(C|~T))+j[3]+2399980690&4294967295,M=C+(R<<10&4294967295|R>>>22),R=T+(C^(M|~k))+j[10]+4293915773&4294967295,T=M+(R<<15&4294967295|R>>>17),R=k+(M^(T|~C))+j[1]+2240044497&4294967295,k=T+(R<<21&4294967295|R>>>11),R=C+(T^(k|~M))+j[8]+1873313359&4294967295,C=k+(R<<6&4294967295|R>>>26),R=M+(k^(C|~T))+j[15]+4264355552&4294967295,M=C+(R<<10&4294967295|R>>>22),R=T+(C^(M|~k))+j[6]+2734768916&4294967295,T=M+(R<<15&4294967295|R>>>17),R=k+(M^(T|~C))+j[13]+1309151649&4294967295,k=T+(R<<21&4294967295|R>>>11),R=C+(T^(k|~M))+j[4]+4149444226&4294967295,C=k+(R<<6&4294967295|R>>>26),R=M+(k^(C|~T))+j[11]+3174756917&4294967295,M=C+(R<<10&4294967295|R>>>22),R=T+(C^(M|~k))+j[2]+718787259&4294967295,T=M+(R<<15&4294967295|R>>>17),R=k+(M^(T|~C))+j[9]+3951481745&4294967295,L.g[0]=L.g[0]+C&4294967295,L.g[1]=L.g[1]+(T+(R<<21&4294967295|R>>>11))&4294967295,L.g[2]=L.g[2]+T&4294967295,L.g[3]=L.g[3]+M&4294967295}r.prototype.u=function(L,C){C===void 0&&(C=L.length);for(var k=C-this.blockSize,j=this.B,T=this.h,M=0;M<C;){if(T==0)for(;M<=k;)i(this,L,M),M+=this.blockSize;if(typeof L=="string"){for(;M<C;)if(j[T++]=L.charCodeAt(M++),T==this.blockSize){i(this,j),T=0;break}}else for(;M<C;)if(j[T++]=L[M++],T==this.blockSize){i(this,j),T=0;break}}this.h=T,this.o+=C},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var C=1;C<L.length-8;++C)L[C]=0;var k=8*this.o;for(C=L.length-8;C<L.length;++C)L[C]=k&255,k/=256;for(this.u(L),L=Array(16),C=k=0;4>C;++C)for(var j=0;32>j;j+=8)L[k++]=this.g[C]>>>j&255;return L};function s(L,C){var k=a;return Object.prototype.hasOwnProperty.call(k,L)?k[L]:k[L]=C(L)}function o(L,C){this.h=C;for(var k=[],j=!0,T=L.length-1;0<=T;T--){var M=L[T]|0;j&&M==C||(k[T]=M,j=!1)}this.g=k}var a={};function l(L){return-128<=L&&128>L?s(L,function(C){return new o([C|0],0>C?-1:0)}):new o([L|0],0>L?-1:0)}function c(L){if(isNaN(L)||!isFinite(L))return h;if(0>L)return _(c(-L));for(var C=[],k=1,j=0;L>=k;j++)C[j]=L/k|0,k*=4294967296;return new o(C,0)}function u(L,C){if(L.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(L.charAt(0)=="-")return _(u(L.substring(1),C));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(C,8)),j=h,T=0;T<L.length;T+=8){var M=Math.min(8,L.length-T),R=parseInt(L.substring(T,T+M),C);8>M?(M=c(Math.pow(C,M)),j=j.j(M).add(c(R))):(j=j.j(k),j=j.add(c(R)))}return j}var h=l(0),p=l(1),f=l(16777216);n=o.prototype,n.m=function(){if(y(this))return-_(this).m();for(var L=0,C=1,k=0;k<this.g.length;k++){var j=this.i(k);L+=(0<=j?j:4294967296+j)*C,C*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(w(this))return"0";if(y(this))return"-"+_(this).toString(L);for(var C=c(Math.pow(L,6)),k=this,j="";;){var T=N(k,C).g;k=b(k,T.j(C));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(L);if(k=T,w(k))return M+j;for(;6>M.length;)M="0"+M;j=M+j}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function w(L){if(L.h!=0)return!1;for(var C=0;C<L.g.length;C++)if(L.g[C]!=0)return!1;return!0}function y(L){return L.h==-1}n.l=function(L){return L=b(this,L),y(L)?-1:w(L)?0:1};function _(L){for(var C=L.g.length,k=[],j=0;j<C;j++)k[j]=~L.g[j];return new o(k,~L.h).add(p)}n.abs=function(){return y(this)?_(this):this},n.add=function(L){for(var C=Math.max(this.g.length,L.g.length),k=[],j=0,T=0;T<=C;T++){var M=j+(this.i(T)&65535)+(L.i(T)&65535),R=(M>>>16)+(this.i(T)>>>16)+(L.i(T)>>>16);j=R>>>16,M&=65535,R&=65535,k[T]=R<<16|M}return new o(k,k[k.length-1]&-2147483648?-1:0)};function b(L,C){return L.add(_(C))}n.j=function(L){if(w(this)||w(L))return h;if(y(this))return y(L)?_(this).j(_(L)):_(_(this).j(L));if(y(L))return _(this.j(_(L)));if(0>this.l(f)&&0>L.l(f))return c(this.m()*L.m());for(var C=this.g.length+L.g.length,k=[],j=0;j<2*C;j++)k[j]=0;for(j=0;j<this.g.length;j++)for(var T=0;T<L.g.length;T++){var M=this.i(j)>>>16,R=this.i(j)&65535,q=L.i(T)>>>16,ce=L.i(T)&65535;k[2*j+2*T]+=R*ce,A(k,2*j+2*T),k[2*j+2*T+1]+=M*ce,A(k,2*j+2*T+1),k[2*j+2*T+1]+=R*q,A(k,2*j+2*T+1),k[2*j+2*T+2]+=M*q,A(k,2*j+2*T+2)}for(j=0;j<C;j++)k[j]=k[2*j+1]<<16|k[2*j];for(j=C;j<2*C;j++)k[j]=0;return new o(k,0)};function A(L,C){for(;(L[C]&65535)!=L[C];)L[C+1]+=L[C]>>>16,L[C]&=65535,C++}function E(L,C){this.g=L,this.h=C}function N(L,C){if(w(C))throw Error("division by zero");if(w(L))return new E(h,h);if(y(L))return C=N(_(L),C),new E(_(C.g),_(C.h));if(y(C))return C=N(L,_(C)),new E(_(C.g),C.h);if(30<L.g.length){if(y(L)||y(C))throw Error("slowDivide_ only works with positive integers.");for(var k=p,j=C;0>=j.l(L);)k=F(k),j=F(j);var T=V(k,1),M=V(j,1);for(j=V(j,2),k=V(k,2);!w(j);){var R=M.add(j);0>=R.l(L)&&(T=T.add(k),M=R),j=V(j,1),k=V(k,1)}return C=b(L,T.j(C)),new E(T,C)}for(T=h;0<=L.l(C);){for(k=Math.max(1,Math.floor(L.m()/C.m())),j=Math.ceil(Math.log(k)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),M=c(k),R=M.j(C);y(R)||0<R.l(L);)k-=j,M=c(k),R=M.j(C);w(M)&&(M=p),T=T.add(M),L=b(L,R)}return new E(T,L)}n.A=function(L){return N(this,L).h},n.and=function(L){for(var C=Math.max(this.g.length,L.g.length),k=[],j=0;j<C;j++)k[j]=this.i(j)&L.i(j);return new o(k,this.h&L.h)},n.or=function(L){for(var C=Math.max(this.g.length,L.g.length),k=[],j=0;j<C;j++)k[j]=this.i(j)|L.i(j);return new o(k,this.h|L.h)},n.xor=function(L){for(var C=Math.max(this.g.length,L.g.length),k=[],j=0;j<C;j++)k[j]=this.i(j)^L.i(j);return new o(k,this.h^L.h)};function F(L){for(var C=L.g.length+1,k=[],j=0;j<C;j++)k[j]=L.i(j)<<1|L.i(j-1)>>>31;return new o(k,L.h)}function V(L,C){var k=C>>5;C%=32;for(var j=L.g.length-k,T=[],M=0;M<j;M++)T[M]=0<C?L.i(M+k)>>>C|L.i(M+k+1)<<32-C:L.i(M+k);return new o(T,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Wz=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Mm=o}).apply(typeof ZM<"u"?ZM:typeof self<"u"?self:typeof window<"u"?window:{});var y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gz,Ry,Kz,d5,jk,Yz,Xz,Qz;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,P,B){return v==Array.prototype||v==Object.prototype||(v[P]=B.value),v};function t(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof y_=="object"&&y_];for(var P=0;P<v.length;++P){var B=v[P];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=t(this);function i(v,P){if(P)e:{var B=r;v=v.split(".");for(var ee=0;ee<v.length-1;ee++){var be=v[ee];if(!(be in B))break e;B=B[be]}v=v[v.length-1],ee=B[v],P=P(ee),P!=ee&&P!=null&&e(B,v,{configurable:!0,writable:!0,value:P})}}function s(v,P){v instanceof String&&(v+="");var B=0,ee=!1,be={next:function(){if(!ee&&B<v.length){var Te=B++;return{value:P(Te,v[Te]),done:!1}}return ee=!0,{done:!0,value:void 0}}};return be[Symbol.iterator]=function(){return be},be}i("Array.prototype.values",function(v){return v||function(){return s(this,function(P,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(v){var P=typeof v;return P=P!="object"?P:v?Array.isArray(v)?"array":P:"null",P=="array"||P=="object"&&typeof v.length=="number"}function c(v){var P=typeof v;return P=="object"&&v!=null||P=="function"}function u(v,P,B){return v.call.apply(v.bind,arguments)}function h(v,P,B){if(!v)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(be,ee),v.apply(P,be)}}return function(){return v.apply(P,arguments)}}function p(v,P,B){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function f(v,P){var B=Array.prototype.slice.call(arguments,1);return function(){var ee=B.slice();return ee.push.apply(ee,arguments),v.apply(this,ee)}}function w(v,P){function B(){}B.prototype=P.prototype,v.aa=P.prototype,v.prototype=new B,v.prototype.constructor=v,v.Qb=function(ee,be,Te){for(var We=Array(arguments.length-2),mn=2;mn<arguments.length;mn++)We[mn-2]=arguments[mn];return P.prototype[be].apply(ee,We)}}function y(v){const P=v.length;if(0<P){const B=Array(P);for(let ee=0;ee<P;ee++)B[ee]=v[ee];return B}return[]}function _(v,P){for(let B=1;B<arguments.length;B++){const ee=arguments[B];if(l(ee)){const be=v.length||0,Te=ee.length||0;v.length=be+Te;for(let We=0;We<Te;We++)v[be+We]=ee[We]}else v.push(ee)}}class b{constructor(P,B){this.i=P,this.j=B,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function A(v){return/^[\s\xa0]*$/.test(v)}function E(){var v=a.navigator;return v&&(v=v.userAgent)?v:""}function N(v){return N[" "](v),v}N[" "]=function(){};var F=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function V(v,P,B){for(const ee in v)P.call(B,v[ee],ee,v)}function L(v,P){for(const B in v)P.call(void 0,v[B],B,v)}function C(v){const P={};for(const B in v)P[B]=v[B];return P}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(v,P){let B,ee;for(let be=1;be<arguments.length;be++){ee=arguments[be];for(B in ee)v[B]=ee[B];for(let Te=0;Te<k.length;Te++)B=k[Te],Object.prototype.hasOwnProperty.call(ee,B)&&(v[B]=ee[B])}}function T(v){var P=1;v=v.split(":");const B=[];for(;0<P&&v.length;)B.push(v.shift()),P--;return v.length&&B.push(v.join(":")),B}function M(v){a.setTimeout(()=>{throw v},0)}function R(){var v=ne;let P=null;return v.g&&(P=v.g,v.g=v.g.next,v.g||(v.h=null),P.next=null),P}class q{constructor(){this.h=this.g=null}add(P,B){const ee=ce.get();ee.set(P,B),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var ce=new b(()=>new de,v=>v.reset());class de{constructor(){this.next=this.g=this.h=null}set(P,B){this.h=P,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,Q=!1,ne=new q,ge=()=>{const v=a.Promise.resolve(void 0);ae=()=>{v.then(pe)}};var pe=()=>{for(var v;v=R();){try{v.h.call(v.g)}catch(B){M(B)}var P=ce;P.j(v),100>P.h&&(P.h++,v.next=P.g,P.g=v)}Q=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(v,P){this.type=v,this.g=this.target=P,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var v=!1,P=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const B=()=>{};a.addEventListener("test",B,P),a.removeEventListener("test",B,P)}catch{}return v}();function le(v,P){if(Y.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var B=this.type=v.type,ee=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=P,P=v.relatedTarget){if(F){e:{try{N(P.nodeName);var be=!0;break e}catch{}be=!1}be||(P=null)}}else B=="mouseover"?P=v.fromElement:B=="mouseout"&&(P=v.toElement);this.relatedTarget=P,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:he[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&le.aa.h.call(this)}}w(le,Y);var he={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function we(v,P,B,ee,be){this.listener=v,this.proxy=null,this.src=P,this.type=B,this.capture=!!ee,this.ha=be,this.key=++Ae,this.da=this.fa=!1}function _e(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Me(v){this.src=v,this.g={},this.h=0}Me.prototype.add=function(v,P,B,ee,be){var Te=v.toString();v=this.g[Te],v||(v=this.g[Te]=[],this.h++);var We=Ce(v,P,ee,be);return-1<We?(P=v[We],B||(P.fa=!1)):(P=new we(P,this.src,Te,!!ee,be),P.fa=B,v.push(P)),P};function Ee(v,P){var B=P.type;if(B in v.g){var ee=v.g[B],be=Array.prototype.indexOf.call(ee,P,void 0),Te;(Te=0<=be)&&Array.prototype.splice.call(ee,be,1),Te&&(_e(P),v.g[B].length==0&&(delete v.g[B],v.h--))}}function Ce(v,P,B,ee){for(var be=0;be<v.length;++be){var Te=v[be];if(!Te.da&&Te.listener==P&&Te.capture==!!B&&Te.ha==ee)return be}return-1}var Le="closure_lm_"+(1e6*Math.random()|0),J={};function je(v,P,B,ee,be){if(Array.isArray(P)){for(var Te=0;Te<P.length;Te++)je(v,P[Te],B,ee,be);return null}return B=Oe(B),v&&v[ue]?v.K(P,B,c(ee)?!!ee.capture:!!ee,be):Qe(v,P,B,!1,ee,be)}function Qe(v,P,B,ee,be,Te){if(!P)throw Error("Invalid event type");var We=c(be)?!!be.capture:!!be,mn=it(v);if(mn||(v[Le]=mn=new Me(v)),B=mn.add(P,B,ee,We,Te),B.proxy)return B;if(ee=Ge(),B.proxy=ee,ee.src=v,ee.listener=B,v.addEventListener)re||(be=We),be===void 0&&(be=!1),v.addEventListener(P.toString(),ee,be);else if(v.attachEvent)v.attachEvent(Xe(P.toString()),ee);else if(v.addListener&&v.removeListener)v.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return B}function Ge(){function v(B){return P.call(v.src,v.listener,B)}const P=pt;return v}function Ie(v,P,B,ee,be){if(Array.isArray(P))for(var Te=0;Te<P.length;Te++)Ie(v,P[Te],B,ee,be);else ee=c(ee)?!!ee.capture:!!ee,B=Oe(B),v&&v[ue]?(v=v.i,P=String(P).toString(),P in v.g&&(Te=v.g[P],B=Ce(Te,B,ee,be),-1<B&&(_e(Te[B]),Array.prototype.splice.call(Te,B,1),Te.length==0&&(delete v.g[P],v.h--)))):v&&(v=it(v))&&(P=v.g[P.toString()],v=-1,P&&(v=Ce(P,B,ee,be)),(B=-1<v?P[v]:null)&&lt(B))}function lt(v){if(typeof v!="number"&&v&&!v.da){var P=v.src;if(P&&P[ue])Ee(P.i,v);else{var B=v.type,ee=v.proxy;P.removeEventListener?P.removeEventListener(B,ee,v.capture):P.detachEvent?P.detachEvent(Xe(B),ee):P.addListener&&P.removeListener&&P.removeListener(ee),(B=it(P))?(Ee(B,v),B.h==0&&(B.src=null,P[Le]=null)):_e(v)}}}function Xe(v){return v in J?J[v]:J[v]="on"+v}function pt(v,P){if(v.da)v=!0;else{P=new le(P,this);var B=v.listener,ee=v.ha||v.src;v.fa&&lt(v),v=B.call(ee,P)}return v}function it(v){return v=v[Le],v instanceof Me?v:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(v){return typeof v=="function"?v:(v[Lt]||(v[Lt]=function(P){return v.handleEvent(P)}),v[Lt])}function Fe(){U.call(this),this.i=new Me(this),this.M=this,this.F=null}w(Fe,U),Fe.prototype[ue]=!0,Fe.prototype.removeEventListener=function(v,P,B,ee){Ie(this,v,P,B,ee)};function Ke(v,P){var B,ee=v.F;if(ee)for(B=[];ee;ee=ee.F)B.push(ee);if(v=v.M,ee=P.type||P,typeof P=="string")P=new Y(P,v);else if(P instanceof Y)P.target=P.target||v;else{var be=P;P=new Y(ee,v),j(P,be)}if(be=!0,B)for(var Te=B.length-1;0<=Te;Te--){var We=P.g=B[Te];be=Nt(We,ee,!0,P)&&be}if(We=P.g=v,be=Nt(We,ee,!0,P)&&be,be=Nt(We,ee,!1,P)&&be,B)for(Te=0;Te<B.length;Te++)We=P.g=B[Te],be=Nt(We,ee,!1,P)&&be}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var v=this.i,P;for(P in v.g){for(var B=v.g[P],ee=0;ee<B.length;ee++)_e(B[ee]);delete v.g[P],v.h--}}this.F=null},Fe.prototype.K=function(v,P,B,ee){return this.i.add(String(v),P,!1,B,ee)},Fe.prototype.L=function(v,P,B,ee){return this.i.add(String(v),P,!0,B,ee)};function Nt(v,P,B,ee){if(P=v.i.g[String(P)],!P)return!0;P=P.concat();for(var be=!0,Te=0;Te<P.length;++Te){var We=P[Te];if(We&&!We.da&&We.capture==B){var mn=We.listener,Cr=We.ha||We.src;We.fa&&Ee(v.i,We),be=mn.call(Cr,ee)!==!1&&be}}return be&&!ee.defaultPrevented}function nt(v,P,B){if(typeof v=="function")B&&(v=p(v,B));else if(v&&typeof v.handleEvent=="function")v=p(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:a.setTimeout(v,P||0)}function kt(v){v.g=nt(()=>{v.g=null,v.i&&(v.i=!1,kt(v))},v.l);const P=v.h;v.h=null,v.m.apply(null,P)}class wt extends U{constructor(P,B){super(),this.m=P,this.l=B,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:kt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ln(v){U.call(this),this.h=v,this.g={}}w(Ln,U);var nn=[];function Ft(v){V(v.g,function(P,B){this.g.hasOwnProperty(B)&&lt(P)},v),v.g={}}Ln.prototype.N=function(){Ln.aa.N.call(this),Ft(this)},Ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=a.JSON.stringify,An=a.JSON.parse,Et=class{stringify(v){return a.JSON.stringify(v,void 0)}parse(v){return a.JSON.parse(v,void 0)}};function Nn(){}Nn.prototype.h=null;function Ct(v){return v.h||(v.h=v.i())}function Bt(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zt(){Y.call(this,"d")}w(zt,Y);function mt(){Y.call(this,"c")}w(mt,Y);var rn={},It=null;function jt(){return It=It||new Fe}rn.La="serverreachability";function cn(v){Y.call(this,rn.La,v)}w(cn,Y);function Wn(v){const P=jt();Ke(P,new cn(P))}rn.STAT_EVENT="statevent";function dt(v,P){Y.call(this,rn.STAT_EVENT,v),this.stat=P}w(dt,Y);function bn(v){const P=jt();Ke(P,new dt(P,v))}rn.Ma="timingevent";function si(v,P){Y.call(this,rn.Ma,v),this.size=P}w(si,Y);function Dn(v,P){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){v()},P)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function yr(v,P,B,ee,be,Te){v.info(function(){if(v.g)if(Te)for(var We="",mn=Te.split("&"),Cr=0;Cr<mn.length;Cr++){var an=mn[Cr].split("=");if(1<an.length){var Tn=an[0];an=an[1];var ir=Tn.split("_");We=2<=ir.length&&ir[1]=="type"?We+(Tn+"="+an+"&"):We+(Tn+"=redacted&")}}else We=null;else We=Te;return"XMLHTTP REQ ("+ee+") [attempt "+be+"]: "+P+`
`+B+`
`+We})}function oi(v,P,B,ee,be,Te,We){v.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+be+"]: "+P+`
`+B+`
`+Te+" "+We})}function wr(v,P,B,ee){v.info(function(){return"XMLHTTP TEXT ("+P+"): "+Ql(v,B)+(ee?" "+ee:"")})}function au(v,P){v.info(function(){return"TIMEOUT: "+P})}Qn.prototype.info=function(){};function Ql(v,P){if(!v.g)return P;if(!P)return null;try{var B=JSON.parse(P);if(B){for(v=0;v<B.length;v++)if(Array.isArray(B[v])){var ee=B[v];if(!(2>ee.length)){var be=ee[1];if(Array.isArray(be)&&!(1>be.length)){var Te=be[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(var We=1;We<be.length;We++)be[We]=""}}}}return Vt(B)}catch{return P}}var cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Do={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Os;function us(){}w(us,Nn),us.prototype.g=function(){return new XMLHttpRequest},us.prototype.i=function(){return{}},Os=new us;function qr(v,P,B,ee){this.j=v,this.i=P,this.l=B,this.R=ee||1,this.U=new Ln(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jl}function Jl(){this.i=null,this.g="",this.h=!1}var Mo={},ol={};function Zl(v,P,B){v.L=1,v.v=hu(pi(P)),v.m=B,v.P=!0,lu(v,null)}function lu(v,P){v.F=Date.now(),ec(v),v.A=pi(v.v);var B=v.A,ee=v.R;Array.isArray(ee)||(ee=[String(ee)]),Tg(B.i,"t",ee),v.C=0,B=v.j.J,v.h=new Jl,v.g=jr(v.j,B?P:null,!v.m),0<v.O&&(v.M=new wt(p(v.Y,v,v.g),v.O)),P=v.U,B=v.g,ee=v.ca;var be="readystatechange";Array.isArray(be)||(be&&(nn[0]=be.toString()),be=nn);for(var Te=0;Te<be.length;Te++){var We=je(B,be[Te],ee||P.handleEvent,!1,P.h||P);if(!We)break;P.g[We.key]=We}P=v.H?C(v.H):{},v.m?(v.u||(v.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,P)):(v.u="GET",v.g.ea(v.A,v.u,null,P)),Wn(),yr(v.i,v.u,v.A,v.l,v.R,v.m)}qr.prototype.ca=function(v){v=v.target;const P=this.M;P&&Fs(v)==3?P.j():this.Y(v)},qr.prototype.Y=function(v){try{if(v==this.g)e:{const ir=Fs(this.g);var P=this.g.Ba();const Fo=this.g.Z();if(!(3>ir)&&(ir!=3||this.g&&(this.h.h||this.g.oa()||ep(this.g)))){this.J||ir!=4||P==7||(P==8||0>=Fo?Wn(3):Wn(2)),jd(this);var B=this.g.Z();this.X=B;t:if(cu(this)){var ee=ep(this.g);v="";var be=ee.length,Te=Fs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jo(this),Ti(this);var We="";break t}this.h.i=new a.TextDecoder}for(P=0;P<be;P++)this.h.h=!0,v+=this.h.i.decode(ee[P],{stream:!(Te&&P==be-1)});ee.length=0,this.h.g+=v,this.C=0,We=this.h.g}else We=this.g.oa();if(this.o=B==200,oi(this.i,this.u,this.A,this.l,this.R,ir,B),this.o){if(this.T&&!this.K){t:{if(this.g){var mn,Cr=this.g;if((mn=Cr.g?Cr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(mn)){var an=mn;break t}}an=null}if(B=an)wr(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Od(this,B);else{this.o=!1,this.s=3,bn(12),jo(this),Ti(this);break e}}if(this.P){B=!0;let ds;for(;!this.J&&this.C<We.length;)if(ds=F1(this,We),ds==ol){ir==4&&(this.s=4,bn(14),B=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(ds==Mo){this.s=4,bn(15),wr(this.i,this.l,We,"[Invalid Chunk]"),B=!1;break}else wr(this.i,this.l,ds,null),Od(this,ds);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ir!=4||We.length!=0||this.h.h||(this.s=1,bn(16),B=!1),this.o=this.o&&B,!B)wr(this.i,this.l,We,"[Invalid Chunked Response]"),jo(this),Ti(this);else if(0<We.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+We.length),ct(Tn),Tn.M=!0,bn(11))}}else wr(this.i,this.l,We,null),Od(this,We);ir==4&&jo(this),this.o&&!this.J&&(ir==4?Ht(this.j,this):(this.o=!1,ec(this)))}else Ig(this.g),B==400&&0<We.indexOf("Unknown SID")?(this.s=3,bn(12)):(this.s=0,bn(13)),jo(this),Ti(this)}}}catch{}finally{}};function cu(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function F1(v,P){var B=v.C,ee=P.indexOf(`
`,B);return ee==-1?ol:(B=Number(P.substring(B,ee)),isNaN(B)?Mo:(ee+=1,ee+B>P.length?ol:(P=P.slice(ee,ee+B),v.C=ee+B,P)))}qr.prototype.cancel=function(){this.J=!0,jo(this)};function ec(v){v.S=Date.now()+v.I,qf(v,v.I)}function qf(v,P){if(v.B!=null)throw Error("WatchDog timer not null");v.B=Dn(p(v.ba,v),P)}function jd(v){v.B&&(a.clearTimeout(v.B),v.B=null)}qr.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(au(this.i,this.A),this.L!=2&&(Wn(),bn(17)),jo(this),this.s=2,Ti(this)):qf(this,this.S-v)};function Ti(v){v.j.G==0||v.J||Ht(v.j,v)}function jo(v){jd(v);var P=v.M;P&&typeof P.ma=="function"&&P.ma(),v.M=null,Ft(v.U),v.g&&(P=v.g,v.g=null,P.abort(),P.ma())}function Od(v,P){try{var B=v.j;if(B.G!=0&&(B.g==v||ao(B.h,v))){if(!v.K&&ao(B.h,v)&&B.G==3){try{var ee=B.Da.g.parse(P)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var be=ee;if(be[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<v.F)Mt(B),ka(B);else break e;Ue(B),bn(18)}}else B.za=be[1],0<B.za-B.T&&37500>be[2]&&B.F&&B.v==0&&!B.C&&(B.C=Dn(p(B.Za,B),6e3));if(1>=Yf(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else In(B,11)}else if((v.K||B.g==v)&&Mt(B),!A(P))for(be=B.Da.g.parse(P),P=0;P<be.length;P++){let an=be[P];if(B.T=an[0],an=an[1],B.G==2)if(an[0]=="c"){B.K=an[1],B.ia=an[2];const Tn=an[3];Tn!=null&&(B.la=Tn,B.j.info("VER="+B.la));const ir=an[4];ir!=null&&(B.Aa=ir,B.j.info("SVER="+B.Aa));const Fo=an[5];Fo!=null&&typeof Fo=="number"&&0<Fo&&(ee=1.5*Fo,B.L=ee,B.j.info("backChannelRequestTimeoutMs_="+ee)),ee=B;const ds=v.g;if(ds){const Wi=ds.g?ds.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wi){var Te=ee.h;Te.g||Wi.indexOf("spdy")==-1&&Wi.indexOf("quic")==-1&&Wi.indexOf("h2")==-1||(Te.j=Te.l,Te.g=new Set,Te.h&&(tc(Te,Te.h),Te.h=null))}if(ee.D){const cl=ds.g?ds.g.getResponseHeader("X-HTTP-Session-Id"):null;cl&&(ee.ya=cl,dn(ee.I,ee.D,cl))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-v.F,B.j.info("Handshake RTT: "+B.R+"ms")),ee=B;var We=v;if(ee.qa=Fn(ee,ee.J?ee.ia:null,ee.W),We.K){Ag(ee.h,We);var mn=We,Cr=ee.L;Cr&&(mn.I=Cr),mn.B&&(jd(mn),ec(mn)),ee.g=We}else Pe(ee);0<B.i.length&&S(B)}else an[0]!="stop"&&an[0]!="close"||In(B,7);else B.G==3&&(an[0]=="stop"||an[0]=="close"?an[0]=="stop"?In(B,7):$d(B):an[0]!="noop"&&B.l&&B.l.ta(an),B.v=0)}}Wn(4)}catch{}}var Wf=class{constructor(v,P){this.g=v,this.map=P}};function Gf(v){this.l=v||10,a.PerformanceNavigationTiming?(v=a.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kf(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Yf(v){return v.h?1:v.g?v.g.size:0}function ao(v,P){return v.h?v.h==P:v.g?v.g.has(P):!1}function tc(v,P){v.g?v.g.add(P):v.h=P}function Ag(v,P){v.h&&v.h==P?v.h=null:v.g&&v.g.has(P)&&v.g.delete(P)}Gf.prototype.cancel=function(){if(this.i=Ar(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Ar(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let P=v.i;for(const B of v.g.values())P=P.concat(B.D);return P}return y(v.i)}function Eg(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(l(v)){for(var P=[],B=v.length,ee=0;ee<B;ee++)P.push(v[ee]);return P}P=[],B=0;for(ee in v)P[B++]=v[ee];return P}function Aa(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(l(v)||typeof v=="string"){var P=[];v=v.length;for(var B=0;B<v;B++)P.push(B);return P}P=[],B=0;for(const ee in v)P[B++]=ee;return P}}}function uu(v,P){if(v.forEach&&typeof v.forEach=="function")v.forEach(P,void 0);else if(l(v)||typeof v=="string")Array.prototype.forEach.call(v,P,void 0);else for(var B=Aa(v),ee=Eg(v),be=ee.length,Te=0;Te<be;Te++)P.call(void 0,ee[Te],B&&B[Te],v)}var Xf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lo(v,P){if(v){v=v.split("&");for(var B=0;B<v.length;B++){var ee=v[B].indexOf("="),be=null;if(0<=ee){var Te=v[B].substring(0,ee);be=v[B].substring(ee+1)}else Te=v[B];P(Te,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function Jn(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Jn){this.h=v.h,du(this,v.j),this.o=v.o,this.g=v.g,Fd(this,v.s),this.l=v.l;var P=v.i,B=new qi;B.i=P.i,P.g&&(B.g=new Map(P.g),B.h=P.h),Sg(this,B),this.m=v.m}else v&&(P=String(v).match(Xf))?(this.h=!1,du(this,P[1]||"",!0),this.o=nc(P[2]||""),this.g=nc(P[3]||"",!0),Fd(this,P[4]),this.l=nc(P[5]||"",!0),Sg(this,P[6]||"",!0),this.m=nc(P[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}Jn.prototype.toString=function(){var v=[],P=this.j;P&&v.push(Ea(P,Ng,!0),":");var B=this.g;return(B||P=="file")&&(v.push("//"),(P=this.o)&&v.push(Ea(P,Ng,!0),"@"),v.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&v.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&v.push("/"),v.push(Ea(B,B.charAt(0)=="/"?U1:B1,!0))),(B=this.i.toString())&&v.push("?",B),(B=this.m)&&v.push("#",Ea(B,Cg)),v.join("")};function pi(v){return new Jn(v)}function du(v,P,B){v.j=B?nc(P,!0):P,v.j&&(v.j=v.j.replace(/:$/,""))}function Fd(v,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);v.s=P}else v.s=null}function Sg(v,P,B){P instanceof qi?(v.i=P,V1(v.i,v.h)):(B||(P=Ea(P,Qf)),v.i=new qi(P,v.h))}function dn(v,P,B){v.i.set(P,B)}function hu(v){return dn(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function nc(v,P){return v?P?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Ea(v,P,B){return typeof v=="string"?(v=encodeURI(v).replace(P,fu),B&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function fu(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Ng=/[#\/\?@]/g,B1=/[#\?:]/g,U1=/[#\?]/g,Qf=/[#\?@]/g,Cg=/#/g;function qi(v,P){this.h=this.g=null,this.i=v||null,this.j=!!P}function Sa(v){v.g||(v.g=new Map,v.h=0,v.i&&lo(v.i,function(P,B){v.add(decodeURIComponent(P.replace(/\+/g," ")),B)}))}n=qi.prototype,n.add=function(v,P){Sa(this),this.i=null,v=Dt(this,v);var B=this.g.get(v);return B||this.g.set(v,B=[]),B.push(P),this.h+=1,this};function rc(v,P){Sa(v),P=Dt(v,P),v.g.has(P)&&(v.i=null,v.h-=v.g.get(P).length,v.g.delete(P))}function Bd(v,P){return Sa(v),P=Dt(v,P),v.g.has(P)}n.forEach=function(v,P){Sa(this),this.g.forEach(function(B,ee){B.forEach(function(be){v.call(P,be,ee,this)},this)},this)},n.na=function(){Sa(this);const v=Array.from(this.g.values()),P=Array.from(this.g.keys()),B=[];for(let ee=0;ee<P.length;ee++){const be=v[ee];for(let Te=0;Te<be.length;Te++)B.push(P[ee])}return B},n.V=function(v){Sa(this);let P=[];if(typeof v=="string")Bd(this,v)&&(P=P.concat(this.g.get(Dt(this,v))));else{v=Array.from(this.g.values());for(let B=0;B<v.length;B++)P=P.concat(v[B])}return P},n.set=function(v,P){return Sa(this),this.i=null,v=Dt(this,v),Bd(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[P]),this.h+=1,this},n.get=function(v,P){return v?(v=this.V(v),0<v.length?String(v[0]):P):P};function Tg(v,P,B){rc(v,P),0<B.length&&(v.i=null,v.g.set(Dt(v,P),y(B)),v.h+=B.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],P=Array.from(this.g.keys());for(var B=0;B<P.length;B++){var ee=P[B];const Te=encodeURIComponent(String(ee)),We=this.V(ee);for(ee=0;ee<We.length;ee++){var be=Te;We[ee]!==""&&(be+="="+encodeURIComponent(String(We[ee]))),v.push(be)}}return this.i=v.join("&")};function Dt(v,P){return P=String(P),v.j&&(P=P.toLowerCase()),P}function V1(v,P){P&&!v.j&&(Sa(v),v.i=null,v.g.forEach(function(B,ee){var be=ee.toLowerCase();ee!=be&&(rc(this,ee),Tg(this,be,B))},v)),v.j=P}function z1(v,P){const B=new Qn;if(a.Image){const ee=new Image;ee.onload=f(ki,B,"TestLoadImage: loaded",!0,P,ee),ee.onerror=f(ki,B,"TestLoadImage: error",!1,P,ee),ee.onabort=f(ki,B,"TestLoadImage: abort",!1,P,ee),ee.ontimeout=f(ki,B,"TestLoadImage: timeout",!1,P,ee),a.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=v}else P(!1)}function $1(v,P){const B=new Qn,ee=new AbortController,be=setTimeout(()=>{ee.abort(),ki(B,"TestPingServer: timeout",!1,P)},1e4);fetch(v,{signal:ee.signal}).then(Te=>{clearTimeout(be),Te.ok?ki(B,"TestPingServer: ok",!0,P):ki(B,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(be),ki(B,"TestPingServer: error",!1,P)})}function ki(v,P,B,ee,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),ee(B)}catch{}}function al(){this.g=new Et}function H1(v,P,B){const ee=B||"";try{uu(v,function(be,Te){let We=be;c(be)&&(We=Vt(be)),P.push(ee+Te+"="+encodeURIComponent(We))})}catch(be){throw P.push(ee+"type="+encodeURIComponent("_badmap")),be}}function Ud(v){this.l=v.Ub||null,this.j=v.eb||!1}w(Ud,Nn),Ud.prototype.g=function(){return new ll(this.l,this.j)},Ud.prototype.i=function(v){return function(){return v}}({});function ll(v,P){Fe.call(this),this.D=v,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ll,Fe),n=ll.prototype,n.open=function(v,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=P,this.readyState=1,pu(this)},n.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(P.body=v),(this.D||a).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oo(this)),this.readyState=0},n.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,pu(this)),this.g&&(this.readyState=3,pu(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vd(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vd(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}n.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var P=v.value?v.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!v.done}))&&(this.response=this.responseText+=P)}v.done?Oo(this):pu(this),this.readyState==3&&Vd(this)}},n.Ra=function(v){this.g&&(this.response=this.responseText=v,Oo(this))},n.Qa=function(v){this.g&&(this.response=v,Oo(this))},n.ga=function(){this.g&&Oo(this)};function Oo(v){v.readyState=4,v.l=null,v.j=null,v.v=null,pu(v)}n.setRequestHeader=function(v,P){this.u.append(v,P)},n.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],P=this.h.entries();for(var B=P.next();!B.done;)B=B.value,v.push(B[0]+": "+B[1]),B=P.next();return v.join(`\r
`)};function pu(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(ll.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Na(v){let P="";return V(v,function(B,ee){P+=ee,P+=":",P+=B,P+=`\r
`}),P}function Jf(v,P,B){e:{for(ee in B){var ee=!1;break e}ee=!0}ee||(B=Na(B),typeof v=="string"?B!=null&&encodeURIComponent(String(B)):dn(v,P,B))}function Gn(v){Fe.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Gn,Fe);var Zf=/^https?$/i,kg=["POST","PUT"];n=Gn.prototype,n.Ha=function(v){this.J=v},n.ea=function(v,P,B,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);P=P?P.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Os.g(),this.v=this.o?Ct(this.o):Ct(Os),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(P,String(v),!0),this.B=!1}catch(Te){Ca(this,Te);return}if(v=B||"",B=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var be in ee)B.set(be,ee[be]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const Te of ee.keys())B.set(Te,ee.get(Te));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(B.keys()).find(Te=>Te.toLowerCase()=="content-type"),be=a.FormData&&v instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kg,P,void 0))||ee||be||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Te,We]of B)this.g.setRequestHeader(Te,We);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sc(this),this.u=!0,this.g.send(v),this.u=!1}catch(Te){Ca(this,Te)}};function Ca(v,P){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=P,v.m=5,zd(v),ic(v)}function zd(v){v.A||(v.A=!0,Ke(v,"complete"),Ke(v,"error"))}n.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Ke(this,"complete"),Ke(this,"abort"),ic(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ic(this,!0)),Gn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?mu(this):this.bb())},n.bb=function(){mu(this)};function mu(v){if(v.h&&typeof o<"u"&&(!v.v[1]||Fs(v)!=4||v.Z()!=2)){if(v.u&&Fs(v)==4)nt(v.Ea,0,v);else if(Ke(v,"readystatechange"),Fs(v)==4){v.h=!1;try{const We=v.Z();e:switch(We){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var B;if(!(B=P)){var ee;if(ee=We===0){var be=String(v.D).match(Xf)[1]||null;!be&&a.self&&a.self.location&&(be=a.self.location.protocol.slice(0,-1)),ee=!Zf.test(be?be.toLowerCase():"")}B=ee}if(B)Ke(v,"complete"),Ke(v,"success");else{v.m=6;try{var Te=2<Fs(v)?v.g.statusText:""}catch{Te=""}v.l=Te+" ["+v.Z()+"]",zd(v)}}finally{ic(v)}}}}function ic(v,P){if(v.g){sc(v);const B=v.g,ee=v.v[0]?()=>{}:null;v.g=null,v.v=null,P||Ke(v,"ready");try{B.onreadystatechange=ee}catch{}}}function sc(v){v.I&&(a.clearTimeout(v.I),v.I=null)}n.isActive=function(){return!!this.g};function Fs(v){return v.g?v.g.readyState:0}n.Z=function(){try{return 2<Fs(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(v){if(this.g){var P=this.g.responseText;return v&&P.indexOf(v)==0&&(P=P.substring(v.length)),An(P)}};function ep(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Ig(v){const P={};v=(v.g&&2<=Fs(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<v.length;ee++){if(A(v[ee]))continue;var B=T(v[ee]);const be=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const Te=P[be]||[];P[be]=Te,Te.push(B)}L(P,function(ee){return ee.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(v,P,B){return B&&B.internalChannelParams&&B.internalChannelParams[v]||P}function Ta(v){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,v),this.cb=Bs("retryDelaySeedMs",1e4,v),this.Wa=Bs("forwardChannelMaxRetries",2,v),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Gf(v&&v.concurrentRequestLimit),this.Da=new al,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ta.prototype,n.la=8,n.G=1,n.connect=function(v,P,B,ee){bn(0),this.W=v,this.H=P||{},B&&ee!==void 0&&(this.H.OSID=B,this.H.OAID=ee),this.F=this.X,this.I=Fn(this,null,this.W),S(this)};function $d(v){if(tp(v),v.G==3){var P=v.U++,B=pi(v.I);if(dn(B,"SID",v.K),dn(B,"RID",P),dn(B,"TYPE","terminate"),fe(v,B),P=new qr(v,v.j,P),P.L=2,P.v=hu(pi(B)),B=!1,a.navigator&&a.navigator.sendBeacon)try{B=a.navigator.sendBeacon(P.v.toString(),"")}catch{}!B&&a.Image&&(new Image().src=P.v,B=!0),B||(P.g=jr(P.j,null),P.g.ea(P.v)),P.F=Date.now(),ec(P)}Er(v)}function ka(v){v.g&&(ct(v),v.g.cancel(),v.g=null)}function tp(v){ka(v),v.u&&(a.clearTimeout(v.u),v.u=null),Mt(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&a.clearTimeout(v.s),v.s=null)}function S(v){if(!Kf(v.h)&&!v.s){v.s=!0;var P=v.Ga;ae||ge(),Q||(ae(),Q=!0),ne.add(P,v),v.B=0}}function $(v,P){return Yf(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=P.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=Dn(p(v.Ga,v,P),hn(v,v.B)),v.B++,!0)}n.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const be=new qr(this,this.j,v);let Te=this.o;if(this.S&&(Te?(Te=C(Te),j(Te,this.S)):Te=this.S),this.m!==null||this.O||(be.H=Te,Te=null),this.P)e:{for(var P=0,B=0;B<this.i.length;B++){t:{var ee=this.i[B];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(P+=ee,4096<P){P=B;break e}if(P===4096||B===this.i.length-1){P=B+1;break e}}P=1e3}else P=1e3;P=ye(this,be,P),B=pi(this.I),dn(B,"RID",v),dn(B,"CVER",22),this.D&&dn(B,"X-HTTP-Session-Id",this.D),fe(this,B),Te&&(this.O?P="headers="+encodeURIComponent(String(Na(Te)))+"&"+P:this.m&&Jf(B,this.m,Te)),tc(this.h,be),this.Ua&&dn(B,"TYPE","init"),this.P?(dn(B,"$req",P),dn(B,"SID","null"),be.T=!0,Zl(be,B,null)):Zl(be,B,P),this.G=2}}else this.G==3&&(v?ie(this,v):this.i.length==0||Kf(this.h)||ie(this))};function ie(v,P){var B;P?B=P.l:B=v.U++;const ee=pi(v.I);dn(ee,"SID",v.K),dn(ee,"RID",B),dn(ee,"AID",v.T),fe(v,ee),v.m&&v.o&&Jf(ee,v.m,v.o),B=new qr(v,v.j,B,v.B+1),v.m===null&&(B.H=v.o),P&&(v.i=P.D.concat(v.i)),P=ye(v,B,1e3),B.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),tc(v.h,B),Zl(B,ee,P)}function fe(v,P){v.H&&V(v.H,function(B,ee){dn(P,ee,B)}),v.l&&uu({},function(B,ee){dn(P,ee,B)})}function ye(v,P,B){B=Math.min(v.i.length,B);var ee=v.l?p(v.l.Na,v.l,v):null;e:{var be=v.i;let Te=-1;for(;;){const We=["count="+B];Te==-1?0<B?(Te=be[0].g,We.push("ofs="+Te)):Te=0:We.push("ofs="+Te);let mn=!0;for(let Cr=0;Cr<B;Cr++){let an=be[Cr].g;const Tn=be[Cr].map;if(an-=Te,0>an)Te=Math.max(0,be[Cr].g-100),mn=!1;else try{H1(Tn,We,"req"+an+"_")}catch{ee&&ee(Tn)}}if(mn){ee=We.join("&");break e}}}return v=v.i.splice(0,B),P.D=v,ee}function Pe(v){if(!v.g&&!v.u){v.Y=1;var P=v.Fa;ae||ge(),Q||(ae(),Q=!0),ne.add(P,v),v.v=0}}function Ue(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=Dn(p(v.Fa,v),hn(v,v.v)),v.v++,!0)}n.Fa=function(){if(this.u=null,gt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Dn(p(this.ab,this),v)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bn(10),ka(this),gt(this))};function ct(v){v.A!=null&&(a.clearTimeout(v.A),v.A=null)}function gt(v){v.g=new qr(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var P=pi(v.qa);dn(P,"RID","rpc"),dn(P,"SID",v.K),dn(P,"AID",v.T),dn(P,"CI",v.F?"0":"1"),!v.F&&v.ja&&dn(P,"TO",v.ja),dn(P,"TYPE","xmlhttp"),fe(v,P),v.m&&v.o&&Jf(P,v.m,v.o),v.L&&(v.g.I=v.L);var B=v.g;v=v.ia,B.L=1,B.v=hu(pi(P)),B.m=null,B.P=!0,lu(B,v)}n.Za=function(){this.C!=null&&(this.C=null,ka(this),Ue(this),bn(19))};function Mt(v){v.C!=null&&(a.clearTimeout(v.C),v.C=null)}function Ht(v,P){var B=null;if(v.g==P){Mt(v),ct(v),v.g=null;var ee=2}else if(ao(v.h,P))B=P.D,Ag(v.h,P),ee=1;else return;if(v.G!=0){if(P.o)if(ee==1){B=P.m?P.m.length:0,P=Date.now()-P.F;var be=v.B;ee=jt(),Ke(ee,new si(ee,B)),S(v)}else Pe(v);else if(be=P.s,be==3||be==0&&0<P.X||!(ee==1&&$(v,P)||ee==2&&Ue(v)))switch(B&&0<B.length&&(P=v.h,P.i=P.i.concat(B)),be){case 1:In(v,5);break;case 4:In(v,10);break;case 3:In(v,6);break;default:In(v,2)}}}function hn(v,P){let B=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(B*=2),B*P}function In(v,P){if(v.j.info("Error code "+P),P==2){var B=p(v.fb,v),ee=v.Xa;const be=!ee;ee=new Jn(ee||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||du(ee,"https"),hu(ee),be?z1(ee.toString(),B):$1(ee.toString(),B)}else bn(2);v.G=0,v.l&&v.l.sa(P),Er(v),tp(v)}n.fb=function(v){v?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function Er(v){if(v.G=0,v.ka=[],v.l){const P=Ar(v.h);(P.length!=0||v.i.length!=0)&&(_(v.ka,P),_(v.ka,v.i),v.h.i.length=0,y(v.i),v.i.length=0),v.l.ra()}}function Fn(v,P,B){var ee=B instanceof Jn?pi(B):new Jn(B);if(ee.g!="")P&&(ee.g=P+"."+ee.g),Fd(ee,ee.s);else{var be=a.location;ee=be.protocol,P=P?P+"."+be.hostname:be.hostname,be=+be.port;var Te=new Jn(null);ee&&du(Te,ee),P&&(Te.g=P),be&&Fd(Te,be),B&&(Te.l=B),ee=Te}return B=v.D,P=v.ya,B&&P&&dn(ee,B,P),dn(ee,"VER",v.la),fe(v,ee),ee}function jr(v,P,B){if(P&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=v.Ca&&!v.pa?new Gn(new Ud({eb:B})):new Gn(v.pa),P.Ha(v.J),P}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sr(){}n=Sr.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Or(){}Or.prototype.g=function(v,P){return new Nr(v,P)};function Nr(v,P){Fe.call(this),this.g=new Ta(P),this.l=v,this.h=P&&P.messageUrlParams||null,v=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(v?v["X-WebChannel-Content-Type"]=P.messageContentType:v={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(v?v["X-WebChannel-Client-Profile"]=P.va:v={"X-WebChannel-Client-Profile":P.va}),this.g.S=v,(v=P&&P.Sb)&&!A(v)&&(this.g.m=v),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!A(P)&&(this.g.D=P,v=this.h,v!==null&&P in v&&(v=this.h,P in v&&delete v[P])),this.j=new Pa(this)}w(Nr,Fe),Nr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nr.prototype.close=function(){$d(this.g)},Nr.prototype.o=function(v){var P=this.g;if(typeof v=="string"){var B={};B.__data__=v,v=B}else this.u&&(B={},B.__data__=Vt(v),v=B);P.i.push(new Wf(P.Ya++,v)),P.G==3&&S(P)},Nr.prototype.N=function(){this.g.l=null,delete this.j,$d(this.g),delete this.g,Nr.aa.N.call(this)};function co(v){zt.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var P=v.__sm__;if(P){e:{for(const B in P){v=B;break e}v=void 0}(this.i=v)&&(v=this.i,P=P!==null&&v in P?P[v]:void 0),this.data=P}else this.data=v}w(co,zt);function Ia(){mt.call(this),this.status=1}w(Ia,mt);function Pa(v){this.g=v}w(Pa,Sr),Pa.prototype.ua=function(){Ke(this.g,"a")},Pa.prototype.ta=function(v){Ke(this.g,new co(v))},Pa.prototype.sa=function(v){Ke(this.g,new Ia)},Pa.prototype.ra=function(){Ke(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,Nr.prototype.send=Nr.prototype.o,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,Qz=function(){return new Or},Xz=function(){return jt()},Yz=rn,jk={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,d5=cs,Do.COMPLETE="complete",Kz=Do,Bt.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,Ry=Bt,Gn.prototype.listenOnce=Gn.prototype.L,Gn.prototype.getLastError=Gn.prototype.Ka,Gn.prototype.getLastErrorCode=Gn.prototype.Ba,Gn.prototype.getStatus=Gn.prototype.Z,Gn.prototype.getResponseJson=Gn.prototype.Oa,Gn.prototype.getResponseText=Gn.prototype.oa,Gn.prototype.send=Gn.prototype.ea,Gn.prototype.setWithCredentials=Gn.prototype.Ha,Gz=Gn}).apply(typeof y_<"u"?y_:typeof self<"u"?self:typeof window<"u"?window:{});const ej="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cs.UNAUTHENTICATED=new Cs(null),Cs.GOOGLE_CREDENTIALS=new Cs("google-credentials-uid"),Cs.FIRST_PARTY=new Cs("first-party-uid"),Cs.MOCK_USER=new Cs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I1="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=new mS("@firebase/firestore");function my(){return Xm.logLevel}function vt(n,...e){if(Xm.logLevel<=yn.DEBUG){const t=e.map(KR);Xm.debug(`Firestore (${I1}): ${n}`,...t)}}function kd(n,...e){if(Xm.logLevel<=yn.ERROR){const t=e.map(KR);Xm.error(`Firestore (${I1}): ${n}`,...t)}}function e1(n,...e){if(Xm.logLevel<=yn.WARN){const t=e.map(KR);Xm.warn(`Firestore (${I1}): ${n}`,...t)}}function KR(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n="Unexpected state"){const e=`FIRESTORE (${I1}) INTERNAL ASSERTION FAILED: `+n;throw kd(e),new Error(e)}function qn(n,e){n||$t()}function Kt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends rl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Cs.UNAUTHENTICATED))}shutdown(){}}class Xde{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qde{constructor(e){this.t=e,this.currentUser=Cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new md;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new md,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new md)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qn(typeof r.accessToken=="string"),new Jz(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qn(e===null||typeof e=="string"),new Cs(e)}}class Jde{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Cs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Zde{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Jde(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Cs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ehe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class the{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qn(this.o===void 0);const r=s=>{s.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,vt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qn(typeof t.token=="string"),this.R=t.token,new ehe(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nhe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=nhe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function kn(n,e){return n<e?-1:n>e?1:0}function t1(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ot(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ot(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ot(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ci.fromMillis(Date.now())}static fromDate(e){return Ci.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ci(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kn(this.nanoseconds,e.nanoseconds):kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new Ci(0,0))}static max(){return new Gt(new Ci(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t,r){t===void 0?t=0:t>e.length&&$t(),r===void 0?r=e.length-t:r>e.length-t&&$t(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ib.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ib?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hr extends ib{construct(e,t,r){return new hr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ot(Be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new hr(t)}static emptyPath(){return new hr([])}}const rhe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rs extends ib{construct(e,t,r){return new rs(e,t,r)}static isValidIdentifier(e){return rhe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rs(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ot(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ot(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ot(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ot(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rs(t)}static emptyPath(){return new rs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(hr.fromString(e))}static fromName(e){return new Rt(hr.fromString(e).popFirst(5))}static empty(){return new Rt(hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&hr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return hr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new hr(e.slice()))}}function ihe(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Gt.fromTimestamp(r===1e9?new Ci(t+1,0):new Ci(t,r));return new Tf(i,Rt.empty(),e)}function she(n){return new Tf(n.readTime,n.key,-1)}class Tf{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Tf(Gt.min(),Rt.empty(),-1)}static max(){return new Tf(Gt.max(),Rt.empty(),-1)}}function ohe(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Rt.comparator(n.documentKey,e.documentKey),t!==0?t:kn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ahe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lhe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(n){if(n.code!==Be.FAILED_PRECONDITION||n.message!==ahe)throw n;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ze((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ze?t:ze.resolve(t)}catch(t){return ze.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ze.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ze.reject(t)}static resolve(e){return new ze((t,r)=>{t(e)})}static reject(e){return new ze((t,r)=>{r(e)})}static waitFor(e){return new ze((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=ze.resolve(!1);for(const r of e)t=t.next(i=>i?ze.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ze((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new ze((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function che(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ix(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}YR.oe=-1;function _S(n){return n==null}function KA(n){return n===0&&1/n==-1/0}function uhe(n){return typeof n=="number"&&Number.isInteger(n)&&!KA(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gg(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function e$(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,t){this.comparator=e,this.root=t||ns.EMPTY}insert(e,t){return new Mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ns.BLACK,null,null))}remove(e){return new Mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ns.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new w_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new w_(this.root,e,this.comparator,!1)}getReverseIterator(){return new w_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new w_(this.root,e,this.comparator,!0)}}class w_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ns{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ns.RED,this.left=i??ns.EMPTY,this.right=s??ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ns(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ns.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ns.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $t();const e=this.left.check();if(e!==this.right.check())throw $t();return e+(this.isRed()?0:1)}}ns.EMPTY=null,ns.RED=!0,ns.BLACK=!1;ns.EMPTY=new class{constructor(){this.size=0}get key(){throw $t()}get value(){throw $t()}get color(){throw $t()}get left(){throw $t()}get right(){throw $t()}copy(e,t,r,i,s){return this}insert(e,t,r){return new ns(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.comparator=e,this.data=new Mr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nj(this.data.getIterator())}getIteratorFrom(e){return new nj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ss)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ss(this.comparator);return t.data=e,t}}class nj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.fields=e,e.sort(rs.comparator)}static empty(){return new da([])}unionWith(e){let t=new ss(rs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new da(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return t1(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new t$("Invalid base64 string: "+s):s}}(e);return new ls(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ls(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ls.EMPTY_BYTE_STRING=new ls("");const dhe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kf(n){if(qn(!!n),typeof n=="string"){let e=0;const t=dhe.exec(n);if(qn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qr(n.seconds),nanos:Qr(n.nanos)}}function Qr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qm(n){return typeof n=="string"?ls.fromBase64String(n):ls.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function QR(n){const e=n.mapValue.fields.__previous_value__;return XR(e)?QR(e):e}function sb(n){const e=kf(n.mapValue.fields.__local_write_time__.timestampValue);return new Ci(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hhe{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ob{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ob("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ob&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?XR(n)?4:phe(n)?9007199254740991:fhe(n)?10:11:$t()}function eu(n,e){if(n===e)return!0;const t=Jm(n);if(t!==Jm(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sb(n).isEqual(sb(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=kf(i.timestampValue),a=kf(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Qm(i.bytesValue).isEqual(Qm(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Qr(i.geoPointValue.latitude)===Qr(s.geoPointValue.latitude)&&Qr(i.geoPointValue.longitude)===Qr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qr(i.integerValue)===Qr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qr(i.doubleValue),a=Qr(s.doubleValue);return o===a?KA(o)===KA(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return t1(n.arrayValue.values||[],e.arrayValue.values||[],eu);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(tj(o)!==tj(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!eu(o[l],a[l])))return!1;return!0}(n,e);default:return $t()}}function ab(n,e){return(n.values||[]).find(t=>eu(t,e))!==void 0}function n1(n,e){if(n===e)return 0;const t=Jm(n),r=Jm(e);if(t!==r)return kn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return kn(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qr(s.integerValue||s.doubleValue),l=Qr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return rj(n.timestampValue,e.timestampValue);case 4:return rj(sb(n),sb(e));case 5:return kn(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Qm(s),l=Qm(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=kn(a[c],l[c]);if(u!==0)return u}return kn(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=kn(Qr(s.latitude),Qr(o.latitude));return a!==0?a:kn(Qr(s.longitude),Qr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ij(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const h=s.fields||{},p=o.fields||{},f=(a=h.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,y=kn(((c=f==null?void 0:f.values)===null||c===void 0?void 0:c.length)||0,((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:ij(f,w)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===b_.mapValue&&o===b_.mapValue)return 0;if(s===b_.mapValue)return 1;if(o===b_.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const p=kn(l[h],u[h]);if(p!==0)return p;const f=n1(a[l[h]],c[u[h]]);if(f!==0)return f}return kn(l.length,u.length)}(n.mapValue,e.mapValue);default:throw $t()}}function rj(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return kn(n,e);const t=kf(n),r=kf(e),i=kn(t.seconds,r.seconds);return i!==0?i:kn(t.nanos,r.nanos)}function ij(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=n1(t[i],r[i]);if(s)return s}return kn(t.length,r.length)}function r1(n){return Ok(n)}function Ok(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=kf(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qm(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Rt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=Ok(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ok(t.fields[o])}`;return i+"}"}(n.mapValue):$t()}function sj(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fk(n){return!!n&&"integerValue"in n}function JR(n){return!!n&&"arrayValue"in n}function oj(n){return!!n&&"nullValue"in n}function aj(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function h5(n){return!!n&&"mapValue"in n}function fhe(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function hw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gg(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hw(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function phe(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.value=e}static empty(){return new Ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!h5(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hw(t)}setAll(e){let t=rs.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=hw(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());h5(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return eu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];h5(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){gg(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ao(hw(this.value))}}function n$(n){const e=[];return gg(n.fields,(t,r)=>{const i=new rs([t]);if(h5(r)){const s=n$(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new da(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Is(e,0,Gt.min(),Gt.min(),Gt.min(),Ao.empty(),0)}static newFoundDocument(e,t,r,i){return new Is(e,1,t,Gt.min(),r,i,0)}static newNoDocument(e,t){return new Is(e,2,t,Gt.min(),Gt.min(),Ao.empty(),0)}static newUnknownDocument(e,t){return new Is(e,3,t,Gt.min(),Gt.min(),Ao.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Is&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t){this.position=e,this.inclusive=t}}function lj(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Rt.comparator(Rt.fromName(o.referenceValue),t.key):r=n1(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function cj(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!eu(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t="asc"){this.field=e,this.dir=t}}function mhe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${}class hi extends r${constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new vhe(e,t,r):t==="array-contains"?new bhe(e,r):t==="in"?new xhe(e,r):t==="not-in"?new _he(e,r):t==="array-contains-any"?new Ahe(e,r):new hi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new yhe(e,r):new whe(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(n1(t,this.value)):t!==null&&Jm(this.value)===Jm(t)&&this.matchesComparison(n1(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gl extends r${constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Gl(e,t)}matches(e){return i$(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function i$(n){return n.op==="and"}function s$(n){return ghe(n)&&i$(n)}function ghe(n){for(const e of n.filters)if(e instanceof Gl)return!1;return!0}function Bk(n){if(n instanceof hi)return n.field.canonicalString()+n.op.toString()+r1(n.value);if(s$(n))return n.filters.map(e=>Bk(e)).join(",");{const e=n.filters.map(t=>Bk(t)).join(",");return`${n.op}(${e})`}}function o$(n,e){return n instanceof hi?function(r,i){return i instanceof hi&&r.op===i.op&&r.field.isEqual(i.field)&&eu(r.value,i.value)}(n,e):n instanceof Gl?function(r,i){return i instanceof Gl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&o$(o,i.filters[a]),!0):!1}(n,e):void $t()}function a$(n){return n instanceof hi?function(t){return`${t.field.canonicalString()} ${t.op} ${r1(t.value)}`}(n):n instanceof Gl?function(t){return t.op.toString()+" {"+t.getFilters().map(a$).join(" ,")+"}"}(n):"Filter"}class vhe extends hi{constructor(e,t,r){super(e,t,r),this.key=Rt.fromName(r.referenceValue)}matches(e){const t=Rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class yhe extends hi{constructor(e,t){super(e,"in",t),this.keys=l$("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class whe extends hi{constructor(e,t){super(e,"not-in",t),this.keys=l$("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function l$(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Rt.fromName(r.referenceValue))}class bhe extends hi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return JR(t)&&ab(t.arrayValue,this.value)}}class xhe extends hi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ab(this.value.arrayValue,t)}}class _he extends hi{constructor(e,t){super(e,"not-in",t)}matches(e){if(ab(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ab(this.value.arrayValue,t)}}class Ahe extends hi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!JR(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ab(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ehe{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function uj(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Ehe(n,e,t,r,i,s,o)}function ZR(n){const e=Kt(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Bk(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_S(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>r1(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>r1(r)).join(",")),e.ue=t}return e.ue}function e3(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mhe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!o$(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cj(n.startAt,e.startAt)&&cj(n.endAt,e.endAt)}function Uk(n){return Rt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function She(n,e,t,r,i,s,o,a){return new P1(n,e,t,r,i,s,o,a)}function AS(n){return new P1(n)}function dj(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function c$(n){return n.collectionGroup!==null}function fw(n){const e=Kt(n);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ss(rs.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new lb(s,r))}),t.has(rs.keyField().canonicalString())||e.ce.push(new lb(rs.keyField(),r))}return e.ce}function Yc(n){const e=Kt(n);return e.le||(e.le=Nhe(e,fw(n))),e.le}function Nhe(n,e){if(n.limitType==="F")return uj(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new lb(i.field,s)});const t=n.endAt?new YA(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new YA(n.startAt.position,n.startAt.inclusive):null;return uj(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Vk(n,e){const t=n.filters.concat([e]);return new P1(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function XA(n,e,t){return new P1(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ES(n,e){return e3(Yc(n),Yc(e))&&n.limitType===e.limitType}function u$(n){return`${ZR(Yc(n))}|lt:${n.limitType}`}function zg(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>a$(i)).join(", ")}]`),_S(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>r1(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>r1(i)).join(",")),`Target(${r})`}(Yc(n))}; limitType=${n.limitType})`}function SS(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Rt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of fw(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=lj(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,fw(r),i)||r.endAt&&!function(o,a,l){const c=lj(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,fw(r),i))}(n,e)}function Che(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function d$(n){return(e,t)=>{let r=!1;for(const i of fw(n)){const s=The(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function The(n,e,t){const r=n.field.isKeyField()?Rt.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?n1(l,c):$t()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gg(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return e$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const khe=new Mr(Rt.comparator);function Id(){return khe}const h$=new Mr(Rt.comparator);function Ly(...n){let e=h$;for(const t of n)e=e.insert(t.key,t);return e}function f$(n){let e=h$;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Np(){return pw()}function p$(){return pw()}function pw(){return new R1(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ihe=new Mr(Rt.comparator),Phe=new ss(Rt.comparator);function fn(...n){let e=Phe;for(const t of n)e=e.add(t);return e}const Rhe=new ss(kn);function Lhe(){return Rhe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:KA(e)?"-0":e}}function m$(n){return{integerValue:""+n}}function g$(n,e){return uhe(e)?m$(e):t3(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this._=void 0}}function Dhe(n,e,t){return n instanceof cb?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&XR(s)&&(s=QR(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof ub?y$(n,e):n instanceof db?w$(n,e):function(i,s){const o=v$(i,s),a=hj(o)+hj(i.Pe);return Fk(o)&&Fk(i.Pe)?m$(a):t3(i.serializer,a)}(n,e)}function Mhe(n,e,t){return n instanceof ub?y$(n,e):n instanceof db?w$(n,e):t}function v$(n,e){return n instanceof hb?function(r){return Fk(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class cb extends NS{}class ub extends NS{constructor(e){super(),this.elements=e}}function y$(n,e){const t=b$(e);for(const r of n.elements)t.some(i=>eu(i,r))||t.push(r);return{arrayValue:{values:t}}}class db extends NS{constructor(e){super(),this.elements=e}}function w$(n,e){let t=b$(e);for(const r of n.elements)t=t.filter(i=>!eu(i,r));return{arrayValue:{values:t}}}class hb extends NS{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function hj(n){return Qr(n.integerValue||n.doubleValue)}function b$(n){return JR(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(e,t){this.field=e,this.transform=t}}function jhe(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ub&&i instanceof ub||r instanceof db&&i instanceof db?t1(r.elements,i.elements,eu):r instanceof hb&&i instanceof hb?eu(r.Pe,i.Pe):r instanceof cb&&i instanceof cb}(n.transform,e.transform)}class Ohe{constructor(e,t){this.version=e,this.transformResults=t}}class Js{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Js}static exists(e){return new Js(void 0,e)}static updateTime(e){return new Js(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function f5(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class CS{}function _$(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new TS(n.key,Js.none()):new sx(n.key,n.data,Js.none());{const t=n.data,r=Ao.empty();let i=new ss(rs.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new zf(n.key,r,new da(i.toArray()),Js.none())}}function Fhe(n,e,t){n instanceof sx?function(i,s,o){const a=i.value.clone(),l=pj(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof zf?function(i,s,o){if(!f5(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=pj(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(A$(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function mw(n,e,t,r){return n instanceof sx?function(s,o,a,l){if(!f5(s.precondition,o))return a;const c=s.value.clone(),u=mj(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof zf?function(s,o,a,l){if(!f5(s.precondition,o))return a;const c=mj(s.fieldTransforms,l,o),u=o.data;return u.setAll(A$(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(s,o,a){return f5(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function Bhe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=v$(r.transform,i||null);s!=null&&(t===null&&(t=Ao.empty()),t.set(r.field,s))}return t||null}function fj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&t1(r,i,(s,o)=>jhe(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sx extends CS{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zf extends CS{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function A$(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function pj(n,e,t){const r=new Map;qn(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Mhe(o,a,t[i]))}return r}function mj(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Dhe(s,o,e))}return r}class TS extends CS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uhe extends CS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vhe{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Fhe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=mw(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=mw(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=p$();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=_$(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Gt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fn())}isEqual(e){return this.batchId===e.batchId&&t1(this.mutations,e.mutations,(t,r)=>fj(t,r))&&t1(this.baseMutations,e.baseMutations,(t,r)=>fj(t,r))}}class n3{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){qn(e.mutations.length===r.length);let i=function(){return Ihe}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n3(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zhe{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $he{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li,_n;function Hhe(n){switch(n){default:return $t();case Be.CANCELLED:case Be.UNKNOWN:case Be.DEADLINE_EXCEEDED:case Be.RESOURCE_EXHAUSTED:case Be.INTERNAL:case Be.UNAVAILABLE:case Be.UNAUTHENTICATED:return!1;case Be.INVALID_ARGUMENT:case Be.NOT_FOUND:case Be.ALREADY_EXISTS:case Be.PERMISSION_DENIED:case Be.FAILED_PRECONDITION:case Be.ABORTED:case Be.OUT_OF_RANGE:case Be.UNIMPLEMENTED:case Be.DATA_LOSS:return!0}}function E$(n){if(n===void 0)return kd("GRPC error has no .code"),Be.UNKNOWN;switch(n){case li.OK:return Be.OK;case li.CANCELLED:return Be.CANCELLED;case li.UNKNOWN:return Be.UNKNOWN;case li.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case li.INTERNAL:return Be.INTERNAL;case li.UNAVAILABLE:return Be.UNAVAILABLE;case li.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case li.NOT_FOUND:return Be.NOT_FOUND;case li.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case li.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case li.ABORTED:return Be.ABORTED;case li.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case li.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case li.DATA_LOSS:return Be.DATA_LOSS;default:return $t()}}(_n=li||(li={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qhe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Whe=new Mm([4294967295,4294967295],0);function gj(n){const e=qhe().encode(n),t=new Wz;return t.update(e),new Uint8Array(t.digest())}function vj(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Mm([t,r],0),new Mm([i,s],0)]}class r3{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Dy(`Invalid padding: ${t}`);if(r<0)throw new Dy(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dy(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Dy(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Mm.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Mm.fromNumber(r)));return i.compare(Whe)===1&&(i=new Mm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=gj(e),[r,i]=vj(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new r3(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const t=gj(e),[r,i]=vj(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Dy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ox.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new kS(Gt.min(),i,new Mr(kn),Id(),fn())}}class ox{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ox(r,t,fn(),fn(),fn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class S${constructor(e,t){this.targetId=e,this.me=t}}class N${constructor(e,t,r=ls.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class yj{constructor(){this.fe=0,this.ge=bj(),this.pe=ls.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fn(),t=fn(),r=fn();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$t()}}),new ox(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=bj()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ghe{constructor(e){this.Le=e,this.Be=new Map,this.ke=Id(),this.qe=wj(),this.Qe=new Mr(kn)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:$t()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const s=i.target;if(Uk(s))if(r===0){const o=new Rt(s.path);this.Ue(t,o,Is.newNoDocument(o,Gt.min()))}else qn(r===1);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Qm(r).toUint8Array()}catch(l){if(l instanceof t$)return e1("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new r3(o,i,s)}catch(l){return e1(l instanceof Dy?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Uk(a.target)){const l=new Rt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Is.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=fn();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new kS(e,t,this.Qe,this.ke,r);return this.ke=Id(),this.qe=wj(),this.Qe=new Mr(kn),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new yj,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ss(kn),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||vt("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yj),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function wj(){return new Mr(Rt.comparator)}function bj(){return new Mr(Rt.comparator)}const Khe={asc:"ASCENDING",desc:"DESCENDING"},Yhe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xhe={and:"AND",or:"OR"};class Qhe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zk(n,e){return n.useProto3Json||_S(e)?e:{value:e}}function QA(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C$(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Jhe(n,e){return QA(n,e.toTimestamp())}function Xc(n){return qn(!!n),Gt.fromTimestamp(function(t){const r=kf(t);return new Ci(r.seconds,r.nanos)}(n))}function i3(n,e){return $k(n,e).canonicalString()}function $k(n,e){const t=function(i){return new hr(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function T$(n){const e=hr.fromString(n);return qn(L$(e)),e}function Hk(n,e){return i3(n.databaseId,e.path)}function bC(n,e){const t=T$(e);if(t.get(1)!==n.databaseId.projectId)throw new ot(Be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ot(Be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Rt(I$(t))}function k$(n,e){return i3(n.databaseId,e)}function Zhe(n){const e=T$(n);return e.length===4?hr.emptyPath():I$(e)}function qk(n){return new hr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function I$(n){return qn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function xj(n,e,t){return{name:Hk(n,e),fields:t.value.mapValue.fields}}function efe(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:$t()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(qn(u===void 0||typeof u=="string"),ls.fromBase64String(u||"")):(qn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),ls.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Be.UNKNOWN:E$(c.code);return new ot(u,c.message||"")}(o);t=new N$(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=bC(n,r.document.name),s=Xc(r.document.updateTime),o=r.document.createTime?Xc(r.document.createTime):Gt.min(),a=new Ao({mapValue:{fields:r.document.fields}}),l=Is.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new p5(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=bC(n,r.document),s=r.readTime?Xc(r.readTime):Gt.min(),o=Is.newNoDocument(i,s),a=r.removedTargetIds||[];t=new p5([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=bC(n,r.document),s=r.removedTargetIds||[];t=new p5([],s,i,null)}else{if(!("filter"in e))return $t();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new $he(i,s),a=r.targetId;t=new S$(a,o)}}return t}function tfe(n,e){let t;if(e instanceof sx)t={update:xj(n,e.key,e.value)};else if(e instanceof TS)t={delete:Hk(n,e.key)};else if(e instanceof zf)t={update:xj(n,e.key,e.data),updateMask:ufe(e.fieldMask)};else{if(!(e instanceof Uhe))return $t();t={verify:Hk(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof cb)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ub)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof db)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hb)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw $t()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Jhe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:$t()}(n,e.precondition)),t}function nfe(n,e){return n&&n.length>0?(qn(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?Xc(i.updateTime):Xc(s);return o.isEqual(Gt.min())&&(o=Xc(s)),new Ohe(o,i.transformResults||[])}(t,e))):[]}function rfe(n,e){return{documents:[k$(n,e.path)]}}function ife(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=k$(n,i);const s=function(c){if(c.length!==0)return R$(Gl.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:$g(p.field),direction:afe(p.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=zk(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i}}function sfe(n){let e=Zhe(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){qn(r===1);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){const p=P$(h);return p instanceof Gl&&s$(p)?p.getFilters():[p]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(p=>function(w){return new lb(Hg(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(t.orderBy));let a=null;t.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,_S(p)?null:p}(t.limit));let l=null;t.startAt&&(l=function(h){const p=!!h.before,f=h.values||[];return new YA(f,p)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const p=!h.before,f=h.values||[];return new YA(f,p)}(t.endAt)),She(e,i,o,s,a,"F",l,c)}function ofe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $t()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function P$(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Hg(t.unaryFilter.field);return hi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hg(t.unaryFilter.field);return hi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hg(t.unaryFilter.field);return hi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hg(t.unaryFilter.field);return hi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $t()}}(n):n.fieldFilter!==void 0?function(t){return hi.create(Hg(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $t()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Gl.create(t.compositeFilter.filters.map(r=>P$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $t()}}(t.compositeFilter.op))}(n):$t()}function afe(n){return Khe[n]}function lfe(n){return Yhe[n]}function cfe(n){return Xhe[n]}function $g(n){return{fieldPath:n.canonicalString()}}function Hg(n){return rs.fromServerFormat(n.fieldPath)}function R$(n){return n instanceof hi?function(t){if(t.op==="=="){if(aj(t.value))return{unaryFilter:{field:$g(t.field),op:"IS_NAN"}};if(oj(t.value))return{unaryFilter:{field:$g(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(aj(t.value))return{unaryFilter:{field:$g(t.field),op:"IS_NOT_NAN"}};if(oj(t.value))return{unaryFilter:{field:$g(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$g(t.field),op:lfe(t.op),value:t.value}}}(n):n instanceof Gl?function(t){const r=t.getFilters().map(i=>R$(i));return r.length===1?r[0]:{compositeFilter:{op:cfe(t.op),filters:r}}}(n):$t()}function ufe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function L$(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t,r,i,s=Gt.min(),o=Gt.min(),a=ls.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new rf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dfe{constructor(e){this.ct=e}}function hfe(n){const e=sfe({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?XA(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ffe{constructor(){this.un=new pfe}addToCollectionParentIndex(e,t){return this.un.add(t),ze.resolve()}getCollectionParents(e,t){return ze.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ze.resolve()}deleteFieldIndex(e,t){return ze.resolve()}deleteAllFieldIndexes(e){return ze.resolve()}createTargetIndexes(e,t){return ze.resolve()}getDocumentsMatchingTarget(e,t){return ze.resolve(null)}getIndexType(e,t){return ze.resolve(0)}getFieldIndexes(e,t){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,t){return ze.resolve(Tf.min())}getMinOffsetFromCollectionGroup(e,t){return ze.resolve(Tf.min())}updateCollectionGroup(e,t,r){return ze.resolve()}updateIndexEntries(e,t){return ze.resolve()}}class pfe{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ss(hr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ss(hr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new i1(0)}static kn(){return new i1(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mfe{constructor(){this.changes=new R1(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Is.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ze.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gfe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vfe{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&mw(r.mutation,i,da.empty(),Ci.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fn()){const i=Np();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Ly();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Np();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Id();const o=pw(),a=function(){return pw()}();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof zf)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),mw(u.mutation,c,u.mutation.getFieldMask(),Ci.now())):o.set(c.key,da.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new gfe(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=pw();let i=new Mr((o,a)=>o-a),s=fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||da.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||fn()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=p$();u.forEach(p=>{if(!s.has(p)){const f=_$(t.get(p),r.get(p));f!==null&&h.set(p,f),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ze.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):c$(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ze.resolve(Np());let a=-1,l=s;return o.next(c=>ze.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?ze.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,fn())).next(u=>({batchId:a,changes:f$(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rt(t)).next(r=>{let i=Ly();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Ly();return this.indexManager.getCollectionParents(e,s).next(a=>ze.forEach(a,l=>{const c=function(h,p){return new P1(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Is.newInvalidDocument(u)))});let a=Ly();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&mw(u.mutation,c,da.empty(),Ci.now()),SS(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yfe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ze.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Xc(i.createTime)}}(t)),ze.resolve()}getNamedQuery(e,t){return ze.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:hfe(i.bundledQuery),readTime:Xc(i.readTime)}}(t)),ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wfe{constructor(){this.overlays=new Mr(Rt.comparator),this.Ir=new Map}getOverlay(e,t){return ze.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Np();return ze.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),ze.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ze.resolve()}getOverlaysForCollection(e,t,r){const i=Np(),s=t.length+1,o=new Rt(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ze.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Mr((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Np(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Np(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return ze.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zhe(t,r));let s=this.Ir.get(t);s===void 0&&(s=fn(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bfe{constructor(){this.sessionToken=ls.EMPTY_BYTE_STRING}getSessionToken(e){return ze.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.Tr=new ss(Bi.Er),this.dr=new ss(Bi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Bi(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Bi(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new Rt(new hr([])),r=new Bi(t,e),i=new Bi(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Rt(new hr([])),r=new Bi(t,e),i=new Bi(t,e+1);let s=fn();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Bi(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Bi{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Rt.comparator(e.key,t.key)||kn(e.wr,t.wr)}static Ar(e,t){return kn(e.wr,t.wr)||Rt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xfe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ss(Bi.Er)}checkEmpty(e){return ze.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Vhe(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Bi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ze.resolve(o)}lookupMutationBatch(e,t){return ze.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.vr(r),s=i<0?0:i;return ze.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bi(t,0),i=new Bi(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ze.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ss(kn);return t.forEach(i=>{const s=new Bi(i,0),o=new Bi(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ze.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Rt.isDocumentKey(s)||(s=s.child(""));const o=new Bi(new Rt(s),0);let a=new ss(kn);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),ze.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){qn(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ze.forEach(t.mutations,i=>{const s=new Bi(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new Bi(t,0),i=this.br.firstAfterOrEqual(r);return ze.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ze.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _fe{constructor(e){this.Mr=e,this.docs=function(){return new Mr(Rt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ze.resolve(r?r.document.mutableCopy():Is.newInvalidDocument(t))}getEntries(e,t){let r=Id();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Is.newInvalidDocument(i))}),ze.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Id();const o=t.path,a=new Rt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||ohe(she(u),r)<=0||(i.has(u.key)||SS(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ze.resolve(s)}getAllFromCollectionGroup(e,t,r,i){$t()}Or(e,t){return ze.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Afe(this)}getSize(e){return ze.resolve(this.size)}}class Afe extends mfe{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ze.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Efe{constructor(e){this.persistence=e,this.Nr=new R1(t=>ZR(t),e3),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new s3,this.targetCount=0,this.kr=i1.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),ze.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new i1(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ze.resolve()}updateTargetData(e,t){return this.Kn(t),ze.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ze.waitFor(s).next(()=>i)}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return ze.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),ze.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ze.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ze.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return ze.resolve(r)}containsKey(e,t){return ze.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sfe{constructor(e,t){this.qr={},this.overlays={},this.Qr=new YR(0),this.Kr=!1,this.Kr=!0,this.$r=new bfe,this.referenceDelegate=e(this),this.Ur=new Efe(this),this.indexManager=new ffe,this.remoteDocumentCache=function(i){return new _fe(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new dfe(t),this.Gr=new yfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wfe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new xfe(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){vt("MemoryPersistence","Starting transaction:",e);const i=new Nfe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return ze.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class Nfe extends lhe{constructor(e){super(),this.currentSequenceNumber=e}}class o3{constructor(e){this.persistence=e,this.Jr=new s3,this.Yr=null}static Zr(e){return new o3(e)}get Xr(){if(this.Yr)return this.Yr;throw $t()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),ze.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),ze.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ze.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.Xr,r=>{const i=Rt.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,Gt.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return ze.or([()=>ze.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=fn(),i=fn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new a3(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cfe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tfe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Soe()?8:che(js())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Cfe;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(my()<=yn.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",zg(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ze.resolve()):(my()<=yn.DEBUG&&vt("QueryEngine","Query:",zg(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(my()<=yn.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",zg(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yc(t))):ze.resolve())}Yi(e,t){if(dj(t))return ze.resolve(null);let r=Yc(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=XA(t,null,"F"),r=Yc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=fn(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(t,a);return this.ns(t,c,o,l.readTime)?this.Yi(e,XA(t,null,"F")):this.rs(e,c,t,l)}))})))}Zi(e,t,r,i){return dj(t)||i.isEqual(Gt.min())?ze.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(t,s);return this.ns(t,o,r,i)?ze.resolve(null):(my()<=yn.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zg(t)),this.rs(e,o,t,ihe(i,-1)).next(a=>a))})}ts(e,t){let r=new ss(d$(e));return t.forEach((i,s)=>{SS(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return my()<=yn.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",zg(t)),this.Ji.getDocumentsMatchingQuery(e,t,Tf.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kfe{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Mr(kn),this._s=new R1(s=>ZR(s),e3),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vfe(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Ife(n,e,t,r){return new kfe(n,e,t,r)}async function D$(n,e){const t=Kt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=fn();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Pfe(n,e){const t=Kt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,p=h.keys();let f=ze.resolve();return p.forEach(w=>{f=f.next(()=>u.getEntry(l,w)).next(y=>{const _=c.docVersions.get(w);qn(_!==null),y.version.compareTo(_)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=fn();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function M$(n){const e=Kt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Rfe(n,e){const t=Kt(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((u,h)=>{const p=i.get(h);if(!p)return;a.push(t.Ur.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.Ur.addMatchingKeys(s,u.addedDocuments,h)));let f=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(ls.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(h,f),function(y,_,b){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,f,u)&&a.push(t.Ur.updateTargetData(s,f))});let l=Id(),c=fn();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Lfe(s,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Gt.min())){const u=t.Ur.getLastRemoteSnapshotVersion(s).next(h=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return ze.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.os=i,s))}function Lfe(n,e,t){let r=fn(),i=fn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Id();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Gt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):vt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Dfe(n,e){const t=Kt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Mfe(n,e){const t=Kt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,ze.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new rf(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}async function Wk(n,e,t){const r=Kt(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ix(o))throw o;vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function _j(n,e,t){const r=Kt(n);let i=Gt.min(),s=fn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Kt(l),p=h._s.get(u);return p!==void 0?ze.resolve(h.os.get(p)):h.Ur.getTargetData(c,u)}(r,o,Yc(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:Gt.min(),t?s:fn())).next(a=>(jfe(r,Che(e),a),{documents:a,Ts:s})))}function jfe(n,e,t){let r=n.us.get(e)||Gt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}class Aj{constructor(){this.activeTargetIds=Lhe()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ofe{constructor(){this.so=new Aj,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Aj,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ffe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x_=null;function xC(){return x_===null?x_=function(){return 268435456+Math.round(2147483648*Math.random())}():x_++,"0x"+x_.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ufe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="WebChannelConnection";class Vfe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){const a=xC(),l=this.xo(t,r.toUriEncodedString());vt("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(t,l,c,i).then(u=>(vt("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw e1("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+I1}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){const i=Bfe[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const s=xC();return new Promise((o,a)=>{const l=new Gz;l.setWithCredentials(!0),l.listenOnce(Kz.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case d5.NO_ERROR:const u=l.getResponseJson();vt(ms,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case d5.TIMEOUT:vt(ms,`RPC '${e}' ${s} timed out`),a(new ot(Be.DEADLINE_EXCEEDED,"Request time out"));break;case d5.HTTP_ERROR:const h=l.getStatus();if(vt(ms,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const f=p==null?void 0:p.error;if(f&&f.status&&f.message){const w=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(b)>=0?b:Be.UNKNOWN}(f.status);a(new ot(w,f.message))}else a(new ot(Be.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ot(Be.UNAVAILABLE,"Connection failed."));break;default:$t()}}finally{vt(ms,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);vt(ms,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Bo(e,t,r){const i=xC(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Qz(),a=Xz(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");vt(ms,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let p=!1,f=!1;const w=new Ufe({Io:_=>{f?vt(ms,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(p||(vt(ms,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),vt(ms,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},To:()=>h.close()}),y=(_,b,A)=>{_.listen(b,E=>{try{A(E)}catch(N){setTimeout(()=>{throw N},0)}})};return y(h,Ry.EventType.OPEN,()=>{f||(vt(ms,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),y(h,Ry.EventType.CLOSE,()=>{f||(f=!0,vt(ms,`RPC '${e}' stream ${i} transport closed`),w.So())}),y(h,Ry.EventType.ERROR,_=>{f||(f=!0,e1(ms,`RPC '${e}' stream ${i} transport errored:`,_),w.So(new ot(Be.UNAVAILABLE,"The operation could not be completed")))}),y(h,Ry.EventType.MESSAGE,_=>{var b;if(!f){const A=_.data[0];qn(!!A);const E=A,N=E.error||((b=E[0])===null||b===void 0?void 0:b.error);if(N){vt(ms,`RPC '${e}' stream ${i} received error:`,N);const F=N.status;let V=function(k){const j=li[k];if(j!==void 0)return E$(j)}(F),L=N.message;V===void 0&&(V=Be.INTERNAL,L="Unknown error status: "+F+" with message "+N.message),f=!0,w.So(new ot(V,L)),h.close()}else vt(ms,`RPC '${e}' stream ${i} received:`,A),w.bo(A)}}),y(a,Yz.STAT_EVENT,_=>{_.stat===jk.PROXY?vt(ms,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===jk.NOPROXY&&vt(ms,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function _C(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(n){return new Qhe(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&vt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e,t,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new j$(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Be.RESOURCE_EXHAUSTED?(kd(t.toString()),kd("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{const i=new ot(Be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zfe extends O${constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=efe(this.serializer,e),r=function(s){if(!("targetChange"in s))return Gt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Gt.min():o.readTime?Xc(o.readTime):Gt.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=qk(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=Uk(l)?{documents:rfe(s,l)}:{query:ife(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=C$(s,o.resumeToken);const c=zk(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Gt.min())>0){a.readTime=QA(s,o.snapshotVersion.toTimestamp());const c=zk(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=ofe(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=qk(this.serializer),t.removeTarget=e,this.a_(t)}}class $fe extends O${constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return qn(!!e.streamToken),this.lastStreamToken=e.streamToken,qn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=nfe(e.writeResults,e.commitTime),r=Xc(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=qk(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>tfe(this.serializer,r))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hfe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ot(Be.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,$k(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ot(Be.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,$k(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ot(Be.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class qfe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(kd(t),this.D_=!1):vt("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wfe{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{vg(this)&&(vt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Kt(l);c.L_.add(4),await ax(c),c.q_.set("Unknown"),c.L_.delete(4),await PS(c)}(this))})}),this.q_=new qfe(r,i)}}async function PS(n){if(vg(n))for(const e of n.B_)await e(!0)}async function ax(n){for(const e of n.B_)await e(!1)}function F$(n,e){const t=Kt(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),d3(t)?u3(t):L1(t).r_()&&c3(t,e))}function l3(n,e){const t=Kt(n),r=L1(t);t.N_.delete(e),r.r_()&&B$(t,e),t.N_.size===0&&(r.r_()?r.o_():vg(t)&&t.q_.set("Unknown"))}function c3(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}L1(n).A_(e)}function B$(n,e){n.Q_.xe(e),L1(n).R_(e)}function u3(n){n.Q_=new Ghe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),L1(n).start(),n.q_.v_()}function d3(n){return vg(n)&&!L1(n).n_()&&n.N_.size>0}function vg(n){return Kt(n).L_.size===0}function U$(n){n.Q_=void 0}async function Gfe(n){n.q_.set("Online")}async function Kfe(n){n.N_.forEach((e,t)=>{c3(n,e)})}async function Yfe(n,e){U$(n),d3(n)?(n.q_.M_(e),u3(n)):n.q_.set("Unknown")}async function Xfe(n,e,t){if(n.q_.set("Online"),e instanceof N$&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(n,e)}catch(r){vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await JA(n,r)}else if(e instanceof p5?n.Q_.Ke(e):e instanceof S$?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Gt.min()))try{const r=await M$(n.localStore);t.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(ls.EMPTY_BYTE_STRING,u.snapshotVersion)),B$(s,l);const h=new rf(u.target,l,c,u.sequenceNumber);c3(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){vt("RemoteStore","Failed to raise snapshot:",r),await JA(n,r)}}async function JA(n,e,t){if(!ix(e))throw e;n.L_.add(1),await ax(n),n.q_.set("Offline"),t||(t=()=>M$(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{vt("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await PS(n)})}function V$(n,e){return e().catch(t=>JA(n,t,e))}async function RS(n){const e=Kt(n),t=If(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Qfe(e);)try{const i=await Dfe(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,Jfe(e,i)}catch(i){await JA(e,i)}z$(e)&&$$(e)}function Qfe(n){return vg(n)&&n.O_.length<10}function Jfe(n,e){n.O_.push(e);const t=If(n);t.r_()&&t.V_&&t.m_(e.mutations)}function z$(n){return vg(n)&&!If(n).n_()&&n.O_.length>0}function $$(n){If(n).start()}async function Zfe(n){If(n).p_()}async function epe(n){const e=If(n);for(const t of n.O_)e.m_(t.mutations)}async function tpe(n,e,t){const r=n.O_.shift(),i=n3.from(r,e,t);await V$(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await RS(n)}async function npe(n,e){e&&If(n).V_&&await async function(r,i){if(function(o){return Hhe(o)&&o!==Be.ABORTED}(i.code)){const s=r.O_.shift();If(r).s_(),await V$(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await RS(r)}}(n,e),z$(n)&&$$(n)}async function Sj(n,e){const t=Kt(n);t.asyncQueue.verifyOperationInProgress(),vt("RemoteStore","RemoteStore received new credentials");const r=vg(t);t.L_.add(3),await ax(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await PS(t)}async function rpe(n,e){const t=Kt(n);e?(t.L_.delete(2),await PS(t)):e||(t.L_.add(2),await ax(t),t.q_.set("Unknown"))}function L1(n){return n.K_||(n.K_=function(t,r,i){const s=Kt(t);return s.w_(),new zfe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Gfe.bind(null,n),Ro:Kfe.bind(null,n),mo:Yfe.bind(null,n),d_:Xfe.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),d3(n)?u3(n):n.q_.set("Unknown")):(await n.K_.stop(),U$(n))})),n.K_}function If(n){return n.U_||(n.U_=function(t,r,i){const s=Kt(t);return s.w_(),new $fe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Zfe.bind(null,n),mo:npe.bind(null,n),f_:epe.bind(null,n),g_:tpe.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await RS(n)):(await n.U_.stop(),n.O_.length>0&&(vt("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new md,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new h3(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f3(n,e){if(kd("AsyncQueue",`${e}: ${n}`),ix(n))return new ot(Be.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Rt.comparator(t.key,r.key):(t,r)=>Rt.comparator(t.key,r.key),this.keyedMap=Ly(),this.sortedSet=new Mr(this.comparator)}static emptySet(e){return new k0(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof k0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new k0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.W_=new Mr(Rt.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):$t():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class s1{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new s1(e,t,k0.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ES(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ipe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class spe{constructor(){this.queries=Cj(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const i=Kt(t),s=i.queries;i.queries=Cj(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ot(Be.ABORTED,"Firestore shutting down"))}}function Cj(){return new R1(n=>u$(n),ES)}async function p3(n,e){const t=Kt(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new ipe,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await t.onListen(i,!0);break;case 1:s.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=f3(o,`Initialization of query '${zg(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&g3(t)}async function m3(n,e){const t=Kt(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function ope(n,e){const t=Kt(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&g3(t)}function ape(n,e,t){const r=Kt(n),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(t);r.queries.delete(e)}function g3(n){n.Y_.forEach(e=>{e.next()})}var Gk,Tj;(Tj=Gk||(Gk={})).ea="default",Tj.Cache="cache";class v3{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new s1(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=s1.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Gk.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e){this.key=e}}class q${constructor(e){this.key=e}}class lpe{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fn(),this.mutatedKeys=fn(),this.Aa=d$(e),this.Ra=new k0(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new Nj,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const p=i.get(u),f=SS(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;p&&f?p.data.isEqual(f.data)?w!==y&&(r.track({type:3,doc:f}),_=!0):this.ga(p,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.Aa(f,l)>0||c&&this.Aa(f,c)<0)&&(a=!0)):!p&&f?(r.track({type:0,doc:f}),_=!0):p&&!f&&(r.track({type:1,doc:p}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,h)=>function(f,w){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t()}};return y(f)-y(w)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new s1(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Nj,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=fn(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new q$(r))}),this.da.forEach(r=>{e.has(r)||t.push(new H$(r))}),t}ba(e){this.Ta=e.Ts,this.da=fn();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return s1.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class cpe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class upe{constructor(e){this.key=e,this.va=!1}}class dpe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new R1(a=>u$(a),ES),this.Ma=new Map,this.xa=new Set,this.Oa=new Mr(Rt.comparator),this.Na=new Map,this.La=new s3,this.Ba={},this.ka=new Map,this.qa=i1.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function hpe(n,e,t=!0){const r=Q$(n);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await W$(r,e,t,!0),i}async function fpe(n,e){const t=Q$(n);await W$(t,e,!0,!1)}async function W$(n,e,t,r){const i=await Mfe(n.localStore,Yc(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await ppe(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&F$(n.remoteStore,i),a}async function ppe(n,e,t,r,i){n.Ka=(h,p,f)=>async function(y,_,b,A){let E=_.view.ma(b);E.ns&&(E=await _j(y.localStore,_.query,!1).then(({documents:L})=>_.view.ma(L,E)));const N=A&&A.targetChanges.get(_.targetId),F=A&&A.targetMismatches.get(_.targetId)!=null,V=_.view.applyChanges(E,y.isPrimaryClient,N,F);return Ij(y,_.targetId,V.wa),V.snapshot}(n,h,p,f);const s=await _j(n.localStore,e,!0),o=new lpe(e,s.Ts),a=o.ma(s.documents),l=ox.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);Ij(n,t,c.wa);const u=new cpe(e,t,o);return n.Fa.set(e,u),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot}async function mpe(n,e,t){const r=Kt(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!ES(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Wk(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&l3(r.remoteStore,i.targetId),Kk(r,i.targetId)}).catch(rx)):(Kk(r,i.targetId),await Wk(r.localStore,i.targetId,!0))}async function gpe(n,e){const t=Kt(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),l3(t.remoteStore,r.targetId))}async function vpe(n,e,t){const r=Epe(n);try{const i=await function(o,a){const l=Kt(o),c=Ci.now(),u=a.reduce((f,w)=>f.add(w.key),fn());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let w=Id(),y=fn();return l.cs.getEntries(f,u).next(_=>{w=_,w.forEach((b,A)=>{A.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,w)).next(_=>{h=_;const b=[];for(const A of a){const E=Bhe(A,h.get(A.key).overlayedDocument);E!=null&&b.push(new zf(A.key,E,n$(E.value.mapValue),Js.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,b,a)}).next(_=>{p=_;const b=_.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(f,_.batchId,b)})}).then(()=>({batchId:p.batchId,changes:f$(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Mr(kn)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,t),await lx(r,i.changes),await RS(r.remoteStore)}catch(i){const s=f3(i,"Failed to persist write");t.reject(s)}}async function G$(n,e){const t=Kt(n);try{const r=await Rfe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Na.get(s);o&&(qn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?qn(o.va):i.removedDocuments.size>0&&(qn(o.va),o.va=!1))}),await lx(t,r,e)}catch(r){await rx(r)}}function kj(n,e,t){const r=Kt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Kt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&g3(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ype(n,e,t){const r=Kt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Mr(Rt.comparator);o=o.insert(s,Is.newNoDocument(s,Gt.min()));const a=fn().add(s),l=new kS(Gt.min(),new Map,new Mr(kn),o,a);await G$(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),y3(r)}else await Wk(r.localStore,e,!1).then(()=>Kk(r,e,t)).catch(rx)}async function wpe(n,e){const t=Kt(n),r=e.batch.batchId;try{const i=await Pfe(t.localStore,e);Y$(t,r,null),K$(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await lx(t,i)}catch(i){await rx(i)}}async function bpe(n,e,t){const r=Kt(n);try{const i=await function(o,a){const l=Kt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(qn(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);Y$(r,e,t),K$(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await lx(r,i)}catch(i){await rx(i)}}function K$(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function Y$(n,e,t){const r=Kt(n);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Kk(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||X$(n,r)})}function X$(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(l3(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),y3(n))}function Ij(n,e,t){for(const r of t)r instanceof H$?(n.La.addReference(r.key,e),xpe(n,r)):r instanceof q$?(vt("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||X$(n,r.key)):$t()}function xpe(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(vt("SyncEngine","New document in limbo: "+t),n.xa.add(r),y3(n))}function y3(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Rt(hr.fromString(e)),r=n.qa.next();n.Na.set(r,new upe(t)),n.Oa=n.Oa.insert(t,r),F$(n.remoteStore,new rf(Yc(AS(t.path)),r,"TargetPurposeLimboResolution",YR.oe))}}async function lx(n,e,t){const r=Kt(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=a3.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const u=Kt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ze.forEach(c,p=>ze.forEach(p.$i,f=>u.persistence.referenceDelegate.addReference(h,p.targetId,f)).next(()=>ze.forEach(p.Ui,f=>u.persistence.referenceDelegate.removeReference(h,p.targetId,f)))))}catch(h){if(!ix(h))throw h;vt("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const f=u.os.get(p),w=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(w);u.os=u.os.insert(p,y)}}}(r.localStore,s))}async function _pe(n,e){const t=Kt(n);if(!t.currentUser.isEqual(e)){vt("SyncEngine","User change. New user:",e.toKey());const r=await D$(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ot(Be.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lx(t,r.hs)}}function Ape(n,e){const t=Kt(n),r=t.Na.get(e);if(r&&r.va)return fn().add(r.key);{let i=fn();const s=t.Ma.get(e);if(!s)return i;for(const o of s){const a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function Q$(n){const e=Kt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=G$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ape.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ype.bind(null,e),e.Ca.d_=ope.bind(null,e.eventManager),e.Ca.$a=ape.bind(null,e.eventManager),e}function Epe(n){const e=Kt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wpe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bpe.bind(null,e),e}class ZA{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=IS(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Ife(this.persistence,new Tfe,e.initialUser,this.serializer)}Ga(e){return new Sfe(o3.Zr,this.serializer)}Wa(e){return new Ofe}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ZA.provider={build:()=>new ZA};class Yk{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kj(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_pe.bind(null,this.syncEngine),await rpe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new spe}()}createDatastore(e){const t=IS(e.databaseInfo.databaseId),r=function(s){return new Vfe(s)}(e.databaseInfo);return function(s,o,a,l){return new Hfe(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new Wfe(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>kj(this.syncEngine,t,0),function(){return Ej.D()?new Ej:new Ffe}())}createSyncEngine(e,t){return function(i,s,o,a,l,c,u){const h=new dpe(i,s,o,a,l,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Kt(i);vt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await ax(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Yk.provider={build:()=>new Yk};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):kd("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Spe{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Cs.UNAUTHENTICATED,this.clientId=Zz.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{vt("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(vt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new md;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=f3(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function AC(n,e){n.asyncQueue.verifyOperationInProgress(),vt("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await D$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Pj(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Npe(n);vt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Sj(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Sj(e.remoteStore,i)),n._onlineComponents=e}async function Npe(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){vt("FirestoreClient","Using user provided OfflineComponentProvider");try{await AC(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Be.FAILED_PRECONDITION||i.code===Be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;e1("Error using user provided cache. Falling back to memory cache: "+t),await AC(n,new ZA)}}else vt("FirestoreClient","Using default OfflineComponentProvider"),await AC(n,new ZA);return n._offlineComponents}async function J$(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(vt("FirestoreClient","Using user provided OnlineComponentProvider"),await Pj(n,n._uninitializedComponentsProvider._online)):(vt("FirestoreClient","Using default OnlineComponentProvider"),await Pj(n,new Yk))),n._onlineComponents}function Cpe(n){return J$(n).then(e=>e.syncEngine)}async function eE(n){const e=await J$(n),t=e.eventManager;return t.onListen=hpe.bind(null,e.syncEngine),t.onUnlisten=mpe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fpe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gpe.bind(null,e.syncEngine),t}function Tpe(n,e,t={}){const r=new md;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new w3({next:p=>{u.Za(),o.enqueueAndForget(()=>m3(s,h));const f=p.docs.has(a);!f&&p.fromCache?c.reject(new ot(Be.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&p.fromCache&&l&&l.source==="server"?c.reject(new ot(Be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new v3(AS(a.path),u,{includeMetadataChanges:!0,_a:!0});return p3(s,h)}(await eE(n),n.asyncQueue,e,t,r)),r.promise}function kpe(n,e,t={}){const r=new md;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new w3({next:p=>{u.Za(),o.enqueueAndForget(()=>m3(s,h)),p.fromCache&&l.source==="server"?c.reject(new ot(Be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new v3(a,u,{includeMetadataChanges:!0,_a:!0});return p3(s,h)}(await eE(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(n,e,t){if(!t)throw new ot(Be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Ipe(n,e,t,r){if(e===!0&&r===!0)throw new ot(Be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Lj(n){if(!Rt.isDocumentKey(n))throw new ot(Be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Dj(n){if(Rt.isDocumentKey(n))throw new ot(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function LS(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$t()}function Zs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ot(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=LS(n);throw new ot(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ot(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ipe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z$((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class DS{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mj({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mj(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Yde;switch(r.type){case"firstParty":return new Zde(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Rj.get(t);r&&(vt("ComponentProvider","Removing Datastore"),Rj.delete(t),r.terminate())}(this),Promise.resolve()}}function Ppe(n,e,t,r={}){var i;const s=(n=Zs(n,DS))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&e1("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Cs.MOCK_USER;else{a=woe(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ot(Be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Cs(c)}n._authCredentials=new Xde(new Jz(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Md(this.firestore,e,this._query)}}class Ds{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ds(this.firestore,e,this._key)}}class bf extends Md{constructor(e,t,r){super(e,t,AS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ds(this.firestore,null,new Rt(e))}withConverter(e){return new bf(this.firestore,e,this._path)}}function EC(n,e,...t){if(n=Xn(n),eH("collection","path",e),n instanceof DS){const r=hr.fromString(e,...t);return Dj(r),new bf(n,null,r)}{if(!(n instanceof Ds||n instanceof bf))throw new ot(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hr.fromString(e,...t));return Dj(r),new bf(n.firestore,null,r)}}function sf(n,e,...t){if(n=Xn(n),arguments.length===1&&(e=Zz.newId()),eH("doc","path",e),n instanceof DS){const r=hr.fromString(e,...t);return Lj(r),new Ds(n,null,new Rt(r))}{if(!(n instanceof Ds||n instanceof bf))throw new ot(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hr.fromString(e,...t));return Lj(r),new Ds(n.firestore,n instanceof bf?n.converter:null,new Rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new j$(this,"async_queue_retry"),this.Vu=()=>{const r=_C();r&&vt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=_C();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=_C();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new md;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ix(e))throw e;vt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw kd("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=h3.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&$t()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Oj(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class tu extends DS{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new jj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jj(e),this._firestoreClient=void 0,await e}}}function Rpe(n,e){const t=typeof n=="object"?n:gS(),r=typeof n=="string"?n:"(default)",i=Vf(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=kV("firestore");s&&Ppe(i,...s)}return i}function cx(n){if(n._terminated)throw new ot(Be.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Lpe(n),n._firestoreClient}function Lpe(n){var e,t,r;const i=n._freezeSettings(),s=function(a,l,c,u){return new hhe(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Z$(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Spe(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this._byteString=e}static fromBase64String(e){try{return new o1(ls.fromBase64String(e))}catch(t){throw new ot(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new o1(ls.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ot(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ot(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ot(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kn(this._lat,e._lat)||kn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dpe=/^__.*__$/;class Mpe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new zf(e,this.data,this.fieldMask,t,this.fieldTransforms):new sx(e,this.data,t,this.fieldTransforms)}}class tH{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nH(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t()}}class _3{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _3(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return tE(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(nH(this.Cu)&&Dpe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class jpe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||IS(e)}Qu(e,t,r,i=!1){return new _3({Cu:e,methodName:t,qu:r,path:rs.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hx(n){const e=n._freezeSettings(),t=IS(n._databaseId);return new jpe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function A3(n,e,t,r,i,s={}){const o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);N3("Data must be an object, but it was:",o,r);const a=sH(r,o);let l,c;if(s.merge)l=new da(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const p=Xk(e,h,t);if(!o.contains(p))throw new ot(Be.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);aH(u,p)||u.push(p)}l=new da(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Mpe(new Ao(a),l,c)}class MS extends dx{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof MS}}class E3 extends dx{_toFieldTransform(e){return new x$(e.path,new cb)}isEqual(e){return e instanceof E3}}class S3 extends dx{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new hb(e.serializer,g$(e.serializer,this.$u));return new x$(e.path,t)}isEqual(e){return e instanceof S3&&this.$u===e.$u}}function rH(n,e,t,r){const i=n.Qu(1,e,t);N3("Data must be an object, but it was:",i,r);const s=[],o=Ao.empty();gg(r,(l,c)=>{const u=C3(e,l,t);c=Xn(c);const h=i.Nu(u);if(c instanceof MS)s.push(u);else{const p=fx(c,h);p!=null&&(s.push(u),o.set(u,p))}});const a=new da(s);return new tH(o,a,i.fieldTransforms)}function iH(n,e,t,r,i,s){const o=n.Qu(1,e,t),a=[Xk(e,r,t)],l=[i];if(s.length%2!=0)throw new ot(Be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Xk(e,s[p])),l.push(s[p+1]);const c=[],u=Ao.empty();for(let p=a.length-1;p>=0;--p)if(!aH(c,a[p])){const f=a[p];let w=l[p];w=Xn(w);const y=o.Nu(f);if(w instanceof MS)c.push(f);else{const _=fx(w,y);_!=null&&(c.push(f),u.set(f,_))}}const h=new da(c);return new tH(u,h,o.fieldTransforms)}function Ope(n,e,t,r=!1){return fx(t,n.Qu(r?4:3,e))}function fx(n,e){if(oH(n=Xn(n)))return N3("Unsupported field value:",e,n),sH(n,e);if(n instanceof dx)return function(r,i){if(!nH(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=fx(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return g$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ci.fromDate(r);return{timestampValue:QA(i.serializer,s)}}if(r instanceof Ci){const s=new Ci(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:QA(i.serializer,s)}}if(r instanceof b3)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof o1)return{bytesValue:C$(i.serializer,r._byteString)};if(r instanceof Ds){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:i3(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof x3)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return t3(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${LS(r)}`)}(n,e)}function sH(n,e){const t={};return e$(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gg(n,(r,i)=>{const s=fx(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function oH(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ci||n instanceof b3||n instanceof o1||n instanceof Ds||n instanceof dx||n instanceof x3)}function N3(n,e,t){if(!oH(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=LS(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function Xk(n,e,t){if((e=Xn(e))instanceof ux)return e._internalPath;if(typeof e=="string")return C3(n,e);throw tE("Field path arguments must be of type string or ",n,!1,void 0,t)}const Fpe=new RegExp("[~\\*/\\[\\]]");function C3(n,e,t){if(e.search(Fpe)>=0)throw tE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ux(...e.split("."))._internalPath}catch{throw tE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tE(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ot(Be.INVALID_ARGUMENT,a+n+l)}function aH(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ds(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Bpe extends lH{data(){return super.data()}}function jS(n,e){return typeof e=="string"?C3(n,e):e instanceof ux?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cH(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ot(Be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class T3{}class k3 extends T3{}function Fj(n,e,...t){let r=[];e instanceof T3&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof I3).length,a=s.filter(l=>l instanceof OS).length;if(o>1||o>0&&a>0)throw new ot(Be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class OS extends k3{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new OS(e,t,r)}_apply(e){const t=this._parse(e);return uH(e._query,t),new Md(e.firestore,e.converter,Vk(e._query,t))}_parse(e){const t=hx(e.firestore);return function(s,o,a,l,c,u,h){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ot(Be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){zj(h,u);const f=[];for(const w of h)f.push(Vj(l,s,w));p={arrayValue:{values:f}}}else p=Vj(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||zj(h,u),p=Ope(a,o,h,u==="in"||u==="not-in");return hi.create(c,u,p)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Bj(n,e,t){const r=e,i=jS("where",n);return OS._create(i,r,t)}class I3 extends T3{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new I3(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Gl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)uH(o,l),o=Vk(o,l)}(e._query,t),new Md(e.firestore,e.converter,Vk(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class P3 extends k3{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new P3(e,t)}_apply(e){const t=function(i,s,o){if(i.startAt!==null)throw new ot(Be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ot(Be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lb(s,o)}(e._query,this._field,this._direction);return new Md(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new P1(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Uj(n,e="asc"){const t=e,r=jS("orderBy",n);return P3._create(r,t)}class R3 extends k3{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new R3(e,t,r)}_apply(e){return new Md(e.firestore,e.converter,XA(e._query,this._limit,this._limitType))}}function Upe(n){return R3._create("limit",n,"F")}function Vj(n,e,t){if(typeof(t=Xn(t))=="string"){if(t==="")throw new ot(Be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c$(e)&&t.indexOf("/")!==-1)throw new ot(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(hr.fromString(t));if(!Rt.isDocumentKey(r))throw new ot(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sj(n,new Rt(r))}if(t instanceof Ds)return sj(n,t._key);throw new ot(Be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${LS(t)}.`)}function zj(n,e){if(!Array.isArray(n)||n.length===0)throw new ot(Be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uH(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ot(Be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(Be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Vpe{convertValue(e,t="none"){switch(Jm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $t()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return gg(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Qr(o.doubleValue));return new x3(s)}convertGeoPoint(e){return new b3(Qr(e.latitude),Qr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=QR(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sb(e));default:return null}}convertTimestamp(e){const t=kf(e);return new Ci(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=hr.fromString(e);qn(L$(r));const i=new ob(r.get(1),r.get(3)),s=new Rt(r.popFirst(5));return i.isEqual(t)||kd(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dH extends lH{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new m5(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class m5 extends dH{data(e={}){return super.data(e)}}class hH{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new My(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new m5(this._firestore,this._userDataWriter,r.key,r,new My(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ot(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new m5(i._firestore,i._userDataWriter,a.doc.key,a.doc,new My(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new m5(i._firestore,i._userDataWriter,a.doc.key,a.doc,new My(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:zpe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zpe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(n){n=Zs(n,Ds);const e=Zs(n.firestore,tu);return Tpe(cx(e),n._key).then(t=>pH(e,n,t))}class D3 extends Vpe{constructor(e){super(),this.firestore=e}convertBytes(e){return new o1(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ds(this.firestore,null,t)}}function $pe(n){n=Zs(n,Md);const e=Zs(n.firestore,tu),t=cx(e),r=new D3(e);return cH(n._query),kpe(t,n._query).then(i=>new hH(e,r,n,i))}function Hpe(n,e,t){n=Zs(n,Ds);const r=Zs(n.firestore,tu),i=L3(n.converter,e,t);return px(r,[A3(hx(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Js.none())])}function qpe(n,e,t,...r){n=Zs(n,Ds);const i=Zs(n.firestore,tu),s=hx(i);let o;return o=typeof(e=Xn(e))=="string"||e instanceof ux?iH(s,"updateDoc",n._key,e,t,r):rH(s,"updateDoc",n._key,e),px(i,[o.toMutation(n._key,Js.exists(!0))])}function Wpe(n){return px(Zs(n.firestore,tu),[new TS(n._key,Js.none())])}function Gpe(n,e){const t=Zs(n.firestore,tu),r=sf(n),i=L3(n.converter,e);return px(t,[A3(hx(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Js.exists(!1))]).then(()=>r)}function $j(n,...e){var t,r,i;n=Xn(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Oj(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Oj(e[o])){const h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,u;if(n instanceof Ds)c=Zs(n.firestore,tu),u=AS(n._key.path),l={next:h=>{e[o]&&e[o](pH(c,n,h))},error:e[o+1],complete:e[o+2]};else{const h=Zs(n,Md);c=Zs(h.firestore,tu),u=h._query;const p=new D3(c);l={next:f=>{e[o]&&e[o](new hH(c,p,h,f))},error:e[o+1],complete:e[o+2]},cH(n._query)}return function(p,f,w,y){const _=new w3(y),b=new v3(f,_,w);return p.asyncQueue.enqueueAndForget(async()=>p3(await eE(p),b)),()=>{_.Za(),p.asyncQueue.enqueueAndForget(async()=>m3(await eE(p),b))}}(cx(c),u,a,l)}function px(n,e){return function(r,i){const s=new md;return r.asyncQueue.enqueueAndForget(async()=>vpe(await Cpe(r),i,s)),s.promise}(cx(n),e)}function pH(n,e,t){const r=t.docs.get(e._key),i=new D3(n);return new dH(n,i,e._key,r,new My(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kpe{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hx(e)}set(e,t,r){this._verifyNotCommitted();const i=SC(e,this._firestore),s=L3(i.converter,t,r),o=A3(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Js.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=SC(e,this._firestore);let o;return o=typeof(t=Xn(t))=="string"||t instanceof ux?iH(this._dataReader,"WriteBatch.update",s._key,t,r,i):rH(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Js.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=SC(e,this._firestore);return this._mutations=this._mutations.concat(new TS(t._key,Js.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ot(Be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function SC(n,e){if((n=Xn(n)).firestore!==e)throw new ot(Be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Qk(){return new E3("serverTimestamp")}function Ype(n){return new S3("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xpe(n){return cx(n=Zs(n,tu)),new Kpe(n,e=>px(n,e))}(function(e,t=!0){(function(i){I1=i})(T1),Wl(new el("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new tu(new Qde(r.getProvider("auth-internal")),new the(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ot(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ob(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Io(ej,"4.7.3",e),Io(ej,"4.7.3","esm2017")})();const mH={apiKey:"AIzaSyB5fV4Gi_nDB-qBCdwyzO9gLMK1yyiknRc",authDomain:"endorse-app.firebaseapp.com",projectId:"endorse-app",storageBucket:"endorse-app.firebasestorage.app",messagingSenderId:"661681554342",appId:"1:661681554342:web:4ffbbe1751bfdca15cc567",measurementId:"G-RP8XHE1RXG"};for(const[n,e]of Object.entries(mH))if(e===void 0)throw new Error(`Firebase config error: Missing environment variable for ${n}. Please check your .env file.`);const mx=FV(mH);console.log("Firebase initialized:",mx);qde(mx);const a1=kue(mx,"us-central1");window.location.hostname==="localhost"&&(Az(a1,"localhost",5001),console.log("Connected to Functions emulator"));const Oi=cue(mx),wl=Rpe(mx),gH=D.createContext({user:null,userProfile:null,loading:!0,signOut:async()=>{}}),D1=()=>D.useContext(gH),Qpe=({children:n})=>{const[e,t]=D.useState(null),[r,i]=D.useState(null),[s,o]=D.useState(!0);D.useEffect(()=>{const c=Gle(Oi,async u=>{if(t(u),u)try{const h=sf(wl,"users",u.uid),p=await fH(h);p.exists()?i(p.data()):i({plan:"free"})}catch(h){console.error("Error fetching user profile:",h),i({plan:"free"})}else i(null);o(!1)});return()=>c()},[]);const l={user:e,userProfile:r,loading:s,signOut:async()=>{await Kle(Oi)}};return d.jsx(gH.Provider,{value:l,children:n})},Jpe=[{name:"Free",price:"Free",frequency:"",features:["Unlimited documents","Basic signatures"],color:"text-green-600",buttonColor:"bg-green-600 hover:bg-green-700 focus-visible:outline-green-600",badgeColor:"bg-green-100 text-green-600"},{name:"Pro",price:"$15",frequency:"/month",features:["Unlimited documents","Invite signers","Audit trails"],color:"text-purple-600",buttonColor:"bg-purple-600 hover:bg-purple-700 focus-visible:outline-purple-600",badgeColor:"bg-purple-100 text-purple-600"},{name:"Business",price:"$49",frequency:"/month",features:["Everything in Pro","Team management","Custom branding"],color:"text-orange-600",buttonColor:"bg-orange-600 hover:bg-orange-700 focus-visible:outline-orange-600",badgeColor:"bg-orange-100 text-orange-600"}],Zpe=()=>{const{user:n}=D1(),e=Uf(),[t,r]=D.useState(!1),[i,s]=D.useState(!1),[o,a]=D.useState(!1),[l,c]=D.useState(!1),[u,h]=D.useState("en"),[p,f]=D.useState(!1),[w,y]=D.useState(""),[_,b]=D.useState([{text:"Hello!  Thanks for visiting Endorse. How can we help you streamline your agreements today?",isUser:!1,time:"Just now"}]),[A,E]=D.useState(!1),[N,F]=D.useState(!1),[V,L]=D.useState(!1);D.useEffect(()=>{if(!localStorage.getItem("cookieConsent")){const q=setTimeout(()=>s(!0),1500);return()=>clearTimeout(q)}},[]);const C=()=>{localStorage.setItem("cookieConsent","true"),s(!1)},k=R=>{if(!n){e("/auth?mode=signup");return}e(`/payment?plan=${R.toLowerCase()}`)},j=R=>{const q=R.toLowerCase();return q.includes("price")||q.includes("cost")||q.includes("plan")||q.includes("free")?"We offer a Free plan (3 docs/mo), a Pro plan ($15/mo), and a Business plan ($49/mo). You can see all the details in our Pricing section!":q.includes("hello")||q.includes("hi")||q.includes("hey")?"Hi there! Ready to sign some documents?  How can I help you today?":q.includes("security")||q.includes("safe")||q.includes("legal")||q.includes("binding")?"Yes! Endorse is ESIGN compliant and uses 256-bit SSL encryption to keep your data secure and legally binding.":q.includes("support")||q.includes("help")?"You can reach our support team at support@endorse.com or browse our Help Center resources.":"Thanks for the message! A support agent will be with you shortly. In the meantime, feel free to browse our features."},T=R=>{if(!R.trim())return;const q={text:R,isUser:!0,time:"Just now"};b(ce=>[...ce,q]),y(""),E(!0),setTimeout(()=>{E(!1);const ce=j(R);b(ae=>[...ae,{text:ce,isUser:!1,time:"Just now"}]),new Audio("https://assets.mixkit.co/active_storage/sfx/2354/2354-preview.mp3").play().catch(ae=>console.error("Audio play failed:",ae))},1500)},M=R=>{R.preventDefault(),T(w)};return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border/40",children:[d.jsxs("div",{className:"container mx-auto px-4 md:px-6 h-20 flex items-center justify-between",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2.5",children:d.jsx(ro,{className:"h-14 w-auto drop-shadow-sm"})}),d.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[d.jsxs(hd,{children:[d.jsxs(fd,{className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors flex items-center gap-1 outline-none group",children:["Product ",d.jsx(ua,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Gc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs("a",{href:"#features",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(ks,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"eSign"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Create, send, and track legally binding electronic signatures."})]})]})}),d.jsx(ni,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/conversion",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(qm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"File Conversion"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Transform documents between PDF, Word, and other formats."})]})]})})]})]}),d.jsx("a",{href:"#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors",children:"Pricing"}),d.jsxs(hd,{children:[d.jsxs(fd,{className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors flex items-center gap-1 outline-none group",children:["Resources ",d.jsx(ua,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Gc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/blog",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Ys,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Blog"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Latest updates, articles, and insights."})]})]})}),d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx($m,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Help Center"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Guides, tutorials, and support documentation."})]})]})}),d.jsx(ni,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Hm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"API Docs"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Complete reference for developers."})]})]})})]})]}),d.jsx(et,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors",children:"Company"})]}),d.jsx("div",{className:"hidden md:flex items-center gap-3",children:d.jsx(et,{to:"/auth?mode=signup",children:d.jsx(qe,{className:"font-medium text-base bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black",children:"Get Started Free"})})}),d.jsx("button",{className:"md:hidden text-foreground p-2",onClick:()=>r(!t),"aria-label":"Toggle menu",children:t?d.jsx(Ps,{className:"w-6 h-6"}):d.jsx(eS,{className:"w-6 h-6"})})]}),t&&d.jsxs("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-background border-b border-border p-4 flex flex-col gap-4 shadow-lg animate-in slide-in-from-top-5 h-[calc(100vh-4rem)] overflow-y-auto",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>F(!N),children:["Product",d.jsx(ua,{className:`w-4 h-4 transition-transform duration-200 ${N?"rotate-180":""}`})]}),N&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs("a",{href:"#features",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>r(!1),children:[d.jsx(ks,{className:"w-4 h-4"})," eSign"]}),d.jsxs(et,{to:"/conversion",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>r(!1),children:[d.jsx(qm,{className:"w-4 h-4"})," File Conversion"]})]})]}),d.jsx("a",{href:"#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>r(!1),children:"Pricing"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>L(!V),children:["Resources",d.jsx(ua,{className:`w-4 h-4 transition-transform duration-200 ${V?"rotate-180":""}`})]}),V&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs(et,{to:"/blog",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>r(!1),children:[d.jsx(Ys,{className:"w-4 h-4"})," Blog"]}),d.jsxs(et,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>r(!1),children:[d.jsx($m,{className:"w-4 h-4"})," Help Center"]}),d.jsxs(et,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>r(!1),children:[d.jsx(Hm,{className:"w-4 h-4"})," API Docs"]})]})]}),d.jsx(et,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>r(!1),children:"Company"}),d.jsx("div",{className:"flex flex-col gap-3 mt-2",children:d.jsx(et,{to:"/auth?mode=signup",onClick:()=>r(!1),children:d.jsx(qe,{size:"lg",className:"w-full text-base bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black",children:"Get Started Free"})})})]})]}),d.jsxs("section",{className:"pt-24 pb-16 md:pt-32 md:pb-20 px-4 md:px-6 bg-background relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),d.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-accent/20 via-background to-background"}),d.jsx("div",{className:"container mx-auto max-w-7xl relative",children:d.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 lg:gap-20",children:[d.jsxs("div",{className:"w-full lg:w-1/2 text-center lg:text-left z-10",children:[d.jsxs("h1",{className:"font-display text-3xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-foreground mb-6 leading-[1.1] tracking-tight animate-fade-up-delay-1",children:["The Trusted Platform for ",d.jsx("br",{}),d.jsxs("span",{className:"text-primary relative inline-block",children:["Digital Agreements",d.jsx("svg",{className:"absolute w-full h-3 -bottom-1 left-0 text-[#FFC83D] opacity-40",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:d.jsx("path",{d:"M0 5 Q 50 10 100 5",stroke:"currentColor",strokeWidth:"8",fill:"none"})})]})]}),d.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto lg:mx-0 mb-8 md:mb-10 leading-relaxed animate-fade-up-delay-2",children:"Empower your organization with legally binding e-signatures. Experience enterprise-grade security and compliance without the complexity."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start animate-fade-up-delay-3 mb-12",children:[d.jsx(et,{to:"/auth?mode=signup",children:d.jsxs(qe,{size:"lg",className:"w-full sm:w-auto text-lg h-14 px-8 bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black font-semibold shadow-lg shadow-[#FFC83D]/20",children:["Start Free Trial",d.jsx(NA,{className:"w-5 h-5 ml-2"})]})}),d.jsxs("div",{className:"group flex items-center gap-3 pl-2 pr-6 py-2 rounded-full bg-background/50 border border-border/50 hover:border-primary/50 hover:bg-background/80 backdrop-blur-sm transition-all cursor-pointer shadow-sm hover:shadow-md h-14 w-full sm:w-auto",onClick:()=>c(!0),role:"button",tabIndex:0,"aria-label":"Watch product demo",children:[d.jsxs("div",{className:"relative w-10 h-10 rounded-full overflow-hidden bg-muted shrink-0",children:[d.jsx("img",{src:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=100&h=100&fit=crop&q=80",alt:"Demo thumbnail",className:"w-full h-full object-cover opacity-90 group-hover:scale-110 transition-transform duration-500"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10",children:d.jsx("div",{className:"w-6 h-6 bg-white/90 rounded-full flex items-center justify-center shadow-sm",children:d.jsx(zJ,{className:"w-4 h-4 text-primary"})})})]}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-sm font-bold leading-none text-foreground",children:"Watch Demo"}),d.jsx("p",{className:"text-[11px] text-muted-foreground font-medium mt-0.5",children:"See how it works"})]})]})]}),d.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-x-8 gap-y-4 text-sm text-muted-foreground animate-fade-up-delay-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ha,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{children:"ESIGN Compliant"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ha,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{children:"Secure & Private"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ha,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{children:"No Credit Card"})]})]})]}),d.jsx("div",{className:"w-full lg:w-1/2 relative animate-fade-in duration-1000 delay-300 perspective-1000",children:d.jsxs("div",{className:"relative transform transition-transform hover:scale-[1.01] duration-500",children:[d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[120%] bg-primary/20 blur-[120px] rounded-full pointer-events-none opacity-50"}),d.jsxs("div",{className:"relative mx-auto w-full max-w-[600px] lg:max-w-none",children:[d.jsxs("div",{className:"bg-background/95 backdrop-blur rounded-2xl border border-border/60 shadow-2xl overflow-hidden relative ring-1 ring-white/10",children:[d.jsxs("div",{className:"bg-muted/50 px-4 py-3 border-b border-border/60 flex items-center gap-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-[#FF5F57] border border-[#E0443E]"}),d.jsx("div",{className:"w-3 h-3 rounded-full bg-[#FEBC2E] border border-[#D89E24]"}),d.jsx("div",{className:"w-3 h-3 rounded-full bg-[#28C840] border border-[#1AAB29]"})]}),d.jsx("div",{className:"flex-1 flex justify-center",children:d.jsxs("div",{className:"bg-background/80 border border-border/40 rounded-md px-4 py-1.5 text-xs text-muted-foreground flex items-center gap-2 w-full max-w-[240px] justify-center shadow-sm",children:[d.jsx(CA,{className:"w-3 h-3 opacity-70"}),d.jsx("span",{className:"opacity-70",children:"endorse.com/sign/contract"})]})}),d.jsx("div",{className:"w-16 flex justify-end gap-2",children:d.jsx("div",{className:"w-6 h-6 rounded-full bg-muted border border-border/50"})})]}),d.jsxs("div",{className:"flex h-[400px] sm:h-[500px] md:h-[600px] bg-muted/10",children:[d.jsx("div",{className:"w-14 md:w-16 border-r border-border/60 bg-background/50 flex flex-col items-center py-6 gap-6 backdrop-blur-sm",children:[ks,oB,iB,eB].map((R,q)=>d.jsx("div",{className:`p-2.5 rounded-xl transition-all cursor-pointer ${q===0?"bg-primary/10 text-primary shadow-sm":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:d.jsx(R,{className:"w-5 h-5"})},q))}),d.jsxs("div",{className:"flex-1 bg-muted/10 p-2 md:p-8 overflow-hidden relative flex flex-col items-center",children:[d.jsxs("div",{className:"w-full max-w-[500px] h-10 bg-background rounded-lg border border-border/40 shadow-sm mb-6 flex items-center px-4 gap-4 opacity-80",children:[d.jsx("div",{className:"h-2 w-24 bg-muted rounded-full"}),d.jsx("div",{className:"h-4 w-px bg-border"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"h-4 w-4 bg-muted rounded"}),d.jsx("div",{className:"h-4 w-4 bg-muted rounded"}),d.jsx("div",{className:"h-4 w-4 bg-muted rounded"})]})]}),d.jsxs("div",{className:"bg-white text-black shadow-xl w-full max-w-[500px] h-full rounded-t-lg p-8 md:p-10 relative mx-auto transform transition-transform hover:-translate-y-1 duration-500 border border-black/5",children:[d.jsxs("div",{className:"flex justify-between items-start mb-10",children:[d.jsxs("div",{className:"flex items-center gap-2 font-bold text-lg",children:[d.jsx("div",{className:"w-8 h-8 bg-black text-white flex items-center justify-center rounded-lg text-sm font-display",children:"E"}),d.jsx("span",{className:"tracking-tight",children:"ENDORSE"})]}),d.jsx("div",{className:"text-right text-[10px] text-gray-400 font-mono",children:d.jsx("p",{children:"ID: 8839-22"})})]}),d.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-900",children:"Service Agreement"}),d.jsxs("div",{className:"space-y-4 text-[11px] md:text-xs text-gray-600 leading-relaxed",children:[d.jsxs("div",{className:"flex gap-2 mb-6",children:[d.jsxs("div",{className:"w-1/2 space-y-2",children:[d.jsx("p",{className:"font-semibold text-gray-900",children:"Between:"}),d.jsx("div",{className:"h-2 w-24 bg-gray-100 rounded"}),d.jsx("div",{className:"h-2 w-32 bg-gray-100 rounded"})]}),d.jsxs("div",{className:"w-1/2 space-y-2",children:[d.jsx("p",{className:"font-semibold text-gray-900",children:"And:"}),d.jsx("div",{className:"h-2 w-24 bg-gray-100 rounded"}),d.jsx("div",{className:"h-2 w-32 bg-gray-100 rounded"})]})]}),d.jsx("p",{children:'This Service Agreement ("Agreement") is entered into by and between the undersigned parties.'}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-full"}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-11/12"}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-full"}),d.jsx("h3",{className:"text-sm font-bold text-black mt-8 mb-3",children:"1. Scope of Services"}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-full"}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-10/12"}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-full"})]}),d.jsx("div",{className:"mt-12 p-4 rounded-xl border-2 border-dashed border-blue-200 bg-blue-50/30 relative group cursor-pointer hover:bg-blue-50/50 transition-colors",children:d.jsxs("div",{className:"flex justify-between items-end",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold uppercase text-blue-400 mb-1",children:"Signature"}),d.jsx("div",{className:"font-handwriting text-2xl text-blue-600 transform -rotate-2 origin-left",children:"Sarah Jenkins"})]}),d.jsx("div",{className:"text-right",children:d.jsxs("div",{className:"bg-[#FFC83D] text-black text-[10px] font-bold px-2 py-1 rounded shadow-sm flex items-center gap-1",children:[d.jsx(Ha,{className:"w-3 h-3"})," VERIFIED"]})})]})})]})]}),d.jsxs("div",{className:"w-60 border-l border-border/60 bg-background/50 hidden xl:block p-5 backdrop-blur-sm",children:[d.jsx("h4",{className:"font-semibold text-xs uppercase tracking-wider text-muted-foreground mb-4",children:"Participants"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-xl bg-background border border-border/50 shadow-sm",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-700 text-xs font-bold ring-2 ring-white",children:"SJ"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium truncate",children:"Sarah Jenkins"}),d.jsxs("p",{className:"text-[10px] text-green-600 flex items-center gap-1 font-medium",children:[d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"})," Signed"]})]})]}),d.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-xl border border-transparent opacity-60",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 text-xs font-bold",children:"JD"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium truncate",children:"John Doe"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Waiting..."})]})]})]}),d.jsxs("div",{className:"mt-8",children:[d.jsx("h4",{className:"font-semibold text-xs uppercase tracking-wider text-muted-foreground mb-4",children:"Activity"}),d.jsxs("div",{className:"space-y-4 pl-2 border-l border-border/50",children:[d.jsxs("div",{className:"relative pl-4",children:[d.jsx("div",{className:"absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full bg-green-500 ring-4 ring-background"}),d.jsx("p",{className:"text-xs text-foreground",children:"Document signed"}),d.jsx("p",{className:"text-[10px] text-muted-foreground",children:"2 mins ago"})]}),d.jsxs("div",{className:"relative pl-4 opacity-60",children:[d.jsx("div",{className:"absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full bg-gray-300 ring-4 ring-background"}),d.jsx("p",{className:"text-xs text-foreground",children:"Viewed by Sarah"}),d.jsx("p",{className:"text-[10px] text-muted-foreground",children:"15 mins ago"})]})]})]})]})]})]}),d.jsx("div",{className:"absolute -right-6 top-24 bg-background/90 backdrop-blur p-4 rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-border/50 animate-in slide-in-from-bottom-10 duration-1000 delay-500 hidden md:block max-w-[200px]",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"bg-green-500/10 p-2 rounded-full shrink-0",children:d.jsx(zm,{className:"w-5 h-5 text-green-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-sm leading-tight mb-1",children:"Legally Binding"}),d.jsx("p",{className:"text-xs text-muted-foreground leading-snug",children:"Compliant with ESIGN & eIDAS"})]})]})})]})]})})]})})]}),d.jsx("section",{className:"py-16 md:py-20 bg-secondary/20 border-y border-border/50",children:d.jsxs("div",{className:"container mx-auto max-w-6xl px-6",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"How Endorse Works"}),d.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Get your documents signed in minutes, not days. A simple workflow designed for speed."})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8 relative",children:[d.jsx("div",{className:"hidden md:block absolute top-12 left-[16%] right-[16%] h-0.5 bg-gradient-to-r from-border via-primary/20 to-border -z-10"}),[{title:"Upload",desc:"Upload any PDF or Word document from your computer or cloud storage.",icon:$w},{title:"Sign & Send",desc:"Add your signature fields and send to recipients via email.",icon:ks},{title:"Track",desc:"Get real-time updates when your document is viewed and signed.",icon:Ha}].map((R,q)=>d.jsxs("div",{className:"group flex flex-col items-center text-center bg-background p-8 rounded-2xl border border-border shadow-sm hover:shadow-md transition-all duration-300",children:[d.jsxs("div",{className:"w-24 h-24 rounded-full bg-secondary flex items-center justify-center mb-6 shadow-inner relative z-10 group-hover:scale-110 transition-transform duration-300",children:[d.jsx(R.icon,{className:"w-10 h-10 text-primary"}),d.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-[#FFC83D] flex items-center justify-center font-bold text-black text-sm border-2 border-background",children:q+1})]}),d.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:R.title}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:R.desc})]},q))]})]})}),d.jsx("section",{id:"features",className:"py-16 md:py-24 px-4 md:px-6 overflow-hidden",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("p",{className:"text-base font-semibold text-primary uppercase tracking-wider mb-3",children:"Features"}),d.jsx("h2",{className:"font-display text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Everything you need to manage signatures"})]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 md:gap-12 mb-16 md:mb-24",children:[d.jsx("div",{className:"w-full md:w-1/2 order-2 md:order-1",children:d.jsxs("div",{className:"relative rounded-2xl bg-gradient-to-br from-secondary to-background border border-border p-8 shadow-lg",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-border/50 p-8 min-h-[300px] relative",children:[d.jsx("div",{className:"h-4 w-1/3 bg-gray-200 rounded mb-6"}),d.jsxs("div",{className:"space-y-3 mb-8",children:[d.jsx("div",{className:"h-2 w-full bg-gray-100 rounded"}),d.jsx("div",{className:"h-2 w-full bg-gray-100 rounded"}),d.jsx("div",{className:"h-2 w-2/3 bg-gray-100 rounded"})]}),d.jsxs("div",{className:"border-2 border-dashed border-[#FFC83D] bg-[#FFC83D]/5 rounded-lg p-4 relative group cursor-pointer",children:[d.jsx("div",{className:"absolute -top-3 left-4 bg-[#FFC83D] text-black text-xs font-bold px-2 py-0.5 rounded",children:"Sign Here"}),d.jsx("div",{className:"font-handwriting text-3xl text-black opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform translate-y-2 group-hover:translate-y-0",children:"John Doe"}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2 opacity-100 group-hover:opacity-0 transition-opacity",children:"Click to sign"})]})]}),d.jsxs("div",{className:"absolute -right-4 top-10 bg-background border border-border shadow-xl rounded-lg p-3 flex items-center gap-3 animate-in slide-in-from-bottom-4 duration-1000 delay-500",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:d.jsx(zm,{className:"w-4 h-4 text-green-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-bold",children:"Legally Binding"}),d.jsx("p",{className:"text-[10px] text-muted-foreground",children:"ESIGN Compliant"})]})]})]})}),d.jsxs("div",{className:"w-full md:w-1/2 order-1 md:order-2",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#FFC83D]/10 text-[#FFC83D] text-sm font-medium mb-4",children:[d.jsx(ks,{className:"w-4 h-4"}),"Intuitive Signing"]}),d.jsx("h3",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Sign documents anywhere, on any device."}),d.jsx("p",{className:"text-base md:text-lg text-muted-foreground mb-6 leading-relaxed",children:"Experience a signing process that feels natural. Whether you're on a desktop in the office or a mobile phone on the go, Endorse adapts to your screen."}),d.jsx("ul",{className:"space-y-3",children:["Draw, type, or upload signatures","Mobile-responsive interface","No account required for signers"].map((R,q)=>d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx(Ha,{className:"w-5 h-5 text-primary flex-shrink-0"}),d.jsx("span",{className:"text-foreground",children:R})]},q))})]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 md:gap-12 mb-16 md:mb-24",children:[d.jsxs("div",{className:"w-full md:w-1/2",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/10 text-blue-500 text-sm font-medium mb-4",children:[d.jsx(nB,{className:"w-4 h-4"}),"Real-time Tracking"]}),d.jsx("h3",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Never wonder about status again."}),d.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:"Stay in the loop with instant notifications. Know exactly when your document is opened, viewed, and signed."}),d.jsx(et,{to:"/auth",children:d.jsxs(qe,{variant:"outline",className:"group",children:["Explore Features ",d.jsx(ZE,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})})]}),d.jsx("div",{className:"w-full md:w-1/2",children:d.jsxs("div",{className:"relative rounded-2xl bg-card border border-border p-6 shadow-lg",children:[d.jsx("div",{className:"space-y-4",children:[{user:"Sarah Chen",action:"viewed the document",time:"2 mins ago",icon:cB,color:"bg-blue-100 text-blue-600"},{user:"Mike Ross",action:"signed the contract",time:"Just now",icon:ks,color:"bg-green-100 text-green-600"},{user:"System",action:"sent copy to all parties",time:"Just now",icon:Dm,color:"bg-purple-100 text-purple-600"}].map((R,q)=>d.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-background border border-border/50 shadow-sm",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${R.color}`,children:d.jsx(R.icon,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"text-sm font-medium text-foreground",children:[d.jsx("span",{className:"font-bold",children:R.user})," ",R.action]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:R.time})]})]},q))}),d.jsx("div",{className:"absolute -z-10 -bottom-4 -right-4 w-full h-full bg-secondary/50 rounded-2xl"})]})})]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 md:gap-12",children:[d.jsx("div",{className:"w-full md:w-1/2 order-2 md:order-1",children:d.jsxs("div",{className:"relative rounded-2xl bg-[#1a1f2c] p-8 shadow-2xl overflow-hidden text-white",children:[d.jsx("div",{className:"absolute top-0 right-0 p-32 bg-primary/20 blur-[100px] rounded-full pointer-events-none"}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center text-center py-10",children:[d.jsx("div",{className:"w-20 h-20 bg-white/10 rounded-full flex items-center justify-center mb-6 backdrop-blur-md border border-white/20",children:d.jsx(CA,{className:"w-10 h-10 text-[#FFC83D]"})}),d.jsx("h4",{className:"text-2xl font-bold mb-2",children:"Secure Infrastructure"}),d.jsx("p",{className:"text-gray-400 mb-8",children:"Powered by Google Cloud"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full",children:[d.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[d.jsx("div",{className:"text-[#FFC83D] font-bold text-lg",children:"SSL"}),d.jsx("div",{className:"text-xs text-gray-400",children:"Encryption"})]}),d.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[d.jsx("div",{className:"text-[#FFC83D] font-bold text-lg",children:"99.9%"}),d.jsx("div",{className:"text-xs text-gray-400",children:"Uptime"})]})]})]})]})}),d.jsxs("div",{className:"w-full md:w-1/2 order-1 md:order-2",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-green-500/10 text-green-600 text-sm font-medium mb-4",children:[d.jsx(zw,{className:"w-4 h-4"}),"Secure & Reliable"]}),d.jsx("h3",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Secure, private, and legally binding."}),d.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:"We take security seriously. Your documents are protected by industry-standard encryption and secure cloud infrastructure."}),d.jsx("div",{className:"flex flex-wrap gap-3",children:["Audit Trails","Two-Factor Auth","Data Encryption","Privacy Focused"].map((R,q)=>d.jsx("span",{className:"px-3 py-1 bg-secondary rounded-md text-sm font-medium text-secondary-foreground border border-border",children:R},q))})]})]})]})}),d.jsx("section",{id:"pricing",className:"bg-white py-12 sm:py-16",children:d.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[d.jsxs("div",{className:"mx-auto max-w-4xl text-center",children:[d.jsx("h2",{className:"text-base font-semibold leading-7 text-indigo-600",children:"Pricing"}),d.jsx("p",{className:"mt-2 text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Choose the right plan for you"})]}),d.jsx("div",{className:"isolate mx-auto mt-10 grid max-w-md grid-cols-1 gap-8 lg:mx-0 lg:max-w-none lg:grid-cols-3",children:Jpe.map(R=>d.jsxs("div",{className:"rounded-3xl p-8 ring-1 ring-gray-200 xl:p-10 flex flex-col justify-between hover:shadow-lg transition-shadow duration-300",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between gap-x-4",children:[d.jsx("h3",{id:R.name,className:`text-lg font-semibold leading-8 ${R.color}`,children:R.name}),d.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${R.badgeColor} ring-1 ring-inset ring-gray-500/10`,children:R.name})]}),d.jsxs("p",{className:"mt-4 flex items-baseline gap-x-1",children:[d.jsx("span",{className:"text-4xl font-bold tracking-tight text-gray-900",children:R.price}),R.frequency&&d.jsx("span",{className:"text-sm font-semibold leading-6 text-gray-600",children:R.frequency})]}),d.jsx("ul",{role:"list",className:"mt-8 space-y-3 text-sm leading-6 text-gray-600",children:R.features.map(q=>d.jsxs("li",{className:"flex gap-x-3",children:[d.jsx("svg",{className:`h-6 w-5 flex-none ${R.color}`,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:d.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})}),q]},q))})]}),d.jsx("button",{onClick:()=>R.name==="Free"?e("/auth?mode=signup"):k(R.name),"aria-describedby":R.name,className:`mt-8 block w-full rounded-md px-3 py-2 text-center text-sm font-semibold leading-6 text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 ${R.buttonColor}`,children:"Get started"})]},R.name))})]})}),d.jsx("section",{className:"py-16 md:py-24 px-4 md:px-6",children:d.jsxs("div",{className:"container mx-auto max-w-4xl",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("p",{className:"text-base font-semibold text-primary uppercase tracking-wider mb-3",children:"FAQ"}),d.jsx("h2",{className:"font-display text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Common questions"}),d.jsx("p",{className:"text-muted-foreground text-xl max-w-xl mx-auto",children:"Everything you need to know about the product and billing."})]}),d.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[{q:"Is Endorse legally binding?",a:"Yes. Signatures created with Endorse are legally binding and enforceable in court, complying with the ESIGN Act, UETA, and eIDAS regulations."},{q:"Is my data secure?",a:"Absolutely. We use industry-standard SSL encryption for all document transfers. Your documents are private and only accessible to you and your designated signers."},{q:"Can I sign on my mobile phone?",a:"Yes! Endorse is fully responsive and works perfectly on smartphones and tablets. You can draw your signature using your finger or stylus."},{q:"What happens after the free trial?",a:"If you don't upgrade to a paid plan, your account will automatically switch to our Free tier, which allows you to sign up to 3 documents per month."},{q:"Do recipients need an account to sign?",a:"No. Recipients can sign documents sent to them without creating an Endorse account. They simply click the link in their email to sign."},{q:"Can I cancel my subscription?",a:"You can cancel your subscription at any time from your dashboard. You'll retain access to your paid features until the end of your billing cycle."}].map((R,q)=>d.jsxs("div",{className:"bg-card p-8 rounded-2xl border border-border hover:border-primary/30 transition-all duration-300 hover:shadow-sm",children:[d.jsx("h3",{className:"font-display font-semibold text-xl mb-3 text-foreground",children:R.q}),d.jsx("p",{className:"text-muted-foreground leading-relaxed text-base",children:R.a})]},q))})]})}),d.jsx("section",{className:"py-16 md:py-24 px-4 md:px-6",children:d.jsx("div",{className:"container mx-auto max-w-4xl",children:d.jsxs("div",{className:"relative rounded-2xl bg-gradient-primary p-8 md:p-14 text-center overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PGNpcmNsZSBjeD0iMzAiIGN5PSIzMCIgcj0iMiIvPjwvZz48L2c+PC9zdmc+')] opacity-50"}),d.jsxs("div",{className:"relative z-10",children:[d.jsx("h2",{className:"font-display text-4xl md:text-5xl font-bold text-primary-foreground mb-4",children:"Ready to streamline your signing?"}),d.jsx("p",{className:"text-primary-foreground/85 text-xl mb-8 max-w-xl mx-auto",children:"Join thousands of professionals who save hours every week with Endorse."}),d.jsx(et,{to:"/auth?mode=signup",children:d.jsxs(qe,{size:"lg",className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90 font-semibold text-xl h-14 px-8",children:["Start Your Free Trial",d.jsx(NA,{className:"w-4 h-4 ml-2"})]})})]})]})})}),d.jsx("footer",{className:"bg-background border-t border-border pt-12 md:pt-16 pb-8 px-4 md:px-6",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[d.jsxs("div",{className:"lg:col-span-1",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2.5 mb-6",children:d.jsx(ro,{className:"h-[80px] w-auto"})}),d.jsx("p",{className:"text-muted-foreground text-base leading-relaxed mb-6",children:"The professional way to sign and endorse documents securely online."}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"Twitter",children:d.jsx(uZ,{className:"w-5 h-5"})}),d.jsx("a",{href:"https://www.linkedin.com/company/e-ndorse/",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"LinkedIn",children:d.jsx(ak,{className:"w-5 h-5"})}),d.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"Facebook",children:d.jsx(GJ,{className:"w-5 h-5"})}),d.jsx("a",{href:"https://www.instagram.com/e.ndorse?igsh=MWs2MnltaGdxbDU3eA%3D%3D&utm_source=qr",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"Instagram",children:d.jsx(JJ,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-lg text-foreground mb-6",children:"Product"}),d.jsxs("ul",{className:"space-y-4 text-base text-muted-foreground",children:[d.jsx("li",{children:d.jsx("a",{href:"#features",className:"hover:text-foreground transition-colors",children:"Features"})}),d.jsx("li",{children:d.jsx("a",{href:"#pricing",className:"hover:text-foreground transition-colors",children:"Pricing"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"API Documentation"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-lg text-foreground mb-6",children:"Company"}),d.jsxs("ul",{className:"space-y-4 text-base text-muted-foreground",children:[d.jsx("li",{children:d.jsx(et,{to:"/about",className:"hover:text-foreground transition-colors",children:"About Us"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Careers"})}),d.jsx("li",{children:d.jsx(et,{to:"/blog",className:"hover:text-foreground transition-colors",children:"Blog"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Contact"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-lg text-foreground mb-6",children:"Stay Updated"}),d.jsx("p",{className:"text-base text-muted-foreground mb-4",children:"Subscribe to our newsletter for the latest updates and features."}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx(ui,{placeholder:"Enter your email",className:"bg-background","aria-label":"Email address"}),d.jsx(qe,{size:"lg",className:"w-full text-base",children:"Subscribe"})]})]})]}),d.jsxs("div",{className:"pt-8 border-t border-border flex flex-col md:flex-row items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 md:gap-6",children:[d.jsxs("p",{className:"text-muted-foreground text-base",children:[" ",new Date().getFullYear()," Endorse. All rights reserved."]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(rB,{className:"w-4 h-4 text-muted-foreground"}),d.jsxs("select",{value:u,onChange:R=>h(R.target.value),className:"bg-transparent border-none text-sm text-muted-foreground hover:text-foreground focus:ring-0 cursor-pointer outline-none","aria-label":"Select language",children:[d.jsx("option",{value:"en",children:"English (US)"}),d.jsx("option",{value:"fr",children:"Franais"}),d.jsx("option",{value:"es",children:"Espaol"}),d.jsx("option",{value:"de",children:"Deutsch"})]})]})]}),d.jsxs("div",{className:"flex gap-8 text-base text-muted-foreground",children:[d.jsx(et,{to:"/privacy",className:"hover:text-foreground transition-colors",children:"Privacy Policy"}),d.jsx(et,{to:"/terms",className:"hover:text-foreground transition-colors",children:"Terms of Service"}),d.jsx(et,{to:"/cookie-policy",className:"hover:text-foreground transition-colors",children:"Cookie Policy"})]})]})]})}),i&&d.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t border-border p-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] animate-in slide-in-from-bottom-full duration-500",children:d.jsxs("div",{className:"container mx-auto max-w-6xl flex flex-col sm:flex-row items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-primary/10 rounded-full hidden sm:block",children:d.jsx(HJ,{className:"w-5 h-5 text-primary"})}),d.jsx("p",{className:"text-sm text-muted-foreground text-center sm:text-left",children:"We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies."})]}),d.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[d.jsx(qe,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>s(!1),children:"Decline"}),d.jsx(qe,{size:"sm",className:"flex-1 sm:flex-none bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",onClick:C,children:"Accept"})]})]})}),o&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[d.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm",onClick:()=>a(!1)}),d.jsxs("div",{className:"relative z-50 w-full max-w-lg bg-card border border-border rounded-xl shadow-2xl p-6 animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("button",{onClick:()=>a(!1),className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","aria-label":"Close",children:[d.jsx(Ps,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]}),d.jsxs("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left mb-6",children:[d.jsx("h2",{className:"text-lg font-semibold leading-none tracking-tight",children:"Contact Sales"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Get a custom quote for your team. We'll get back to you within 24 hours."})]}),d.jsxs("form",{className:"space-y-4",onSubmit:R=>{R.preventDefault(),a(!1)},children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"first-name",className:"text-sm font-medium leading-none",children:"First name"}),d.jsx(ui,{id:"first-name",placeholder:"John",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"last-name",className:"text-sm font-medium leading-none",children:"Last name"}),d.jsx(ui,{id:"last-name",placeholder:"Doe",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"email",className:"text-sm font-medium leading-none",children:"Work Email"}),d.jsx(ui,{id:"email",type:"email",placeholder:"john@company.com",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"company",className:"text-sm font-medium leading-none",children:"Company Name"}),d.jsx(ui,{id:"company",placeholder:"Acme Inc.",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"message",className:"text-sm font-medium leading-none",children:"Message"}),d.jsx("textarea",{id:"message",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Tell us about your needs..."})]}),d.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[d.jsx(qe,{variant:"outline",type:"button",onClick:()=>a(!1),children:"Cancel"}),d.jsx(qe,{type:"submit",className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:"Send Request"})]})]}),d.jsx("div",{className:"mt-6 pt-6 border-t border-border flex justify-center",children:d.jsx("a",{href:"https://www.linkedin.com/company/e-ndorse/",target:"_blank",rel:"noopener noreferrer",className:"w-full",children:d.jsxs(qe,{variant:"outline",className:"w-full gap-2 text-muted-foreground hover:text-[#0A66C2] hover:border-[#0A66C2]/30",children:[d.jsx(ak,{className:"w-4 h-4"}),"Follow us on LinkedIn"]})})})]})]}),l&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 bg-background/80 backdrop-blur-sm animate-in fade-in duration-200",children:[d.jsx("div",{className:"absolute inset-0",onClick:()=>c(!1)}),d.jsxs("div",{className:"relative w-full max-w-5xl aspect-video bg-black rounded-xl shadow-2xl overflow-hidden border border-border/50 animate-in zoom-in-95 duration-200",children:[d.jsx("button",{onClick:()=>c(!1),className:"absolute right-4 top-4 z-10 p-2 bg-black/50 hover:bg-black/70 text-white rounded-full transition-colors","aria-label":"Close video",children:d.jsx(Ps,{className:"w-5 h-5"})}),d.jsx("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/STt-r1SlO74?autoplay=1",title:"Product Demo",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})]})]}),d.jsxs("div",{className:"fixed bottom-4 right-4 md:bottom-6 md:right-6 z-50 flex flex-col items-end gap-4",children:[p&&d.jsxs("div",{className:"bg-card border border-border rounded-xl shadow-2xl w-[calc(100vw-2rem)] sm:w-96 overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300",children:[d.jsxs("div",{className:"bg-[#FFC83D] p-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full animate-pulse"}),d.jsx("span",{className:"font-bold text-black",children:"Endorse Support"})]}),d.jsx("button",{onClick:()=>f(!1),className:"text-black/80 hover:text-black transition-colors","aria-label":"Close chat",children:d.jsx(Ps,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"h-80 bg-background p-4 overflow-y-auto flex flex-col gap-4",children:[_.map((R,q)=>d.jsxs("div",{className:`p-3 rounded-lg max-w-[85%] border border-border ${R.isUser?"bg-primary/10 self-end rounded-tr-none":"bg-secondary self-start rounded-tl-none"}`,children:[d.jsx("p",{className:"text-sm",children:R.text}),d.jsx("span",{className:"text-[10px] text-muted-foreground mt-1 block",children:R.time})]},q)),_.length<4&&d.jsx("div",{className:"flex flex-wrap gap-2 mt-2 px-1",children:["Pricing Plans","Is it legal?","Contact Support","Features"].map(R=>d.jsx("button",{onClick:()=>T(R),className:"text-xs bg-secondary hover:bg-secondary/80 border border-border rounded-full px-3 py-1.5 transition-colors text-foreground/80",children:R},R))}),A&&d.jsx("div",{className:"bg-secondary p-4 rounded-lg rounded-tl-none max-w-[85%] self-start border border-border",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("span",{className:"w-2 h-2 bg-muted-foreground/40 rounded-full animate-bounce [animation-delay:-0.3s]"}),d.jsx("span",{className:"w-2 h-2 bg-muted-foreground/40 rounded-full animate-bounce [animation-delay:-0.15s]"}),d.jsx("span",{className:"w-2 h-2 bg-muted-foreground/40 rounded-full animate-bounce"})]})})]}),d.jsx("div",{className:"p-4 border-t border-border bg-background",children:d.jsxs("form",{className:"flex gap-2",onSubmit:M,children:[d.jsx(ui,{placeholder:"Type a message...",className:"flex-1",value:w,onChange:R=>y(R.target.value),"aria-label":"Type a message"}),d.jsx(qe,{size:"icon",type:"submit",className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:d.jsx(Z4,{className:"w-4 h-4"})})]})})]}),d.jsx(qe,{size:"lg",className:"h-14 w-14 rounded-full shadow-lg bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90 transition-transform hover:scale-105",onClick:()=>f(!p),"aria-label":"Open chat",children:p?d.jsx(Ps,{className:"w-6 h-6"}):d.jsx(tZ,{className:"w-6 h-6"})})]})]})};var eme="Label",vH=D.forwardRef((n,e)=>d.jsx(gr.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));vH.displayName=eme;var yH=vH;const tme=Q4("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fc=D.forwardRef(({className:n,...e},t)=>d.jsx(yH,{ref:t,className:vr(tme(),n),...e}));Fc.displayName=yH.displayName;const nme=()=>{var ne,ge;const[n]=yR(),[e,t]=D.useState(n.get("mode")==="signup"),[r,i]=D.useState(!1),[s,o]=D.useState(""),[a,l]=D.useState(""),[c,u]=D.useState(""),[h,p]=D.useState(!1),[f,w]=D.useState(!1),[y,_]=D.useState(null),[b,A]=D.useState(""),[E,N]=D.useState(!1),[F,V]=D.useState(!1),[L,C]=D.useState(!1),k=Uf(),{user:j}=D1(),M=((ge=(ne=Dd().state)==null?void 0:ne.from)==null?void 0:ge.pathname)||"/dashboard";D.useEffect(()=>{j&&j.emailVerified&&k(M,{replace:!0})},[j,k,M]);const R=async pe=>{pe.preventDefault(),i(!0);try{if(e){const U=await $le(Oi,s,a);await PM(U.user),N(!0),st.success("Verification email sent! Please check your inbox.")}else(await Hle(Oi,s,a)).user.emailVerified?(st.success("Welcome back!"),k("/dashboard")):(N(!0),st.info("Please verify your email before continuing."))}catch(U){U.code==="auth/multi-factor-auth-required"?(w(!0),_(RM(Oi,U)),st.info("Two-factor authentication required.")):st.error(U.message||"An error occurred")}finally{i(!1)}},q=async()=>{if(Oi.currentUser){i(!0);try{await PM(Oi.currentUser),st.success("Verification email resent!")}catch(pe){st.error(pe.message||"Failed to resend email.")}finally{i(!1)}}},ce=async pe=>{pe.preventDefault(),i(!0);try{await zle(Oi,s),V(!0),st.success("Password reset email sent!")}catch(U){st.error(U.message||"Failed to send reset email.")}finally{i(!1)}},de=async()=>{if(Oi.currentUser){i(!0);try{await Oi.currentUser.reload(),Oi.currentUser.emailVerified?(st.success("Email verified! Redirecting..."),k("/dashboard")):st.info("Email not verified yet. Please check your inbox.")}catch{st.error("Failed to refresh status.")}finally{i(!1)}}},ae=async()=>{i(!0);try{const pe=new sd;await vce(Oi,pe),k("/dashboard")}catch(pe){pe.code==="auth/multi-factor-auth-required"?(w(!0),_(RM(Oi,pe)),st.info("Two-factor authentication required.")):st.error(pe.message||"Failed to sign in with Google"),i(!1)}},Q=async pe=>{pe.preventDefault(),i(!0);try{const U=y.hints[0],Y=xz.assertionForSignIn(U.uid,b);await y.resolveSignIn(Y),st.success("Welcome back!"),k("/dashboard")}catch(U){console.error(U),st.error("Invalid verification code."),i(!1)}};return d.jsxs("div",{className:"min-h-screen bg-background flex",children:[d.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-[#1a1f2c] relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2670&auto=format&fit=crop')] bg-cover bg-center opacity-20 mix-blend-overlay"}),d.jsxs("div",{className:"relative z-10 flex flex-col justify-between p-12 w-full",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2.5",children:d.jsx(ro,{className:"h-10 w-auto brightness-0 invert"})}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h1",{className:"font-display text-4xl font-bold text-white leading-tight",children:["Sign documents",d.jsx("br",{}),"with confidence"]}),d.jsx("p",{className:"text-white/80 text-lg max-w-md leading-relaxed",children:"Join thousands of businesses who trust Endorse for secure, legally binding electronic signatures."})]}),d.jsx("p",{className:"text-white/60 text-sm",children:" 2025 Endorse. Enterprise-grade security."})]})]}),d.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-12",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs(et,{to:"/",className:"lg:hidden inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-8 transition-colors text-sm",children:[d.jsx(_1,{className:"w-4 h-4"}),"Back to home"]}),d.jsxs("div",{className:"mb-8 text-center lg:text-left",children:[d.jsx("h2",{className:"font-display text-2xl font-bold text-foreground mb-2",children:f?"Two-Factor Authentication":E?"Verify Email":e?"Create your account":"Welcome back"}),d.jsx("p",{className:"text-muted-foreground",children:f?"Enter the 6-digit code from your authenticator app":E?"Check your inbox to activate your account":e?"Start your free 14-day trial today":"Sign in to continue to your dashboard"})]}),f?d.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Fc,{htmlFor:"code",className:"text-sm font-medium",children:"Verification Code"}),d.jsxs("div",{className:"relative",children:[d.jsx(xD,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(ui,{id:"code",type:"text",placeholder:"000000",value:b,onChange:pe=>A(pe.target.value.replace(/\D/g,"").slice(0,6)),className:"pl-10 h-11 tracking-widest",autoFocus:!0,required:!0})]})]}),d.jsx(qe,{type:"submit",variant:"hero",className:"w-full h-11 font-medium bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black border-none",disabled:r||b.length!==6,children:r?d.jsx(zi,{className:"w-4 h-4 mr-2 animate-spin"}):"Verify"}),d.jsx(qe,{type:"button",variant:"ghost",className:"w-full",onClick:()=>{w(!1),A("")},children:"Back to Login"})]}):E?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-8 rounded-2xl text-center shadow-sm",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(Dm,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Verify your email"}),d.jsxs("p",{className:"text-slate-600 mb-8 text-sm leading-relaxed",children:["We've sent a verification link to ",d.jsx("span",{className:"font-semibold text-blue-600",children:s}),". Please click the link in your email to activate your account and start signing."]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(qe,{onClick:de,disabled:r,className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white",children:r?d.jsx(zi,{className:"w-4 h-4 mr-2 animate-spin"}):"I've Verified My Email"}),d.jsx(qe,{onClick:q,disabled:r,variant:"outline",className:"w-full h-12 border-blue-200 hover:bg-blue-50 text-blue-700",children:r?d.jsx(zi,{className:"w-4 h-4 mr-2 animate-spin"}):"Resend Verification Email"}),d.jsx(qe,{onClick:()=>{N(!1),Oi.signOut()},variant:"ghost",className:"w-full text-slate-500 hover:text-slate-900",children:"Back to Sign In"})]})]}),d.jsx("p",{className:"text-xs text-center text-slate-400",children:"Can't find the email? Check your spam folder."})]}):L?d.jsx("form",{onSubmit:ce,className:"space-y-4",children:d.jsxs("div",{className:"space-y-4",children:[F?d.jsx("div",{className:"bg-green-50 border border-green-100 p-4 rounded-xl text-green-700 text-sm mb-4",children:"Check your inbox for the reset link we just sent."}):d.jsxs("div",{className:"space-y-2",children:[d.jsx(Fc,{htmlFor:"reset-email",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Dm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx(ui,{id:"reset-email",type:"email",placeholder:"you@example.com",value:s,onChange:pe=>o(pe.target.value),className:"pl-10 h-11",required:!0})]})]}),d.jsx(qe,{type:"submit",className:"w-full h-11 bg-primary hover:bg-primary/90",disabled:r||F,children:r?d.jsx(zi,{className:"w-4 h-4 mr-2 animate-spin"}):"Send Reset Link"}),d.jsx("button",{type:"button",onClick:()=>C(!1),className:"w-full text-center text-sm text-slate-500 hover:text-slate-900 font-medium",children:"Return to Sign In"})]})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"mb-8 bg-slate-50 p-4 rounded-xl border border-slate-200",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"mt-1",children:d.jsx("input",{type:"checkbox",id:"security-check",checked:h,onChange:pe=>p(pe.target.checked),className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary cursor-pointer"})}),d.jsxs("label",{htmlFor:"security-check",className:"text-sm text-slate-600 cursor-pointer select-none",children:[d.jsxs("span",{className:"font-bold text-slate-900 flex items-center gap-1.5 mb-1",children:[d.jsx(xD,{className:"w-3.5 h-3.5 text-blue-600"}),"Security & Compliance"]}),"I confirm I'm authorized to use this system and agree to the Terms of Service."]})]})}),d.jsxs(qe,{variant:"outline",className:"w-full h-12 mb-8 font-semibold border-slate-200 hover:bg-slate-50 shadow-sm",onClick:ae,disabled:r||!h,children:[d.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),d.jsxs("div",{className:"relative mb-8",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("span",{className:"w-full border-t border-slate-200"})}),d.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:d.jsx("span",{className:"bg-white px-4 text-slate-400 font-bold tracking-widest",children:"Or email"})})]}),d.jsxs("form",{onSubmit:R,className:"space-y-5",children:[e&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(Fc,{htmlFor:"fullName",className:"text-sm font-bold text-slate-700",children:"Full Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(lB,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx(ui,{id:"fullName",type:"text",placeholder:"Ebenezer Bankole",value:c,onChange:pe=>u(pe.target.value),className:"pl-10 h-12 bg-slate-50/50 border-slate-200",required:e})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Fc,{htmlFor:"email",className:"text-sm font-bold text-slate-700",children:"Work Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Dm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx(ui,{id:"email",type:"email",placeholder:"name@company.com",value:s,onChange:pe=>o(pe.target.value),className:"pl-10 h-12 bg-slate-50/50 border-slate-200",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(Fc,{htmlFor:"password",name:"Password",className:"text-sm font-bold text-slate-700",children:"Password"}),!e&&d.jsx("button",{type:"button",onClick:()=>C(!0),className:"text-xs font-bold text-primary hover:text-primary/80 transition-colors",children:"Forgot?"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(CA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx(ui,{id:"password",type:"password",placeholder:"",value:a,onChange:pe=>l(pe.target.value),className:"pl-10 h-12 bg-slate-50/50 border-slate-200",required:!0,minLength:6})]})]}),d.jsx(qe,{type:"submit",className:"w-full h-12 text-base font-bold bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black border-none shadow-md shadow-[#FFC83D]/20 mt-2",disabled:r||!h,children:r?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(zi,{className:"w-5 h-5 animate-spin"})," Preparing..."]}):e?"Create My Account":"Sign In to Endorse"})]}),d.jsxs("p",{className:"text-center text-slate-500 mt-8 text-sm",children:[e?"Already a member?":"New to Endorse?"," ",d.jsx("button",{type:"button",onClick:()=>t(!e),className:"text-primary hover:text-primary/80 font-bold underline decoration-2 underline-offset-4",children:e?"Sign in":"Sign up for free"})]})]})]})})]})},rme="modulepreload",ime=function(n){return"/"+n},Hj={},zc=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=ime(l),l in Hj)return;Hj[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":rme,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var sme="Separator",qj="horizontal",ome=["horizontal","vertical"],wH=D.forwardRef((n,e)=>{const{decorative:t,orientation:r=qj,...i}=n,s=ame(r)?r:qj,a=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return d.jsx(gr.div,{"data-orientation":s,...a,...i,ref:e})});wH.displayName=sme;function ame(n){return ome.includes(n)}var bH=wH;const xH=D.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},i)=>d.jsx(bH,{ref:i,decorative:t,orientation:e,className:vr("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));xH.displayName=bH.displayName;const pc=D.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:vr("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));pc.displayName="Card";const mp=D.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:vr("flex flex-col space-y-1.5 p-6",n),...e}));mp.displayName="CardHeader";const gp=D.forwardRef(({className:n,...e},t)=>d.jsx("h3",{ref:t,className:vr("text-2xl font-semibold leading-none tracking-tight",n),...e}));gp.displayName="CardTitle";const lme=D.forwardRef(({className:n,...e},t)=>d.jsx("p",{ref:t,className:vr("text-sm text-muted-foreground",n),...e}));lme.displayName="CardDescription";const mc=D.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:vr("p-6 pt-0",n),...e}));mc.displayName="CardContent";const cme=D.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:vr("flex items-center p-6 pt-0",n),...e}));cme.displayName="CardFooter";const ume=({onFileSelect:n,currentFile:e,accept:t=".pdf"})=>{const r=D.useCallback(s=>{s.preventDefault();const o=s.dataTransfer.files[0];if(o){const a=o.type==="application/pdf",l=o.name.match(/\.(doc|docx)$/i)||o.type==="application/msword"||o.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document";(a||l)&&n(o)}},[n]),i=s=>{var a;const o=(a=s.target.files)==null?void 0:a[0];o&&n(o)};return d.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary/50 transition-colors",onDrop:r,onDragOver:s=>s.preventDefault(),children:[e?d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx(Ys,{className:"h-8 w-8 text-primary"}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"font-medium text-foreground",children:e.name}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[(e.size/1024/1024).toFixed(2)," MB"]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx($w,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),d.jsx("p",{className:"text-lg font-medium text-foreground mb-2",children:"Drop your document here"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"PDF or Word documents"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4 font-bold text-primary",children:"or"})]}),d.jsxs("label",{children:[d.jsx("input",{type:"file",accept:t,onChange:i,className:"hidden"}),d.jsx(qe,{variant:"outline",asChild:!0,children:d.jsx("span",{className:"cursor-pointer",children:e?"Choose Different File":"Browse Files"})})]})]})},dme=({signers:n,setSigners:e,onSendInvites:t})=>{const[r,i]=D.useState(""),[s,o]=D.useState(""),a=()=>{if(!r||!s){st.error("Please enter both name and email for the signer.");return}if(!/^\S+@\S+\.\S+$/.test(r)){st.error("Please enter a valid email address.");return}if(n.some(c=>c.email===r)){st.warning("This signer has already been added.");return}e([...n,{email:r,name:s}]),i(""),o("")},l=c=>{e(n.filter(u=>u.email!==c))};return d.jsxs(pc,{className:"gradient-card border-border/50 shadow-soft",children:[d.jsx(mp,{children:d.jsx(gp,{className:"font-display font-semibold",children:"Invite Others to Sign"})}),d.jsxs(mc,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ui,{placeholder:"Signer's Name",value:s,onChange:c=>o(c.target.value)}),d.jsx(ui,{type:"email",placeholder:"Signer's Email",value:r,onChange:c=>i(c.target.value)}),d.jsxs(qe,{variant:"outline",className:"w-full",onClick:a,children:[d.jsx(aB,{className:"w-4 h-4 mr-2"})," Add Signer"]})]}),d.jsx("div",{className:"space-y-2",children:n.map(c=>d.jsxs("div",{className:"flex items-center justify-between bg-background/50 p-2 rounded-md text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:c.name}),d.jsx("p",{className:"text-muted-foreground",children:c.email})]}),d.jsx(qe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(c.email),children:d.jsx(Ps,{className:"w-4 h-4"})})]},c.email))}),n.length>0&&d.jsxs(qe,{className:"w-full",onClick:t,children:[d.jsx(Z4,{className:"w-4 h-4 mr-2"}),"Send Invites"]})]})]})};function Jk(){return Jk=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jk.apply(null,arguments)}function hme(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function fme(n,e){if(n==null)return{};var t,r,i=hme(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function On(n){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(n)}function pme(n,e,t){return Object.defineProperty(n,"prototype",{writable:!1}),n}function mme(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Zk(n,e){return Zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Zk(n,e)}function gme(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Zk(n,e)}function nE(n){return nE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nE(n)}function _H(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_H=function(){return!!n})()}function vme(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function yme(n,e){if(e&&(On(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vme(n)}function wme(n){var e=_H();return function(){var t,r=nE(n);if(e){var i=nE(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return yme(this,t)}}var AH={exports:{}},bme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xme=bme,_me=xme;function EH(){}function SH(){}SH.resetWarningCache=EH;var Ame=function(){function n(r,i,s,o,a,l){if(l!==_me){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:SH,resetWarningCache:EH};return t.PropTypes=t,t};AH.exports=Ame();var Eme=AH.exports;const Go=v1(Eme);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bzier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bzier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function Zm(n,e,t){this.x=n,this.y=e,this.time=t||new Date().getTime()}Zm.prototype.velocityFrom=function(n){return this.time!==n.time?this.distanceTo(n)/(this.time-n.time):1};Zm.prototype.distanceTo=function(n){return Math.sqrt(Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2))};Zm.prototype.equals=function(n){return this.x===n.x&&this.y===n.y&&this.time===n.time};function M3(n,e,t,r){this.startPoint=n,this.control1=e,this.control2=t,this.endPoint=r}M3.prototype.length=function(){for(var n=10,e=0,t=void 0,r=void 0,i=0;i<=n;i+=1){var s=i/n,o=this._point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this._point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var l=o-t,c=a-r;e+=Math.sqrt(l*l+c*c)}t=o,r=a}return e};M3.prototype._point=function(n,e,t,r,i){return e*(1-n)*(1-n)*(1-n)+3*t*(1-n)*(1-n)*n+3*r*(1-n)*n*n+i*n*n*n};function Sme(n,e,t){var r,i,s,o=null,a=0;t||(t={});var l=function(){a=t.leading===!1?0:Date.now(),o=null,s=n.apply(r,i),o||(r=i=null)};return function(){var c=Date.now();!a&&t.leading===!1&&(a=c);var u=e-(c-a);return r=this,i=arguments,u<=0||u>e?(o&&(clearTimeout(o),o=null),a=c,s=n.apply(r,i),o||(r=i=null)):!o&&t.trailing!==!1&&(o=setTimeout(l,u)),s}}function rr(n,e){var t=this,r=e||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=Sme(rr.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=rr.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=n,this._ctx=n.getContext("2d"),this.clear(),this._handleMouseDown=function(i){i.which===1&&(t._mouseButtonDown=!0,t._strokeBegin(i))},this._handleMouseMove=function(i){t._mouseButtonDown&&t._strokeMoveUpdate(i)},this._handleMouseUp=function(i){i.which===1&&t._mouseButtonDown&&(t._mouseButtonDown=!1,t._strokeEnd(i))},this._handleTouchStart=function(i){if(i.targetTouches.length===1){var s=i.changedTouches[0];t._strokeBegin(s)}},this._handleTouchMove=function(i){i.preventDefault();var s=i.targetTouches[0];t._strokeMoveUpdate(s)},this._handleTouchEnd=function(i){var s=i.target===t._canvas;s&&(i.preventDefault(),t._strokeEnd(i))},this.on()}rr.prototype.clear=function(){var n=this._ctx,e=this._canvas;n.fillStyle=this.backgroundColor,n.clearRect(0,0,e.width,e.height),n.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0};rr.prototype.fromDataURL=function(n){var e=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=new Image,i=t.ratio||window.devicePixelRatio||1,s=t.width||this._canvas.width/i,o=t.height||this._canvas.height/i;this._reset(),r.src=n,r.onload=function(){e._ctx.drawImage(r,0,0,s,o)},this._isEmpty=!1};rr.prototype.toDataURL=function(n){var e;switch(n){case"image/svg+xml":return this._toSVG();default:for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return(e=this._canvas).toDataURL.apply(e,[n].concat(r))}};rr.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};rr.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};rr.prototype.isEmpty=function(){return this._isEmpty};rr.prototype._strokeBegin=function(n){this._data.push([]),this._reset(),this._strokeUpdate(n),typeof this.onBegin=="function"&&this.onBegin(n)};rr.prototype._strokeUpdate=function(n){var e=n.clientX,t=n.clientY,r=this._createPoint(e,t),i=this._data[this._data.length-1],s=i&&i[i.length-1],o=s&&r.distanceTo(s)<this.minDistance;if(!(s&&o)){var a=this._addPoint(r),l=a.curve,c=a.widths;l&&c&&this._drawCurve(l,c.start,c.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}};rr.prototype._strokeEnd=function(n){var e=this.points.length>2,t=this.points[0];if(!e&&t&&this._drawDot(t),t){var r=this._data[this._data.length-1],i=r[r.length-1];t.equals(i)||r.push({x:t.x,y:t.y,time:t.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(n)};rr.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};rr.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};rr.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};rr.prototype._createPoint=function(n,e,t){var r=this._canvas.getBoundingClientRect();return new Zm(n-r.left,e-r.top,t||new Date().getTime())};rr.prototype._addPoint=function(n){var e=this.points,t=void 0;if(e.push(n),e.length>2){e.length===3&&e.unshift(e[0]),t=this._calculateCurveControlPoints(e[0],e[1],e[2]);var r=t.c2;t=this._calculateCurveControlPoints(e[1],e[2],e[3]);var i=t.c1,s=new M3(e[1],r,i,e[2]),o=this._calculateCurveWidths(s);return e.shift(),{curve:s,widths:o}}return{}};rr.prototype._calculateCurveControlPoints=function(n,e,t){var r=n.x-e.x,i=n.y-e.y,s=e.x-t.x,o=e.y-t.y,a={x:(n.x+e.x)/2,y:(n.y+e.y)/2},l={x:(e.x+t.x)/2,y:(e.y+t.y)/2},c=Math.sqrt(r*r+i*i),u=Math.sqrt(s*s+o*o),h=a.x-l.x,p=a.y-l.y,f=u/(c+u),w={x:l.x+h*f,y:l.y+p*f},y=e.x-w.x,_=e.y-w.y;return{c1:new Zm(a.x+y,a.y+_),c2:new Zm(l.x+y,l.y+_)}};rr.prototype._calculateCurveWidths=function(n){var e=n.startPoint,t=n.endPoint,r={start:null,end:null},i=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(i);return r.start=this._lastWidth,r.end=s,this._lastVelocity=i,this._lastWidth=s,r};rr.prototype._strokeWidth=function(n){return Math.max(this.maxWidth/(n+1),this.minWidth)};rr.prototype._drawPoint=function(n,e,t){var r=this._ctx;r.moveTo(n,e),r.arc(n,e,t,0,2*Math.PI,!1),this._isEmpty=!1};rr.prototype._drawCurve=function(n,e,t){var r=this._ctx,i=t-e,s=Math.floor(n.length());r.beginPath();for(var o=0;o<s;o+=1){var a=o/s,l=a*a,c=l*a,u=1-a,h=u*u,p=h*u,f=p*n.startPoint.x;f+=3*h*a*n.control1.x,f+=3*u*l*n.control2.x,f+=c*n.endPoint.x;var w=p*n.startPoint.y;w+=3*h*a*n.control1.y,w+=3*u*l*n.control2.y,w+=c*n.endPoint.y;var y=e+c*i;this._drawPoint(f,w,y)}r.closePath(),r.fill()};rr.prototype._drawDot=function(n){var e=this._ctx,t=typeof this.dotSize=="function"?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(n.x,n.y,t),e.closePath(),e.fill()};rr.prototype._fromData=function(n,e,t){for(var r=0;r<n.length;r+=1){var i=n[r];if(i.length>1)for(var s=0;s<i.length;s+=1){var o=i[s],a=new Zm(o.x,o.y,o.time),l=o.color;if(s===0)this.penColor=l,this._reset(),this._addPoint(a);else if(s!==i.length-1){var c=this._addPoint(a),u=c.curve,h=c.widths;u&&h&&e(u,h,l)}}else{this._reset();var p=i[0];t(p)}}};rr.prototype._toSVG=function(){var n=this,e=this._data,t=this._canvas,r=Math.max(window.devicePixelRatio||1,1),i=0,s=0,o=t.width/r,a=t.height/r,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttributeNS(null,"width",t.width),l.setAttributeNS(null,"height",t.height),this._fromData(e,function(b,A,E){var N=document.createElement("path");if(!isNaN(b.control1.x)&&!isNaN(b.control1.y)&&!isNaN(b.control2.x)&&!isNaN(b.control2.y)){var F="M "+b.startPoint.x.toFixed(3)+","+b.startPoint.y.toFixed(3)+" "+("C "+b.control1.x.toFixed(3)+","+b.control1.y.toFixed(3)+" ")+(b.control2.x.toFixed(3)+","+b.control2.y.toFixed(3)+" ")+(b.endPoint.x.toFixed(3)+","+b.endPoint.y.toFixed(3));N.setAttribute("d",F),N.setAttribute("stroke-width",(A.end*2.25).toFixed(3)),N.setAttribute("stroke",E),N.setAttribute("fill","none"),N.setAttribute("stroke-linecap","round"),l.appendChild(N)}},function(b){var A=document.createElement("circle"),E=typeof n.dotSize=="function"?n.dotSize():n.dotSize;A.setAttribute("r",E),A.setAttribute("cx",b.x),A.setAttribute("cy",b.y),A.setAttribute("fill",b.color),l.appendChild(A)});var c="data:image/svg+xml;base64,",u='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+i+" "+s+" "+o+" "+a+'"')+(' width="'+o+'"')+(' height="'+a+'"')+">",h=l.innerHTML;if(h===void 0){var p=document.createElement("dummy"),f=l.childNodes;p.innerHTML="";for(var w=0;w<f.length;w+=1)p.appendChild(f[w].cloneNode(!0));h=p.innerHTML}var y="</svg>",_=u+h+y;return c+btoa(_)};rr.prototype.fromData=function(n){var e=this;this.clear(),this._fromData(n,function(t,r){return e._drawCurve(t,r.start,r.end)},function(t){return e._drawDot(t)}),this._data=n};rr.prototype.toData=function(){return this._data};var NH={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(pY,function(){return function(t){function r(s){if(i[s])return i[s].exports;var o=i[s]={exports:{},id:s,loaded:!1};return t[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var i={};return r.m=t,r.c=i,r.p="",r(0)}([function(t,r){function i(c){var u=c.getContext("2d"),h=c.width,p=c.height,f=u.getImageData(0,0,h,p).data,w=a(!0,h,p,f),y=a(!1,h,p,f),_=l(!0,h,p,f),b=l(!1,h,p,f),A=b-_+1,E=y-w+1,N=u.getImageData(_,w,A,E);return c.width=A,c.height=E,u.clearRect(0,0,A,E),u.putImageData(N,0,0),c}function s(c,u,h,p){return{red:p[4*(h*u+c)],green:p[4*(h*u+c)+1],blue:p[4*(h*u+c)+2],alpha:p[4*(h*u+c)+3]}}function o(c,u,h,p){return s(c,u,h,p).alpha}function a(c,u,h,p){for(var f=c?1:-1,w=c?0:h-1,y=w;c?y<h:y>-1;y+=f)for(var _=0;_<u;_++)if(o(_,y,u,p))return y;return null}function l(c,u,h,p){for(var f=c?1:-1,w=c?0:u-1,y=w;c?y<u:y>-1;y+=f)for(var _=0;_<h;_++)if(o(y,_,u,p))return y;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i}])})})(NH);var Nme=NH.exports;const Cme=v1(Nme);var Tme=["canvasProps","clearOnResize"],FS=function(n){gme(t,n);var e=wme(t);function t(){var r;mme(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r.staticThis=r.constructor,r._sigPad=null,r._canvas=null,r.setRef=function(a){r._canvas=a,r._canvas===null&&(r._sigPad=null)},r._excludeOurProps=function(){var a=r.props;a.canvasProps,a.clearOnResize;var l=fme(a,Tme);return l},r.componentDidMount=function(){var a=r.getCanvas();r._sigPad=new rr(a,r._excludeOurProps()),r._resizeCanvas(),r.on()},r.componentWillUnmount=function(){r.off()},r.componentDidUpdate=function(){Object.assign(r._sigPad,r._excludeOurProps())},r.getCanvas=function(){if(r._canvas===null)throw r.staticThis.refNullError;return r._canvas},r.getTrimmedCanvas=function(){var a=r.getCanvas(),l=document.createElement("canvas");return l.width=a.width,l.height=a.height,l.getContext("2d").drawImage(a,0,0),Cme(l)},r.getSignaturePad=function(){if(r._sigPad===null)throw r.staticThis.refNullError;return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var a,l,c=(a=r.props.canvasProps)!==null&&a!==void 0?a:{},u=c.width,h=c.height;if(!(typeof u<"u"&&typeof h<"u")){var p=r.getCanvas(),f=Math.max((l=window.devicePixelRatio)!==null&&l!==void 0?l:1,1);typeof u>"u"&&(p.width=p.offsetWidth*f),typeof h>"u"&&(p.height=p.offsetHeight*f),p.getContext("2d").scale(f,f),r.clear()}},r.render=function(){var a=r.props.canvasProps;return Ye.createElement("canvas",Jk({ref:r.setRef},a))},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r.getSignaturePad().on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r.getSignaturePad().off()},r.clear=function(){return r.getSignaturePad().clear()},r.isEmpty=function(){return r.getSignaturePad().isEmpty()},r.fromDataURL=function(a,l){return r.getSignaturePad().fromDataURL(a,l)},r.toDataURL=function(a,l){return r.getSignaturePad().toDataURL(a,l)},r.fromData=function(a){return r.getSignaturePad().fromData(a)},r.toData=function(){return r.getSignaturePad().toData()},r}return pme(t)}(D.Component);FS.propTypes={velocityFilterWeight:Go.number,minWidth:Go.number,maxWidth:Go.number,minDistance:Go.number,dotSize:Go.oneOfType([Go.number,Go.func]),penColor:Go.string,throttle:Go.number,onEnd:Go.func,onBegin:Go.func,canvasProps:Go.object,clearOnResize:Go.bool};FS.defaultProps={clearOnResize:!0};FS.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");var Wj=!1,vp,eI,tI,g5,v5,CH,y5,nI,rI,iI,TH,sI,oI,kH,IH;function fo(){if(!Wj){Wj=!0;var n=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(n),t=/(Mac OS X)|(Windows)|(Linux)/.exec(n);if(sI=/\b(iPhone|iP[ao]d)/.exec(n),oI=/\b(iP[ao]d)/.exec(n),iI=/Android/i.exec(n),kH=/FBAN\/\w+;/i.exec(n),IH=/Mobile/i.exec(n),TH=!!/Win64/.exec(n),e){vp=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,vp&&document&&document.documentMode&&(vp=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(n);CH=r?parseFloat(r[1])+4:vp,eI=e[2]?parseFloat(e[2]):NaN,tI=e[3]?parseFloat(e[3]):NaN,g5=e[4]?parseFloat(e[4]):NaN,g5?(e=/(?:Chrome\/(\d+\.\d+))/.exec(n),v5=e&&e[1]?parseFloat(e[1]):NaN):v5=NaN}else vp=eI=tI=v5=g5=NaN;if(t){if(t[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(n);y5=i?parseFloat(i[1].replace("_",".")):!0}else y5=!1;nI=!!t[2],rI=!!t[3]}else y5=nI=rI=!1}}var aI={ie:function(){return fo()||vp},ieCompatibilityMode:function(){return fo()||CH>vp},ie64:function(){return aI.ie()&&TH},firefox:function(){return fo()||eI},opera:function(){return fo()||tI},webkit:function(){return fo()||g5},safari:function(){return aI.webkit()},chrome:function(){return fo()||v5},windows:function(){return fo()||nI},osx:function(){return fo()||y5},linux:function(){return fo()||rI},iphone:function(){return fo()||sI},mobile:function(){return fo()||sI||oI||iI||IH},nativeApp:function(){return fo()||kH},android:function(){return fo()||iI},ipad:function(){return fo()||oI}},kme=aI,__=!!(typeof window<"u"&&window.document&&window.document.createElement),Ime={canUseDOM:__,canUseWorkers:typeof Worker<"u",canUseEventListeners:__&&!!(window.addEventListener||window.attachEvent),canUseViewport:__&&!!window.screen,isInWorker:!__},Pme=Ime,PH=Pme,RH;PH.canUseDOM&&(RH=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Rme(n,e){if(!PH.canUseDOM||e&&!("addEventListener"in document))return!1;var t="on"+n,r=t in document;if(!r){var i=document.createElement("div");i.setAttribute(t,"return;"),r=typeof i[t]=="function"}return!r&&RH&&n==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Lme=Rme,Dme=kme,Mme=Lme,Gj=10,Kj=40,Yj=800;function LH(n){var e=0,t=0,r=0,i=0;return"detail"in n&&(t=n.detail),"wheelDelta"in n&&(t=-n.wheelDelta/120),"wheelDeltaY"in n&&(t=-n.wheelDeltaY/120),"wheelDeltaX"in n&&(e=-n.wheelDeltaX/120),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(e=t,t=0),r=e*Gj,i=t*Gj,"deltaY"in n&&(i=n.deltaY),"deltaX"in n&&(r=n.deltaX),(r||i)&&n.deltaMode&&(n.deltaMode==1?(r*=Kj,i*=Kj):(r*=Yj,i*=Yj)),r&&!e&&(e=r<1?-1:1),i&&!t&&(t=i<1?-1:1),{spinX:e,spinY:t,pixelX:r,pixelY:i}}LH.getEventType=function(){return Dme.firefox()?"DOMMouseScroll":Mme("wheel")?"wheel":"mousewheel"};var jme=LH,Ome=jme;const Fme=v1(Ome);function Bme(n,e,t,r,i,s){s===void 0&&(s=0);var o=l1(n,e,s),a=o.width,l=o.height,c=Math.min(a,t),u=Math.min(l,r);return c>u*i?{width:u*i,height:u}:{width:c,height:c/i}}function Ume(n){return n.width>n.height?n.width/n.naturalWidth:n.height/n.naturalHeight}function gy(n,e,t,r,i){i===void 0&&(i=0);var s=l1(e.width,e.height,i),o=s.width,a=s.height;return{x:Xj(n.x,o,t.width,r),y:Xj(n.y,a,t.height,r)}}function Xj(n,e,t,r){var i=e*r/2-t/2;return BS(n,-i,i)}function Qj(n,e){return Math.sqrt(Math.pow(n.y-e.y,2)+Math.pow(n.x-e.x,2))}function Jj(n,e){return Math.atan2(e.y-n.y,e.x-n.x)*180/Math.PI}function Vme(n,e,t,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?zme:$me,l=l1(e.width,e.height,s),c=l1(e.naturalWidth,e.naturalHeight,s),u={x:a(100,((l.width-t.width/i)/2-n.x/i)/l.width*100),y:a(100,((l.height-t.height/i)/2-n.y/i)/l.height*100),width:a(100,t.width/l.width*100/i),height:a(100,t.height/l.height*100/i)},h=Math.round(a(c.width,u.width*c.width/100)),p=Math.round(a(c.height,u.height*c.height/100)),f=c.width>=c.height*r,w=f?{width:Math.round(p*r),height:p}:{width:h,height:Math.round(h/r)},y=ar(ar({},w),{x:Math.round(a(c.width-w.width,u.x*c.width/100)),y:Math.round(a(c.height-w.height,u.y*c.height/100))});return{croppedAreaPercentages:u,croppedAreaPixels:y}}function zme(n,e){return Math.min(n,Math.max(0,e))}function $me(n,e){return e}function Hme(n,e,t,r,i,s){var o=l1(e.width,e.height,t),a=BS(r.width/o.width*(100/n.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(n.x/100),y:a*o.height/2-r.height/2-o.height*a*(n.y/100)};return{crop:l,zoom:a}}function qme(n,e,t){var r=Ume(e);return t.height>t.width?t.height/(n.height*r):t.width/(n.width*r)}function Wme(n,e,t,r,i,s){t===void 0&&(t=0);var o=l1(e.naturalWidth,e.naturalHeight,t),a=BS(qme(n,e,r),i,s),l=r.height>r.width?r.height/n.height:r.width/n.width,c={x:((o.width-n.width)/2-n.x)*l,y:((o.height-n.height)/2-n.y)*l};return{crop:c,zoom:a}}function Zj(n,e){return{x:(e.x+n.x)/2,y:(e.y+n.y)/2}}function Gme(n){return n*Math.PI/180}function l1(n,e,t){var r=Gme(t);return{width:Math.abs(Math.cos(r)*n)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*n)+Math.abs(Math.cos(r)*e)}}function BS(n,e,t){return Math.min(Math.max(n,e),t)}function A_(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.filter(function(t){return typeof t=="string"&&t.length>0}).join(" ").trim()}var Kme=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Yme=1,Xme=3,Qme=1,eO=function(n){pie(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.cropperRef=D.createRef(),t.imageRef=D.createRef(),t.videoRef=D.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc=typeof document<"u"?document:null,t.currentWindow=typeof window<"u"?window:null,t.resizeObserver=null,t.previousCropSize=null,t.isInitialized=!1,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!t.containerRef)){var r=!0;t.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(r){return r.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturechange",t.onGestureChange),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var r=t.computeSizes();r&&(t.previousCropSize=r,t.emitCropData(),t.setInitialCrop(r),t.isInitialized=!0),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(r){if(t.props.initialCroppedAreaPercentages){var i=Hme(t.props.initialCroppedAreaPercentages,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),s=i.crop,o=i.zoom;t.props.onCropChange(s),t.props.onZoomChange&&t.props.onZoomChange(o)}else if(t.props.initialCroppedAreaPixels){var a=Wme(t.props.initialCroppedAreaPixels,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),s=a.crop,o=a.zoom;t.props.onCropChange(s),t.props.onZoomChange&&t.props.onZoomChange(o)}},t.computeSizes=function(){var r,i,s,o,a,l,c=t.imageRef.current||t.videoRef.current;if(c&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var u=t.containerRect.width/t.containerRect.height,h=((r=t.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=t.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,p=((s=t.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=t.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,f=c.offsetWidth<h||c.offsetHeight<p,w=h/p,y=void 0;if(f)switch(t.state.mediaObjectFit){default:case"contain":y=u>w?{width:t.containerRect.height*w,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/w};break;case"horizontal-cover":y={width:t.containerRect.width,height:t.containerRect.width/w};break;case"vertical-cover":y={width:t.containerRect.height*w,height:t.containerRect.height};break}else y={width:c.offsetWidth,height:c.offsetHeight};t.mediaSize=ar(ar({},y),{naturalWidth:h,naturalHeight:p}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var _=t.props.cropSize?t.props.cropSize:Bme(t.mediaSize.width,t.mediaSize.height,t.containerRect.width,t.containerRect.height,t.props.aspect,t.props.rotation);return(((a=t.state.cropSize)===null||a===void 0?void 0:a.height)!==_.height||((l=t.state.cropSize)===null||l===void 0?void 0:l.width)!==_.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(_),t.setState({cropSize:_},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(_),_}},t.saveContainerPosition=function(){if(t.containerRef){var r=t.containerRef.getBoundingClientRect();t.containerPosition={x:r.left,y:r.top}}},t.onMouseDown=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(e.getMousePoint(r)))},t.onMouseMove=function(r){return t.onDrag(e.getMousePoint(r))},t.onScroll=function(r){t.currentDoc&&(r.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(r){t.currentDoc&&(t.isTouching=!0,!(t.props.onTouchRequest&&!t.props.onTouchRequest(r))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),r.touches.length===2?t.onPinchStart(r):r.touches.length===1&&t.onDragStart(e.getTouchPoint(r.touches[0]))))},t.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?t.onPinchMove(r):r.touches.length===1&&t.onDrag(e.getTouchPoint(r.touches[0]))},t.onGestureStart=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureChange),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureChange=function(r){if(r.preventDefault(),!t.isTouching){var i=e.getMousePoint(r),s=t.gestureZoomStart-1+r.scale;if(t.setNewZoom(s,i,{shouldUpdatePosition:!0}),t.props.onRotationChange){var o=t.gestureRotationStart+r.rotation;t.props.onRotationChange(o)}}},t.onGestureEnd=function(r){t.cleanEvents()},t.onDragStart=function(r){var i,s,o=r.x,a=r.y;t.dragStartPosition={x:o,y:a},t.dragStartCrop=ar({},t.props.crop),(s=(i=t.props).onInteractionStart)===null||s===void 0||s.call(i)},t.onDrag=function(r){var i=r.x,s=r.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&!(i===void 0||s===void 0)){var o=i-t.dragStartPosition.x,a=s-t.dragStartPosition.y,l={x:t.dragStartCrop.x+o,y:t.dragStartCrop.y+a},c=t.props.restrictPosition?gy(l,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):l;t.props.onCropChange(c)}}))},t.onDragStopped=function(){var r,i;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),(i=(r=t.props).onInteractionEnd)===null||i===void 0||i.call(r)},t.onWheel=function(r){if(t.currentWindow&&!(t.props.onWheelRequest&&!t.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=Fme(r).pixelY,o=t.props.zoom-s*t.props.zoomSpeed/200;t.setNewZoom(o,i,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=t.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=t.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},t.getPointOnContainer=function(r,i){var s=r.x,o=r.y;if(!t.containerRect)throw new Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(s-i.x),y:t.containerRect.height/2-(o-i.y)}},t.getPointOnMedia=function(r){var i=r.x,s=r.y,o=t.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},t.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!t.state.cropSize||!t.props.onZoomChange)){var c=BS(r,t.props.minZoom,t.props.maxZoom);if(l){var u=t.getPointOnContainer(i,t.containerPosition),h=t.getPointOnMedia(u),p={x:h.x*c-u.x,y:h.y*c-u.y},f=t.props.restrictPosition?gy(p,t.mediaSize,t.state.cropSize,c,t.props.rotation):p;t.props.onCropChange(f)}t.props.onZoomChange(c)}},t.getCropData=function(){if(!t.state.cropSize)return null;var r=t.props.restrictPosition?gy(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;return Vme(r,t.mediaSize,t.state.cropSize,t.getAspect(),t.props.zoom,t.props.rotation,t.props.restrictPosition)},t.emitCropData=function(){var r=t.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(i,s),t.props.onCropAreaChange&&t.props.onCropAreaChange(i,s)}},t.emitCropAreaChange=function(){var r=t.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(i,s)}},t.recomputeCropPosition=function(){var r,i;if(t.state.cropSize){var s=t.props.crop;if(t.isInitialized&&(!((r=t.previousCropSize)===null||r===void 0)&&r.width)&&(!((i=t.previousCropSize)===null||i===void 0)&&i.height)){var o=Math.abs(t.previousCropSize.width-t.state.cropSize.width)>1e-6||Math.abs(t.previousCropSize.height-t.state.cropSize.height)>1e-6;if(o){var a=t.state.cropSize.width/t.previousCropSize.width,l=t.state.cropSize.height/t.previousCropSize.height;s={x:t.props.crop.x*a,y:t.props.crop.y*l}}}var c=t.props.restrictPosition?gy(s,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):s;t.previousCropSize=t.state.cropSize,t.props.onCropChange(c),t.emitCropData()}},t.onKeyDown=function(r){var i,s,o=t.props,a=o.crop,l=o.onCropChange,c=o.keyboardStep,u=o.zoom,h=o.rotation,p=c;if(t.state.cropSize){r.shiftKey&&(p*=.2);var f=ar({},a);switch(r.key){case"ArrowUp":f.y-=p,r.preventDefault();break;case"ArrowDown":f.y+=p,r.preventDefault();break;case"ArrowLeft":f.x-=p,r.preventDefault();break;case"ArrowRight":f.x+=p,r.preventDefault();break;default:return}t.props.restrictPosition&&(f=gy(f,t.mediaSize,t.state.cropSize,u,h)),r.repeat||(s=(i=t.props).onInteractionStart)===null||s===void 0||s.call(i),l(f)}},t.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}t.emitCropData(),(s=(i=t.props).onInteractionEnd)===null||s===void 0||s.call(i)},t}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Kme,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var t,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(t){var r,i,s,o,a,l,c,u,h;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect?this.computeSizes():t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():((r=t.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=t.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=t.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=t.crop)===null||c===void 0?void 0:c.y)!==((u=this.props.crop)===null||u===void 0?void 0:u.y))&&this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var p=this.getObjectFit();p!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:p},this.computeSizes)},e.prototype.getAspect=function(){var t=this.props,r=t.cropSize,i=t.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var t,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,u=l/c;return u<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(t){var r=e.getTouchPoint(t.touches[0]),i=e.getTouchPoint(t.touches[1]);this.lastPinchDistance=Qj(r,i),this.lastPinchRotation=Jj(r,i),this.onDragStart(Zj(r,i))},e.prototype.onPinchMove=function(t){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(t.touches[0]),s=e.getTouchPoint(t.touches[1]),o=Zj(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=Qj(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var c=Jj(i,s),u=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(u),r.lastPinchRotation=c})}},e.prototype.render=function(){var t=this,r,i=this.props,s=i.image,o=i.video,a=i.mediaProps,l=i.cropperProps,c=i.transform,u=i.crop,h=u.x,p=u.y,f=i.rotation,w=i.zoom,y=i.cropShape,_=i.showGrid,b=i.roundCropAreaPixels,A=i.style,E=A.containerStyle,N=A.cropAreaStyle,F=A.mediaStyle,V=i.classes,L=V.containerClassName,C=V.cropAreaClassName,k=V.mediaClassName,j=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return D.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(M){return t.containerRef=M},"data-testid":"container",style:E,className:A_("reactEasyCrop_Container",L)},s?D.createElement("img",ar({alt:"",className:A_("reactEasyCrop_Image",j==="contain"&&"reactEasyCrop_Contain",j==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",j==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",k)},a,{src:s,ref:this.imageRef,style:ar(ar({},F),{transform:c||"translate(".concat(h,"px, ").concat(p,"px) rotate(").concat(f,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):o&&D.createElement("video",ar({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:A_("reactEasyCrop_Video",j==="contain"&&"reactEasyCrop_Contain",j==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",j==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",k)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ar(ar({},F),{transform:c||"translate(".concat(h,"px, ").concat(p,"px) rotate(").concat(f,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(T){return D.createElement("source",ar({key:T.src},T))})),this.state.cropSize&&D.createElement("div",ar({ref:this.cropperRef,style:ar(ar({},N),{width:b?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:b?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:A_("reactEasyCrop_CropArea",y==="round"&&"reactEasyCrop_CropAreaRound",_&&"reactEasyCrop_CropAreaGrid",C)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Xme,minZoom:Yme,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Qme},e.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e}(D.Component),Kl=Uint8Array,ha=Uint16Array,j3=Int32Array,O3=new Kl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),F3=new Kl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tO=new Kl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DH=function(n,e){for(var t=new ha(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new j3(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},MH=DH(O3,2),Jme=MH.b,lI=MH.r;Jme[28]=258,lI[258]=28;var Zme=DH(F3,0),nO=Zme.r,cI=new ha(32768);for(var fr=0;fr<32768;++fr){var ah=(fr&43690)>>1|(fr&21845)<<1;ah=(ah&52428)>>2|(ah&13107)<<2,ah=(ah&61680)>>4|(ah&3855)<<4,cI[fr]=((ah&65280)>>8|(ah&255)<<8)>>1}var gw=function(n,e,t){for(var r=n.length,i=0,s=new ha(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new ha(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new ha(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],h=o[n[i]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)a[cI[h]>>l]=c}else for(a=new ha(r),i=0;i<r;++i)n[i]&&(a[i]=cI[o[n[i]-1]++]>>15-n[i]);return a},eg=new Kl(288);for(var fr=0;fr<144;++fr)eg[fr]=8;for(var fr=144;fr<256;++fr)eg[fr]=9;for(var fr=256;fr<280;++fr)eg[fr]=7;for(var fr=280;fr<288;++fr)eg[fr]=8;var rE=new Kl(32);for(var fr=0;fr<32;++fr)rE[fr]=5;var ege=gw(eg,9,0),tge=gw(rE,5,0),jH=function(n){return(n+7)/8|0},nge=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Kl(n.subarray(e,t))},_u=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},vy=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},NC=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:FH,l:0};if(i==1){var o=new Kl(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(F,V){return F.f-V.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[h].f?c++:h++],l=t[c!=u&&t[c].f<t[h].f?c++:h++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var f=new ha(p+1),w=uI(t[u-1],f,0);if(w>e){var r=0,y=0,_=w-e,b=1<<_;for(s.sort(function(V,L){return f[L.s]-f[V.s]||V.f-L.f});r<i;++r){var A=s[r].s;if(f[A]>e)y+=b-(1<<w-f[A]),f[A]=e;else break}for(y>>=_;y>0;){var E=s[r].s;f[E]<e?y-=1<<e-f[E]++-1:++r}for(;r>=0&&y;--r){var N=s[r].s;f[N]==e&&(--f[N],++y)}w=e}return{t:new Kl(f),l:w}},uI=function(n,e,t){return n.s==-1?Math.max(uI(n.l,e,t+1),uI(n.r,e,t+1)):e[n.s]=t},rO=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ha(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},yy=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},OH=function(n,e,t){var r=t.length,i=jH(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},iO=function(n,e,t,r,i,s,o,a,l,c,u){_u(e,u++,t),++i[256];for(var h=NC(i,15),p=h.t,f=h.l,w=NC(s,15),y=w.t,_=w.l,b=rO(p),A=b.c,E=b.n,N=rO(y),F=N.c,V=N.n,L=new ha(19),C=0;C<A.length;++C)++L[A[C]&31];for(var C=0;C<F.length;++C)++L[F[C]&31];for(var k=NC(L,7),j=k.t,T=k.l,M=19;M>4&&!j[tO[M-1]];--M);var R=c+5<<3,q=yy(i,eg)+yy(s,rE)+o,ce=yy(i,p)+yy(s,y)+o+14+3*M+yy(L,j)+2*L[16]+3*L[17]+7*L[18];if(l>=0&&R<=q&&R<=ce)return OH(e,u,n.subarray(l,l+c));var de,ae,Q,ne;if(_u(e,u,1+(ce<q)),u+=2,ce<q){de=gw(p,f,0),ae=p,Q=gw(y,_,0),ne=y;var ge=gw(j,T,0);_u(e,u,E-257),_u(e,u+5,V-1),_u(e,u+10,M-4),u+=14;for(var C=0;C<M;++C)_u(e,u+3*C,j[tO[C]]);u+=3*M;for(var pe=[A,F],U=0;U<2;++U)for(var Y=pe[U],C=0;C<Y.length;++C){var re=Y[C]&31;_u(e,u,ge[re]),u+=j[re],re>15&&(_u(e,u,Y[C]>>5&127),u+=Y[C]>>12)}}else de=ege,ae=eg,Q=tge,ne=rE;for(var C=0;C<a;++C){var le=r[C];if(le>255){var re=le>>18&31;vy(e,u,de[re+257]),u+=ae[re+257],re>7&&(_u(e,u,le>>23&31),u+=O3[re]);var he=le&31;vy(e,u,Q[he]),u+=ne[he],he>3&&(vy(e,u,le>>5&8191),u+=F3[he])}else vy(e,u,de[le]),u+=ae[le]}return vy(e,u,de[256]),u+ae[256]},rge=new j3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),FH=new Kl(0),ige=function(n,e,t,r,i,s){var o=s.z||n.length,a=new Kl(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var h=rge[e-1],p=h>>13,f=h&8191,w=(1<<t)-1,y=s.p||new ha(32768),_=s.h||new ha(w+1),b=Math.ceil(t/3),A=2*b,E=function(Le){return(n[Le]^n[Le+1]<<b^n[Le+2]<<A)&w},N=new j3(25e3),F=new ha(288),V=new ha(32),L=0,C=0,k=s.i||0,j=0,T=s.w||0,M=0;k+2<o;++k){var R=E(k),q=k&32767,ce=_[R];if(y[q]=ce,_[R]=q,T<=k){var de=o-k;if((L>7e3||j>24576)&&(de>423||!c)){u=iO(n,l,0,N,F,V,C,j,M,k-M,u),j=L=C=0,M=k;for(var ae=0;ae<286;++ae)F[ae]=0;for(var ae=0;ae<30;++ae)V[ae]=0}var Q=2,ne=0,ge=f,pe=q-ce&32767;if(de>2&&R==E(k-pe))for(var U=Math.min(p,de)-1,Y=Math.min(32767,k),re=Math.min(258,de);pe<=Y&&--ge&&q!=ce;){if(n[k+Q]==n[k+Q-pe]){for(var le=0;le<re&&n[k+le]==n[k+le-pe];++le);if(le>Q){if(Q=le,ne=pe,le>U)break;for(var he=Math.min(pe,le-2),ue=0,ae=0;ae<he;++ae){var Ae=k-pe+ae&32767,we=y[Ae],_e=Ae-we&32767;_e>ue&&(ue=_e,ce=Ae)}}}q=ce,ce=y[q],pe+=q-ce&32767}if(ne){N[j++]=268435456|lI[Q]<<18|nO[ne];var Me=lI[Q]&31,Ee=nO[ne]&31;C+=O3[Me]+F3[Ee],++F[257+Me],++V[Ee],T=k+Q,++L}else N[j++]=n[k],++F[n[k]]}}for(k=Math.max(k,T);k<o;++k)N[j++]=n[k],++F[n[k]];u=iO(n,l,c,N,F,V,C,j,M,k-M,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=_,s.p=y,s.i=k,s.w=T)}else{for(var k=s.w||0;k<o+c;k+=65535){var Ce=k+65535;Ce>=o&&(l[u/8|0]=c,Ce=o),u=OH(l,u+1,n.subarray(k,Ce))}s.i=o}return nge(a,0,r+jH(u)+i)},BH=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},sge=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Kl(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return ige(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},UH=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},oge=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=BH();i.p(e.dictionary),UH(n,2,i.d())}};function dI(n,e){e||(e={});var t=BH();t.p(n);var r=sge(n,e,e.dictionary?6:2,4);return oge(r,e),UH(r,r.length-4,t.d()),r}var age=typeof TextDecoder<"u"&&new TextDecoder,lge=0;try{age.decode(FH,{stream:!0}),lge=1}catch{}function cge(n){if(Array.isArray(n))return n}function uge(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function sO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function dge(n,e){if(n){if(typeof n=="string")return sO(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?sO(n,e):void 0}}function hge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oO(n,e){return cge(n)||uge(n,e)||dge(n,e)||hge()}function aO(n,e="utf8"){return new TextDecoder(e).decode(n)}const fge=new TextEncoder;function pge(n){return fge.encode(n)}const mge=1024*8,gge=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),CC={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class B3{constructor(e=mge,t={}){rt(this,"buffer");rt(this,"byteLength");rt(this,"byteOffset");rt(this,"length");rt(this,"offset");rt(this,"lastWrittenByte");rt(this,"littleEndian");rt(this,"_data");rt(this,"_mark");rt(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof B3)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=CC[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===gge&&t!=="uint8"&&t!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new CC[t](a.buffer);return this.offset+=r,l.reverse(),l}const o=new CC[t](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return aO(this.readBytes(e))}decodeText(e=1,t="utf8"){return aO(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(pge(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const vge=4,lO=0,cO=1,yge=2;function M1(n){let e=n.length;for(;--e>=0;)n[e]=0}const wge=0,VH=1,bge=2,xge=3,_ge=258,U3=29,gx=256,fb=gx+1+U3,I0=30,V3=19,zH=2*fb+1,Cp=15,TC=16,Age=7,z3=256,$H=16,HH=17,qH=18,hI=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),w5=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ege=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),WH=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Sge=512,Ru=new Array((fb+2)*2);M1(Ru);const vw=new Array(I0*2);M1(vw);const pb=new Array(Sge);M1(pb);const mb=new Array(_ge-xge+1);M1(mb);const $3=new Array(U3);M1($3);const iE=new Array(I0);M1(iE);function kC(n,e,t,r,i){this.static_tree=n,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=n&&n.length}let GH,KH,YH;function IC(n,e){this.dyn_tree=n,this.max_code=0,this.stat_desc=e}const XH=n=>n<256?pb[n]:pb[256+(n>>>7)],gb=(n,e)=>{n.pending_buf[n.pending++]=e&255,n.pending_buf[n.pending++]=e>>>8&255},So=(n,e,t)=>{n.bi_valid>TC-t?(n.bi_buf|=e<<n.bi_valid&65535,gb(n,n.bi_buf),n.bi_buf=e>>TC-n.bi_valid,n.bi_valid+=t-TC):(n.bi_buf|=e<<n.bi_valid&65535,n.bi_valid+=t)},Bc=(n,e,t)=>{So(n,t[e*2],t[e*2+1])},QH=(n,e)=>{let t=0;do t|=n&1,n>>>=1,t<<=1;while(--e>0);return t>>>1},Nge=n=>{n.bi_valid===16?(gb(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},Cge=(n,e)=>{const t=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,u,h,p,f,w,y=0;for(p=0;p<=Cp;p++)n.bl_count[p]=0;for(t[n.heap[n.heap_max]*2+1]=0,c=n.heap_max+1;c<zH;c++)u=n.heap[c],p=t[t[u*2+1]*2+1]+1,p>l&&(p=l,y++),t[u*2+1]=p,!(u>r)&&(n.bl_count[p]++,f=0,u>=a&&(f=o[u-a]),w=t[u*2],n.opt_len+=w*(p+f),s&&(n.static_len+=w*(i[u*2+1]+f)));if(y!==0){do{for(p=l-1;n.bl_count[p]===0;)p--;n.bl_count[p]--,n.bl_count[p+1]+=2,n.bl_count[l]--,y-=2}while(y>0);for(p=l;p!==0;p--)for(u=n.bl_count[p];u!==0;)h=n.heap[--c],!(h>r)&&(t[h*2+1]!==p&&(n.opt_len+=(p-t[h*2+1])*t[h*2],t[h*2+1]=p),u--)}},JH=(n,e,t)=>{const r=new Array(Cp+1);let i=0,s,o;for(s=1;s<=Cp;s++)i=i+t[s-1]<<1,r[s]=i;for(o=0;o<=e;o++){let a=n[o*2+1];a!==0&&(n[o*2]=QH(r[a]++,a))}},Tge=()=>{let n,e,t,r,i;const s=new Array(Cp+1);for(t=0,r=0;r<U3-1;r++)for($3[r]=t,n=0;n<1<<hI[r];n++)mb[t++]=r;for(mb[t-1]=r,i=0,r=0;r<16;r++)for(iE[r]=i,n=0;n<1<<w5[r];n++)pb[i++]=r;for(i>>=7;r<I0;r++)for(iE[r]=i<<7,n=0;n<1<<w5[r]-7;n++)pb[256+i++]=r;for(e=0;e<=Cp;e++)s[e]=0;for(n=0;n<=143;)Ru[n*2+1]=8,n++,s[8]++;for(;n<=255;)Ru[n*2+1]=9,n++,s[9]++;for(;n<=279;)Ru[n*2+1]=7,n++,s[7]++;for(;n<=287;)Ru[n*2+1]=8,n++,s[8]++;for(JH(Ru,fb+1,s),n=0;n<I0;n++)vw[n*2+1]=5,vw[n*2]=QH(n,5);GH=new kC(Ru,hI,gx+1,fb,Cp),KH=new kC(vw,w5,0,I0,Cp),YH=new kC(new Array(0),Ege,0,V3,Age)},ZH=n=>{let e;for(e=0;e<fb;e++)n.dyn_ltree[e*2]=0;for(e=0;e<I0;e++)n.dyn_dtree[e*2]=0;for(e=0;e<V3;e++)n.bl_tree[e*2]=0;n.dyn_ltree[z3*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},eq=n=>{n.bi_valid>8?gb(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},uO=(n,e,t,r)=>{const i=e*2,s=t*2;return n[i]<n[s]||n[i]===n[s]&&r[e]<=r[t]},PC=(n,e,t)=>{const r=n.heap[t];let i=t<<1;for(;i<=n.heap_len&&(i<n.heap_len&&uO(e,n.heap[i+1],n.heap[i],n.depth)&&i++,!uO(e,r,n.heap[i],n.depth));)n.heap[t]=n.heap[i],t=i,i<<=1;n.heap[t]=r},dO=(n,e,t)=>{let r,i,s=0,o,a;if(n.sym_next!==0)do r=n.pending_buf[n.sym_buf+s++]&255,r+=(n.pending_buf[n.sym_buf+s++]&255)<<8,i=n.pending_buf[n.sym_buf+s++],r===0?Bc(n,i,e):(o=mb[i],Bc(n,o+gx+1,e),a=hI[o],a!==0&&(i-=$3[o],So(n,i,a)),r--,o=XH(r),Bc(n,o,t),a=w5[o],a!==0&&(r-=iE[o],So(n,r,a)));while(s<n.sym_next);Bc(n,z3,e)},fI=(n,e)=>{const t=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,l=-1,c;for(n.heap_len=0,n.heap_max=zH,o=0;o<s;o++)t[o*2]!==0?(n.heap[++n.heap_len]=l=o,n.depth[o]=0):t[o*2+1]=0;for(;n.heap_len<2;)c=n.heap[++n.heap_len]=l<2?++l:0,t[c*2]=1,n.depth[c]=0,n.opt_len--,i&&(n.static_len-=r[c*2+1]);for(e.max_code=l,o=n.heap_len>>1;o>=1;o--)PC(n,t,o);c=s;do o=n.heap[1],n.heap[1]=n.heap[n.heap_len--],PC(n,t,1),a=n.heap[1],n.heap[--n.heap_max]=o,n.heap[--n.heap_max]=a,t[c*2]=t[o*2]+t[a*2],n.depth[c]=(n.depth[o]>=n.depth[a]?n.depth[o]:n.depth[a])+1,t[o*2+1]=t[a*2+1]=c,n.heap[1]=c++,PC(n,t,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],Cge(n,e),JH(t,l,n.bl_count)},hO=(n,e,t)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),e[(t+1)*2+1]=65535,r=0;r<=t;r++)s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)&&(a<c?n.bl_tree[s*2]+=a:s!==0?(s!==i&&n.bl_tree[s*2]++,n.bl_tree[$H*2]++):a<=10?n.bl_tree[HH*2]++:n.bl_tree[qH*2]++,a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))},fO=(n,e,t)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),r=0;r<=t;r++)if(s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)){if(a<c)do Bc(n,s,n.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Bc(n,s,n.bl_tree),a--),Bc(n,$H,n.bl_tree),So(n,a-3,2)):a<=10?(Bc(n,HH,n.bl_tree),So(n,a-3,3)):(Bc(n,qH,n.bl_tree),So(n,a-11,7));a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}},kge=n=>{let e;for(hO(n,n.dyn_ltree,n.l_desc.max_code),hO(n,n.dyn_dtree,n.d_desc.max_code),fI(n,n.bl_desc),e=V3-1;e>=3&&n.bl_tree[WH[e]*2+1]===0;e--);return n.opt_len+=3*(e+1)+5+5+4,e},Ige=(n,e,t,r)=>{let i;for(So(n,e-257,5),So(n,t-1,5),So(n,r-4,4),i=0;i<r;i++)So(n,n.bl_tree[WH[i]*2+1],3);fO(n,n.dyn_ltree,e-1),fO(n,n.dyn_dtree,t-1)},Pge=n=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&n.dyn_ltree[t*2]!==0)return lO;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return cO;for(t=32;t<gx;t++)if(n.dyn_ltree[t*2]!==0)return cO;return lO};let pO=!1;const Rge=n=>{pO||(Tge(),pO=!0),n.l_desc=new IC(n.dyn_ltree,GH),n.d_desc=new IC(n.dyn_dtree,KH),n.bl_desc=new IC(n.bl_tree,YH),n.bi_buf=0,n.bi_valid=0,ZH(n)},tq=(n,e,t,r)=>{So(n,(wge<<1)+(r?1:0),3),eq(n),gb(n,t),gb(n,~t),t&&n.pending_buf.set(n.window.subarray(e,e+t),n.pending),n.pending+=t},Lge=n=>{So(n,VH<<1,3),Bc(n,z3,Ru),Nge(n)},Dge=(n,e,t,r)=>{let i,s,o=0;n.level>0?(n.strm.data_type===yge&&(n.strm.data_type=Pge(n)),fI(n,n.l_desc),fI(n,n.d_desc),o=kge(n),i=n.opt_len+3+7>>>3,s=n.static_len+3+7>>>3,s<=i&&(i=s)):i=s=t+5,t+4<=i&&e!==-1?tq(n,e,t,r):n.strategy===vge||s===i?(So(n,(VH<<1)+(r?1:0),3),dO(n,Ru,vw)):(So(n,(bge<<1)+(r?1:0),3),Ige(n,n.l_desc.max_code+1,n.d_desc.max_code+1,o+1),dO(n,n.dyn_ltree,n.dyn_dtree)),ZH(n),r&&eq(n)},Mge=(n,e,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=e,n.pending_buf[n.sym_buf+n.sym_next++]=e>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,e===0?n.dyn_ltree[t*2]++:(n.matches++,e--,n.dyn_ltree[(mb[t]+gx+1)*2]++,n.dyn_dtree[XH(e)*2]++),n.sym_next===n.sym_end);var jge=Rge,Oge=tq,Fge=Dge,Bge=Mge,Uge=Lge,Vge={_tr_init:jge,_tr_stored_block:Oge,_tr_flush_block:Fge,_tr_tally:Bge,_tr_align:Uge};const zge=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var vb=zge;const $ge=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},Hge=new Uint32Array($ge()),qge=(n,e,t,r)=>{const i=Hge,s=r+t;n^=-1;for(let o=r;o<s;o++)n=n>>>8^i[(n^e[o])&255];return n^-1};var Fi=qge,c1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vx={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Wge,_tr_stored_block:pI,_tr_flush_block:Gge,_tr_tally:xf,_tr_align:Kge}=Vge,{Z_NO_FLUSH:_f,Z_PARTIAL_FLUSH:Yge,Z_FULL_FLUSH:Xge,Z_FINISH:qa,Z_BLOCK:mO,Z_OK:ts,Z_STREAM_END:gO,Z_STREAM_ERROR:Qc,Z_DATA_ERROR:Qge,Z_BUF_ERROR:RC,Z_DEFAULT_COMPRESSION:Jge,Z_FILTERED:Zge,Z_HUFFMAN_ONLY:E_,Z_RLE:e0e,Z_FIXED:t0e,Z_DEFAULT_STRATEGY:n0e,Z_UNKNOWN:r0e,Z_DEFLATED:US}=vx,i0e=9,s0e=15,o0e=8,a0e=29,l0e=256,mI=l0e+1+a0e,c0e=30,u0e=19,d0e=2*mI+1,h0e=15,vn=3,of=258,Jc=of+vn+1,f0e=32,u1=42,H3=57,gI=69,vI=73,yI=91,wI=103,Tp=113,jy=666,Xs=1,j1=2,tg=3,O1=4,p0e=3,kp=(n,e)=>(n.msg=c1[e],e),vO=n=>n*2-(n>4?9:0),bh=n=>{let e=n.length;for(;--e>=0;)n[e]=0},m0e=n=>{let e,t,r,i=n.w_size;e=n.hash_size,r=e;do t=n.head[--r],n.head[r]=t>=i?t-i:0;while(--e);e=i,r=e;do t=n.prev[--r],n.prev[r]=t>=i?t-i:0;while(--e)};let g0e=(n,e,t)=>(e<<n.hash_shift^t)&n.hash_mask,Af=g0e;const Xo=n=>{const e=n.state;let t=e.pending;t>n.avail_out&&(t=n.avail_out),t!==0&&(n.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),n.next_out),n.next_out+=t,e.pending_out+=t,n.total_out+=t,n.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},fa=(n,e)=>{Gge(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,e),n.block_start=n.strstart,Xo(n.strm)},Pn=(n,e)=>{n.pending_buf[n.pending++]=e},wy=(n,e)=>{n.pending_buf[n.pending++]=e>>>8&255,n.pending_buf[n.pending++]=e&255},bI=(n,e,t,r)=>{let i=n.avail_in;return i>r&&(i=r),i===0?0:(n.avail_in-=i,e.set(n.input.subarray(n.next_in,n.next_in+i),t),n.state.wrap===1?n.adler=vb(n.adler,e,i,t):n.state.wrap===2&&(n.adler=Fi(n.adler,e,i,t)),n.next_in+=i,n.total_in+=i,i)},nq=(n,e)=>{let t=n.max_chain_length,r=n.strstart,i,s,o=n.prev_length,a=n.nice_match;const l=n.strstart>n.w_size-Jc?n.strstart-(n.w_size-Jc):0,c=n.window,u=n.w_mask,h=n.prev,p=n.strstart+of;let f=c[r+o-1],w=c[r+o];n.prev_length>=n.good_match&&(t>>=2),a>n.lookahead&&(a=n.lookahead);do if(i=e,!(c[i+o]!==w||c[i+o-1]!==f||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<p);if(s=of-(p-r),r=p-of,s>o){if(n.match_start=e,o=s,s>=a)break;f=c[r+o-1],w=c[r+o]}}while((e=h[e&u])>l&&--t!==0);return o<=n.lookahead?o:n.lookahead},d1=n=>{const e=n.w_size;let t,r,i;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=e+(e-Jc)&&(n.window.set(n.window.subarray(e,e+e-r),0),n.match_start-=e,n.strstart-=e,n.block_start-=e,n.insert>n.strstart&&(n.insert=n.strstart),m0e(n),r+=e),n.strm.avail_in===0)break;if(t=bI(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=t,n.lookahead+n.insert>=vn)for(i=n.strstart-n.insert,n.ins_h=n.window[i],n.ins_h=Af(n,n.ins_h,n.window[i+1]);n.insert&&(n.ins_h=Af(n,n.ins_h,n.window[i+vn-1]),n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,n.insert--,!(n.lookahead+n.insert<vn)););}while(n.lookahead<Jc&&n.strm.avail_in!==0)},rq=(n,e)=>{let t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,r,i,s,o=0,a=n.strm.avail_in;do{if(r=65535,s=n.bi_valid+42>>3,n.strm.avail_out<s||(s=n.strm.avail_out-s,i=n.strstart-n.block_start,r>i+n.strm.avail_in&&(r=i+n.strm.avail_in),r>s&&(r=s),r<t&&(r===0&&e!==qa||e===_f||r!==i+n.strm.avail_in)))break;o=e===qa&&r===i+n.strm.avail_in?1:0,pI(n,0,0,o),n.pending_buf[n.pending-4]=r,n.pending_buf[n.pending-3]=r>>8,n.pending_buf[n.pending-2]=~r,n.pending_buf[n.pending-1]=~r>>8,Xo(n.strm),i&&(i>r&&(i=r),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+i),n.strm.next_out),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i,n.block_start+=i,r-=i),r&&(bI(n.strm,n.strm.output,n.strm.next_out,r),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r)}while(o===0);return a-=n.strm.avail_in,a&&(a>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=a&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-a,n.strm.next_in),n.strstart),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),o?O1:e!==_f&&e!==qa&&n.strm.avail_in===0&&n.strstart===n.block_start?j1:(s=n.window_size-n.strstart,n.strm.avail_in>s&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,s+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),s>n.strm.avail_in&&(s=n.strm.avail_in),s&&(bI(n.strm,n.window,n.strstart,s),n.strstart+=s,n.insert+=s>n.w_size-n.insert?n.w_size-n.insert:s),n.high_water<n.strstart&&(n.high_water=n.strstart),s=n.bi_valid+42>>3,s=n.pending_buf_size-s>65535?65535:n.pending_buf_size-s,t=s>n.w_size?n.w_size:s,i=n.strstart-n.block_start,(i>=t||(i||e===qa)&&e!==_f&&n.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=e===qa&&n.strm.avail_in===0&&r===i?1:0,pI(n,n.block_start,r,o),n.block_start+=r,Xo(n.strm)),o?tg:Xs)},LC=(n,e)=>{let t,r;for(;;){if(n.lookahead<Jc){if(d1(n),n.lookahead<Jc&&e===_f)return Xs;if(n.lookahead===0)break}if(t=0,n.lookahead>=vn&&(n.ins_h=Af(n,n.ins_h,n.window[n.strstart+vn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),t!==0&&n.strstart-t<=n.w_size-Jc&&(n.match_length=nq(n,t)),n.match_length>=vn)if(r=xf(n,n.strstart-n.match_start,n.match_length-vn),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=vn){n.match_length--;do n.strstart++,n.ins_h=Af(n,n.ins_h,n.window[n.strstart+vn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=Af(n,n.ins_h,n.window[n.strstart+1]);else r=xf(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(fa(n,!1),n.strm.avail_out===0))return Xs}return n.insert=n.strstart<vn-1?n.strstart:vn-1,e===qa?(fa(n,!0),n.strm.avail_out===0?tg:O1):n.sym_next&&(fa(n,!1),n.strm.avail_out===0)?Xs:j1},Fg=(n,e)=>{let t,r,i;for(;;){if(n.lookahead<Jc){if(d1(n),n.lookahead<Jc&&e===_f)return Xs;if(n.lookahead===0)break}if(t=0,n.lookahead>=vn&&(n.ins_h=Af(n,n.ins_h,n.window[n.strstart+vn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=vn-1,t!==0&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-Jc&&(n.match_length=nq(n,t),n.match_length<=5&&(n.strategy===Zge||n.match_length===vn&&n.strstart-n.match_start>4096)&&(n.match_length=vn-1)),n.prev_length>=vn&&n.match_length<=n.prev_length){i=n.strstart+n.lookahead-vn,r=xf(n,n.strstart-1-n.prev_match,n.prev_length-vn),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=i&&(n.ins_h=Af(n,n.ins_h,n.window[n.strstart+vn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=vn-1,n.strstart++,r&&(fa(n,!1),n.strm.avail_out===0))return Xs}else if(n.match_available){if(r=xf(n,0,n.window[n.strstart-1]),r&&fa(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return Xs}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=xf(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<vn-1?n.strstart:vn-1,e===qa?(fa(n,!0),n.strm.avail_out===0?tg:O1):n.sym_next&&(fa(n,!1),n.strm.avail_out===0)?Xs:j1},v0e=(n,e)=>{let t,r,i,s;const o=n.window;for(;;){if(n.lookahead<=of){if(d1(n),n.lookahead<=of&&e===_f)return Xs;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=vn&&n.strstart>0&&(i=n.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=n.strstart+of;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);n.match_length=of-(s-i),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=vn?(t=xf(n,1,n.match_length-vn),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=xf(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(fa(n,!1),n.strm.avail_out===0))return Xs}return n.insert=0,e===qa?(fa(n,!0),n.strm.avail_out===0?tg:O1):n.sym_next&&(fa(n,!1),n.strm.avail_out===0)?Xs:j1},y0e=(n,e)=>{let t;for(;;){if(n.lookahead===0&&(d1(n),n.lookahead===0)){if(e===_f)return Xs;break}if(n.match_length=0,t=xf(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(fa(n,!1),n.strm.avail_out===0))return Xs}return n.insert=0,e===qa?(fa(n,!0),n.strm.avail_out===0?tg:O1):n.sym_next&&(fa(n,!1),n.strm.avail_out===0)?Xs:j1};function uc(n,e,t,r,i){this.good_length=n,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=i}const Oy=[new uc(0,0,0,0,rq),new uc(4,4,8,4,LC),new uc(4,5,16,8,LC),new uc(4,6,32,32,LC),new uc(4,4,16,16,Fg),new uc(8,16,32,32,Fg),new uc(8,16,128,128,Fg),new uc(8,32,128,256,Fg),new uc(32,128,258,1024,Fg),new uc(32,258,258,4096,Fg)],w0e=n=>{n.window_size=2*n.w_size,bh(n.head),n.max_lazy_match=Oy[n.level].max_lazy,n.good_match=Oy[n.level].good_length,n.nice_match=Oy[n.level].nice_length,n.max_chain_length=Oy[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=vn-1,n.match_available=0,n.ins_h=0};function b0e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=US,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(d0e*2),this.dyn_dtree=new Uint16Array((2*c0e+1)*2),this.bl_tree=new Uint16Array((2*u0e+1)*2),bh(this.dyn_ltree),bh(this.dyn_dtree),bh(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(h0e+1),this.heap=new Uint16Array(2*mI+1),bh(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*mI+1),bh(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const yx=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.status!==u1&&e.status!==H3&&e.status!==gI&&e.status!==vI&&e.status!==yI&&e.status!==wI&&e.status!==Tp&&e.status!==jy?1:0},iq=n=>{if(yx(n))return kp(n,Qc);n.total_in=n.total_out=0,n.data_type=r0e;const e=n.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?H3:e.wrap?u1:Tp,n.adler=e.wrap===2?0:1,e.last_flush=-2,Wge(e),ts},sq=n=>{const e=iq(n);return e===ts&&w0e(n.state),e},x0e=(n,e)=>yx(n)||n.state.wrap!==2?Qc:(n.state.gzhead=e,ts),oq=(n,e,t,r,i,s)=>{if(!n)return Qc;let o=1;if(e===Jge&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>i0e||t!==US||r<8||r>15||e<0||e>9||s<0||s>t0e||r===8&&o!==1)return kp(n,Qc);r===8&&(r=9);const a=new b0e;return n.state=a,a.strm=n,a.status=u1,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+vn-1)/vn),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=t,sq(n)},_0e=(n,e)=>oq(n,e,US,s0e,o0e,n0e),A0e=(n,e)=>{if(yx(n)||e>mO||e<0)return n?kp(n,Qc):Qc;const t=n.state;if(!n.output||n.avail_in!==0&&!n.input||t.status===jy&&e!==qa)return kp(n,n.avail_out===0?RC:Qc);const r=t.last_flush;if(t.last_flush=e,t.pending!==0){if(Xo(n),n.avail_out===0)return t.last_flush=-1,ts}else if(n.avail_in===0&&vO(e)<=vO(r)&&e!==qa)return kp(n,RC);if(t.status===jy&&n.avail_in!==0)return kp(n,RC);if(t.status===u1&&t.wrap===0&&(t.status=Tp),t.status===u1){let i=US+(t.w_bits-8<<4)<<8,s=-1;if(t.strategy>=E_||t.level<2?s=0:t.level<6?s=1:t.level===6?s=2:s=3,i|=s<<6,t.strstart!==0&&(i|=f0e),i+=31-i%31,wy(t,i),t.strstart!==0&&(wy(t,n.adler>>>16),wy(t,n.adler&65535)),n.adler=1,t.status=Tp,Xo(n),t.pending!==0)return t.last_flush=-1,ts}if(t.status===H3){if(n.adler=0,Pn(t,31),Pn(t,139),Pn(t,8),t.gzhead)Pn(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Pn(t,t.gzhead.time&255),Pn(t,t.gzhead.time>>8&255),Pn(t,t.gzhead.time>>16&255),Pn(t,t.gzhead.time>>24&255),Pn(t,t.level===9?2:t.strategy>=E_||t.level<2?4:0),Pn(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(Pn(t,t.gzhead.extra.length&255),Pn(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=Fi(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=gI;else if(Pn(t,0),Pn(t,0),Pn(t,0),Pn(t,0),Pn(t,0),Pn(t,t.level===9?2:t.strategy>=E_||t.level<2?4:0),Pn(t,p0e),t.status=Tp,Xo(n),t.pending!==0)return t.last_flush=-1,ts}if(t.status===gI){if(t.gzhead.extra){let i=t.pending,s=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+s>t.pending_buf_size;){let a=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(n.adler=Fi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=a,Xo(n),t.pending!==0)return t.last_flush=-1,ts;i=0,s-=a}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending+=s,t.gzhead.hcrc&&t.pending>i&&(n.adler=Fi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=vI}if(t.status===vI){if(t.gzhead.name){let i=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=Fi(n.adler,t.pending_buf,t.pending-i,i)),Xo(n),t.pending!==0)return t.last_flush=-1,ts;i=0}t.gzindex<t.gzhead.name.length?s=t.gzhead.name.charCodeAt(t.gzindex++)&255:s=0,Pn(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=Fi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=yI}if(t.status===yI){if(t.gzhead.comment){let i=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=Fi(n.adler,t.pending_buf,t.pending-i,i)),Xo(n),t.pending!==0)return t.last_flush=-1,ts;i=0}t.gzindex<t.gzhead.comment.length?s=t.gzhead.comment.charCodeAt(t.gzindex++)&255:s=0,Pn(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=Fi(n.adler,t.pending_buf,t.pending-i,i))}t.status=wI}if(t.status===wI){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Xo(n),t.pending!==0))return t.last_flush=-1,ts;Pn(t,n.adler&255),Pn(t,n.adler>>8&255),n.adler=0}if(t.status=Tp,Xo(n),t.pending!==0)return t.last_flush=-1,ts}if(n.avail_in!==0||t.lookahead!==0||e!==_f&&t.status!==jy){let i=t.level===0?rq(t,e):t.strategy===E_?y0e(t,e):t.strategy===e0e?v0e(t,e):Oy[t.level].func(t,e);if((i===tg||i===O1)&&(t.status=jy),i===Xs||i===tg)return n.avail_out===0&&(t.last_flush=-1),ts;if(i===j1&&(e===Yge?Kge(t):e!==mO&&(pI(t,0,0,!1),e===Xge&&(bh(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),Xo(n),n.avail_out===0))return t.last_flush=-1,ts}return e!==qa?ts:t.wrap<=0?gO:(t.wrap===2?(Pn(t,n.adler&255),Pn(t,n.adler>>8&255),Pn(t,n.adler>>16&255),Pn(t,n.adler>>24&255),Pn(t,n.total_in&255),Pn(t,n.total_in>>8&255),Pn(t,n.total_in>>16&255),Pn(t,n.total_in>>24&255)):(wy(t,n.adler>>>16),wy(t,n.adler&65535)),Xo(n),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?ts:gO)},E0e=n=>{if(yx(n))return Qc;const e=n.state.status;return n.state=null,e===Tp?kp(n,Qge):ts},S0e=(n,e)=>{let t=e.length;if(yx(n))return Qc;const r=n.state,i=r.wrap;if(i===2||i===1&&r.status!==u1||r.lookahead)return Qc;if(i===1&&(n.adler=vb(n.adler,e,t,0)),r.wrap=0,t>=r.w_size){i===0&&(bh(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(t-r.w_size,t),0),e=l,t=r.w_size}const s=n.avail_in,o=n.next_in,a=n.input;for(n.avail_in=t,n.next_in=0,n.input=e,d1(r);r.lookahead>=vn;){let l=r.strstart,c=r.lookahead-(vn-1);do r.ins_h=Af(r,r.ins_h,r.window[l+vn-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=vn-1,d1(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=vn-1,r.match_available=0,n.next_in=o,n.input=a,n.avail_in=s,r.wrap=i,ts};var N0e=_0e,C0e=oq,T0e=sq,k0e=iq,I0e=x0e,P0e=A0e,R0e=E0e,L0e=S0e,D0e="pako deflate (from Nodeca project)",yw={deflateInit:N0e,deflateInit2:C0e,deflateReset:T0e,deflateResetKeep:k0e,deflateSetHeader:I0e,deflate:P0e,deflateEnd:R0e,deflateSetDictionary:L0e,deflateInfo:D0e};const M0e=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var j0e=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)M0e(t,r)&&(n[r]=t[r])}}return n},O0e=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let o=n[r];t.set(o,i),i+=o.length}return t},VS={assign:j0e,flattenChunks:O0e};let aq=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{aq=!1}const yb=new Uint8Array(256);for(let n=0;n<256;n++)yb[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;yb[254]=yb[254]=1;var F0e=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,o=n.length,a=0;for(i=0;i<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const B0e=(n,e)=>{if(e<65534&&n.subarray&&aq)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var U0e=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let o=n[r++];if(o<128){s[i++]=o;continue}let a=yb[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<t;)o=o<<6|n[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return B0e(s,i)},V0e=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+yb[n[t]]>e?t:e},wb={string2buf:F0e,buf2string:U0e,utf8border:V0e};function z0e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var lq=z0e;const cq=Object.prototype.toString,{Z_NO_FLUSH:$0e,Z_SYNC_FLUSH:H0e,Z_FULL_FLUSH:q0e,Z_FINISH:W0e,Z_OK:sE,Z_STREAM_END:G0e,Z_DEFAULT_COMPRESSION:K0e,Z_DEFAULT_STRATEGY:Y0e,Z_DEFLATED:X0e}=vx;function q3(n){this.options=VS.assign({level:K0e,method:X0e,chunkSize:16384,windowBits:15,memLevel:8,strategy:Y0e},n||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lq,this.strm.avail_out=0;let t=yw.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==sE)throw new Error(c1[t]);if(e.header&&yw.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=wb.string2buf(e.dictionary):cq.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,t=yw.deflateSetDictionary(this.strm,r),t!==sE)throw new Error(c1[t]);this._dict_set=!0}}q3.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?W0e:$0e,typeof n=="string"?t.input=wb.string2buf(n):cq.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(s===H0e||s===q0e)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(i=yw.deflate(t,s),i===G0e)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=yw.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===sE;if(t.avail_out===0){this.onData(t.output);continue}if(s>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};q3.prototype.onData=function(n){this.chunks.push(n)};q3.prototype.onEnd=function(n){n===sE&&(this.result=VS.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};const S_=16209,Q0e=16191;var J0e=function(e,t){let r,i,s,o,a,l,c,u,h,p,f,w,y,_,b,A,E,N,F,V,L,C,k,j;const T=e.state;r=e.next_in,k=e.input,i=r+(e.avail_in-5),s=e.next_out,j=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),l=T.dmax,c=T.wsize,u=T.whave,h=T.wnext,p=T.window,f=T.hold,w=T.bits,y=T.lencode,_=T.distcode,b=(1<<T.lenbits)-1,A=(1<<T.distbits)-1;e:do{w<15&&(f+=k[r++]<<w,w+=8,f+=k[r++]<<w,w+=8),E=y[f&b];t:for(;;){if(N=E>>>24,f>>>=N,w-=N,N=E>>>16&255,N===0)j[s++]=E&65535;else if(N&16){F=E&65535,N&=15,N&&(w<N&&(f+=k[r++]<<w,w+=8),F+=f&(1<<N)-1,f>>>=N,w-=N),w<15&&(f+=k[r++]<<w,w+=8,f+=k[r++]<<w,w+=8),E=_[f&A];n:for(;;){if(N=E>>>24,f>>>=N,w-=N,N=E>>>16&255,N&16){if(V=E&65535,N&=15,w<N&&(f+=k[r++]<<w,w+=8,w<N&&(f+=k[r++]<<w,w+=8)),V+=f&(1<<N)-1,V>l){e.msg="invalid distance too far back",T.mode=S_;break e}if(f>>>=N,w-=N,N=s-o,V>N){if(N=V-N,N>u&&T.sane){e.msg="invalid distance too far back",T.mode=S_;break e}if(L=0,C=p,h===0){if(L+=c-N,N<F){F-=N;do j[s++]=p[L++];while(--N);L=s-V,C=j}}else if(h<N){if(L+=c+h-N,N-=h,N<F){F-=N;do j[s++]=p[L++];while(--N);if(L=0,h<F){N=h,F-=N;do j[s++]=p[L++];while(--N);L=s-V,C=j}}}else if(L+=h-N,N<F){F-=N;do j[s++]=p[L++];while(--N);L=s-V,C=j}for(;F>2;)j[s++]=C[L++],j[s++]=C[L++],j[s++]=C[L++],F-=3;F&&(j[s++]=C[L++],F>1&&(j[s++]=C[L++]))}else{L=s-V;do j[s++]=j[L++],j[s++]=j[L++],j[s++]=j[L++],F-=3;while(F>2);F&&(j[s++]=j[L++],F>1&&(j[s++]=j[L++]))}}else if(N&64){e.msg="invalid distance code",T.mode=S_;break e}else{E=_[(E&65535)+(f&(1<<N)-1)];continue n}break}}else if(N&64)if(N&32){T.mode=Q0e;break e}else{e.msg="invalid literal/length code",T.mode=S_;break e}else{E=y[(E&65535)+(f&(1<<N)-1)];continue t}break}}while(r<i&&s<a);F=w>>3,r-=F,w-=F<<3,f&=(1<<w)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),T.hold=f,T.bits=w};const Bg=15,yO=852,wO=592,bO=0,DC=1,xO=2,Z0e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),eve=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tve=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),nve=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),rve=(n,e,t,r,i,s,o,a)=>{const l=a.bits;let c=0,u=0,h=0,p=0,f=0,w=0,y=0,_=0,b=0,A=0,E,N,F,V,L,C=null,k;const j=new Uint16Array(Bg+1),T=new Uint16Array(Bg+1);let M=null,R,q,ce;for(c=0;c<=Bg;c++)j[c]=0;for(u=0;u<r;u++)j[e[t+u]]++;for(f=l,p=Bg;p>=1&&j[p]===0;p--);if(f>p&&(f=p),p===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<p&&j[h]===0;h++);for(f<h&&(f=h),_=1,c=1;c<=Bg;c++)if(_<<=1,_-=j[c],_<0)return-1;if(_>0&&(n===bO||p!==1))return-1;for(T[1]=0,c=1;c<Bg;c++)T[c+1]=T[c]+j[c];for(u=0;u<r;u++)e[t+u]!==0&&(o[T[e[t+u]]++]=u);if(n===bO?(C=M=o,k=20):n===DC?(C=Z0e,M=eve,k=257):(C=tve,M=nve,k=0),A=0,u=0,c=h,L=s,w=f,y=0,F=-1,b=1<<f,V=b-1,n===DC&&b>yO||n===xO&&b>wO)return 1;for(;;){R=c-y,o[u]+1<k?(q=0,ce=o[u]):o[u]>=k?(q=M[o[u]-k],ce=C[o[u]-k]):(q=96,ce=0),E=1<<c-y,N=1<<w,h=N;do N-=E,i[L+(A>>y)+N]=R<<24|q<<16|ce|0;while(N!==0);for(E=1<<c-1;A&E;)E>>=1;if(E!==0?(A&=E-1,A+=E):A=0,u++,--j[c]===0){if(c===p)break;c=e[t+o[u]]}if(c>f&&(A&V)!==F){for(y===0&&(y=f),L+=h,w=c-y,_=1<<w;w+y<p&&(_-=j[w+y],!(_<=0));)w++,_<<=1;if(b+=1<<w,n===DC&&b>yO||n===xO&&b>wO)return 1;F=A&V,i[F]=f<<24|w<<16|L-s|0}}return A!==0&&(i[L+A]=c-y<<24|64<<16|0),a.bits=f,0};var ww=rve;const ive=0,uq=1,dq=2,{Z_FINISH:_O,Z_BLOCK:sve,Z_TREES:N_,Z_OK:ng,Z_STREAM_END:ove,Z_NEED_DICT:ave,Z_STREAM_ERROR:tl,Z_DATA_ERROR:hq,Z_MEM_ERROR:fq,Z_BUF_ERROR:lve,Z_DEFLATED:AO}=vx,zS=16180,EO=16181,SO=16182,NO=16183,CO=16184,TO=16185,kO=16186,IO=16187,PO=16188,RO=16189,oE=16190,Au=16191,MC=16192,LO=16193,jC=16194,DO=16195,MO=16196,jO=16197,OO=16198,C_=16199,T_=16200,FO=16201,BO=16202,UO=16203,VO=16204,zO=16205,OC=16206,$O=16207,HO=16208,br=16209,pq=16210,mq=16211,cve=852,uve=592,dve=15,hve=dve,qO=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function fve(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const yg=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<zS||e.mode>mq?1:0},gq=n=>{if(yg(n))return tl;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=zS,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(cve),e.distcode=e.distdyn=new Int32Array(uve),e.sane=1,e.back=-1,ng},vq=n=>{if(yg(n))return tl;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,gq(n)},yq=(n,e)=>{let t;if(yg(n))return tl;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?tl:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,vq(n))},wq=(n,e)=>{if(!n)return tl;const t=new fve;n.state=t,t.strm=n,t.window=null,t.mode=zS;const r=yq(n,e);return r!==ng&&(n.state=null),r},pve=n=>wq(n,hve);let WO=!0,FC,BC;const mve=n=>{if(WO){FC=new Int32Array(512),BC=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(ww(uq,n.lens,0,288,FC,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;ww(dq,n.lens,0,32,BC,0,n.work,{bits:5}),WO=!1}n.lencode=FC,n.lenbits=9,n.distcode=BC,n.distbits=5},bq=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},gve=(n,e)=>{let t,r,i,s,o,a,l,c,u,h,p,f,w,y,_=0,b,A,E,N,F,V,L,C;const k=new Uint8Array(4);let j,T;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(yg(n)||!n.output||!n.input&&n.avail_in!==0)return tl;t=n.state,t.mode===Au&&(t.mode=MC),o=n.next_out,i=n.output,l=n.avail_out,s=n.next_in,r=n.input,a=n.avail_in,c=t.hold,u=t.bits,h=a,p=l,C=ng;e:for(;;)switch(t.mode){case zS:if(t.wrap===0){t.mode=MC;break}for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,k[0]=c&255,k[1]=c>>>8&255,t.check=Fi(t.check,k,2,0),c=0,u=0,t.mode=EO;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",t.mode=br;break}if((c&15)!==AO){n.msg="unknown compression method",t.mode=br;break}if(c>>>=4,u-=4,L=(c&15)+8,t.wbits===0&&(t.wbits=L),L>15||L>t.wbits){n.msg="invalid window size",t.mode=br;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=c&512?RO:Au,c=0,u=0;break;case EO:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(t.flags=c,(t.flags&255)!==AO){n.msg="unknown compression method",t.mode=br;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=br;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,t.check=Fi(t.check,k,2,0)),c=0,u=0,t.mode=SO;case SO:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,t.check=Fi(t.check,k,4,0)),c=0,u=0,t.mode=NO;case NO:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,t.check=Fi(t.check,k,2,0)),c=0,u=0,t.mode=CO;case CO:if(t.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,t.check=Fi(t.check,k,2,0)),c=0,u=0}else t.head&&(t.head.extra=null);t.mode=TO;case TO:if(t.flags&1024&&(f=t.length,f>a&&(f=a),f&&(t.head&&(L=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+f),L)),t.flags&512&&t.wrap&4&&(t.check=Fi(t.check,r,f,s)),a-=f,s+=f,t.length-=f),t.length))break e;t.length=0,t.mode=kO;case kO:if(t.flags&2048){if(a===0)break e;f=0;do L=r[s+f++],t.head&&L&&t.length<65536&&(t.head.name+=String.fromCharCode(L));while(L&&f<a);if(t.flags&512&&t.wrap&4&&(t.check=Fi(t.check,r,f,s)),a-=f,s+=f,L)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=IO;case IO:if(t.flags&4096){if(a===0)break e;f=0;do L=r[s+f++],t.head&&L&&t.length<65536&&(t.head.comment+=String.fromCharCode(L));while(L&&f<a);if(t.flags&512&&t.wrap&4&&(t.check=Fi(t.check,r,f,s)),a-=f,s+=f,L)break e}else t.head&&(t.head.comment=null);t.mode=PO;case PO:if(t.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(t.wrap&4&&c!==(t.check&65535)){n.msg="header crc mismatch",t.mode=br;break}c=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Au;break;case RO:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.adler=t.check=qO(c),c=0,u=0,t.mode=oE;case oE:if(t.havedict===0)return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,t.hold=c,t.bits=u,ave;n.adler=t.check=1,t.mode=Au;case Au:if(e===sve||e===N_)break e;case MC:if(t.last){c>>>=u&7,u-=u&7,t.mode=OC;break}for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}switch(t.last=c&1,c>>>=1,u-=1,c&3){case 0:t.mode=LO;break;case 1:if(mve(t),t.mode=C_,e===N_){c>>>=2,u-=2;break e}break;case 2:t.mode=MO;break;case 3:n.msg="invalid block type",t.mode=br}c>>>=2,u-=2;break;case LO:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",t.mode=br;break}if(t.length=c&65535,c=0,u=0,t.mode=jC,e===N_)break e;case jC:t.mode=DO;case DO:if(f=t.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;i.set(r.subarray(s,s+f),o),a-=f,s+=f,l-=f,o+=f,t.length-=f;break}t.mode=Au;break;case MO:for(;u<14;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(t.nlen=(c&31)+257,c>>>=5,u-=5,t.ndist=(c&31)+1,c>>>=5,u-=5,t.ncode=(c&15)+4,c>>>=4,u-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=br;break}t.have=0,t.mode=jO;case jO:for(;t.have<t.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.lens[M[t.have++]]=c&7,c>>>=3,u-=3}for(;t.have<19;)t.lens[M[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,j={bits:t.lenbits},C=ww(ive,t.lens,0,19,t.lencode,0,t.work,j),t.lenbits=j.bits,C){n.msg="invalid code lengths set",t.mode=br;break}t.have=0,t.mode=OO;case OO:for(;t.have<t.nlen+t.ndist;){for(;_=t.lencode[c&(1<<t.lenbits)-1],b=_>>>24,A=_>>>16&255,E=_&65535,!(b<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(E<16)c>>>=b,u-=b,t.lens[t.have++]=E;else{if(E===16){for(T=b+2;u<T;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(c>>>=b,u-=b,t.have===0){n.msg="invalid bit length repeat",t.mode=br;break}L=t.lens[t.have-1],f=3+(c&3),c>>>=2,u-=2}else if(E===17){for(T=b+3;u<T;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=b,u-=b,L=0,f=3+(c&7),c>>>=3,u-=3}else{for(T=b+7;u<T;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=b,u-=b,L=0,f=11+(c&127),c>>>=7,u-=7}if(t.have+f>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=br;break}for(;f--;)t.lens[t.have++]=L}}if(t.mode===br)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=br;break}if(t.lenbits=9,j={bits:t.lenbits},C=ww(uq,t.lens,0,t.nlen,t.lencode,0,t.work,j),t.lenbits=j.bits,C){n.msg="invalid literal/lengths set",t.mode=br;break}if(t.distbits=6,t.distcode=t.distdyn,j={bits:t.distbits},C=ww(dq,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,j),t.distbits=j.bits,C){n.msg="invalid distances set",t.mode=br;break}if(t.mode=C_,e===N_)break e;case C_:t.mode=T_;case T_:if(a>=6&&l>=258){n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,t.hold=c,t.bits=u,J0e(n,p),o=n.next_out,i=n.output,l=n.avail_out,s=n.next_in,r=n.input,a=n.avail_in,c=t.hold,u=t.bits,t.mode===Au&&(t.back=-1);break}for(t.back=0;_=t.lencode[c&(1<<t.lenbits)-1],b=_>>>24,A=_>>>16&255,E=_&65535,!(b<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(A&&!(A&240)){for(N=b,F=A,V=E;_=t.lencode[V+((c&(1<<N+F)-1)>>N)],b=_>>>24,A=_>>>16&255,E=_&65535,!(N+b<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=N,u-=N,t.back+=N}if(c>>>=b,u-=b,t.back+=b,t.length=E,A===0){t.mode=zO;break}if(A&32){t.back=-1,t.mode=Au;break}if(A&64){n.msg="invalid literal/length code",t.mode=br;break}t.extra=A&15,t.mode=FO;case FO:if(t.extra){for(T=t.extra;u<T;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=BO;case BO:for(;_=t.distcode[c&(1<<t.distbits)-1],b=_>>>24,A=_>>>16&255,E=_&65535,!(b<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(!(A&240)){for(N=b,F=A,V=E;_=t.distcode[V+((c&(1<<N+F)-1)>>N)],b=_>>>24,A=_>>>16&255,E=_&65535,!(N+b<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=N,u-=N,t.back+=N}if(c>>>=b,u-=b,t.back+=b,A&64){n.msg="invalid distance code",t.mode=br;break}t.offset=E,t.extra=A&15,t.mode=UO;case UO:if(t.extra){for(T=t.extra;u<T;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=br;break}t.mode=VO;case VO:if(l===0)break e;if(f=p-l,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=br;break}f>t.wnext?(f-=t.wnext,w=t.wsize-f):w=t.wnext-f,f>t.length&&(f=t.length),y=t.window}else y=i,w=o-t.offset,f=t.length;f>l&&(f=l),l-=f,t.length-=f;do i[o++]=y[w++];while(--f);t.length===0&&(t.mode=T_);break;case zO:if(l===0)break e;i[o++]=t.length,l--,t.mode=T_;break;case OC:if(t.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[s++]<<u,u+=8}if(p-=l,n.total_out+=p,t.total+=p,t.wrap&4&&p&&(n.adler=t.check=t.flags?Fi(t.check,i,p,o-p):vb(t.check,i,p,o-p)),p=l,t.wrap&4&&(t.flags?c:qO(c))!==t.check){n.msg="incorrect data check",t.mode=br;break}c=0,u=0}t.mode=$O;case $O:if(t.wrap&&t.flags){for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(t.wrap&4&&c!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=br;break}c=0,u=0}t.mode=HO;case HO:C=ove;break e;case br:C=hq;break e;case pq:return fq;case mq:default:return tl}return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,t.hold=c,t.bits=u,(t.wsize||p!==n.avail_out&&t.mode<br&&(t.mode<OC||e!==_O))&&bq(n,n.output,n.next_out,p-n.avail_out),h-=n.avail_in,p-=n.avail_out,n.total_in+=h,n.total_out+=p,t.total+=p,t.wrap&4&&p&&(n.adler=t.check=t.flags?Fi(t.check,i,p,n.next_out-p):vb(t.check,i,p,n.next_out-p)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Au?128:0)+(t.mode===C_||t.mode===jC?256:0),(h===0&&p===0||e===_O)&&C===ng&&(C=lve),C},vve=n=>{if(yg(n))return tl;let e=n.state;return e.window&&(e.window=null),n.state=null,ng},yve=(n,e)=>{if(yg(n))return tl;const t=n.state;return t.wrap&2?(t.head=e,e.done=!1,ng):tl},wve=(n,e)=>{const t=e.length;let r,i,s;return yg(n)||(r=n.state,r.wrap!==0&&r.mode!==oE)?tl:r.mode===oE&&(i=1,i=vb(i,e,t,0),i!==r.check)?hq:(s=bq(n,e,t,t),s?(r.mode=pq,fq):(r.havedict=1,ng))};var bve=vq,xve=yq,_ve=gq,Ave=pve,Eve=wq,Sve=gve,Nve=vve,Cve=yve,Tve=wve,kve="pako inflate (from Nodeca project)",Lu={inflateReset:bve,inflateReset2:xve,inflateResetKeep:_ve,inflateInit:Ave,inflateInit2:Eve,inflate:Sve,inflateEnd:Nve,inflateGetHeader:Cve,inflateSetDictionary:Tve,inflateInfo:kve};function Ive(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Pve=Ive;const xq=Object.prototype.toString,{Z_NO_FLUSH:Rve,Z_FINISH:Lve,Z_OK:bb,Z_STREAM_END:UC,Z_NEED_DICT:VC,Z_STREAM_ERROR:Dve,Z_DATA_ERROR:GO,Z_MEM_ERROR:Mve}=vx;function wx(n){this.options=VS.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lq,this.strm.avail_out=0;let t=Lu.inflateInit2(this.strm,e.windowBits);if(t!==bb)throw new Error(c1[t]);if(this.header=new Pve,Lu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=wb.string2buf(e.dictionary):xq.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Lu.inflateSetDictionary(this.strm,e.dictionary),t!==bb)))throw new Error(c1[t])}wx.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Lve:Rve,xq.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=Lu.inflate(t,o),s===VC&&i&&(s=Lu.inflateSetDictionary(t,i),s===bb?s=Lu.inflate(t,o):s===GO&&(s=VC));t.avail_in>0&&s===UC&&t.state.wrap>0&&n[t.next_in]!==0;)Lu.inflateReset(t),s=Lu.inflate(t,o);switch(s){case Dve:case GO:case VC:case Mve:return this.onEnd(s),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||s===UC))if(this.options.to==="string"){let l=wb.utf8border(t.output,t.next_out),c=t.next_out-l,u=wb.buf2string(t.output,l);t.next_out=c,t.avail_out=r-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===bb&&a===0)){if(s===UC)return s=Lu.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};wx.prototype.onData=function(n){this.chunks.push(n)};wx.prototype.onEnd=function(n){n===bb&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=VS.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function W3(n,e){const t=new wx(e);if(t.push(n),t.err)throw t.msg||c1[t.err];return t.result}function jve(n,e){return e=e||{},e.raw=!0,W3(n,e)}var Ove=wx,Fve=W3,Bve=jve,Uve=W3,Vve=vx,zve={Inflate:Ove,inflate:Fve,inflateRaw:Bve,ungzip:Uve,constants:Vve};const{Inflate:$ve,inflate:Hve,inflateRaw:l_e,ungzip:c_e}=zve;var KO=$ve,qve=Hve;const _q=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;_q[n]=e}const YO=4294967295;function Wve(n,e,t){let r=n;for(let i=0;i<t;i++)r=_q[(r^e[i])&255]^r>>>8;return r}function Gve(n,e){return(Wve(YO,n,e)^YO)>>>0}function XO(n,e,t){const r=n.readUint32(),i=Gve(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function Aq(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function Eq(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function Sq(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function Nq(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<r;s++)e[s]=n[s]+(e[s-i]+t[s]>>1)&255}}function Cq(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=n[s]+t[s]&255;for(;s<r;s++)e[s]=n[s]+Kve(e[s-i],t[s],t[s-i])&255}}function Kve(n,e,t){const r=n+e-t,i=Math.abs(r-n),s=Math.abs(r-e),o=Math.abs(r-t);return i<=s&&i<=o?n:s<=o?e:t}function Yve(n,e,t,r,i,s){switch(n){case 0:Aq(e,t,i);break;case 1:Eq(e,t,i,s);break;case 2:Sq(e,t,r,i);break;case 3:Nq(e,t,r,i,s);break;case 4:Cq(e,t,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const Xve=new Uint16Array([255]),Qve=new Uint8Array(Xve.buffer),Jve=Qve[0]===255;function Zve(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*t*a);let c=0;for(let u=0;u<7;u++){const h=o[u],p=Math.ceil((t-h.x)/h.xStep),f=Math.ceil((r-h.y)/h.yStep);if(p<=0||f<=0)continue;const w=p*a,y=new Uint8Array(w);for(let _=0;_<f;_++){const b=e[c++],A=e.subarray(c,c+w);c+=w;const E=new Uint8Array(w);Yve(b,A,E,y,w,a),y.set(E);for(let N=0;N<p;N++){const F=h.x+N*h.xStep,V=h.y+_*h.yStep;if(!(F>=t||V>=r))for(let L=0;L<a;L++)l[(V*t+F)*a+L]=E[N*a+L]}}}if(s===16){const u=new Uint16Array(l.buffer);if(Jve)for(let h=0;h<u.length;h++)u[h]=e1e(u[h]);return u}else return l}function e1e(n){return(n&255)<<8|n>>8&255}const t1e=new Uint16Array([255]),n1e=new Uint8Array(t1e.buffer),r1e=n1e[0]===255,i1e=new Uint8Array(0);function QO(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*t),l=new Uint8Array(r*a);let c=i1e,u=0,h,p;for(let f=0;f<r;f++){switch(h=e.subarray(u+1,u+1+a),p=l.subarray(f*a,(f+1)*a),e[u]){case 0:Aq(h,p,a);break;case 1:Eq(h,p,a,o);break;case 2:Sq(h,p,c,a);break;case 3:Nq(h,p,c,a,o);break;case 4:Cq(h,p,c,a,o);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=p,u+=a+1}if(s===16){const f=new Uint16Array(l.buffer);if(r1e)for(let w=0;w<f.length;w++)f[w]=s1e(f[w]);return f}else return l}function s1e(n){return(n&255)<<8|n>>8&255}const b5=Uint8Array.of(137,80,78,71,13,10,26,10);function JO(n){if(!o1e(n.readBytes(b5.length)))throw new Error("wrong PNG signature")}function o1e(n){if(n.length<b5.length)return!1;for(let e=0;e<b5.length;e++)if(n[e]!==b5[e])return!1;return!0}const a1e="tEXt",l1e=0,Tq=new TextDecoder("latin1");function c1e(n){if(d1e(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const u1e=/^[\u0000-\u00FF]*$/;function d1e(n){if(!u1e.test(n))throw new Error("invalid latin1 text")}function h1e(n,e,t){const r=kq(e);n[r]=f1e(e,t-r.length-1)}function kq(n){for(n.mark();n.readByte()!==l1e;);const e=n.offset;n.reset();const t=Tq.decode(n.readBytes(e-n.offset-1));return n.skip(1),c1e(t),t}function f1e(n,e){return Tq.decode(n.readBytes(e))}const Ko={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},zC={UNKNOWN:-1,DEFLATE:0},ZO={UNKNOWN:-1,ADAPTIVE:0},$C={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},k_={NONE:0,BACKGROUND:1,PREVIOUS:2},HC={SOURCE:0,OVER:1};class p1e extends B3{constructor(t,r={}){super(t);rt(this,"_checkCrc");rt(this,"_inflator");rt(this,"_png");rt(this,"_apng");rt(this,"_end");rt(this,"_hasPalette");rt(this,"_palette");rt(this,"_hasTransparency");rt(this,"_transparency");rt(this,"_compressionMethod");rt(this,"_filterMethod");rt(this,"_interlaceMethod");rt(this,"_colorType");rt(this,"_isAnimated");rt(this,"_numberOfFrames");rt(this,"_numberOfPlays");rt(this,"_frames");rt(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new KO,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=zC.UNKNOWN,this._filterMethod=ZO.UNKNOWN,this._interlaceMethod=$C.UNKNOWN,this._colorType=Ko.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(JO(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(JO(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case a1e:h1e(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?XO(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?XO(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=m1e(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Ko.GREYSCALE:i=1;break;case Ko.TRUECOLOUR:i=3;break;case Ko.INDEXED_COLOUR:i=1;break;case Ko.GREYSCALE_ALPHA:i=2;break;case Ko.TRUECOLOUR_ALPHA:i=4;break;case Ko.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==zC.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Ko.GREYSCALE:case Ko.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Ko.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ko.UNKNOWN:case Ko.GREYSCALE_ALPHA:case Ko.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=kq(this),i=this.readUint8();if(i!==zC.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:qve(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=QO({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,i){switch(t.disposeOp){case k_.NONE:break;case k_.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*t.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case k_.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,c=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case HC.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++)t.data[l+u]=r.data[c+u]}break;case HC.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++){const h=r.data[c+this._png.channels-1]/i,p=u%(this._png.channels-1)===0?1:r.data[c+u],f=Math.floor(h*p+(1-h)*t.data[l+u]);t.data[l+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==ZO.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===$C.NO_INTERLACE)this._png.data=QO({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===$C.ADAM7)this._png.data=Zve({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:k_.NONE,blendOp:HC.SOURCE,data:t}),this._inflator=new KO,this._writingDataChunks=!1}}function m1e(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var eF;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(eF||(eF={}));function g1e(n,e){return new p1e(n,e).decode()}var Ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function qC(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var tr={log:qC,warn:function(n){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):qC.call(null,arguments))},error:function(n){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):qC(n))}};function WC(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){up(r.response,e,t)},r.onerror=function(){tr.error("could not download file")},r.send()}function tF(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function I_(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var up=Ut.saveAs||((typeof window>"u"?"undefined":On(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Ut.URL||Ut.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?tF(i.href)?WC(n,e,t):I_(i,i.target="_blank"):I_(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){I_(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(tF(n))WC(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){I_(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:On(s)!=="object"&&(tr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return WC(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Ut.HTMLElement)||Ut.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":On(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=Ut.URL||Ut.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Iq(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var x5=Ut.atob.bind(Ut),nF=Ut.btoa.bind(Ut);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function GC(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=gs(t,r,i,s,e[0],7,-680876936),s=gs(s,t,r,i,e[1],12,-389564586),i=gs(i,s,t,r,e[2],17,606105819),r=gs(r,i,s,t,e[3],22,-1044525330),t=gs(t,r,i,s,e[4],7,-176418897),s=gs(s,t,r,i,e[5],12,1200080426),i=gs(i,s,t,r,e[6],17,-1473231341),r=gs(r,i,s,t,e[7],22,-45705983),t=gs(t,r,i,s,e[8],7,1770035416),s=gs(s,t,r,i,e[9],12,-1958414417),i=gs(i,s,t,r,e[10],17,-42063),r=gs(r,i,s,t,e[11],22,-1990404162),t=gs(t,r,i,s,e[12],7,1804603682),s=gs(s,t,r,i,e[13],12,-40341101),i=gs(i,s,t,r,e[14],17,-1502002290),t=vs(t,r=gs(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=vs(s,t,r,i,e[6],9,-1069501632),i=vs(i,s,t,r,e[11],14,643717713),r=vs(r,i,s,t,e[0],20,-373897302),t=vs(t,r,i,s,e[5],5,-701558691),s=vs(s,t,r,i,e[10],9,38016083),i=vs(i,s,t,r,e[15],14,-660478335),r=vs(r,i,s,t,e[4],20,-405537848),t=vs(t,r,i,s,e[9],5,568446438),s=vs(s,t,r,i,e[14],9,-1019803690),i=vs(i,s,t,r,e[3],14,-187363961),r=vs(r,i,s,t,e[8],20,1163531501),t=vs(t,r,i,s,e[13],5,-1444681467),s=vs(s,t,r,i,e[2],9,-51403784),i=vs(i,s,t,r,e[7],14,1735328473),t=ys(t,r=vs(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ys(s,t,r,i,e[8],11,-2022574463),i=ys(i,s,t,r,e[11],16,1839030562),r=ys(r,i,s,t,e[14],23,-35309556),t=ys(t,r,i,s,e[1],4,-1530992060),s=ys(s,t,r,i,e[4],11,1272893353),i=ys(i,s,t,r,e[7],16,-155497632),r=ys(r,i,s,t,e[10],23,-1094730640),t=ys(t,r,i,s,e[13],4,681279174),s=ys(s,t,r,i,e[0],11,-358537222),i=ys(i,s,t,r,e[3],16,-722521979),r=ys(r,i,s,t,e[6],23,76029189),t=ys(t,r,i,s,e[9],4,-640364487),s=ys(s,t,r,i,e[12],11,-421815835),i=ys(i,s,t,r,e[15],16,530742520),t=ws(t,r=ys(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ws(s,t,r,i,e[7],10,1126891415),i=ws(i,s,t,r,e[14],15,-1416354905),r=ws(r,i,s,t,e[5],21,-57434055),t=ws(t,r,i,s,e[12],6,1700485571),s=ws(s,t,r,i,e[3],10,-1894986606),i=ws(i,s,t,r,e[10],15,-1051523),r=ws(r,i,s,t,e[1],21,-2054922799),t=ws(t,r,i,s,e[8],6,1873313359),s=ws(s,t,r,i,e[15],10,-30611744),i=ws(i,s,t,r,e[6],15,-1560198380),r=ws(r,i,s,t,e[13],21,1309151649),t=ws(t,r,i,s,e[4],6,-145523070),s=ws(s,t,r,i,e[11],10,-1120210379),i=ws(i,s,t,r,e[2],15,718787259),r=ws(r,i,s,t,e[9],21,-343485551),n[0]=af(t,n[0]),n[1]=af(r,n[1]),n[2]=af(i,n[2]),n[3]=af(s,n[3])}function $S(n,e,t,r,i,s){return e=af(af(e,n),af(r,s)),af(e<<i|e>>>32-i,t)}function gs(n,e,t,r,i,s,o){return $S(e&t|~e&r,n,e,i,s,o)}function vs(n,e,t,r,i,s,o){return $S(e&r|t&~r,n,e,i,s,o)}function ys(n,e,t,r,i,s,o){return $S(e^t^r,n,e,i,s,o)}function ws(n,e,t,r,i,s,o){return $S(t^(e|~r),n,e,i,s,o)}function Pq(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)GC(r,v1e(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(GC(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,GC(r,i),r}function v1e(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var rF="0123456789abcdef".split("");function y1e(n){for(var e="",t=0;t<4;t++)e+=rF[n>>8*t+4&15]+rF[n>>8*t&15];return e}function w1e(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function xI(n){return Pq(n).map(w1e).join("")}var b1e=function(n){for(var e=0;e<n.length;e++)n[e]=y1e(n[e]);return n.join("")}(Pq("hello"))!="5d41402abc4b2a76b9719d911017c592";function af(n,e){if(b1e){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _I(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var h=e.length,p=0,f=0,w="";for(l=0;l<h;l++)f=(f+(u=a[p=(p+1)%256]))%256,a[p]=a[f],a[f]=u,o=a[(a[p]+a[f])%256],w+=String.fromCharCode(e.charCodeAt(l)^o);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var iF={print:4,modify:8,copy:16,"annot-forms":32};function qg(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(iF.perm!==void 0)throw new Error("Invalid permission: "+a);i+=iF[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=xI(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=_I(this.encryptionKey,this.padding)}function Wg(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function sF(n){if(On(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){Ut.console&&tr.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function aE(n){if(!(this instanceof aE))return new aE(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function Rq(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function yp(n,e,t,r,i){if(!(this instanceof yp))return new yp(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,Rq.call(this,r,i)}function p0(n,e,t,r,i){if(!(this instanceof p0))return new p0(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Rq.call(this,r,i)}function St(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;On(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=sF;var w="1.3",y=f.__private__.getPdfVersion=function(){return w};f.__private__.setPdfVersion=function(S){w=S};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return _};var b=f.__private__.getPageFormat=function(S){return _[S]};i=i||"a4";var A="compat",E="advanced",N=A;function F(){this.saveGraphicsState(),J(new dt(kt,0,0,-kt,0,ka()*kt).toString()+" cm"),this.setFontSize(this.getFontSize()/kt),c="n",N=E}function V(){this.restoreGraphicsState(),c="S",N=A}var L=f.__private__.combineFontStyleAndFontWeight=function(S,$){if(S=="bold"&&$=="normal"||S=="bold"&&$==400||S=="normal"&&$=="italic"||S=="bold"&&$=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return $&&(S=$==400||$==="normal"?S==="italic"?"italic":"normal":$!=700&&$!=="bold"||S!=="normal"?($==700?"bold":$)+""+S:"bold"),S};f.advancedAPI=function(S){var $=N===A;return $&&F.call(this),typeof S!="function"||(S(this),$&&V.call(this)),this},f.compatAPI=function(S){var $=N===E;return $&&V.call(this),typeof S!="function"||(S(this),$&&F.call(this)),this},f.isAdvancedAPI=function(){return N===E};var C,k=function(S){if(N!==E)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=f.roundToPrecision=f.__private__.roundToPrecision=function(S,$){var ie=e||$;if(isNaN(S)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ie).replace(/0+$/,"")};C=f.hpf=f.__private__.hpf=typeof l=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return j(S,l)}:l==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return j(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return j(S,16)};var T=f.f2=f.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return j(S,2)},M=f.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return j(S,3)},R=f.scale=f.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return N===A?S*kt:N===E?S:void 0},q=function(S){return R(function($){return N===A?ka()-$:N===E?$:void 0}(S))};f.__private__.setPrecision=f.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var ce,de="00000000000000000000000000000000",ae=f.__private__.getFileId=function(){return de},Q=f.__private__.setFileId=function(S){return de=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Jn=new qg(u.userPermissions,u.userPassword,u.ownerPassword,de)),de};f.setFileId=function(S){return Q(S),this},f.getFileId=function(){return ae()};var ne=f.__private__.convertDateToPDFDate=function(S){var $=S.getTimezoneOffset(),ie=$<0?"+":"-",fe=Math.floor(Math.abs($/60)),ye=Math.abs($%60),Pe=[ie,re(fe),"'",re(ye),"'"].join("");return["D:",S.getFullYear(),re(S.getMonth()+1),re(S.getDate()),re(S.getHours()),re(S.getMinutes()),re(S.getSeconds()),Pe].join("")},ge=f.__private__.convertPDFDateToDate=function(S){var $=parseInt(S.substr(2,4),10),ie=parseInt(S.substr(6,2),10)-1,fe=parseInt(S.substr(8,2),10),ye=parseInt(S.substr(10,2),10),Pe=parseInt(S.substr(12,2),10),Ue=parseInt(S.substr(14,2),10);return new Date($,ie,fe,ye,Pe,Ue,0)},pe=f.__private__.setCreationDate=function(S){var $;if(S===void 0&&(S=new Date),S instanceof Date)$=ne(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");$=S}return ce=$},U=f.__private__.getCreationDate=function(S){var $=ce;return S==="jsDate"&&($=ge(ce)),$};f.setCreationDate=function(S){return pe(S),this},f.getCreationDate=function(S){return U(S)};var Y,re=f.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},le=f.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},he=0,ue=[],Ae=[],we=0,_e=[],Me=[],Ee=!1,Ce=Ae;f.__private__.setCustomOutputDestination=function(S){Ee=!0,Ce=S};var Le=function(S){Ee||(Ce=S)};f.__private__.resetCustomOutputDestination=function(){Ee=!1,Ce=Ae};var J=f.__private__.out=function(S){return S=S.toString(),we+=S.length+1,Ce.push(S),Ce},je=f.__private__.write=function(S){return J(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Qe=f.__private__.getArrayBuffer=function(S){for(var $=S.length,ie=new ArrayBuffer($),fe=new Uint8Array(ie);$--;)fe[$]=S.charCodeAt($);return ie},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ge};var Ie=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(S){return Ie=N===E?S/kt:S,this};var lt,Xe=f.__private__.getFontSize=f.getFontSize=function(){return N===A?Ie:Ie*kt},pt=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(S){return pt=S,this},f.__private__.getR2L=f.getR2L=function(){return pt};var it,Lt=f.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))lt=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');lt=S}else lt=parseInt(S,10)};f.__private__.getZoomMode=function(){return lt};var Oe,Fe=f.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');it=S};f.__private__.getPageMode=function(){return it};var Ke=f.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Oe=S};f.__private__.getLayoutMode=function(){return Oe},f.__private__.setDisplayMode=f.setDisplayMode=function(S,$,ie){return Lt(S),Ke($),Fe(ie),this};var Nt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(S){if(Object.keys(Nt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Nt[S]},f.__private__.getDocumentProperties=function(){return Nt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(S){for(var $ in Nt)Nt.hasOwnProperty($)&&S[$]&&(Nt[$]=S[$]);return this},f.__private__.setDocumentProperty=function(S,$){if(Object.keys(Nt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Nt[S]=$};var nt,kt,wt,Ln,nn,Ft={},Vt={},An=[],Et={},Nn={},Ct={},Bt={},Cn=null,zt=0,mt=[],rn=new sF(f),It=n.hotfixes||[],jt={},cn={},Wn=[],dt=function S($,ie,fe,ye,Pe,Ue){if(!(this instanceof S))return new S($,ie,fe,ye,Pe,Ue);isNaN($)&&($=1),isNaN(ie)&&(ie=0),isNaN(fe)&&(fe=0),isNaN(ye)&&(ye=1),isNaN(Pe)&&(Pe=0),isNaN(Ue)&&(Ue=0),this._matrix=[$,ie,fe,ye,Pe,Ue]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(S)},dt.prototype.multiply=function(S){var $=S.sx*this.sx+S.shy*this.shx,ie=S.sx*this.shy+S.shy*this.sy,fe=S.shx*this.sx+S.sy*this.shx,ye=S.shx*this.shy+S.sy*this.sy,Pe=S.tx*this.sx+S.ty*this.shx+this.tx,Ue=S.tx*this.shy+S.ty*this.sy+this.ty;return new dt($,ie,fe,ye,Pe,Ue)},dt.prototype.decompose=function(){var S=this.sx,$=this.shy,ie=this.shx,fe=this.sy,ye=this.tx,Pe=this.ty,Ue=Math.sqrt(S*S+$*$),ct=(S/=Ue)*ie+($/=Ue)*fe;ie-=S*ct,fe-=$*ct;var gt=Math.sqrt(ie*ie+fe*fe);return ct/=gt,S*(fe/=gt)<$*(ie/=gt)&&(S=-S,$=-$,ct=-ct,Ue=-Ue),{scale:new dt(Ue,0,0,gt,0,0),translate:new dt(1,0,0,1,ye,Pe),rotate:new dt(S,$,-$,S,0,0),skew:new dt(1,0,ct,1,0,0)}},dt.prototype.toString=function(S){return this.join(" ")},dt.prototype.inversed=function(){var S=this.sx,$=this.shy,ie=this.shx,fe=this.sy,ye=this.tx,Pe=this.ty,Ue=1/(S*fe-$*ie),ct=fe*Ue,gt=-$*Ue,Mt=-ie*Ue,Ht=S*Ue;return new dt(ct,gt,Mt,Ht,-ct*ye-Mt*Pe,-gt*ye-Ht*Pe)},dt.prototype.applyToPoint=function(S){var $=S.x*this.sx+S.y*this.shx+this.tx,ie=S.x*this.shy+S.y*this.sy+this.ty;return new Ca($,ie)},dt.prototype.applyToRectangle=function(S){var $=this.applyToPoint(S),ie=this.applyToPoint(new Ca(S.x+S.w,S.y+S.h));return new zd($.x,$.y,ie.x-$.x,ie.y-$.y)},dt.prototype.clone=function(){var S=this.sx,$=this.shy,ie=this.shx,fe=this.sy,ye=this.tx,Pe=this.ty;return new dt(S,$,ie,fe,ye,Pe)},f.Matrix=dt;var bn=f.matrixMult=function(S,$){return $.multiply(S)},si=new dt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=si;var Dn=function(S,$){if(!Nn[S]){var ie=($ instanceof yp?"Sh":"P")+(Object.keys(Et).length+1).toString(10);$.id=ie,Nn[S]=ie,Et[ie]=$,rn.publish("addPattern",$)}};f.ShadingPattern=yp,f.TilingPattern=p0,f.addShadingPattern=function(S,$){return k("addShadingPattern()"),Dn(S,$),this},f.beginTilingPattern=function(S){k("beginTilingPattern()"),ic(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},f.endTilingPattern=function(S,$){k("endTilingPattern()"),$.stream=Me[Y].join(`
`),Dn(S,$),rn.publish("endTilingPattern",$),Wn.pop().restore()};var Qn,yr=f.__private__.newObject=function(){var S=oi();return wr(S,!0),S},oi=f.__private__.newObjectDeferred=function(){return he++,ue[he]=function(){return we},he},wr=function(S,$){return $=typeof $=="boolean"&&$,ue[S]=we,$&&J(S+" 0 obj"),S},au=f.__private__.newAdditionalObject=function(){var S={objId:oi(),content:""};return _e.push(S),S},Ql=oi(),cs=oi(),Do=f.__private__.decodeColorString=function(S){var $=S.split(" ");if($.length!==2||$[1]!=="g"&&$[1]!=="G")$.length!==5||$[4]!=="k"&&$[4]!=="K"||($=[(1-$[0])*(1-$[3]),(1-$[1])*(1-$[3]),(1-$[2])*(1-$[3]),"r"]);else{var ie=parseFloat($[0]);$=[ie,ie,ie,"r"]}for(var fe="#",ye=0;ye<3;ye++)fe+=("0"+Math.floor(255*parseFloat($[ye])).toString(16)).slice(-2);return fe},Os=f.__private__.encodeColorString=function(S){var $;typeof S=="string"&&(S={ch1:S});var ie=S.ch1,fe=S.ch2,ye=S.ch3,Pe=S.ch4,Ue=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var ct=new Iq(ie);if(ct.ok)ie=ct.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var gt=parseInt(ie.substr(1),16);ie=gt>>16&255,fe=gt>>8&255,ye=255&gt}if(fe===void 0||Pe===void 0&&ie===fe&&fe===ye)$=typeof ie=="string"?ie+" "+Ue[0]:S.precision===2?T(ie/255)+" "+Ue[0]:M(ie/255)+" "+Ue[0];else if(Pe===void 0||On(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return["1.","1.","1.",Ue[1]].join(" ");$=typeof ie=="string"?[ie,fe,ye,Ue[1]].join(" "):S.precision===2?[T(ie/255),T(fe/255),T(ye/255),Ue[1]].join(" "):[M(ie/255),M(fe/255),M(ye/255),Ue[1]].join(" ")}else $=typeof ie=="string"?[ie,fe,ye,Pe,Ue[2]].join(" "):S.precision===2?[T(ie),T(fe),T(ye),T(Pe),Ue[2]].join(" "):[M(ie),M(fe),M(ye),M(Pe),Ue[2]].join(" ");return $},us=f.__private__.getFilters=function(){return o},qr=f.__private__.putStream=function(S){var $=(S=S||{}).data||"",ie=S.filters||us(),fe=S.alreadyAppliedFilters||[],ye=S.addLength1||!1,Pe=$.length,Ue=S.objectId,ct=function(jr){return jr};if(u!==null&&Ue===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ct=Jn.encryptor(Ue,0));var gt={};ie===!0&&(ie=["FlateEncode"]);var Mt=S.additionalKeyValues||[],Ht=(gt=St.API.processDataByFilters!==void 0?St.API.processDataByFilters($,ie):{data:$,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(gt.data.length!==0&&(Mt.push({key:"Length",value:gt.data.length}),ye===!0&&Mt.push({key:"Length1",value:Pe})),Ht.length!=0)if(Ht.split("/").length-1==1)Mt.push({key:"Filter",value:Ht});else{Mt.push({key:"Filter",value:"["+Ht+"]"});for(var hn=0;hn<Mt.length;hn+=1)if(Mt[hn].key==="DecodeParms"){for(var In=[],Er=0;Er<gt.reverseChain.split("/").length-1;Er+=1)In.push("null");In.push(Mt[hn].value),Mt[hn].value="["+In.join(" ")+"]"}}J("<<");for(var Fn=0;Fn<Mt.length;Fn++)J("/"+Mt[Fn].key+" "+Mt[Fn].value);J(">>"),gt.data.length!==0&&(J("stream"),J(ct(gt.data)),J("endstream"))},Jl=f.__private__.putPage=function(S){var $=S.number,ie=S.data,fe=S.objId,ye=S.contentsObjId;wr(fe,!0),J("<</Type /Page"),J("/Parent "+S.rootDictionaryObjId+" 0 R"),J("/Resources "+S.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(C(S.mediaBox.bottomLeftX))+" "+parseFloat(C(S.mediaBox.bottomLeftY))+" "+C(S.mediaBox.topRightX)+" "+C(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&J("/CropBox ["+C(S.cropBox.bottomLeftX)+" "+C(S.cropBox.bottomLeftY)+" "+C(S.cropBox.topRightX)+" "+C(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&J("/BleedBox ["+C(S.bleedBox.bottomLeftX)+" "+C(S.bleedBox.bottomLeftY)+" "+C(S.bleedBox.topRightX)+" "+C(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&J("/TrimBox ["+C(S.trimBox.bottomLeftX)+" "+C(S.trimBox.bottomLeftY)+" "+C(S.trimBox.topRightX)+" "+C(S.trimBox.topRightY)+"]"),S.artBox!==null&&J("/ArtBox ["+C(S.artBox.bottomLeftX)+" "+C(S.artBox.bottomLeftY)+" "+C(S.artBox.topRightX)+" "+C(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&J("/UserUnit "+S.userUnit),rn.publish("putPage",{objId:fe,pageContext:mt[$],pageNumber:$,page:ie}),J("/Contents "+ye+" 0 R"),J(">>"),J("endobj");var Pe=ie.join(`
`);return N===E&&(Pe+=`
Q`),wr(ye,!0),qr({data:Pe,filters:us(),objectId:ye}),J("endobj"),fe},Mo=f.__private__.putPages=function(){var S,$,ie=[];for(S=1;S<=zt;S++)mt[S].objId=oi(),mt[S].contentsObjId=oi();for(S=1;S<=zt;S++)ie.push(Jl({number:S,data:Me[S],objId:mt[S].objId,contentsObjId:mt[S].contentsObjId,mediaBox:mt[S].mediaBox,cropBox:mt[S].cropBox,bleedBox:mt[S].bleedBox,trimBox:mt[S].trimBox,artBox:mt[S].artBox,userUnit:mt[S].userUnit,rootDictionaryObjId:Ql,resourceDictionaryObjId:cs}));wr(Ql,!0),J("<</Type /Pages");var fe="/Kids [";for($=0;$<zt;$++)fe+=ie[$]+" 0 R ";J(fe+"]"),J("/Count "+zt),J(">>"),J("endobj"),rn.publish("postPutPages")},ol=function(S){rn.publish("putFont",{font:S,out:J,newObject:yr,putStream:qr}),S.isAlreadyPutted!==!0&&(S.objectNumber=yr(),J("<<"),J("/Type /Font"),J("/BaseFont /"+Wg(S.postScriptName)),J("/Subtype /Type1"),typeof S.encoding=="string"&&J("/Encoding /"+S.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Zl=function(S){S.objectNumber=yr();var $=[];$.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Form"}),$.push({key:"BBox",value:"["+[C(S.x),C(S.y),C(S.x+S.width),C(S.y+S.height)].join(" ")+"]"}),$.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ie=S.pages[1].join(`
`);qr({data:ie,additionalKeyValues:$,objectId:S.objectNumber}),J("endobj")},lu=function(S,$){$||($=21);var ie=yr(),fe=function(Ue,ct){var gt,Mt=[],Ht=1/(ct-1);for(gt=0;gt<1;gt+=Ht)Mt.push(gt);if(Mt.push(1),Ue[0].offset!=0){var hn={offset:0,color:Ue[0].color};Ue.unshift(hn)}if(Ue[Ue.length-1].offset!=1){var In={offset:1,color:Ue[Ue.length-1].color};Ue.push(In)}for(var Er="",Fn=0,jr=0;jr<Mt.length;jr++){for(gt=Mt[jr];gt>Ue[Fn+1].offset;)Fn++;var Sr=Ue[Fn].offset,Or=(gt-Sr)/(Ue[Fn+1].offset-Sr),Nr=Ue[Fn].color,co=Ue[Fn+1].color;Er+=le(Math.round((1-Or)*Nr[0]+Or*co[0]).toString(16))+le(Math.round((1-Or)*Nr[1]+Or*co[1]).toString(16))+le(Math.round((1-Or)*Nr[2]+Or*co[2]).toString(16))}return Er.trim()}(S.colors,$),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+$+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qr({data:fe,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),J("endobj"),S.objectNumber=yr(),J("<< /ShadingType "+S.type),J("/ColorSpace /DeviceRGB");var Pe="/Coords ["+C(parseFloat(S.coords[0]))+" "+C(parseFloat(S.coords[1]))+" ";S.type===2?Pe+=C(parseFloat(S.coords[2]))+" "+C(parseFloat(S.coords[3])):Pe+=C(parseFloat(S.coords[2]))+" "+C(parseFloat(S.coords[3]))+" "+C(parseFloat(S.coords[4]))+" "+C(parseFloat(S.coords[5])),J(Pe+="]"),S.matrix&&J("/Matrix ["+S.matrix.toString()+"]"),J("/Function "+ie+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},cu=function(S,$){var ie=oi(),fe=yr();$.push({resourcesOid:ie,objectOid:fe}),S.objectNumber=fe;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+S.boundingBox.map(C).join(" ")+"]"}),ye.push({key:"XStep",value:C(S.xStep)}),ye.push({key:"YStep",value:C(S.yStep)}),ye.push({key:"Resources",value:ie+" 0 R"}),S.matrix&&ye.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),qr({data:S.stream,additionalKeyValues:ye,objectId:S.objectNumber}),J("endobj")},F1=function(S){for(var $ in S.objectNumber=yr(),J("<<"),S)switch($){case"opacity":J("/ca "+T(S[$]));break;case"stroke-opacity":J("/CA "+T(S[$]))}J(">>"),J("endobj")},ec=function(S){wr(S.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var $ in J("/Font <<"),Ft)Ft.hasOwnProperty($)&&(h===!1||h===!0&&p.hasOwnProperty($))&&J("/"+$+" "+Ft[$].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(Et).length>0){for(var $ in J("/Shading <<"),Et)Et.hasOwnProperty($)&&Et[$]instanceof yp&&Et[$].objectNumber>=0&&J("/"+$+" "+Et[$].objectNumber+" 0 R");rn.publish("putShadingPatternDict"),J(">>")}}(),function($){if(Object.keys(Et).length>0){for(var ie in J("/Pattern <<"),Et)Et.hasOwnProperty(ie)&&Et[ie]instanceof f.TilingPattern&&Et[ie].objectNumber>=0&&Et[ie].objectNumber<$&&J("/"+ie+" "+Et[ie].objectNumber+" 0 R");rn.publish("putTilingPatternDict"),J(">>")}}(S.objectOid),function(){if(Object.keys(Ct).length>0){var $;for($ in J("/ExtGState <<"),Ct)Ct.hasOwnProperty($)&&Ct[$].objectNumber>=0&&J("/"+$+" "+Ct[$].objectNumber+" 0 R");rn.publish("putGStateDict"),J(">>")}}(),function(){for(var $ in J("/XObject <<"),jt)jt.hasOwnProperty($)&&jt[$].objectNumber>=0&&J("/"+$+" "+jt[$].objectNumber+" 0 R");rn.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},qf=function(S){Vt[S.fontName]=Vt[S.fontName]||{},Vt[S.fontName][S.fontStyle]=S.id},jd=function(S,$,ie,fe,ye){var Pe={id:"F"+(Object.keys(Ft).length+1).toString(10),postScriptName:S,fontName:$,fontStyle:ie,encoding:fe,isStandardFont:ye||!1,metadata:{}};return rn.publish("addFont",{font:Pe,instance:this}),Ft[Pe.id]=Pe,qf(Pe),Pe.id},Ti=f.__private__.pdfEscape=f.pdfEscape=function(S,$){return function(ie,fe){var ye,Pe,Ue,ct,gt,Mt,Ht,hn,In;if(Ue=(fe=fe||{}).sourceEncoding||"Unicode",gt=fe.outputEncoding,(fe.autoencode||gt)&&Ft[nt].metadata&&Ft[nt].metadata[Ue]&&Ft[nt].metadata[Ue].encoding&&(ct=Ft[nt].metadata[Ue].encoding,!gt&&Ft[nt].encoding&&(gt=Ft[nt].encoding),!gt&&ct.codePages&&(gt=ct.codePages[0]),typeof gt=="string"&&(gt=ct[gt]),gt)){for(Ht=!1,Mt=[],ye=0,Pe=ie.length;ye<Pe;ye++)(hn=gt[ie.charCodeAt(ye)])?Mt.push(String.fromCharCode(hn)):Mt.push(ie[ye]),Mt[ye].charCodeAt(0)>>8&&(Ht=!0);ie=Mt.join("")}for(ye=ie.length;Ht===void 0&&ye!==0;)ie.charCodeAt(ye-1)>>8&&(Ht=!0),ye--;if(!Ht)return ie;for(Mt=fe.noBOM?[]:[254,255],ye=0,Pe=ie.length;ye<Pe;ye++){if((In=(hn=ie.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Mt.push(In),Mt.push(hn-(In<<8))}return String.fromCharCode.apply(void 0,Mt)}(S,$).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jo=f.__private__.beginPage=function(S){Me[++zt]=[],mt[zt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Gf(zt),Le(Me[Y])},Od=function(S,$){var ie,fe,ye;switch(t=$||t,typeof S=="string"&&(ie=b(S.toLowerCase()),Array.isArray(ie)&&(fe=ie[0],ye=ie[1])),Array.isArray(S)&&(fe=S[0]*kt,ye=S[1]*kt),isNaN(fe)&&(fe=i[0],ye=i[1]),(fe>14400||ye>14400)&&(tr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),ye=Math.min(14400,ye)),i=[fe,ye],t.substr(0,1)){case"l":ye>fe&&(i=[ye,fe]);break;case"p":fe>ye&&(i=[ye,fe])}jo(i),Dt(Bd),J(ll),Gn!==0&&J(Gn+" J"),Zf!==0&&J(Zf+" j"),rn.publish("addPage",{pageNumber:zt})},Wf=function(S){S>0&&S<=zt&&(Me.splice(S,1),mt.splice(S,1),zt--,Y>zt&&(Y=zt),this.setPage(Y))},Gf=function(S){S>0&&S<=zt&&(Y=S)},Kf=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Me.length-1},Yf=function(S,$,ie){var fe,ye=void 0;return ie=ie||{},S=S!==void 0?S:Ft[nt].fontName,$=$!==void 0?$:Ft[nt].fontStyle,fe=S.toLowerCase(),Vt[fe]!==void 0&&Vt[fe][$]!==void 0?ye=Vt[fe][$]:Vt[S]!==void 0&&Vt[S][$]!==void 0?ye=Vt[S][$]:ie.disableWarning===!1&&tr.warn("Unable to look up font label for font '"+S+"', '"+$+"'. Refer to getFontList() for available fonts."),ye||ie.noFallback||(ye=Vt.times[$])==null&&(ye=Vt.times.normal),ye},ao=f.__private__.putInfo=function(){var S=yr(),$=function(fe){return fe};for(var ie in u!==null&&($=Jn.encryptor(S,0)),J("<<"),J("/Producer ("+Ti($("jsPDF "+St.version))+")"),Nt)Nt.hasOwnProperty(ie)&&Nt[ie]&&J("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Ti($(Nt[ie]))+")");J("/CreationDate ("+Ti($(ce))+")"),J(">>"),J("endobj")},tc=f.__private__.putCatalog=function(S){var $=(S=S||{}).rootDictionaryObjId||Ql;switch(yr(),J("<<"),J("/Type /Catalog"),J("/Pages "+$+" 0 R"),lt||(lt="fullwidth"),lt){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+lt;ie.substr(ie.length-1)==="%"&&(lt=parseInt(lt)/100),typeof lt=="number"&&J("/OpenAction [3 0 R /XYZ null null "+T(lt)+"]")}switch(Oe||(Oe="continuous"),Oe){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}it&&J("/PageMode /"+it),rn.publish("putCatalog"),J(">>"),J("endobj")},Ag=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(he+1)),J("/Root "+he+" 0 R"),J("/Info "+(he-1)+" 0 R"),u!==null&&J("/Encrypt "+Jn.oid+" 0 R"),J("/ID [ <"+de+"> <"+de+"> ]"),J(">>")},Ar=f.__private__.putHeader=function(){J("%PDF-"+w),J("%")},Eg=f.__private__.putXRef=function(){var S="0000000000";J("xref"),J("0 "+(he+1)),J("0000000000 65535 f ");for(var $=1;$<=he;$++)typeof ue[$]=="function"?J((S+ue[$]()).slice(-10)+" 00000 n "):ue[$]!==void 0?J((S+ue[$]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Aa=f.__private__.buildDocument=function(){var S;he=0,we=0,Ae=[],ue=[],_e=[],Ql=oi(),cs=oi(),Le(Ae),rn.publish("buildDocument"),Ar(),Mo(),function(){rn.publish("putAdditionalObjects");for(var ie=0;ie<_e.length;ie++){var fe=_e[ie];wr(fe.objId,!0),J(fe.content),J("endobj")}rn.publish("postPutAdditionalObjects")}(),S=[],function(){for(var ie in Ft)Ft.hasOwnProperty(ie)&&(h===!1||h===!0&&p.hasOwnProperty(ie))&&ol(Ft[ie])}(),function(){var ie;for(ie in Ct)Ct.hasOwnProperty(ie)&&F1(Ct[ie])}(),function(){for(var ie in jt)jt.hasOwnProperty(ie)&&Zl(jt[ie])}(),function(ie){var fe;for(fe in Et)Et.hasOwnProperty(fe)&&(Et[fe]instanceof yp?lu(Et[fe]):Et[fe]instanceof p0&&cu(Et[fe],ie))}(S),rn.publish("putResources"),S.forEach(ec),ec({resourcesOid:cs,objectOid:Number.MAX_SAFE_INTEGER}),rn.publish("postPutResources"),u!==null&&(Jn.oid=yr(),J("<<"),J("/Filter /Standard"),J("/V "+Jn.v),J("/R "+Jn.r),J("/U <"+Jn.toHexString(Jn.U)+">"),J("/O <"+Jn.toHexString(Jn.O)+">"),J("/P "+Jn.P),J(">>"),J("endobj")),ao(),tc();var $=we;return Eg(),Ag(),J("startxref"),J(""+$),J("%%EOF"),Le(Me[Y]),Ae.join(`
`)},uu=f.__private__.getBlob=function(S){return new Blob([Qe(S)],{type:"application/pdf"})},Xf=f.output=f.__private__.output=(Qn=function(S,$){switch(typeof($=$||{})=="string"?$={filename:$}:$.filename=$.filename||"generated.pdf",S){case void 0:return Aa();case"save":f.save($.filename);break;case"arraybuffer":return Qe(Aa());case"blob":return uu(Aa());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(uu(Aa()))||void 0;tr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",fe=Aa();try{ie=nF(fe)}catch{ie=nF(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+$.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';$.pdfObjectUrl&&(ye=$.pdfObjectUrl,Pe="");var Ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify($)+");<\/script></body></html>",ct=Ut.open();return ct!==null&&ct.document.write(Ue),ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+($.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+$.filename+'" width="500px" height="400px" /></body></html>',Mt=Ut.open();if(Mt!==null){Mt.document.write(gt);var Ht=this;Mt.document.documentElement.querySelector("#pdfViewer").onload=function(){Mt.document.title=$.filename,Mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return Mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",$)+'"></iframe></body></html>',In=Ut.open();if(In!==null&&(In.document.write(hn),In.document.title=$.filename),In||typeof safari>"u")return In;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",$);default:return null}},Qn.foo=function(){try{return Qn.apply(this,arguments)}catch(ie){var S=ie.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var $="Error in function "+S.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Ut.console)throw new Error($);Ut.console.error($,ie),Ut.alert&&alert($)}},Qn.foo.bar=Qn,Qn.foo),lo=function(S){return Array.isArray(It)===!0&&It.indexOf(S)>-1};switch(r){case"pt":kt=1;break;case"mm":kt=72/25.4;break;case"cm":kt=72/2.54;break;case"in":kt=72;break;case"px":kt=lo("px_scaling")==1?.75:96/72;break;case"pc":case"em":kt=12;break;case"ex":kt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);kt=r}var Jn=null;pe(),Q();var pi=f.__private__.getPageInfo=f.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[S].objId,pageNumber:S,pageContext:mt[S]}},du=f.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var $ in mt)if(mt[$].objId===S)break;return pi($)},Fd=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:mt[Y].objId,pageNumber:Y,pageContext:mt[Y]}};f.addPage=function(){return Od.apply(this,arguments),this},f.setPage=function(){return Gf.apply(this,arguments),Le.call(this,Me[Y]),this},f.insertPage=function(S){return this.addPage(),this.movePage(Y,S),this},f.movePage=function(S,$){var ie,fe;if(S>$){ie=Me[S],fe=mt[S];for(var ye=S;ye>$;ye--)Me[ye]=Me[ye-1],mt[ye]=mt[ye-1];Me[$]=ie,mt[$]=fe,this.setPage($)}else if(S<$){ie=Me[S],fe=mt[S];for(var Pe=S;Pe<$;Pe++)Me[Pe]=Me[Pe+1],mt[Pe]=mt[Pe+1];Me[$]=ie,mt[$]=fe,this.setPage($)}return this},f.deletePage=function(){return Wf.apply(this,arguments),this},f.__private__.text=f.text=function(S,$,ie,fe,ye){var Pe,Ue,ct,gt,Mt,Ht,hn,In,Er,Fn=(fe=fe||{}).scope||this;if(typeof S=="number"&&typeof $=="number"&&(typeof ie=="string"||Array.isArray(ie))){var jr=ie;ie=$,$=S,S=jr}if(arguments[3]instanceof dt==0?(ct=arguments[4],gt=arguments[5],On(hn=arguments[3])==="object"&&hn!==null||(typeof ct=="string"&&(gt=ct,ct=null),typeof hn=="string"&&(gt=hn,hn=null),typeof hn=="number"&&(ct=hn,hn=null),fe={flags:hn,angle:ct,align:gt})):(k("The transform parameter of text() with a Matrix value"),Er=ye),isNaN($)||isNaN(ie)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Fn;var Sr,Or="",Nr=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:rc,co=Fn.internal.scaleFactor;function Ia(Mn){return Mn=Mn.split("	").join(Array(fe.TabLen||9).join(" ")),Ti(Mn,hn)}function Pa(Mn){for(var Zn,Gr=Mn.concat(),mi=[],vu=Gr.length;vu--;)typeof(Zn=Gr.shift())=="string"?mi.push(Zn):Array.isArray(Mn)&&(Zn.length===1||Zn[1]===void 0&&Zn[2]===void 0)?mi.push(Zn[0]):mi.push([Zn[0],Zn[1],Zn[2]]);return mi}function v(Mn,Zn){var Gr;if(typeof Mn=="string")Gr=Zn(Mn)[0];else if(Array.isArray(Mn)){for(var mi,vu,J1=Mn.concat(),Rg=[],Cx=J1.length;Cx--;)typeof(mi=J1.shift())=="string"?Rg.push(Zn(mi)[0]):Array.isArray(mi)&&typeof mi[0]=="string"&&(vu=Zn(mi[0],mi[1],mi[2]),Rg.push([vu[0],vu[1],vu[2]]));Gr=Rg}return Gr}var P=!1,B=!0;if(typeof S=="string")P=!0;else if(Array.isArray(S)){var ee=S.concat();Ue=[];for(var be,Te=ee.length;Te--;)(typeof(be=ee.shift())!="string"||Array.isArray(be)&&typeof be[0]!="string")&&(B=!1);P=B}if(P===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var We=Ie/Fn.internal.scaleFactor,mn=We*(Nr-1);switch(fe.baseline){case"bottom":ie-=mn;break;case"top":ie+=We-mn;break;case"hanging":ie+=We-2*mn;break;case"middle":ie+=We/2-mn}if((Ht=fe.maxWidth||0)>0&&(typeof S=="string"?S=Fn.splitTextToSize(S,Ht):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Mn,Zn){return Mn.concat(Fn.splitTextToSize(Zn,Ht))},[]))),Pe={text:S,x:$,y:ie,options:fe,mutex:{pdfEscape:Ti,activeFontKey:nt,fonts:Ft,activeFontSize:Ie}},rn.publish("preProcessText",Pe),S=Pe.text,ct=(fe=Pe.options).angle,Er instanceof dt==0&&ct&&typeof ct=="number"){ct*=Math.PI/180,fe.rotationDirection===0&&(ct=-ct),N===E&&(ct=-ct);var Cr=Math.cos(ct),an=Math.sin(ct);Er=new dt(Cr,an,-an,Cr,0,0)}else ct&&ct instanceof dt&&(Er=ct);N!==E||Er||(Er=si),(Mt=fe.charSpace||Na)!==void 0&&(Or+=C(R(Mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(In=fe.horizontalScale)!==void 0&&(Or+=C(100*In)+` Tz
`),fe.lang;var Tn=-1,ir=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Fo=Fn.internal.getCurrentPageInfo().pageContext;switch(ir){case 0:case!1:case"fill":Tn=0;break;case 1:case!0:case"stroke":Tn=1;break;case 2:case"fillThenStroke":Tn=2;break;case 3:case"invisible":Tn=3;break;case 4:case"fillAndAddForClipping":Tn=4;break;case 5:case"strokeAndAddPathForClipping":Tn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Tn=6;break;case 7:case"addToPathForClipping":Tn=7}var ds=Fo.usedRenderingMode!==void 0?Fo.usedRenderingMode:-1;Tn!==-1?Or+=Tn+` Tr
`:ds!==-1&&(Or+=`0 Tr
`),Tn!==-1&&(Fo.usedRenderingMode=Tn),gt=fe.align||"left";var Wi,cl=Ie*Nr,q1=Fn.internal.pageSize.getWidth(),W1=Ft[nt];Mt=fe.charSpace||Na,Ht=fe.maxWidth||0,hn=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var Hd=[],np=function(Mn){return Fn.getStringUnitWidth(Mn,{font:W1,charSpace:Mt,fontSize:Ie,doKerning:!1})*Ie/co};if(Object.prototype.toString.call(S)==="[object Array]"){var Bo;Ue=Pa(S),gt!=="left"&&(Wi=Ue.map(np));var Uo,qd=0;if(gt==="right"){$-=Wi[0],S=[],Te=Ue.length;for(var gu=0;gu<Te;gu++)gu===0?(Uo=ki($),Bo=al(ie)):(Uo=R(qd-Wi[gu]),Bo=-cl),S.push([Ue[gu],Uo,Bo]),qd=Wi[gu]}else if(gt==="center"){$-=Wi[0]/2,S=[],Te=Ue.length;for(var Wd=0;Wd<Te;Wd++)Wd===0?(Uo=ki($),Bo=al(ie)):(Uo=R((qd-Wi[Wd])/2),Bo=-cl),S.push([Ue[Wd],Uo,Bo]),qd=Wi[Wd]}else if(gt==="left"){S=[],Te=Ue.length;for(var G1=0;G1<Te;G1++)S.push(Ue[G1])}else if(gt==="justify"&&W1.encoding==="Identity-H"){S=[],Te=Ue.length,Ht=Ht!==0?Ht:q1;for(var Pg=0,Wr=0;Wr<Te;Wr++)if(Bo=Wr===0?al(ie):-cl,Uo=Wr===0?ki($):Pg,Wr<Te-1){var Nx=R((Ht-Wi[Wr])/(Ue[Wr].split(" ").length-1)),oc=Ue[Wr].split(" ");S.push([oc[0]+" ",Uo,Bo]),Pg=0;for(var ac=1;ac<oc.length;ac++){var K1=(np(oc[ac-1]+" "+oc[ac])-np(oc[ac]))*co+Nx;ac==oc.length-1?S.push([oc[ac],K1,0]):S.push([oc[ac]+" ",K1,0]),Pg-=K1}}else S.push([Ue[Wr],Uo,Bo]);S.push(["",Pg,0])}else{if(gt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Te=Ue.length,Ht=Ht!==0?Ht:q1,Wr=0;Wr<Te;Wr++){Bo=Wr===0?al(ie):-cl,Uo=Wr===0?ki($):0;var Y1=Ue[Wr].split(" ").length-1,X1=Y1>0?(Ht-Wi[Wr])/Y1:0;Wr<Te-1?Hd.push(C(R(X1))):Hd.push(0),S.push([Ue[Wr],Uo,Bo])}}}(typeof fe.R2L=="boolean"?fe.R2L:pt)===!0&&(S=v(S,function(Mn,Zn,Gr){return[Mn.split("").reverse().join(""),Zn,Gr]})),Pe={text:S,x:$,y:ie,options:fe,mutex:{pdfEscape:Ti,activeFontKey:nt,fonts:Ft,activeFontSize:Ie}},rn.publish("postProcessText",Pe),S=Pe.text,Sr=Pe.mutex.isHex||!1;var Q1=Ft[nt].encoding;Q1!=="WinAnsiEncoding"&&Q1!=="StandardEncoding"||(S=v(S,function(Mn,Zn,Gr){return[Ia(Mn),Zn,Gr]})),Ue=Pa(S),S=[];for(var Gd,Kd,Yd,rp=Array.isArray(Ue[0])?1:0,Xd="",ip=function(Mn,Zn,Gr){var mi="";return Gr instanceof dt?(Gr=typeof fe.angle=="number"?bn(Gr,new dt(1,0,0,1,Mn,Zn)):bn(new dt(1,0,0,1,Mn,Zn),Gr),N===E&&(Gr=bn(new dt(1,0,0,-1,0,0),Gr)),mi=Gr.join(" ")+` Tm
`):mi=C(Mn)+" "+C(Zn)+` Td
`,mi},Ra=0;Ra<Ue.length;Ra++){switch(Xd="",rp){case 1:Yd=(Sr?"<":"(")+Ue[Ra][0]+(Sr?">":")"),Gd=parseFloat(Ue[Ra][1]),Kd=parseFloat(Ue[Ra][2]);break;case 0:Yd=(Sr?"<":"(")+Ue[Ra]+(Sr?">":")"),Gd=ki($),Kd=al(ie)}Hd!==void 0&&Hd[Ra]!==void 0&&(Xd=Hd[Ra]+` Tw
`),Ra===0?S.push(Xd+ip(Gd,Kd,Er)+Yd):rp===0?S.push(Xd+Yd):rp===1&&S.push(Xd+ip(Gd,Kd,Er)+Yd)}S=rp===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var lc=`BT
/`;return lc+=nt+" "+Ie+` Tf
`,lc+=C(Ie*Nr)+` TL
`,lc+=Oo+`
`,lc+=Or,lc+=S,J(lc+="ET"),p[nt]=!0,Fn};var Sg=f.__private__.clip=f.clip=function(S){return J(S==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Sg("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var dn=f.__private__.isValidStyle=function(S){var $=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&($=!0),$};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(S){return dn(S)&&(c=S),this};var hu=f.__private__.getStyle=f.getStyle=function(S){var $=c;switch(S){case"D":case"S":$="S";break;case"F":$="f";break;case"FD":case"DF":$="B";break;case"f":case"f*":case"B":case"B*":$=S}return $},nc=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(S){return Ea("f",S),this},f.fillEvenOdd=function(S){return Ea("f*",S),this},f.fillStroke=function(S){return Ea("B",S),this},f.fillStrokeEvenOdd=function(S){return Ea("B*",S),this};var Ea=function(S,$){On($)==="object"?B1($,S):J(S)},fu=function(S){S===null||N===E&&S===void 0||(S=hu(S),J(S))};function Ng(S,$,ie,fe,ye){var Pe=new p0($||this.boundingBox,ie||this.xStep,fe||this.yStep,this.gState,ye||this.matrix);Pe.stream=this.stream;var Ue=S+"$$"+this.cloneIndex+++"$$";return Dn(Ue,Pe),Pe}var B1=function(S,$){var ie=Nn[S.key],fe=Et[ie];if(fe instanceof yp)J("q"),J(U1($)),fe.gState&&f.setGState(fe.gState),J(S.matrix.toString()+" cm"),J("/"+ie+" sh"),J("Q");else if(fe instanceof p0){var ye=new dt(1,0,0,-1,0,ka());S.matrix&&(ye=ye.multiply(S.matrix||si),ie=Ng.call(fe,S.key,S.boundingBox,S.xStep,S.yStep,ye).id),J("q"),J("/Pattern cs"),J("/"+ie+" scn"),fe.gState&&f.setGState(fe.gState),J($),J("Q")}},U1=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Qf=f.moveTo=function(S,$){return J(C(R(S))+" "+C(q($))+" m"),this},Cg=f.lineTo=function(S,$){return J(C(R(S))+" "+C(q($))+" l"),this},qi=f.curveTo=function(S,$,ie,fe,ye,Pe){return J([C(R(S)),C(q($)),C(R(ie)),C(q(fe)),C(R(ye)),C(q(Pe)),"c"].join(" ")),this};f.__private__.line=f.line=function(S,$,ie,fe,ye){if(isNaN(S)||isNaN($)||isNaN(ie)||isNaN(fe)||!dn(ye))throw new Error("Invalid arguments passed to jsPDF.line");return N===A?this.lines([[ie-S,fe-$]],S,$,[1,1],ye||"S"):this.lines([[ie-S,fe-$]],S,$,[1,1]).stroke()},f.__private__.lines=f.lines=function(S,$,ie,fe,ye,Pe){var Ue,ct,gt,Mt,Ht,hn,In,Er,Fn,jr,Sr,Or;if(typeof S=="number"&&(Or=ie,ie=$,$=S,S=Or),fe=fe||[1,1],Pe=Pe||!1,isNaN($)||isNaN(ie)||!Array.isArray(S)||!Array.isArray(fe)||!dn(ye)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Qf($,ie),Ue=fe[0],ct=fe[1],Mt=S.length,jr=$,Sr=ie,gt=0;gt<Mt;gt++)(Ht=S[gt]).length===2?(jr=Ht[0]*Ue+jr,Sr=Ht[1]*ct+Sr,Cg(jr,Sr)):(hn=Ht[0]*Ue+jr,In=Ht[1]*ct+Sr,Er=Ht[2]*Ue+jr,Fn=Ht[3]*ct+Sr,jr=Ht[4]*Ue+jr,Sr=Ht[5]*ct+Sr,qi(hn,In,Er,Fn,jr,Sr));return Pe&&nc(),fu(ye),this},f.path=function(S){for(var $=0;$<S.length;$++){var ie=S[$],fe=ie.c;switch(ie.op){case"m":Qf(fe[0],fe[1]);break;case"l":Cg(fe[0],fe[1]);break;case"c":qi.apply(this,fe);break;case"h":nc()}}return this},f.__private__.rect=f.rect=function(S,$,ie,fe,ye){if(isNaN(S)||isNaN($)||isNaN(ie)||isNaN(fe)||!dn(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return N===A&&(fe=-fe),J([C(R(S)),C(q($)),C(R(ie)),C(R(fe)),"re"].join(" ")),fu(ye),this},f.__private__.triangle=f.triangle=function(S,$,ie,fe,ye,Pe,Ue){if(isNaN(S)||isNaN($)||isNaN(ie)||isNaN(fe)||isNaN(ye)||isNaN(Pe)||!dn(Ue))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-S,fe-$],[ye-ie,Pe-fe],[S-ye,$-Pe]],S,$,[1,1],Ue,!0),this},f.__private__.roundedRect=f.roundedRect=function(S,$,ie,fe,ye,Pe,Ue){if(isNaN(S)||isNaN($)||isNaN(ie)||isNaN(fe)||isNaN(ye)||isNaN(Pe)||!dn(Ue))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ct=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*ie),Pe=Math.min(Pe,.5*fe),this.lines([[ie-2*ye,0],[ye*ct,0,ye,Pe-Pe*ct,ye,Pe],[0,fe-2*Pe],[0,Pe*ct,-ye*ct,Pe,-ye,Pe],[2*ye-ie,0],[-ye*ct,0,-ye,-Pe*ct,-ye,-Pe],[0,2*Pe-fe],[0,-Pe*ct,ye*ct,-Pe,ye,-Pe]],S+ye,$,[1,1],Ue,!0),this},f.__private__.ellipse=f.ellipse=function(S,$,ie,fe,ye){if(isNaN(S)||isNaN($)||isNaN(ie)||isNaN(fe)||!dn(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*ie,Ue=4/3*(Math.SQRT2-1)*fe;return Qf(S+ie,$),qi(S+ie,$-Ue,S+Pe,$-fe,S,$-fe),qi(S-Pe,$-fe,S-ie,$-Ue,S-ie,$),qi(S-ie,$+Ue,S-Pe,$+fe,S,$+fe),qi(S+Pe,$+fe,S+ie,$+Ue,S+ie,$),fu(ye),this},f.__private__.circle=f.circle=function(S,$,ie,fe){if(isNaN(S)||isNaN($)||isNaN(ie)||!dn(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,$,ie,ie,fe)},f.setFont=function(S,$,ie){return ie&&($=L($,ie)),nt=Yf(S,$,{disableWarning:!1}),this};var Sa=f.__private__.getFont=f.getFont=function(){return Ft[Yf.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var S,$,ie={};for(S in Vt)if(Vt.hasOwnProperty(S))for($ in ie[S]=[],Vt[S])Vt[S].hasOwnProperty($)&&ie[S].push($);return ie},f.addFont=function(S,$,ie,fe,ye){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(ie=L(ie,fe)),jd.call(this,S,$,ie,ye=ye||"Identity-H")};var rc,Bd=n.lineWidth||.200025,Tg=f.__private__.getLineWidth=f.getLineWidth=function(){return Bd},Dt=f.__private__.setLineWidth=f.setLineWidth=function(S){return Bd=S,J(C(R(S))+" w"),this};f.__private__.setLineDash=St.API.setLineDash=St.API.setLineDashPattern=function(S,$){if(S=S||[],$=$||0,isNaN($)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ie){return C(R(ie))}).join(" "),$=C(R($)),J("["+S+"] "+$+" d"),this};var V1=f.__private__.getLineHeight=f.getLineHeight=function(){return Ie*rc};f.__private__.getLineHeight=f.getLineHeight=function(){return Ie*rc};var z1=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(rc=S),this},$1=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return rc};z1(n.lineHeight);var ki=f.__private__.getHorizontalCoordinate=function(S){return R(S)},al=f.__private__.getVerticalCoordinate=function(S){return N===E?S:mt[Y].mediaBox.topRightY-mt[Y].mediaBox.bottomLeftY-R(S)},H1=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(S){return C(ki(S))},Ud=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(S){return C(al(S))},ll=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Do(ll)},f.__private__.setStrokeColor=f.setDrawColor=function(S,$,ie,fe){return ll=Os({ch1:S,ch2:$,ch3:ie,ch4:fe,pdfColorType:"draw",precision:2}),J(ll),this};var Vd=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Do(Vd)},f.__private__.setFillColor=f.setFillColor=function(S,$,ie,fe){return Vd=Os({ch1:S,ch2:$,ch3:ie,ch4:fe,pdfColorType:"fill",precision:2}),J(Vd),this};var Oo=n.textColor||"0 g",pu=f.__private__.getTextColor=f.getTextColor=function(){return Do(Oo)};f.__private__.setTextColor=f.setTextColor=function(S,$,ie,fe){return Oo=Os({ch1:S,ch2:$,ch3:ie,ch4:fe,pdfColorType:"text",precision:3}),this};var Na=n.charSpace,Jf=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Na||0)};f.__private__.setCharSpace=f.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Na=S,this};var Gn=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(S){var $=f.CapJoinStyles[S];if($===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gn=$,J($+" J"),this};var Zf=0;f.__private__.setLineJoin=f.setLineJoin=function(S){var $=f.CapJoinStyles[S];if($===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zf=$,J($+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(C(R(S))+" M"),this},f.GState=aE,f.setGState=function(S){(S=typeof S=="string"?Ct[Bt[S]]:kg(null,S)).equals(Cn)||(J("/"+S.id+" gs"),Cn=S)};var kg=function(S,$){if(!S||!Bt[S]){var ie=!1;for(var fe in Ct)if(Ct.hasOwnProperty(fe)&&Ct[fe].equals($)){ie=!0;break}if(ie)$=Ct[fe];else{var ye="GS"+(Object.keys(Ct).length+1).toString(10);Ct[ye]=$,$.id=ye}return S&&(Bt[S]=$.id),rn.publish("addGState",$),$}};f.addGState=function(S,$){return kg(S,$),this},f.saveGraphicsState=function(){return J("q"),An.push({key:nt,size:Ie,color:Oo}),this},f.restoreGraphicsState=function(){J("Q");var S=An.pop();return nt=S.key,Ie=S.size,Oo=S.color,Cn=null,this},f.setCurrentTransformationMatrix=function(S){return J(S.toString()+" cm"),this},f.comment=function(S){return J("#"+S),this};var Ca=function(S,$){var ie=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Pe){isNaN(Pe)||(ie=parseFloat(Pe))}});var fe=$||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Pe){isNaN(Pe)||(fe=parseFloat(Pe))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Pe){ye=Pe.toString()}}),this},zd=function(S,$,ie,fe){Ca.call(this,S,$),this.type="rect";var ye=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(Ue){isNaN(Ue)||(ye=parseFloat(Ue))}});var Pe=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Ue){isNaN(Ue)||(Pe=parseFloat(Ue))}}),this},mu=function(){this.page=zt,this.currentPage=Y,this.pages=Me.slice(0),this.pagesContext=mt.slice(0),this.x=wt,this.y=Ln,this.matrix=nn,this.width=Fs(Y),this.height=Ig(Y),this.outputDestination=Ce,this.id="",this.objectNumber=-1};mu.prototype.restore=function(){zt=this.page,Y=this.currentPage,mt=this.pagesContext,Me=this.pages,wt=this.x,Ln=this.y,nn=this.matrix,ep(Y,this.width),Bs(Y,this.height),Ce=this.outputDestination};var ic=function(S,$,ie,fe,ye){Wn.push(new mu),zt=Y=0,Me=[],wt=S,Ln=$,nn=ye,jo([ie,fe])};for(var sc in f.beginFormObject=function(S,$,ie,fe,ye){return ic(S,$,ie,fe,ye),this},f.endFormObject=function(S){return function($){if(cn[$])Wn.pop().restore();else{var ie=new mu,fe="Xo"+(Object.keys(jt).length+1).toString(10);ie.id=fe,cn[$]=fe,jt[fe]=ie,rn.publish("addFormObject",ie),Wn.pop().restore()}}(S),this},f.doFormObject=function(S,$){var ie=jt[cn[S]];return J("q"),J($.toString()+" cm"),J("/"+ie.id+" Do"),J("Q"),this},f.getFormObject=function(S){var $=jt[cn[S]];return{x:$.x,y:$.y,width:$.width,height:$.height,matrix:$.matrix}},f.save=function(S,$){return S=S||"generated.pdf",($=$||{}).returnPromise=$.returnPromise||!1,$.returnPromise===!1?(up(uu(Aa()),S),typeof up.unload=="function"&&Ut.setTimeout&&setTimeout(up.unload,911),this):new Promise(function(ie,fe){try{var ye=up(uu(Aa()),S);typeof up.unload=="function"&&Ut.setTimeout&&setTimeout(up.unload,911),ie(ye)}catch(Pe){fe(Pe.message)}})},St.API)St.API.hasOwnProperty(sc)&&(sc==="events"&&St.API.events.length?function(S,$){var ie,fe,ye;for(ye=$.length-1;ye!==-1;ye--)ie=$[ye][0],fe=$[ye][1],S.subscribe.apply(S,[ie].concat(typeof fe=="function"?[fe]:fe))}(rn,St.API.events):f[sc]=St.API[sc]);function Fs(S){return mt[S].mediaBox.topRightX-mt[S].mediaBox.bottomLeftX}function ep(S,$){mt[S].mediaBox.topRightX=$+mt[S].mediaBox.bottomLeftX}function Ig(S){return mt[S].mediaBox.topRightY-mt[S].mediaBox.bottomLeftY}function Bs(S,$){mt[S].mediaBox.topRightY=$+mt[S].mediaBox.bottomLeftY}var Ta=f.getPageWidth=function(S){return Fs(S=S||Y)/kt},$d=f.setPageWidth=function(S,$){ep(S,$*kt)},ka=f.getPageHeight=function(S){return Ig(S=S||Y)/kt},tp=f.setPageHeight=function(S,$){Bs(S,$*kt)};return f.internal={pdfEscape:Ti,getStyle:hu,getFont:Sa,getFontSize:Xe,getCharSpace:Jf,getTextColor:pu,getLineHeight:V1,getLineHeightFactor:$1,getLineWidth:Tg,write:je,getHorizontalCoordinate:ki,getVerticalCoordinate:al,getCoordinateString:H1,getVerticalCoordinateString:Ud,collections:{},newObject:yr,newAdditionalObject:au,newObjectDeferred:oi,newObjectDeferredBegin:wr,getFilters:us,putStream:qr,events:rn,scaleFactor:kt,pageSize:{getWidth:function(){return Ta(Y)},setWidth:function(S){$d(Y,S)},getHeight:function(){return ka(Y)},setHeight:function(S){tp(Y,S)}},encryptionOptions:u,encryption:Jn,getEncryptor:function(S){return u!==null?Jn.encryptor(S,0):function($){return $}},output:Xf,getNumberOfPages:Kf,get pages(){return Me},out:J,f2:T,f3:M,getPageInfo:pi,getPageInfoByObjId:du,getCurrentPageInfo:Fd,getPDFVersion:y,Point:Ca,Rectangle:zd,Matrix:dt,hasHotfix:lo},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Ta(Y)},set:function(S){$d(Y,S)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return ka(Y)},set:function(S){tp(Y,S)},enumerable:!0,configurable:!0}),(function(S){for(var $=0,ie=Ge.length;$<ie;$++){var fe=jd.call(this,S[$][0],S[$][1],S[$][2],Ge[$][3],!0);h===!1&&(p[fe]=!0);var ye=S[$][0].split("-");qf({id:fe,fontName:ye[0],fontStyle:ye[1]||""})}rn.publish("addFonts",{fonts:Ft,dictionary:Vt})}).call(f,Ge),nt="F1",Od(i,t),rn.publish("initialized"),f}qg.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},qg.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qg.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},qg.prototype.processOwnerPassword=function(n,e){return _I(xI(e).substr(0,5),n)},qg.prototype.encryptor=function(n,e){var t=xI(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return _I(t,r)}},aE.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||On(n)!==On(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},St.API={events:[]},St.version="3.0.4";var zr=St.API,G3=1,wg=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ug=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Wt=function(n){return n.toFixed(2)},lh=function(n){return n.toFixed(5)};zr.__acroform__={};var Lo=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},oF=function(n){return n*G3},hc=function(n){var e=new Dq,t=ft.internal.getHeight(n)||0,r=ft.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Wt(r)),Number(Wt(t))],e},x1e=zr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},_1e=zr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},A1e=zr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Zr=zr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return A1e(n,e-1)},ei=zr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return x1e(n,e-1)},ti=zr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return _1e(n,e-1)},E1e=zr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Wt(l.lowerLeft_X)),Number(Wt(l.lowerLeft_Y)),Number(Wt(l.upperRight_X)),Number(Wt(l.upperRight_Y))]},S1e=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=AI(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Wt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=hc(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},AI=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=t,o=ft.internal.getHeight(n)||0;o=o<0?-o:o;var a=ft.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(T,M,R){if(T+1<i.length){var q=M+" "+i[T+1][0];return P_(q,n,R).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,h=P_("3",n,s).height,p=n.multiline?o-s:(o-h)/2,f=p+=2,w=0,y=0,_=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+P_(e,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var b="",A=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var N=!1;if(i[E].length!==1&&_!==i[E].length-1){if((h+2)*(A+2)+2>o)continue e;b+=i[E][_],N=!0,y=E,E--}else{b=(b+=i[E][_]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var F=parseInt(E),V=l(F,b,s),L=E>=i.length-1;if(V&&!L){b+=" ",_=0;continue}if(V||L){if(L)y=F;else if(n.multiline&&(h+2)*(A+2)+2>o)continue e}else{if(!n.multiline||(h+2)*(A+2)+2>o)continue e;y=F}}for(var C="",k=w;k<=y;k++){var j=i[k];if(n.multiline){if(k===y){C+=j[_]+" ",_=(_+1)%j.length;continue}if(k===w){C+=j[j.length-1]+" ";continue}}C+=j[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,u=P_(C,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=Wt(c)+" "+Wt(f)+` Td
`,e+="("+wg(C)+`) Tj
`,e+=-Wt(c)+` 0 Td
`,f=-(s+2),u=0,w=N?y:y+1,A++,b=""}break}return r.text=e,r.fontSize=s,r},P_=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},N1e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},C1e=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},T1e=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Yl.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(N1e)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");G3=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new Mq,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&C1e(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=E1e(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ft.createDefaultAppearanceStream(a),On(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=S1e(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var f=a.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var w=f[o];typeof w=="function"&&(w=w.call(i,a)),h+="/"+o+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=f)=="function"&&(w=w.call(i,a)),h+="/"+o+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(y,_){for(var b in y)if(y.hasOwnProperty(b)){var A=b,E=y[b];_.internal.newObjectDeferredBegin(E.objId,!0),On(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete y[A]}}(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},Lq=zr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),On(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+wg(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},KC=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+wg(r(n))+")"},$c=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$c.prototype.toString=function(){return this.objId+" 0 R"},$c.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},$c.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:Lq(i,this.objId,this.scope)}):i instanceof $c?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var Dq=function(){$c.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Lo(Dq,$c);var Mq=function(){$c.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+wg(t(n))+")"}},set:function(t){n=t}})};Lo(Mq,$c);var Yl=function n(){$c.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zr(e,3)},set:function(b){b?this.F=ei(e,3):this.F=ti(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');t=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof lE)return;s="FieldObject"+n.FieldNum++}var b=function(A){return A};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+wg(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/G3:c},set:function(b){c=b}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof lE||this instanceof jm))return KC(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Vi==0?KC(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof Vi==0?b.substr(0,1)==="("?Ug(b.substr(1,b.length-2)):Ug(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vi==1?Ug(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof Vi==1?"/"+b:b}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Vi==0?KC(f,this.objId,this.scope):f},set:function(b){b=b.toString(),f=this instanceof Vi==0?b.substr(0,1)==="("?Ug(b.substr(1,b.length-2)):Ug(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vi==1?Ug(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof Vi==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(b){b=!!b,y=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(b){w=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,1)},set:function(b){b?this.Ff=ei(this.Ff,1):this.Ff=ti(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,2)},set:function(b){b?this.Ff=ei(this.Ff,2):this.Ff=ti(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,3)},set:function(b){b?this.Ff=ei(this.Ff,3):this.Ff=ti(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');_=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(_){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};Lo(Yl,$c);var P0=function(){Yl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Lq(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,18)},set:function(t){t?this.Ff=ei(this.Ff,18):this.Ff=ti(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ei(this.Ff,19):this.Ff=ti(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,20)},set:function(t){t?(this.Ff=ei(this.Ff,20),e.sort()):this.Ff=ti(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,22)},set:function(t){t?this.Ff=ei(this.Ff,22):this.Ff=ti(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,23)},set:function(t){t?this.Ff=ei(this.Ff,23):this.Ff=ti(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,27)},set:function(t){t?this.Ff=ei(this.Ff,27):this.Ff=ti(this.Ff,27)}}),this.hasAppearanceStream=!1};Lo(P0,Yl);var R0=function(){P0.call(this),this.fontName="helvetica",this.combo=!1};Lo(R0,P0);var L0=function(){R0.call(this),this.combo=!0};Lo(L0,R0);var _5=function(){L0.call(this),this.edit=!0};Lo(_5,L0);var Vi=function(){Yl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,15)},set:function(t){t?this.Ff=ei(this.Ff,15):this.Ff=ti(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,16)},set:function(t){t?this.Ff=ei(this.Ff,16):this.Ff=ti(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,17)},set:function(t){t?this.Ff=ei(this.Ff,17):this.Ff=ti(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,26)},set:function(t){t?this.Ff=ei(this.Ff,26):this.Ff=ti(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+wg(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){On(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Lo(Vi,Yl);var A5=function(){Vi.call(this),this.pushButton=!0};Lo(A5,Vi);var D0=function(){Vi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Lo(D0,Vi);var lE=function(){var n,e;Yl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+wg(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){On(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Lo(lE,Yl),D0.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},D0.prototype.createOption=function(n){var e=new lE;return e.Parent=this,e.optionName=n,this.Kids.push(e),k1e.call(this.scope,e),e};var E5=function(){Vi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ft.CheckBox.createAppearanceStream()};Lo(E5,Vi);var jm=function(){Yl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,13)},set:function(e){e?this.Ff=ei(this.Ff,13):this.Ff=ti(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,21)},set:function(e){e?this.Ff=ei(this.Ff,21):this.Ff=ti(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,23)},set:function(e){e?this.Ff=ei(this.Ff,23):this.Ff=ti(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,24)},set:function(e){e?this.Ff=ei(this.Ff,24):this.Ff=ti(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,25)},set:function(e){e?this.Ff=ei(this.Ff,25):this.Ff=ti(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,26)},set:function(e){e?this.Ff=ei(this.Ff,26):this.Ff=ti(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Lo(jm,Yl);var S5=function(){jm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,14)},set:function(n){n?this.Ff=ei(this.Ff,14):this.Ff=ti(this.Ff,14)}}),this.password=!0};Lo(S5,jm);var ft={CheckBox:{createAppearanceStream:function(){return{N:{On:ft.CheckBox.YesNormal},D:{On:ft.CheckBox.YesPushDown,Off:ft.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=AI(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Wt(ft.internal.getWidth(n))+" "+Wt(ft.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Wt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=hc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=ft.internal.getHeight(n),o=ft.internal.getWidth(n),a=AI(n,n.caption);return i.push("1 g"),i.push("0 0 "+Wt(o)+" "+Wt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Wt(o-1)+" "+Wt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Wt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Wt(ft.internal.getWidth(n))+" "+Wt(ft.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:ft.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=ft.RadioButton.Circle.YesNormal,e.D[n]=ft.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=hc(n);e.scope=n.scope;var t=[],r=ft.internal.getWidth(n)<=ft.internal.getHeight(n)?ft.internal.getWidth(n)/4:ft.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=ft.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+lh(ft.internal.getWidth(n)/2)+" "+lh(ft.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=[],r=ft.internal.getWidth(n)<=ft.internal.getHeight(n)?ft.internal.getWidth(n)/4:ft.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ft.internal.Bezier_C).toFixed(5)),o=Number((r*ft.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+lh(ft.internal.getWidth(n)/2)+" "+lh(ft.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+lh(ft.internal.getWidth(n)/2)+" "+lh(ft.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=[],r=ft.internal.getWidth(n)<=ft.internal.getHeight(n)?ft.internal.getWidth(n)/4:ft.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ft.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+lh(ft.internal.getWidth(n)/2)+" "+lh(ft.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:ft.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=ft.RadioButton.Cross.YesNormal,e.D[n]=ft.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=hc(n);e.scope=n.scope;var t=[],r=ft.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Wt(ft.internal.getWidth(n)-2)+" "+Wt(ft.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Wt(r.x1.x)+" "+Wt(r.x1.y)+" m"),t.push(Wt(r.x2.x)+" "+Wt(r.x2.y)+" l"),t.push(Wt(r.x4.x)+" "+Wt(r.x4.y)+" m"),t.push(Wt(r.x3.x)+" "+Wt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=ft.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Wt(ft.internal.getWidth(n))+" "+Wt(ft.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Wt(ft.internal.getWidth(n)-2)+" "+Wt(ft.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Wt(t.x1.x)+" "+Wt(t.x1.y)+" m"),r.push(Wt(t.x2.x)+" "+Wt(t.x2.y)+" l"),r.push(Wt(t.x4.x)+" "+Wt(t.x4.y)+" m"),r.push(Wt(t.x3.x)+" "+Wt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Wt(ft.internal.getWidth(n))+" "+Wt(ft.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};ft.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=ft.internal.getWidth(n),t=ft.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},ft.internal.getWidth=function(n){var e=0;return On(n)==="object"&&(e=oF(n.Rect[2])),e},ft.internal.getHeight=function(n){var e=0;return On(n)==="object"&&(e=oF(n.Rect[3])),e};var k1e=zr.addField=function(n){if(T1e(this,n),!(n instanceof Yl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};zr.AcroFormChoiceField=P0,zr.AcroFormListBox=R0,zr.AcroFormComboBox=L0,zr.AcroFormEditBox=_5,zr.AcroFormButton=Vi,zr.AcroFormPushButton=A5,zr.AcroFormRadioButton=D0,zr.AcroFormCheckBox=E5,zr.AcroFormTextField=jm,zr.AcroFormPasswordField=S5,zr.AcroFormAppearance=ft,zr.AcroForm={ChoiceField:P0,ListBox:R0,ComboBox:L0,EditBox:_5,Button:Vi,PushButton:A5,RadioButton:D0,CheckBox:E5,TextField:jm,PasswordField:S5,Appearance:ft},St.AcroForm={ChoiceField:P0,ListBox:R0,ComboBox:L0,EditBox:_5,Button:Vi,PushButton:A5,RadioButton:D0,CheckBox:E5,TextField:jm,PasswordField:S5,Appearance:ft};function jq(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(T,M){var R,q,ce,de,ae,Q=t;if((M=M||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(V(T))for(ae in r)for(ce=r[ae],R=0;R<ce.length;R+=1){for(de=!0,q=0;q<ce[R].length;q+=1)if(ce[R][q]!==void 0&&ce[R][q]!==T[q]){de=!1;break}if(de===!0){Q=ae;break}}else for(ae in r)for(ce=r[ae],R=0;R<ce.length;R+=1){for(de=!0,q=0;q<ce[R].length;q+=1)if(ce[R][q]!==void 0&&ce[R][q]!==T.charCodeAt(q)){de=!1;break}if(de===!0){Q=ae;break}}return Q===t&&M!==t&&(Q=M),Q},s=function T(M){for(var R=this.internal.write,q=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:M.width}),de.push({key:"Height",value:M.height}),M.colorSpace===b.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===b.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var ae="",Q=0,ne=M.transparency.length;Q<ne;Q++)ae+=M.transparency[Q]+" "+M.transparency[Q]+" ";de.push({key:"Mask",value:"["+ae+"]"})}M.sMask!==void 0&&de.push({key:"SMask",value:M.objectId+1+" 0 R"});var ge=M.filter!==void 0?["/"+M.filter]:void 0;if(q({data:M.data,additionalKeyValues:de,alreadyAppliedFilters:ge,objectId:M.objectId}),R("endobj"),"sMask"in M&&M.sMask!==void 0){var pe,U=(pe=M.sMaskBitsPerComponent)!==null&&pe!==void 0?pe:M.bitsPerComponent,Y={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:U,data:M.sMask};"filter"in M&&(Y.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(U," /Columns ").concat(M.width),Y.filter=M.filter),T.call(this,Y)}if(M.colorSpace===b.INDEXED){var re=this.internal.newObject();q({data:C(new Uint8Array(M.palette)),objectId:re}),R("endobj")}},o=function(){var T=this.internal.collections[e+"images"];for(var M in T)s.call(this,T[M])},a=function(){var T,M=this.internal.collections[e+"images"],R=this.internal.write;for(var q in M)R("/I"+(T=M[q]).index,T.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var T=this.internal.collections[e+"images"];return l.call(this),T},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(T){return typeof n["process"+T.toUpperCase()]=="function"},p=function(T){return On(T)==="object"&&T.nodeType===1},f=function(T,M){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var R=""+T.getAttribute("src");if(R.indexOf("data:image/")===0)return x5(unescape(R).split("base64,").pop());var q=n.loadFile(R,!0);if(q!==void 0)return q}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ce;switch(M){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return x5(T.toDataURL(ce,1).split("base64,").pop())}},w=function(T){var M=this.internal.collections[e+"images"];if(M){for(var R in M)if(T===M[R].alias)return M[R]}},y=function(T,M,R){return T||M||(T=-96,M=-96),T<0&&(T=-1*R.width*72/T/this.internal.scaleFactor),M<0&&(M=-1*R.height*72/M/this.internal.scaleFactor),T===0&&(T=M*R.width/R.height),M===0&&(M=T*R.height/R.width),[T,M]},_=function(T,M,R,q,ce,de){var ae=y.call(this,R,q,ce),Q=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,ge=c.call(this);if(R=ae[0],q=ae[1],ge[ce.index]=ce,de){de*=Math.PI/180;var pe=Math.cos(de),U=Math.sin(de),Y=function(le){return le.toFixed(4)},re=[Y(pe),Y(U),Y(-1*U),Y(pe),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,Q(T),ne(M+q),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([Q(R),"0","0",Q(q),"0","0","cm"].join(" "))):this.internal.write([Q(R),"0","0",Q(q),Q(T),ne(M+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},b=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=n.__addimage__.sHashCode=function(T){var M,R,q=0;if(typeof T=="string")for(R=T.length,M=0;M<R;M++)q=(q<<5)-q+T.charCodeAt(M),q|=0;else if(V(T))for(R=T.byteLength/2,M=0;M<R;M++)q=(q<<5)-q+T[M],q|=0;return q},N=n.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var M=!0;return T.length===0&&(M=!1),T.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(M=!1),M},F=n.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var M=T.indexOf(",");return M<0?null:T.substring(0,M).trim().endsWith("base64")?T.substring(M+1):null};n.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var V=n.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},L=n.__addimage__.binaryStringToUint8Array=function(T){for(var M=T.length,R=new Uint8Array(M),q=0;q<M;q++)R[q]=T.charCodeAt(q);return R},C=n.__addimage__.arrayBufferToBinaryString=function(T){for(var M="",R=V(T)?T:new Uint8Array(T),q=0;q<R.length;q+=8192)M+=String.fromCharCode.apply(null,R.subarray(q,q+8192));return M};n.addImage=function(){var T,M,R,q,ce,de,ae,Q,ne;if(typeof arguments[1]=="number"?(M=t,R=arguments[1],q=arguments[2],ce=arguments[3],de=arguments[4],ae=arguments[5],Q=arguments[6],ne=arguments[7]):(M=arguments[1],R=arguments[2],q=arguments[3],ce=arguments[4],de=arguments[5],ae=arguments[6],Q=arguments[7],ne=arguments[8]),On(T=arguments[0])==="object"&&!p(T)&&"imageData"in T){var ge=T;T=ge.imageData,M=ge.format||M||t,R=ge.x||R||0,q=ge.y||q||0,ce=ge.w||ge.width||ce,de=ge.h||ge.height||de,ae=ge.alias||ae,Q=ge.compression||Q,ne=ge.rotation||ge.angle||ne}var pe=this.internal.getFilters();if(Q===void 0&&pe.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(R)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var U=k.call(this,T,M,ae,Q);return _.call(this,R,q,ce,de,U,ne),this};var k=function(T,M,R,q){var ce,de,ae;if(typeof T=="string"&&i(T)===t){T=unescape(T);var Q=j(T,!1);(Q!==""||(Q=n.loadFile(T,!0))!==void 0)&&(T=Q)}if(p(T)&&(T=f(T,M)),M=i(T,M),!h(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((ae=R)==null||ae.length===0)&&(R=function(ne){return typeof ne=="string"||V(ne)?E(ne):V(ne.data)?E(ne.data):null}(T)),(ce=w.call(this,R))||(T instanceof Uint8Array||M==="RGBA"||(de=T,T=L(T)),ce=this["process"+M.toUpperCase()](T,u.call(this),R,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in n.image_compression?ne:A.NONE}(q),de)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},j=n.__addimage__.convertBase64ToBinaryString=function(T,M){M=typeof M!="boolean"||M;var R,q="";if(typeof T=="string"){var ce;R=(ce=F(T))!==null&&ce!==void 0?ce:T;try{q=x5(R)}catch(de){if(M)throw N(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};n.getImageProperties=function(T){var M,R,q="";if(p(T)&&(T=f(T)),typeof T=="string"&&i(T)===t&&((q=j(T,!1))===""&&(q=n.loadFile(T)||""),T=q),R=i(T),!h(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(T instanceof Uint8Array||(T=L(T)),!(M=this["process"+R.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=R,M}})(St.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};St.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var f=this.internal.pdfEscape,w=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(y.objId),A=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(b(r.contents))+")",s+=" /Popup "+_.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(b(A))+") >>",y.content=s;var E=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+E,r.open&&(s+=" /Open true"),s+=" >>",_.content=s,this.internal.write(y.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var N=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(w(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var F=this.annotations._nameMap[r.options.name];r.options.pageNumber=F.page,r.options.top=F.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var V=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+V+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(t,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(t,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(St.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},a=n.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&i.indexOf(y.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length==4},h=n.__arabicParser__.resolveLigatures=function(y){var _=0,b=t,A="",E=0;for(_=0;_<y.length;_+=1)b[y.charCodeAt(_)]!==void 0?(E++,typeof(b=b[y.charCodeAt(_)])=="number"&&(A+=String.fromCharCode(b),b=t,E=0),_===y.length-1&&(b=t,A+=y.charAt(_-(E-1)),_-=E-1,E=0)):(b=t,A+=y.charAt(_-E),_-=E,E=0);return A};n.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var p=n.__arabicParser__.getCorrectForm=function(y,_,b){return o(y)?s(y)===!1?-1:!c(y)||!o(_)&&!o(b)||!o(b)&&a(_)||a(y)&&!o(_)||a(y)&&l(_)||a(y)&&a(_)?0:u(y)&&o(_)&&!a(_)&&o(b)&&c(b)?3:a(y)||!o(b)?1:2:-1},f=function(y){var _=0,b=0,A=0,E="",N="",F="",V=(y=y||"").split("\\s+"),L=[];for(_=0;_<V.length;_+=1){for(L.push(""),b=0;b<V[_].length;b+=1)E=V[_][b],N=V[_][b-1],F=V[_][b+1],o(E)?(A=p(E,N,F),L[_]+=A!==-1?String.fromCharCode(e[E.charCodeAt(0)][A]):E):L[_]+=E;L[_]=h(L[_])}return L.join(" ")},w=n.__arabicParser__.processArabic=n.processArabic=function(){var y,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(_)){var A=0;for(b=[],A=0;A<_.length;A+=1)Array.isArray(_[A])?b.push([f(_[A][0]),_[A][1],_[A][2]]):b.push([f(_[A])]);y=b}else y=f(_);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};n.events.push(["preProcessText",w])}(St.API),St.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(St.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(y){w=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,w=0,y=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=c.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,N){return E.concat(_.splitTextToSize(N,b))},[])):l=Array.isArray(l)?l:[l];for(var A=0;A<l.length;A++)f<(y=this.getStringUnitWidth(l[A],{font:h})*u)&&(f=y);return f!==0&&(w=l.length),{w:f/=p,h:Math.max((w*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,h,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,w,y,_,b=[],A=[],E=[],N={},F={},V=[],L=[],C=(p=p||{}).autoSize||!1,k=p.printHeaders!==!1,j=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,T=p.margins||Object.assign({width:this.getPageWidth()},e),M=typeof p.padding=="number"?p.padding:3,R=p.headerBackgroundColor||"#c8c8c8",q=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=q,this.setFontSize(j),h==null)A=b=Object.keys(u[0]),E=b.map(function(){return"left"});else if(Array.isArray(h)&&On(h[0])==="object")for(b=h.map(function(ge){return ge.name}),A=h.map(function(ge){return ge.prompt||ge.name||""}),E=h.map(function(ge){return ge.align||"left"}),f=0;f<h.length;f+=1)F[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(A=b=h,E=b.map(function(){return"left"}));if(C||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<b.length;f+=1){for(N[_=b[f]]=u.map(function(ge){return ge[_]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(A[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=N[_],this.setFont(void 0,"normal"),y=0;y<w.length;y+=1)V.push(this.getTextDimensions(w[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[_]=Math.max.apply(null,V)+M+M,V=[]}if(k){var ce={};for(f=0;f<b.length;f+=1)ce[b[f]]={},ce[b[f]].text=A[f],ce[b[f]].align=E[f];var de=a.call(this,ce,F);L=b.map(function(ge){return new s(l,c,F[ge],de,ce[ge].text,void 0,ce[ge].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var ae=h.reduce(function(ge,pe){return ge[pe.name]=pe.align,ge},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var Q=a.call(this,u[f],F);for(y=0;y<b.length;y+=1){var ne=u[f][b[y]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:y,data:ne},this),o.call(this,new s(l,c,F[b[y]],Q,ne,f+2,ae[b[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var w=l[f];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+u+u},this).reduce(function(f,w){return Math.max(f,w)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(w)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}}(St.API);var Oq={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Fq=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],EI=jq(Fq),Bq=[100,200,300,400,500,600,700,800,900],I1e=jq(Bq);function YC(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return Oq[s=s||"normal"]?s:"normal"}(n.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(n.weight),i=function(s){return typeof EI[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function aF(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var P1e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},lF={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cF(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function uF(n){return n.trimLeft()}function R1e(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function L1e(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var R_,dF,hF,Vg,L_,fF,pF,mF,XC=["times"];function gF(n,e,t,r,i){var s=4,o=yF;switch(i){case St.API.image_compression.FAST:s=1,o=vF;break;case St.API.image_compression.MEDIUM:s=6,o=wF;break;case St.API.image_compression.SLOW:s=9,o=bF}n=function(l,c,u,h){for(var p,f=l.length/c,w=new Uint8Array(l.length+f),y=[D1e,vF,yF,wF,bF],_=0;_<f;_+=1){var b=_*c,A=l.subarray(b,b+c);if(h)w.set(h(A,u,p),b+_);else{for(var E=y.length,N=[],F=0;F<E;F+=1)N[F]=y[F](A,u,p);var V=j1e(N.concat());w.set(N[V],b+_)}p=A}return w}(n,e,Math.ceil(t*r/8),o);var a=dI(n,{level:s});return St.API.__addimage__.arrayBufferToBinaryString(a)}function D1e(n){var e=Array.apply([],n);return e.unshift(0),e}function vF(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var s=n[i-e]||0;r[i+1]=n[i]-s+256&255}return r}function yF(n,e,t){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=t&&t[s]||0;i[s+1]=n[s]-o+256&255}return i}function wF(n,e,t){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=n[s-e]||0,a=t&&t[s]||0;i[s+1]=n[s]+256-(o+a>>>1)&255}return i}function bF(n,e,t){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=M1e(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=n[s]-o+256&255}return i}function M1e(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),s=Math.abs(n+e-t-t);return r<=i&&r<=s?n:i<=s?e:t}function j1e(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function QC(n,e,t){var r=e*t,i=Math.floor(r/8),s=16-(r-8*i+t),o=(1<<t)-1;return Uq(n,i)>>s&o}function xF(n,e,t,r){var i=t*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(c,u,h){if(u+1<c.byteLength)c.setUint16(u,h,!1);else{var p=h>>8&255;c.setUint8(u,p)}})(n,s,Uq(n,s)&~(a<<o)&65535|l)}function Uq(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function O1e(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<1+(7&i);n[e++],n[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],h=0,p=null,f=0,w=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,w=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=n[e++];h=n[e++]|n[e++]<<8,p=n[e++],1&y||(p=null),f=y>>2&7,e++;break;case 254:for(;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var _=n[e++]|n[e++]<<8,b=n[e++]|n[e++]<<8,A=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,N=n[e++],F=N>>6&1,V=1<<1+(7&N),L=a,C=l,k=!1;N>>7&&(k=!0,L=e,C=V,e+=3*V);var j=e;for(e++;;){var T;if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}u.push({x:_,y:b,width:A,height:E,has_local_palette:k,palette_offset:L,palette_size:C,data_offset:j,data_length:e-j,transparent_index:p,interlaced:!!F,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return w},this.frameInfo=function(M){if(M<0||M>=u.length)throw new Error("Frame index out of range.");return u[M]},this.decodeAndBlitFrameBGRA=function(M,R){var q=this.frameInfo(M),ce=q.width*q.height,de=new Uint8Array(ce);_F(n,q.data_offset,de,ce);var ae=q.palette_offset,Q=q.transparent_index;Q===null&&(Q=256);var ne=q.width,ge=t-ne,pe=ne,U=4*(q.y*t+q.x),Y=4*((q.y+q.height)*t+q.x),re=U,le=4*ge;q.interlaced===!0&&(le+=4*t*7);for(var he=8,ue=0,Ae=de.length;ue<Ae;++ue){var we=de[ue];if(pe===0&&(pe=ne,(re+=le)>=Y&&(le=4*ge+4*t*(he-1),re=U+(ne+ge)*(he<<1),he>>=1)),we===Q)re+=4;else{var _e=n[ae+3*we],Me=n[ae+3*we+1],Ee=n[ae+3*we+2];R[re++]=Ee,R[re++]=Me,R[re++]=_e,R[re++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(M,R){var q=this.frameInfo(M),ce=q.width*q.height,de=new Uint8Array(ce);_F(n,q.data_offset,de,ce);var ae=q.palette_offset,Q=q.transparent_index;Q===null&&(Q=256);var ne=q.width,ge=t-ne,pe=ne,U=4*(q.y*t+q.x),Y=4*((q.y+q.height)*t+q.x),re=U,le=4*ge;q.interlaced===!0&&(le+=4*t*7);for(var he=8,ue=0,Ae=de.length;ue<Ae;++ue){var we=de[ue];if(pe===0&&(pe=ne,(re+=le)>=Y&&(le=4*ge+4*t*(he-1),re=U+(ne+ge)*(he<<1),he>>=1)),we===Q)re+=4;else{var _e=n[ae+3*we],Me=n[ae+3*we+1],Ee=n[ae+3*we+2];R[re++]=_e,R[re++]=Me,R[re++]=Ee,R[re++]=255}--pe}}}function _F(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,p=0,f=n[e++],w=new Int32Array(4096),y=null;;){for(;u<16&&f!==0;)h|=n[e++]<<u,u+=8,f===1?f=n[e++]:--f;if(u<l)break;var _=h&c;if(h>>=l,u-=l,_!==s){if(_===o)break;for(var b=_<a?_:y,A=0,E=b;E>s;)E=w[E]>>8,++A;var N=E;if(p+A+(b!==_?1:0)>r)return void tr.log("Warning, gif stream longer than expected.");t[p++]=N;var F=p+=A;for(b!==_&&(t[p++]=N),E=b;A--;)E=w[E],t[--F]=255&E,E>>=8;y!==null&&a<4096&&(w[a++]=y<<8|N,a>=c+1&&l<12&&(++l,c=c<<1|1)),y=_}else a=o+1,c=(1<<(l=i+1))-1,y=null}return p!==r&&tr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function JC(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),w=new Array(64),y=[],_=0,b=7,A=new Array(64),E=new Array(64),N=new Array(64),F=new Array(256),V=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(U,Y){for(var re=0,le=0,he=new Array,ue=1;ue<=16;ue++){for(var Ae=1;Ae<=U[ue];Ae++)he[Y[le]]=[],he[Y[le]][0]=re,he[Y[le]][1]=ue,le++,re++;re*=2}return he}function ae(U){for(var Y=U[0],re=U[1]-1;re>=0;)Y&1<<re&&(_|=1<<b),re--,--b<0&&(_==255?(Q(255),Q(0)):Q(_),b=7,_=0)}function Q(U){y.push(U)}function ne(U){Q(U>>8&255),Q(255&U)}function ge(U,Y,re,le,he){for(var ue,Ae=he[0],we=he[240],_e=function(Ie,lt){var Xe,pt,it,Lt,Oe,Fe,Ke,Nt,nt,kt,wt=0;for(nt=0;nt<8;++nt){Xe=Ie[wt],pt=Ie[wt+1],it=Ie[wt+2],Lt=Ie[wt+3],Oe=Ie[wt+4],Fe=Ie[wt+5],Ke=Ie[wt+6];var Ln=Xe+(Nt=Ie[wt+7]),nn=Xe-Nt,Ft=pt+Ke,Vt=pt-Ke,An=it+Fe,Et=it-Fe,Nn=Lt+Oe,Ct=Lt-Oe,Bt=Ln+Nn,Cn=Ln-Nn,zt=Ft+An,mt=Ft-An;Ie[wt]=Bt+zt,Ie[wt+4]=Bt-zt;var rn=.707106781*(mt+Cn);Ie[wt+2]=Cn+rn,Ie[wt+6]=Cn-rn;var It=.382683433*((Bt=Ct+Et)-(mt=Vt+nn)),jt=.5411961*Bt+It,cn=1.306562965*mt+It,Wn=.707106781*(zt=Et+Vt),dt=nn+Wn,bn=nn-Wn;Ie[wt+5]=bn+jt,Ie[wt+3]=bn-jt,Ie[wt+1]=dt+cn,Ie[wt+7]=dt-cn,wt+=8}for(wt=0,nt=0;nt<8;++nt){Xe=Ie[wt],pt=Ie[wt+8],it=Ie[wt+16],Lt=Ie[wt+24],Oe=Ie[wt+32],Fe=Ie[wt+40],Ke=Ie[wt+48];var si=Xe+(Nt=Ie[wt+56]),Dn=Xe-Nt,Qn=pt+Ke,yr=pt-Ke,oi=it+Fe,wr=it-Fe,au=Lt+Oe,Ql=Lt-Oe,cs=si+au,Do=si-au,Os=Qn+oi,us=Qn-oi;Ie[wt]=cs+Os,Ie[wt+32]=cs-Os;var qr=.707106781*(us+Do);Ie[wt+16]=Do+qr,Ie[wt+48]=Do-qr;var Jl=.382683433*((cs=Ql+wr)-(us=yr+Dn)),Mo=.5411961*cs+Jl,ol=1.306562965*us+Jl,Zl=.707106781*(Os=wr+yr),lu=Dn+Zl,cu=Dn-Zl;Ie[wt+40]=cu+Mo,Ie[wt+24]=cu-Mo,Ie[wt+8]=lu+ol,Ie[wt+56]=lu-ol,wt++}for(nt=0;nt<64;++nt)kt=Ie[nt]*lt[nt],f[nt]=kt>0?kt+.5|0:kt-.5|0;return f}(U,Y),Me=0;Me<64;++Me)w[L[Me]]=_e[Me];var Ee=w[0]-re;re=w[0],Ee==0?ae(le[0]):(ae(le[p[ue=32767+Ee]]),ae(h[ue]));for(var Ce=63;Ce>0&&w[Ce]==0;)Ce--;if(Ce==0)return ae(Ae),re;for(var Le,J=1;J<=Ce;){for(var je=J;w[J]==0&&J<=Ce;)++J;var Qe=J-je;if(Qe>=16){Le=Qe>>4;for(var Ge=1;Ge<=Le;++Ge)ae(we);Qe&=15}ue=32767+w[J],ae(he[(Qe<<4)+p[ue]]),ae(h[ue]),J++}return Ce!=63&&ae(Ae),re}function pe(U){U=Math.min(Math.max(U,1),100),s!=U&&(function(Y){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var he=o((re[le]*Y+50)/100);he=Math.min(Math.max(he,1),255),a[L[le]]=he}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var we=o((ue[Ae]*Y+50)/100);we=Math.min(Math.max(we,1),255),l[L[Ae]]=we}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Me=0,Ee=0;Ee<8;Ee++)for(var Ce=0;Ce<8;Ce++)c[Me]=1/(a[L[Me]]*_e[Ee]*_e[Ce]*8),u[Me]=1/(l[L[Me]]*_e[Ee]*_e[Ce]*8),Me++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),s=U)}this.encode=function(U,Y){Y&&pe(Y),y=new Array,_=0,b=7,ne(65496),ne(65504),ne(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),ne(1),ne(1),Q(0),Q(0),function(){ne(65499),ne(132),Q(0);for(var pt=0;pt<64;pt++)Q(a[pt]);Q(1);for(var it=0;it<64;it++)Q(l[it])}(),function(pt,it){ne(65472),ne(17),Q(8),ne(it),ne(pt),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(U.width,U.height),function(){ne(65476),ne(418),Q(0);for(var pt=0;pt<16;pt++)Q(C[pt+1]);for(var it=0;it<=11;it++)Q(k[it]);Q(16);for(var Lt=0;Lt<16;Lt++)Q(j[Lt+1]);for(var Oe=0;Oe<=161;Oe++)Q(T[Oe]);Q(1);for(var Fe=0;Fe<16;Fe++)Q(M[Fe+1]);for(var Ke=0;Ke<=11;Ke++)Q(R[Ke]);Q(17);for(var Nt=0;Nt<16;Nt++)Q(q[Nt+1]);for(var nt=0;nt<=161;nt++)Q(ce[nt])}(),ne(65498),ne(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var re=0,le=0,he=0;_=0,b=7,this.encode.displayName="_encode_";for(var ue,Ae,we,_e,Me,Ee,Ce,Le,J,je=U.data,Qe=U.width,Ge=U.height,Ie=4*Qe,lt=0;lt<Ge;){for(ue=0;ue<Ie;){for(Me=Ie*lt+ue,Ce=-1,Le=0,J=0;J<64;J++)Ee=Me+(Le=J>>3)*Ie+(Ce=4*(7&J)),lt+Le>=Ge&&(Ee-=Ie*(lt+1+Le-Ge)),ue+Ce>=Ie&&(Ee-=ue+Ce-Ie+4),Ae=je[Ee++],we=je[Ee++],_e=je[Ee++],A[J]=(V[Ae]+V[we+256|0]+V[_e+512|0]>>16)-128,E[J]=(V[Ae+768|0]+V[we+1024|0]+V[_e+1280|0]>>16)-128,N[J]=(V[Ae+1280|0]+V[we+1536|0]+V[_e+1792|0]>>16)-128;re=ge(A,c,re,e,r),le=ge(E,u,le,t,i),he=ge(N,u,he,t,i),ue+=32}lt+=8}if(b>=0){var Xe=[];Xe[1]=b+1,Xe[0]=(1<<b+1)-1,ae(Xe)}return ne(65497),new Uint8Array(y)},n=n||50,function(){for(var U=String.fromCharCode,Y=0;Y<256;Y++)F[Y]=U(Y)}(),e=de(C,k),t=de(M,R),r=de(j,T),i=de(q,ce),function(){for(var U=1,Y=2,re=1;re<=15;re++){for(var le=U;le<Y;le++)p[32767+le]=re,h[32767+le]=[],h[32767+le][1]=re,h[32767+le][0]=le;for(var he=-(Y-1);he<=-U;he++)p[32767+he]=re,h[32767+he]=[],h[32767+he][1]=re,h[32767+he][0]=Y-1+he;U<<=1,Y<<=1}}(),function(){for(var U=0;U<256;U++)V[U]=19595*U,V[U+256|0]=38470*U,V[U+512|0]=7471*U+32768,V[U+768|0]=-11059*U,V[U+1024|0]=-21709*U,V[U+1280|0]=32768*U+8421375,V[U+1536|0]=-27439*U,V[U+1792|0]=-5329*U}(),pe(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ml(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function AF(n){function e(k){if(!k)throw Error("assert :P")}function t(k,j,T){for(var M=0;4>M;M++)if(k[j+M]!=T.charCodeAt(M))return!0;return!1}function r(k,j,T,M,R){for(var q=0;q<R;q++)k[j+q]=T[M+q]}function i(k,j,T,M){for(var R=0;R<M;R++)k[j+R]=T}function s(k){return new Int32Array(k)}function o(k,j){for(var T=[],M=0;M<k;M++)T.push(new j);return T}function a(k,j){var T=[];return function M(R,q,ce){for(var de=ce[q],ae=0;ae<de&&(R.push(ce.length>q+1?[]:new j),!(ce.length<q+1));ae++)M(R[ae],q+1,ce)}(T,0,k),T}var l=function(){var k=this;function j(g,x){for(var I=1<<x-1>>>0;g&I;)I>>>=1;return I?(g&I-1)+I:g}function T(g,x,I,O,H){e(!(O%I));do g[x+(O-=I)]=H;while(0<O)}function M(g,x,I,O,H){if(e(2328>=H),512>=H)var G=s(512);else if((G=s(H))==null)return 0;return function(X,Z,te,se,me,Ne){var oe,ve,xe=Z,ke=1<<te,Se=s(16),Re=s(16);for(e(me!=0),e(se!=null),e(X!=null),e(0<te),ve=0;ve<me;++ve){if(15<se[ve])return 0;++Se[se[ve]]}if(Se[0]==me)return 0;for(Re[1]=0,oe=1;15>oe;++oe){if(Se[oe]>1<<oe)return 0;Re[oe+1]=Re[oe]+Se[oe]}for(ve=0;ve<me;++ve)oe=se[ve],0<se[ve]&&(Ne[Re[oe]++]=ve);if(Re[15]==1)return(se=new R).g=0,se.value=Ne[0],T(X,xe,1,ke,se),ke;var De,$e=-1,Ve=ke-1,_t=0,ht=1,Jt=1,bt=1<<te;for(ve=0,oe=1,me=2;oe<=te;++oe,me<<=1){if(ht+=Jt<<=1,0>(Jt-=Se[oe]))return 0;for(;0<Se[oe];--Se[oe])(se=new R).g=oe,se.value=Ne[ve++],T(X,xe+_t,me,bt,se),_t=j(_t,oe)}for(oe=te+1,me=2;15>=oe;++oe,me<<=1){if(ht+=Jt<<=1,0>(Jt-=Se[oe]))return 0;for(;0<Se[oe];--Se[oe]){if(se=new R,(_t&Ve)!=$e){for(xe+=bt,De=1<<($e=oe)-te;15>$e&&!(0>=(De-=Se[$e]));)++$e,De<<=1;ke+=bt=1<<(De=$e-te),X[Z+($e=_t&Ve)].g=De+te,X[Z+$e].value=xe-Z-$e}se.g=oe-te,se.value=Ne[ve++],T(X,xe+(_t>>te),me,bt,se),_t=j(_t,oe)}}return ht!=2*Re[15]-1?0:ke}(g,x,I,O,H,G)}function R(){this.value=this.g=0}function q(){this.value=this.g=0}function ce(){this.G=o(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(np,q)}function de(g,x,I,O){e(g!=null),e(x!=null),e(2147483648>O),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=x,g.pa=I,g.Jd=x,g.Yc=I+O,g.Zc=4<=O?I+O-4+1:I,Ae(g)}function ae(g,x){for(var I=0;0<x--;)I|=_e(g,128)<<x;return I}function Q(g,x){var I=ae(g,x);return we(g)?-I:I}function ne(g,x,I,O){var H,G=0;for(e(g!=null),e(x!=null),e(4294967288>O),g.Sb=O,g.Ra=0,g.u=0,g.h=0,4<O&&(O=4),H=0;H<O;++H)G+=x[I+H]<<8*H;g.Ra=G,g.bb=O,g.oa=x,g.pa=I}function ge(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<qd-8>>>0,++g.bb,g.u-=8;le(g)&&(g.h=1,g.u=0)}function pe(g,x){if(e(0<=x),!g.h&&x<=Uo){var I=re(g)&Bo[x];return g.u+=x,ge(g),I}return g.h=1,g.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function re(g){return g.Ra>>>(g.u&qd-1)>>>0}function le(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>qd}function he(g,x){g.u=x,g.h=le(g)}function ue(g){g.u>=gu&&(e(g.u>=gu),ge(g))}function Ae(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function we(g){return ae(g,1)}function _e(g,x){var I=g.Ca;0>g.b&&Ae(g);var O=g.b,H=I*x>>>8,G=(g.I>>>O>H)+0;for(G?(I-=H,g.I-=H+1<<O>>>0):I=H+1,O=I,H=0;256<=O;)H+=8,O>>=8;return O=7^H+Wd[O],g.b-=O,g.Ca=(I<<O)-1,G}function Me(g,x,I){g[x+0]=I>>24&255,g[x+1]=I>>16&255,g[x+2]=I>>8&255,g[x+3]=255&I}function Ee(g,x){return g[x+0]|g[x+1]<<8}function Ce(g,x){return Ee(g,x)|g[x+2]<<16}function Le(g,x){return Ee(g,x)|Ee(g,x+2)<<16}function J(g,x){var I=1<<x;return e(g!=null),e(0<x),g.X=s(I),g.X==null?0:(g.Mb=32-x,g.Xa=x,1)}function je(g,x){e(g!=null),e(x!=null),e(g.Xa==x.Xa),r(x.X,0,g.X,0,1<<x.Xa)}function Qe(){this.X=[],this.Xa=this.Mb=0}function Ge(g,x,I,O){e(I!=null),e(O!=null);var H=I[0],G=O[0];return H==0&&(H=(g*G+x/2)/x),G==0&&(G=(x*H+g/2)/g),0>=H||0>=G?0:(I[0]=H,O[0]=G,1)}function Ie(g,x){return g+(1<<x)-1>>>x}function lt(g,x){return((4278255360&g)+(4278255360&x)>>>0&4278255360)+((16711935&g)+(16711935&x)>>>0&16711935)>>>0}function Xe(g,x){k[x]=function(I,O,H,G,X,Z,te){var se;for(se=0;se<X;++se){var me=k[g](Z[te+se-1],H,G+se);Z[te+se]=lt(I[O+se],me)}}}function pt(){this.ud=this.hd=this.jd=0}function it(g,x){return((4278124286&(g^x))>>>1)+(g&x)>>>0}function Lt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Oe(g,x){return Lt(g+(g-x+.5>>1))}function Fe(g,x,I){return Math.abs(x-I)-Math.abs(g-I)}function Ke(g,x,I,O,H,G,X){for(O=G[X-1],I=0;I<H;++I)G[X+I]=O=lt(g[x+I],O)}function Nt(g,x,I,O,H){var G;for(G=0;G<I;++G){var X=g[x+G],Z=X>>8&255,te=16711935&(te=(te=16711935&X)+((Z<<16)+Z));O[H+G]=(4278255360&X)+te>>>0}}function nt(g,x){x.jd=255&g,x.hd=g>>8&255,x.ud=g>>16&255}function kt(g,x,I,O,H,G){var X;for(X=0;X<O;++X){var Z=x[I+X],te=Z>>>8,se=Z,me=255&(me=(me=Z>>>16)+((g.jd<<24>>24)*(te<<24>>24)>>>5));se=255&(se=(se+=(g.hd<<24>>24)*(te<<24>>24)>>>5)+((g.ud<<24>>24)*(me<<24>>24)>>>5)),H[G+X]=(4278255360&Z)+(me<<16)+se}}function wt(g,x,I,O,H){k[x]=function(G,X,Z,te,se,me,Ne,oe,ve){for(te=Ne;te<oe;++te)for(Ne=0;Ne<ve;++Ne)se[me++]=H(Z[O(G[X++])])},k[g]=function(G,X,Z,te,se,me,Ne){var oe=8>>G.b,ve=G.Ea,xe=G.K[0],ke=G.w;if(8>oe)for(G=(1<<G.b)-1,ke=(1<<oe)-1;X<Z;++X){var Se,Re=0;for(Se=0;Se<ve;++Se)Se&G||(Re=O(te[se++])),me[Ne++]=H(xe[Re&ke]),Re>>=oe}else k["VP8LMapColor"+I](te,se,xe,ke,me,Ne,X,Z,ve)}}function Ln(g,x,I,O,H){for(I=x+I;x<I;){var G=g[x++];O[H++]=G>>16&255,O[H++]=G>>8&255,O[H++]=255&G}}function nn(g,x,I,O,H){for(I=x+I;x<I;){var G=g[x++];O[H++]=G>>16&255,O[H++]=G>>8&255,O[H++]=255&G,O[H++]=G>>24&255}}function Ft(g,x,I,O,H){for(I=x+I;x<I;){var G=(X=g[x++])>>16&240|X>>12&15,X=240&X|X>>28&15;O[H++]=G,O[H++]=X}}function Vt(g,x,I,O,H){for(I=x+I;x<I;){var G=(X=g[x++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;O[H++]=G,O[H++]=X}}function An(g,x,I,O,H){for(I=x+I;x<I;){var G=g[x++];O[H++]=255&G,O[H++]=G>>8&255,O[H++]=G>>16&255}}function Et(g,x,I,O,H,G){if(G==0)for(I=x+I;x<I;)Me(O,((G=g[x++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),H+=32;else r(O,H,g,x,I)}function Nn(g,x){k[x][0]=k[g+"0"],k[x][1]=k[g+"1"],k[x][2]=k[g+"2"],k[x][3]=k[g+"3"],k[x][4]=k[g+"4"],k[x][5]=k[g+"5"],k[x][6]=k[g+"6"],k[x][7]=k[g+"7"],k[x][8]=k[g+"8"],k[x][9]=k[g+"9"],k[x][10]=k[g+"10"],k[x][11]=k[g+"11"],k[x][12]=k[g+"12"],k[x][13]=k[g+"13"],k[x][14]=k[g+"0"],k[x][15]=k[g+"0"]}function Ct(g){return g==aN||g==lN||g==Lx||g==cN}function Bt(){this.eb=[],this.size=this.A=this.fb=0}function Cn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function zt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bt,this.f.kb=new Cn,this.sd=null}function mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function It(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function jt(g,x){var I=g.T,O=x.ba.f.RGBA,H=O.eb,G=O.fb+g.ka*O.A,X=Da[x.ba.S],Z=g.y,te=g.O,se=g.f,me=g.N,Ne=g.ea,oe=g.W,ve=x.cc,xe=x.dc,ke=x.Mc,Se=x.Nc,Re=g.ka,De=g.ka+g.T,$e=g.U,Ve=$e+1>>1;for(Re==0?X(Z,te,null,null,se,me,Ne,oe,se,me,Ne,oe,H,G,null,null,$e):(X(x.ec,x.fc,Z,te,ve,xe,ke,Se,se,me,Ne,oe,H,G-O.A,H,G,$e),++I);Re+2<De;Re+=2)ve=se,xe=me,ke=Ne,Se=oe,me+=g.Rc,oe+=g.Rc,G+=2*O.A,X(Z,(te+=2*g.fa)-g.fa,Z,te,ve,xe,ke,Se,se,me,Ne,oe,H,G-O.A,H,G,$e);return te+=g.fa,g.j+De<g.o?(r(x.ec,x.fc,Z,te,$e),r(x.cc,x.dc,se,me,Ve),r(x.Mc,x.Nc,Ne,oe,Ve),I--):1&De||X(Z,te,null,null,se,me,Ne,oe,se,me,Ne,oe,H,G+O.A,null,null,$e),I}function cn(g,x,I){var O=g.F,H=[g.J];if(O!=null){var G=g.U,X=x.ba.S,Z=X==Rx||X==Lx;x=x.ba.f.RGBA;var te=[0],se=g.ka;te[0]=g.T,g.Kb&&(se==0?--te[0]:(--se,H[0]-=g.width),g.j+g.ka+g.T==g.o&&(te[0]=g.o-g.j-se));var me=x.eb;se=x.fb+se*x.A,g=AL(O,H[0],g.width,G,te,me,se+(Z?0:3),x.A),e(I==te),g&&Ct(X)&&Z1(me,se,Z,G,te,x.A)}return 0}function Wn(g){var x=g.ma,I=x.ba.S,O=11>I,H=I==Ix||I==Px||I==Rx||I==oN||I==12||Ct(I);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!q1(x.Oa,g,H?11:12))return 0;if(H&&Ct(I)&&Pa(),g.da)alert("todo:use_scaling");else{if(O){if(x.Ib=It,g.Kb){if(I=g.U+1>>1,x.memory=s(g.U+2*I),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+g.U,x.Mc=x.cc,x.Nc=x.dc+I,x.Ib=jt,Pa()}}else alert("todo:EmitYUV");H&&(x.Jb=cn,O&&co())}if(O&&!UL){for(g=0;256>g;++g)WK[g]=89858*(g-128)+Mx>>Dx,YK[g]=-22014*(g-128)+Mx,KK[g]=-45773*(g-128),GK[g]=113618*(g-128)+Mx>>Dx;for(g=ty;g<hN;++g)x=76283*(g-16)+Mx>>Dx,XK[g-ty]=ao(x,255),QK[g-ty]=ao(x+8>>4,15);UL=1}return 1}function dt(g){var x=g.ma,I=g.U,O=g.T;return e(!(1&g.ka)),0>=I||0>=O?0:(I=x.Ib(g,x),x.Jb!=null&&x.Jb(g,x,I),x.Dc+=I,1)}function bn(g){g.ma.memory=null}function si(g,x,I,O){return pe(g,8)!=47?0:(x[0]=pe(g,14)+1,I[0]=pe(g,14)+1,O[0]=pe(g,1),pe(g,3)!=0?0:!g.h)}function Dn(g,x){if(4>g)return g+1;var I=g-2>>1;return(2+(1&g)<<I)+pe(x,I)+1}function Qn(g,x){return 120<x?x-120:1<=(I=((I=RK[x-1])>>4)*g+(8-(15&I)))?I:1;var I}function yr(g,x,I){var O=re(I),H=g[x+=255&O].g-8;return 0<H&&(he(I,I.u+8),O=re(I),x+=g[x].value,x+=O&(1<<H)-1),he(I,I.u+g[x].g),g[x].value}function oi(g,x,I){return I.g+=g.g,I.value+=g.value<<x>>>0,e(8>=I.g),g.g}function wr(g,x,I){var O=g.xc;return e((x=O==0?0:g.vc[g.md*(I>>O)+(x>>O)])<g.Wb),g.Ya[x]}function au(g,x,I,O){var H=g.ab,G=g.c*x,X=g.C;x=X+x;var Z=I,te=O;for(O=g.Ta,I=g.Ua;0<H--;){var se=g.gc[H],me=X,Ne=x,oe=Z,ve=te,xe=(te=O,Z=I,se.Ea);switch(e(me<Ne),e(Ne<=se.nc),se.hc){case 2:Wr(oe,ve,(Ne-me)*xe,te,Z);break;case 0:var ke=me,Se=Ne,Re=te,De=Z,$e=(bt=se).Ea;ke==0&&(G1(oe,ve,null,null,1,Re,De),Ke(oe,ve+1,0,0,$e-1,Re,De+1),ve+=$e,De+=$e,++ke);for(var Ve=1<<bt.b,_t=Ve-1,ht=Ie($e,bt.b),Jt=bt.K,bt=bt.w+(ke>>bt.b)*ht;ke<Se;){var gn=Jt,gi=bt,Zt=1;for(Pg(oe,ve,Re,De-$e,1,Re,De);Zt<$e;){var xt=(Zt&~_t)+Ve;xt>$e&&(xt=$e),(0,Y1[gn[gi++]>>8&15])(oe,ve+ +Zt,Re,De+Zt-$e,xt-Zt,Re,De+Zt),Zt=xt}ve+=$e,De+=$e,++ke&_t||(bt+=ht)}Ne!=se.nc&&r(te,Z-xe,te,Z+(Ne-me-1)*xe,xe);break;case 1:for(xe=oe,Se=ve,$e=(oe=se.Ea)-(De=oe&~(Re=(ve=1<<se.b)-1)),ke=Ie(oe,se.b),Ve=se.K,se=se.w+(me>>se.b)*ke;me<Ne;){for(_t=Ve,ht=se,Jt=new pt,bt=Se+De,gn=Se+oe;Se<bt;)nt(_t[ht++],Jt),X1(Jt,xe,Se,ve,te,Z),Se+=ve,Z+=ve;Se<gn&&(nt(_t[ht++],Jt),X1(Jt,xe,Se,$e,te,Z),Se+=$e,Z+=$e),++me&Re||(se+=ke)}break;case 3:if(oe==te&&ve==Z&&0<se.b){for(Se=te,oe=xe=Z+(Ne-me)*xe-(De=(Ne-me)*Ie(se.Ea,se.b)),ve=te,Re=Z,ke=[],De=($e=De)-1;0<=De;--De)ke[De]=ve[Re+De];for(De=$e-1;0<=De;--De)Se[oe+De]=ke[De];Nx(se,me,Ne,te,xe,te,Z)}else Nx(se,me,Ne,oe,ve,te,Z)}Z=O,te=I}te!=I&&r(O,I,Z,te,G)}function Ql(g,x){var I=g.V,O=g.Ba+g.c*g.C,H=x-g.C;if(e(x<=g.l.o),e(16>=H),0<H){var G=g.l,X=g.Ta,Z=g.Ua,te=G.width;if(au(g,H,I,O),H=Z=[Z],e((I=g.C)<(O=x)),e(G.v<G.va),O>G.o&&(O=G.o),I<G.j){var se=G.j-I;I=G.j,H[0]+=se*te}if(I>=O?I=0:(H[0]+=4*G.v,G.ka=I-G.j,G.U=G.va-G.v,G.T=O-I,I=1),I){if(Z=Z[0],11>(I=g.ca).S){var me=I.f.RGBA,Ne=(O=I.S,H=G.U,G=G.T,se=me.eb,me.A),oe=G;for(me=me.fb+g.Ma*me.A;0<oe--;){var ve=X,xe=Z,ke=H,Se=se,Re=me;switch(O){case kx:Q1(ve,xe,ke,Se,Re);break;case Ix:Gd(ve,xe,ke,Se,Re);break;case aN:Gd(ve,xe,ke,Se,Re),Z1(Se,Re,0,ke,1,0);break;case IL:rp(ve,xe,ke,Se,Re);break;case Px:Et(ve,xe,ke,Se,Re,1);break;case lN:Et(ve,xe,ke,Se,Re,1),Z1(Se,Re,0,ke,1,0);break;case Rx:Et(ve,xe,ke,Se,Re,0);break;case Lx:Et(ve,xe,ke,Se,Re,0),Z1(Se,Re,1,ke,1,0);break;case oN:Kd(ve,xe,ke,Se,Re);break;case cN:Kd(ve,xe,ke,Se,Re),_L(Se,Re,ke,1,0);break;case PL:Yd(ve,xe,ke,Se,Re);break;default:e(0)}Z+=te,me+=Ne}g.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=I.height)}}g.C=x,e(g.C<=g.i)}function cs(g){var x;if(0<g.ua)return 0;for(x=0;x<g.Wb;++x){var I=g.Ya[x].G,O=g.Ya[x].H;if(0<I[1][O[1]+0].g||0<I[2][O[2]+0].g||0<I[3][O[3]+0].g)return 0}return 1}function Do(g,x,I,O,H,G){if(g.Z!=0){var X=g.qd,Z=g.rd;for(e(Jd[g.Z]!=null);x<I;++x)Jd[g.Z](X,Z,O,H,O,H,G),X=O,Z=H,H+=G;g.qd=X,g.rd=Z}}function Os(g,x){var I=g.l.ma,O=I.Z==0||I.Z==1?g.l.j:g.C;if(O=g.C<O?O:g.C,e(x<=g.l.o),x>O){var H=g.l.width,G=I.ca,X=I.tb+H*O,Z=g.V,te=g.Ba+g.c*O,se=g.gc;e(g.ab==1),e(se[0].hc==3),ac(se[0],O,x,Z,te,G,X),Do(I,O,x,G,X,H)}g.C=g.Ma=x}function us(g,x,I,O,H,G,X){var Z=g.$/O,te=g.$%O,se=g.m,me=g.s,Ne=I+g.$,oe=Ne;H=I+O*H;var ve=I+O*G,xe=280+me.ua,ke=g.Pb?Z:16777216,Se=0<me.ua?me.Wa:null,Re=me.wc,De=Ne<ve?wr(me,te,Z):null;e(g.C<G),e(ve<=H);var $e=!1;e:for(;;){for(;$e||Ne<ve;){var Ve=0;if(Z>=ke){var _t=Ne-I;e((ke=g).Pb),ke.wd=ke.m,ke.xd=_t,0<ke.s.ua&&je(ke.s.Wa,ke.s.vb),ke=Z+DK}if(te&Re||(De=wr(me,te,Z)),e(De!=null),De.Qb&&(x[Ne]=De.qb,$e=!0),!$e)if(ue(se),De.jc){Ve=se,_t=x;var ht=Ne,Jt=De.pd[re(Ve)&np-1];e(De.jc),256>Jt.g?(he(Ve,Ve.u+Jt.g),_t[ht]=Jt.value,Ve=0):(he(Ve,Ve.u+Jt.g-256),e(256<=Jt.value),Ve=Jt.value),Ve==0&&($e=!0)}else Ve=yr(De.G[0],De.H[0],se);if(se.h)break;if($e||256>Ve){if(!$e)if(De.nd)x[Ne]=(De.qb|Ve<<8)>>>0;else{if(ue(se),$e=yr(De.G[1],De.H[1],se),ue(se),_t=yr(De.G[2],De.H[2],se),ht=yr(De.G[3],De.H[3],se),se.h)break;x[Ne]=(ht<<24|$e<<16|Ve<<8|_t)>>>0}if($e=!1,++Ne,++te>=O&&(te=0,++Z,X!=null&&Z<=G&&!(Z%16)&&X(g,Z),Se!=null))for(;oe<Ne;)Ve=x[oe++],Se.X[(506832829*Ve&4294967295)>>>Se.Mb]=Ve}else if(280>Ve){if(Ve=Dn(Ve-256,se),_t=yr(De.G[4],De.H[4],se),ue(se),_t=Qn(O,_t=Dn(_t,se)),se.h)break;if(Ne-I<_t||H-Ne<Ve)break e;for(ht=0;ht<Ve;++ht)x[Ne+ht]=x[Ne+ht-_t];for(Ne+=Ve,te+=Ve;te>=O;)te-=O,++Z,X!=null&&Z<=G&&!(Z%16)&&X(g,Z);if(e(Ne<=H),te&Re&&(De=wr(me,te,Z)),Se!=null)for(;oe<Ne;)Ve=x[oe++],Se.X[(506832829*Ve&4294967295)>>>Se.Mb]=Ve}else{if(!(Ve<xe))break e;for($e=Ve-280,e(Se!=null);oe<Ne;)Ve=x[oe++],Se.X[(506832829*Ve&4294967295)>>>Se.Mb]=Ve;Ve=Ne,e(!($e>>>(_t=Se).Xa)),x[Ve]=_t.X[$e],$e=!0}$e||e(se.h==le(se))}if(g.Pb&&se.h&&Ne<H)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&je(g.s.vb,g.s.Wa);else{if(se.h)break e;X!=null&&X(g,Z>G?G:Z),g.a=0,g.$=Ne-I}return 1}return g.a=3,0}function qr(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var x=g.Wa;x!=null&&(x.X=null),g.vb=null,e(g!=null)}function Jl(){var g=new Mt;return g==null?null:(g.a=0,g.xb=DL,Nn("Predictor","VP8LPredictors"),Nn("Predictor","VP8LPredictors_C"),Nn("PredictorAdd","VP8LPredictorsAdd"),Nn("PredictorAdd","VP8LPredictorsAdd_C"),Wr=Nt,X1=kt,Q1=Ln,Gd=nn,Kd=Ft,Yd=Vt,rp=An,k.VP8LMapColor32b=oc,k.VP8LMapColor8b=K1,g)}function Mo(g,x,I,O,H){var G=1,X=[g],Z=[x],te=O.m,se=O.s,me=null,Ne=0;e:for(;;){if(I)for(;G&&pe(te,1);){var oe=X,ve=Z,xe=O,ke=1,Se=xe.m,Re=xe.gc[xe.ab],De=pe(Se,2);if(xe.Oc&1<<De)G=0;else{switch(xe.Oc|=1<<De,Re.hc=De,Re.Ea=oe[0],Re.nc=ve[0],Re.K=[null],++xe.ab,e(4>=xe.ab),De){case 0:case 1:Re.b=pe(Se,3)+2,ke=Mo(Ie(Re.Ea,Re.b),Ie(Re.nc,Re.b),0,xe,Re.K),Re.K=Re.K[0];break;case 3:var $e,Ve=pe(Se,8)+1,_t=16<Ve?0:4<Ve?1:2<Ve?2:3;if(oe[0]=Ie(Re.Ea,_t),Re.b=_t,$e=ke=Mo(Ve,1,0,xe,Re.K)){var ht,Jt=Ve,bt=Re,gn=1<<(8>>bt.b),gi=s(gn);if(gi==null)$e=0;else{var Zt=bt.K[0],xt=bt.w;for(gi[0]=bt.K[0][0],ht=1;ht<1*Jt;++ht)gi[ht]=lt(Zt[xt+ht],gi[ht-1]);for(;ht<4*gn;++ht)gi[ht]=0;bt.K[0]=null,bt.K[0]=gi,$e=1}}ke=$e;break;case 2:break;default:e(0)}G=ke}}if(X=X[0],Z=Z[0],G&&pe(te,1)&&!(G=1<=(Ne=pe(te,4))&&11>=Ne)){O.a=3;break e}var Je;if(Je=G)t:{var Kr,Xt,xn,cr=O,Gi=X,Us=Z,Fr=Ne,hs=I,Vs=cr.m,vi=cr.s,En=[null],Bn=1,Br=0,Un=LK[Fr];n:for(;;){if(hs&&pe(Vs,1)){var Ki=pe(Vs,3)+2,dl=Ie(Gi,Ki),Yr=Ie(Us,Ki),uo=dl*Yr;if(!Mo(dl,Yr,0,cr,En))break n;for(En=En[0],vi.xc=Ki,Kr=0;Kr<uo;++Kr){var er=En[Kr]>>8&65535;En[Kr]=er,er>=Bn&&(Bn=er+1)}}if(Vs.h)break n;for(Xt=0;5>Xt;++Xt){var yi=RL[Xt];!Xt&&0<Fr&&(yi+=1<<Fr),Br<yi&&(Br=yi)}var zo=o(Bn*Un,R),zs=Bn,$o=o(zs,ce);if($o==null)var Ho=null;else e(65536>=zs),Ho=$o;var ho=s(Br);if(Ho==null||ho==null||zo==null){cr.a=1;break n}var qo=zo;for(Kr=xn=0;Kr<Bn;++Kr){var sr=Ho[Kr],Wo=sr.G,hl=sr.H,sp=0,wu=1,Yi=0;for(Xt=0;5>Xt;++Xt){yi=RL[Xt],Wo[Xt]=qo,hl[Xt]=xn,!Xt&&0<Fr&&(yi+=1<<Fr);i:{var Ox,fN=yi,Fx=cr,ny=ho,eY=qo,tY=xn,pN=0,Zd=Fx.m,nY=pe(Zd,1);if(i(ny,0,0,fN),nY){var rY=pe(Zd,1)+1,iY=pe(Zd,1),$L=pe(Zd,iY==0?1:8);ny[$L]=1,rY==2&&(ny[$L=pe(Zd,8)]=1);var Bx=1}else{var HL=s(19),qL=pe(Zd,4)+4;if(19<qL){Fx.a=3;var Ux=0;break i}for(Ox=0;Ox<qL;++Ox)HL[PK[Ox]]=pe(Zd,3);var mN=void 0,ry=void 0,WL=Fx,sY=HL,Vx=fN,GL=ny,gN=0,eh=WL.m,KL=8,YL=o(128,R);r:for(;M(YL,0,7,sY,19);){if(pe(eh,1)){var oY=2+2*pe(eh,3);if((mN=2+pe(eh,oY))>Vx)break r}else mN=Vx;for(ry=0;ry<Vx&&mN--;){ue(eh);var XL=YL[0+(127&re(eh))];he(eh,eh.u+XL.g);var Lg=XL.value;if(16>Lg)GL[ry++]=Lg,Lg!=0&&(KL=Lg);else{var aY=Lg==16,QL=Lg-16,lY=kK[QL],JL=pe(eh,TK[QL])+lY;if(ry+JL>Vx)break r;for(var cY=aY?KL:0;0<JL--;)GL[ry++]=cY}}gN=1;break r}gN||(WL.a=3),Bx=gN}(Bx=Bx&&!Zd.h)&&(pN=M(eY,tY,8,ny,fN)),Bx&&pN!=0?Ux=pN:(Fx.a=3,Ux=0)}if(Ux==0)break n;if(wu&&IK[Xt]==1&&(wu=qo[xn].g==0),sp+=qo[xn].g,xn+=Ux,3>=Xt){var iy,vN=ho[0];for(iy=1;iy<yi;++iy)ho[iy]>vN&&(vN=ho[iy]);Yi+=vN}}if(sr.nd=wu,sr.Qb=0,wu&&(sr.qb=(Wo[3][hl[3]+0].value<<24|Wo[1][hl[1]+0].value<<16|Wo[2][hl[2]+0].value)>>>0,sp==0&&256>Wo[0][hl[0]+0].value&&(sr.Qb=1,sr.qb+=Wo[0][hl[0]+0].value<<8)),sr.jc=!sr.Qb&&6>Yi,sr.jc){var zx,bu=sr;for(zx=0;zx<np;++zx){var th=zx,nh=bu.pd[th],$x=bu.G[0][bu.H[0]+th];256<=$x.value?(nh.g=$x.g+256,nh.value=$x.value):(nh.g=0,nh.value=0,th>>=oi($x,8,nh),th>>=oi(bu.G[1][bu.H[1]+th],16,nh),th>>=oi(bu.G[2][bu.H[2]+th],0,nh),oi(bu.G[3][bu.H[3]+th],24,nh))}}}vi.vc=En,vi.Wb=Bn,vi.Ya=Ho,vi.yc=zo,Je=1;break t}Je=0}if(!(G=Je)){O.a=3;break e}if(0<Ne){if(se.ua=1<<Ne,!J(se.Wa,Ne)){O.a=1,G=0;break e}}else se.ua=0;var yN=O,ZL=X,uY=Z,wN=yN.s,bN=wN.xc;if(yN.c=ZL,yN.i=uY,wN.md=Ie(ZL,bN),wN.wc=bN==0?-1:(1<<bN)-1,I){O.xb=VK;break e}if((me=s(X*Z))==null){O.a=1,G=0;break e}G=(G=us(O,me,0,X,Z,Z,null))&&!te.h;break e}return G?(H!=null?H[0]=me:(e(me==null),e(I)),O.$=0,I||qr(se)):qr(se),G}function ol(g,x){var I=g.c*g.i,O=I+x+16*x;return e(g.c<=x),g.V=s(O),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+I+x,1)}function Zl(g,x){var I=g.C,O=x-I,H=g.V,G=g.Ba+g.c*I;for(e(x<=g.l.o);0<O;){var X=16<O?16:O,Z=g.l.ma,te=g.l.width,se=te*X,me=Z.ca,Ne=Z.tb+te*I,oe=g.Ta,ve=g.Ua;au(g,X,H,G),EL(oe,ve,me,Ne,se),Do(Z,I,I+X,me,Ne,te),O-=X,H+=X*g.c,I+=X}e(I==x),g.C=g.Ma=x}function lu(){this.ub=this.yd=this.td=this.Rb=0}function cu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function F1(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ec(){this.Yb=function(){var g=[];return function x(I,O,H){for(var G=H[O],X=0;X<G&&(I.push(H.length>O+1?[]:0),!(H.length<O+1));X++)x(I[X],O+1,H)}(g,0,[3,11]),g}()}function qf(){this.jb=s(3),this.Wc=a([4,8],ec),this.Xc=a([4,17],ec)}function jd(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ti(){this.ld=this.La=this.dd=this.tc=0}function jo(){this.Na=this.la=0}function Od(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wf(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Gf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ti),this.Y=0,this.ya=Array(new Wf),this.aa=0,this.l=new tc}function Kf(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Yf(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new lu,this.Kc=new cu,this.ed=new jd,this.Qa=new F1,this.Ic=this.$c=this.Aa=0,this.D=new Gf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,U),this.ia=0,this.pb=o(4,Od),this.Pa=new qf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Kf),this.Hd=0,this.rb=Array(new jo),this.sb=0,this.wa=Array(new Ti),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wf),this.L=this.aa=0,this.gd=a([4,2],Ti),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ao(g,x){return 0>g?0:g>x?x:g}function tc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ag(){var g=new Yf;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,ey||(ey=uu)),g}function Ar(g,x,I){return g.a==0&&(g.a=x,g.sc=I,g.cb=0),0}function Eg(g,x,I){return 3<=I&&g[x+0]==157&&g[x+1]==1&&g[x+2]==42}function Aa(g,x){if(g==null)return 0;if(g.a=0,g.sc="OK",x==null)return Ar(g,2,"null VP8Io passed to VP8GetHeaders()");var I=x.data,O=x.w,H=x.ha;if(4>H)return Ar(g,7,"Truncated header.");var G=I[O+0]|I[O+1]<<8|I[O+2]<<16,X=g.Od;if(X.Rb=!(1&G),X.td=G>>1&7,X.yd=G>>4&1,X.ub=G>>5,3<X.td)return Ar(g,3,"Incorrect keyframe parameters.");if(!X.yd)return Ar(g,4,"Frame not displayable.");O+=3,H-=3;var Z=g.Kc;if(X.Rb){if(7>H)return Ar(g,7,"cannot parse picture header");if(!Eg(I,O,H))return Ar(g,3,"Bad code word");Z.c=16383&(I[O+4]<<8|I[O+3]),Z.Td=I[O+4]>>6,Z.i=16383&(I[O+6]<<8|I[O+5]),Z.Ud=I[O+6]>>6,O+=7,H-=7,g.za=Z.c+15>>4,g.Ub=Z.i+15>>4,x.width=Z.c,x.height=Z.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((G=g.Pa).jb,0,255,G.jb.length),e((G=g.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,i(G.Zb,0,0,G.Zb.length),i(G.Lb,0,0,G.Lb)}if(X.ub>H)return Ar(g,7,"bad partition length");de(G=g.m,I,O,X.ub),O+=X.ub,H-=X.ub,X.Rb&&(Z.Ld=we(G),Z.Kd=we(G)),Z=g.Qa;var te,se=g.Pa;if(e(G!=null),e(Z!=null),Z.Cb=we(G),Z.Cb){if(Z.Bb=we(G),we(G)){for(Z.Fb=we(G),te=0;4>te;++te)Z.Zb[te]=we(G)?Q(G,7):0;for(te=0;4>te;++te)Z.Lb[te]=we(G)?Q(G,6):0}if(Z.Bb)for(te=0;3>te;++te)se.jb[te]=we(G)?ae(G,8):255}else Z.Bb=0;if(G.Ka)return Ar(g,3,"cannot parse segment header");if((Z=g.ed).zd=we(G),Z.Tb=ae(G,6),Z.wb=ae(G,3),Z.Pc=we(G),Z.Pc&&we(G)){for(se=0;4>se;++se)we(G)&&(Z.vd[se]=Q(G,6));for(se=0;4>se;++se)we(G)&&(Z.od[se]=Q(G,6))}if(g.L=Z.Tb==0?0:Z.zd?1:2,G.Ka)return Ar(g,3,"cannot parse filter header");var me=H;if(H=te=O,O=te+me,Z=me,g.Xb=(1<<ae(g.m,2))-1,me<3*(se=g.Xb))I=7;else{for(te+=3*se,Z-=3*se,me=0;me<se;++me){var Ne=I[H+0]|I[H+1]<<8|I[H+2]<<16;Ne>Z&&(Ne=Z),de(g.Jc[+me],I,te,Ne),te+=Ne,Z-=Ne,H+=3}de(g.Jc[+se],I,te,Z),I=te<O?0:5}if(I!=0)return Ar(g,I,"cannot parse partitions");for(I=ae(te=g.m,7),H=we(te)?Q(te,4):0,O=we(te)?Q(te,4):0,Z=we(te)?Q(te,4):0,se=we(te)?Q(te,4):0,te=we(te)?Q(te,4):0,me=g.Qa,Ne=0;4>Ne;++Ne){if(me.Cb){var oe=me.Zb[Ne];me.Fb||(oe+=I)}else{if(0<Ne){g.pb[Ne]=g.pb[0];continue}oe=I}var ve=g.pb[Ne];ve.Sc[0]=uN[ao(oe+H,127)],ve.Sc[1]=dN[ao(oe+0,127)],ve.Eb[0]=2*uN[ao(oe+O,127)],ve.Eb[1]=101581*dN[ao(oe+Z,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=uN[ao(oe+se,117)],ve.Qc[1]=dN[ao(oe+te,127)],ve.lc=oe+te}if(!X.Rb)return Ar(g,4,"Not a key frame.");for(we(G),X=g.Pa,I=0;4>I;++I){for(H=0;8>H;++H)for(O=0;3>O;++O)for(Z=0;11>Z;++Z)se=_e(G,BK[I][H][O][Z])?ae(G,8):OK[I][H][O][Z],X.Wc[I][H].Yb[O][Z]=se;for(H=0;17>H;++H)X.Xc[I][H]=X.Wc[I][UK[H]]}return g.kc=we(G),g.kc&&(g.Bd=ae(G,8)),g.cb=1}function uu(g,x,I,O,H,G,X){var Z=x[H].Yb[I];for(I=0;16>H;++H){if(!_e(g,Z[I+0]))return H;for(;!_e(g,Z[I+1]);)if(Z=x[++H].Yb[0],I=0,H==16)return 16;var te=x[H+1].Yb;if(_e(g,Z[I+2])){var se=g,me=0;if(_e(se,(oe=Z)[(Ne=I)+3]))if(_e(se,oe[Ne+6])){for(Z=0,Ne=2*(me=_e(se,oe[Ne+8]))+(oe=_e(se,oe[Ne+9+me])),me=0,oe=MK[Ne];oe[Z];++Z)me+=me+_e(se,oe[Z]);me+=3+(8<<Ne)}else _e(se,oe[Ne+7])?(me=7+2*_e(se,165),me+=_e(se,145)):me=5+_e(se,159);else me=_e(se,oe[Ne+4])?3+_e(se,oe[Ne+5]):2;Z=te[2]}else me=1,Z=te[1];te=X+jK[H],0>(se=g).b&&Ae(se);var Ne,oe=se.b,ve=(Ne=se.Ca>>1)-(se.I>>oe)>>31;--se.b,se.Ca+=ve,se.Ca|=1,se.I-=(Ne+1&ve)<<oe,G[te]=((me^ve)-ve)*O[(0<H)+0]}return 16}function Xf(g){var x=g.rb[g.sb-1];x.la=0,x.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function lo(g,x,I,O,H){H=g[x+I+32*O]+(H>>3),g[x+I+32*O]=-256&H?0>H?0:255:H}function Jn(g,x,I,O,H,G){lo(g,x,0,I,O+H),lo(g,x,1,I,O+G),lo(g,x,2,I,O-G),lo(g,x,3,I,O-H)}function pi(g){return(20091*g>>16)+g}function du(g,x,I,O){var H,G=0,X=s(16);for(H=0;4>H;++H){var Z=g[x+0]+g[x+8],te=g[x+0]-g[x+8],se=(35468*g[x+4]>>16)-pi(g[x+12]),me=pi(g[x+4])+(35468*g[x+12]>>16);X[G+0]=Z+me,X[G+1]=te+se,X[G+2]=te-se,X[G+3]=Z-me,G+=4,x++}for(H=G=0;4>H;++H)Z=(g=X[G+0]+4)+X[G+8],te=g-X[G+8],se=(35468*X[G+4]>>16)-pi(X[G+12]),lo(I,O,0,0,Z+(me=pi(X[G+4])+(35468*X[G+12]>>16))),lo(I,O,1,0,te+se),lo(I,O,2,0,te-se),lo(I,O,3,0,Z-me),G++,O+=32}function Fd(g,x,I,O){var H=g[x+0]+4,G=35468*g[x+4]>>16,X=pi(g[x+4]),Z=35468*g[x+1]>>16;Jn(I,O,0,H+X,g=pi(g[x+1]),Z),Jn(I,O,1,H+G,g,Z),Jn(I,O,2,H-G,g,Z),Jn(I,O,3,H-X,g,Z)}function Sg(g,x,I,O,H){du(g,x,I,O),H&&du(g,x+16,I,O+4)}function dn(g,x,I,O){ip(g,x+0,I,O,1),ip(g,x+32,I,O+128,1)}function hu(g,x,I,O){var H;for(g=g[x+0]+4,H=0;4>H;++H)for(x=0;4>x;++x)lo(I,O,x,H,g)}function nc(g,x,I,O){g[x+0]&&Mn(g,x+0,I,O),g[x+16]&&Mn(g,x+16,I,O+4),g[x+32]&&Mn(g,x+32,I,O+128),g[x+48]&&Mn(g,x+48,I,O+128+4)}function Ea(g,x,I,O){var H,G=s(16);for(H=0;4>H;++H){var X=g[x+0+H]+g[x+12+H],Z=g[x+4+H]+g[x+8+H],te=g[x+4+H]-g[x+8+H],se=g[x+0+H]-g[x+12+H];G[0+H]=X+Z,G[8+H]=X-Z,G[4+H]=se+te,G[12+H]=se-te}for(H=0;4>H;++H)X=(g=G[0+4*H]+3)+G[3+4*H],Z=G[1+4*H]+G[2+4*H],te=G[1+4*H]-G[2+4*H],se=g-G[3+4*H],I[O+0]=X+Z>>3,I[O+16]=se+te>>3,I[O+32]=X-Z>>3,I[O+48]=se-te>>3,O+=64}function fu(g,x,I){var O,H=x-32,G=Vo,X=255-g[H-1];for(O=0;O<I;++O){var Z,te=G,se=X+g[x-1];for(Z=0;Z<I;++Z)g[x+Z]=te[se+g[H+Z]];x+=32}}function Ng(g,x){fu(g,x,4)}function B1(g,x){fu(g,x,8)}function U1(g,x){fu(g,x,16)}function Qf(g,x){var I;for(I=0;16>I;++I)r(g,x+32*I,g,x-32,16)}function Cg(g,x){var I;for(I=16;0<I;--I)i(g,x,g[x-1],16),x+=32}function qi(g,x,I){var O;for(O=0;16>O;++O)i(x,I+32*O,g,16)}function Sa(g,x){var I,O=16;for(I=0;16>I;++I)O+=g[x-1+32*I]+g[x+I-32];qi(O>>5,g,x)}function rc(g,x){var I,O=8;for(I=0;16>I;++I)O+=g[x-1+32*I];qi(O>>4,g,x)}function Bd(g,x){var I,O=8;for(I=0;16>I;++I)O+=g[x+I-32];qi(O>>4,g,x)}function Tg(g,x){qi(128,g,x)}function Dt(g,x,I){return g+2*x+I+2>>2}function V1(g,x){var I,O=x-32;for(O=new Uint8Array([Dt(g[O-1],g[O+0],g[O+1]),Dt(g[O+0],g[O+1],g[O+2]),Dt(g[O+1],g[O+2],g[O+3]),Dt(g[O+2],g[O+3],g[O+4])]),I=0;4>I;++I)r(g,x+32*I,O,0,O.length)}function z1(g,x){var I=g[x-1],O=g[x-1+32],H=g[x-1+64],G=g[x-1+96];Me(g,x+0,16843009*Dt(g[x-1-32],I,O)),Me(g,x+32,16843009*Dt(I,O,H)),Me(g,x+64,16843009*Dt(O,H,G)),Me(g,x+96,16843009*Dt(H,G,G))}function $1(g,x){var I,O=4;for(I=0;4>I;++I)O+=g[x+I-32]+g[x-1+32*I];for(O>>=3,I=0;4>I;++I)i(g,x+32*I,O,4)}function ki(g,x){var I=g[x-1+0],O=g[x-1+32],H=g[x-1+64],G=g[x-1-32],X=g[x+0-32],Z=g[x+1-32],te=g[x+2-32],se=g[x+3-32];g[x+0+96]=Dt(O,H,g[x-1+96]),g[x+1+96]=g[x+0+64]=Dt(I,O,H),g[x+2+96]=g[x+1+64]=g[x+0+32]=Dt(G,I,O),g[x+3+96]=g[x+2+64]=g[x+1+32]=g[x+0+0]=Dt(X,G,I),g[x+3+64]=g[x+2+32]=g[x+1+0]=Dt(Z,X,G),g[x+3+32]=g[x+2+0]=Dt(te,Z,X),g[x+3+0]=Dt(se,te,Z)}function al(g,x){var I=g[x+1-32],O=g[x+2-32],H=g[x+3-32],G=g[x+4-32],X=g[x+5-32],Z=g[x+6-32],te=g[x+7-32];g[x+0+0]=Dt(g[x+0-32],I,O),g[x+1+0]=g[x+0+32]=Dt(I,O,H),g[x+2+0]=g[x+1+32]=g[x+0+64]=Dt(O,H,G),g[x+3+0]=g[x+2+32]=g[x+1+64]=g[x+0+96]=Dt(H,G,X),g[x+3+32]=g[x+2+64]=g[x+1+96]=Dt(G,X,Z),g[x+3+64]=g[x+2+96]=Dt(X,Z,te),g[x+3+96]=Dt(Z,te,te)}function H1(g,x){var I=g[x-1+0],O=g[x-1+32],H=g[x-1+64],G=g[x-1-32],X=g[x+0-32],Z=g[x+1-32],te=g[x+2-32],se=g[x+3-32];g[x+0+0]=g[x+1+64]=G+X+1>>1,g[x+1+0]=g[x+2+64]=X+Z+1>>1,g[x+2+0]=g[x+3+64]=Z+te+1>>1,g[x+3+0]=te+se+1>>1,g[x+0+96]=Dt(H,O,I),g[x+0+64]=Dt(O,I,G),g[x+0+32]=g[x+1+96]=Dt(I,G,X),g[x+1+32]=g[x+2+96]=Dt(G,X,Z),g[x+2+32]=g[x+3+96]=Dt(X,Z,te),g[x+3+32]=Dt(Z,te,se)}function Ud(g,x){var I=g[x+0-32],O=g[x+1-32],H=g[x+2-32],G=g[x+3-32],X=g[x+4-32],Z=g[x+5-32],te=g[x+6-32],se=g[x+7-32];g[x+0+0]=I+O+1>>1,g[x+1+0]=g[x+0+64]=O+H+1>>1,g[x+2+0]=g[x+1+64]=H+G+1>>1,g[x+3+0]=g[x+2+64]=G+X+1>>1,g[x+0+32]=Dt(I,O,H),g[x+1+32]=g[x+0+96]=Dt(O,H,G),g[x+2+32]=g[x+1+96]=Dt(H,G,X),g[x+3+32]=g[x+2+96]=Dt(G,X,Z),g[x+3+64]=Dt(X,Z,te),g[x+3+96]=Dt(Z,te,se)}function ll(g,x){var I=g[x-1+0],O=g[x-1+32],H=g[x-1+64],G=g[x-1+96];g[x+0+0]=I+O+1>>1,g[x+2+0]=g[x+0+32]=O+H+1>>1,g[x+2+32]=g[x+0+64]=H+G+1>>1,g[x+1+0]=Dt(I,O,H),g[x+3+0]=g[x+1+32]=Dt(O,H,G),g[x+3+32]=g[x+1+64]=Dt(H,G,G),g[x+3+64]=g[x+2+64]=g[x+0+96]=g[x+1+96]=g[x+2+96]=g[x+3+96]=G}function Vd(g,x){var I=g[x-1+0],O=g[x-1+32],H=g[x-1+64],G=g[x-1+96],X=g[x-1-32],Z=g[x+0-32],te=g[x+1-32],se=g[x+2-32];g[x+0+0]=g[x+2+32]=I+X+1>>1,g[x+0+32]=g[x+2+64]=O+I+1>>1,g[x+0+64]=g[x+2+96]=H+O+1>>1,g[x+0+96]=G+H+1>>1,g[x+3+0]=Dt(Z,te,se),g[x+2+0]=Dt(X,Z,te),g[x+1+0]=g[x+3+32]=Dt(I,X,Z),g[x+1+32]=g[x+3+64]=Dt(O,I,X),g[x+1+64]=g[x+3+96]=Dt(H,O,I),g[x+1+96]=Dt(G,H,O)}function Oo(g,x){var I;for(I=0;8>I;++I)r(g,x+32*I,g,x-32,8)}function pu(g,x){var I;for(I=0;8>I;++I)i(g,x,g[x-1],8),x+=32}function Na(g,x,I){var O;for(O=0;8>O;++O)i(x,I+32*O,g,8)}function Jf(g,x){var I,O=8;for(I=0;8>I;++I)O+=g[x+I-32]+g[x-1+32*I];Na(O>>4,g,x)}function Gn(g,x){var I,O=4;for(I=0;8>I;++I)O+=g[x+I-32];Na(O>>3,g,x)}function Zf(g,x){var I,O=4;for(I=0;8>I;++I)O+=g[x-1+32*I];Na(O>>3,g,x)}function kg(g,x){Na(128,g,x)}function Ca(g,x,I){var O=g[x-I],H=g[x+0],G=3*(H-O)+sN[1020+g[x-2*I]-g[x+I]],X=Tx[112+(G+4>>3)];g[x-I]=Vo[255+O+Tx[112+(G+3>>3)]],g[x+0]=Vo[255+H-X]}function zd(g,x,I,O){var H=g[x+0],G=g[x+I];return La[255+g[x-2*I]-g[x-I]]>O||La[255+G-H]>O}function mu(g,x,I,O){return 4*La[255+g[x-I]-g[x+0]]+La[255+g[x-2*I]-g[x+I]]<=O}function ic(g,x,I,O,H){var G=g[x-3*I],X=g[x-2*I],Z=g[x-I],te=g[x+0],se=g[x+I],me=g[x+2*I],Ne=g[x+3*I];return 4*La[255+Z-te]+La[255+X-se]>O?0:La[255+g[x-4*I]-G]<=H&&La[255+G-X]<=H&&La[255+X-Z]<=H&&La[255+Ne-me]<=H&&La[255+me-se]<=H&&La[255+se-te]<=H}function sc(g,x,I,O){var H=2*O+1;for(O=0;16>O;++O)mu(g,x+O,I,H)&&Ca(g,x+O,I)}function Fs(g,x,I,O){var H=2*O+1;for(O=0;16>O;++O)mu(g,x+O*I,1,H)&&Ca(g,x+O*I,1)}function ep(g,x,I,O){var H;for(H=3;0<H;--H)sc(g,x+=4*I,I,O)}function Ig(g,x,I,O){var H;for(H=3;0<H;--H)Fs(g,x+=4,I,O)}function Bs(g,x,I,O,H,G,X,Z){for(G=2*G+1;0<H--;){if(ic(g,x,I,G,X))if(zd(g,x,I,Z))Ca(g,x,I);else{var te=g,se=x,me=I,Ne=te[se-2*me],oe=te[se-me],ve=te[se+0],xe=te[se+me],ke=te[se+2*me],Se=27*(De=sN[1020+3*(ve-oe)+sN[1020+Ne-xe]])+63>>7,Re=18*De+63>>7,De=9*De+63>>7;te[se-3*me]=Vo[255+te[se-3*me]+De],te[se-2*me]=Vo[255+Ne+Re],te[se-me]=Vo[255+oe+Se],te[se+0]=Vo[255+ve-Se],te[se+me]=Vo[255+xe-Re],te[se+2*me]=Vo[255+ke-De]}x+=O}}function Ta(g,x,I,O,H,G,X,Z){for(G=2*G+1;0<H--;){if(ic(g,x,I,G,X))if(zd(g,x,I,Z))Ca(g,x,I);else{var te=g,se=x,me=I,Ne=te[se-me],oe=te[se+0],ve=te[se+me],xe=Tx[112+(4+(ke=3*(oe-Ne))>>3)],ke=Tx[112+(ke+3>>3)],Se=xe+1>>1;te[se-2*me]=Vo[255+te[se-2*me]+Se],te[se-me]=Vo[255+Ne+ke],te[se+0]=Vo[255+oe-xe],te[se+me]=Vo[255+ve-Se]}x+=O}}function $d(g,x,I,O,H,G){Bs(g,x,I,1,16,O,H,G)}function ka(g,x,I,O,H,G){Bs(g,x,1,I,16,O,H,G)}function tp(g,x,I,O,H,G){var X;for(X=3;0<X;--X)Ta(g,x+=4*I,I,1,16,O,H,G)}function S(g,x,I,O,H,G){var X;for(X=3;0<X;--X)Ta(g,x+=4,1,I,16,O,H,G)}function $(g,x,I,O,H,G,X,Z){Bs(g,x,H,1,8,G,X,Z),Bs(I,O,H,1,8,G,X,Z)}function ie(g,x,I,O,H,G,X,Z){Bs(g,x,1,H,8,G,X,Z),Bs(I,O,1,H,8,G,X,Z)}function fe(g,x,I,O,H,G,X,Z){Ta(g,x+4*H,H,1,8,G,X,Z),Ta(I,O+4*H,H,1,8,G,X,Z)}function ye(g,x,I,O,H,G,X,Z){Ta(g,x+4,1,H,8,G,X,Z),Ta(I,O+4,1,H,8,G,X,Z)}function Pe(){this.ba=new zt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ue(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ct(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gt(){this.ua=0,this.Wa=new Qe,this.vb=new Qe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new R}function Mt(){this.xb=this.a=0,this.l=new tc,this.ca=new zt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gt,this.ab=0,this.gc=o(4,ct),this.Oc=0}function Ht(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new tc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hn(g,x,I,O,H,G,X){for(g=g==null?0:g[x+0],x=0;x<X;++x)H[G+x]=g+I[O+x]&255,g=H[G+x]}function In(g,x,I,O,H,G,X){var Z;if(g==null)hn(null,null,I,O,H,G,X);else for(Z=0;Z<X;++Z)H[G+Z]=g[x+Z]+I[O+Z]&255}function Er(g,x,I,O,H,G,X){if(g==null)hn(null,null,I,O,H,G,X);else{var Z,te=g[x+0],se=te,me=te;for(Z=0;Z<X;++Z)se=me+(te=g[x+Z])-se,me=I[O+Z]+(-256&se?0>se?0:255:se)&255,se=te,H[G+Z]=me}}function Fn(g,x,I,O){var H=x.width,G=x.o;if(e(g!=null&&x!=null),0>I||0>=O||I+O>G)return null;if(!g.Cc){if(g.ga==null){var X;if(g.ga=new Ht,(X=g.ga==null)||(X=x.width*x.o,e(g.Gb.length==0),g.Gb=s(X),g.Uc=0,g.Gb==null?X=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,X=1),X=!X),!X){X=g.ga;var Z=g.Fa,te=g.P,se=g.qc,me=g.mb,Ne=g.nb,oe=te+1,ve=se-1,xe=X.l;if(e(Z!=null&&me!=null&&x!=null),Jd[0]=null,Jd[1]=hn,Jd[2]=In,Jd[3]=Er,X.ca=me,X.tb=Ne,X.c=x.width,X.i=x.height,e(0<X.c&&0<X.i),1>=se)x=0;else if(X.$a=3&Z[te+0],X.Z=Z[te+0]>>2&3,X.Lc=Z[te+0]>>4&3,te=Z[te+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||te)x=0;else if(xe.put=dt,xe.ac=Wn,xe.bc=bn,xe.ma=X,xe.width=x.width,xe.height=x.height,xe.Da=x.Da,xe.v=x.v,xe.va=x.va,xe.j=x.j,xe.o=x.o,X.$a)e:{e(X.$a==1),x=Jl();t:for(;;){if(x==null){x=0;break e}if(e(X!=null),X.mc=x,x.c=X.c,x.i=X.i,x.l=X.l,x.l.ma=X,x.l.width=X.c,x.l.height=X.i,x.a=0,ne(x.m,Z,oe,ve),!Mo(X.c,X.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&cs(x.s)?(X.ic=1,Z=x.c*x.i,x.Ta=null,x.Ua=0,x.V=s(Z),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(X.ic=0,x=ol(x,X.c)),!x))break t;x=1;break e}X.mc=null,x=0}else x=ve>=X.c*X.i;X=!x}if(X)return null;g.ga.Lc!=1?g.Ga=0:O=G-I}e(g.ga!=null),e(I+O<=G);e:{if(x=(Z=g.ga).c,G=Z.l.o,Z.$a==0){if(oe=g.rc,ve=g.Vc,xe=g.Fa,te=g.P+1+I*x,se=g.mb,me=g.nb+I*x,e(te<=g.P+g.qc),Z.Z!=0)for(e(Jd[Z.Z]!=null),X=0;X<O;++X)Jd[Z.Z](oe,ve,xe,te,se,me,x),oe=se,ve=me,me+=x,te+=x;else for(X=0;X<O;++X)r(se,me,xe,te,x),oe=se,ve=me,me+=x,te+=x;g.rc=oe,g.Vc=ve}else{if(e(Z.mc!=null),x=I+O,e((X=Z.mc)!=null),e(x<=X.i),X.C>=x)x=1;else if(Z.ic||co(),Z.ic){Z=X.V,oe=X.Ba,ve=X.c;var ke=X.i,Se=(xe=1,te=X.$/ve,se=X.$%ve,me=X.m,Ne=X.s,X.$),Re=ve*ke,De=ve*x,$e=Ne.wc,Ve=Se<De?wr(Ne,se,te):null;e(Se<=Re),e(x<=ke),e(cs(Ne));t:for(;;){for(;!me.h&&Se<De;){if(se&$e||(Ve=wr(Ne,se,te)),e(Ve!=null),ue(me),256>(ke=yr(Ve.G[0],Ve.H[0],me)))Z[oe+Se]=ke,++Se,++se>=ve&&(se=0,++te<=x&&!(te%16)&&Os(X,te));else{if(!(280>ke)){xe=0;break t}ke=Dn(ke-256,me);var _t,ht=yr(Ve.G[4],Ve.H[4],me);if(ue(me),!(Se>=(ht=Qn(ve,ht=Dn(ht,me)))&&Re-Se>=ke)){xe=0;break t}for(_t=0;_t<ke;++_t)Z[oe+Se+_t]=Z[oe+Se+_t-ht];for(Se+=ke,se+=ke;se>=ve;)se-=ve,++te<=x&&!(te%16)&&Os(X,te);Se<De&&se&$e&&(Ve=wr(Ne,se,te))}e(me.h==le(me))}Os(X,te>x?x:te);break t}!xe||me.h&&Se<Re?(xe=0,X.a=me.h?5:3):X.$=Se,x=xe}else x=us(X,X.V,X.Ba,X.c,X.i,x,Zl);if(!x){O=0;break e}}I+O>=G&&(g.Cc=1),O=1}if(!O)return null;if(g.Cc&&((O=g.ga)!=null&&(O.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+I*H}function jr(g,x,I,O,H,G){for(;0<H--;){var X,Z=g,te=x+(I?1:0),se=g,me=x+(I?0:3);for(X=0;X<O;++X){var Ne=se[me+4*X];Ne!=255&&(Ne*=32897,Z[te+4*X+0]=Z[te+4*X+0]*Ne>>23,Z[te+4*X+1]=Z[te+4*X+1]*Ne>>23,Z[te+4*X+2]=Z[te+4*X+2]*Ne>>23)}x+=G}}function Sr(g,x,I,O,H){for(;0<O--;){var G;for(G=0;G<I;++G){var X=g[x+2*G+0],Z=15&(se=g[x+2*G+1]),te=4369*Z,se=(240&se|se>>4)*te>>16;g[x+2*G+0]=(240&X|X>>4)*te>>16&240|(15&X|X<<4)*te>>16>>4&15,g[x+2*G+1]=240&se|Z}x+=H}}function Or(g,x,I,O,H,G,X,Z){var te,se,me=255;for(se=0;se<H;++se){for(te=0;te<O;++te){var Ne=g[x+te];G[X+4*te]=Ne,me&=Ne}x+=I,X+=Z}return me!=255}function Nr(g,x,I,O,H){var G;for(G=0;G<H;++G)I[O+G]=g[x+G]>>8}function co(){Z1=jr,_L=Sr,AL=Or,EL=Nr}function Ia(g,x,I){k[g]=function(O,H,G,X,Z,te,se,me,Ne,oe,ve,xe,ke,Se,Re,De,$e){var Ve,_t=$e-1>>1,ht=Z[te+0]|se[me+0]<<16,Jt=Ne[oe+0]|ve[xe+0]<<16;e(O!=null);var bt=3*ht+Jt+131074>>2;for(x(O[H+0],255&bt,bt>>16,ke,Se),G!=null&&(bt=3*Jt+ht+131074>>2,x(G[X+0],255&bt,bt>>16,Re,De)),Ve=1;Ve<=_t;++Ve){var gn=Z[te+Ve]|se[me+Ve]<<16,gi=Ne[oe+Ve]|ve[xe+Ve]<<16,Zt=ht+gn+Jt+gi+524296,xt=Zt+2*(gn+Jt)>>3;bt=xt+ht>>1,ht=(Zt=Zt+2*(ht+gi)>>3)+gn>>1,x(O[H+2*Ve-1],255&bt,bt>>16,ke,Se+(2*Ve-1)*I),x(O[H+2*Ve-0],255&ht,ht>>16,ke,Se+(2*Ve-0)*I),G!=null&&(bt=Zt+Jt>>1,ht=xt+gi>>1,x(G[X+2*Ve-1],255&bt,bt>>16,Re,De+(2*Ve-1)*I),x(G[X+2*Ve+0],255&ht,ht>>16,Re,De+(2*Ve+0)*I)),ht=gn,Jt=gi}1&$e||(bt=3*ht+Jt+131074>>2,x(O[H+$e-1],255&bt,bt>>16,ke,Se+($e-1)*I),G!=null&&(bt=3*Jt+ht+131074>>2,x(G[X+$e-1],255&bt,bt>>16,Re,De+($e-1)*I)))}}function Pa(){Da[kx]=zK,Da[Ix]=ML,Da[IL]=$K,Da[Px]=jL,Da[Rx]=OL,Da[oN]=FL,Da[PL]=HK,Da[aN]=ML,Da[lN]=jL,Da[Lx]=OL,Da[cN]=FL}function v(g){return g&~qK?0>g?0:255:g>>BL}function P(g,x){return v((19077*g>>8)+(26149*x>>8)-14234)}function B(g,x,I){return v((19077*g>>8)-(6419*x>>8)-(13320*I>>8)+8708)}function ee(g,x){return v((19077*g>>8)+(33050*x>>8)-17685)}function be(g,x,I,O,H){O[H+0]=P(g,I),O[H+1]=B(g,x,I),O[H+2]=ee(g,x)}function Te(g,x,I,O,H){O[H+0]=ee(g,x),O[H+1]=B(g,x,I),O[H+2]=P(g,I)}function We(g,x,I,O,H){var G=B(g,x,I);x=G<<3&224|ee(g,x)>>3,O[H+0]=248&P(g,I)|G>>5,O[H+1]=x}function mn(g,x,I,O,H){var G=240&ee(g,x)|15;O[H+0]=240&P(g,I)|B(g,x,I)>>4,O[H+1]=G}function Cr(g,x,I,O,H){O[H+0]=255,be(g,x,I,O,H+1)}function an(g,x,I,O,H){Te(g,x,I,O,H),O[H+3]=255}function Tn(g,x,I,O,H){be(g,x,I,O,H),O[H+3]=255}function ir(g,x,I){k[g]=function(O,H,G,X,Z,te,se,me,Ne){for(var oe=me+(-2&Ne)*I;me!=oe;)x(O[H+0],G[X+0],Z[te+0],se,me),x(O[H+1],G[X+0],Z[te+0],se,me+I),H+=2,++X,++te,me+=2*I;1&Ne&&x(O[H+0],G[X+0],Z[te+0],se,me)}}function Fo(g,x,I){return I==0?g==0?x==0?6:5:x==0?4:0:I}function ds(g,x,I,O,H){switch(g>>>30){case 3:ip(x,I,O,H,0);break;case 2:Ra(x,I,O,H);break;case 1:Mn(x,I,O,H)}}function Wi(g,x){var I,O,H=x.M,G=x.Nb,X=g.oc,Z=g.pc+40,te=g.oc,se=g.pc+584,me=g.oc,Ne=g.pc+600;for(I=0;16>I;++I)X[Z+32*I-1]=129;for(I=0;8>I;++I)te[se+32*I-1]=129,me[Ne+32*I-1]=129;for(0<H?X[Z-1-32]=te[se-1-32]=me[Ne-1-32]=129:(i(X,Z-32-1,127,21),i(te,se-32-1,127,9),i(me,Ne-32-1,127,9)),O=0;O<g.za;++O){var oe=x.ya[x.aa+O];if(0<O){for(I=-1;16>I;++I)r(X,Z+32*I-4,X,Z+32*I+12,4);for(I=-1;8>I;++I)r(te,se+32*I-4,te,se+32*I+4,4),r(me,Ne+32*I-4,me,Ne+32*I+4,4)}var ve=g.Gd,xe=g.Hd+O,ke=oe.ad,Se=oe.Hc;if(0<H&&(r(X,Z-32,ve[xe].y,0,16),r(te,se-32,ve[xe].f,0,8),r(me,Ne-32,ve[xe].ea,0,8)),oe.Za){var Re=X,De=Z-32+16;for(0<H&&(O>=g.za-1?i(Re,De,ve[xe].y[15],4):r(Re,De,ve[xe+1].y,0,4)),I=0;4>I;I++)Re[De+128+I]=Re[De+256+I]=Re[De+384+I]=Re[De+0+I];for(I=0;16>I;++I,Se<<=2)Re=X,De=Z+VL[I],ul[oe.Ob[I]](Re,De),ds(Se,ke,16*+I,Re,De)}else if(Re=Fo(O,H,oe.Ob[0]),Qd[Re](X,Z),Se!=0)for(I=0;16>I;++I,Se<<=2)ds(Se,ke,16*+I,X,Z+VL[I]);for(I=oe.Gc,Re=Fo(O,H,oe.Dd),yu[Re](te,se),yu[Re](me,Ne),Se=ke,Re=te,De=se,255&(oe=0|I)&&(170&oe?lc(Se,256,Re,De):Zn(Se,256,Re,De)),oe=me,Se=Ne,255&(I>>=8)&&(170&I?lc(ke,320,oe,Se):Zn(ke,320,oe,Se)),H<g.Ub-1&&(r(ve[xe].y,0,X,Z+480,16),r(ve[xe].f,0,te,se+224,8),r(ve[xe].ea,0,me,Ne+224,8)),I=8*G*g.B,ve=g.sa,xe=g.ta+16*O+16*G*g.R,ke=g.qa,oe=g.ra+8*O+I,Se=g.Ha,Re=g.Ia+8*O+I,I=0;16>I;++I)r(ve,xe+I*g.R,X,Z+32*I,16);for(I=0;8>I;++I)r(ke,oe+I*g.B,te,se+32*I,8),r(Se,Re+I*g.B,me,Ne+32*I,8)}}function cl(g,x,I,O,H,G,X,Z,te){var se=[0],me=[0],Ne=0,oe=te!=null?te.kd:0,ve=te??new Ue;if(g==null||12>I)return 7;ve.data=g,ve.w=x,ve.ha=I,x=[x],I=[I],ve.gb=[ve.gb];e:{var xe=x,ke=I,Se=ve.gb;if(e(g!=null),e(ke!=null),e(Se!=null),Se[0]=0,12<=ke[0]&&!t(g,xe[0],"RIFF")){if(t(g,xe[0]+8,"WEBP")){Se=3;break e}var Re=Le(g,xe[0]+4);if(12>Re||4294967286<Re){Se=3;break e}if(oe&&Re>ke[0]-8){Se=7;break e}Se[0]=Re,xe[0]+=12,ke[0]-=12}Se=0}if(Se!=0)return Se;for(Re=0<ve.gb[0],I=I[0];;){e:{var De=g;ke=x,Se=I;var $e=se,Ve=me,_t=xe=[0];if((bt=Ne=[Ne])[0]=0,8>Se[0])Se=7;else{if(!t(De,ke[0],"VP8X")){if(Le(De,ke[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var ht=Le(De,ke[0]+8),Jt=1+Ce(De,ke[0]+12);if(2147483648<=Jt*(De=1+Ce(De,ke[0]+15))){Se=3;break e}_t!=null&&(_t[0]=ht),$e!=null&&($e[0]=Jt),Ve!=null&&(Ve[0]=De),ke[0]+=18,Se[0]-=18,bt[0]=1}Se=0}}if(Ne=Ne[0],xe=xe[0],Se!=0)return Se;if(ke=!!(2&xe),!Re&&Ne)return 3;if(G!=null&&(G[0]=!!(16&xe)),X!=null&&(X[0]=ke),Z!=null&&(Z[0]=0),X=se[0],xe=me[0],Ne&&ke&&te==null){Se=0;break}if(4>I){Se=7;break}if(Re&&Ne||!Re&&!Ne&&!t(g,x[0],"ALPH")){I=[I],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{ht=g,Se=x,Re=I;var bt=ve.gb;$e=ve.na,Ve=ve.P,_t=ve.Sa,Jt=22,e(ht!=null),e(Re!=null),De=Se[0];var gn=Re[0];for(e($e!=null),e(_t!=null),$e[0]=null,Ve[0]=null,_t[0]=0;;){if(Se[0]=De,Re[0]=gn,8>gn){Se=7;break e}var gi=Le(ht,De+4);if(4294967286<gi){Se=3;break e}var Zt=8+gi+1&-2;if(Jt+=Zt,0<bt&&Jt>bt){Se=3;break e}if(!t(ht,De,"VP8 ")||!t(ht,De,"VP8L")){Se=0;break e}if(gn[0]<Zt){Se=7;break e}t(ht,De,"ALPH")||($e[0]=ht,Ve[0]=De+8,_t[0]=gi),De+=Zt,gn-=Zt}}if(I=I[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Se!=0)break}I=[I],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(bt=g,Se=x,Re=I,$e=ve.gb[0],Ve=ve.Ja,_t=ve.xa,ht=Se[0],De=!t(bt,ht,"VP8 "),Jt=!t(bt,ht,"VP8L"),e(bt!=null),e(Re!=null),e(Ve!=null),e(_t!=null),8>Re[0])Se=7;else{if(De||Jt){if(bt=Le(bt,ht+4),12<=$e&&bt>$e-12){Se=3;break e}if(oe&&bt>Re[0]-8){Se=7;break e}Ve[0]=bt,Se[0]+=8,Re[0]-=8,_t[0]=Jt}else _t[0]=5<=Re[0]&&bt[ht+0]==47&&!(bt[ht+4]>>5),Ve[0]=Re[0];Se=0}if(I=I[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],x=x[0],Se!=0)break;if(4294967286<ve.Ja)return 3;if(Z==null||ke||(Z[0]=ve.xa?2:1),X=[X],xe=[xe],ve.xa){if(5>I){Se=7;break}Z=X,oe=xe,ke=G,g==null||5>I?g=0:5<=I&&g[x+0]==47&&!(g[x+4]>>5)?(Re=[0],bt=[0],$e=[0],ne(Ve=new Y,g,x,I),si(Ve,Re,bt,$e)?(Z!=null&&(Z[0]=Re[0]),oe!=null&&(oe[0]=bt[0]),ke!=null&&(ke[0]=$e[0]),g=1):g=0):g=0}else{if(10>I){Se=7;break}Z=xe,g==null||10>I||!Eg(g,x+3,I-3)?g=0:(oe=g[x+0]|g[x+1]<<8|g[x+2]<<16,ke=16383&(g[x+7]<<8|g[x+6]),g=16383&(g[x+9]<<8|g[x+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=ve.Ja||!ke||!g?g=0:(X&&(X[0]=ke),Z&&(Z[0]=g),g=1))}if(!g||(X=X[0],xe=xe[0],Ne&&(se[0]!=X||me[0]!=xe)))return 3;te!=null&&(te[0]=ve,te.offset=x-te.w,e(4294967286>x-te.w),e(te.offset==te.ha-I));break}return Se==0||Se==7&&Ne&&te==null?(G!=null&&(G[0]|=ve.na!=null&&0<ve.na.length),O!=null&&(O[0]=X),H!=null&&(H[0]=xe),0):Se}function q1(g,x,I){var O=x.width,H=x.height,G=0,X=0,Z=O,te=H;if(x.Da=g!=null&&0<g.Da,x.Da&&(Z=g.cd,te=g.bd,G=g.v,X=g.j,11>I||(G&=-2,X&=-2),0>G||0>X||0>=Z||0>=te||G+Z>O||X+te>H))return 0;if(x.v=G,x.j=X,x.va=G+Z,x.o=X+te,x.U=Z,x.T=te,x.da=g!=null&&0<g.da,x.da){if(!Ge(Z,te,I=[g.ib],G=[g.hb]))return 0;x.ib=I[0],x.hb=G[0]}return x.ob=g!=null&&g.ob,x.Kb=g==null||!g.Sd,x.da&&(x.ob=x.ib<3*O/4&&x.hb<3*H/4,x.Kb=0),1}function W1(g){if(g==null)return 2;if(11>g.S){var x=g.f.RGBA;x.fb+=(g.height-1)*x.A,x.A=-x.A}else x=g.f.kb,g=g.height,x.O+=(g-1)*x.fa,x.fa=-x.fa,x.N+=(g-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(g-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(g-1)*x.lb,x.lb=-x.lb);return 0}function Hd(g,x,I,O){if(O==null||0>=g||0>=x)return 2;if(I!=null){if(I.Da){var H=I.cd,G=I.bd,X=-2&I.v,Z=-2&I.j;if(0>X||0>Z||0>=H||0>=G||X+H>g||Z+G>x)return 2;g=H,x=G}if(I.da){if(!Ge(g,x,H=[I.ib],G=[I.hb]))return 2;g=H[0],x=G[0]}}O.width=g,O.height=x;e:{var te=O.width,se=O.height;if(g=O.S,0>=te||0>=se||!(g>=kx&&13>g))g=2;else{if(0>=O.Rd&&O.sd==null){X=G=H=x=0;var me=(Z=te*zL[g])*se;if(11>g||(G=(se+1)/2*(x=(te+1)/2),g==12&&(X=(H=te)*se)),(se=s(me+2*G+X))==null){g=1;break e}O.sd=se,11>g?((te=O.f.RGBA).eb=se,te.fb=0,te.A=Z,te.size=me):((te=O.f.kb).y=se,te.O=0,te.fa=Z,te.Fd=me,te.f=se,te.N=0+me,te.Ab=x,te.Cd=G,te.ea=se,te.W=0+me+G,te.Db=x,te.Ed=G,g==12&&(te.F=se,te.J=0+me+2*G),te.Tc=X,te.lb=H)}if(x=1,H=O.S,G=O.width,X=O.height,H>=kx&&13>H)if(11>H)g=O.f.RGBA,x&=(Z=Math.abs(g.A))*(X-1)+G<=g.size,x&=Z>=G*zL[H],x&=g.eb!=null;else{g=O.f.kb,Z=(G+1)/2,me=(X+1)/2,te=Math.abs(g.fa),se=Math.abs(g.Ab);var Ne=Math.abs(g.Db),oe=Math.abs(g.lb),ve=oe*(X-1)+G;x&=te*(X-1)+G<=g.Fd,x&=se*(me-1)+Z<=g.Cd,x=(x&=Ne*(me-1)+Z<=g.Ed)&te>=G&se>=Z&Ne>=Z,x&=g.y!=null,x&=g.f!=null,x&=g.ea!=null,H==12&&(x&=oe>=G,x&=ve<=g.Tc,x&=g.F!=null)}else x=0;g=x?0:2}}return g!=0||I!=null&&I.fd&&(g=W1(O)),g}var np=64,Bo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Uo=24,qd=32,gu=8,Wd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Xe("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(g){return g},k.Predictor2=function(g,x,I){return x[I+0]},k.Predictor3=function(g,x,I){return x[I+1]},k.Predictor4=function(g,x,I){return x[I-1]},k.Predictor5=function(g,x,I){return it(it(g,x[I+1]),x[I+0])},k.Predictor6=function(g,x,I){return it(g,x[I-1])},k.Predictor7=function(g,x,I){return it(g,x[I+0])},k.Predictor8=function(g,x,I){return it(x[I-1],x[I+0])},k.Predictor9=function(g,x,I){return it(x[I+0],x[I+1])},k.Predictor10=function(g,x,I){return it(it(g,x[I-1]),it(x[I+0],x[I+1]))},k.Predictor11=function(g,x,I){var O=x[I+0];return 0>=Fe(O>>24&255,g>>24&255,(x=x[I-1])>>24&255)+Fe(O>>16&255,g>>16&255,x>>16&255)+Fe(O>>8&255,g>>8&255,x>>8&255)+Fe(255&O,255&g,255&x)?O:g},k.Predictor12=function(g,x,I){var O=x[I+0];return(Lt((g>>24&255)+(O>>24&255)-((x=x[I-1])>>24&255))<<24|Lt((g>>16&255)+(O>>16&255)-(x>>16&255))<<16|Lt((g>>8&255)+(O>>8&255)-(x>>8&255))<<8|Lt((255&g)+(255&O)-(255&x)))>>>0},k.Predictor13=function(g,x,I){var O=x[I-1];return(Oe((g=it(g,x[I+0]))>>24&255,O>>24&255)<<24|Oe(g>>16&255,O>>16&255)<<16|Oe(g>>8&255,O>>8&255)<<8|Oe(255&g,255&O))>>>0};var G1=k.PredictorAdd0;k.PredictorAdd1=Ke,Xe("Predictor2","PredictorAdd2"),Xe("Predictor3","PredictorAdd3"),Xe("Predictor4","PredictorAdd4"),Xe("Predictor5","PredictorAdd5"),Xe("Predictor6","PredictorAdd6"),Xe("Predictor7","PredictorAdd7"),Xe("Predictor8","PredictorAdd8"),Xe("Predictor9","PredictorAdd9"),Xe("Predictor10","PredictorAdd10"),Xe("Predictor11","PredictorAdd11"),Xe("Predictor12","PredictorAdd12"),Xe("Predictor13","PredictorAdd13");var Pg=k.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Wr,Nx=k.ColorIndexInverseTransform,oc=k.MapARGB,ac=k.VP8LColorIndexInverseTransformAlpha,K1=k.MapAlpha,Y1=k.VP8LPredictorsAdd=[];Y1.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var X1,Q1,Gd,Kd,Yd,rp,Xd,ip,Ra,lc,Mn,Zn,Gr,mi,vu,J1,Rg,Cx,gL,vL,yL,wL,bL,xL,Z1,_L,AL,EL,SL=s(511),NL=s(2041),CL=s(225),TL=s(767),kL=0,sN=NL,Tx=CL,Vo=TL,La=SL,kx=0,Ix=1,IL=2,Px=3,Rx=4,oN=5,PL=6,aN=7,lN=8,Lx=9,cN=10,TK=[2,3,7],kK=[3,3,11],RL=[280,256,256,256,40],IK=[0,1,1,1,0],PK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],RK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],LK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],DK=8,uN=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],dN=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ey=null,MK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],jK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],LL=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],OK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],FK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],BK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],UK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Qd=[],ul=[],yu=[],VK=1,DL=2,Jd=[],Da=[];Ia("UpsampleRgbLinePair",be,3),Ia("UpsampleBgrLinePair",Te,3),Ia("UpsampleRgbaLinePair",Tn,4),Ia("UpsampleBgraLinePair",an,4),Ia("UpsampleArgbLinePair",Cr,4),Ia("UpsampleRgba4444LinePair",mn,2),Ia("UpsampleRgb565LinePair",We,2);var zK=k.UpsampleRgbLinePair,$K=k.UpsampleBgrLinePair,ML=k.UpsampleRgbaLinePair,jL=k.UpsampleBgraLinePair,OL=k.UpsampleArgbLinePair,FL=k.UpsampleRgba4444LinePair,HK=k.UpsampleRgb565LinePair,Dx=16,Mx=1<<Dx-1,ty=-227,hN=482,BL=6,qK=(256<<BL)-1,UL=0,WK=s(256),GK=s(256),KK=s(256),YK=s(256),XK=s(hN-ty),QK=s(hN-ty);ir("YuvToRgbRow",be,3),ir("YuvToBgrRow",Te,3),ir("YuvToRgbaRow",Tn,4),ir("YuvToBgraRow",an,4),ir("YuvToArgbRow",Cr,4),ir("YuvToRgba4444Row",mn,2),ir("YuvToRgb565Row",We,2);var VL=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],jx=[0,2,8],JK=[8,7,6,4,4,2,2,2,1,1,1,1],ZK=1;this.WebPDecodeRGBA=function(g,x,I,O,H){var G=Ix,X=new Pe,Z=new zt;X.ba=Z,Z.S=G,Z.width=[Z.width],Z.height=[Z.height];var te=Z.width,se=Z.height,me=new mt;if(me==null||g==null)var Ne=2;else e(me!=null),Ne=cl(g,x,I,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Ne!=0?te=0:(te!=null&&(te[0]=me.width[0]),se!=null&&(se[0]=me.height[0]),te=1),te){Z.width=Z.width[0],Z.height=Z.height[0],O!=null&&(O[0]=Z.width),H!=null&&(H[0]=Z.height);e:{if(O=new tc,(H=new Ue).data=g,H.w=x,H.ha=I,H.kd=1,x=[0],e(H!=null),((g=cl(H.data,H.w,H.ha,null,null,null,x,null,H))==0||g==7)&&x[0]&&(g=4),(x=g)==0){if(e(X!=null),O.data=H.data,O.w=H.w+H.offset,O.ha=H.ha-H.offset,O.put=dt,O.ac=Wn,O.bc=bn,O.ma=X,H.xa){if((g=Jl())==null){X=1;break e}if(function(oe,ve){var xe=[0],ke=[0],Se=[0];t:for(;;){if(oe==null)return 0;if(ve==null)return oe.a=2,0;if(oe.l=ve,oe.a=0,ne(oe.m,ve.data,ve.w,ve.ha),!si(oe.m,xe,ke,Se)){oe.a=3;break t}if(oe.xb=DL,ve.width=xe[0],ve.height=ke[0],!Mo(xe[0],ke[0],1,oe,null))break t;return 1}return e(oe.a!=0),0}(g,O)){if(O=(x=Hd(O.width,O.height,X.Oa,X.ba))==0){t:{O=g;n:for(;;){if(O==null){O=0;break t}if(e(O.s.yc!=null),e(O.s.Ya!=null),e(0<O.s.Wb),e((I=O.l)!=null),e((H=I.ma)!=null),O.xb!=0){if(O.ca=H.ba,O.tb=H.tb,e(O.ca!=null),!q1(H.Oa,I,Px)){O.a=2;break n}if(!ol(O,I.width)||I.da)break n;if((I.da||Ct(O.ca.S))&&co(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&co()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!J(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!us(O,O.V,O.Ba,O.c,O.i,I.o,Ql))break n;H.Dc=O.Ma,O=1;break t}e(O.a!=0),O=0}O=!O}O&&(x=g.a)}else x=g.a}else{if((g=new Ag)==null){X=1;break e}if(g.Fa=H.na,g.P=H.P,g.qc=H.Sa,Aa(g,O)){if((x=Hd(O.width,O.height,X.Oa,X.ba))==0){if(g.Aa=0,I=X.Oa,e((H=g)!=null),I!=null){if(0<(te=0>(te=I.Md)?0:100<te?255:255*te/100)){for(se=me=0;4>se;++se)12>(Ne=H.pb[se]).lc&&(Ne.ia=te*JK[0>Ne.lc?0:Ne.lc]>>3),me|=Ne.ia;me&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=I.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}(function(oe,ve){if(oe==null)return 0;if(ve==null)return Ar(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!Aa(oe,ve))return 0;if(e(oe.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(oe.L=0);var xe=jx[oe.L];if(oe.L==2?(oe.yb=0,oe.zb=0):(oe.yb=ve.v-xe>>4,oe.zb=ve.j-xe>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=ve.o+15+xe>>4,oe.Hb=ve.va+15+xe>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var ke=oe.ed;for(xe=0;4>xe;++xe){var Se;if(oe.Qa.Cb){var Re=oe.Qa.Lb[xe];oe.Qa.Fb||(Re+=ke.Tb)}else Re=ke.Tb;for(Se=0;1>=Se;++Se){var De=oe.gd[xe][Se],$e=Re;if(ke.Pc&&($e+=ke.vd[0],Se&&($e+=ke.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var Ve=$e;0<ke.wb&&(Ve=4<ke.wb?Ve>>2:Ve>>1)>9-ke.wb&&(Ve=9-ke.wb),1>Ve&&(Ve=1),De.dd=Ve,De.tc=2*$e+Ve,De.ld=40<=$e?2:15<=$e?1:0}else De.tc=0;De.La=Se}}}xe=0}else Ar(oe,6,"Frame setup failed"),xe=oe.a;if(xe=xe==0){if(xe){oe.$c=0,0<oe.Aa||(oe.Ic=ZK);t:{xe=oe.Ic,ke=4*(Ve=oe.za);var _t=32*Ve,ht=Ve+1,Jt=0<oe.L?Ve*(0<oe.Aa?2:1):0,bt=(oe.Aa==2?2:1)*Ve;if((De=ke+832+(Se=3*(16*xe+jx[oe.L])/2*_t)+(Re=oe.Fa!=null&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=De)xe=0;else{if(De>oe.Vb){if(oe.Vb=0,oe.Ec=s(De),oe.Fc=0,oe.Ec==null){xe=Ar(oe,1,"no memory during frame initialization.");break t}oe.Vb=De}De=oe.Ec,$e=oe.Fc,oe.Ac=De,oe.Bc=$e,$e+=ke,oe.Gd=o(_t,Kf),oe.Hd=0,oe.rb=o(ht+1,jo),oe.sb=1,oe.wa=Jt?o(Jt,Ti):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=Ve),e(!0),oe.oc=De,oe.pc=$e,$e+=832,oe.ya=o(bt,Wf),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,oe.Aa==2&&(oe.D.aa+=Ve),oe.R=16*Ve,oe.B=8*Ve,Ve=(_t=jx[oe.L])*oe.R,_t=_t/2*oe.B,oe.sa=De,oe.ta=$e+Ve,oe.qa=oe.sa,oe.ra=oe.ta+16*xe*oe.R+_t,oe.Ha=oe.qa,oe.Ia=oe.ra+8*xe*oe.B+_t,oe.$c=0,$e+=Se,oe.mb=Re?De:null,oe.nb=Re?$e:null,e($e+Re<=oe.Fc+oe.Vb),Xf(oe),i(oe.Ac,oe.Bc,0,ke),xe=1}}if(xe){if(ve.ka=0,ve.y=oe.sa,ve.O=oe.ta,ve.f=oe.qa,ve.N=oe.ra,ve.ea=oe.Ha,ve.Vd=oe.Ia,ve.fa=oe.R,ve.Rc=oe.B,ve.F=null,ve.J=0,!kL){for(xe=-255;255>=xe;++xe)SL[255+xe]=0>xe?-xe:xe;for(xe=-1020;1020>=xe;++xe)NL[1020+xe]=-128>xe?-128:127<xe?127:xe;for(xe=-112;112>=xe;++xe)CL[112+xe]=-16>xe?-16:15<xe?15:xe;for(xe=-255;510>=xe;++xe)TL[255+xe]=0>xe?0:255<xe?255:xe;kL=1}Xd=Ea,ip=Sg,lc=dn,Mn=hu,Zn=nc,Ra=Fd,Gr=$d,mi=ka,vu=$,J1=ie,Rg=tp,Cx=S,gL=fe,vL=ye,yL=sc,wL=Fs,bL=ep,xL=Ig,ul[0]=$1,ul[1]=Ng,ul[2]=V1,ul[3]=z1,ul[4]=ki,ul[5]=H1,ul[6]=al,ul[7]=Ud,ul[8]=Vd,ul[9]=ll,Qd[0]=Sa,Qd[1]=U1,Qd[2]=Qf,Qd[3]=Cg,Qd[4]=rc,Qd[5]=Bd,Qd[6]=Tg,yu[0]=Jf,yu[1]=B1,yu[2]=Oo,yu[3]=pu,yu[4]=Zf,yu[5]=Gn,yu[6]=kg,xe=1}else xe=0}xe&&(xe=function(gn,gi){for(gn.M=0;gn.M<gn.Va;++gn.M){var Zt,xt=gn.Jc[gn.M&gn.Xb],Je=gn.m,Kr=gn;for(Zt=0;Zt<Kr.za;++Zt){var Xt=Je,xn=Kr,cr=xn.Ac,Gi=xn.Bc+4*Zt,Us=xn.zc,Fr=xn.ya[xn.aa+Zt];if(xn.Qa.Bb?Fr.$b=_e(Xt,xn.Pa.jb[0])?2+_e(Xt,xn.Pa.jb[2]):_e(Xt,xn.Pa.jb[1]):Fr.$b=0,xn.kc&&(Fr.Ad=_e(Xt,xn.Bd)),Fr.Za=!_e(Xt,145)+0,Fr.Za){var hs=Fr.Ob,Vs=0;for(xn=0;4>xn;++xn){var vi,En=Us[0+xn];for(vi=0;4>vi;++vi){En=FK[cr[Gi+vi]][En];for(var Bn=LL[_e(Xt,En[0])];0<Bn;)Bn=LL[2*Bn+_e(Xt,En[Bn])];En=-Bn,cr[Gi+vi]=En}r(hs,Vs,cr,Gi,4),Vs+=4,Us[0+xn]=En}}else En=_e(Xt,156)?_e(Xt,128)?1:3:_e(Xt,163)?2:0,Fr.Ob[0]=En,i(cr,Gi,En,4),i(Us,0,En,4);Fr.Dd=_e(Xt,142)?_e(Xt,114)?_e(Xt,183)?1:3:2:0}if(Kr.m.Ka)return Ar(gn,7,"Premature end-of-partition0 encountered.");for(;gn.ja<gn.za;++gn.ja){if(Kr=xt,Xt=(Je=gn).rb[Je.sb-1],cr=Je.rb[Je.sb+Je.ja],Zt=Je.ya[Je.aa+Je.ja],Gi=Je.kc?Zt.Ad:0)Xt.la=cr.la=0,Zt.Za||(Xt.Na=cr.Na=0),Zt.Hc=0,Zt.Gc=0,Zt.ia=0;else{var Br,Un;if(Xt=cr,cr=Kr,Gi=Je.Pa.Xc,Us=Je.ya[Je.aa+Je.ja],Fr=Je.pb[Us.$b],xn=Us.ad,hs=0,Vs=Je.rb[Je.sb-1],En=vi=0,i(xn,hs,0,384),Us.Za)var Ki=0,dl=Gi[3];else{Bn=s(16);var Yr=Xt.Na+Vs.Na;if(Yr=ey(cr,Gi[1],Yr,Fr.Eb,0,Bn,0),Xt.Na=Vs.Na=(0<Yr)+0,1<Yr)Xd(Bn,0,xn,hs);else{var uo=Bn[0]+3>>3;for(Bn=0;256>Bn;Bn+=16)xn[hs+Bn]=uo}Ki=1,dl=Gi[0]}var er=15&Xt.la,yi=15&Vs.la;for(Bn=0;4>Bn;++Bn){var zo=1&yi;for(uo=Un=0;4>uo;++uo)er=er>>1|(zo=(Yr=ey(cr,dl,Yr=zo+(1&er),Fr.Sc,Ki,xn,hs))>Ki)<<7,Un=Un<<2|(3<Yr?3:1<Yr?2:xn[hs+0]!=0),hs+=16;er>>=4,yi=yi>>1|zo<<7,vi=(vi<<8|Un)>>>0}for(dl=er,Ki=yi>>4,Br=0;4>Br;Br+=2){for(Un=0,er=Xt.la>>4+Br,yi=Vs.la>>4+Br,Bn=0;2>Bn;++Bn){for(zo=1&yi,uo=0;2>uo;++uo)Yr=zo+(1&er),er=er>>1|(zo=0<(Yr=ey(cr,Gi[2],Yr,Fr.Qc,0,xn,hs)))<<3,Un=Un<<2|(3<Yr?3:1<Yr?2:xn[hs+0]!=0),hs+=16;er>>=2,yi=yi>>1|zo<<5}En|=Un<<4*Br,dl|=er<<4<<Br,Ki|=(240&yi)<<Br}Xt.la=dl,Vs.la=Ki,Us.Hc=vi,Us.Gc=En,Us.ia=43690&En?0:Fr.ia,Gi=!(vi|En)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[Zt.$b][Zt.Za],Je.wa[Je.Y+Je.ja].La|=!Gi),Kr.Ka)return Ar(gn,7,"Premature end-of-file encountered.")}if(Xf(gn),Je=gi,Kr=1,Zt=(xt=gn).D,Xt=0<xt.L&&xt.M>=xt.zb&&xt.M<=xt.Va,xt.Aa==0)t:{if(Zt.M=xt.M,Zt.uc=Xt,Wi(xt,Zt),Kr=1,Zt=(Un=xt.D).Nb,Xt=(En=jx[xt.L])*xt.R,cr=En/2*xt.B,Bn=16*Zt*xt.R,uo=8*Zt*xt.B,Gi=xt.sa,Us=xt.ta-Xt+Bn,Fr=xt.qa,xn=xt.ra-cr+uo,hs=xt.Ha,Vs=xt.Ia-cr+uo,yi=(er=Un.M)==0,vi=er>=xt.Va-1,xt.Aa==2&&Wi(xt,Un),Un.uc)for(zo=(Yr=xt).D.M,e(Yr.D.uc),Un=Yr.yb;Un<Yr.Hb;++Un){Ki=Un,dl=zo;var zs=($o=(Yi=Yr).D).Nb;Br=Yi.R;var $o=$o.wa[$o.Y+Ki],Ho=Yi.sa,ho=Yi.ta+16*zs*Br+16*Ki,qo=$o.dd,sr=$o.tc;if(sr!=0)if(e(3<=sr),Yi.L==1)0<Ki&&wL(Ho,ho,Br,sr+4),$o.La&&xL(Ho,ho,Br,sr),0<dl&&yL(Ho,ho,Br,sr+4),$o.La&&bL(Ho,ho,Br,sr);else{var Wo=Yi.B,hl=Yi.qa,sp=Yi.ra+8*zs*Wo+8*Ki,wu=Yi.Ha,Yi=Yi.Ia+8*zs*Wo+8*Ki;zs=$o.ld,0<Ki&&(mi(Ho,ho,Br,sr+4,qo,zs),J1(hl,sp,wu,Yi,Wo,sr+4,qo,zs)),$o.La&&(Cx(Ho,ho,Br,sr,qo,zs),vL(hl,sp,wu,Yi,Wo,sr,qo,zs)),0<dl&&(Gr(Ho,ho,Br,sr+4,qo,zs),vu(hl,sp,wu,Yi,Wo,sr+4,qo,zs)),$o.La&&(Rg(Ho,ho,Br,sr,qo,zs),gL(hl,sp,wu,Yi,Wo,sr,qo,zs))}}if(xt.ia&&alert("todo:DitherRow"),Je.put!=null){if(Un=16*er,er=16*(er+1),yi?(Je.y=xt.sa,Je.O=xt.ta+Bn,Je.f=xt.qa,Je.N=xt.ra+uo,Je.ea=xt.Ha,Je.W=xt.Ia+uo):(Un-=En,Je.y=Gi,Je.O=Us,Je.f=Fr,Je.N=xn,Je.ea=hs,Je.W=Vs),vi||(er-=En),er>Je.o&&(er=Je.o),Je.F=null,Je.J=null,xt.Fa!=null&&0<xt.Fa.length&&Un<er&&(Je.J=Fn(xt,Je,Un,er-Un),Je.F=xt.mb,Je.F==null&&Je.F.length==0)){Kr=Ar(xt,3,"Could not decode alpha data.");break t}Un<Je.j&&(En=Je.j-Un,Un=Je.j,e(!(1&En)),Je.O+=xt.R*En,Je.N+=xt.B*(En>>1),Je.W+=xt.B*(En>>1),Je.F!=null&&(Je.J+=Je.width*En)),Un<er&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=Un-Je.j,Je.U=Je.va-Je.v,Je.T=er-Un,Kr=Je.put(Je))}Zt+1!=xt.Ic||vi||(r(xt.sa,xt.ta-Xt,Gi,Us+16*xt.R,Xt),r(xt.qa,xt.ra-cr,Fr,xn+8*xt.B,cr),r(xt.Ha,xt.Ia-cr,hs,Vs+8*xt.B,cr))}if(!Kr)return Ar(gn,6,"Output aborted.")}return 1}(oe,ve)),ve.bc!=null&&ve.bc(ve),xe&=1}return xe?(oe.cb=0,xe):0})(g,O)||(x=g.a)}}else x=g.a}x==0&&X.Oa!=null&&X.Oa.fd&&(x=W1(X.ba))}X=x}G=X!=0?null:11>G?Z.f.RGBA.eb:Z.f.kb.y}else G=null;return G};var zL=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(k,j){for(var T="",M=0;M<4;M++)T+=String.fromCharCode(k[j++]);return T}function u(k,j){return k[j+0]|k[j+1]<<8}function h(k,j){return(k[j+0]|k[j+1]<<8|k[j+2]<<16)>>>0}function p(k,j){return(k[j+0]|k[j+1]<<8|k[j+2]<<16|k[j+3]<<24)>>>0}new l;var f=[0],w=[0],y=[],_=new l,b=n,A=function(k,j){var T={},M=0,R=!1,q=0,ce=0;if(T.frames=[],!function(U,Y){for(var re=0;re<4;re++)if(U[Y+re]!="RIFF".charCodeAt(re))return!0;return!1}(k,j)){for(p(k,j+=4),j+=8;j<k.length;){var de=c(k,j),ae=p(k,j+=4);j+=4;var Q=ae+(1&ae);switch(de){case"VP8 ":case"VP8L":T.frames[M]===void 0&&(T.frames[M]={}),(pe=T.frames[M]).src_off=R?ce:j-8,pe.src_size=q+ae+8,M++,R&&(R=!1,q=0,ce=0);break;case"VP8X":(pe=T.header={}).feature_flags=k[j];var ne=j+4;pe.canvas_width=1+h(k,ne),ne+=3,pe.canvas_height=1+h(k,ne),ne+=3;break;case"ALPH":R=!0,q=Q+8,ce=j-8;break;case"ANIM":(pe=T.header).bgcolor=p(k,j),ne=j+4,pe.loop_count=u(k,ne),ne+=2;break;case"ANMF":var ge,pe;(pe=T.frames[M]={}).offset_x=2*h(k,j),j+=3,pe.offset_y=2*h(k,j),j+=3,pe.width=1+h(k,j),j+=3,pe.height=1+h(k,j),j+=3,pe.duration=h(k,j),j+=3,ge=k[j++],pe.dispose=1&ge,pe.blend=ge>>1&1}de!="ANMF"&&(j+=Q)}return T}}(b,0);A.response=b,A.rgbaoutput=!0,A.dataurl=!1;var E=A.header?A.header:null,N=A.frames?A.frames:null;if(E){E.loop_counter=E.loop_count,f=[E.canvas_height],w=[E.canvas_width];for(var F=0;F<N.length&&N[F].blend!=0;F++);}var V=N[0],L=_.WebPDecodeRGBA(b,V.src_off,V.src_size,w,f);V.rgba=L,V.imgwidth=w[0],V.imgheight=f[0];for(var C=0;C<w[0]*f[0]*4;C++)y[C]=L[C];return this.width=w,this.height=f,this.data=y,this}(function(n){var e,t,r,i,s,o,a,l,c,u=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new l,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new o,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new o,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=U;Object.defineProperty(this,"pdf",{get:function(){return Y}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(J){re=!!J}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(J){le=!!J}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(J){isNaN(J)||(he=J)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(J){isNaN(J)||(ue=J)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(J){var je;typeof J=="number"?je=[J,J,J,J]:((je=new Array(4))[0]=J[0],je[1]=J.length>=2?J[1]:je[0],je[2]=J.length>=3?J[2]:je[0],je[3]=J.length>=4?J[3]:je[1]),c.margin=je}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(J){Ae=J}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(J){we=J}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(J){_e=J}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(J){J instanceof u&&(c=J)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(J){c.path=J}});var Me=[];Object.defineProperty(this,"ctxStack",{get:function(){return Me},set:function(J){Me=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var je;je=p(J),this.ctx.fillStyle=je.style,this.ctx.isFillTransparent=je.a===0,this.ctx.fillOpacity=je.a,this.pdf.setFillColor(je.r,je.g,je.b,{a:je.a}),this.pdf.setTextColor(je.r,je.g,je.b,{a:je.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var je=p(J);this.ctx.strokeStyle=je.style,this.ctx.isStrokeTransparent=je.a===0,this.ctx.strokeOpacity=je.a,je.a===0?this.pdf.setDrawColor(255,255,255):(je.a,this.pdf.setDrawColor(je.r,je.g,je.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var Ee=null,Ce=null,Le=null;Object.defineProperty(this,"fontFaces",{get:function(){return Le},set:function(J){Ee=null,Ce=null,Le=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var je;if(this.ctx.font=J,(je=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var Qe=je[1];je[2];var Ge=je[3],Ie=je[4];je[5];var lt=je[6],Xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(Xe==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:Xe==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var pt=function(wt){var Ln,nn,Ft=[],Vt=wt.trim();if(Vt==="")return XC;if(Vt in lF)return[lF[Vt]];for(;Vt!=="";){switch(nn=null,Ln=(Vt=uF(Vt)).charAt(0)){case'"':case"'":nn=R1e(Vt.substring(1),Ln);break;default:nn=L1e(Vt)}if(nn===null||(Ft.push(nn[0]),(Vt=uF(nn[1]))!==""&&Vt.charAt(0)!==","))return XC;Vt=Vt.replace(/^,/,"")}return Ft}(lt);if(this.fontFaces){var it=function(wt,Ln){var nn=wt.getFontList(),Ft=JSON.stringify(nn);if(Ee===null||Ce!==Ft){var Vt=function(An){var Et=[];return Object.keys(An).forEach(function(Nn){An[Nn].forEach(function(Ct){var Bt=null;switch(Ct){case"bold":Bt={family:Nn,weight:"bold"};break;case"italic":Bt={family:Nn,style:"italic"};break;case"bolditalic":Bt={family:Nn,weight:"bold",style:"italic"};break;case"":case"normal":Bt={family:Nn}}Bt!==null&&(Bt.ref={name:Nn,style:Ct},Et.push(Bt))})}),Et}(nn);Ee=function(An){for(var Et={},Nn=0;Nn<An.length;++Nn){var Ct=YC(An[Nn]),Bt=Ct.family,Cn=Ct.stretch,zt=Ct.style,mt=Ct.weight;Et[Bt]=Et[Bt]||{},Et[Bt][Cn]=Et[Bt][Cn]||{},Et[Bt][Cn][zt]=Et[Bt][Cn][zt]||{},Et[Bt][Cn][zt][mt]=Ct}return Et}(Vt.concat(Ln)),Ce=Ft}return Ee}(this.pdf,this.fontFaces),Lt=pt.map(function(wt){return{family:wt,stretch:"normal",weight:Ge,style:Qe}}),Oe=function(wt,Ln,nn){for(var Ft=(nn=nn||{}).defaultFontFamily||"times",Vt=Object.assign({},P1e,nn.genericFontFamilies||{}),An=null,Et=null,Nn=0;Nn<Ln.length;++Nn)if(Vt[(An=YC(Ln[Nn])).family]&&(An.family=Vt[An.family]),wt.hasOwnProperty(An.family)){Et=wt[An.family];break}if(!(Et=Et||wt[Ft]))throw new Error("Could not find a font-family for the rule '"+cF(An)+"' and default family '"+Ft+"'.");if(Et=function(Ct,Bt){if(Bt[Ct])return Bt[Ct];var Cn=EI[Ct],zt=Cn<=EI.normal?-1:1,mt=aF(Bt,Fq,Cn,zt);if(!mt)throw new Error("Could not find a matching font-stretch value for "+Ct);return mt}(An.stretch,Et),Et=function(Ct,Bt){if(Bt[Ct])return Bt[Ct];for(var Cn=Oq[Ct],zt=0;zt<Cn.length;++zt)if(Bt[Cn[zt]])return Bt[Cn[zt]];throw new Error("Could not find a matching font-style for "+Ct)}(An.style,Et),!(Et=function(Ct,Bt){if(Bt[Ct])return Bt[Ct];if(Ct===400&&Bt[500])return Bt[500];if(Ct===500&&Bt[400])return Bt[400];var Cn=I1e[Ct],zt=aF(Bt,Bq,Cn,Ct<400?-1:1);if(!zt)throw new Error("Could not find a matching font-weight for value "+Ct);return zt}(An.weight,Et)))throw new Error("Failed to resolve a font for the rule '"+cF(An)+"'.");return Et}(it,Lt);this.pdf.setFont(Oe.ref.name,Oe.ref.style)}else{var Fe="";(Ge==="bold"||parseInt(Ge,10)>=700||Qe==="bold")&&(Fe="bold"),Qe==="italic"&&(Fe+="italic"),Fe.length===0&&(Fe="normal");for(var Ke="",Nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},nt=0;nt<pt.length;nt++){if(this.pdf.internal.getFont(pt[nt],Fe,{noFallback:!0,disableWarning:!0})!==void 0){Ke=pt[nt];break}if(Fe==="bolditalic"&&this.pdf.internal.getFont(pt[nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ke=pt[nt],Fe="bold";else if(this.pdf.internal.getFont(pt[nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ke=pt[nt],Fe="normal";break}}if(Ke===""){for(var kt=0;kt<pt.length;kt++)if(Nt[pt[kt]]){Ke=Nt[pt[kt]];break}}Ke=Ke===""?"Times":Ke,this.pdf.setFont(Ke,Fe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};h.prototype.setLineDash=function(U){this.lineDash=U},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){N.call(this,"fill",!1)},h.prototype.stroke=function(){N.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(U,Y){if(isNaN(U)||isNaN(Y))throw tr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new o(U,Y));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new o(U,Y)},h.prototype.closePath=function(){var U=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&On(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){U=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(U.x,U.y)},h.prototype.lineTo=function(U,Y){if(isNaN(U)||isNaN(Y))throw tr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new o(U,Y));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},h.prototype.quadraticCurveTo=function(U,Y,re,le){if(isNaN(re)||isNaN(le)||isNaN(U)||isNaN(Y))throw tr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new o(re,le)),ue=this.ctx.transform.applyToPoint(new o(U,Y));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},h.prototype.bezierCurveTo=function(U,Y,re,le,he,ue){if(isNaN(he)||isNaN(ue)||isNaN(U)||isNaN(Y)||isNaN(re)||isNaN(le))throw tr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new o(he,ue)),we=this.ctx.transform.applyToPoint(new o(U,Y)),_e=this.ctx.transform.applyToPoint(new o(re,le));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:_e.x,y2:_e.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new o(Ae.x,Ae.y)},h.prototype.arc=function(U,Y,re,le,he,ue){if(isNaN(U)||isNaN(Y)||isNaN(re)||isNaN(le)||isNaN(he))throw tr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new o(U,Y));U=Ae.x,Y=Ae.y;var we=this.ctx.transform.applyToPoint(new o(0,re)),_e=this.ctx.transform.applyToPoint(new o(0,0));re=Math.sqrt(Math.pow(we.x-_e.x,2)+Math.pow(we.y-_e.y,2))}Math.abs(he-le)>=2*Math.PI&&(le=0,he=2*Math.PI),this.path.push({type:"arc",x:U,y:Y,radius:re,startAngle:le,endAngle:he,counterclockwise:ue})},h.prototype.arcTo=function(U,Y,re,le,he){throw new Error("arcTo not implemented.")},h.prototype.rect=function(U,Y,re,le){if(isNaN(U)||isNaN(Y)||isNaN(re)||isNaN(le))throw tr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,Y),this.lineTo(U+re,Y),this.lineTo(U+re,Y+le),this.lineTo(U,Y+le),this.lineTo(U,Y),this.lineTo(U+re,Y),this.lineTo(U,Y)},h.prototype.fillRect=function(U,Y,re,le){if(isNaN(U)||isNaN(Y)||isNaN(re)||isNaN(le))throw tr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,Y,re,le),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},h.prototype.strokeRect=function(U,Y,re,le){if(isNaN(U)||isNaN(Y)||isNaN(re)||isNaN(le))throw tr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(U,Y,re,le),this.stroke())},h.prototype.clearRect=function(U,Y,re,le){if(isNaN(U)||isNaN(Y)||isNaN(re)||isNaN(le))throw tr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,Y,re,le))},h.prototype.save=function(U){U=typeof U!="boolean"||U;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},h.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(U){var Y,re,le,he;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))Y=0,re=0,le=0,he=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(ue!==null)Y=parseInt(ue[1]),re=parseInt(ue[2]),le=parseInt(ue[3]),he=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)Y=parseInt(ue[1]),re=parseInt(ue[2]),le=parseInt(ue[3]),he=parseFloat(ue[4]);else{if(he=1,typeof U=="string"&&U.charAt(0)!=="#"){var Ae=new Iq(U);U=Ae.ok?Ae.toHex():"#000000"}U.length===4?(Y=U.substring(1,2),Y+=Y,re=U.substring(2,3),re+=re,le=U.substring(3,4),le+=le):(Y=U.substring(1,3),re=U.substring(3,5),le=U.substring(5,7)),Y=parseInt(Y,16),re=parseInt(re,16),le=parseInt(le,16)}}return{r:Y,g:re,b:le,a:he,style:U}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(U,Y,re,le){if(isNaN(Y)||isNaN(re)||typeof U!="string")throw tr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!f.call(this)){var he=Q(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;M.call(this,{text:U,x:Y,y:re,scale:ue,angle:he,align:this.textAlign,maxWidth:le})}},h.prototype.strokeText=function(U,Y,re,le){if(isNaN(Y)||isNaN(re)||typeof U!="string")throw tr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){le=isNaN(le)?void 0:le;var he=Q(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;M.call(this,{text:U,x:Y,y:re,scale:ue,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:le})}},h.prototype.measureText=function(U){if(typeof U!="string")throw tr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,re=this.pdf.internal.scaleFactor,le=Y.internal.getFontSize(),he=Y.getStringUnitWidth(U)*le/Y.internal.scaleFactor;return new function(ue){var Ae=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ae}}),this}({width:he*=Math.round(96*re/72*1e4)/1e4})},h.prototype.scale=function(U,Y){if(isNaN(U)||isNaN(Y))throw tr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new l(U,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},h.prototype.rotate=function(U){if(isNaN(U))throw tr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.translate=function(U,Y){if(isNaN(U)||isNaN(Y))throw tr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new l(1,0,0,1,U,Y);this.ctx.transform=this.ctx.transform.multiply(re)},h.prototype.transform=function(U,Y,re,le,he,ue){if(isNaN(U)||isNaN(Y)||isNaN(re)||isNaN(le)||isNaN(he)||isNaN(ue))throw tr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new l(U,Y,re,le,he,ue);this.ctx.transform=this.ctx.transform.multiply(Ae)},h.prototype.setTransform=function(U,Y,re,le,he,ue){U=isNaN(U)?1:U,Y=isNaN(Y)?0:Y,re=isNaN(re)?0:re,le=isNaN(le)?1:le,he=isNaN(he)?0:he,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(U,Y,re,le,he,ue)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(U,Y,re,le,he,ue,Ae,we,_e){var Me=this.pdf.getImageProperties(U),Ee=1,Ce=1,Le=1,J=1;le!==void 0&&we!==void 0&&(Le=we/le,J=_e/he,Ee=Me.width/le*we/le,Ce=Me.height/he*_e/he),ue===void 0&&(ue=Y,Ae=re,Y=0,re=0),le!==void 0&&we===void 0&&(we=le,_e=he),le===void 0&&we===void 0&&(we=Me.width,_e=Me.height);var je=this.ctx.transform.decompose(),Qe=Q(je.rotate.shx),Ge=new l,Ie=(Ge=(Ge=(Ge=Ge.multiply(je.translate)).multiply(je.skew)).multiply(je.scale)).applyToRectangle(new a(ue-Y*Le,Ae-re*J,le*Ee,he*Ce));if(this.autoPaging){for(var lt,Xe=_.call(this,Ie),pt=[],it=0;it<Xe.length;it+=1)pt.indexOf(Xe[it])===-1&&pt.push(Xe[it]);E(pt);for(var Lt=pt[0],Oe=pt[pt.length-1],Fe=Lt;Fe<Oe+1;Fe++){this.pdf.setPage(Fe);var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=Fe===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=Fe===1?0:nt+(Fe-2)*kt;if(this.ctx.clip_path.length!==0){var Ln=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(lt,this.posX+this.margin[3],-wt+Nt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Ln}var nn=JSON.parse(JSON.stringify(Ie));nn=A([nn],this.posX+this.margin[3],-wt+Nt+this.ctx.prevPageLastElemOffset)[0];var Ft=(Fe>Lt||Fe<Oe)&&y.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,kt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,Qe),Ft&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(U,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,Qe)};var _=function(U,Y,re){var le=[];Y=Y||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":le.push(Math.floor((U.y+he)/re)+1);break;case"arc":le.push(Math.floor((U.y+he-U.radius)/re)+1),le.push(Math.floor((U.y+he+U.radius)/re)+1);break;case"qct":var ue=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);le.push(Math.floor((ue.y+he)/re)+1),le.push(Math.floor((ue.y+ue.h+he)/re)+1);break;case"bct":var Ae=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);le.push(Math.floor((Ae.y+he)/re)+1),le.push(Math.floor((Ae.y+Ae.h+he)/re)+1);break;case"rect":le.push(Math.floor((U.y+he)/re)+1),le.push(Math.floor((U.y+U.h+he)/re)+1)}for(var we=0;we<le.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<le[we];)b.call(this);return le},b=function(){var U=this.fillStyle,Y=this.strokeStyle,re=this.font,le=this.lineCap,he=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=Y,this.font=re,this.lineCap=le,this.lineWidth=he,this.lineJoin=ue},A=function(U,Y,re){for(var le=0;le<U.length;le++)switch(U[le].type){case"bct":U[le].x2+=Y,U[le].y2+=re;case"qct":U[le].x1+=Y,U[le].y1+=re;default:U[le].x+=Y,U[le].y+=re}return U},E=function(U){return U.sort(function(Y,re){return Y-re})},N=function(U,Y){var re=this.fillStyle,le=this.strokeStyle,he=this.lineCap,ue=this.lineWidth,Ae=Math.abs(ue*this.ctx.transform.scaleX),we=this.lineJoin;if(this.autoPaging){for(var _e,Me,Ee=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),Le=[],J=0;J<Ce.length;J++)if(Ce[J].x!==void 0)for(var je=_.call(this,Ce[J]),Qe=0;Qe<je.length;Qe+=1)Le.indexOf(je[Qe])===-1&&Le.push(je[Qe]);for(var Ge=0;Ge<Le.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<Le[Ge];)b.call(this);E(Le);for(var Ie=Le[0],lt=Le[Le.length-1],Xe=Ie;Xe<lt+1;Xe++){this.pdf.setPage(Xe),this.fillStyle=re,this.strokeStyle=le,this.lineCap=he,this.lineWidth=Ae,this.lineJoin=we;var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=Xe===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=Xe===1?0:Lt+(Xe-2)*Oe;if(this.ctx.clip_path.length!==0){var Ke=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(_e,this.posX+this.margin[3],-Fe+it+this.ctx.prevPageLastElemOffset),F.call(this,U,!0),this.path=Ke}if(Me=JSON.parse(JSON.stringify(Ee)),this.path=A(Me,this.posX+this.margin[3],-Fe+it+this.ctx.prevPageLastElemOffset),Y===!1||Xe===0){var Nt=(Xe>Ie||Xe<lt)&&y.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Oe,null).clip().discardPath()),F.call(this,U,Y),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}this.path=Ee}else this.lineWidth=Ae,F.call(this,U,Y),this.lineWidth=ue},F=function(U,Y){if((U!=="stroke"||Y||!w.call(this))&&(U==="stroke"||Y||!f.call(this))){for(var re,le,he=[],ue=this.path,Ae=0;Ae<ue.length;Ae++){var we=ue[Ae];switch(we.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:we,deltas:[],abs:[]});break;case"lt":var _e=he.length;if(ue[Ae-1]&&!isNaN(ue[Ae-1].x)&&(re=[we.x-ue[Ae-1].x,we.y-ue[Ae-1].y],_e>0)){for(;_e>=0;_e--)if(he[_e-1].close!==!0&&he[_e-1].begin!==!0){he[_e-1].deltas.push(re),he[_e-1].abs.push(we);break}}break;case"bct":re=[we.x1-ue[Ae-1].x,we.y1-ue[Ae-1].y,we.x2-ue[Ae-1].x,we.y2-ue[Ae-1].y,we.x-ue[Ae-1].x,we.y-ue[Ae-1].y],he[he.length-1].deltas.push(re);break;case"qct":var Me=ue[Ae-1].x+2/3*(we.x1-ue[Ae-1].x),Ee=ue[Ae-1].y+2/3*(we.y1-ue[Ae-1].y),Ce=we.x+2/3*(we.x1-we.x),Le=we.y+2/3*(we.y1-we.y),J=we.x,je=we.y;re=[Me-ue[Ae-1].x,Ee-ue[Ae-1].y,Ce-ue[Ae-1].x,Le-ue[Ae-1].y,J-ue[Ae-1].x,je-ue[Ae-1].y],he[he.length-1].deltas.push(re);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(we)}}le=Y?null:U==="stroke"?"stroke":"fill";for(var Qe=!1,Ge=0;Ge<he.length;Ge++)if(he[Ge].arc)for(var Ie=he[Ge].abs,lt=0;lt<Ie.length;lt++){var Xe=Ie[lt];Xe.type==="arc"?C.call(this,Xe.x,Xe.y,Xe.radius,Xe.startAngle,Xe.endAngle,Xe.counterclockwise,void 0,Y,!Qe):R.call(this,Xe.x,Xe.y),Qe=!0}else if(he[Ge].close===!0)this.pdf.internal.out("h"),Qe=!1;else if(he[Ge].begin!==!0){var pt=he[Ge].start.x,it=he[Ge].start.y;q.call(this,he[Ge].deltas,pt,it),Qe=!0}le&&k.call(this,le),Y&&j.call(this)}},V=function(U){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-re;case"top":return U+Y-re;case"hanging":return U+Y-2*re;case"middle":return U+Y/2-re;default:return U}},L=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(Y,re){this.colorStops.push([Y,re])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(U,Y,re,le,he,ue,Ae,we,_e){for(var Me=de.call(this,re,le,he,ue),Ee=0;Ee<Me.length;Ee++){var Ce=Me[Ee];Ee===0&&(_e?T.call(this,Ce.x1+U,Ce.y1+Y):R.call(this,Ce.x1+U,Ce.y1+Y)),ce.call(this,U,Y,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}we?j.call(this):k.call(this,Ae)},k=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(U,Y){this.pdf.internal.out(t(U)+" "+r(Y)+" m")},M=function(U){var Y;switch(U.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var re,le,he,ue=this.pdf.getTextDimensions(U.text),Ae=V.call(this,U.y),we=L.call(this,Ae)-ue.h,_e=this.ctx.transform.applyToPoint(new o(U.x,Ae));if(this.autoPaging){var Me=this.ctx.transform.decompose(),Ee=new l;Ee=(Ee=(Ee=Ee.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale);for(var Ce=this.ctx.transform.applyToRectangle(new a(U.x,Ae,ue.w,ue.h)),Le=Ee.applyToRectangle(new a(U.x,we,ue.w,ue.h)),J=_.call(this,Le),je=[],Qe=0;Qe<J.length;Qe+=1)je.indexOf(J[Qe])===-1&&je.push(J[Qe]);E(je);for(var Ge=je[0],Ie=je[je.length-1],lt=Ge;lt<Ie+1;lt++){this.pdf.setPage(lt);var Xe=lt===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[2],Lt=it-this.margin[0],Oe=this.pdf.internal.pageSize.width-this.margin[1],Fe=Oe-this.margin[3],Ke=lt===1?0:pt+(lt-2)*Lt;if(this.ctx.clip_path.length!==0){var Nt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(re,this.posX+this.margin[3],-1*Ke+Xe),F.call(this,"fill",!0),this.path=Nt}var nt=A([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-Ke+Xe+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*U.scale),he=this.lineWidth,this.lineWidth=he*U.scale);var kt=this.autoPaging!=="text";if(kt||nt.y+nt.h<=it){if(kt||nt.y>=Xe&&nt.x<=Oe){var wt=kt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||Oe-nt.x)[0],Ln=A([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-Ke+Xe+this.ctx.prevPageLastElemOffset)[0],nn=kt&&(lt>Ge||lt<Ie)&&y.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,Lt,null).clip().discardPath()),this.pdf.text(wt,Ln.x,Ln.y,{angle:U.angle,align:Y,renderingMode:U.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else nt.y<it&&(this.ctx.prevPageLastElemOffset+=it-nt.y);U.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=he)}}else U.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*U.scale),he=this.lineWidth,this.lineWidth=he*U.scale),this.pdf.text(U.text,_e.x+this.posX,_e.y+this.posY,{angle:U.angle,align:Y,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=he)},R=function(U,Y,re,le){re=re||0,le=le||0,this.pdf.internal.out(t(U+re)+" "+r(Y+le)+" l")},q=function(U,Y,re){return this.pdf.lines(U,Y,re,null,null)},ce=function(U,Y,re,le,he,ue,Ae,we){this.pdf.internal.out([e(i(re+U)),e(s(le+Y)),e(i(he+U)),e(s(ue+Y)),e(i(Ae+U)),e(s(we+Y)),"c"].join(" "))},de=function(U,Y,re,le){for(var he=2*Math.PI,ue=Math.PI/2;Y>re;)Y-=he;var Ae=Math.abs(re-Y);Ae<he&&le&&(Ae=he-Ae);for(var we=[],_e=le?-1:1,Me=Y;Ae>1e-5;){var Ee=Me+_e*Math.min(Ae,ue);we.push(ae.call(this,U,Me,Ee)),Ae-=Math.abs(Ee-Me),Me=Ee}return we},ae=function(U,Y,re){var le=(re-Y)/2,he=U*Math.cos(le),ue=U*Math.sin(le),Ae=he,we=-ue,_e=Ae*Ae+we*we,Me=_e+Ae*he+we*ue,Ee=4/3*(Math.sqrt(2*_e*Me)-Me)/(Ae*ue-we*he),Ce=Ae-Ee*we,Le=we+Ee*Ae,J=Ce,je=-Le,Qe=le+Y,Ge=Math.cos(Qe),Ie=Math.sin(Qe);return{x1:U*Math.cos(Y),y1:U*Math.sin(Y),x2:Ce*Ge-Le*Ie,y2:Ce*Ie+Le*Ge,x3:J*Ge-je*Ie,y3:J*Ie+je*Ge,x4:U*Math.cos(re),y4:U*Math.sin(re)}},Q=function(U){return 180*U/Math.PI},ne=function(U,Y,re,le,he,ue){var Ae=U+.5*(re-U),we=Y+.5*(le-Y),_e=he+.5*(re-he),Me=ue+.5*(le-ue),Ee=Math.min(U,he,Ae,_e),Ce=Math.max(U,he,Ae,_e),Le=Math.min(Y,ue,we,Me),J=Math.max(Y,ue,we,Me);return new a(Ee,Le,Ce-Ee,J-Le)},ge=function(U,Y,re,le,he,ue,Ae,we){var _e,Me,Ee,Ce,Le,J,je,Qe,Ge,Ie,lt,Xe,pt,it,Lt=re-U,Oe=le-Y,Fe=he-re,Ke=ue-le,Nt=Ae-he,nt=we-ue;for(Me=0;Me<41;Me++)Ge=(je=(Ee=U+(_e=Me/40)*Lt)+_e*((Le=re+_e*Fe)-Ee))+_e*(Le+_e*(he+_e*Nt-Le)-je),Ie=(Qe=(Ce=Y+_e*Oe)+_e*((J=le+_e*Ke)-Ce))+_e*(J+_e*(ue+_e*nt-J)-Qe),Me==0?(lt=Ge,Xe=Ie,pt=Ge,it=Ie):(lt=Math.min(lt,Ge),Xe=Math.min(Xe,Ie),pt=Math.max(pt,Ge),it=Math.max(it,Ie));return new a(Math.round(lt),Math.round(Xe),Math.round(pt-lt),Math.round(it-Xe))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,Y,re=(U=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:Y}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(St.API),function(n){var e=function(o){var a,l,c,u,h,p,f,w,y,_;for(l=[],c=0,u=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;u>c;c+=4)(h=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(p=(h=((h=((h=((h=(h-(_=h%85))/85)-(y=h%85))/85)-(w=h%85))/85)-(f=h%85))/85)%85,l.push(p+33,f+33,w+33,y+33,_+33)):l.push(122);return function(b,A){for(var E=A;E>0;E--)b.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},t=function(o){var a,l,c,u,h,p=String,f="length",w=255,y="charCodeAt",_="slice",b="replace";for(o[_](-2),o=o[_](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),c=[],u=0,h=(o+=a="uuuuu"[_](o[f]%5||5))[f];h>u;u+=5)l=52200625*(o[y](u)-33)+614125*(o[y](u+1)-33)+7225*(o[y](u+2)-33)+85*(o[y](u+3)-33)+(o[y](u+4)-33),c.push(w&l>>24,w&l>>16,w&l>>8,w&l);return function(A,E){for(var N=E;N>0;N--)A.pop()}(c,a[f]),p.fromCharCode.apply(p,c)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=dI(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};n.processDataByFilters=function(o,a){var l=0,c=o||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(St.API),function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var h=new XMLHttpRequest,p=0,f=function(w){var y=w.length,_=[],b=String.fromCharCode;for(p=0;p<y;p+=1)_.push(b(255&w.charCodeAt(p)));return _.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(St.API),function(n){function e(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):zc(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):zc(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=On(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(a(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var w=u[f],y=w.src.find(function(_){return _.format==="truetype"});y&&c.addFont(y.url,w.ref.name,w.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||St.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,h).then(function(p){return c.updateProgress(1),p})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),p=c.call(h,a,l);return o.convert(p,u.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,St.getPageSize=function(a,l,c){if(On(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var h,p=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var w,y=0,_=0;if(f.hasOwnProperty(p))y=f[p][1]/h,_=f[p][0]/h;else try{y=c[1],_=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",_>y&&(w=_,_=y,y=w);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",y>_&&(w=_,_=y,y=w)}return{width:_,height:y,unit:l,k:h,orientation:a}},n.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(YC):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(St.API),St.API.addJS=function(n){return hF=n,this.internal.events.subscribe("postPutResources",function(){R_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(R_+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dF=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hF+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){R_!==void 0&&dF!==void 0&&this.internal.out("/Names <</JavaScript "+R_+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=t.internal.newObject();u.push(h);var p=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(St.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,l=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),w=h.length,y={width:0,height:0,numcomponents:1},_=4;_<w;_+=2){if(_+=f,e.indexOf(h.charCodeAt(_+1))!==-1){p=256*h.charCodeAt(_+5)+h.charCodeAt(_+6),y={width:256*h.charCodeAt(_+7)+h.charCodeAt(_+8),height:p,numcomponents:h.charCodeAt(_+9)};break}f=256*h.charCodeAt(_+2)+h.charCodeAt(_+3)}return y}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(St.API),St.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=g1e(n,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?function(C){for(var k=C.width,j=C.height,T=C.data,M=C.palette,R=C.depth,q=!1,ce=[],de=[],ae=void 0,Q=!1,ne=0,ge=0;ge<M.length;ge++){var pe=oO(M[ge],4),U=pe[0],Y=pe[1],re=pe[2],le=pe[3];ce.push(U,Y,re),le!=null&&(le===0?(ne++,de.length<1&&de.push(ge)):le<255&&(Q=!0))}if(Q||ne>1){q=!0,de=void 0;var he=k*j;ae=new Uint8Array(he);for(var ue=new DataView(T.buffer),Ae=0;Ae<he;Ae++){var we=QC(ue,Ae,R),_e=oO(M[we],4)[3];ae[Ae]=_e}}else ne===0&&(de=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:T,alphaBytes:ae,needSMask:q,palette:ce,mask:de}}(s):l===2||l===4?function(C){for(var k=C.data,j=C.width,T=C.height,M=C.channels,R=C.depth,q=M===2?"DeviceGray":"DeviceRGB",ce=M-1,de=j*T,ae=ce,Q=de*ae,ne=1*de,ge=Math.ceil(Q*R/8),pe=Math.ceil(ne*R/8),U=new Uint8Array(ge),Y=new Uint8Array(pe),re=new DataView(k.buffer),le=new DataView(U.buffer),he=new DataView(Y.buffer),ue=!1,Ae=0;Ae<de;Ae++){for(var we=Ae*M,_e=0;_e<ae;_e++)xF(le,QC(re,we+_e,R),Ae*ae+_e,R);var Me=QC(re,we+ae,R);Me<(1<<R)-1&&(ue=!0),xF(he,Me,1*Ae,R)}return{colorSpace:q,colorsPerPixel:ce,sMaskBitsPerComponent:ue?R:void 0,colorBytes:U,alphaBytes:Y,needSMask:ue}}(s):function(C){var k=C.data,j=C.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:j,colorsPerPixel:j==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?function(T){for(var M=T.length,R=new Uint8Array(2*M),q=new DataView(R.buffer,R.byteOffset,R.byteLength),ce=0;ce<M;ce++)q.setUint16(2*ce,T[ce],!1);return R}(k):k,needSMask:!1}}(s);var h,p,f,w=i,y=w.colorSpace,_=w.colorsPerPixel,b=w.sMaskBitsPerComponent,A=w.colorBytes,E=w.alphaBytes,N=w.needSMask,F=w.palette,V=w.mask,L=null;return r!==St.API.image_compression.NONE&&typeof dI=="function"?(L=function(C){var k;switch(C){case St.API.image_compression.FAST:k=11;break;case St.API.image_compression.MEDIUM:k=13;break;case St.API.image_compression.SLOW:k=14;break;default:k=12}return k}(r),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(L," /Colors ").concat(_," /BitsPerComponent ").concat(u," /Columns ").concat(o),n=gF(A,Math.ceil(o*_*u/8),_,u,r),N&&(f=gF(E,Math.ceil(o*b/8),1,b,r))):(h=void 0,p=void 0,n=A,N&&(f=E)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:t,data:n,index:e,filter:h,decodeParameters:p,transparency:V,palette:F,sMask:f,predictor:L,width:o,height:a,bitsPerComponent:u,sMaskBitsPerComponent:b,colorSpace:y}}},function(n){n.processGIF89A=function(e,t,r,i){var s=new O1e(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new JC(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A}(St.API),ml.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ml.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){tr.log("bit decode error:"+t)}},ml.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},ml.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ml.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},ml.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},ml.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},ml.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ml.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},ml.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new ml(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new JC(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(St.API),AF.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new AF(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new JC(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(St.API),St.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],h=r[c+1],p=r[c+2],f=r[c+3];s[a++]=u,s[a++]=h,s[a++]=p,o[l++]=f}var w=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},St.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vg=St.API,L_=Vg.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,p=0,f=n.length,w=0,y=a[0]||l,_=[];for(t=0;t<f;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(p=h&&On(c[r])==="object"&&!isNaN(parseInt(c[r][w],10))?c[r][w]/u:0,_.push((a[r]||y)/l+p)),w=r;return _},fF=Vg.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Vg.processArabic&&(n=Vg.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:L_.apply(this,arguments).reduce(function(s,o){return s+o},0)},pF=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},mF=function(n,e,t){t||(t={});var r,i,s,o,a,l,c,u=[],h=[u],p=t.textIndent||0,f=0,w=0,y=n.split(" "),_=L_.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var b=Array(l).join(" "),A=[];y.map(function(N){(N=N.split(/\s*\n/)).length>1?A=A.concat(N.map(function(F,V){return(V&&F.length?`
`:"")+F})):A.push(N[0])}),y=A,l=fF.apply(this,[b,t])}for(s=0,o=y.length;s<o;s++){var E=0;if(r=y[s],l&&r[0]==`
`&&(r=r.substr(1),E=1),p+f+(w=(i=L_.apply(this,[r,t])).reduce(function(N,F){return N+F},0))>e||E){if(w>e){for(a=pF.apply(this,[r,i,e-(p+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);w=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(N,F){return N+F},0)}else u=[r];h.push(u),p=w+l,f=_}else u.push(r),p+=f+w,f=_}return c=l?function(N,F){return(F?b:"")+N.join(" ")}:function(N){return N.join(" ")},h.map(c)},Vg.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(mF.apply(this,[r[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]=e[s],i[e[s]]=t[s];var o=function(p){return"0x"+parseInt(p,10).toString(16)},a=n.__fontmetrics__.compress=function(p){var f,w,y,_,b=["{"];for(var A in p){if(f=p[A],isNaN(parseInt(A,10))?w="'"+A+"'":(A=parseInt(A,10),w=(w=o(A).slice(2)).slice(0,-1)+i[w.slice(-1)]),typeof f=="number")f<0?(y=o(f).slice(3),_="-"):(y=o(f).slice(2),_=""),y=_+y.slice(0,-1)+i[y.slice(-1)];else{if(On(f)!=="object")throw new Error("Don't know what to do with value type "+On(f)+".");y=a(f)}b.push(w+y)}return b.push("}"),b.join("")},l=n.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,w,y,_,b={},A=1,E=b,N=[],F="",V="",L=p.length-1,C=1;C<L;C+=1)(_=p[C])=="'"?f?(y=f.join(""),f=void 0):f=[]:f?f.push(_):_=="{"?(N.push([E,y]),E={},y=void 0):_=="}"?((w=N.pop())[0][w[1]]=E,y=void 0,E=w[0]):_=="-"?A=-1:y===void 0?r.hasOwnProperty(_)?(F+=r[_],y=parseInt(F,16)*A,A=1,F=""):F+=_:r.hasOwnProperty(_)?(V+=r[_],E[y]=parseInt(V,16)*A,A=1,y=void 0,V=""):V+=_;return b},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(p){var f=p.font,w=h.Unicode[f.postScriptName];w&&(f.metadata.Unicode={},f.metadata.Unicode.widths=w.widths,f.metadata.Unicode.kerning=w.kerning);var y=u.Unicode[f.postScriptName];y&&(f.metadata.Unicode.encoding=y,f.encoding=y.codePages[0])}])}(St.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(x5(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(St),St.API.addSvgAsImage=function(n,e,t,r,i,s,o,a){if(isNaN(e)||isNaN(t))throw tr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw tr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Ut.canvg?Promise.resolve(Ut.canvg):zc(()=>import("./index.es-BAfYsBgS.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,n,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,t,r,i,o,a)})},St.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},St.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function p(w,y){var _,b=!1;for(_=0;_<w.length;_+=1)w[_]===y&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var f=a.length;for(h=0;h<f;h+=1)t[a[h]].value=t[a[h]].defaultValue,t[a[h]].explicitSet=!1}if(On(n)==="object"){for(i in n)if(s=n[i],p(a,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&p(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,y=[];for(w in t)t[w].explicitSet===!0&&(t[w].type==="name"?y.push("/"+w+" /"+t[w].value):y.push("/"+w+" "+t[w].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(St.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,p=s.length;h<p;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,h,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(a=Object.keys(s).sort(function(f,w){return f-w})).length;h<p;h++)o=a[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",w=0;w<p.length;w++)f+=String.fromCharCode(p[w]);var y=c();u({data:f,addLength1:!0,objectId:y}),l("endobj");var _=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var b=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Wg(a.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var A=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Wg(a.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+n.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+Wg(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+A+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var w=c();u({data:p,addLength1:!0,objectId:w}),l("endobj");var y=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var _=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Wg(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var b=0;b<a.metadata.hmtx.widths.length;b++)a.metadata.hmtx.widths[b]=parseInt(a.metadata.hmtx.widths[b]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Wg(a.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},p=h.pdfEscape,f=h.activeFontKey,w=h.fonts,y=f,_="",b=0,A="",E=w[y].encoding;if(w[y].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:h};for(A=a,y=f,Array.isArray(a)&&(A=a[0]),b=0;b<A.length;b+=1)w[y].metadata.hasOwnProperty("cmap")&&(o=w[y].metadata.cmap.unicode.codeMap[A[b].charCodeAt(0)]),o||A[b].charCodeAt(0)<256&&w[y].metadata.hasOwnProperty("Unicode")?_+=A[b]:_+="";var N="";return parseInt(y.slice(1))<14||E==="WinAnsiEncoding"?N=p(_,y).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(N=t(_,w[y])),h.isHex=!0,{text:N,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(St),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(St.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,E=0;this.__bidiEngine__={};var N=function(T){var M=T.charCodeAt(),R=M>>8,q=y[R];return q!==void 0?h[256*q+(255&M)]:R===252||R===253?"AL":b.test(R)?"L":R===8?"R":"N"},F=function(T){for(var M,R=0;R<T.length;R++){if((M=N(T.charAt(R)))==="L")return!1;if(M==="R")return!0}return!1},V=function(T,M,R,q){var ce,de,ae,Q,ne=M[q];switch(ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"N":case"AN":break;case"EN":A&&(ne="AN");break;case"AL":A=!0,ne="R";break;case"WS":case"BN":ne="N";break;case"CS":q<1||q+1>=M.length||(ce=R[q-1])!=="EN"&&ce!=="AN"||(de=M[q+1])!=="EN"&&de!=="AN"?ne="N":A&&(de="AN"),ne=de===ce?de:"N";break;case"ES":ne=(ce=q>0?R[q-1]:"B")==="EN"&&q+1<M.length&&M[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&R[q-1]==="EN"){ne="EN";break}if(A){ne="N";break}for(ae=q+1,Q=M.length;ae<Q&&M[ae]==="ET";)ae++;ne=ae<Q&&M[ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Q=M.length,ae=q+1;ae<Q&&M[ae]==="NSM";)ae++;if(ae<Q){var ge=T[q],pe=ge>=1425&&ge<=2303||ge===64286;if(ce=M[ae],pe&&(ce==="R"||ce==="AL")){ne="R";break}}}ne=q<1||(ce=M[q-1])==="B"?"N":R[q-1];break;case"B":A=!1,i=!0,ne=E;break;case"S":s=!0,ne="N"}return ne},L=function(T,M,R){var q=T.split("");return R&&C(q,R,{hiLevel:E}),q.reverse(),M&&M.reverse(),q.join("")},C=function(T,M,R){var q,ce,de,ae,Q,ne=-1,ge=T.length,pe=0,U=[],Y=E?f:p,re=[];for(A=!1,i=!1,s=!1,ce=0;ce<ge;ce++)re[ce]=N(T[ce]);for(de=0;de<ge;de++){if(Q=pe,U[de]=V(T,re,U,de),q=240&(pe=Y[Q][w[U[de]]]),pe&=15,M[de]=ae=Y[pe][5],q>0)if(q===16){for(ce=ne;ce<de;ce++)M[ce]=1;ne=-1}else ne=-1;if(Y[pe][6])ne===-1&&(ne=de);else if(ne>-1){for(ce=ne;ce<de;ce++)M[ce]=ae;ne=-1}re[de]==="B"&&(M[de]=0),R.hiLevel|=ae}s&&function(le,he,ue){for(var Ae=0;Ae<ue;Ae++)if(le[Ae]==="S"){he[Ae]=E;for(var we=Ae-1;we>=0&&le[we]==="WS";we--)he[we]=E}}(re,M,ge)},k=function(T,M,R,q,ce){if(!(ce.hiLevel<T)){if(T===1&&E===1&&!i)return M.reverse(),void(R&&R.reverse());for(var de,ae,Q,ne,ge=M.length,pe=0;pe<ge;){if(q[pe]>=T){for(Q=pe+1;Q<ge&&q[Q]>=T;)Q++;for(ne=pe,ae=Q-1;ne<ae;ne++,ae--)de=M[ne],M[ne]=M[ae],M[ae]=de,R&&(de=R[ne],R[ne]=R[ae],R[ae]=de);pe=Q}pe++}}},j=function(T,M,R){var q=T.split(""),ce={hiLevel:E};return R||(R=[]),C(q,R,ce),function(de,ae,Q){if(Q.hiLevel!==0&&u)for(var ne,ge=0;ge<de.length;ge++)ae[ge]===1&&(ne=_.indexOf(de[ge]))>=0&&(de[ge]=_[ne+1])}(q,R,ce),k(2,q,M,R,ce),k(1,q,M,R,ce),q.join("")};return this.__bidiEngine__.doBidiReorder=function(T,M,R){if(function(ce,de){if(de)for(var ae=0;ae<ce.length;ae++)de[ae]=ae;a===void 0&&(a=F(ce)),c===void 0&&(c=F(ce))}(T,M),o||!l||c)if(o&&l&&a^c)E=a?1:0,T=L(T,M,R);else if(!o&&l&&c)E=a?1:0,T=j(T,M,R),T=L(T,M);else if(!o||a||l||c){if(o&&!l&&a^c)T=L(T,M),a?(E=0,T=j(T,M,R)):(E=1,T=j(T,M,R),T=L(T,M));else if(o&&a&&!l&&c)E=1,T=j(T,M,R),T=L(T,M);else if(!o&&!l&&a^c){var q=u;a?(E=1,T=j(T,M,R),E=0,u=!1,T=j(T,M,R),u=q):(E=0,T=j(T,M,R),T=L(T,M),E=1,u=!1,T=j(T,M,R),u=q,T=L(T,M))}}else E=0,T=j(T,M,R);else E=a?1:0,T=j(T,M,R);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,l=T.isOutputVisual,a=T.isInputRtl,c=T.isOutputRtl,u=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(St),St.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Pf(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new J1e(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new F1e(this.contents),this.head=new U1e(this),this.name=new q1e(this),this.cmap=new Vq(this),this.toUnicode={},this.hhea=new V1e(this),this.maxp=new W1e(this),this.hmtx=new G1e(this),this.post=new $1e(this),this.os2=new z1e(this),this.loca=new Q1e(this),this.glyf=new K1e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var Xl,Pf=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),F1e=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,a,l,c,u,h,p,f,w,y;for(y in f=Object.keys(t).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),u=16*f-h,(i=new Pf).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(o),i.writeShort(u),s=16*f,c=i.pos+s,a=null,w=[],t)for(p=t[y],i.writeString(y),i.writeInt(n(p)),i.writeInt(c),i.writeInt(p.length),w=w.concat(p),y==="head"&&(a=c),c+=p.length;c%4;)w.push(0),c++;return i.write(w),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=zq.call(t);t.length%4;)t.push(0);for(s=new Pf(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),B1e={}.hasOwnProperty,su=function(n,e){for(var t in e)B1e.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Xl=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var U1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Pf).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n}(),EF=function(){function n(e,t){var r,i,s,o,a,l,c,u,h,p,f,w,y,_,b,A,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,s=function(){var N,F;for(F=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)F.push(e.readUInt16());return F}(),e.pos+=2,y=function(){var N,F;for(F=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)F.push(e.readUInt16());return F}(),c=function(){var N,F;for(F=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)F.push(e.readUInt16());return F}(),u=function(){var N,F;for(F=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)F.push(e.readUInt16());return F}(),i=(this.length-e.pos+this.offset)/2,a=function(){var N,F;for(F=[],l=N=0;0<=i?N<i:N>i;l=0<=i?++N:--N)F.push(e.readUInt16());return F}(),l=b=0,E=s.length;b<E;l=++b)for(_=s[l],r=A=w=y[l];w<=_?A<=_:A>=_;r=w<=_?++A:--A)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-w)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=h}return n.encode=function(e,t){var r,i,s,o,a,l,c,u,h,p,f,w,y,_,b,A,E,N,F,V,L,C,k,j,T,M,R,q,ce,de,ae,Q,ne,ge,pe,U,Y,re,le,he,ue,Ae,we,_e,Me,Ee;switch(q=new Pf,o=Object.keys(e).sort(function(Ce,Le){return Ce-Le}),t){case"macroman":for(y=0,_=function(){var Ce=[];for(w=0;w<256;++w)Ce.push(0);return Ce}(),A={0:0},s={},ce=0,ne=o.length;ce<ne;ce++)A[we=e[i=o[ce]]]==null&&(A[we]=++y),s[i]={old:e[i],new:A[e[i]]},_[i]=A[e[i]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(_),{charMap:s,subtable:q.data,maxGlyphID:y+1};case"unicode":for(M=[],h=[],E=0,A={},r={},b=c=null,de=0,ge=o.length;de<ge;de++)A[F=e[i=o[de]]]==null&&(A[F]=++E),r[i]={old:F,new:A[F]},a=A[F]-i,b!=null&&a===c||(b&&h.push(b),M.push(i),c=a),b=i;for(b&&h.push(b),h.push(65535),M.push(65535),j=2*(k=M.length),C=2*Math.pow(Math.log(k)/Math.LN2,2),p=Math.log(C/2)/Math.LN2,L=2*k-C,l=[],V=[],f=[],w=ae=0,pe=M.length;ae<pe;w=++ae){if(T=M[w],u=h[w],T===65535){l.push(0),V.push(0);break}if(T-(R=r[T].new)>=32768)for(l.push(0),V.push(2*(f.length+k-w)),i=Q=T;T<=u?Q<=u:Q>=u;i=T<=u?++Q:--Q)f.push(r[i].new);else l.push(R-T),V.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*k+2*f.length),q.writeUInt16(0),q.writeUInt16(j),q.writeUInt16(C),q.writeUInt16(p),q.writeUInt16(L),ue=0,U=h.length;ue<U;ue++)i=h[ue],q.writeUInt16(i);for(q.writeUInt16(0),Ae=0,Y=M.length;Ae<Y;Ae++)i=M[Ae],q.writeUInt16(i);for(_e=0,re=l.length;_e<re;_e++)a=l[_e],q.writeUInt16(a);for(Me=0,le=V.length;Me<le;Me++)N=V[Me],q.writeUInt16(N);for(Ee=0,he=f.length;Ee<he;Ee++)y=f[Ee],q.writeUInt16(y);return{charMap:r,subtable:q.data,maxGlyphID:E+1}}},n}(),Vq=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new EF(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=EF.encode(e,t),(i=new Pf).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n}(),V1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n}(),z1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n}(),$1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},n}(),H1e=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},q1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,s,o,a,l,c,u,h,p;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=u=0,h=r.length;u<h;s=++u)i=r[s],e.pos=i.offset,c=e.readString(i.length),o=new H1e(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},n}(),W1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n}(),G1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],t=c=0;0<=i?c<i:c>i;t=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,h,p;for(p=[],c=0,u=(h=this.metrics).length;c<u;c++)s=h[c],p.push(s.advance);return p}).call(this),r=this.widths[this.widths.length-1],l=[],t=o=0;0<=i?o<i:o>i;t=0<=i?++o:--o)l.push(this.widths.push(r));return l},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n}(),zq=[].slice,K1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,s,o,a,l,c,u,h;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,o=(a=new Pf(t.read(i))).readShort(),c=a.readShort(),h=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[e]=o===-1?new X1e(a,c,h,l,u):new Y1e(a,o,c,h,l,u),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=t.length;a<l;a++)i=e[t[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},n}(),Y1e=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),X1e=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Pf(zq.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),Q1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<t.length&&t[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},n}(),J1e=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))r=l[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,a,l,c,u,h,p,f,w,y,_,b;for(i in r=Vq.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},b=r.charMap)f[(l=b[i]).old]=l.new;for(w in p=r.maxGlyphID,o)w in f||(f[w]=p++);return u=function(A){var E,N;for(E in N={},A)N[A[E]]=E;return N}(f),h=Object.keys(u).sort(function(A,E){return A-E}),y=function(){var A,E,N;for(N=[],A=0,E=h.length;A<E;A++)a=h[A],N.push(u[a]);return N}(),s=this.font.glyf.encode(o,y,f),c=this.font.loca.encode(s.offsets,y),_={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},n}();St.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();var bx={},Z1e=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},$q={},_a={};let K3;const eye=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];_a.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};_a.getSymbolTotalCodewords=function(e){return eye[e]};_a.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};_a.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');K3=e};_a.isKanjiModeEnabled=function(){return typeof K3<"u"};_a.toSJIS=function(e){return K3(e)};var HS={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}})(HS);function Hq(){this.buffer=[],this.length=0}Hq.prototype={get:function(n){const e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var tye=Hq;function xx(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}xx.prototype.set=function(n,e,t,r){const i=n*this.size+e;this.data[i]=t,r&&(this.reservedBit[i]=!0)};xx.prototype.get=function(n,e){return this.data[n*this.size+e]};xx.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};xx.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};var nye=xx,qq={};(function(n){const e=_a.getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},n.getPositions=function(r){const i=[],s=n.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(qq);var Wq={};const rye=_a.getSymbolSize,SF=7;Wq.getPositions=function(e){const t=rye(e);return[[0,0],[t-SF,0],[0,t-SF]]};var Gq={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let h=0;h<s;h++){a=l=0,c=u=null;for(let p=0;p<s;p++){let f=i.get(h,p);f===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=f,a=1),f=i.get(p,h),f===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=f,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},n.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},n.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},n.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function t(r,i,s){switch(r){case n.Patterns.PATTERN000:return(i+s)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return s%3===0;case n.Patterns.PATTERN011:return(i+s)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case n.Patterns.PATTERN101:return i*s%2+i*s%3===0;case n.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case n.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,t(i,l,a))},n.getBestMask=function(i,s){const o=Object.keys(n.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),n.applyMask(c,i);const u=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(Gq);var qS={};const lf=HS,D_=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],M_=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];qS.getBlocksCount=function(e,t){switch(t){case lf.L:return D_[(e-1)*4+0];case lf.M:return D_[(e-1)*4+1];case lf.Q:return D_[(e-1)*4+2];case lf.H:return D_[(e-1)*4+3];default:return}};qS.getTotalCodewordsCount=function(e,t){switch(t){case lf.L:return M_[(e-1)*4+0];case lf.M:return M_[(e-1)*4+1];case lf.Q:return M_[(e-1)*4+2];case lf.H:return M_[(e-1)*4+3];default:return}};var Kq={},WS={};const bw=new Uint8Array(512),cE=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)bw[t]=e,cE[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)bw[t]=bw[t-255]})();WS.log=function(e){if(e<1)throw new Error("log("+e+")");return cE[e]};WS.exp=function(e){return bw[e]};WS.mul=function(e,t){return e===0||t===0?0:bw[cE[e]+cE[t]]};(function(n){const e=WS;n.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},n.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=n.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(Kq);const Yq=Kq;function Y3(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}Y3.prototype.initialize=function(e){this.degree=e,this.genPoly=Yq.generateECPolynomial(this.degree)};Y3.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const r=Yq.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var iye=Y3,Xq={},$f={},X3={};X3.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var ou={};const Qq="[0-9]+",sye="[A-Z $%*+\\-./:]+";let xb="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";xb=xb.replace(/u/g,"\\u");const oye="(?:(?![A-Z0-9 $%*+\\-./:]|"+xb+`)(?:.|[\r
]))+`;ou.KANJI=new RegExp(xb,"g");ou.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ou.BYTE=new RegExp(oye,"g");ou.NUMERIC=new RegExp(Qq,"g");ou.ALPHANUMERIC=new RegExp(sye,"g");const aye=new RegExp("^"+xb+"$"),lye=new RegExp("^"+Qq+"$"),cye=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ou.testKanji=function(e){return aye.test(e)};ou.testNumeric=function(e){return lye.test(e)};ou.testAlphanumeric=function(e){return cye.test(e)};(function(n){const e=X3,t=ou;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},n.getBestModeForData=function(s){return t.testNumeric(s)?n.NUMERIC:t.testAlphanumeric(s)?n.ALPHANUMERIC:t.testKanji(s)?n.KANJI:n.BYTE},n.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},n.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(s,o){if(n.isValid(s))return s;try{return r(s)}catch{return o}}})($f);(function(n){const e=_a,t=qS,r=HS,i=$f,s=X3,o=7973,a=e.getBCHDigit(o);function l(p,f,w){for(let y=1;y<=40;y++)if(f<=n.getCapacity(y,w,p))return y}function c(p,f){return i.getCharCountIndicator(p,f)+4}function u(p,f){let w=0;return p.forEach(function(y){const _=c(y.mode,f);w+=_+y.getBitsLength()}),w}function h(p,f){for(let w=1;w<=40;w++)if(u(p,w)<=n.getCapacity(w,f,i.MIXED))return w}n.from=function(f,w){return s.isValid(f)?parseInt(f,10):w},n.getCapacity=function(f,w,y){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const _=e.getSymbolTotalCodewords(f),b=t.getTotalCodewordsCount(f,w),A=(_-b)*8;if(y===i.MIXED)return A;const E=A-c(y,f);switch(y){case i.NUMERIC:return Math.floor(E/10*3);case i.ALPHANUMERIC:return Math.floor(E/11*2);case i.KANJI:return Math.floor(E/13);case i.BYTE:default:return Math.floor(E/8)}},n.getBestVersionForData=function(f,w){let y;const _=r.from(w,r.M);if(Array.isArray(f)){if(f.length>1)return h(f,_);if(f.length===0)return 1;y=f[0]}else y=f;return l(y.mode,y.getLength(),_)},n.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let w=f<<12;for(;e.getBCHDigit(w)-a>=0;)w^=o<<e.getBCHDigit(w)-a;return f<<12|w}})(Xq);var Jq={};const SI=_a,Zq=1335,uye=21522,NF=SI.getBCHDigit(Zq);Jq.getEncodedBits=function(e,t){const r=e.bit<<3|t;let i=r<<10;for(;SI.getBCHDigit(i)-NF>=0;)i^=Zq<<SI.getBCHDigit(i)-NF;return(r<<10|i)^uye};var eW={};const dye=$f;function h1(n){this.mode=dye.NUMERIC,this.data=n.toString()}h1.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};h1.prototype.getLength=function(){return this.data.length};h1.prototype.getBitsLength=function(){return h1.getBitsLength(this.data.length)};h1.prototype.write=function(e){let t,r,i;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-t;s>0&&(r=this.data.substr(t),i=parseInt(r,10),e.put(i,s*3+1))};var hye=h1;const fye=$f,ZC=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function f1(n){this.mode=fye.ALPHANUMERIC,this.data=n}f1.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};f1.prototype.getLength=function(){return this.data.length};f1.prototype.getBitsLength=function(){return f1.getBitsLength(this.data.length)};f1.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=ZC.indexOf(this.data[t])*45;r+=ZC.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(ZC.indexOf(this.data[t]),6)};var pye=f1;const mye=$f;function p1(n){this.mode=mye.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}p1.getBitsLength=function(e){return e*8};p1.prototype.getLength=function(){return this.data.length};p1.prototype.getBitsLength=function(){return p1.getBitsLength(this.data.length)};p1.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};var gye=p1;const vye=$f,yye=_a;function m1(n){this.mode=vye.KANJI,this.data=n}m1.getBitsLength=function(e){return e*13};m1.prototype.getLength=function(){return this.data.length};m1.prototype.getBitsLength=function(){return m1.getBitsLength(this.data.length)};m1.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=yye.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};var wye=m1,tW={exports:{}};(function(n){var e={single_source_shortest_paths:function(t,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,h,p,f,w,y,_;!a.empty();){l=a.pop(),c=l.value,h=l.cost,p=t[c]||{};for(u in p)p.hasOwnProperty(u)&&(f=p[u],w=h+f,y=o[u],_=typeof o[u]>"u",(_||y>w)&&(o[u]=w,a.push(u,w),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var b=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(b)}return s},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],s=r;s;)i.push(s),t[s],s=t[s];return i.reverse(),i},find_path:function(t,r,i){var s=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},s;t=t||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(tW);var bye=tW.exports;(function(n){const e=$f,t=hye,r=pye,i=gye,s=wye,o=ou,a=_a,l=bye;function c(b){return unescape(encodeURIComponent(b)).length}function u(b,A,E){const N=[];let F;for(;(F=b.exec(E))!==null;)N.push({data:F[0],index:F.index,mode:A,length:F[0].length});return N}function h(b){const A=u(o.NUMERIC,e.NUMERIC,b),E=u(o.ALPHANUMERIC,e.ALPHANUMERIC,b);let N,F;return a.isKanjiModeEnabled()?(N=u(o.BYTE,e.BYTE,b),F=u(o.KANJI,e.KANJI,b)):(N=u(o.BYTE_KANJI,e.BYTE,b),F=[]),A.concat(E,N,F).sort(function(L,C){return L.index-C.index}).map(function(L){return{data:L.data,mode:L.mode,length:L.length}})}function p(b,A){switch(A){case e.NUMERIC:return t.getBitsLength(b);case e.ALPHANUMERIC:return r.getBitsLength(b);case e.KANJI:return s.getBitsLength(b);case e.BYTE:return i.getBitsLength(b)}}function f(b){return b.reduce(function(A,E){const N=A.length-1>=0?A[A.length-1]:null;return N&&N.mode===E.mode?(A[A.length-1].data+=E.data,A):(A.push(E),A)},[])}function w(b){const A=[];for(let E=0;E<b.length;E++){const N=b[E];switch(N.mode){case e.NUMERIC:A.push([N,{data:N.data,mode:e.ALPHANUMERIC,length:N.length},{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.ALPHANUMERIC:A.push([N,{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.KANJI:A.push([N,{data:N.data,mode:e.BYTE,length:c(N.data)}]);break;case e.BYTE:A.push([{data:N.data,mode:e.BYTE,length:c(N.data)}])}}return A}function y(b,A){const E={},N={start:{}};let F=["start"];for(let V=0;V<b.length;V++){const L=b[V],C=[];for(let k=0;k<L.length;k++){const j=L[k],T=""+V+k;C.push(T),E[T]={node:j,lastCount:0},N[T]={};for(let M=0;M<F.length;M++){const R=F[M];E[R]&&E[R].node.mode===j.mode?(N[R][T]=p(E[R].lastCount+j.length,j.mode)-p(E[R].lastCount,j.mode),E[R].lastCount+=j.length):(E[R]&&(E[R].lastCount=j.length),N[R][T]=p(j.length,j.mode)+4+e.getCharCountIndicator(j.mode,A))}}F=C}for(let V=0;V<F.length;V++)N[F[V]].end=0;return{map:N,table:E}}function _(b,A){let E;const N=e.getBestModeForData(b);if(E=e.from(A,N),E!==e.BYTE&&E.bit<N.bit)throw new Error('"'+b+'" cannot be encoded with mode '+e.toString(E)+`.
 Suggested mode is: `+e.toString(N));switch(E===e.KANJI&&!a.isKanjiModeEnabled()&&(E=e.BYTE),E){case e.NUMERIC:return new t(b);case e.ALPHANUMERIC:return new r(b);case e.KANJI:return new s(b);case e.BYTE:return new i(b)}}n.fromArray=function(A){return A.reduce(function(E,N){return typeof N=="string"?E.push(_(N,null)):N.data&&E.push(_(N.data,N.mode)),E},[])},n.fromString=function(A,E){const N=h(A,a.isKanjiModeEnabled()),F=w(N),V=y(F,E),L=l.find_path(V.map,"start","end"),C=[];for(let k=1;k<L.length-1;k++)C.push(V.table[L[k]].node);return n.fromArray(f(C))},n.rawSplit=function(A){return n.fromArray(h(A,a.isKanjiModeEnabled()))}})(eW);const GS=_a,eT=HS,xye=tye,_ye=nye,Aye=qq,Eye=Wq,NI=Gq,CI=qS,Sye=iye,uE=Xq,Nye=Jq,Cye=$f,tT=eW;function Tye(n,e){const t=n.size,r=Eye.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||t<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||t<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?n.set(s+a,o+l,!0,!0):n.set(s+a,o+l,!1,!0))}}function kye(n){const e=n.size;for(let t=8;t<e-8;t++){const r=t%2===0;n.set(t,6,r,!0),n.set(6,t,r,!0)}}function Iye(n,e){const t=Aye.getPositions(e);for(let r=0;r<t.length;r++){const i=t[r][0],s=t[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?n.set(i+o,s+a,!0,!0):n.set(i+o,s+a,!1,!0)}}function Pye(n,e){const t=n.size,r=uE.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+t-8-3,o=(r>>a&1)===1,n.set(i,s,o,!0),n.set(s,i,o,!0)}function nT(n,e,t){const r=n.size,i=Nye.getEncodedBits(e,t);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?n.set(s,8,o,!0):s<8?n.set(s+1,8,o,!0):n.set(r-15+s,8,o,!0),s<8?n.set(8,r-s-1,o,!0):s<9?n.set(8,15-s-1+1,o,!0):n.set(8,15-s-1,o,!0);n.set(r-8,8,1,!0)}function Rye(n,e){const t=n.size;let r=-1,i=t-1,s=7,o=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!n.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),n.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||t<=i){i-=r,r=-r;break}}}function Lye(n,e,t){const r=new xye;t.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),Cye.getCharCountIndicator(l.mode,n)),l.write(r)});const i=GS.getSymbolTotalCodewords(n),s=CI.getTotalCodewordsCount(n,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return Dye(r,n,e)}function Dye(n,e,t){const r=GS.getSymbolTotalCodewords(e),i=CI.getTotalCodewordsCount(e,t),s=r-i,o=CI.getBlocksCount(e,t),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(s/o),h=u+1,p=c-u,f=new Sye(p);let w=0;const y=new Array(o),_=new Array(o);let b=0;const A=new Uint8Array(n.buffer);for(let L=0;L<o;L++){const C=L<l?u:h;y[L]=A.slice(w,w+C),_[L]=f.encode(y[L]),w+=C,b=Math.max(b,C)}const E=new Uint8Array(r);let N=0,F,V;for(F=0;F<b;F++)for(V=0;V<o;V++)F<y[V].length&&(E[N++]=y[V][F]);for(F=0;F<p;F++)for(V=0;V<o;V++)E[N++]=_[V][F];return E}function Mye(n,e,t,r){let i;if(Array.isArray(n))i=tT.fromArray(n);else if(typeof n=="string"){let c=e;if(!c){const u=tT.rawSplit(n);c=uE.getBestVersionForData(u,t)}i=tT.fromString(n,c||40)}else throw new Error("Invalid data");const s=uE.getBestVersionForData(i,t);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=Lye(e,t,i),a=GS.getSymbolSize(e),l=new _ye(a);return Tye(l,e),kye(l),Iye(l,e),nT(l,t,0),e>=7&&Pye(l,e),Rye(l,o),isNaN(r)&&(r=NI.getBestMask(l,nT.bind(null,l,t))),NI.applyMask(r,l),nT(l,t,r),{modules:l,version:e,errorCorrectionLevel:t,maskPattern:r,segments:i}}$q.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let r=eT.M,i,s;return typeof t<"u"&&(r=eT.from(t.errorCorrectionLevel,eT.M),i=uE.from(t.version),s=NI.from(t.maskPattern),t.toSJISFunc&&GS.setToSJISFunction(t.toSJISFunc)),Mye(e,i,r,s)};var nW={},Q3={};(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const s=n.getScale(r,i);return Math.floor((r+i.margin*2)*s)},n.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=n.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,h=[s.color.light,s.color.dark];for(let p=0;p<c;p++)for(let f=0;f<c;f++){let w=(p*c+f)*4,y=s.color.light;if(p>=u&&f>=u&&p<c-u&&f<c-u){const _=Math.floor((p-u)/l),b=Math.floor((f-u)/l);y=h[a[_*o+b]?1:0]}r[w++]=y.r,r[w++]=y.g,r[w++]=y.b,r[w]=y.a}}})(Q3);(function(n){const e=Q3;function t(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),h=c.getContext("2d"),p=h.createImageData(u,u);return e.qrToImageData(p.data,s,l),t(h,c,u),h.putImageData(p,0,0),c},n.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=n.render(s,o,l),u=l.type||"image/png",h=l.rendererOpts||{};return c.toDataURL(u,h.quality)}})(nW);var rW={};const jye=Q3;function CF(n,e){const t=n.a/255,r=e+'="'+n.hex+'"';return t<1?r+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function rT(n,e,t){let r=n+e;return typeof t<"u"&&(r+=" "+t),r}function Oye(n,e,t){let r="",i=0,s=!1,o=0;for(let a=0;a<n.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),n[a]?(o++,a>0&&l>0&&n[a-1]||(r+=s?rT("M",l+t,.5+c+t):rT("m",i,0),i=0,s=!1),l+1<e&&n[a+1]||(r+=rT("h",o),o=0)):i++}return r}rW.render=function(e,t,r){const i=jye.getOptions(t),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+CF(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+CF(i.color.dark,"stroke")+' d="'+Oye(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,p),p};const Fye=Z1e,TI=$q,iW=nW,Bye=rW;function J3(n,e,t,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!Fye())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=t,t=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=t,t=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(t=e,e=r=void 0):o===2&&!e.getContext&&(r=t,t=e,e=void 0),new Promise(function(l,c){try{const u=TI.create(t,r);l(n(u,e,r))}catch(u){c(u)}})}try{const l=TI.create(t,r);i(null,n(l,e,r))}catch(l){i(l)}}bx.create=TI.create;bx.toCanvas=J3.bind(null,iW.render);bx.toDataURL=J3.bind(null,iW.renderToDataURL);bx.toString=J3.bind(null,function(n,e,t){return Bye.render(n,t)});const iT=[{id:"font-dancing",name:"Dancing Script",family:'"Dancing Script", cursive',url:"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap"},{id:"font-vibes",name:"Great Vibes",family:'"Great Vibes", cursive',url:"https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap"},{id:"font-sacramento",name:"Sacramento",family:'"Sacramento", cursive',url:"https://fonts.googleapis.com/css2?family=Sacramento&display=swap"},{id:"font-caveat",name:"Caveat",family:'"Caveat", cursive',url:"https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&display=swap"},{id:"font-apple",name:"Homemade Apple",family:'"Homemade Apple", cursive',url:"https://fonts.googleapis.com/css2?family=Homemade+Apple&display=swap"}],TF=async(n,e,t)=>{var f,w,y,_;const r=n.signature_data||e;if(!r)return st.error("A signature is required to generate the PDF."),null;const i=new St,s=i.internal.pageSize.getWidth(),o=i.internal.pageSize.getHeight();i.setFillColor(59,130,246),i.rect(0,0,s,35,"F"),i.setTextColor(255,255,255),i.setFontSize(22),i.setFont("helvetica","bold"),i.text("Endorse",20,23),i.setFontSize(9),i.setFont("helvetica","normal"),i.text("Electronic Signature Document",s-20,23,{align:"right"}),i.setTextColor(30,41,59),i.setFontSize(16),i.setFont("helvetica","bold"),i.text(n.name,20,55),i.setFontSize(10),i.setFont("helvetica","normal"),i.setTextColor(100,116,139),i.text(`Document ID: ${n.id.slice(0,8)}...`,20,65),i.text(`Date: ${new Date().toLocaleDateString()}`,20,72),i.setDrawColor(226,232,240),i.setLineWidth(.5),i.line(20,82,s-20,82),i.setTextColor(30,41,59),i.setFontSize(11),i.setFont("helvetica","bold"),i.text("Document Agreement",20,95);const a=["This document has been electronically signed using Endorse.","The signature below confirms the signer's agreement to the terms and conditions.","By signing, you acknowledge this is a legally binding electronic signature."];i.setTextColor(71,85,105),i.setFontSize(10),i.setFont("helvetica","normal");let l=108;a.forEach(b=>{i.text(b,20,l),l+=6}),i.setDrawColor(226,232,240),i.setFillColor(248,250,252),i.roundedRect(20,o-95,s-40,75,4,4,"FD"),i.setTextColor(30,41,59),i.setFontSize(11),i.setFont("helvetica","bold"),i.text("Signature",30,o-80);const c=n.signature_type||t;if(c==="draw"||c==="upload"){const b=r.startsWith("data:image/jpeg")?"JPEG":"PNG";i.addImage(r,b,30,o-72,90,35)}else i.setFontSize(24),i.setFont("times","italic"),i.setTextColor(30,41,59),i.text(r,30,o-50);i.setFontSize(8),i.setFont("helvetica","normal"),i.setTextColor(100,116,139),i.text(`Signed by: ${((f=Oi.currentUser)==null?void 0:f.email)||"Authenticated User"} on ${new Date().toLocaleString()}`,30,o-28),i.setFontSize(7),i.setTextColor(148,163,184),i.text("This document was electronically signed via Endorse - Endorse.app",s/2,o-10,{align:"center"}),i.addPage(),i.setFillColor(248,250,252),i.rect(0,0,s,40,"F"),i.setTextColor(15,23,42),i.setFontSize(20),i.setFont("helvetica","bold"),i.text("Audit Trail",20,25);try{const b=`https://endorse.app/verify/${n.id}`,A=await bx.toDataURL(b,{width:100,margin:1,color:{dark:"#0f172a",light:"#f8fafc"}});i.addImage(A,"PNG",s-45,8,25,25)}catch(b){console.error("Error generating QR code:",b)}i.setFontSize(10),i.setTextColor(71,85,105),i.setFont("helvetica","normal"),i.text(`File Name: ${n.name}`,20,55),i.text(`Document ID: ${n.id}`,20,62);const u=Array.from({length:24},()=>Math.floor(Math.random()*16).toString(16)).join("").toUpperCase();i.text(`Transaction ID: ${u}`,20,69),i.setFontSize(12),i.setTextColor(15,23,42),i.setFont("helvetica","bold"),i.text("History",20,90);let h=105;return[{action:"Document Created",by:"System",time:new Date(Date.now()-36e5).toLocaleString()},{action:"Viewed by Signer",by:((w=Oi.currentUser)==null?void 0:w.email)||"Guest User",time:new Date(Date.now()-3e5).toLocaleString()},{action:"Terms Accepted",by:((y=Oi.currentUser)==null?void 0:y.email)||"Guest User",time:new Date(Date.now()-5e3).toLocaleString()},{action:"Document Signed",by:((_=Oi.currentUser)==null?void 0:_.email)||"Guest User",time:new Date().toLocaleString()},{action:"Completed",by:"System",time:new Date().toLocaleString()}].forEach(b=>{i.setFillColor(59,130,246),i.circle(24,h-1,2,"F"),i.setFontSize(10),i.setTextColor(15,23,42),i.setFont("helvetica","bold"),i.text(b.action,35,h),i.setFontSize(9),i.setTextColor(100,116,139),i.setFont("helvetica","normal"),i.text(`${b.by} - ${b.time}`,35,h+5),h+=20}),i.setDrawColor(226,232,240),i.line(20,o-30,s-20,o-30),i.setFontSize(8),i.setTextColor(148,163,184),i.text("Endorse Security System | IP: 192.168.1.1 | Encrypted with AES-256",20,o-20),i.output("blob")},Uye=n=>new Promise((e,t)=>{const r=new Image;r.addEventListener("load",()=>e(r)),r.addEventListener("error",i=>t(i)),r.setAttribute("crossOrigin","anonymous"),r.src=n}),Vye=async(n,e)=>{const t=await Uye(n),r=document.createElement("canvas"),i=r.getContext("2d");return i?(r.width=e.width,r.height=e.height,i.drawImage(t,e.x,e.y,e.width,e.height,0,0,e.width,e.height),r.toDataURL("image/png")):null},zye=(n,e,t=60)=>{const r=document.createElement("canvas"),i=r.getContext("2d");if(!i)return null;i.font=`${t}px ${e}`;const s=i.measureText(n),o=40;return r.width=s.width+o*2,r.height=t*2.5,i.font=`${t}px ${e}`,i.fillStyle="#000000",i.textBaseline="middle",i.fillText(n,o,r.height/2),r.toDataURL("image/png")},sW=({document:n,onClose:e,onSave:t})=>{const[r,i]=D.useState("draw"),[s,o]=D.useState(!1),[a,l]=D.useState(""),[c,u]=D.useState(null),[h,p]=D.useState(!1),[f,w]=D.useState(null),[y,_]=D.useState({x:0,y:0}),[b,A]=D.useState(1),[E,N]=D.useState(null),[F,V]=D.useState(!1),[L,C]=D.useState(!1),[k,j]=D.useState(""),[T,M]=D.useState(!1),[R,q]=D.useState(!1),[ce,de]=D.useState(""),[ae,Q]=D.useState(!1),[ne,ge]=D.useState(!1),[pe,U]=D.useState(!1),Y=D.useRef(null),re=D.useRef(null),[le,he]=D.useState(iT[0]),[ue,Ae]=D.useState(60),{userProfile:we,user:_e}=D1();D.useEffect(()=>{iT.forEach(Oe=>{if(!window.document.getElementById(Oe.id)){const Fe=window.document.createElement("link");Fe.id=Oe.id,Fe.href=Oe.url,Fe.rel="stylesheet",window.document.head.appendChild(Fe)}})},[]),D.useEffect(()=>{if(r==="draw"&&Y.current){const Oe=Y.current.getCanvas();if(Oe){const Fe=Oe.getContext("2d");Fe&&(Fe.globalCompositeOperation=s?"destination-out":"source-over")}}},[s,r]);const Me=()=>{r==="draw"&&Y.current?(Y.current.clear(),o(!1)):r==="type"?l(""):(u(null),w(null),V(!1))},Ee=Oe=>{if(Oe.type.startsWith("image/")){const Fe=new FileReader;Fe.onload=Ke=>{var Nt;(Nt=Ke.target)!=null&&Nt.result&&(w(Ke.target.result),V(!0))},Fe.readAsDataURL(Oe)}else st.error("Please upload an image file")},Ce=Oe=>{var Ke;const Fe=(Ke=Oe.target.files)==null?void 0:Ke[0];Fe&&Ee(Fe)},Le=Oe=>{Oe.preventDefault(),C(!0)},J=Oe=>{Oe.preventDefault(),C(!1)},je=Oe=>{var Ke;Oe.preventDefault(),C(!1);const Fe=(Ke=Oe.dataTransfer.files)==null?void 0:Ke[0];Fe&&Ee(Fe)},Qe=()=>{if(Y.current&&!Y.current.isEmpty()){const Oe=Y.current.toDataURL("image/png");w(Oe),V(!0)}else st.error("Please draw a signature first")},Ge=(Oe,Fe)=>{N(Fe)},Ie=async()=>{if(f&&E)try{const Oe=await Vye(f,E);Oe&&(u(Oe),V(!1),r==="draw"&&i("upload"))}catch(Oe){console.error(Oe),st.error("Failed to crop image")}},lt=()=>{var Oe,Fe;if(r==="draw")return(Oe=Y.current)!=null&&Oe.isEmpty()?null:((Fe=Y.current)==null?void 0:Fe.toDataURL("image/png"))||null;if(r==="type"){const Ke=a.trim();return Ke?zye(Ke,le.family,ue):null}else return c},Xe=()=>{if(n.status==="pending"&&!h){st.error("Please agree to the terms and conditions to sign.");return}const Oe=lt();if(!Oe){st.error("Please add your signature first");return}U(!0),t(Oe,r==="type"?"upload":r),e()},pt=async()=>{const Oe=await TF(n,lt(),r==="type"?"upload":r);if(Oe){const Fe=URL.createObjectURL(Oe),Ke=window.document.createElement("a");Ke.href=Fe,Ke.download=`${n.name.replace(/\s+/g,"_")}_signed.pdf`,window.document.body.appendChild(Ke),Ke.click(),window.document.body.removeChild(Ke),URL.revokeObjectURL(Fe),st.success("PDF downloaded!")}},it=async()=>{if(!k){st.error("Please enter recipient email");return}const Oe=await TF(n,lt(),r==="type"?"upload":r);if(!Oe)return;q(!0);const Fe=new FileReader;Fe.readAsDataURL(Oe),Fe.onloadend=async()=>{const Ke=Fe.result,Nt=rb(a1,"sendDocument");try{await Nt({recipientEmail:k,pdfBase64:Ke,documentName:n.name}),st.success(`Document sent to ${k}!`),M(!1),j("")}catch(nt){console.error("Firebase function error:",nt),st.error(nt.message||"Failed to send document.")}finally{q(!1)}}},Lt=async()=>{if(!ce){st.error("Please enter the recipient's email.");return}const Oe=(we==null?void 0:we.plan)==="pro"||(we==null?void 0:we.plan)==="business",Fe=(_e==null?void 0:_e.email)==="bankoleebenezer111@gmail.com",Ke=window.location.hostname==="localhost";if(!Oe&&!Fe&&!Ke){st.error("Inviting signers is a Pro feature. Please upgrade your plan.");return}ge(!0);const Nt=rb(a1,"inviteToSign");try{await Nt({documentId:n.id,recipientEmail:ce,signingLink:`${window.location.origin}/sign/${n.id}`}),st.success(`Invitation sent to ${ce}!`),Q(!1),de("")}catch(nt){console.error("Firebase function error (inviteToSign):",nt),st.error(nt.message||"Failed to send invitation.")}finally{ge(!1)}};return d.jsx("div",{className:"fixed inset-0 z-50 bg-foreground/60 backdrop-blur-sm flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-card rounded-xl shadow-xl border border-border w-full max-w-lg max-h-[90vh] overflow-hidden animate-scale-in",children:[d.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-border bg-transparent",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ro,{className:"h-8 w-auto"}),d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-base font-semibold text-foreground",children:n.status==="pending"?"Sign Document":"Document Details"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:n.name})]})]}),d.jsx(qe,{variant:"ghost",size:"sm",onClick:e,className:"w-8 h-8 p-0",children:d.jsx(Ps,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"p-5 overflow-y-auto max-h-[calc(90vh-180px)]",children:n.status==="pending"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex gap-2 mb-5",children:[d.jsxs(qe,{variant:r==="draw"?"default":"outline",className:"flex-1 h-9",size:"sm",onClick:()=>i("draw"),children:[d.jsx(ks,{className:"w-3.5 h-3.5 mr-1.5"}),"Draw"]}),d.jsxs(qe,{variant:r==="type"?"default":"outline",className:"flex-1 h-9",size:"sm",onClick:()=>i("type"),children:[d.jsx(oB,{className:"w-3.5 h-3.5 mr-1.5"}),"Type"]}),d.jsxs(qe,{variant:r==="upload"?"default":"outline",className:"flex-1 h-9",size:"sm",onClick:()=>i("upload"),children:[d.jsx($w,{className:"w-3.5 h-3.5 mr-1.5"}),"Upload"]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx(Fc,{className:"mb-2 block text-sm",children:"Your Signature"}),r==="draw"?d.jsxs("div",{className:"relative border-2 border-dashed border-border rounded-lg overflow-hidden bg-white",children:[d.jsxs("div",{style:{display:F?"none":"block"},children:[d.jsx(FS,{ref:Y,canvasProps:{className:`w-full h-40 ${s?"cursor-cell":"cursor-crosshair"}`,style:{width:"100%",height:"160px"}},backgroundColor:"transparent",penColor:"#000000"}),d.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-1",children:[d.jsxs(qe,{variant:s?"secondary":"ghost",size:"sm",className:`h-8 px-2 backdrop-blur-sm ${s?"bg-white/80 text-primary shadow-sm":"bg-white/40 text-muted-foreground hover:bg-white/60"}`,onClick:()=>o(!s),title:s?"Switch to Pen":"Eraser",children:[d.jsx(WJ,{className:"w-4 h-4"}),s&&d.jsx("span",{className:"ml-1.5 text-xs",children:"Erasing"})]}),d.jsx(qe,{variant:"ghost",size:"sm",className:"h-8 px-2 bg-white/40 text-muted-foreground hover:bg-white/60 backdrop-blur-sm",onClick:Qe,title:"Crop Signature",children:d.jsx(yD,{className:"w-4 h-4"})}),d.jsx(qe,{variant:"ghost",size:"sm",className:"h-8 px-2 bg-white/40 text-muted-foreground hover:bg-white/60 backdrop-blur-sm",onClick:Me,title:"Clear Signature",children:d.jsx(iZ,{className:"w-4 h-4"})})]})]}),F&&f&&d.jsxs("div",{className:"w-full h-64 relative bg-black/5",children:[d.jsx("div",{className:"absolute inset-0 bottom-12",children:d.jsx(eO,{image:f,crop:y,zoom:b,aspect:3/1,onCropChange:_,onCropComplete:Ge,onZoomChange:A})}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-background/90 backdrop-blur flex items-center px-4 gap-4 border-t border-border",children:[d.jsx(qe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 rounded-full bg-destructive text-destructive-foreground hover:bg-destructive/90 mr-auto flex items-center justify-center",onClick:()=>{V(!1),w(null),u(null),setTimeout(()=>{var Oe;(Oe=Y.current)==null||Oe.clear()},0)},title:"Delete Signature",children:d.jsx(Ps,{className:"w-4 h-4"})}),d.jsx("span",{className:"text-xs font-medium text-muted-foreground w-12",children:"Zoom"}),d.jsx("input",{type:"range",value:b,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:Oe=>A(Number(Oe.target.value)),className:"flex-1 h-1 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"}),d.jsx(qe,{size:"sm",className:"h-7 w-7 p-0 rounded-full",onClick:Ie,children:d.jsx(zm,{className:"w-4 h-4"})})]})]})]}):r==="type"?d.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-5 bg-white",children:[d.jsx(ui,{placeholder:"Type your full name",value:a,onChange:Oe=>l(Oe.target.value),className:"text-center text-2xl border-0 bg-transparent focus-visible:ring-0 h-auto py-2 text-black",style:{fontFamily:le.family}}),d.jsx("div",{className:"flex justify-end mt-2",children:d.jsxs(qe,{type:"button",variant:"ghost",size:"sm",className:"text-xs text-muted-foreground h-6 px-2",onClick:()=>l(new Date().toLocaleDateString(void 0,{dateStyle:"long"})),children:[d.jsx(eB,{className:"w-3 h-3 mr-1.5"}),"Insert Today's Date"]})}),a&&d.jsx("div",{className:"mt-6 pb-4 overflow-x-auto flex justify-center",children:d.jsx("p",{className:"text-center text-black whitespace-nowrap",style:{fontFamily:le.family,fontSize:`${ue}px`},children:a})}),d.jsxs("div",{className:"flex items-center gap-3 px-2 mt-2",children:[d.jsx("span",{className:"text-xs text-muted-foreground w-12",children:"Size"}),d.jsx("input",{type:"range",min:"24",max:"100",step:"2",value:ue,onChange:Oe=>Ae(Number(Oe.target.value)),className:"flex-1 h-1.5 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"}),d.jsxs("span",{className:"text-xs text-muted-foreground w-8 text-right",children:[ue,"px"]})]}),d.jsx("div",{className:"flex flex-wrap justify-center gap-2 mt-4 pt-4 border-t border-border/50",children:iT.map(Oe=>d.jsx(qe,{type:"button",variant:le.id===Oe.id?"secondary":"ghost",size:"sm",onClick:()=>he(Oe),className:"text-lg h-auto py-1 px-3 font-normal",style:{fontFamily:Oe.family},children:"Sign"},Oe.id))})]}):d.jsx("div",{className:`border-2 border-dashed rounded-lg overflow-hidden flex flex-col items-center justify-center min-h-[200px] transition-colors ${L?"border-primary bg-primary/10":"border-border bg-secondary/30"}`,onDragOver:Le,onDragLeave:J,onDrop:je,children:F&&f?d.jsxs("div",{className:"w-full h-64 relative bg-black/5",children:[d.jsx("div",{className:"absolute inset-0 bottom-12",children:d.jsx(eO,{image:f,crop:y,zoom:b,aspect:3/1,onCropChange:_,onCropComplete:Ge,onZoomChange:A})}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-background/90 backdrop-blur flex items-center px-4 gap-4 border-t border-border",children:[d.jsx(qe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 rounded-full bg-destructive text-destructive-foreground hover:bg-destructive/90 mr-auto flex items-center justify-center",onClick:()=>{V(!1),w(null),u(null)},title:"Delete Signature",children:d.jsx(Ps,{className:"w-4 h-4"})}),d.jsx("span",{className:"text-xs font-medium text-muted-foreground w-12",children:"Zoom"}),d.jsx("input",{type:"range",value:b,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:Oe=>A(Number(Oe.target.value)),className:"flex-1 h-1 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"}),d.jsx(qe,{size:"sm",className:"h-7 w-7 p-0 rounded-full",onClick:Ie,children:d.jsx(zm,{className:"w-4 h-4"})})]})]}):c?d.jsxs("div",{className:"relative w-full flex flex-col items-center justify-center p-4",children:[d.jsx(qe,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-6 w-6 rounded-full bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",onClick:()=>{u(null),w(null)},title:"Delete Signature",children:d.jsx(Ps,{className:"w-3 h-3"})}),d.jsx("img",{src:c,alt:"Uploaded signature",className:"max-h-32 object-contain mb-4"}),d.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>V(!0),children:[d.jsx(yD,{className:"w-3.5 h-3.5 mr-1.5"}),"Crop Again"]})]}):d.jsxs("div",{className:"text-center",children:[d.jsx($w,{className:`w-8 h-8 mx-auto mb-2 ${L?"text-primary":"text-muted-foreground"}`}),d.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Click or drag image to upload"}),d.jsx(ui,{ref:re,type:"file",accept:"image/*",className:"hidden",onChange:Ce}),d.jsx(qe,{variant:"outline",size:"sm",onClick:()=>{var Oe;return(Oe=re.current)==null?void 0:Oe.click()},children:"Select Image"})]})})]}),d.jsxs("div",{className:"mt-6 flex items-start gap-3 px-1",children:[d.jsx("input",{type:"checkbox",id:"terms",className:"mt-1 h-4 w-4 rounded border-border text-primary focus:ring-primary",checked:h,onChange:Oe=>p(Oe.target.checked)}),d.jsxs("label",{htmlFor:"terms",className:"text-xs text-muted-foreground leading-tight cursor-pointer",children:["I agree to be legally bound by this document and the ",d.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Terms of Service"})," and ",d.jsx("span",{className:"text-primary hover:underline",children:"Electronic Record and Signature Disclosure"}),"."]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-5",children:[d.jsx(Fc,{className:"mb-2 block text-sm",children:"Signature"}),d.jsx("div",{className:"border-2 border-border rounded-lg p-5 bg-secondary/30",children:n.signature_type==="draw"||n.signature_type==="upload"?d.jsx("img",{src:n.signature_data,alt:"Signature",className:"max-h-28 mx-auto"}):d.jsx("p",{className:"text-center font-serif text-3xl italic text-foreground py-2",children:n.signature_data})})]}),ae&&d.jsxs("div",{className:"mb-5 p-4 bg-secondary/50 rounded-lg border border-border animate-fade-in",children:[d.jsx(Fc,{className:"mb-2 block text-sm font-semibold",children:"Invite another person to sign"}),d.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"They will receive a fresh copy of this document to sign."}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(Dm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(ui,{type:"email",placeholder:"signer@example.com",value:ce,onChange:Oe=>de(Oe.target.value),className:"pl-9 h-9"})]}),d.jsx(qe,{size:"sm",className:"h-9",onClick:Lt,disabled:ne,children:ne?d.jsx(zi,{className:"w-4 h-4 animate-spin"}):"Invite"})]})]}),T&&d.jsxs("div",{className:"mb-5 p-4 bg-secondary/50 rounded-lg border border-border animate-fade-in",children:[d.jsx(Fc,{className:"mb-2 block text-sm font-semibold",children:"Send a signed copy"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(Dm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(ui,{type:"email",placeholder:"recipient@example.com",value:k,onChange:Oe=>j(Oe.target.value),className:"pl-9 h-9"})]}),d.jsx(qe,{size:"sm",className:"h-9",onClick:it,disabled:R,children:R?d.jsx(zi,{className:"w-4 h-4 animate-spin"}):"Send"})]})]})]})}),d.jsxs("div",{className:"flex gap-2 px-5 py-4 border-t border-border bg-secondary/30",children:[d.jsx(qe,{variant:"outline",className:"flex-1 h-9",size:"sm",onClick:e,children:"Cancel"}),n.status==="pending"?d.jsx(qe,{className:"flex-1 h-9 bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black",size:"sm",onClick:Xe,disabled:!h||pe,children:pe?d.jsx(zi,{className:"w-4 h-4 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(ks,{className:"w-3.5 h-3.5 mr-1.5"}),"Sign Document"]})}):d.jsxs(d.Fragment,{children:[d.jsxs(qe,{variant:"outline",className:"flex-1 h-9",size:"sm",onClick:pt,children:[d.jsx(J4,{className:"w-3.5 h-3.5 mr-1.5"}),"Download"]}),d.jsxs(qe,{variant:"outline",className:"flex-1 h-9",size:"sm",onClick:()=>{Q(!ae),M(!1)},children:[d.jsx(aB,{className:"w-3.5 h-3.5 mr-1.5"}),"Invite"]}),d.jsxs(qe,{className:"flex-1 h-9 bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black",size:"sm",onClick:()=>{M(!T),Q(!1)},children:[d.jsx(Z4,{className:"w-3.5 h-3.5 mr-1.5"}),"Send Copy"]})]})]})]})})},$ye=D.lazy(()=>zc(()=>Promise.resolve().then(()=>Nxe),void 0).then(n=>({default:n.PDFViewer}))),Hye=async n=>new Promise((e,t)=>{const r=new FileReader;r.readAsDataURL(n),r.onload=async()=>{try{const i=r.result.split(",")[1],a=(await rb(a1,"convertDocument")({file:i,filename:n.name,mimeType:n.type})).data,l=atob(a.pdfBase64),c=new Array(l.length);for(let h=0;h<l.length;h++)c[h]=l.charCodeAt(h);const u=new Uint8Array(c);e(new Blob([u],{type:"application/pdf"}))}catch(i){t(i)}},r.onerror=i=>t(i)}),qye=()=>{var _e,Me;const n=Uf(),[e]=yR(),{user:t,userProfile:r,loading:i,signOut:s}=D1(),[o,a]=D.useState(null),[l,c]=D.useState(null),[u,h]=D.useState([]),[p,f]=D.useState([]),[w,y]=D.useState([]),[_,b]=D.useState([]),[A,E]=D.useState((r==null?void 0:r.documentsSigned)||0),[N,F]=D.useState({total:0,signed:0,pending:0}),[V,L]=D.useState(!0),[C,k]=D.useState(!1),[j,T]=D.useState(!1),[M,R]=D.useState(!1),[q,ce]=D.useState(!1),[de,ae]=D.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"light");D.useEffect(()=>{const Ee=window.document.documentElement;Ee.classList.remove("light","dark"),Ee.classList.add(de),localStorage.setItem("theme",de)},[de]),D.useEffect(()=>{!i&&!t&&n("/auth")},[t,i,n]),D.useEffect(()=>{(e.get("payment")==="success"||e.get("reference"))&&(st.success("Payment successful! Your plan is updated. Refreshing page..."),n("/dashboard",{replace:!0}),setTimeout(()=>{window.location.reload()},1500))},[e,n]),D.useEffect(()=>{(async()=>{if(t!=null&&t.email)try{const Ce=Fj(EC(wl,"documents"),Bj("ownerEmail","==",t.email),Uj("createdAt","desc")),J=(await $pe(Ce)).docs.map(Ie=>({id:Ie.id,...Ie.data()})),je=J.length,Qe=J.filter(Ie=>["signed","completed","Signed"].includes(Ie.status)).length,Ge=je-Qe;F({total:je,signed:Qe,pending:Ge}),y(J.slice(0,5))}catch(Ce){console.error("Error fetching recent docs:",Ce)}finally{L(!1)}})()},[t]),D.useEffect(()=>{if(t!=null&&t.uid){const Ee=$j(sf(wl,"users",t.uid),Ce=>{if(Ce.exists()){const Le=Ce.data();E(Le.documentsSigned||0)}},Ce=>{console.error("Error listening to usage count:",Ce)});return()=>Ee()}},[t]),D.useEffect(()=>{if(!(t!=null&&t.email))return;const Ee=Fj(EC(wl,"notifications"),Bj("recipientEmail","==",t.email),Uj("createdAt","desc"),Upe(10)),Ce=$j(Ee,Le=>{const J=Le.docs.map(je=>({id:je.id,...je.data()}));b(J)},Le=>{console.log("Notifications error:",Le)});return()=>Ce()},[t]);const Q=async()=>{const Ee=Xpe(wl),Ce=_.filter(Le=>!Le.read);if(Ce.length!==0){Ce.forEach(Le=>{Ee.update(sf(wl,"notifications",Le.id),{read:!0})});try{await Ee.commit(),st.success("Notifications marked as read")}catch(Le){console.error("Error marking read:",Le)}}},ne=async Ee=>{const Ce=(r==null?void 0:r.plan)==="pro"||(r==null?void 0:r.plan)==="business",Le=A||(r==null?void 0:r.documentsSigned)||0;if(!Ce&&Le>=3){st.error("You have reached the limit of 3 free documents. Redirecting to upgrade..."),n("/settings?tab=billing");return}const J=Ee.type==="application/pdf"||Ee.name.toLowerCase().endsWith(".pdf"),je=Ee.name.match(/\.(doc|docx)$/i)||Ee.type==="application/msword"||Ee.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document";if(J)a(Ee),c(null),h([]),f([]);else if(je){const Qe=st.loading("Converting Word document to PDF...");try{const Ge=await Hye(Ee),Ie=new File([Ge],Ee.name.replace(/\.(doc|docx)$/i,".pdf"),{type:"application/pdf"});a(Ie),c(null),h([]),f([]),st.success("Document converted successfully",{id:Qe})}catch(Ge){console.error("Conversion error:",Ge),st.error("Failed to convert document. Please ensure you have a stable connection and try again.",{id:Qe})}}else st.error("Unsupported file format. Please upload PDF or Word documents.")},ge=(Ee,Ce)=>{c(Ee),R(!1),st.success("Signature created! Click on the document to place it.")},pe=Ee=>{h(Ce=>[...Ce,{...Ee,width:20}]),st.success("Signature placed!")},U=(Ee,Ce)=>{h(Le=>{const J=[...Le];return Ce>=0&&Ce<J.length&&(J[Ce]=Ee),J})},Y=async()=>{if(!o||!l||u.length===0){st.error("Please upload a document and place at least one signature.");return}const Ee=(r==null?void 0:r.plan)==="pro"||(r==null?void 0:r.plan)==="business",Ce=A||(r==null?void 0:r.documentsSigned)||0;if(!Ee&&Ce>=3){st.error("You have reached the limit of 3 free documents. Redirecting to upgrade..."),n("/settings?tab=billing");return}k(!0);try{const{embedSignatureInPDF:Le,downloadPDF:J}=await zc(async()=>{const{embedSignatureInPDF:Ge,downloadPDF:Ie}=await import("./pdfUtils-CtbTjVd8.js");return{embedSignatureInPDF:Ge,downloadPDF:Ie}},[]);let je=o,Qe=null;for(const Ge of u)Qe=await Le(je,l,Ge),je=new File([Qe],o.name,{type:"application/pdf"});Qe&&(J(Qe,`signed_${o.name}`),st.success("Signed document downloaded!"),t!=null&&t.uid&&Hpe(sf(wl,"users",t.uid),{documentsSigned:Ype(1)},{merge:!0}).then(()=>{}).catch(Ge=>{console.error("Background update failed (non-critical):",Ge)}))}catch(Le){console.error("Error downloading PDF:",Le),st.error("Failed to download signed document. Please try again.")}finally{k(!1)}},re=async()=>{if(!(!o||!l||u.length===0)){T(!0);try{const{embedSignatureInPDF:Ee}=await zc(async()=>{const{embedSignatureInPDF:J}=await import("./pdfUtils-CtbTjVd8.js");return{embedSignatureInPDF:J}},[]);let Ce=o,Le=null;for(const J of u)Le=await Ee(Ce,l,J),Ce=new File([Le],o.name,{type:"application/pdf"});Le&&(a(Ce),c(null),h([]),st.success("Signatures applied. You can now add another signature."))}catch(Ee){console.error("Error applying signature:",Ee),st.error("Failed to apply signature.")}finally{T(!1)}}},le=()=>{a(null),c(null),h([]),f([])},he=async()=>{await s(),n("/")},ue=async()=>{var je;if(!o||p.length===0){st.error("Please upload a document and add at least one signer.");return}const Ee=(r==null?void 0:r.plan)==="pro"||(r==null?void 0:r.plan)==="business",Ce=(t==null?void 0:t.email)==="bankoleebenezer111@gmail.com",Le=window.location.hostname==="localhost";if(!Ee&&!Ce&&!Le){st.error("Inviting signers is a Pro feature. Please upgrade your plan.");return}if(o.size>600*1024){st.error("Document is too large. Please use a file smaller than 600KB.");return}const J=st.loading("Processing document and sending invitations...");try{const Qe=await new Promise((Lt,Oe)=>{const Fe=new FileReader;Fe.onload=()=>Lt(Fe.result),Fe.onerror=()=>Oe(Fe.error),Fe.readAsDataURL(o)}),Ge=Gpe(EC(wl,"documents"),{name:o.name,status:"pending",ownerEmail:t==null?void 0:t.email,createdAt:Qk(),updatedAt:Qk(),pdfBase64:Qe,signers:p.map(Lt=>({email:Lt.email,role:Lt.role||"signer",status:"pending"})),invitedBy:t==null?void 0:t.uid}),Ie=new Promise((Lt,Oe)=>setTimeout(()=>Oe(new Error("Database operation timed out. The file might be too large or connection is slow.")),6e4)),lt=await Promise.race([Ge,Ie]),pt=rb(a1,"sendSignerInvites")({signers:p,documentName:o.name,uploaderName:(t==null?void 0:t.displayName)||((je=t==null?void 0:t.email)==null?void 0:je.split("@")[0])||"A user",uploaderEmail:t==null?void 0:t.email,documentId:lt.id,signingLink:`${window.location.origin}/sign/${lt.id}`}),it=new Promise((Lt,Oe)=>setTimeout(()=>Oe(new Error("Email service timed out. Document saved, but invites might not have sent.")),4e4));await Promise.race([pt,it]),await new Promise(Lt=>setTimeout(Lt,500)),st.success("Invitations sent successfully!",{id:J}),F(Lt=>({...Lt,total:Lt.total+1,pending:Lt.pending+1}))}catch(Qe){console.error("Error sending invitations:",Qe);let Ge="Failed to send invitations.";Qe!=null&&Qe.message&&(Ge=Qe.message),(Qe==null?void 0:Qe.code)==="resource-exhausted"&&(Ge="File too large for database."),(Qe==null?void 0:Qe.code)==="permission-denied"&&(Ge="Permission denied."),st.error(Ge,{id:J})}},Ae=()=>{ae(Ee=>Ee==="light"?"dark":"light")},we=async(Ee,Ce)=>{if(Ee.stopPropagation(),window.confirm("Are you sure you want to delete this document?"))try{await Wpe(sf(wl,"documents",Ce)),y(Le=>Le.filter(J=>J.id!==Ce)),st.success("Document deleted successfully")}catch(Le){console.error("Error deleting document:",Le),st.error("Failed to delete document")}};return i?d.jsx("div",{className:"min-h-screen gradient-subtle flex items-center justify-center",children:d.jsx(zi,{className:"w-8 h-8 animate-spin text-primary"})}):d.jsxs("div",{className:"min-h-screen bg-gray-50/50 font-sans text-gray-900",children:[d.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 h-16",children:d.jsxs("div",{className:"container mx-auto px-4 md:px-6 h-full flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(qe,{variant:"ghost",size:"icon",className:"lg:hidden mr-2",onClick:()=>ce(!0),children:d.jsx(eS,{className:"h-5 w-5"})}),d.jsx(ro,{className:"h-12 md:h-16 w-auto"})]}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[d.jsx(qe,{variant:"ghost",size:"sm",onClick:Ae,className:"w-9 h-9 p-0 hidden md:inline-flex",children:de==="light"?d.jsx(nZ,{className:"w-5 h-5"}):d.jsx(cZ,{className:"w-5 h-5"})}),d.jsxs(hd,{children:[d.jsx(fd,{asChild:!0,children:d.jsx(qe,{variant:"ghost",size:"icon",className:"w-9 h-9 hidden md:inline-flex",children:d.jsx($m,{className:"w-5 h-5"})})}),d.jsxs(Gc,{align:"end",className:"w-56",children:[d.jsx(ni,{asChild:!0,children:d.jsxs("a",{href:"#",className:"cursor-pointer flex items-center",children:[d.jsx(Ys,{className:"w-4 h-4 mr-2"}),"Documentation"]})}),d.jsx(ni,{asChild:!0,children:d.jsxs("a",{href:"#",className:"cursor-pointer flex items-center",children:[d.jsx(eZ,{className:"w-4 h-4 mr-2"}),"Support"]})}),d.jsx(ni,{asChild:!0,children:d.jsxs("a",{href:"#",className:"cursor-pointer flex items-center",children:[d.jsx(Hm,{className:"w-4 h-4 mr-2"}),"API Reference"]})})]})]}),d.jsxs(hd,{children:[d.jsx(fd,{asChild:!0,children:d.jsxs(qe,{variant:"ghost",size:"icon",className:"relative w-9 h-9",children:[d.jsx(UJ,{className:"w-5 h-5"}),_.some(Ee=>!Ee.read)&&d.jsx("span",{className:"absolute top-2 right-2.5 h-2 w-2 rounded-full bg-red-500 border border-background"})]})}),d.jsxs(Gc,{align:"end",className:"w-80",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-border/50",children:[d.jsx("span",{className:"font-semibold text-sm",children:"Notifications"}),d.jsx("span",{className:"text-xs text-muted-foreground cursor-pointer hover:text-primary",onClick:Q,children:"Mark all as read"})]}),_.length===0?d.jsx("div",{className:"px-4 py-8 text-center text-muted-foreground text-sm",children:"No notifications"}):_.map(Ee=>{var Ce;return d.jsxs(ni,{className:"px-4 py-3 cursor-pointer flex flex-col items-start gap-1",children:[d.jsxs("div",{className:"flex items-center justify-between w-full",children:[d.jsx("span",{className:`font-medium text-sm ${Ee.read?"text-muted-foreground":"text-foreground"}`,children:Ee.title}),d.jsx("span",{className:"text-[10px] text-muted-foreground",children:(Ce=Ee.createdAt)!=null&&Ce.seconds?new Date(Ee.createdAt.seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),d.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:Ee.message||Ee.desc})]},Ee.id)})]})]}),o&&l&&u.length>0&&d.jsxs(qe,{onClick:Y,disabled:C,className:"gradient-primary text-primary-foreground shadow-soft hover:shadow-medium transition-shadow",children:[C?d.jsx(zi,{className:"w-4 h-4 mr-2 animate-spin"}):d.jsx(J4,{className:"w-4 h-4 mr-2"}),"Download Signed PDF"]}),o&&d.jsxs(qe,{variant:"outline",onClick:le,children:[d.jsx(rZ,{className:"w-4 h-4 mr-2"}),"Start Over"]}),d.jsxs(hd,{children:[d.jsx(fd,{asChild:!0,children:d.jsxs(qe,{variant:"ghost",className:"flex items-center gap-2 pl-0 hover:bg-transparent md:hover:bg-accent",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center overflow-hidden border border-border ml-2",children:t!=null&&t.photoURL?d.jsx("img",{src:t.photoURL,alt:"User",className:"w-full h-full object-cover"}):d.jsx("span",{className:"font-medium text-xs text-accent-foreground",children:(_e=t==null?void 0:t.email)==null?void 0:_e.substring(0,2).toUpperCase()})}),d.jsx("span",{className:"hidden md:inline text-sm font-medium",children:(t==null?void 0:t.displayName)||((Me=t==null?void 0:t.email)==null?void 0:Me.split("@")[0])}),d.jsx(ua,{className:"w-4 h-4"})]})}),d.jsxs(Gc,{align:"end",className:"w-56",children:[d.jsx("div",{className:"px-2 py-1.5",children:d.jsx("p",{className:"text-sm font-medium",children:t==null?void 0:t.email})}),d.jsx(EV,{}),d.jsxs(ni,{onClick:he,className:"text-destructive",children:[d.jsx(ZJ,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]})]})}),q&&d.jsx("div",{className:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm lg:hidden",onClick:()=>ce(!1),children:d.jsxs("div",{className:"fixed inset-y-0 left-0 z-50 w-64 border-r bg-white p-6 shadow-lg animate-in slide-in-from-left",onClick:Ee=>Ee.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsx(ro,{className:"h-8 w-auto"}),d.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>ce(!1),children:d.jsx(Ps,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"space-y-1",children:d.jsx(qe,{variant:"secondary",className:"w-full justify-start",asChild:!0,onClick:()=>ce(!1),children:d.jsxs(et,{to:"/dashboard",children:[d.jsx(wD,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})}),d.jsx("div",{className:"mt-auto pt-8",children:d.jsxs(pc,{children:[d.jsx(mp,{className:"p-4 pb-2",children:d.jsxs(gp,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(zw,{className:"h-4 w-4 text-primary"}),(r==null?void 0:r.plan)==="business"?"Business":(r==null?void 0:r.plan)==="pro"?"Pro Plan":"Free Plan"]})}),d.jsxs(mc,{className:"p-4 pt-2",children:[((r==null?void 0:r.plan)==="free"||!(r!=null&&r.plan))&&d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex justify-between text-xs font-medium mb-1",children:[d.jsx("span",{children:"Free Usage"}),d.jsxs("span",{children:[A||(r==null?void 0:r.documentsSigned)||0,"/3 used"]})]}),d.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-[#FFC83D] transition-all duration-500 ease-out",style:{width:`${Math.min((A||(r==null?void 0:r.documentsSigned)||0)/3*100,100)}%`}})})]}),d.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:(r==null?void 0:r.plan)==="free"||!(r!=null&&r.plan)?"Upgrade to unlock unlimited documents.":"Your plan is active."})]})]})})]})}),d.jsxs("div",{className:"container mx-auto px-4 md:px-6 py-8 flex items-start gap-8",children:[!o&&d.jsxs("aside",{className:"hidden lg:block w-64 shrink-0 space-y-6 sticky top-24 text-sm",children:[d.jsx("div",{className:"space-y-1",children:d.jsx(qe,{variant:"secondary",className:"w-full justify-start",asChild:!0,children:d.jsxs(et,{to:"/dashboard",children:[d.jsx(wD,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})}),d.jsxs(pc,{className:"bg-white shadow-sm border-gray-200",children:[d.jsx(mp,{className:"p-4 pb-2",children:d.jsxs(gp,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(zw,{className:"h-4 w-4 text-primary"}),(r==null?void 0:r.plan)==="business"?"Business":(r==null?void 0:r.plan)==="pro"?"Pro Plan":"Free Plan"]})}),d.jsxs(mc,{className:"p-4 pt-2",children:[((r==null?void 0:r.plan)==="free"||!(r!=null&&r.plan))&&d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex justify-between text-xs font-medium mb-1",children:[d.jsx("span",{children:"Free Usage"}),d.jsxs("span",{children:[A||(r==null?void 0:r.documentsSigned)||0,"/3 used"]})]}),d.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-[#FFC83D] transition-all duration-500 ease-out",style:{width:`${Math.min((A||(r==null?void 0:r.documentsSigned)||0)/3*100,100)}%`}})})]}),d.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:(r==null?void 0:r.plan)==="free"||!(r!=null&&r.plan)?"Upgrade to unlock unlimited documents.":"Your plan is active."})]})]})]}),d.jsx("main",{className:"flex-1 min-w-0",children:o?d.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs("div",{className:"gradient-card rounded-2xl border border-border/50 shadow-soft overflow-hidden",children:[d.jsx("div",{className:"p-4 border-b border-border/50 bg-muted/30",children:d.jsxs("h2",{className:"font-display font-semibold flex items-center gap-2",children:[d.jsx(YJ,{className:"w-5 h-5 text-primary"}),o.name]})}),d.jsx("div",{className:"p-4",children:d.jsx(D.Suspense,{fallback:d.jsx("div",{className:"h-[600px] flex items-center justify-center bg-muted/10 rounded-lg",children:d.jsx(zi,{className:"w-8 h-8 animate-spin text-primary"})}),children:d.jsx($ye,{file:o,signatureImage:l,signaturePositions:u,onSignaturePlace:pe,onSignatureMove:U,onSignatureDelete:Ee=>{h(Ce=>Ce.filter((Le,J)=>J!==Ee))}})})})]})}),d.jsx("div",{className:"lg:col-span-1",children:d.jsx("div",{className:"sticky top-24",children:d.jsx(pc,{className:"border-border/60 shadow-sm",children:d.jsxs(mc,{className:"p-6 space-y-6",children:[d.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[d.jsx(ks,{className:"w-4 h-4"})," Signature Tools"]}),d.jsxs(qe,{onClick:()=>R(!0),className:"w-full",variant:"outline",children:[d.jsx(ks,{className:"w-4 h-4 mr-2"}),"Create Signature"]}),u.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs(qe,{className:"w-full mb-2 bg-green-600 hover:bg-green-700 text-white",onClick:re,disabled:j,children:[j?d.jsx(zi,{className:"w-4 h-4 mr-2 animate-spin"}):d.jsx(Ha,{className:"w-4 h-4 mr-2"}),"Apply & Add Another"]}),d.jsx(qe,{variant:"ghost",className:"w-full text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>{h([]),st.info("All signature placements have been cleared.")},children:"Clear All Placements"})]}),d.jsx(xH,{}),d.jsx(dme,{signers:p,setSigners:f,onSendInvites:ue})]})})})})]}):d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Dashboard"}),d.jsx("p",{className:"text-gray-500",children:"Manage your documents and signatures."})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs(qe,{variant:"outline",className:"bg-white",children:[d.jsx(oZ,{className:"w-4 h-4 mr-2"})," Settings"]}),d.jsx("label",{htmlFor:"new-doc-upload-input",className:"cursor-pointer",children:d.jsxs(qe,{className:"bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black font-medium pointer-events-none",children:[d.jsx(ks,{className:"w-4 h-4 mr-2"}),"New Document"]})}),d.jsx("input",{id:"new-doc-upload-input",type:"file",className:"hidden",accept:".pdf,.doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:Ee=>{Ee.target.files&&Ee.target.files[0]&&ne(Ee.target.files[0])}})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs(pc,{className:"bg-white shadow-sm border-gray-200",children:[d.jsxs(mp,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(gp,{className:"text-sm font-medium text-gray-600",children:"Total Documents"}),d.jsx(Ys,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(mc,{children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:N.total}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All documents"})]})]}),d.jsxs(pc,{className:"bg-white shadow-sm border-gray-200",children:[d.jsxs(mp,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(gp,{className:"text-sm font-medium text-gray-600",children:"Signed"}),d.jsx(Ha,{className:"h-4 w-4 text-green-500"})]}),d.jsxs(mc,{children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:N.signed}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Completed documents"})]})]}),d.jsxs(pc,{className:"bg-white shadow-sm border-gray-200",children:[d.jsxs(mp,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(gp,{className:"text-sm font-medium text-gray-600",children:"Pending"}),d.jsx(tB,{className:"h-4 w-4 text-orange-500"})]}),d.jsxs(mc,{children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:N.pending}),d.jsx("p",{className:"text-xs text-orange-600 font-medium mt-1",children:"Action required"})]})]})]}),d.jsx(pc,{className:"border-dashed border-2 border-gray-200 bg-gray-50/50 hover:bg-gray-50 transition-colors shadow-none",children:d.jsx(mc,{className:"pt-6",children:d.jsx(ume,{onFileSelect:ne,currentFile:o,accept:".pdf,.doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"})})}),d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"px-4 md:px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[d.jsxs("h2",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[d.jsx(nB,{className:"w-4 h-4 text-gray-500"}),"Recent Documents"]}),d.jsx(qe,{variant:"ghost",size:"sm",className:"text-primary h-8 text-xs",children:"View All"})]}),d.jsx("div",{className:"divide-y divide-gray-100",children:V?d.jsx("div",{className:"flex justify-center py-8",children:d.jsx(zi,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):w.length===0?d.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[d.jsx(Ys,{className:"w-10 h-10 mx-auto mb-3 text-gray-300"}),d.jsx("p",{children:"No recent documents found"})]}):w.map(Ee=>{var Ce;return d.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50 transition-colors group cursor-pointer",children:[d.jsxs("div",{className:"flex items-center gap-3 md:gap-4 min-w-0 flex-1",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center shrink-0",children:d.jsx(Ys,{className:"w-5 h-5 text-blue-600"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("h3",{className:"font-medium text-gray-900 truncate",children:Ee.name}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[d.jsx("span",{children:(Ce=Ee.createdAt)!=null&&Ce.seconds?new Date(Ee.createdAt.seconds*1e3).toLocaleDateString():"Unknown date"}),d.jsx("span",{children:""}),d.jsx("span",{children:Ee.ownerEmail})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-4 pl-2",children:[d.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${Ee.status==="Signed"||Ee.status==="completed"?"bg-green-500/10 text-green-500":Ee.status==="Pending"||Ee.status==="pending"?"bg-orange-500/10 text-orange-600":"bg-gray-100 text-gray-600"}`,children:Ee.status||"Draft"}),d.jsx(qe,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-red-600 hover:bg-red-50",onClick:Le=>we(Le,Ee.id),children:d.jsx(sB,{className:"w-4 h-4"})})]})]},Ee.id)})})]})]})})]}),M&&o&&d.jsx(sW,{document:{id:"temp",name:o.name,status:"pending",signature_data:null,signature_type:null},onClose:()=>R(!1),onSave:ge})]})},Wye=()=>{const n=Dd();return D.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Gye=()=>{const{user:n,loading:e}=D1(),t=Dd();return e?d.jsx("div",{children:"Loading..."}):n?n.emailVerified?d.jsx(Cre,{}):d.jsx(YD,{to:"/auth",replace:!0}):d.jsx(YD,{to:"/auth",state:{from:t},replace:!0})};var xw={};xw.d=(n,e)=>{for(var t in e)xw.o(e,t)&&!xw.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};xw.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Yt=globalThis.pdfjsLib={};xw.d(Yt,{AbortException:()=>xg,AnnotationEditorLayer:()=>UP,AnnotationEditorParamsType:()=>qt,AnnotationEditorType:()=>tn,AnnotationEditorUIManager:()=>ig,AnnotationLayer:()=>qbe,AnnotationMode:()=>xh,ColorPicker:()=>pE,DOMSVGFactory:()=>uL,DrawLayer:()=>HP,FeatureTest:()=>eo,GlobalWorkerOptions:()=>od,ImageKind:()=>N5,InvalidPDFException:()=>aW,MissingPDFException:()=>bg,OPS:()=>bl,OutputScale:()=>LI,PDFDataRangeTransport:()=>rG,PDFDateString:()=>rL,PDFWorker:()=>j0,PasswordResponses:()=>Qye,PermissionFlag:()=>Xye,PixelsPerInch:()=>Rf,RenderingCancelledException:()=>tL,TextLayer:()=>aP,UnexpectedResponseException:()=>QS,Util:()=>At,VerbosityLevel:()=>KS,XfaLayer:()=>sG,build:()=>Sbe,createValidAbsoluteUrl:()=>twe,fetchData:()=>ZS,getDocument:()=>gbe,getFilenameFromUrl:()=>uwe,getPdfFilenameFromUrl:()=>dwe,getXfaPageViewport:()=>hwe,isDataScheme:()=>eN,isPdfFile:()=>nL,noContextMenu:()=>nl,normalizeUnicode:()=>awe,setLayerDimensions:()=>rg,shadow:()=>wn,version:()=>Ebe});const Ls=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),oW=[1,0,0,1,0,0],kI=[.001,0,0,.001,0,0],Kye=1e7,sT=1.35,sa={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},xh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Yye="pdfjs_internal_editor_",tn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},qt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Xye={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},bs={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},N5={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},wi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},by={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},KS={ERRORS:0,WARNINGS:1,INFOS:5},bl={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},Qye={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let YS=KS.WARNINGS;function Jye(n){Number.isInteger(n)&&(YS=n)}function Zye(){return YS}function XS(n){YS>=KS.INFOS&&console.log(`Info: ${n}`)}function on(n){YS>=KS.WARNINGS&&console.log(`Warning: ${n}`)}function pr(n){throw new Error(n)}function Ei(n,e){n||pr(e)}function ewe(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function twe(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=owe(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(ewe(r))return r}catch{}return null}function wn(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Hf=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class II extends Hf{constructor(e,t){super(e,"PasswordException"),this.code=t}}class PI extends Hf{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class aW extends Hf{constructor(e){super(e,"InvalidPDFException")}}class bg extends Hf{constructor(e){super(e,"MissingPDFException")}}class QS extends Hf{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class nwe extends Hf{constructor(e){super(e,"FormatError")}}class xg extends Hf{constructor(e){super(e,"AbortException")}}function lW(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&pr("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function JS(n){typeof n!="string"&&pr("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function rwe(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Z3(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function iwe(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function swe(){try{return new Function(""),!0}catch{return!1}}class eo{static get isLittleEndian(){return wn(this,"isLittleEndian",iwe())}static get isEvalSupported(){return wn(this,"isEvalSupported",swe())}static get isOffscreenCanvasSupported(){return wn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?wn(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):wn(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return wn(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const oT=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var vd,C5,RI;class At{static makeHexColor(e,t,r){return`#${oT[e]}${oT[t]}${oT[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(r+o)/2,l=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,c=a+l||1,u=a-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,t,r,i,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],W(this,vd,RI).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),c),W(this,vd,RI).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),c),c}}vd=new WeakSet,C5=function(e,t,r,i,s,o,a,l,c,u){if(c<=0||c>=1)return;const h=1-c,p=c*c,f=p*c,w=h*(h*(h*e+3*c*t)+3*p*r)+f*i,y=h*(h*(h*s+3*c*o)+3*p*a)+f*l;u[0]=Math.min(u[0],w),u[1]=Math.min(u[1],y),u[2]=Math.max(u[2],w),u[3]=Math.max(u[3],y)},RI=function(e,t,r,i,s,o,a,l,c,u,h,p){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&W(this,vd,C5).call(this,e,t,r,i,s,o,a,l,-h/u,p);return}const f=u**2-4*h*c;if(f<0)return;const w=Math.sqrt(f),y=2*c;W(this,vd,C5).call(this,e,t,r,i,s,o,a,l,(-u+w)/y,p),W(this,vd,C5).call(this,e,t,r,i,s,o,a,l,(-u-w)/y,p)},K(At,vd);function owe(n){return decodeURIComponent(escape(n))}let aT=null,kF=null;function awe(n){return aT||(aT=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,kF=new Map([["","t"]])),n.replaceAll(aT,(e,t,r)=>t?t.normalize("NFKC"):kF.get(r))}function lwe(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return lW(n)}const eL="pdfjs_internal_id_",Eu={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function cwe(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(lW(n))}const Cu="http://www.w3.org/2000/svg",wp=class wp{};rt(wp,"CSS",96),rt(wp,"PDF",72),rt(wp,"PDF_TO_CSS_UNITS",wp.CSS/wp.PDF);let Rf=wp;async function ZS(n,e="text"){if(Fy(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class _x{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,h,p;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,u=0,h=0,p=1;break;case 90:c=0,u=1,h=1,p=0;break;case 270:c=0,u=-1,h=-1,p=0;break;case 0:c=1,u=0,h=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,p=-p);let f,w,y,_;c===0?(f=Math.abs(l-e[1])*t+i,w=Math.abs(a-e[0])*t+s,y=(e[3]-e[1])*t,_=(e[2]-e[0])*t):(f=Math.abs(a-e[0])*t+i,w=Math.abs(l-e[1])*t+s,y=(e[2]-e[0])*t,_=(e[3]-e[1])*t),this.transform=[c*t,u*t,h*t,p*t,f-c*t*a-h*t*l,w-u*t*a-p*t*l],this.width=y,this.height=_}get rawDims(){const{viewBox:e}=this;return wn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new _x({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return At.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=At.applyTransform([e[0],e[1]],this.transform),r=At.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return At.applyInverseTransform([e,t],this.transform)}}class tL extends Hf{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function eN(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function nL(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function uwe(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function dwe(n,e="document.pdf"){if(typeof n!="string")return e;if(eN(n))return on('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class IF{constructor(){rt(this,"started",Object.create(null));rt(this,"times",[])}time(e){e in this.started&&on(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||on(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function Fy(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function nl(n){n.preventDefault()}function PF(n){console.log("Deprecated API usage: "+n)}var Sb;class rL{static toDateObject(e){if(!e||typeof e!="string")return null;m(this,Sb)||z(this,Sb,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=m(this,Sb).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(o+=u,a+=h):c==="+"&&(o-=u,a-=h),new Date(Date.UTC(r,i,s,o,a,l))}}Sb=new WeakMap,K(rL,Sb);function hwe(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new _x({viewBox:s,scale:e,rotation:t})}function iL(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(on(`Not a valid color format: "${n}"`),[0,0,0])}function fwe(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,iL(r))}e.remove()}function Pr(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function Su(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function rg(n,e,t=!1,r=!0){if(e instanceof _x){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=eo.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${s}px`,u=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,h=a?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!t||e.rotation%180===0?(o.width=u,o.height=h):(o.width=h,o.height=u)}r&&n.setAttribute("data-main-rotation",e.rotation)}class LI{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Ch,jp,Al,Op,Nb,Cb,gE,cW,to,uW,dW,T5,hW,MI;const ku=class ku{constructor(e){K(this,to);K(this,Ch,null);K(this,jp,null);K(this,Al);K(this,Op,null);K(this,Nb,null);z(this,Al,e),m(ku,Cb)||z(ku,Cb,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=z(this,Ch,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=m(this,Al)._uiManager._signal;e.addEventListener("contextmenu",nl,{signal:t}),e.addEventListener("pointerdown",W(ku,gE,cW),{signal:t});const r=z(this,Op,document.createElement("div"));r.className="buttons",e.append(r);const i=m(this,Al).toolbarPosition;if(i){const{style:s}=e,o=m(this,Al)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return W(this,to,hW).call(this),e}get div(){return m(this,Ch)}hide(){var e;m(this,Ch).classList.add("hidden"),(e=m(this,jp))==null||e.hideDropdown()}show(){var e;m(this,Ch).classList.remove("hidden"),(e=m(this,Nb))==null||e.shown()}async addAltText(e){const t=await e.render();W(this,to,T5).call(this,t),m(this,Op).prepend(t,m(this,to,MI)),z(this,Nb,e)}addColorPicker(e){z(this,jp,e);const t=e.renderButton();W(this,to,T5).call(this,t),m(this,Op).prepend(t,m(this,to,MI))}remove(){var e;m(this,Ch).remove(),(e=m(this,jp))==null||e.destroy(),z(this,jp,null)}};Ch=new WeakMap,jp=new WeakMap,Al=new WeakMap,Op=new WeakMap,Nb=new WeakMap,Cb=new WeakMap,gE=new WeakSet,cW=function(e){e.stopPropagation()},to=new WeakSet,uW=function(e){m(this,Al)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},dW=function(e){m(this,Al)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},T5=function(e){const t=m(this,Al)._uiManager._signal;e.addEventListener("focusin",W(this,to,uW).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",W(this,to,dW).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",nl,{signal:t})},hW=function(){const{editorType:e,_uiManager:t}=m(this,Al),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",m(ku,Cb)[e]),W(this,to,T5).call(this,r),r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),m(this,Op).append(r)},MI=function(){const e=document.createElement("div");return e.className="divider",e},K(ku,gE),K(ku,Cb,null);let DI=ku;var Tb,Fp,Bp,Df,fW,pW,mW;class pwe{constructor(e){K(this,Df);K(this,Tb,null);K(this,Fp,null);K(this,Bp);z(this,Bp,e)}show(e,t,r){const[i,s]=W(this,Df,pW).call(this,t,r),{style:o}=m(this,Fp)||z(this,Fp,W(this,Df,fW).call(this));e.append(m(this,Fp)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,Fp).remove()}}Tb=new WeakMap,Fp=new WeakMap,Bp=new WeakMap,Df=new WeakSet,fW=function(){const e=z(this,Fp,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",nl,{signal:m(this,Bp)._signal});const t=z(this,Tb,document.createElement("div"));return t.className="buttons",e.append(t),W(this,Df,mW).call(this),e},pW=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},mW=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=m(this,Bp)._signal;e.addEventListener("contextmenu",nl,{signal:r}),e.addEventListener("click",()=>{m(this,Bp).highlightSelection("floating_button")},{signal:r}),m(this,Tb).append(e)};function dE(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function mwe(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var vE;class gwe{constructor(){K(this,vE,0)}get id(){return`${Yye}${Ii(this,vE)._++}`}}vE=new WeakMap;var G0,kb,As,K0,k5;const fL=class fL{constructor(){K(this,K0);K(this,G0,lwe());K(this,kb,0);K(this,As,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return wn(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return W(this,K0,k5).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return W(this,K0,k5).call(this,e,e)}async getFromBlob(e,t){const r=await t;return W(this,K0,k5).call(this,e,r)}async getFromId(e){m(this,As)||z(this,As,new Map);const t=m(this,As).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){m(this,As)||z(this,As,new Map);let r=m(this,As).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${m(this,G0)}_${Ii(this,kb)._++}`,refCounter:1,isSvg:!1},m(this,As).set(e,r),m(this,As).set(r.id,r),r}getSvgUrl(e){const t=m(this,As).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;m(this,As)||z(this,As,new Map);const t=m(this,As).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${m(this,G0)}_`)}};G0=new WeakMap,kb=new WeakMap,As=new WeakMap,K0=new WeakSet,k5=async function(e,t){m(this,As)||z(this,As,new Map);let r=m(this,As).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${m(this,G0)}_${Ii(this,kb)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await ZS(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=fL._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},o.onload=async()=>{const h=r.svgUrl=o.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=u});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return m(this,As).set(e,r),r&&m(this,As).set(r.id,r),r};let jI=fL;var Ri,Th,Ib,Li;class vwe{constructor(e=128){K(this,Ri,[]);K(this,Th,!1);K(this,Ib);K(this,Li,-1);z(this,Ib,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),m(this,Th))return;const l={cmd:e,undo:t,post:r,type:s};if(m(this,Li)===-1){m(this,Ri).length>0&&(m(this,Ri).length=0),z(this,Li,0),m(this,Ri).push(l);return}if(o&&m(this,Ri)[m(this,Li)].type===s){a&&(l.undo=m(this,Ri)[m(this,Li)].undo),m(this,Ri)[m(this,Li)]=l;return}const c=m(this,Li)+1;c===m(this,Ib)?m(this,Ri).splice(0,1):(z(this,Li,c),c<m(this,Ri).length&&m(this,Ri).splice(c)),m(this,Ri).push(l)}undo(){if(m(this,Li)===-1)return;z(this,Th,!0);const{undo:e,post:t}=m(this,Ri)[m(this,Li)];e(),t==null||t(),z(this,Th,!1),z(this,Li,m(this,Li)-1)}redo(){if(m(this,Li)<m(this,Ri).length-1){z(this,Li,m(this,Li)+1),z(this,Th,!0);const{cmd:e,post:t}=m(this,Ri)[m(this,Li)];e(),t==null||t(),z(this,Th,!1)}}hasSomethingToUndo(){return m(this,Li)!==-1}hasSomethingToRedo(){return m(this,Li)<m(this,Ri).length-1}destroy(){z(this,Ri,null)}}Ri=new WeakMap,Th=new WeakMap,Ib=new WeakMap,Li=new WeakMap;var yE,gW;class Ax{constructor(e){K(this,yE);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=eo.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(W(this,yE,gW).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}yE=new WeakSet,gW=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const wE=class wE{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return fwe(e),wn(this,"_colors",e)}convert(e){const t=iL(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return wE._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?At.makeHexColor(...t):e}};rt(wE,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let OI=wE;var Y0,Qo,bi,Qi,X0,Mu,Q0,El,kh,J0,Up,wc,Sl,Vp,Pb,Rb,Z0,Lb,bc,Ih,ev,Ph,xc,bE,Rh,Db,Lh,zp,Mb,jb,Di,Vn,ju,$p,Ob,Fb,Dh,_c,Ou,Bb,Oa,tt,I5,FI,vW,yW,P5,wW,bW,xW,BI,_W,UI,VI,AW,$s,dh,EW,SW,zI,NW,By,$I;const m0=class m0{constructor(e,t,r,i,s,o,a,l,c,u,h){K(this,tt);K(this,Y0,new AbortController);K(this,Qo,null);K(this,bi,new Map);K(this,Qi,new Map);K(this,X0,null);K(this,Mu,null);K(this,Q0,null);K(this,El,new vwe);K(this,kh,null);K(this,J0,0);K(this,Up,new Set);K(this,wc,null);K(this,Sl,null);K(this,Vp,new Set);K(this,Pb,!1);K(this,Rb,!1);K(this,Z0,!1);K(this,Lb,null);K(this,bc,null);K(this,Ih,null);K(this,ev,null);K(this,Ph,!1);K(this,xc,null);K(this,bE,new gwe);K(this,Rh,!1);K(this,Db,!1);K(this,Lh,null);K(this,zp,null);K(this,Mb,null);K(this,jb,null);K(this,Di,tn.NONE);K(this,Vn,new Set);K(this,ju,null);K(this,$p,null);K(this,Ob,null);K(this,Fb,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});K(this,Dh,[0,0]);K(this,_c,null);K(this,Ou,null);K(this,Bb,null);K(this,Oa,null);const p=this._signal=m(this,Y0).signal;z(this,Ou,e),z(this,Bb,t),z(this,X0,r),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:p}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),i._on("setpreference",this.onSetPreference.bind(this),{signal:p}),i._on("switchannotationeditorparams",f=>this.updateParams(f.type,f.value),{signal:p}),W(this,tt,wW).call(this),W(this,tt,AW).call(this),W(this,tt,BI).call(this),z(this,Mu,s.annotationStorage),z(this,Lb,s.filterFactory),z(this,$p,o),z(this,ev,a||null),z(this,Pb,l),z(this,Rb,c),z(this,Z0,u),z(this,jb,h||null),this.viewParameters={realScale:Rf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=m0.prototype,t=o=>m(o,Ou).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return wn(this,"_keyboardManager",new Ax([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&m(o,Ou).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&m(o,Ou).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i;(e=m(this,Oa))==null||e.resolve(),z(this,Oa,null),(t=m(this,Y0))==null||t.abort(),z(this,Y0,null),this._signal=null;for(const s of m(this,Qi).values())s.destroy();m(this,Qi).clear(),m(this,bi).clear(),m(this,Vp).clear(),z(this,Qo,null),m(this,Vn).clear(),m(this,El).destroy(),(r=m(this,X0))==null||r.destroy(),(i=m(this,xc))==null||i.hide(),z(this,xc,null),m(this,bc)&&(clearTimeout(m(this,bc)),z(this,bc,null)),m(this,_c)&&(clearTimeout(m(this,_c)),z(this,_c,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return m(this,jb)}get useNewAltTextFlow(){return m(this,Rb)}get useNewAltTextWhenAddingImage(){return m(this,Z0)}get hcmFilter(){return wn(this,"hcmFilter",m(this,$p)?m(this,Lb).addHCMFilter(m(this,$p).foreground,m(this,$p).background):"none")}get direction(){return wn(this,"direction",getComputedStyle(m(this,Ou)).direction)}get highlightColors(){return wn(this,"highlightColors",m(this,ev)?new Map(m(this,ev).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return wn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){z(this,Mb,e)}editAltText(e,t=!1){var r;(r=m(this,X0))==null||r.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":z(this,Z0,t);break}}onPageChanging({pageNumber:e}){z(this,J0,e-1)}focusMainContainer(){m(this,Ou).focus()}findParent(e,t){for(const r of m(this,Qi).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){m(this,Bb).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,Vp).add(e)}removeShouldRescale(e){m(this,Vp).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Rf.PDF_TO_CSS_UNITS;for(const t of m(this,Vp))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),c=W(this,tt,I5).call(this,t).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;t.empty();const h=W(this,tt,FI).call(this,c),p=m(this,Di)===tn.NONE,f=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a}),p&&this.showAllEditors("highlight",!0,!0)};if(p){this.switchToMode(tn.HIGHLIGHT,f);return}f()}addToAnnotationStorage(e){!e.isEmpty()&&m(this,Mu)&&!m(this,Mu).has(e.id)&&m(this,Mu).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,m(this,Ph)&&(z(this,Ph,!1),W(this,tt,P5).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of m(this,Vn))if(t.div.contains(e)){z(this,zp,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!m(this,zp))return;const[e,t]=m(this,zp);z(this,zp,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){W(this,tt,BI).call(this),W(this,tt,UI).call(this)}removeEditListeners(){W(this,tt,_W).call(this),W(this,tt,VI).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of m(this,Sl))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of m(this,Sl))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=m(this,Qo))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of m(this,Vn)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of m(this,Sl))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){on(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)W(this,tt,zI).call(this,l);W(this,tt,$I).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){on(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,Di)!==tn.NONE&&!this.isEditorHandlingKeyboard&&m0._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,Ph)&&(z(this,Ph,!1),W(this,tt,P5).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(W(this,tt,bW).call(this),W(this,tt,UI).call(this),W(this,tt,$s).call(this,{isEditing:m(this,Di)!==tn.NONE,isEmpty:W(this,tt,By).call(this),hasSomethingToUndo:m(this,El).hasSomethingToUndo(),hasSomethingToRedo:m(this,El).hasSomethingToRedo(),hasSelectedEditor:!1})):(W(this,tt,xW).call(this),W(this,tt,VI).call(this),W(this,tt,$s).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,Sl)){z(this,Sl,e);for(const t of m(this,Sl))W(this,tt,dh).call(this,t.defaultPropertiesToUpdate)}}getId(){return m(this,bE).id}get currentLayer(){return m(this,Qi).get(m(this,J0))}getLayer(e){return m(this,Qi).get(e)}get currentPageIndex(){return m(this,J0)}addLayer(e){m(this,Qi).set(e.pageIndex,e),m(this,Rh)?e.enable():e.disable()}removeLayer(e){m(this,Qi).delete(e.pageIndex)}async updateMode(e,t=null,r=!1){if(m(this,Di)!==e&&!(m(this,Oa)&&(await m(this,Oa).promise,!m(this,Oa)))){if(z(this,Oa,Promise.withResolvers()),z(this,Di,e),e===tn.NONE){this.setEditingState(!1),W(this,tt,SW).call(this),m(this,Oa).resolve();return}this.setEditingState(!0),await W(this,tt,EW).call(this),this.unselectAll();for(const i of m(this,Qi).values())i.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),m(this,Oa).resolve();return}for(const i of m(this,bi).values())i.annotationElementId===t?(this.setSelected(i),i.enterInEditMode()):i.unselect();m(this,Oa).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==m(this,Di)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(m(this,Sl)){switch(e){case qt.CREATE:this.currentLayer.addNewEditor();return;case qt.HIGHLIGHT_DEFAULT_COLOR:(r=m(this,Mb))==null||r.updateColor(t);break;case qt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,Ob)||z(this,Ob,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of m(this,Vn))i.updateParams(e,t);for(const i of m(this,Sl))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of m(this,bi).values())o.editorType===e&&o.show(t);(((s=m(this,Ob))==null?void 0:s.get(qt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&W(this,tt,dh).call(this,[[qt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(m(this,Db)!==e){z(this,Db,e);for(const t of m(this,Qi).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of m(this,bi).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return m(this,bi).get(e)}addEditor(e){m(this,bi).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(m(this,bc)&&clearTimeout(m(this,bc)),z(this,bc,setTimeout(()=>{this.focusMainContainer(),z(this,bc,null)},0))),m(this,bi).delete(e.id),this.unselect(e),(!e.annotationElementId||!m(this,Up).has(e.annotationElementId))&&((t=m(this,Mu))==null||t.remove(e.id))}addDeletedAnnotationElement(e){m(this,Up).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,Up).has(e)}removeDeletedAnnotationElement(e){m(this,Up).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,Qo)!==e&&(z(this,Qo,e),e&&W(this,tt,dh).call(this,e.propertiesToUpdate))}updateUI(e){m(this,tt,NW)===e&&W(this,tt,dh).call(this,e.propertiesToUpdate)}toggleSelected(e){if(m(this,Vn).has(e)){m(this,Vn).delete(e),e.unselect(),W(this,tt,$s).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,Vn).add(e),e.select(),W(this,tt,dh).call(this,e.propertiesToUpdate),W(this,tt,$s).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of m(this,Vn))t!==e&&t.unselect();m(this,Vn).clear(),m(this,Vn).add(e),e.select(),W(this,tt,dh).call(this,e.propertiesToUpdate),W(this,tt,$s).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,Vn).has(e)}get firstSelectedEditor(){return m(this,Vn).values().next().value}unselect(e){e.unselect(),m(this,Vn).delete(e),W(this,tt,$s).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,Vn).size!==0}get isEnterHandled(){return m(this,Vn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){m(this,El).undo(),W(this,tt,$s).call(this,{hasSomethingToUndo:m(this,El).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:W(this,tt,By).call(this)})}redo(){m(this,El).redo(),W(this,tt,$s).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,El).hasSomethingToRedo(),isEmpty:W(this,tt,By).call(this)})}addCommands(e){m(this,El).add(e),W(this,tt,$s).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:W(this,tt,By).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...m(this,Vn)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)W(this,tt,zI).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=m(this,Qo))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,Qo)||this.hasSelection}selectAll(){for(const e of m(this,Vn))e.commit();W(this,tt,$I).call(this,m(this,bi).values())}unselectAll(){if(!(m(this,Qo)&&(m(this,Qo).commitOrRemove(),m(this,Di)!==tn.NONE))&&this.hasSelection){for(const e of m(this,Vn))e.unselect();m(this,Vn).clear(),W(this,tt,$s).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;m(this,Dh)[0]+=e,m(this,Dh)[1]+=t;const[i,s]=m(this,Dh),o=[...m(this,Vn)],a=1e3;m(this,_c)&&clearTimeout(m(this,_c)),z(this,_c,setTimeout(()=>{z(this,_c,null),m(this,Dh)[0]=m(this,Dh)[1]=0,this.addCommands({cmd:()=>{for(const l of o)m(this,bi).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of o)m(this,bi).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),z(this,wc,new Map);for(const e of m(this,Vn))m(this,wc).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,wc))return!1;this.disableUserSelect(!1);const e=m(this,wc);z(this,wc,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(m(this,bi).has(i.id)){const l=m(this,Qi).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(m(this,wc))for(const r of m(this,wc).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,Vn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,Qo)===e}getActive(){return m(this,Qo)}getMode(){return m(this,Di)}get imageManager(){return wn(this,"imageManager",new jI)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,u,h,p)=>({x:(u-i)/o,y:1-(c+h-r)/s,width:p/o,height:h/s});break;case"180":a=(c,u,h,p)=>({x:1-(c+h-r)/s,y:1-(u+p-i)/o,width:h/s,height:p/o});break;case"270":a=(c,u,h,p)=>({x:1-(u+p-i)/o,y:(c-r)/s,width:p/o,height:h/s});break;default:a=(c,u,h,p)=>({x:(c-r)/s,y:(u-i)/o,width:h/s,height:p/o});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const h=t.getRangeAt(c);if(!h.collapsed)for(const{x:p,y:f,width:w,height:y}of h.getClientRects())w===0||y===0||l.push(a(p,f,w,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(m(this,Q0)||z(this,Q0,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=m(this,Q0))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=m(this,Q0))==null?void 0:i.get(e.data.id);if(!t)return;const r=m(this,Mu).getRawValue(t);r&&(m(this,Di)===tn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};Y0=new WeakMap,Qo=new WeakMap,bi=new WeakMap,Qi=new WeakMap,X0=new WeakMap,Mu=new WeakMap,Q0=new WeakMap,El=new WeakMap,kh=new WeakMap,J0=new WeakMap,Up=new WeakMap,wc=new WeakMap,Sl=new WeakMap,Vp=new WeakMap,Pb=new WeakMap,Rb=new WeakMap,Z0=new WeakMap,Lb=new WeakMap,bc=new WeakMap,Ih=new WeakMap,ev=new WeakMap,Ph=new WeakMap,xc=new WeakMap,bE=new WeakMap,Rh=new WeakMap,Db=new WeakMap,Lh=new WeakMap,zp=new WeakMap,Mb=new WeakMap,jb=new WeakMap,Di=new WeakMap,Vn=new WeakMap,ju=new WeakMap,$p=new WeakMap,Ob=new WeakMap,Fb=new WeakMap,Dh=new WeakMap,_c=new WeakMap,Ou=new WeakMap,Bb=new WeakMap,Oa=new WeakMap,tt=new WeakSet,I5=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},FI=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of m(this,Qi).values())if(r.hasTextLayer(e))return r;return null},vW=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=W(this,tt,I5).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(m(this,xc)||z(this,xc,new pwe(this)),m(this,xc).show(r,i,this.direction==="ltr"))},yW=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){m(this,ju)&&((s=m(this,xc))==null||s.hide(),z(this,ju,null),W(this,tt,$s).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===m(this,ju))return;const i=W(this,tt,I5).call(this,e).closest(".textLayer");if(!i){m(this,ju)&&((o=m(this,xc))==null||o.hide(),z(this,ju,null),W(this,tt,$s).call(this,{hasSelectedText:!1}));return}if((a=m(this,xc))==null||a.hide(),z(this,ju,t),W(this,tt,$s).call(this,{hasSelectedText:!0}),!(m(this,Di)!==tn.HIGHLIGHT&&m(this,Di)!==tn.NONE)&&(m(this,Di)===tn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),z(this,Ph,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=m(this,Di)===tn.HIGHLIGHT?W(this,tt,FI).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),h=p=>{p.type==="pointerup"&&p.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),p.type==="pointerup"&&W(this,tt,P5).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("blur",h,{signal:u})}},P5=function(e=""){m(this,Di)===tn.HIGHLIGHT?this.highlightSelection(e):m(this,Pb)&&W(this,tt,vW).call(this)},wW=function(){document.addEventListener("selectionchange",W(this,tt,yW).bind(this),{signal:this._signal})},bW=function(){if(m(this,Ih))return;z(this,Ih,new AbortController);const e=this.combinedSignal(m(this,Ih));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},xW=function(){var e;(e=m(this,Ih))==null||e.abort(),z(this,Ih,null)},BI=function(){if(m(this,Lh))return;z(this,Lh,new AbortController);const e=this.combinedSignal(m(this,Lh));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},_W=function(){var e;(e=m(this,Lh))==null||e.abort(),z(this,Lh,null)},UI=function(){if(m(this,kh))return;z(this,kh,new AbortController);const e=this.combinedSignal(m(this,kh));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},VI=function(){var e;(e=m(this,kh))==null||e.abort(),z(this,kh,null)},AW=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},$s=function(e){Object.entries(e).some(([r,i])=>m(this,Fb)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,Fb),e)}),m(this,Di)===tn.HIGHLIGHT&&e.hasSelectedEditor===!1&&W(this,tt,dh).call(this,[[qt.HIGHLIGHT_FREE,!0]]))},dh=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},EW=async function(){if(!m(this,Rh)){z(this,Rh,!0);const e=[];for(const t of m(this,Qi).values())e.push(t.enable());await Promise.all(e);for(const t of m(this,bi).values())t.enable()}},SW=function(){if(this.unselectAll(),m(this,Rh)){z(this,Rh,!1);for(const e of m(this,Qi).values())e.disable();for(const e of m(this,bi).values())e.disable()}},zI=function(e){const t=m(this,Qi).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},NW=function(){let e=null;for(e of m(this,Vn));return e},By=function(){if(m(this,bi).size===0)return!0;if(m(this,bi).size===1)for(const e of m(this,bi).values())return e.isEmpty();return!1},$I=function(e){for(const t of m(this,Vn))t.unselect();m(this,Vn).clear();for(const t of e)t.isEmpty()||(m(this,Vn).add(t),t.select());W(this,tt,$s).call(this,{hasSelectedEditor:this.hasSelection})},rt(m0,"TRANSLATE_SMALL",1),rt(m0,"TRANSLATE_BIG",10);let ig=m0;var Mi,Ac,Nl,tv,Ec,Jo,nv,Sc,vo,Fu,Hp,Nc,Mh,Bl,Uy,R5;const Hs=class Hs{constructor(e){K(this,Bl);K(this,Mi,null);K(this,Ac,!1);K(this,Nl,null);K(this,tv,null);K(this,Ec,null);K(this,Jo,null);K(this,nv,!1);K(this,Sc,null);K(this,vo,null);K(this,Fu,null);K(this,Hp,null);K(this,Nc,!1);z(this,vo,e),z(this,Nc,e._uiManager.useNewAltTextFlow),m(Hs,Mh)||z(Hs,Mh,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Hs._l10n??(Hs._l10n=e)}async render(){const e=z(this,Nl,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=z(this,tv,document.createElement("span"));e.append(t),m(this,Nc)?(e.classList.add("new"),e.setAttribute("data-l10n-id",m(Hs,Mh).missing),t.setAttribute("data-l10n-id",m(Hs,Mh)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=m(this,vo)._uiManager._signal;e.addEventListener("contextmenu",nl,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),m(this,vo)._uiManager.editAltText(m(this,vo)),m(this,Nc)&&m(this,vo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:m(this,Bl,Uy)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(z(this,nv,!0),i(s))},{signal:r}),await W(this,Bl,R5).call(this),e}finish(){m(this,Nl)&&(m(this,Nl).focus({focusVisible:m(this,nv)}),z(this,nv,!1))}isEmpty(){return m(this,Nc)?m(this,Mi)===null:!m(this,Mi)&&!m(this,Ac)}hasData(){return m(this,Nc)?m(this,Mi)!==null||!!m(this,Fu):this.isEmpty()}get guessedText(){return m(this,Fu)}async setGuessedText(e){m(this,Mi)===null&&(z(this,Fu,e),z(this,Hp,await Hs._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),W(this,Bl,R5).call(this))}toggleAltTextBadge(e=!1){var t;if(!m(this,Nc)||m(this,Mi)){(t=m(this,Sc))==null||t.remove(),z(this,Sc,null);return}if(!m(this,Sc)){const r=z(this,Sc,document.createElement("div"));r.className="noAltTextBadge",m(this,vo).div.append(r)}m(this,Sc).classList.toggle("hidden",!e)}serialize(e){let t=m(this,Mi);return!e&&m(this,Fu)===t&&(t=m(this,Hp)),{altText:t,decorative:m(this,Ac),guessedText:m(this,Fu),textWithDisclaimer:m(this,Hp)}}get data(){return{altText:m(this,Mi),decorative:m(this,Ac)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(z(this,Fu,r),z(this,Hp,i)),!(m(this,Mi)===e&&m(this,Ac)===t)&&(s||(z(this,Mi,e),z(this,Ac,t)),W(this,Bl,R5).call(this))}toggle(e=!1){m(this,Nl)&&(!e&&m(this,Jo)&&(clearTimeout(m(this,Jo)),z(this,Jo,null)),m(this,Nl).disabled=!e)}shown(){m(this,vo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:m(this,Bl,Uy)}})}destroy(){var e,t;(e=m(this,Nl))==null||e.remove(),z(this,Nl,null),z(this,tv,null),z(this,Ec,null),(t=m(this,Sc))==null||t.remove(),z(this,Sc,null)}};Mi=new WeakMap,Ac=new WeakMap,Nl=new WeakMap,tv=new WeakMap,Ec=new WeakMap,Jo=new WeakMap,nv=new WeakMap,Sc=new WeakMap,vo=new WeakMap,Fu=new WeakMap,Hp=new WeakMap,Nc=new WeakMap,Mh=new WeakMap,Bl=new WeakSet,Uy=function(){return m(this,Mi)&&"added"||m(this,Mi)===null&&this.guessedText&&"review"||"missing"},R5=async function(){var i,s,o;const e=m(this,Nl);if(!e)return;if(m(this,Nc)){if(e.classList.toggle("done",!!m(this,Mi)),e.setAttribute("data-l10n-id",m(Hs,Mh)[m(this,Bl,Uy)]),(i=m(this,tv))==null||i.setAttribute("data-l10n-id",m(Hs,Mh)[`${m(this,Bl,Uy)}-label`]),!m(this,Mi)){(s=m(this,Ec))==null||s.remove();return}}else{if(!m(this,Mi)&&!m(this,Ac)){e.classList.remove("done"),(o=m(this,Ec))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=m(this,Ec);if(!t){z(this,Ec,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${m(this,vo).id}`;const a=100,l=m(this,vo)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(m(this,Jo)),z(this,Jo,null)},{once:!0}),e.addEventListener("mouseenter",()=>{z(this,Jo,setTimeout(()=>{z(this,Jo,null),m(this,Ec).classList.add("show"),m(this,vo)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;m(this,Jo)&&(clearTimeout(m(this,Jo)),z(this,Jo,null)),(c=m(this,Ec))==null||c.classList.remove("show")},{signal:l})}m(this,Ac)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=m(this,Mi)),t.parentNode||e.append(t);const r=m(this,vo).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},K(Hs,Mh,null),rt(Hs,"_l10n",null);let hE=Hs;var qp,Cl,kr,rv,Wp,Ji,Gp,jh,Ub,Kp,Oh,Vb,Yp,Bu,Cc,iv,sv,Fa,zb,xE,sn,HI,$b,qI,WI,CW,TW,GI,KI,YI,kW,XI,IW,PW,RW,QI,Vy;const jn=class jn{constructor(e){K(this,sn);K(this,qp,null);K(this,Cl,null);K(this,kr,null);K(this,rv,!1);K(this,Wp,!1);K(this,Ji,null);K(this,Gp,null);K(this,jh,null);K(this,Ub,"");K(this,Kp,!1);K(this,Oh,null);K(this,Vb,!1);K(this,Yp,!1);K(this,Bu,!1);K(this,Cc,null);K(this,iv,0);K(this,sv,0);K(this,Fa,null);rt(this,"_editToolbar",null);rt(this,"_initialOptions",Object.create(null));rt(this,"_initialData",null);rt(this,"_isVisible",!0);rt(this,"_uiManager",null);rt(this,"_focusEventsAllowed",!0);K(this,zb,!1);K(this,xE,jn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=jn.prototype._resizeWithKeyboard,t=ig.TRANSLATE_SMALL,r=ig.TRANSLATE_BIG;return wn(this,"_resizerKeyboardManager",new Ax([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],jn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return wn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new ywe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(jn._l10n??(jn._l10n=e),jn._l10nResizer||(jn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),jn._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);jn._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){pr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,zb)}set _isDraggable(e){var t;z(this,zb,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,xE)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):W(this,sn,Vy).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,Kp)?z(this,Kp,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){W(this,sn,HI).call(this,this.parentDimensions,e,t)}translateInPage(e,t){m(this,Oh)||z(this,Oh,[this.x,this.y]),W(this,sn,HI).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){m(this,Oh)||z(this,Oh,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!m(this,Oh)&&(m(this,Oh)[0]!==this.x||m(this,Oh)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=jn,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=t,a*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),s=Math.max(0,Math.min(r-a,s));break;case 90:i=Math.max(0,Math.min(t-a,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(t,Math.max(o,i)),s=Math.min(r,Math.max(a,s));break;case 270:i=Math.min(t,Math.max(a,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=t,this.y=s/=r;const[l,c]=this.getBaseTranslation();i+=l,s+=c;const{style:u}=this.div;u.left=`${(100*i).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return W(r=jn,$b,qI).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return W(r=jn,$b,qI).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,m(this,Wp)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!m(this,Wp)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!m(this,Wp)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=m(this,kr))==null||e.finish()}async addEditToolbar(){return this._editToolbar||m(this,Yp)?this._editToolbar:(this._editToolbar=new DI(this),this.div.append(this._editToolbar.render()),m(this,kr)&&await this._editToolbar.addAltText(m(this,kr)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=m(this,kr))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){m(this,kr)||(hE.initialize(jn._l10n),z(this,kr,new hE(this)),m(this,qp)&&(m(this,kr).data=m(this,qp),z(this,qp,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=m(this,kr))==null?void 0:e.data}set altTextData(e){m(this,kr)&&(m(this,kr).data=e)}get guessedAltText(){var e;return(e=m(this,kr))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=m(this,kr))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=m(this,kr))==null?void 0:t.serialize(e)}hasAltText(){return!!m(this,kr)&&!m(this,kr).isEmpty()}hasAltTextData(){var e;return((e=m(this,kr))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=m(this,rv)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),W(this,sn,XI).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),dE(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=eo.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(z(this,Kp,!0),this._isDraggable){W(this,sn,kW).call(this,e);return}W(this,sn,YI).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){m(this,Cc)&&clearTimeout(m(this,Cc)),z(this,Cc,setTimeout(()=>{var e;z(this,Cc,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/i,u=t/i,h=this.x*s,p=this.y*o,f=this.width*s,w=this.height*o;switch(r){case 0:return[h+c+a,o-p-u-w+l,h+c+f+a,o-p-u+l];case 90:return[h+u+a,o-p+c+l,h+u+w+a,o-p+c+f+l];case 180:return[h-c-f+a,o-p+u+l,h-c+a,o-p+u+w+l];case 270:return[h-u-w+a,o-p-c-f+l,h-u+a,o-p-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){z(this,Yp,!0)}disableEditMode(){z(this,Yp,!1)}isInEditMode(){return m(this,Yp)}shouldGetKeyboardEvents(){return m(this,Bu)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){W(this,sn,XI).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){pr("An editor must be serializable")}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,z(i,qp,e.accessibilityData);const[s,o]=i.pageDimensions,[a,l,c,u]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=u/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=m(this,jh))==null||e.abort(),z(this,jh,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,Cc)&&(clearTimeout(m(this,Cc)),z(this,Cc,null)),W(this,sn,Vy).call(this),this.removeEditToolbar(),m(this,Fa)){for(const t of m(this,Fa).values())clearTimeout(t);z(this,Fa,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(W(this,sn,CW).call(this),m(this,Ji).classList.remove("hidden"),dE(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),z(this,Gp,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=m(this,Ji).children;if(!m(this,Cl)){z(this,Cl,Array.from(t));const o=W(this,sn,IW).bind(this),a=W(this,sn,PW).bind(this),l=this._uiManager._signal;for(const c of m(this,Cl)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",W(this,sn,RW).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",jn._l10nResizer[u])}}const r=m(this,Cl)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(m(this,Cl).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)m(this,Ji).append(m(this,Ji).firstChild);else if(s>i)for(let a=0;a<s-i;a++)m(this,Ji).firstChild.before(m(this,Ji).lastChild);let o=0;for(const a of t){const c=m(this,Cl)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",jn._l10nResizer[c])}}W(this,sn,QI).call(this,0),z(this,Bu,!0),m(this,Ji).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){m(this,Bu)&&W(this,sn,KI).call(this,m(this,Ub),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){W(this,sn,Vy).call(this),this.div.focus()}select(){var e,t,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=m(this,kr))==null||r.toggleAltTextBadge(!1)}unselect(){var e,t,r,i,s;(e=m(this,Ji))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=m(this,kr))==null||s.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return m(this,Vb)}set isEditing(e){z(this,Vb,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){z(this,Wp,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){m(this,Fa)||z(this,Fa,new Map);const{action:r}=e;let i=m(this,Fa).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,Fa).delete(r),m(this,Fa).size===0&&z(this,Fa,null)},jn._telemetryTimeout),m(this,Fa).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),z(this,rv,!1)}disable(){this.div&&(this.div.tabIndex=-1),z(this,rv,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};qp=new WeakMap,Cl=new WeakMap,kr=new WeakMap,rv=new WeakMap,Wp=new WeakMap,Ji=new WeakMap,Gp=new WeakMap,jh=new WeakMap,Ub=new WeakMap,Kp=new WeakMap,Oh=new WeakMap,Vb=new WeakMap,Yp=new WeakMap,Bu=new WeakMap,Cc=new WeakMap,iv=new WeakMap,sv=new WeakMap,Fa=new WeakMap,zb=new WeakMap,xE=new WeakMap,sn=new WeakSet,HI=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},$b=new WeakSet,qI=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},WI=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},CW=function(){if(m(this,Ji))return;z(this,Ji,document.createElement("div")),m(this,Ji).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");m(this,Ji).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",W(this,sn,TW).bind(this,r),{signal:t}),i.addEventListener("contextmenu",nl,{signal:t}),i.tabIndex=-1}this.div.prepend(m(this,Ji))},TW=function(e,t){var w;t.preventDefault();const{isMac:r}=eo.platform;if(t.button!==0||t.ctrlKey&&r)return;(w=m(this,kr))==null||w.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",W(this,sn,KI).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",nl,{signal:o});const a=this.x,l=this.y,c=this.width,u=this.height,h=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{var y;s.abort(),this.parent.togglePointerEvents(!0),(y=m(this,kr))==null||y.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=h,this.div.style.cursor=p,W(this,sn,GI).call(this,a,l,c,u)};window.addEventListener("pointerup",f,{signal:o}),window.addEventListener("blur",f,{signal:o})},GI=function(e,t,r,i){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[c,u]=this.parentDimensions;this.setDims(c*a,u*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[c,u]=this.parentDimensions;this.setDims(c*r,u*i),this.fixAndSetPosition()},mustExec:!0})},KI=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=jn.MIN_SIZE/r,u=jn.MIN_SIZE/i,h=ae=>Math.round(ae*1e4)/1e4,p=W(this,sn,WI).call(this,this.rotation),f=(ae,Q)=>[p[0]*ae+p[2]*Q,p[1]*ae+p[3]*Q],w=W(this,sn,WI).call(this,360-this.rotation),y=(ae,Q)=>[w[0]*ae+w[2]*Q,w[1]*ae+w[3]*Q];let _,b,A=!1,E=!1;switch(e){case"topLeft":A=!0,_=(ae,Q)=>[0,0],b=(ae,Q)=>[ae,Q];break;case"topMiddle":_=(ae,Q)=>[ae/2,0],b=(ae,Q)=>[ae/2,Q];break;case"topRight":A=!0,_=(ae,Q)=>[ae,0],b=(ae,Q)=>[0,Q];break;case"middleRight":E=!0,_=(ae,Q)=>[ae,Q/2],b=(ae,Q)=>[0,Q/2];break;case"bottomRight":A=!0,_=(ae,Q)=>[ae,Q],b=(ae,Q)=>[0,0];break;case"bottomMiddle":_=(ae,Q)=>[ae/2,Q],b=(ae,Q)=>[ae/2,0];break;case"bottomLeft":A=!0,_=(ae,Q)=>[0,Q],b=(ae,Q)=>[ae,0];break;case"middleLeft":E=!0,_=(ae,Q)=>[0,Q/2],b=(ae,Q)=>[ae,Q/2];break}const N=_(a,l),F=b(a,l);let V=f(...F);const L=h(s+V[0]),C=h(o+V[1]);let k=1,j=1,[T,M]=this.screenToPageTranslation(t.movementX,t.movementY);if([T,M]=y(T/r,M/i),A){const ae=Math.hypot(a,l);k=j=Math.max(Math.min(Math.hypot(F[0]-N[0]-T,F[1]-N[1]-M)/ae,1/a,1/l),c/a,u/l)}else E?k=Math.max(c,Math.min(1,Math.abs(F[0]-N[0]-T)))/a:j=Math.max(u,Math.min(1,Math.abs(F[1]-N[1]-M)))/l;const R=h(a*k),q=h(l*j);V=f(...b(R,q));const ce=L-V[0],de=C-V[1];this.width=R,this.height=q,this.x=ce,this.y=de,this.setDims(r*R,i*q),this.fixAndSetPosition()},YI=function(e){const{isMac:t}=eo.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},kW=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const r=new AbortController,i=this._uiManager.combinedSignal(r);if(t){this.div.classList.add("moving"),z(this,iv,e.clientX),z(this,sv,e.clientY);const o=a=>{const{clientX:l,clientY:c}=a,[u,h]=this.screenToPageTranslation(l-m(this,iv),c-m(this,sv));z(this,iv,l),z(this,sv,c),this._uiManager.dragSelectedEditors(u,h)};window.addEventListener("pointermove",o,{passive:!0,capture:!0,signal:i})}const s=()=>{r.abort(),t&&this.div.classList.remove("moving"),z(this,Kp,!1),this._uiManager.endDragSession()||W(this,sn,YI).call(this,e)};window.addEventListener("pointerup",s,{signal:i}),window.addEventListener("blur",s,{signal:i})},XI=function(){if(m(this,jh)||!this.div)return;z(this,jh,new AbortController);const e=this._uiManager.combinedSignal(m(this,jh));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},IW=function(e){jn._resizerKeyboardManager.exec(this,e)},PW=function(e){var t;m(this,Bu)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==m(this,Ji)&&W(this,sn,Vy).call(this)},RW=function(e){z(this,Ub,m(this,Bu)?e:"")},QI=function(e){if(m(this,Cl))for(const t of m(this,Cl))t.tabIndex=e},Vy=function(){if(z(this,Bu,!1),W(this,sn,QI).call(this,-1),m(this,Gp)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=m(this,Gp);W(this,sn,GI).call(this,e,t,r,i),z(this,Gp,null)}},K(jn,$b),rt(jn,"_l10n",null),rt(jn,"_l10nResizer",null),rt(jn,"_borderLineWidth",-1),rt(jn,"_colorManager",new OI),rt(jn,"_zIndex",1),rt(jn,"_telemetryTimeout",1e3);let $n=jn;class ywe extends $n{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const RF=3285377520,Ma=4294901760,dc=65535;class LW{constructor(e){this.h1=e?e&4294967295:RF,this.h2=e?e&4294967295:RF}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let y=0,_=e.length;y<_;y++){const b=e.charCodeAt(y);b<=255?t[r++]=b:(t[r++]=b>>>8,t[r++]=b&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,c=this.h1,u=this.h2;const h=3432918353,p=461845907,f=h&dc,w=p&dc;for(let y=0;y<i;y++)y&1?(a=o[y],a=a*h&Ma|a*f&dc,a=a<<15|a>>>17,a=a*p&Ma|a*w&dc,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[y],l=l*h&Ma|l*f&dc,l=l<<15|l>>>17,l=l*p&Ma|l*w&dc,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*h&Ma|a*f&dc,a=a<<15|a>>>17,a=a*p&Ma|a*w&dc,i&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ma|e*36045&dc,t=t*4283543511&Ma|((t<<16|e>>>16)*2950163797&Ma)>>>16,e^=t>>>1,e=e*444984403&Ma|e*60499&dc,t=t*3301882366&Ma|((t<<16|e>>>16)*3120437893&Ma)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const JI=Object.freeze({map:null,hash:"",transfer:void 0});var Xp,Qp,ji,_E,DW;class sL{constructor(){K(this,_E);K(this,Xp,!1);K(this,Qp,null);K(this,ji,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=m(this,ji).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return m(this,ji).get(e)}remove(e){if(m(this,ji).delete(e),m(this,ji).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of m(this,ji).values())if(t instanceof $n)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=m(this,ji).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,m(this,ji).set(e,t);i&&W(this,_E,DW).call(this),t instanceof $n&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return m(this,ji).has(e)}getAll(){return m(this,ji).size>0?Z3(m(this,ji)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return m(this,ji).size}resetModified(){m(this,Xp)&&(z(this,Xp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new MW(this)}get serializable(){if(m(this,ji).size===0)return JI;const e=new Map,t=new LW,r=[],i=Object.create(null);let s=!1;for(const[o,a]of m(this,ji)){const l=a instanceof $n?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:JI}get editorStats(){let e=null;const t=new Map;for(const r of m(this,ji).values()){if(!(r instanceof $n))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){z(this,Qp,null)}get modifiedIds(){if(m(this,Qp))return m(this,Qp);const e=[];for(const t of m(this,ji).values())!(t instanceof $n)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return z(this,Qp,{ids:new Set(e),hash:e.join(",")})}}Xp=new WeakMap,Qp=new WeakMap,ji=new WeakMap,_E=new WeakSet,DW=function(){m(this,Xp)||(z(this,Xp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Hb;class MW extends sL{constructor(t){super();K(this,Hb);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);z(this,Hb,{map:o,hash:i,transfer:s})}get print(){pr("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,Hb)}get modifiedIds(){return wn(this,"modifiedIds",{ids:new Set,hash:""})}}Hb=new WeakMap;var ov;class wwe{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){K(this,ov,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,ov).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||m(this,ov).has(e.loadedName))){if(Ei(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),m(this,ov).add(r),t==null||t(e)}catch{on(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}pr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw on(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return wn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Ls||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),wn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Ei(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return wn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(N,F){return N.charCodeAt(F)<<24|N.charCodeAt(F+1)<<16|N.charCodeAt(F+2)<<8|N.charCodeAt(F+3)&255}function i(N,F,V,L){const C=N.substring(0,F),k=N.substring(F+V);return C+L+k}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(N,F){if(++c>30){on("Load test font never loaded."),F();return}if(l.font="30px "+N,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(u.bind(null,N,F))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=i(p,976,h.length,h);const w=16,y=1482184792;let _=r(p,w);for(s=0,o=h.length-3;s<o;s+=4)_=_-y+r(h,s)|0;s<h.length&&(_=_-y+r(h+"XXX",s)|0),p=i(p,w,4,rwe(_));const b=`url(data:font/opentype;base64,${btoa(p)});`,A=`@font-face {font-family:"${h}";src:${b}}`;this.insertRule(A);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const N of[e.loadedName,h]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=N,E.append(F)}this._document.body.append(E),u(h,()=>{E.remove(),t.complete()})}}ov=new WeakMap;class bwe{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${cwe(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){on(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case Eu.BEZIER_CURVE_TO:{const[a,l,c,u,h,p]=r.slice(s,s+6);i.push(f=>f.bezierCurveTo(a,l,c,u,h,p)),s+=6}break;case Eu.MOVE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.moveTo(a,l)),s+=2}break;case Eu.LINE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.lineTo(a,l)),s+=2}break;case Eu.QUADRATIC_CURVE_TO:{const[a,l,c,u]=r.slice(s,s+4);i.push(h=>h.quadraticCurveTo(a,l,c,u)),s+=4}break;case Eu.RESTORE:i.push(a=>a.restore());break;case Eu.SAVE:i.push(a=>a.save());break;case Eu.SCALE:Ei(i.length===2,"Scale command is only valid at the third position.");break;case Eu.TRANSFORM:{const[a,l,c,u,h,p]=r.slice(s,s+6);i.push(f=>f.transform(a,l,c,u,h,p)),s+=6}break;case Eu.TRANSLATE:{const[a,l]=r.slice(s,s+2);i.push(c=>c.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let l=2,c=i.length;l<c;l++)i[l](o)}}}var qb;class jW{constructor({enableHWA:e=!1}){K(this,qb,!1);z(this,qb,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!m(this,qb)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){pr("Abstract method `_createCanvas` called.")}}qb=new WeakMap;class xwe extends jW{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class OW{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){pr("Abstract method `_fetch` called.")}}class FW extends OW{async _fetch(e){const t=await ZS(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):JS(t)}}class BW{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var Jp,Zp,Tc,Uu,Es,AE,em,at,xs,Gg,Kg,L5,Yg,UW,ZI,Xg,zy,$y,eP,Hy;class _we extends BW{constructor({docId:t,ownerDocument:r=globalThis.document}){super();K(this,at);K(this,Jp);K(this,Zp);K(this,Tc);K(this,Uu);K(this,Es);K(this,AE);K(this,em,0);z(this,Uu,t),z(this,Es,r)}addFilter(t){if(!t)return"none";let r=m(this,at,xs).get(t);if(r)return r;const[i,s,o]=W(this,at,L5).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=m(this,at,xs).get(a),r)return m(this,at,xs).set(t,r),r;const l=`g_${m(this,Uu)}_transfer_map_${Ii(this,em)._++}`,c=W(this,at,Yg).call(this,l);m(this,at,xs).set(t,c),m(this,at,xs).set(a,c);const u=W(this,at,Xg).call(this,l);return W(this,at,$y).call(this,i,s,o,u),c}addHCMFilter(t,r){var w;const i=`${t}-${r}`,s="base";let o=m(this,at,Gg).get(s);if((o==null?void 0:o.key)===i||(o?((w=o.filter)==null||w.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},m(this,at,Gg).set(s,o)),!t||!r))return o.url;const a=W(this,at,Hy).call(this,t);t=At.makeHexColor(...a);const l=W(this,at,Hy).call(this,r);if(r=At.makeHexColor(...l),m(this,at,Kg).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const c=new Array(256);for(let y=0;y<=255;y++){const _=y/255;c[y]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const u=c.join(","),h=`g_${m(this,Uu)}_hcm_filter`,p=o.filter=W(this,at,Xg).call(this,h);W(this,at,$y).call(this,u,u,u,p),W(this,at,ZI).call(this,p);const f=(y,_)=>{const b=a[y]/255,A=l[y]/255,E=new Array(_+1);for(let N=0;N<=_;N++)E[N]=b+N/_*(A-b);return E.join(",")};return W(this,at,$y).call(this,f(0,5),f(1,5),f(2,5),p),o.url=W(this,at,Yg).call(this,h),o.url}addAlphaFilter(t){let r=m(this,at,xs).get(t);if(r)return r;const[i]=W(this,at,L5).call(this,[t]),s=`alpha_${i}`;if(r=m(this,at,xs).get(s),r)return m(this,at,xs).set(t,r),r;const o=`g_${m(this,Uu)}_alpha_map_${Ii(this,em)._++}`,a=W(this,at,Yg).call(this,o);m(this,at,xs).set(t,a),m(this,at,xs).set(s,a);const l=W(this,at,Xg).call(this,o);return W(this,at,eP).call(this,i,l),a}addLuminosityFilter(t){let r=m(this,at,xs).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=W(this,at,L5).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=m(this,at,xs).get(s),r)return m(this,at,xs).set(t,r),r;const o=`g_${m(this,Uu)}_luminosity_map_${Ii(this,em)._++}`,a=W(this,at,Yg).call(this,o);m(this,at,xs).set(t,a),m(this,at,xs).set(s,a);const l=W(this,at,Xg).call(this,o);return W(this,at,UW).call(this,l),t&&W(this,at,eP).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var A;const a=`${r}-${i}-${s}-${o}`;let l=m(this,at,Gg).get(t);if((l==null?void 0:l.key)===a||(l?((A=l.filter)==null||A.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},m(this,at,Gg).set(t,l)),!r||!i))return l.url;const[c,u]=[r,i].map(W(this,at,Hy).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[f,w]=[s,o].map(W(this,at,Hy).bind(this));p<h&&([h,p,f,w]=[p,h,w,f]),m(this,at,Kg).style.color="";const y=(E,N,F)=>{const V=new Array(256),L=(p-h)/F,C=E/255,k=(N-E)/(255*F);let j=0;for(let T=0;T<=F;T++){const M=Math.round(h+T*L),R=C+T*k;for(let q=j;q<=M;q++)V[q]=R;j=M+1}for(let T=j;T<256;T++)V[T]=V[j-1];return V.join(",")},_=`g_${m(this,Uu)}_hcm_${t}_filter`,b=l.filter=W(this,at,Xg).call(this,_);return W(this,at,ZI).call(this,b),W(this,at,$y).call(this,y(f[0],w[0],5),y(f[1],w[1],5),y(f[2],w[2],5),b),l.url=W(this,at,Yg).call(this,_),l.url}destroy(t=!1){t&&m(this,at,Gg).size!==0||(m(this,Tc)&&(m(this,Tc).parentNode.parentNode.remove(),z(this,Tc,null)),m(this,Zp)&&(m(this,Zp).clear(),z(this,Zp,null)),z(this,em,0))}}Jp=new WeakMap,Zp=new WeakMap,Tc=new WeakMap,Uu=new WeakMap,Es=new WeakMap,AE=new WeakMap,em=new WeakMap,at=new WeakSet,xs=function(){return m(this,Zp)||z(this,Zp,new Map)},Gg=function(){return m(this,AE)||z(this,AE,new Map)},Kg=function(){if(!m(this,Tc)){const t=m(this,Es).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=m(this,Es).createElementNS(Cu,"svg");i.setAttribute("width",0),i.setAttribute("height",0),z(this,Tc,m(this,Es).createElementNS(Cu,"defs")),t.append(i),i.append(m(this,Tc)),m(this,Es).body.append(t)}return m(this,Tc)},L5=function(t){if(t.length===1){const c=t[0],u=new Array(256);for(let p=0;p<256;p++)u[p]=c[p]/255;const h=u.join(",");return[h,h,h]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=r[c]/255,a[c]=i[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},Yg=function(t){if(m(this,Jp)===void 0){z(this,Jp,"");const r=m(this,Es).URL;r!==m(this,Es).baseURI&&(eN(r)?on('#createUrl: ignore "data:"-URL for performance reasons.'):z(this,Jp,r.split("#",1)[0]))}return`url(${m(this,Jp)}#${t})`},UW=function(t){const r=m(this,Es).createElementNS(Cu,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},ZI=function(t){const r=m(this,Es).createElementNS(Cu,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Xg=function(t){const r=m(this,Es).createElementNS(Cu,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),m(this,at,Kg).append(r),r},zy=function(t,r,i){const s=m(this,Es).createElementNS(Cu,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},$y=function(t,r,i,s){const o=m(this,Es).createElementNS(Cu,"feComponentTransfer");s.append(o),W(this,at,zy).call(this,o,"feFuncR",t),W(this,at,zy).call(this,o,"feFuncG",r),W(this,at,zy).call(this,o,"feFuncB",i)},eP=function(t,r){const i=m(this,Es).createElementNS(Cu,"feComponentTransfer");r.append(i),W(this,at,zy).call(this,i,"feFuncA",t)},Hy=function(t){return m(this,at,Kg).style.color=t,iL(getComputedStyle(m(this,at,Kg)).getPropertyValue("color"))};class VW{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){pr("Abstract method `_fetch` called.")}}class zW extends VW{async _fetch(e){const t=await ZS(e,"arraybuffer");return new Uint8Array(t)}}if(Ls){var tP=Promise.withResolvers(),_w=null;(async()=>{const e=await zc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await zc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await zc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await zc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:o}))})().then(e=>{_w=e,tP.resolve()},e=>{on(`loadPackages: ${e}`),_w=new Map,tP.resolve()})}class Lf{static get promise(){return tP.promise}static get(e){return _w==null?void 0:_w.get(e)}}async function $W(n){const t=await Lf.get("fs").promises.readFile(n);return new Uint8Array(t)}class Awe extends BW{}class Ewe extends jW{_createCanvas(e,t){return Lf.get("canvas").createCanvas(e,t)}}class Swe extends OW{async _fetch(e){return $W(e)}}class Nwe extends VW{async _fetch(e){return $W(e)}}const Ks={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function nP(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class oL{getPattern(){pr("Abstract method `getPattern` called.")}}class Cwe extends oL{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Ks.STROKE||i===Ks.FILL){const o=t.current.getClippedPathBoundingBox(i,Pr(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),r=At.transform(r,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),nP(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else nP(e,this._bbox),s=this._createGradient(e);return s}}function lT(n,e,t,r,i,s,o,a){const l=e.coords,c=e.colors,u=n.data,h=n.width*4;let p;l[t+1]>l[r+1]&&(p=t,t=r,r=p,p=s,s=o,o=p),l[r+1]>l[i+1]&&(p=r,r=i,i=p,p=o,o=a,a=p),l[t+1]>l[r+1]&&(p=t,t=r,r=p,p=s,s=o,o=p);const f=(l[t]+e.offsetX)*e.scaleX,w=(l[t+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,_=(l[r+1]+e.offsetY)*e.scaleY,b=(l[i]+e.offsetX)*e.scaleX,A=(l[i+1]+e.offsetY)*e.scaleY;if(w>=A)return;const E=c[s],N=c[s+1],F=c[s+2],V=c[o],L=c[o+1],C=c[o+2],k=c[a],j=c[a+1],T=c[a+2],M=Math.round(w),R=Math.round(A);let q,ce,de,ae,Q,ne,ge,pe;for(let U=M;U<=R;U++){if(U<_){const ue=U<w?0:(w-U)/(w-_);q=f-(f-y)*ue,ce=E-(E-V)*ue,de=N-(N-L)*ue,ae=F-(F-C)*ue}else{let ue;U>A?ue=1:_===A?ue=0:ue=(_-U)/(_-A),q=y-(y-b)*ue,ce=V-(V-k)*ue,de=L-(L-j)*ue,ae=C-(C-T)*ue}let Y;U<w?Y=0:U>A?Y=1:Y=(w-U)/(w-A),Q=f-(f-b)*Y,ne=E-(E-k)*Y,ge=N-(N-j)*Y,pe=F-(F-T)*Y;const re=Math.round(Math.min(q,Q)),le=Math.round(Math.max(q,Q));let he=h*U+re*4;for(let ue=re;ue<=le;ue++)Y=(q-ue)/(q-Q),Y<0?Y=0:Y>1&&(Y=1),u[he++]=ce-(ce-ne)*Y|0,u[he++]=de-(de-ge)*Y|0,u[he++]=ae-(ae-pe)*Y|0,u[he++]=255}}function Twe(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let h=0;h<c;h++,u++)lT(n,t,r[u],r[u+1],r[u+a],i[u],i[u+1],i[u+a]),lT(n,t,r[u+a+1],r[u+1],r[u+a],i[u+a+1],i[u+1],i[u+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)lT(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class kwe extends oL{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),f=c/h,w=u/p,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/f,scaleY:1/w},_=h+2*2,b=p+2*2,A=r.getCanvas("mesh",_,b),E=A.context,N=E.createImageData(h,p);if(t){const V=N.data;for(let L=0,C=V.length;L<C;L+=4)V[L]=t[0],V[L+1]=t[1],V[L+2]=t[2],V[L+3]=255}for(const V of this._figures)Twe(N,V,y);return E.putImageData(N,2,2),{canvas:A.canvas,offsetX:a-2*f,offsetY:l-2*w,scaleX:f,scaleY:w}}getPattern(e,t,r,i){nP(e,this._bbox);let s;if(i===Ks.SHADING)s=At.singularValueDecompose2dScale(Pr(e));else if(s=At.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=At.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===Ks.SHADING?null:this._background,t.cachedCanvases);return i!==Ks.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class Iwe extends oL{getPattern(){return"hotpink"}}function Pwe(n){switch(n[0]){case"RadialAxial":return new Cwe(n);case"Mesh":return new kwe(n);case"Dummy":return new Iwe}throw new Error(`Unknown IR type: ${n[0]}`)}const LF={COLORED:1,UNCOLORED:2},EE=class EE{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:i,tilingType:s,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),XS("TilingType: "+s);const u=t[0],h=t[1],p=t[2],f=t[3],w=p-u,y=f-h,_=At.singularValueDecompose2dScale(this.matrix),b=At.singularValueDecompose2dScale(this.baseTransform),A=_[0]*b[0],E=_[1]*b[1];let N=w,F=y,V=!1,L=!1;const C=Math.ceil(l*A),k=Math.ceil(c*E),j=Math.ceil(w*A),T=Math.ceil(y*E);C>=j?N=l:V=!0,k>=T?F=c:L=!0;const M=this.getSizeAndScale(N,this.ctx.canvas.width,A),R=this.getSizeAndScale(F,this.ctx.canvas.height,E),q=e.cachedCanvases.getCanvas("pattern",M.size,R.size),ce=q.context,de=a.createCanvasGraphics(ce);if(de.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(de,i,o),ce.translate(-M.scale*u,-R.scale*h),de.transform(M.scale,0,0,R.scale,0,0),ce.save(),this.clipBbox(de,u,h,p,f),de.baseTransform=Pr(de.ctx),de.executeOperatorList(r),de.endDrawing(),ce.restore(),V||L){const ae=q.canvas;V&&(N=l),L&&(F=c);const Q=this.getSizeAndScale(N,this.ctx.canvas.width,A),ne=this.getSizeAndScale(F,this.ctx.canvas.height,E),ge=Q.size,pe=ne.size,U=e.cachedCanvases.getCanvas("pattern-workaround",ge,pe),Y=U.context,re=V?Math.floor(w/l):0,le=L?Math.floor(y/c):0;for(let he=0;he<=re;he++)for(let ue=0;ue<=le;ue++)Y.drawImage(ae,ge*he,pe*ue,ge,pe,0,0,ge,pe);return{canvas:U.canvas,scaleX:Q.scale,scaleY:ne.scale,offsetX:u,offsetY:h}}return{canvas:q.canvas,scaleX:M.scale,scaleY:R.scale,offsetX:u,offsetY:h}}getSizeAndScale(e,t,r){const i=Math.max(EE.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),e.current.updateRectMinMax(Pr(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case LF.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case LF.UNCOLORED:const a=At.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new nwe(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==Ks.SHADING&&(s=At.transform(s,t.baseTransform),this.matrix&&(s=At.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};rt(EE,"MAX_PATTERN_SIZE",3e3);let rP=EE;function Rwe({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=eo.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=r>>3,h=r&7,p=n.length;t=new Uint32Array(t.buffer);let f=0;for(let w=0;w<i;w++){for(const _=e+u;e<_;e++){const b=e<p?n[e]:255;t[f++]=b&128?c:l,t[f++]=b&64?c:l,t[f++]=b&32?c:l,t[f++]=b&16?c:l,t[f++]=b&8?c:l,t[f++]=b&4?c:l,t[f++]=b&2?c:l,t[f++]=b&1?c:l}if(h===0)continue;const y=e<p?n[e++]:255;for(let _=0;_<h;_++)t[f++]=y&1<<7-_?c:l}return{srcPos:e,destPos:f}}const DF=16,MF=100,Lwe=15,jF=10,OF=1e3,xo=16;function Dwe(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,o,a,l){e.transform(r,i,s,o,a,l),this.__originalTransform(r,i,s,o,a,l)},n.setTransform=function(r,i,s,o,a,l){e.setTransform(r,i,s,o,a,l),this.__originalSetTransform(r,i,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Mwe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function j_(n,e,t,r,i,s,o,a,l,c){const[u,h,p,f,w,y]=Pr(n);if(h===0&&p===0){const A=o*u+w,E=Math.round(A),N=a*f+y,F=Math.round(N),V=(o+l)*u+w,L=Math.abs(Math.round(V)-E)||1,C=(a+c)*f+y,k=Math.abs(Math.round(C)-F)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(f),E,F),n.drawImage(e,t,r,i,s,0,0,L,k),n.setTransform(u,h,p,f,w,y),[L,k]}if(u===0&&f===0){const A=a*p+w,E=Math.round(A),N=o*h+y,F=Math.round(N),V=(a+c)*p+w,L=Math.abs(Math.round(V)-E)||1,C=(o+l)*h+y,k=Math.abs(Math.round(C)-F)||1;return n.setTransform(0,Math.sign(h),Math.sign(p),0,E,F),n.drawImage(e,t,r,i,s,0,0,k,L),n.setTransform(u,h,p,f,w,y),[k,L]}n.drawImage(e,t,r,i,s,o,a,l,c);const _=Math.hypot(u,h),b=Math.hypot(p,f);return[_*l,b*c]}function jwe(n){const{width:e,height:t}=n;if(e>OF||t>OF)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,c;const u=e+7&-8;let h=new Uint8Array(u*t),p=0;for(const b of n.data){let A=128;for(;A>0;)h[p++]=b&A?0:255,A>>=1}let f=0;for(p=0,h[p]!==0&&(o[0]=1,++f),l=1;l<e;l++)h[p]!==h[p+1]&&(o[l]=h[p]?2:1,++f),p++;for(h[p]!==0&&(o[l]=2,++f),a=1;a<t;a++){p=a*u,c=a*s,h[p-u]!==h[p]&&(o[c]=h[p]?1:8,++f);let b=(h[p]?4:0)+(h[p-u]?8:0);for(l=1;l<e;l++)b=(b>>2)+(h[p+1]?4:0)+(h[p-u+1]?8:0),i[b]&&(o[c+l]=i[b],++f),p++;if(h[p-u]!==h[p]&&(o[c+l]=h[p]?2:4,++f),f>r)return null}for(p=u*(t-1),c=a*s,h[p]!==0&&(o[c]=8,++f),l=1;l<e;l++)h[p]!==h[p+1]&&(o[c+l]=h[p]?4:8,++f),p++;if(h[p]!==0&&(o[c+l]=4,++f),f>r)return null;const w=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=new Path2D;for(a=0;f&&a<=t;a++){let b=a*s;const A=b+e;for(;b<A&&!o[b];)b++;if(b===A)continue;y.moveTo(b%s,a);const E=b;let N=o[b];do{const F=w[N];do b+=F;while(!o[b]);const V=o[b];V!==5&&V!==10?(N=V,o[b]=0):(N=V&51*N>>4,o[b]&=N>>2|N<<2),y.lineTo(b%s,b/s|0),o[b]||--f}while(E!==b);--a}return h=null,o=null,function(b){b.save(),b.scale(1/e,-1/t),b.translate(0,-t),b.fill(y),b.beginPath(),b.restore()}}class FF{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=oW,this.textMatrixScale=1,this.fontMatrix=kI,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=bs.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=At.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=At.applyTransform(t,e),i=At.applyTransform(t.slice(2),e),s=At.applyTransform([t[0],t[3]],e),o=At.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,t){At.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,o,a,l,c,u){const h=At.bezierBoundingBox(t,r,i,s,o,a,l,c,u);u||this.updateRectMinMax(e,h)}getPathBoundingBox(e=Ks.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Ks.STROKE){t||pr("Stroke bounding box must include transform.");const i=At.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=At.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Ks.FILL,t=null){return At.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function BF(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%xo,s=(t-i)/xo,o=i===0?s:s+1,a=n.createImageData(r,xo);let l=0,c;const u=e.data,h=a.data;let p,f,w,y;if(e.kind===N5.GRAYSCALE_1BPP){const _=u.byteLength,b=new Uint32Array(h.buffer,0,h.byteLength>>2),A=b.length,E=r+7>>3,N=4294967295,F=eo.isLittleEndian?4278190080:255;for(p=0;p<o;p++){for(w=p<s?xo:i,c=0,f=0;f<w;f++){const V=_-l;let L=0;const C=V>E?r:V*8-7,k=C&-8;let j=0,T=0;for(;L<k;L+=8)T=u[l++],b[c++]=T&128?N:F,b[c++]=T&64?N:F,b[c++]=T&32?N:F,b[c++]=T&16?N:F,b[c++]=T&8?N:F,b[c++]=T&4?N:F,b[c++]=T&2?N:F,b[c++]=T&1?N:F;for(;L<C;L++)j===0&&(T=u[l++],j=128),b[c++]=T&j?N:F,j>>=1}for(;c<A;)b[c++]=0;n.putImageData(a,0,p*xo)}}else if(e.kind===N5.RGBA_32BPP){for(f=0,y=r*xo*4,p=0;p<s;p++)h.set(u.subarray(l,l+y)),l+=y,n.putImageData(a,0,f),f+=xo;p<o&&(y=r*i*4,h.set(u.subarray(l,l+y)),n.putImageData(a,0,f))}else if(e.kind===N5.RGB_24BPP)for(w=xo,y=r*w,p=0;p<o;p++){for(p>=s&&(w=i,y=r*w),c=0,f=y;f--;)h[c++]=u[l++],h[c++]=u[l++],h[c++]=u[l++],h[c++]=255;n.putImageData(a,0,p*xo)}else throw new Error(`bad image kind: ${e.kind}`)}function UF(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%xo,s=(t-i)/xo,o=i===0?s:s+1,a=n.createImageData(r,xo);let l=0;const c=e.data,u=a.data;for(let h=0;h<o;h++){const p=h<s?xo:i;({srcPos:l}=Rwe({src:c,srcPos:l,dest:u,width:r,height:p,nonBlackColor:0})),n.putImageData(a,0,h*xo)}}function xy(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function O_(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Ls){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function VF(n,e){if(e)return!0;const t=At.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Rf.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const Owe=["butt","round","square"],Fwe=["miter","round","bevel"],Bwe={},zF={};var Mf,iP,sP;const pL=class pL{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){K(this,Mf);this.ctx=e,this.current=new FF(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new Mwe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Pr(this.compositeCtx))}this.ctx.save(),O_(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Pr(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>jF&&typeof r=="function",u=c?Date.now()+Lwe:0;let h=0;const p=this.commonObjs,f=this.objs;let w;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(w=o[a],w!==bl.dependency)this[w].apply(this,s[a]);else for(const y of s[a]){const _=y.startsWith("g_")?p:f;if(!_.has(y))return _.get(y,r),a}if(a++,a===l)return a;if(c&&++h>jF){if(Date.now()>u)return r(),a;h=0}}}endDrawing(){W(this,Mf,iP).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),W(this,Mf,sP).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,c="prescale1",u,h;for(;s>2&&a>1||o>2&&l>1;){let p=a,f=l;s>2&&a>1&&(p=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/p),o>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/f),u=this.cachedCanvases.getCanvas(c,p,f),h=u.context,h.clearRect(0,0,p,f),h.drawImage(e,0,0,a,l,0,0,p,f),e=u.canvas,a=p,l=f,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=Pr(t);let l,c,u,h;if((e.bitmap||e.data)&&e.count>1){const C=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(C),l||(l=new Map,this._cachedBitmapsMap.set(C,l));const k=l.get(c);if(k&&!o){const j=Math.round(Math.min(a[0],a[2])+a[4]),T=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:k,offsetX:j,offsetY:T}}u=k}u||(h=this.cachedCanvases.getCanvas("maskCanvas",r,i),UF(h.context,e));let p=At.transform(a,[1/r,0,0,-1/i,0,0]);p=At.transform(p,[1,0,0,1,0,-i]);const[f,w,y,_]=At.getAxialAlignedBoundingBox([0,0,r,i],p),b=Math.round(y-f)||1,A=Math.round(_-w)||1,E=this.cachedCanvases.getCanvas("fillCanvas",b,A),N=E.context,F=f,V=w;N.translate(-F,-V),N.transform(...p),u||(u=this._scaleImage(h.canvas,Su(N)),u=u.img,l&&o&&l.set(c,u)),N.imageSmoothingEnabled=VF(Pr(N),e.interpolate),j_(N,u,0,0,u.width,u.height,0,0,r,i),N.globalCompositeOperation="source-in";const L=At.transform(Su(N),[1,0,0,1,-F,-V]);return N.fillStyle=o?s.getPattern(t,this,L,Ks.FILL):s,N.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,E.canvas)),{canvas:E.canvas,offsetX:Math.round(F),offsetY:Math.round(V)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Owe[e]}setLineJoin(e){this.ctx.lineJoin=Fwe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Pr(this.suspendedCtx)),xy(this.suspendedCtx,s),Dwe(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),xy(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,c,u,h){let p=e.canvas,f=l-u,w=c-h;if(o){const _=At.makeHexColor(...o);if(f<0||w<0||f+r>p.width||w+i>p.height){const b=this.cachedCanvases.getCanvas("maskExtension",r,i),A=b.context;A.drawImage(p,-f,-w),A.globalCompositeOperation="destination-atop",A.fillStyle=_,A.fillRect(0,0,r,i),A.globalCompositeOperation="source-over",p=b.canvas,f=w=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(f,w,r,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=_,e.fillRect(f,w,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(l,c,r,i),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(p,f,w,r,i,l,c,r,i),t.restore()}save(){this.inSMaskMode?(xy(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),xy(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let o=s.x,a=s.y,l,c;const u=Pr(i),h=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,p=h?r.slice(0):null;for(let f=0,w=0,y=e.length;f<y;f++)switch(e[f]|0){case bl.rectangle:o=t[w++],a=t[w++];const _=t[w++],b=t[w++],A=o+_,E=a+b;i.moveTo(o,a),_===0||b===0?i.lineTo(A,E):(i.lineTo(A,a),i.lineTo(A,E),i.lineTo(o,E)),h||s.updateRectMinMax(u,[o,a,A,E]),i.closePath();break;case bl.moveTo:o=t[w++],a=t[w++],i.moveTo(o,a),h||s.updatePathMinMax(u,o,a);break;case bl.lineTo:o=t[w++],a=t[w++],i.lineTo(o,a),h||s.updatePathMinMax(u,o,a);break;case bl.curveTo:l=o,c=a,o=t[w+4],a=t[w+5],i.bezierCurveTo(t[w],t[w+1],t[w+2],t[w+3],o,a),s.updateCurvePathMinMax(u,l,c,t[w],t[w+1],t[w+2],t[w+3],o,a,p),w+=6;break;case bl.curveTo2:l=o,c=a,i.bezierCurveTo(o,a,t[w],t[w+1],t[w+2],t[w+3]),s.updateCurvePathMinMax(u,l,c,o,a,t[w],t[w+1],t[w+2],t[w+3],p),o=t[w+2],a=t[w+3],w+=4;break;case bl.curveTo3:l=o,c=a,o=t[w+2],a=t[w+3],i.bezierCurveTo(t[w],t[w+1],o,a,o,a),s.updateCurvePathMinMax(u,l,c,t[w],t[w+1],o,a,o,a,p),w+=4;break;case bl.closePath:i.closePath();break}h&&s.updateScalingPathMinMax(u,p),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Su(t),Ks.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Su(t),Ks.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Bwe}eoClip(){this.pendingClip=zF}beginText(){this.current.textMatrix=oW,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var u;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||kI,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&on("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((u=r.systemFontInfo)==null?void 0:u.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let c=t;t<DF?c=DF:t>MF&&(c=MF),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,o){this.current.textMatrix=[e,t,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,u=l&bs.FILL_STROKE_MASK,h=!!(l&bs.ADD_TO_PATH_FLAG),p=o.patternFill&&!a.missingFile;let f;(a.disableFontFace||h||p)&&(f=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||p?(s.save(),s.translate(t,r),s.beginPath(),f(s,c),i&&s.setTransform(...i),(u===bs.FILL||u===bs.FILL_STROKE)&&s.fill(),(u===bs.STROKE||u===bs.FILL_STROKE)&&s.stroke(),s.restore()):((u===bs.FILL||u===bs.FILL_STROKE)&&s.fillText(e,t,r),(u===bs.STROKE||u===bs.FILL_STROKE)&&s.strokeText(e,t,r)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Pr(s),x:t,y:r,fontSize:c,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return wn(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,h=e.length,p=r.vertical,f=p?1:-1,w=r.defaultVMetrics,y=i*t.fontMatrix[0],_=t.textRenderingMode===bs.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(u,-1):s.scale(u,1);let b;if(t.patternFill){s.save();const V=t.fillColor.getPattern(s,this,Su(s),Ks.FILL);b=Pr(s),s.restore(),s.fillStyle=V}let A=t.lineWidth;const E=t.textMatrixScale;if(E===0||A===0){const V=t.textRenderingMode&bs.FILL_STROKE_MASK;(V===bs.STROKE||V===bs.FILL_STROKE)&&(A=this.getSinglePixelWidth())}else A/=E;if(o!==1&&(s.scale(o,o),A/=o),s.lineWidth=A,r.isInvalidPDFjsFont){const V=[];let L=0;for(const C of e)V.push(C.unicode),L+=C.width;s.fillText(V.join(""),0,0),t.x+=L*y*u,s.restore(),this.compose();return}let N=0,F;for(F=0;F<h;++F){const V=e[F];if(typeof V=="number"){N+=f*V*i/1e3;continue}let L=!1;const C=(V.isSpace?l:0)+a,k=V.fontChar,j=V.accent;let T,M,R=V.width;if(p){const ce=V.vmetric||w,de=-(V.vmetric?ce[1]:R*.5)*y,ae=ce[2]*y;R=ce?-ce[0]:R,T=de/o,M=(N+ae)/o}else T=N/o,M=0;if(r.remeasure&&R>0){const ce=s.measureText(k).width*1e3/i*o;if(R<ce&&this.isFontSubpixelAAEnabled){const de=R/ce;L=!0,s.save(),s.scale(de,1),T/=de}else R!==ce&&(T+=(R-ce)/2e3*i/o)}if(this.contentVisible&&(V.isInFont||r.missingFile)){if(_&&!j)s.fillText(k,T,M);else if(this.paintChar(k,T,M,b),j){const ce=T+i*j.offset.x/o,de=M-i*j.offset.y/o;this.paintChar(j.fontChar,ce,de,b)}}const q=p?R*y-C*c:R*y+C*c;N+=q,L&&s.restore()}p?t.y-=N:t.x+=N*u,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,u=r.textHScale*o,h=r.fontMatrix||kI,p=e.length,f=r.textRenderingMode===bs.INVISIBLE;let w,y,_,b;if(!(f||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(u,o),w=0;w<p;++w){if(y=e[w],typeof y=="number"){b=a*y*s/1e3,this.ctx.translate(b,0),r.x+=b*u;continue}const A=(y.isSpace?c:0)+l,E=i.charProcOperatorList[y.operatorListId];if(!E){on(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),t.scale(s,s),t.transform(...h),this.executeOperatorList(E),this.restore()),_=At.applyTransform([y.width,0],h)[0]*s+A,t.translate(_,0),r.x+=_*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Pr(this.ctx),s={createCanvasGraphics:o=>new pL(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new rP(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){this.ctx.strokeStyle=this.current.strokeColor=At.makeHexColor(e,t,r)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,r){this.ctx.fillStyle=this.current.fillColor=At.makeHexColor(e,t,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=Pwe(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Su(t),Ks.SHADING);const i=Su(t);if(i){const{width:s,height:o}=t.canvas,[a,l,c,u]=At.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){pr("Should not call beginInlineImage")}beginImageData(){pr("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Pr(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(Pr(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||XS("TODO: Support non-isolated groups."),e.knockout&&on("Knockout groups not supported.");const r=Pr(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=At.getAxialAlignedBoundingBox(e.bbox,Pr(t));const s=[0,0,t.canvas.width,t.canvas.height];i=At.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(u,l,c),p=h.context;p.translate(-o,-a),p.transform(...r),e.smask?this.smaskStack.push({canvas:h.canvas,context:p,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),xy(t,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Pr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=At.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(W(this,Mf,iP).call(this),O_(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,c]=At.singularValueDecompose2dScale(Pr(this.ctx)),{viewportScale:u}=this,h=Math.ceil(o*this.outputScaleX*u),p=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(h,p);const{canvas:f,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(e,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),O_(this.ctx)}else O_(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new FF(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),W(this,Mf,sP).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=jwe(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Pr(a);a.transform(t,r,i,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,h=o.length;u<h;u+=2){const p=At.transform(l,[t,r,i,s,o[u],o[u+1]]),[f,w]=At.applyTransform([0,0],p);a.drawImage(c.canvas,f,w)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=u.context;h.save();const p=this.getObject(o,s);UF(h,p),h.globalCompositeOperation="source-in",h.fillStyle=i?r.getPattern(h,this,Su(t),Ks.FILL):r,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),j_(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){on("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){on("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,u=i.length;c<u;c+=2)l.push({transform:[t,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!Ls){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;BF(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,Su(i));i.imageSmoothingEnabled=VF(Pr(i),e.interpolate),j_(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;BF(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),j_(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===zF?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Pr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/c;else{const u=l*e,h=c*e;o=u<1?1/u:1,a=h<1?1/h:1}}else{const l=Math.abs(t*s-r*i),c=Math.hypot(t,r),u=Math.hypot(i,s);if(e===0)o=u/l,a=c/l;else{const h=e*l;o=u>h?u/h:1,a=c>h?c/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,s),o.length>0){const a=Math.max(i,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Mf=new WeakSet,iP=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},sP=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let M0=pL;for(const n in bl)M0.prototype[n]!==void 0&&(M0.prototype[bl[n]]=M0.prototype[n]);var Wb,Gb;class od{static get workerPort(){return m(this,Wb)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");z(this,Wb,e)}static get workerSrc(){return m(this,Gb)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");z(this,Gb,e)}}Wb=new WeakMap,Gb=new WeakMap,K(od,Wb,null),K(od,Gb,"");const F_={UNKNOWN:0,DATA:1,ERROR:2},ai={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Yo(n){switch(n instanceof Error||typeof n=="object"&&n!==null||pr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new xg(n.message);case"MissingPDFException":return new bg(n.message);case"PasswordException":return new II(n.message,n.code);case"UnexpectedResponseException":return new QS(n.message,n.status);case"UnknownErrorException":return new PI(n.message,n.details);default:return new PI(n.message,n.toString())}}var av,Qa,HW,qW,WW,D5;class qy{constructor(e,t,r){K(this,Qa);K(this,av,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",W(this,Qa,HW).bind(this),{signal:m(this,av).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:ai.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Ei(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:ai.CANCEL,streamId:s,reason:Yo(c)}),u.promise}},r)}destroy(){var e;(e=m(this,av))==null||e.abort(),z(this,av,null)}}av=new WeakMap,Qa=new WeakSet,HW=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){W(this,Qa,WW).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===F_.DATA)i.resolve(e.data);else if(e.callback===F_.ERROR)i.reject(Yo(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;new Promise(function(o){o(t(e.data))}).then(function(o){s.postMessage({sourceName:r,targetName:i,callback:F_.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:r,targetName:i,callback:F_.ERROR,callbackId:e.callbackId,reason:Yo(o)})});return}if(e.streamId){W(this,Qa,qW).call(this,e);return}t(e.data)},qW=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,h){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=u,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:ai.ENQUEUE,streamId:t,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:ai.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){Ei(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:ai.ERROR,streamId:t,reason:Yo(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:ai.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:ai.START_COMPLETE,streamId:t,reason:Yo(c)})})},WW=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case ai.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Yo(e.reason));break;case ai.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Yo(e.reason));break;case ai.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:ai.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=a.onPull)==null?void 0:c.call(a))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:ai.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:ai.PULL_COMPLETE,streamId:t,reason:Yo(l)})});break;case ai.ENQUEUE:if(Ei(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case ai.CLOSE:if(Ei(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),W(this,Qa,D5).call(this,o,t);break;case ai.ERROR:Ei(o,"error should have stream controller"),o.controller.error(Yo(e.reason)),W(this,Qa,D5).call(this,o,t);break;case ai.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Yo(e.reason)),W(this,Qa,D5).call(this,o,t);break;case ai.CANCEL:if(!a)break;new Promise(function(l){var c;l((c=a.onCancel)==null?void 0:c.call(a,Yo(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:ai.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:ai.CANCEL_COMPLETE,streamId:t,reason:Yo(l)})}),a.sinkCapability.reject(Yo(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},D5=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var tm,Kb;class Uwe{constructor({parsedData:e,rawData:t}){K(this,tm);K(this,Kb);z(this,tm,e),z(this,Kb,t)}getRaw(){return m(this,Kb)}get(e){return m(this,tm).get(e)??null}getAll(){return Z3(m(this,tm))}has(e){return m(this,tm).has(e)}}tm=new WeakMap,Kb=new WeakMap;const Qg=Symbol("INTERNAL");var Yb,Xb,Qb,lv;class Vwe{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){K(this,Yb,!1);K(this,Xb,!1);K(this,Qb,!1);K(this,lv,!0);z(this,Yb,!!(e&sa.DISPLAY)),z(this,Xb,!!(e&sa.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(m(this,Qb))return m(this,lv);if(!m(this,lv))return!1;const{print:e,view:t}=this.usage;return m(this,Yb)?(t==null?void 0:t.viewState)!=="OFF":m(this,Xb)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Qg&&pr("Internal method `_setVisible` called."),z(this,Qb,r),z(this,lv,t)}}Yb=new WeakMap,Xb=new WeakMap,Qb=new WeakMap,lv=new WeakMap;var Fh,zn,cv,uv,Jb,oP;class zwe{constructor(e,t=sa.DISPLAY){K(this,Jb);K(this,Fh,null);K(this,zn,new Map);K(this,cv,null);K(this,uv,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,z(this,uv,e.order);for(const r of e.groups)m(this,zn).set(r.id,new Vwe(t,r));if(e.baseState==="OFF")for(const r of m(this,zn).values())r._setVisible(Qg,!1);for(const r of e.on)m(this,zn).get(r)._setVisible(Qg,!0);for(const r of e.off)m(this,zn).get(r)._setVisible(Qg,!1);z(this,cv,this.getHash())}}isVisible(e){if(m(this,zn).size===0)return!0;if(!e)return XS("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,zn).has(e.id)?m(this,zn).get(e.id).visible:(on(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return W(this,Jb,oP).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!m(this,zn).has(t))return on(`Optional content group not found: ${t}`),!0;if(m(this,zn).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!m(this,zn).has(t))return on(`Optional content group not found: ${t}`),!0;if(!m(this,zn).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!m(this,zn).has(t))return on(`Optional content group not found: ${t}`),!0;if(!m(this,zn).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!m(this,zn).has(t))return on(`Optional content group not found: ${t}`),!0;if(m(this,zn).get(t).visible)return!1}return!0}return on(`Unknown optional content policy ${e.policy}.`),!0}return on(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=m(this,zn).get(e);if(!i){on(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const o of i.rbGroups)for(const a of o)a!==e&&((s=m(this,zn).get(a))==null||s._setVisible(Qg,!1,!0));i._setVisible(Qg,!!t,!0),z(this,Fh,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=m(this,zn).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}z(this,Fh,null)}get hasInitialVisibility(){return m(this,cv)===null||this.getHash()===m(this,cv)}getOrder(){return m(this,zn).size?m(this,uv)?m(this,uv).slice():[...m(this,zn).keys()]:null}getGroups(){return m(this,zn).size>0?Z3(m(this,zn)):null}getGroup(e){return m(this,zn).get(e)||null}getHash(){if(m(this,Fh)!==null)return m(this,Fh);const e=new LW;for(const[t,r]of m(this,zn))e.update(`${t}:${r.visible}`);return z(this,Fh,e.hexdigest())}}Fh=new WeakMap,zn=new WeakMap,cv=new WeakMap,uv=new WeakMap,Jb=new WeakSet,oP=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=W(this,Jb,oP).call(this,s);else if(m(this,zn).has(s))o=m(this,zn).get(s).visible;else return on(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class $we{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Ei(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Ei(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ei(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Hwe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new qwe(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class Hwe{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=nL(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class qwe{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Wwe(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=o(n),t){const u=c(t);return s(u)}if(t=r("filename","i").exec(n),t){t=t[1];let u=a(t);return u=c(u),s(u)}function r(u,h){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(u,h){if(u){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const p=new TextDecoder(u,{fatal:!0}),f=JS(h);h=p.decode(f),e=!1}catch{}}return h}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function o(u){const h=[];let p;const f=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=f.exec(u))!==null;){let[,y,_,b]=p;if(y=parseInt(y,10),y in h){if(y===0)break;continue}h[y]=[_,b]}const w=[];for(let y=0;y<h.length&&y in h;++y){let[_,b]=h[y];b=a(b),_&&(b=unescape(b),y===0&&(b=l(b))),w.push(b)}return w.join("")}function a(u){if(u.startsWith('"')){const h=u.slice(1).split('\\"');for(let p=0;p<h.length;++p){const f=h[p].indexOf('"');f!==-1&&(h[p]=h[p].slice(0,f),h.length=p+1),h[p]=h[p].replaceAll(/\\(.)/g,"$1")}u=h.join('"')}return u}function l(u){const h=u.indexOf("'");if(h===-1)return u;const p=u.slice(0,h),w=u.slice(h+1).replace(/^[^']*'/,"");return i(p,w)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,p,f,w){if(f==="q"||f==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,_){return String.fromCharCode(parseInt(_,16))}),i(p,w);try{w=atob(w)}catch{}return i(p,w)})}return""}function aL(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function lL({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function cL(n){const e=n.get("Content-Disposition");if(e){let t=Wwe(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(nL(t))return t}return null}function tN(n,e){return n===404||n===0&&e.startsWith("file:")?new bg('Missing PDF "'+e+'".'):new QS(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function GW(n){return n===200||n===206}function KW(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function YW(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(on(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class $F{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=aL(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ei(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Gwe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Kwe(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Gwe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,KW(r,this._withCredentials,this._abortController)).then(s=>{if(!GW(s.status))throw tN(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:l}=lL({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=cL(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new xg("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:YW(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class Kwe{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const o=i.url;fetch(o,KW(s,this._withCredentials,this._abortController)).then(a=>{if(!GW(a.status))throw tN(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:YW(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const cT=200,uT=206;function Ywe(n){const e=n.response;return typeof e!="string"?e:JS(e).buffer}class Xwe{constructor({url:e,httpHeaders:t,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=aL(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=uT):i.expectedStatus=cT,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var l,c,u;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const s=i.status||cT;if(!(s===cT&&r.expectedStatus===uT)&&s!==r.expectedStatus){(c=r.onError)==null||c.call(r,i.status);return}const a=Ywe(i);if(s===uT){const h=i.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);r.onDone({begin:parseInt(p[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(u=r.onError)==null||u.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Qwe{constructor(e){this._source=e,this._manager=new Xwe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ei(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Jwe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new Zwe(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Jwe{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(o=>{const[a,...l]=o.split(": ");return[a,l.join(": ")]})),{allowRangeRequests:i,suggestedLength:s}=lL({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=cL(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=tN(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Zwe{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=tN(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ebe=/^[a-z][a-z0-9\-+.]+:/i;function tbe(n){if(ebe.test(n))return new URL(n);const e=Lf.get("url");return new URL(e.pathToFileURL(n))}function XW(n,e,t){return n.protocol==="http:"?Lf.get("http").request(n,{headers:e},t):Lf.get("https").request(n,{headers:e},t)}class nbe{constructor(e){this.source=e,this.url=tbe(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=aL(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ei(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new sbe(this):new rbe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new obe(this,e,t):new ibe(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class QW{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new xg("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class JW{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class rbe extends QW{constructor(e){super(e);const t=Object.fromEntries(e.headers),r=i=>{if(i.statusCode===404){const l=new bg(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(i);const s=new Headers(this._readableStream.headers),{allowRangeRequests:o,suggestedLength:a}=lL({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=cL(s)};this._request=XW(this._url,t,r),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class ibe extends JW{constructor(e,t,r){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${t}-${r-1}`;const s=o=>{if(o.statusCode===404){const a=new bg(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(o)};this._request=XW(this._url,i,s),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class sbe extends QW{constructor(e){super(e);const t=Lf.get("fs");t.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new bg(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class obe extends JW{constructor(e,t,r){super(e);const i=Lf.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:r-1}))}}const abe=1e5,po=30,lbe=.8;var f8,Bh,yo,Zb,e2,nm,Vu,t2,n2,rm,dv,hv,Uh,fv,r2,pv,im,i2,s2,$r,sm,om,o2,Vh,mv,Pd,ZW,eG,lP,va,M5,cP,tG,nG;let aP=($r=class{constructor({textContentSource:e,container:t,viewport:r}){K(this,Pd);K(this,Bh,Promise.withResolvers());K(this,yo,null);K(this,Zb,!1);K(this,e2,!!((f8=globalThis.FontInspector)!=null&&f8.enabled));K(this,nm,null);K(this,Vu,null);K(this,t2,0);K(this,n2,0);K(this,rm,null);K(this,dv,null);K(this,hv,0);K(this,Uh,0);K(this,fv,Object.create(null));K(this,r2,[]);K(this,pv,null);K(this,im,[]);K(this,i2,new WeakMap);K(this,s2,null);var l;if(e instanceof ReadableStream)z(this,pv,e);else if(typeof e=="object")z(this,pv,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');z(this,yo,z(this,dv,t)),z(this,Uh,r.scale*(globalThis.devicePixelRatio||1)),z(this,hv,r.rotation),z(this,Vu,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;z(this,s2,[1,0,0,-1,-o,a+s]),z(this,n2,i),z(this,t2,s),W(l=$r,va,tG).call(l),rg(t,r),m(this,Bh).promise.finally(()=>{m($r,mv).delete(this),z(this,Vu,null),z(this,fv,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=eo.platform;return wn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{m(this,rm).read().then(({value:t,done:r})=>{if(r){m(this,Bh).resolve();return}m(this,nm)??z(this,nm,t.lang),Object.assign(m(this,fv),t.styles),W(this,Pd,ZW).call(this,t.items),e()},m(this,Bh).reject)};return z(this,rm,m(this,pv).getReader()),m($r,mv).add(this),e(),m(this,Bh).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==m(this,hv)&&(t==null||t(),z(this,hv,i),rg(m(this,dv),{rotation:i})),r!==m(this,Uh)){t==null||t(),z(this,Uh,r);const o={div:null,properties:null,ctx:W(s=$r,va,M5).call(s,m(this,nm))};for(const a of m(this,im))o.properties=m(this,i2).get(a),o.div=a,W(this,Pd,lP).call(this,o)}}cancel(){var t;const e=new xg("TextLayer task cancelled.");(t=m(this,rm))==null||t.cancel(e).catch(()=>{}),z(this,rm,null),m(this,Bh).reject(e)}get textDivs(){return m(this,im)}get textContentItemsStr(){return m(this,r2)}static cleanup(){if(!(m(this,mv).size>0)){m(this,sm).clear();for(const{canvas:e}of m(this,om).values())e.remove();m(this,om).clear()}}},Bh=new WeakMap,yo=new WeakMap,Zb=new WeakMap,e2=new WeakMap,nm=new WeakMap,Vu=new WeakMap,t2=new WeakMap,n2=new WeakMap,rm=new WeakMap,dv=new WeakMap,hv=new WeakMap,Uh=new WeakMap,fv=new WeakMap,r2=new WeakMap,pv=new WeakMap,im=new WeakMap,i2=new WeakMap,s2=new WeakMap,sm=new WeakMap,om=new WeakMap,o2=new WeakMap,Vh=new WeakMap,mv=new WeakMap,Pd=new WeakSet,ZW=function(e){var i,s;if(m(this,Zb))return;(s=m(this,Vu)).ctx??(s.ctx=W(i=$r,va,M5).call(i,m(this,nm)));const t=m(this,im),r=m(this,r2);for(const o of e){if(t.length>abe){on("Ignoring additional textDivs for performance reasons."),z(this,Zb,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=m(this,yo);z(this,yo,document.createElement("span")),m(this,yo).classList.add("markedContent"),o.id!==null&&m(this,yo).setAttribute("id",`${o.id}`),a.append(m(this,yo))}else o.type==="endMarkedContent"&&z(this,yo,m(this,yo).parentNode);continue}r.push(o.str),W(this,Pd,eG).call(this,o)}},eG=function(e){var y;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,im).push(t);const i=At.transform(m(this,s2),e.transform);let s=Math.atan2(i[1],i[0]);const o=m(this,fv)[e.fontName];o.vertical&&(s+=Math.PI/2);let a=m(this,e2)&&o.fontSubstitution||o.fontFamily;a=$r.fontFamilyMap.get(a)||a;const l=Math.hypot(i[2],i[3]),c=l*W(y=$r,va,nG).call(y,a,m(this,nm));let u,h;s===0?(u=i[4],h=i[5]-c):(u=i[4]+c*Math.sin(s),h=i[5]-c*Math.cos(s));const p="calc(var(--scale-factor)*",f=t.style;m(this,yo)===m(this,dv)?(f.left=`${(100*u/m(this,n2)).toFixed(2)}%`,f.top=`${(100*h/m(this,t2)).toFixed(2)}%`):(f.left=`${p}${u.toFixed(2)}px)`,f.top=`${p}${h.toFixed(2)}px)`),f.fontSize=`${p}${(m($r,Vh)*l).toFixed(2)}px)`,f.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,m(this,e2)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let w=!1;if(e.str.length>1)w=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);_!==b&&Math.max(_,b)/Math.min(_,b)>1.5&&(w=!0)}if(w&&(r.canvasWidth=o.vertical?e.height:e.width),m(this,i2).set(t,r),m(this,Vu).div=t,m(this,Vu).properties=r,W(this,Pd,lP).call(this,m(this,Vu)),r.hasText&&m(this,yo).append(t),r.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),m(this,yo).append(_)}},lP=function(e){var a;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let o="";if(m($r,Vh)>1&&(o=`scale(${1/m($r,Vh)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:u}=r;W(a=$r,va,cP).call(a,i,u*m(this,Uh),l);const{width:h}=i.measureText(t.textContent);h>0&&(o=`scaleX(${c*m(this,Uh)/h}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(s.transform=o)},va=new WeakSet,M5=function(e=null){let t=m(this,om).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,om).set(e,t),m(this,o2).set(t,{size:0,family:""})}return t},cP=function(e,t,r){const i=m(this,o2).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},tG=function(){if(m(this,Vh)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),z(this,Vh,e.getBoundingClientRect().height),e.remove()},nG=function(e,t){const r=m(this,sm).get(e);if(r)return r;const i=W(this,va,M5).call(this,t);i.canvas.width=i.canvas.height=po,W(this,va,cP).call(this,i,po,e);const s=i.measureText("");let o=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);if(o){const u=o/(o+a);return m(this,sm).set(e,u),i.canvas.width=i.canvas.height=0,u}i.strokeStyle="red",i.clearRect(0,0,po,po),i.strokeText("g",0,0);let l=i.getImageData(0,0,po,po).data;a=0;for(let u=l.length-1-3;u>=0;u-=4)if(l[u]>0){a=Math.ceil(u/4/po);break}i.clearRect(0,0,po,po),i.strokeText("A",0,po),l=i.getImageData(0,0,po,po).data,o=0;for(let u=0,h=l.length;u<h;u+=4)if(l[u]>0){o=po-Math.floor(u/4/po);break}i.canvas.width=i.canvas.height=0;const c=o?o/(o+a):lbe;return m(this,sm).set(e,c),c},K($r,va),K($r,sm,new Map),K($r,om,new Map),K($r,o2,new WeakMap),K($r,Vh,null),K($r,mv,new Set),$r);class _b{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(_b.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const cbe=65536,ube=100,dbe=5e3,hbe=Ls?Ewe:xwe,fbe=Ls?Swe:FW,pbe=Ls?Awe:_we,mbe=Ls?Nwe:zW;function gbe(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new uP,{docId:t}=e,r=n.url?vbe(n.url):null,i=n.data?ybe(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof rG?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:cbe;let u=n.worker instanceof j0?n.worker:null;const h=n.verbosity,p=typeof n.docBaseUrl=="string"&&!eN(n.docBaseUrl)?n.docBaseUrl:null,f=typeof n.cMapUrl=="string"?n.cMapUrl:null,w=n.cMapPacked!==!1,y=n.CMapReaderFactory||fbe,_=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,b=n.StandardFontDataFactory||mbe,A=n.stopAtErrors!==!0,E=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,N=n.isEvalSupported!==!1,F=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Ls,V=typeof n.isChrome=="boolean"?n.isChrome:!eo.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),L=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,C=typeof n.disableFontFace=="boolean"?n.disableFontFace:Ls,k=n.fontExtraProperties===!0,j=n.enableXfa===!0,T=n.ownerDocument||globalThis.document,M=n.disableRange===!0,R=n.disableStream===!0,q=n.disableAutoFetch===!0,ce=n.pdfBug===!0,de=n.CanvasFactory||hbe,ae=n.FilterFactory||pbe,Q=n.enableHWA===!0,ne=l?l.length:n.length??NaN,ge=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Ls&&!C,pe=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:y===FW&&b===zW&&f&&_&&Fy(f,document.baseURI)&&Fy(_,document.baseURI);n.canvasFactory&&PF("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&PF("`filterFactory`-instance option, please use `FilterFactory` instead.");const U=null;Jye(h);const Y={canvasFactory:new de({ownerDocument:T,enableHWA:Q}),filterFactory:new ae({docId:t,ownerDocument:T}),cMapReaderFactory:pe?null:new y({baseUrl:f,isCompressed:w}),standardFontDataFactory:pe?null:new b({baseUrl:_})};if(!u){const he={verbosity:h,port:od.workerPort};u=he.port?j0.fromPort(he):new j0(he),e._worker=u}const re={docId:t,apiVersion:"4.8.69",data:i,password:a,disableAutoFetch:q,rangeChunkSize:c,length:ne,docBaseUrl:p,enableXfa:j,evaluatorOptions:{maxImageSize:E,disableFontFace:C,ignoreErrors:A,isEvalSupported:N,isOffscreenCanvasSupported:F,isChrome:V,canvasMaxAreaInBytes:L,fontExtraProperties:k,useSystemFonts:ge,cMapUrl:pe?f:null,standardFontDataUrl:pe?_:null}},le={disableFontFace:C,fontExtraProperties:k,ownerDocument:T,pdfBug:ce,styleElement:U,loadingParams:{disableAutoFetch:q,enableXfa:j}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const he=u.messageHandler.sendWithPromise("GetDocRequest",re,i?[i.buffer]:null);let ue;if(l)ue=new $we(l,{disableRange:M,disableStream:R});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");let Ae;Ls?Ae=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Fy(r)?$F:nbe:Ae=Fy(r)?$F:Qwe,ue=new Ae({url:r,length:ne,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:M,disableStream:R})}return he.then(Ae=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const we=new qy(t,Ae,u.port),_e=new _be(we,e,ue,le,Y);e._transport=_e,we.send("Ready",null)})}).catch(e._capability.reject),e}function vbe(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Ls&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function ybe(n){if(Ls&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return JS(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function HF(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var SE;const NE=class NE{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ii(NE,SE)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};SE=new WeakMap,K(NE,SE,0);let uP=NE,rG=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){pr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class wbe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return wn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var zh,zu,Wa,Jg,j5;class bbe{constructor(e,t,r,i=!1){K(this,Wa);K(this,zh,null);K(this,zu,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new IF:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new iG,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new _x({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return wn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=xh.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:h=!1}){var N,F;(N=this._stats)==null||N.time("Overall");const p=this._transport.getRenderingIntent(r,i,u,h),{renderingIntent:f,cacheKey:w}=p;z(this,zu,!1),W(this,Wa,j5).call(this),a||(a=this._transport.getOptionalContentConfig(f));let y=this._intentStates.get(w);y||(y=Object.create(null),this._intentStates.set(w,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const _=!!(f&sa.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(p));const b=V=>{var L;y.renderTasks.delete(A),(this._maybeCleanupAfterRender||_)&&z(this,zu,!0),W(this,Wa,Jg).call(this,!_),V?(A.capability.reject(V),this._abortOperatorList({intentState:y,reason:V instanceof Error?V:new Error(V)})):A.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(L=globalThis.Stats)!=null&&L.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},A=new hP({callback:b,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:c});(y.renderTasks||(y.renderTasks=new Set)).add(A);const E=A.task;return Promise.all([y.displayReadyCapability.promise,a]).then(([V,L])=>{var C;if(this.destroyed){b();return}if((C=this._stats)==null||C.time("Rendering"),!(L.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");A.initializeGraphics({transparency:V,optionalContentConfig:L}),A.operatorListChanged()}).catch(b),E}getOperatorList({intent:e="display",annotationMode:t=xh.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,r,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>_b.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),z(this,zu,!1),W(this,Wa,j5).call(this),Promise.all(e)}cleanup(e=!1){z(this,zu,!0);const t=W(this,Wa,Jg).call(this,!1);return e&&t&&this._stats&&(this._stats=new IF),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&W(this,Wa,Jg).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:o}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},o).getReader(),c=this._intentStates.get(t);c.streamReader=l;const u=()=>{l.read().then(({value:h,done:p})=>{if(p){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),u())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const p of c.renderTasks)p.operatorListChanged();W(this,Wa,Jg).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};u()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof tL){let i=ube;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new xg(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}zh=new WeakMap,zu=new WeakMap,Wa=new WeakSet,Jg=function(e=!1){if(W(this,Wa,j5).call(this),!m(this,zu)||this.destroyed)return!1;if(e)return z(this,zh,setTimeout(()=>{z(this,zh,null),W(this,Wa,Jg).call(this,!1)},dbe)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),z(this,zu,!1),!0},j5=function(){m(this,zh)&&(clearTimeout(m(this,zh)),z(this,zh,null))};var $u,CE;class xbe{constructor(){K(this,$u,new Map);K(this,CE,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};m(this,CE).then(()=>{for(const[i]of m(this,$u))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){on("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}m(this,$u).set(t,i)}removeEventListener(e,t){const r=m(this,$u).get(t);r==null||r(),m(this,$u).delete(t)}terminate(){for(const[,e]of m(this,$u))e==null||e();m(this,$u).clear()}}$u=new WeakMap,CE=new WeakMap;var TE,am,lm,gv,O5,vv,F5;const xr=class xr{constructor({name:e=null,port:t=null,verbosity:r=Zye()}={}){K(this,gv);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=m(xr,lm))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(m(xr,lm)||z(xr,lm,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Ls?Promise.all([Lf.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new qy("main","worker",e),this._messageHandler.on("ready",function(){}),W(this,gv,O5).call(this)}_initialize(){if(m(xr,am)||m(xr,vv,F5)){this._setupFakeWorker();return}let{workerSrc:e}=xr;try{xr._isSameOrigin(window.location.href,e)||(e=xr._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new qy("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,W(this,gv,O5).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{XS("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){m(xr,am)||(on("Setting up fake worker."),z(xr,am,!0)),xr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new xbe;this._port=t;const r=`fake${Ii(xr,TE)._++}`,i=new qy(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new qy(r,r+"_worker",t),W(this,gv,O5).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=m(xr,lm))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=m(this,lm))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new xr(e)}static get workerSrc(){if(od.workerSrc)return od.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return wn(this,"_setupFakeWorkerGlobal",(async()=>m(this,vv,F5)?m(this,vv,F5):(await import(this.workerSrc)).WorkerMessageHandler)())}};TE=new WeakMap,am=new WeakMap,lm=new WeakMap,gv=new WeakSet,O5=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},vv=new WeakSet,F5=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},K(xr,vv),K(xr,TE,0),K(xr,am,!1),K(xr,lm),Ls&&(z(xr,am,!0),od.workerSrc||(od.workerSrc="./pdf.worker.mjs")),xr._isSameOrigin=(e,t)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const i=new URL(t,r);return r.origin===i.origin},xr._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let j0=xr;var Hu,kc,yv,wv,Ic,cm,Wy;class _be{constructor(e,t,r,i,s){K(this,cm);K(this,Hu,new Map);K(this,kc,new Map);K(this,yv,new Map);K(this,wv,new Map);K(this,Ic,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new iG,this.fontLoader=new wwe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return wn(this,"annotationStorage",new sL)}getRenderingIntent(e,t=xh.ENABLE,r=null,i=!1,s=!1){let o=sa.DISPLAY,a=JI;switch(e){case"any":o=sa.ANY;break;case"display":break;case"print":o=sa.PRINT;break;default:on(`getRenderingIntent - invalid intent: ${e}`)}const l=o&sa.PRINT&&r instanceof MW?r:this.annotationStorage;switch(t){case xh.DISABLE:o+=sa.ANNOTATIONS_DISABLE;break;case xh.ENABLE:break;case xh.ENABLE_FORMS:o+=sa.ANNOTATIONS_FORMS;break;case xh.ENABLE_STORAGE:o+=sa.ANNOTATIONS_STORAGE,a=l.serializable;break;default:on(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=sa.IS_EDITING),s&&(o+=sa.OPLIST);const{ids:c,hash:u}=l.modifiedIds,h=[o,a.hash,u];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=m(this,Ic))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,kc).values())e.push(i._destroy());m(this,kc).clear(),m(this,yv).clear(),m(this,wv).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),m(this,Hu).clear(),this.filterFactory.destroy(),aP.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new xg("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{Ei(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}Ei(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:o}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(r,i)=>{Ei(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}Ei(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new wbe(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new II(r.message,r.code);break;case"InvalidPDFException":i=new aW(r.message);break;case"MissingPDFException":i=new bg(r.message);break;case"UnexpectedResponseException":i=new QS(r.message,r.status);break;case"UnknownErrorException":i=new PI(r.message,r.details);break;default:pr("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(z(this,Ic,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?m(this,Ic).reject(s):m(this,Ic).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){m(this,Ic).reject(s)}}else m(this,Ic).reject(new II(r.message,r.code));return m(this,Ic).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;m(this,kc).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in s){const f=s.error;on(`Error during font loading: ${f}`),this.commonObjs.resolve(r,f);break}const u=c&&((o=globalThis.FontInspector)!=null&&o.enabled)?(f,w)=>globalThis.FontInspector.fontAdded(f,w):null,h=new bwe(s,{disableFontFace:a,inspectFont:u});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:p}=s;Ei(p,"The imageRef must be defined.");for(const f of m(this,kc).values())for(const[,w]of f.objs)if((w==null?void 0:w.ref)===p)return w.dataLen?(this.commonObjs.resolve(r,structuredClone(w)),w.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=m(this,kc).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(r,o),(o==null?void 0:o.dataLen)>Kye&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&on("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=m(this,yv).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&m(this,wv).set(s.refStr,e);const o=new bbe(t,s,this,this._params.pdfBug);return m(this,kc).set(t,o),o});return m(this,yv).set(t,i),i}getPageIndex(e){return HF(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return W(this,cm,Wy).call(this,"GetFieldObjects")}hasJSActions(){return W(this,cm,Wy).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return W(this,cm,Wy).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return W(this,cm,Wy).call(this,"GetOptionalContentConfig").then(t=>new zwe(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=m(this,Hu).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new Uwe(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return m(this,Hu).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of m(this,kc).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,Hu).clear(),this.filterFactory.destroy(!0),aP.cleanup()}}cachedPageNumber(e){if(!HF(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,wv).get(t)??null}}Hu=new WeakMap,kc=new WeakMap,yv=new WeakMap,wv=new WeakMap,Ic=new WeakMap,cm=new WeakSet,Wy=function(e,t=null){const r=m(this,Hu).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return m(this,Hu).set(e,i),i};const B_=Symbol("INITIAL_DATA");var Tl,a2,dP;class iG{constructor(){K(this,a2);K(this,Tl,Object.create(null))}get(e,t=null){if(t){const i=W(this,a2,dP).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=m(this,Tl)[e];if(!r||r.data===B_)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=m(this,Tl)[e];return!!t&&t.data!==B_}resolve(e,t=null){const r=W(this,a2,dP).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in m(this,Tl)){const{data:r}=m(this,Tl)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}z(this,Tl,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,Tl)){const{data:t}=m(this,Tl)[e];t!==B_&&(yield[e,t])}}}Tl=new WeakMap,a2=new WeakSet,dP=function(e){var t;return(t=m(this,Tl))[e]||(t[e]={...Promise.withResolvers(),data:B_})};var $h;class Abe{constructor(e){K(this,$h,null);z(this,$h,e),this.onContinue=null}get promise(){return m(this,$h).capability.promise}cancel(e=0){m(this,$h).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,$h).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=m(this,$h);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}$h=new WeakMap;var Hh,um;const bp=class bp{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:p=null}){K(this,Hh,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Abe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(m(bp,um).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(bp,um).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new M0(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),m(this,Hh)&&(window.cancelAnimationFrame(m(this,Hh)),z(this,Hh,null)),m(bp,um).delete(this._canvas),this.callback(e||new tL(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?z(this,Hh,window.requestAnimationFrame(()=>{z(this,Hh,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(bp,um).delete(this._canvas),this.callback())))}};Hh=new WeakMap,um=new WeakMap,K(bp,um,new WeakSet);let hP=bp;const Ebe="4.8.69",Sbe="3634dab10";function qF(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function _y(n){return Math.max(0,Math.min(255,255*n))}class WF{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=_y(e),[e,e,e]}static G_HTML([e]){const t=qF(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(_y)}static RGB_HTML(e){return`#${e.map(qF).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[_y(1-Math.min(1,e+i)),_y(1-Math.min(1,r+i)),_y(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class Nbe{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){pr("Abstract method `_createSVG` called.")}}class uL extends Nbe{_createSVG(e){return document.createElementNS(Cu,e)}}class sG{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var h,p;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=f}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const f=document.createTextNode(i.value);o.append(f),a&&_b.shouldBuildText(i.name)&&c.push(f)}return{textDivs:c}}const u=[[i,-1,o]];for(;u.length>0;){const[f,w,y]=u.at(-1);if(w+1===f.children.length){u.pop();continue}const _=f.children[++u.at(-1)[1]];if(_===null)continue;const{name:b}=_;if(b==="#text"){const E=document.createTextNode(_.value);c.push(E),y.append(E);continue}const A=(h=_==null?void 0:_.attributes)!=null&&h.xmlns?document.createElementNS(_.attributes.xmlns,b):document.createElement(b);if(y.append(A),_.attributes&&this.setAttributes({html:A,element:_,storage:t,intent:s,linkService:r}),((p=_.children)==null?void 0:p.length)>0)u.push([_,-1,A]);else if(_.value){const E=document.createTextNode(_.value);a&&_b.shouldBuildText(b)&&c.push(E),A.append(E)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ex=1e3,Cbe=9,sg=new WeakSet;function gd(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class Tbe{static create(e){switch(e.data.annotationType){case wi.LINK:return new oG(e);case wi.TEXT:return new kbe(e);case wi.WIDGET:switch(e.data.fieldType){case"Tx":return new Ibe(e);case"Btn":return e.data.radioButton?new cG(e):e.data.checkBox?new Rbe(e):new Lbe(e);case"Ch":return new Dbe(e);case"Sig":return new Pbe(e)}return new _g(e);case wi.POPUP:return new pP(e);case wi.FREETEXT:return new pG(e);case wi.LINE:return new jbe(e);case wi.SQUARE:return new Obe(e);case wi.CIRCLE:return new Fbe(e);case wi.POLYLINE:return new mG(e);case wi.CARET:return new Ube(e);case wi.INK:return new dL(e);case wi.POLYGON:return new Bbe(e);case wi.HIGHLIGHT:return new gG(e);case wi.UNDERLINE:return new Vbe(e);case wi.SQUIGGLY:return new zbe(e);case wi.STRIKEOUT:return new $be(e);case wi.STAMP:return new vG(e);case wi.FILEATTACHMENT:return new Hbe(e);default:return new ii(e)}}}var dm,bv,xv,l2,fP;const mL=class mL{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){K(this,l2);K(this,dm,null);K(this,bv,!1);K(this,xv,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return mL._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;m(this,dm)||z(this,dm,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&W(this,l2,fP).call(this,t),(r=m(this,xv))==null||r.popup.updateEdited(e)}resetEdited(){var e;m(this,dm)&&(W(this,l2,fP).call(this,m(this,dm).rect),(e=m(this,xv))==null||e.popup.resetEdited(),z(this,dm,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof _g||(s.tabIndex=Ex);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof pP){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:a,height:l}=gd(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(y>0||_>0){const A=`calc(${y}px * var(--scale-factor)) / calc(${_}px * var(--scale-factor))`;o.borderRadius=A}else if(this instanceof cG){const A=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=A}switch(t.borderStyle.style){case by.SOLID:o.borderStyle="solid";break;case by.DASHED:o.borderStyle="dashed";break;case by.BEVELED:on("Unimplemented border style: beveled");break;case by.INSET:on("Unimplemented border style: inset");break;case by.UNDERLINE:o.borderBottomStyle="solid";break}const b=t.borderColor||null;b?(z(this,bv,!0),o.borderColor=At.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):o.borderWidth=0}const c=At.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:h,pageX:p,pageY:f}=i.rawDims;o.left=`${100*(c[0]-p)/u}%`,o.top=`${100*(c[1]-f)/h}%`;const{rotation:w}=t;return t.hasOwnCanvas||w===0?(o.width=`${100*a/u}%`,o.height=`${100*l/h}%`):this.setRotation(w,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=gd(this.data.rect);let a,l;e%180===0?(a=100*s/r,l=100*o/i):(a=100*o/r,l=100*s/i),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=WF[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:WF[`${o}_rgb`](a)})};return wn(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,_,b,A]=e.subarray(2,6);if(i===y&&s===_&&t===b&&r===A)return}const{style:o}=this.container;let a;if(m(this,bv)){const{borderColor:y,borderWidth:_}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-r,{svgFactory:u}=this,h=u.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const p=u.createElement("defs");h.append(p);const f=u.createElement("clipPath"),w=`clippath_${this.data.id}`;f.setAttribute("id",w),f.setAttribute("clipPathUnits","objectBoundingBox"),p.append(f);for(let y=2,_=e.length;y<_;y+=8){const b=e[y],A=e[y+1],E=e[y+2],N=e[y+3],F=u.createElement("rect"),V=(E-t)/l,L=(s-A)/c,C=(b-E)/l,k=(A-N)/c;F.setAttribute("x",V),F.setAttribute("y",L),F.setAttribute("width",C),F.setAttribute("height",k),f.append(F),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${V}" y="${L}" width="${C}" height="${k}"/>`)}m(this,bv)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${w})`}_createPopup(){const{data:e}=this,t=z(this,xv,new pP({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){pr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!sg.has(c)){on(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&sg.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};dm=new WeakMap,bv=new WeakMap,xv=new WeakMap,l2=new WeakSet,fP=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:c,height:u}=gd(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*c/s}%`,t.height=`${100*u/o}%`):this.setRotation(i)};let ii=mL;var la,dp,aG,lG;class oG extends ii{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});K(this,la);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(W(this,la,aG).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(W(this,la,lG).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&W(this,la,dp).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),W(this,la,dp).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),W(this,la,dp).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),W(this,la,dp).call(this),!this._fieldObjects){on('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const p=new Set(o);for(const f of s){const w=this._fieldObjects[f]||[];for(const{id:y}of w)p.add(y)}for(const f of Object.values(this._fieldObjects))for(const w of f)p.has(w.id)===a&&l.push(w)}else for(const p of Object.values(this._fieldObjects))l.push(...p);const c=this.annotationStorage,u=[];for(const p of l){const{id:f}=p;switch(u.push(f),p.type){case"text":{const y=p.defaultValue||"";c.setValue(f,{value:y});break}case"checkbox":case"radiobutton":{const y=p.defaultValue===p.exportValues;c.setValue(f,{value:y});break}case"combobox":case"listbox":{const y=p.defaultValue||"";c.setValue(f,{value:y});break}default:continue}const w=document.querySelector(`[data-element-id="${f}"]`);if(w){if(!sg.has(w)){on(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;w.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}la=new WeakSet,dp=function(){this.container.setAttribute("data-internal-link","")},aG=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},W(this,la,dp).call(this)},lG=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),W(this,la,dp).call(this)};class kbe extends ii{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class _g extends ii{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return eo.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":At.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Cbe,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(sT*i))||1,h=c/u;o=Math.min(i,l(h/sT))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/sT))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=At.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Ibe extends _g{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",c??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),sg.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Ex,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",p=>{e.setValue(t,{value:p.target.value}),this.setPropertyOnSiblings(r,"value",p.target.value,"value"),u.formattedValue=null}),r.addEventListener("resetform",p=>{const f=this.data.defaultFieldValue??"";r.value=u.userValue=f,u.formattedValue=null});let h=p=>{const{formattedValue:f}=u;f!=null&&(p.target.value=f),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",f=>{var y;if(u.focused)return;const{target:w}=f;u.userValue&&(w.value=u.userValue),u.lastCommittedValue=w.value,u.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(u.focused=!0)}),r.addEventListener("updatefromsandbox",f=>{this.showElementAndHideCanvas(f.target);const w={value(y){u.userValue=y.detail.value??"",e.setValue(t,{value:u.userValue.toString()}),y.target.value=u.userValue},formattedValue(y){const{formattedValue:_}=y.detail;u.formattedValue=_,_!=null&&y.target!==document.activeElement&&(y.target.value=_),e.setValue(t,{formattedValue:_})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var E;const{charLimit:_}=y.detail,{target:b}=y;if(_===0){b.removeAttribute("maxLength");return}b.setAttribute("maxLength",_);let A=u.userValue;!A||A.length<=_||(A=A.slice(0,_),b.value=u.userValue=A,e.setValue(t,{value:A}),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:1,selStart:b.selectionStart,selEnd:b.selectionEnd}}))}};this._dispatchEventFromSandbox(w,f)}),r.addEventListener("keydown",f=>{var _;u.commitKey=1;let w=-1;if(f.key==="Escape"?w=0:f.key==="Enter"&&!this.data.multiLine?w=2:f.key==="Tab"&&(u.commitKey=3),w===-1)return;const{value:y}=f.target;u.lastCommittedValue!==y&&(u.lastCommittedValue=y,u.userValue=y,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:w,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}))});const p=h;h=null,r.addEventListener("blur",f=>{var y,_;if(!u.focused||!f.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(u.focused=!1);const{value:w}=f.target;u.userValue=w,u.lastCommittedValue!==w&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:u.commitKey,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}})),p(f)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",f=>{var F;u.lastCommittedValue=null;const{data:w,target:y}=f,{value:_,selectionStart:b,selectionEnd:A}=y;let E=b,N=A;switch(f.inputType){case"deleteWordBackward":{const V=_.substring(0,b).match(/\w*[^\w]*$/);V&&(E-=V[0].length);break}case"deleteWordForward":{const V=_.substring(b).match(/^[^\w]*\w*/);V&&(N+=V[0].length);break}case"deleteContentBackward":b===A&&(E-=1);break;case"deleteContentForward":b===A&&(N+=1);break}f.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:w||"",willCommit:!1,selStart:E,selEnd:N}})}),this._setEventListeners(r,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.value)}if(h&&r.addEventListener("blur",h),this.data.comb){const f=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${f}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Pbe extends _g{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Rbe extends _g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return sg.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Ex,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class cG extends _g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(sg.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Ex,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const p=u&&h.id===r;h.domElement&&(h.domElement.checked=p),e.setValue(h.id,{value:p})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Lbe extends oG{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class Dbe extends _g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");sg.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Ex;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const h=this.data.defaultFieldValue;for(const p of i.options)p.selected=p.value===h});for(const u of this.data.options){const h=document.createElement("option");h.textContent=u.displayValue,h.value=u.exportValue,r.value.includes(u.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),o=()=>{u.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=u=>{const h=u?"value":"textContent",{options:p,multiple:f}=i;return f?Array.prototype.filter.call(p,w=>w.selected).map(w=>w[h]):p.selectedIndex===-1?null:p[p.selectedIndex][h]};let l=a(!1);const c=u=>{const h=u.target.options;return Array.prototype.map.call(h,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const h={value(p){o==null||o();const f=p.detail.value,w=new Set(Array.isArray(f)?f:[f]);for(const y of i.options)y.selected=w.has(y.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(p){i.multiple=!0},remove(p){const f=i.options,w=p.detail.remove;f[w].selected=!1,i.remove(w),f.length>0&&Array.prototype.findIndex.call(f,_=>_.selected)===-1&&(f[0].selected=!0),e.setValue(t,{value:a(!0),items:c(p)}),l=a(!1)},clear(p){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(p){const{index:f,displayValue:w,exportValue:y}=p.detail.insert,_=i.children[f],b=document.createElement("option");b.textContent=w,b.value=y,_?_.before(b):i.append(b),e.setValue(t,{value:a(!0),items:c(p)}),l=a(!1)},items(p){const{items:f}=p.detail;for(;i.length!==0;)i.remove(0);for(const w of f){const{displayValue:y,exportValue:_}=w,b=document.createElement("option");b.textContent=y,b.value=_,i.append(b)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(p)}),l=a(!1)},indices(p){const f=new Set(p.detail.indices);for(const w of p.target.options)w.selected=f.has(w.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(h,u)}),i.addEventListener("input",u=>{var f;const h=a(!0),p=a(!1);e.setValue(t,{value:h}),u.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:p,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class pP extends ii{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:ii._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Mbe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${eL}${r}`).join(",")),this.container}}var _v,kE,IE,Av,hm,Vr,qu,Ev,c2,u2,Sv,Wu,kl,Gu,d2,Ku,h2,fm,pm,Yn,B5,mP,uG,dG,hG,fG,U5,V5,gP;class Mbe{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:h}){K(this,Yn);K(this,_v,W(this,Yn,hG).bind(this));K(this,kE,W(this,Yn,gP).bind(this));K(this,IE,W(this,Yn,V5).bind(this));K(this,Av,W(this,Yn,U5).bind(this));K(this,hm,null);K(this,Vr,null);K(this,qu,null);K(this,Ev,null);K(this,c2,null);K(this,u2,null);K(this,Sv,null);K(this,Wu,!1);K(this,kl,null);K(this,Gu,null);K(this,d2,null);K(this,Ku,null);K(this,h2,null);K(this,fm,null);K(this,pm,!1);var p;z(this,Vr,e),z(this,h2,i),z(this,qu,o),z(this,Ku,a),z(this,u2,l),z(this,hm,t),z(this,d2,c),z(this,Sv,u),z(this,c2,r),z(this,Ev,rL.toDateObject(s)),this.trigger=r.flatMap(f=>f.getElementsToTriggerPopup());for(const f of this.trigger)f.addEventListener("click",m(this,Av)),f.addEventListener("mouseenter",m(this,IE)),f.addEventListener("mouseleave",m(this,kE)),f.classList.add("popupTriggerArea");for(const f of r)(p=f.container)==null||p.addEventListener("keydown",m(this,_v));m(this,Vr).hidden=!0,h&&W(this,Yn,U5).call(this)}render(){if(m(this,kl))return;const e=z(this,kl,document.createElement("div"));if(e.className="popup",m(this,hm)){const s=e.style.outlineColor=At.makeHexColor(...m(this,hm));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=At.makeHexColor(...m(this,hm).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=m(this,h2),e.append(t),m(this,Ev)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:m(this,Ev).valueOf()})),t.append(s)}const i=m(this,Yn,B5);if(i)sG.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(m(this,qu));e.append(s)}m(this,Vr).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;m(this,fm)||z(this,fm,{contentsObj:m(this,qu),richText:m(this,Ku)}),e&&z(this,Gu,null),t&&(z(this,Ku,W(this,Yn,dG).call(this,t)),z(this,qu,null)),(r=m(this,kl))==null||r.remove(),z(this,kl,null)}resetEdited(){var e;m(this,fm)&&({contentsObj:Ii(this,qu)._,richText:Ii(this,Ku)._}=m(this,fm),z(this,fm,null),(e=m(this,kl))==null||e.remove(),z(this,kl,null),z(this,Gu,null))}forceHide(){z(this,pm,this.isVisible),m(this,pm)&&(m(this,Vr).hidden=!0)}maybeShow(){m(this,pm)&&(m(this,kl)||W(this,Yn,V5).call(this),z(this,pm,!1),m(this,Vr).hidden=!1)}get isVisible(){return m(this,Vr).hidden===!1}}_v=new WeakMap,kE=new WeakMap,IE=new WeakMap,Av=new WeakMap,hm=new WeakMap,Vr=new WeakMap,qu=new WeakMap,Ev=new WeakMap,c2=new WeakMap,u2=new WeakMap,Sv=new WeakMap,Wu=new WeakMap,kl=new WeakMap,Gu=new WeakMap,d2=new WeakMap,Ku=new WeakMap,h2=new WeakMap,fm=new WeakMap,pm=new WeakMap,Yn=new WeakSet,B5=function(){const e=m(this,Ku),t=m(this,qu);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&m(this,Ku).html||null},mP=function(){var e,t,r;return((r=(t=(e=m(this,Yn,B5))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},uG=function(){var e,t,r;return((r=(t=(e=m(this,Yn,B5))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},dG=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:m(this,Yn,uG),fontSize:m(this,Yn,mP)?`calc(${m(this,Yn,mP)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},hG=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,Wu))&&W(this,Yn,U5).call(this)},fG=function(){if(m(this,Gu)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=m(this,u2);let o=!!m(this,Sv),a=o?m(this,Sv):m(this,d2);for(const w of m(this,c2))if(!a||At.intersect(w.data.rect,a)!==null){a=w.data.rect,o=!0;break}const l=At.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),u=o?a[2]-a[0]+5:0,h=l[0]+u,p=l[1];z(this,Gu,[100*(h-i)/t,100*(p-s)/r]);const{style:f}=m(this,Vr);f.left=`${m(this,Gu)[0]}%`,f.top=`${m(this,Gu)[1]}%`},U5=function(){z(this,Wu,!m(this,Wu)),m(this,Wu)?(W(this,Yn,V5).call(this),m(this,Vr).addEventListener("click",m(this,Av)),m(this,Vr).addEventListener("keydown",m(this,_v))):(W(this,Yn,gP).call(this),m(this,Vr).removeEventListener("click",m(this,Av)),m(this,Vr).removeEventListener("keydown",m(this,_v)))},V5=function(){m(this,kl)||this.render(),this.isVisible?m(this,Wu)&&m(this,Vr).classList.add("focused"):(W(this,Yn,fG).call(this),m(this,Vr).hidden=!1,m(this,Vr).style.zIndex=parseInt(m(this,Vr).style.zIndex)+1e3)},gP=function(){m(this,Vr).classList.remove("focused"),!(m(this,Wu)||!this.isVisible)&&(m(this,Vr).hidden=!0,m(this,Vr).style.zIndex=parseInt(m(this,Vr).style.zIndex)-1e3)};class pG extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=tn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var f2;class jbe extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});K(this,f2,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=gd(t.rect),s=this.svgFactory.create(r,i,!0),o=z(this,f2,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,f2)}addHighlightArea(){this.container.classList.add("highlightArea")}}f2=new WeakMap;var p2;class Obe extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});K(this,p2,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=gd(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=z(this,p2,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,p2)}addHighlightArea(){this.container.classList.add("highlightArea")}}p2=new WeakMap;var m2;class Fbe extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});K(this,m2,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=gd(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=z(this,m2,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,m2)}addHighlightArea(){this.container.classList.add("highlightArea")}}m2=new WeakMap;var g2;class mG extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});K(this,g2,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:o,height:a}=gd(t),l=this.svgFactory.create(o,a,!0);let c=[];for(let h=0,p=r.length;h<p;h+=2){const f=r[h]-t[0],w=t[3]-r[h+1];c.push(`${f},${w}`)}c=c.join(" ");const u=z(this,g2,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,g2)}addHighlightArea(){this.container.classList.add("highlightArea")}}g2=new WeakMap;class Bbe extends mG{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ube extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var v2;class dL extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});K(this,v2,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?tn.HIGHLIGHT:tn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:r,borderStyle:i,popupRef:s}}=this,{width:o,height:a}=gd(t),l=this.svgFactory.create(o,a,!0);for(const c of r){let u=[];for(let p=0,f=c.length;p<f;p+=2){const w=c[p]-t[0],y=t[3]-c[p+1];u.push(`${w},${y}`)}u=u.join(" ");const h=this.svgFactory.createElement(this.svgElementName);m(this,v2).push(h),h.setAttribute("points",u),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return m(this,v2)}addHighlightArea(){this.container.classList.add("highlightArea")}}v2=new WeakMap;class gG extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=tn.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class Vbe extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class zbe extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class $be extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class vG extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=tn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var y2,w2,vP;class Hbe extends ii{constructor(t){var i;super(t,{isRenderable:!0});K(this,w2);K(this,y2,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",W(this,w2,vP).bind(this)),z(this,y2,i);const{isMac:s}=eo.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&W(this,w2,vP).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return m(this,y2)}addHighlightArea(){this.container.classList.add("highlightArea")}}y2=new WeakMap,w2=new WeakSet,vP=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var b2,mm,gm,x2,ag,yG,yP,p8;let qbe=(p8=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o,structTreeLayer:a}){K(this,ag);K(this,b2,null);K(this,mm,null);K(this,gm,new Map);K(this,x2,null);this.div=e,z(this,b2,t),z(this,mm,r),z(this,x2,a||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return m(this,gm).size>0}async render(e){var o;const{annotations:t}=e,r=this.div;rg(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new uL,annotationStorage:e.annotationStorage||new sL,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===wi.POPUP;if(l){const h=i.get(a.id);if(!h)continue;s.elements=h}else{const{width:h,height:p}=gd(a.rect);if(h<=0||p<=0)continue}s.data=a;const c=Tbe.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const h=i.get(a.popupRef);h?h.push(c):i.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),await W(this,ag,yG).call(this,u,a.id),c._isEditable&&(m(this,gm).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}W(this,ag,yP).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,rg(t,{rotation:e.rotation}),W(this,ag,yP).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(m(this,gm).values())}getEditableAnnotation(e){return m(this,gm).get(e)}},b2=new WeakMap,mm=new WeakMap,gm=new WeakMap,x2=new WeakMap,ag=new WeakSet,yG=async function(e,t){var o,a;const r=e.firstChild||e,i=r.id=`${eL}${t}`,s=await((o=m(this,x2))==null?void 0:o.getAriaAttributes(i));if(s)for(const[l,c]of s)r.setAttribute(l,c);this.div.append(e),(a=m(this,b2))==null||a.moveElementInDOM(this.div,e,r,!1)},yP=function(){if(!m(this,mm))return;const e=this.div;for(const[t,r]of m(this,mm)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}m(this,mm).clear()},p8);const U_=/\r\n?|\n/g;var Il,Zo,_2,vm,ea,fi,wG,bG,xG,z5,yd,$5,H5,_G,bP,AG;const or=class or extends $n{constructor(t){super({...t,name:"freeTextEditor"});K(this,fi);K(this,Il);K(this,Zo,"");K(this,_2,`${this.id}-editor`);K(this,vm,null);K(this,ea);z(this,Il,t.color||or._defaultColor||$n._defaultLineColor),z(this,ea,t.fontSize||or._defaultFontSize)}static get _keyboardManager(){const t=or.prototype,r=o=>o.isEmpty(),i=ig.TRANSLATE_SMALL,s=ig.TRANSLATE_BIG;return wn(this,"_keyboardManager",new Ax([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){$n.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case qt.FREETEXT_SIZE:or._defaultFontSize=r;break;case qt.FREETEXT_COLOR:or._defaultColor=r;break}}updateParams(t,r){switch(t){case qt.FREETEXT_SIZE:W(this,fi,wG).call(this,r);break;case qt.FREETEXT_COLOR:W(this,fi,bG).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[qt.FREETEXT_SIZE,or._defaultFontSize],[qt.FREETEXT_COLOR,or._defaultColor||$n._defaultLineColor]]}get propertiesToUpdate(){return[[qt.FREETEXT_SIZE,m(this,ea)],[qt.FREETEXT_COLOR,m(this,Il)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-or._internalPadding*t,-(or._internalPadding+m(this,ea))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(tn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),z(this,vm,new AbortController);const t=this._uiManager.combinedSignal(m(this,vm));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,_2)),this._isDraggable=!0,(t=m(this,vm))==null||t.abort(),z(this,vm,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=m(this,Zo),r=z(this,Zo,W(this,fi,xG).call(this).trimEnd());if(t===r)return;const i=s=>{if(z(this,Zo,s),!s){this.remove();return}W(this,fi,H5).call(this),this._uiManager.rebuild(this),W(this,fi,z5).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),W(this,fi,z5).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){or._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,_2)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,ea)}px * var(--scale-factor))`,i.color=m(this,Il),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),dE(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,h]=this.pageDimensions,[p,f]=this.pageTranslation;let w,y;switch(this.rotation){case 0:w=t+(a[0]-p)/u,y=r+this.height-(a[1]-f)/h;break;case 90:w=t+(a[0]-p)/u,y=r-(a[1]-f)/h,[l,c]=[c,-l];break;case 180:w=t-this.width+(a[0]-p)/u,y=r-(a[1]-f)/h,[l,c]=[-l,-c];break;case 270:w=t+(a[0]-p-this.height*h)/u,y=r+(a[1]-f-this.width*u)/h,[l,c]=[-c,l];break}this.setAt(w*s,y*o,l,c)}else this.setAt(t*s,r*o,this.width*s,this.height*o);W(this,fi,H5).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var w,y,_;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=W(w=or,yd,bP).call(w,r.getData("text")||"").replaceAll(U_,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,u=[],h=[];if(l.nodeType===Node.TEXT_NODE){const b=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(U_,"")),b!==this.editorDiv){let A=u;for(const E of this.editorDiv.childNodes){if(E===b){A=h;continue}A.push(W(y=or,yd,$5).call(y,E))}}u.push(l.nodeValue.slice(0,c).replaceAll(U_,""))}else if(l===this.editorDiv){let b=u,A=0;for(const E of this.editorDiv.childNodes)A++===c&&(b=h),b.push(W(_=or,yd,$5).call(_,E))}z(this,Zo,`${u.join(`
`)}${s}${h.join(`
`)}`),W(this,fi,H5).call(this);const p=new Range;let f=u.reduce((b,A)=>b+A.length,0);for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const A=b.nodeValue.length;if(f<=A){p.setStart(b,f),p.setEnd(b,f);break}f-=A}o.removeAllRanges(),o.addRange(p)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,i){var a;let s=null;if(t instanceof pG){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:h,id:p,popupRef:f},textContent:w,textPosition:y,parent:{page:{pageNumber:_}}}=t;if(!w||w.length===0)return null;s=t={annotationType:tn.FREETEXT,color:Array.from(c),fontSize:l,value:w.join(`
`),position:y,pageIndex:_-1,rect:u.slice(0),rotation:h,id:p,deleted:!1,popupRef:f}}const o=await super.deserialize(t,r,i);return z(o,ea,t.fontSize),z(o,Il,At.makeHexColor(...t.color)),z(o,Zo,W(a=or,yd,bP).call(a,t.value)),o.annotationElementId=t.id||null,o._initialData=s,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=or._internalPadding*this.parentScale,i=this.getRect(r,r),s=$n._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:m(this,Il)),o={annotationType:tn.FREETEXT,color:s,fontSize:m(this,ea),value:W(this,fi,_G).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!W(this,fi,AG).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${m(this,ea)}px * var(--scale-factor))`,i.color=m(this,Il),r.replaceChildren();for(const o of m(this,Zo).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=or._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:m(this,Zo)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Il=new WeakMap,Zo=new WeakMap,_2=new WeakMap,vm=new WeakMap,ea=new WeakMap,fi=new WeakSet,wG=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-m(this,ea))*this.parentScale),z(this,ea,s),W(this,fi,z5).call(this)},i=m(this,ea);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},bG=function(t){const r=s=>{z(this,Il,this.editorDiv.style.color=s)},i=m(this,Il);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},xG=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(W(i=or,yd,$5).call(i,s)),r=s);return t.join(`
`)},z5=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},yd=new WeakSet,$5=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(U_,"")},H5=function(){if(this.editorDiv.replaceChildren(),!!m(this,Zo))for(const t of m(this,Zo).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},_G=function(){return m(this,Zo).replaceAll(""," ")},bP=function(t){return t.replaceAll(" ","")},AG=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},K(or,yd),rt(or,"_freeTextDefaultContent",""),rt(or,"_internalPadding",0),rt(or,"_defaultColor",null),rt(or,"_defaultFontSize",10),rt(or,"_type","freetext"),rt(or,"_editorType",tn.FREETEXT);let wP=or;class EG{toSVGPath(){pr("Abstract method `toSVGPath` must be implemented.")}get box(){pr("Abstract getter `box` must be implemented.")}serialize(e,t){pr("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){pr("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){pr("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ta,Pl,Nv,Cv,Pc,ln,ym,wm,A2,E2,Tv,kv,qh,S2,PE,RE,Ni,Gy,SG,NG,CG,TG,kG,IG;const Iu=class Iu{constructor({x:e,y:t},r,i,s,o,a=0){K(this,Ni);K(this,ta);K(this,Pl,[]);K(this,Nv);K(this,Cv);K(this,Pc,[]);K(this,ln,new Float64Array(18));K(this,ym);K(this,wm);K(this,A2);K(this,E2);K(this,Tv);K(this,kv);K(this,qh,[]);z(this,ta,r),z(this,kv,s*i),z(this,Cv,o),m(this,ln).set([NaN,NaN,NaN,NaN,e,t],6),z(this,Nv,a),z(this,E2,m(Iu,S2)*i),z(this,A2,m(Iu,RE)*i),z(this,Tv,i),m(this,qh).push(e,t)}isEmpty(){return isNaN(m(this,ln)[8])}add({x:e,y:t}){var k;z(this,ym,e),z(this,wm,t);const[r,i,s,o]=m(this,ta);let[a,l,c,u]=m(this,ln).subarray(8,12);const h=e-c,p=t-u,f=Math.hypot(h,p);if(f<m(this,A2))return!1;const w=f-m(this,E2),y=w/f,_=y*h,b=y*p;let A=a,E=l;a=c,l=u,c+=_,u+=b,(k=m(this,qh))==null||k.push(e,t);const N=-b/w,F=_/w,V=N*m(this,kv),L=F*m(this,kv);return m(this,ln).set(m(this,ln).subarray(2,8),0),m(this,ln).set([c+V,u+L],4),m(this,ln).set(m(this,ln).subarray(14,18),12),m(this,ln).set([c-V,u-L],16),isNaN(m(this,ln)[6])?(m(this,Pc).length===0&&(m(this,ln).set([a+V,l+L],2),m(this,Pc).push(NaN,NaN,NaN,NaN,(a+V-r)/s,(l+L-i)/o),m(this,ln).set([a-V,l-L],14),m(this,Pl).push(NaN,NaN,NaN,NaN,(a-V-r)/s,(l-L-i)/o)),m(this,ln).set([A,E,a,l,c,u],6),!this.isEmpty()):(m(this,ln).set([A,E,a,l,c,u],6),Math.abs(Math.atan2(E-l,A-a)-Math.atan2(b,_))<Math.PI/2?([a,l,c,u]=m(this,ln).subarray(2,6),m(this,Pc).push(NaN,NaN,NaN,NaN,((a+c)/2-r)/s,((l+u)/2-i)/o),[a,l,A,E]=m(this,ln).subarray(14,18),m(this,Pl).push(NaN,NaN,NaN,NaN,((A+a)/2-r)/s,((E+l)/2-i)/o),!0):([A,E,a,l,c,u]=m(this,ln).subarray(0,6),m(this,Pc).push(((A+5*a)/6-r)/s,((E+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),[c,u,a,l,A,E]=m(this,ln).subarray(12,18),m(this,Pl).push(((A+5*a)/6-r)/s,((E+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,Pc),t=m(this,Pl);if(isNaN(m(this,ln)[6])&&!this.isEmpty())return W(this,Ni,SG).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);W(this,Ni,CG).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return W(this,Ni,NG).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,o){return new PG(e,t,r,i,s,o)}getOutlines(){var h;const e=m(this,Pc),t=m(this,Pl),r=m(this,ln),[i,s,o,a]=m(this,ta),l=new Float64Array((((h=m(this,qh))==null?void 0:h.length)??0)+2);for(let p=0,f=l.length-2;p<f;p+=2)l[p]=(m(this,qh)[p]-i)/o,l[p+1]=(m(this,qh)[p+1]-s)/a;if(l[l.length-2]=(m(this,ym)-i)/o,l[l.length-1]=(m(this,wm)-s)/a,isNaN(r[6])&&!this.isEmpty())return W(this,Ni,TG).call(this,l);const c=new Float64Array(m(this,Pc).length+24+m(this,Pl).length);let u=e.length;for(let p=0;p<u;p+=2){if(isNaN(e[p])){c[p]=c[p+1]=NaN;continue}c[p]=e[p],c[p+1]=e[p+1]}u=W(this,Ni,IG).call(this,c,u);for(let p=t.length-6;p>=6;p-=6)for(let f=0;f<6;f+=2){if(isNaN(t[p+f])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=t[p+f],c[u+1]=t[p+f+1],u+=2}return W(this,Ni,kG).call(this,c,u),this.newFreeDrawOutline(c,l,m(this,ta),m(this,Tv),m(this,Nv),m(this,Cv))}};ta=new WeakMap,Pl=new WeakMap,Nv=new WeakMap,Cv=new WeakMap,Pc=new WeakMap,ln=new WeakMap,ym=new WeakMap,wm=new WeakMap,A2=new WeakMap,E2=new WeakMap,Tv=new WeakMap,kv=new WeakMap,qh=new WeakMap,S2=new WeakMap,PE=new WeakMap,RE=new WeakMap,Ni=new WeakSet,Gy=function(){const e=m(this,ln).subarray(4,6),t=m(this,ln).subarray(16,18),[r,i,s,o]=m(this,ta);return[(m(this,ym)+(e[0]-t[0])/2-r)/s,(m(this,wm)+(e[1]-t[1])/2-i)/o,(m(this,ym)+(t[0]-e[0])/2-r)/s,(m(this,wm)+(t[1]-e[1])/2-i)/o]},SG=function(){const[e,t,r,i]=m(this,ta),[s,o,a,l]=W(this,Ni,Gy).call(this);return`M${(m(this,ln)[2]-e)/r} ${(m(this,ln)[3]-t)/i} L${(m(this,ln)[4]-e)/r} ${(m(this,ln)[5]-t)/i} L${s} ${o} L${a} ${l} L${(m(this,ln)[16]-e)/r} ${(m(this,ln)[17]-t)/i} L${(m(this,ln)[14]-e)/r} ${(m(this,ln)[15]-t)/i} Z`},NG=function(e){const t=m(this,Pl);e.push(`L${t[4]} ${t[5]} Z`)},CG=function(e){const[t,r,i,s]=m(this,ta),o=m(this,ln).subarray(4,6),a=m(this,ln).subarray(16,18),[l,c,u,h]=W(this,Ni,Gy).call(this);e.push(`L${(o[0]-t)/i} ${(o[1]-r)/s} L${l} ${c} L${u} ${h} L${(a[0]-t)/i} ${(a[1]-r)/s}`)},TG=function(e){const t=m(this,ln),[r,i,s,o]=m(this,ta),[a,l,c,u]=W(this,Ni,Gy).call(this),h=new Float64Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/o],0),this.newFreeDrawOutline(h,e,m(this,ta),m(this,Tv),m(this,Nv),m(this,Cv))},kG=function(e,t){const r=m(this,Pl);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},IG=function(e,t){const r=m(this,ln).subarray(4,6),i=m(this,ln).subarray(16,18),[s,o,a,l]=m(this,ta),[c,u,h,p]=W(this,Ni,Gy).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l],t),t+=24},K(Iu,S2,8),K(Iu,PE,2),K(Iu,RE,m(Iu,S2)+m(Iu,PE));let fE=Iu;var Iv,bm,Yu,N2,na,C2,Xr,No,Ky,Yy,RG;class PG extends EG{constructor(t,r,i,s,o,a){super();K(this,No);K(this,Iv);K(this,bm,null);K(this,Yu);K(this,N2);K(this,na);K(this,C2);K(this,Xr);z(this,Xr,t),z(this,na,r),z(this,Iv,i),z(this,C2,s),z(this,Yu,o),z(this,N2,a),W(this,No,RG).call(this,a);const{x:l,y:c,width:u,height:h}=m(this,bm);for(let p=0,f=t.length;p<f;p+=2)t[p]=(t[p]-l)/u,t[p+1]=(t[p+1]-c)/h;for(let p=0,f=r.length;p<f;p+=2)r[p]=(r[p]-l)/u,r[p+1]=(r[p+1]-c)/h}toSVGPath(){const t=[`M${m(this,Xr)[4]} ${m(this,Xr)[5]}`];for(let r=6,i=m(this,Xr).length;r<i;r+=6){if(isNaN(m(this,Xr)[r])){t.push(`L${m(this,Xr)[r+4]} ${m(this,Xr)[r+5]}`);continue}t.push(`C${m(this,Xr)[r]} ${m(this,Xr)[r+1]} ${m(this,Xr)[r+2]} ${m(this,Xr)[r+3]} ${m(this,Xr)[r+4]} ${m(this,Xr)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let c,u;switch(o){case 0:c=W(this,No,Ky).call(this,m(this,Xr),t,s,a,-l),u=W(this,No,Ky).call(this,m(this,na),t,s,a,-l);break;case 90:c=W(this,No,Yy).call(this,m(this,Xr),t,r,a,l),u=W(this,No,Yy).call(this,m(this,na),t,r,a,l);break;case 180:c=W(this,No,Ky).call(this,m(this,Xr),i,r,-a,l),u=W(this,No,Ky).call(this,m(this,na),i,r,-a,l);break;case 270:c=W(this,No,Yy).call(this,m(this,Xr),i,s,-a,-l),u=W(this,No,Yy).call(this,m(this,na),i,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return m(this,bm)}newOutliner(t,r,i,s,o,a=0){return new fE(t,r,i,s,o,a)}getNewOutline(t,r){const{x:i,y:s,width:o,height:a}=m(this,bm),[l,c,u,h]=m(this,Iv),p=o*u,f=a*h,w=i*u+l,y=s*h+c,_=this.newOutliner({x:m(this,na)[0]*p+w,y:m(this,na)[1]*f+y},m(this,Iv),m(this,C2),t,m(this,N2),r??m(this,Yu));for(let b=2;b<m(this,na).length;b+=2)_.add({x:m(this,na)[b]*p+w,y:m(this,na)[b+1]*f+y});return _.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Iv=new WeakMap,bm=new WeakMap,Yu=new WeakMap,N2=new WeakMap,na=new WeakMap,C2=new WeakMap,Xr=new WeakMap,No=new WeakSet,Ky=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=r+t[l]*s,a[l+1]=i+t[l+1]*o;return a},Yy=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=r+t[l+1]*s,a[l+1]=i+t[l]*o;return a},RG=function(t){const r=m(this,Xr);let i=r[4],s=r[5],o=i,a=s,l=i,c=s,u=i,h=s;const p=t?Math.max:Math.min;for(let b=6,A=r.length;b<A;b+=6){if(isNaN(r[b]))o=Math.min(o,r[b+4]),a=Math.min(a,r[b+5]),l=Math.max(l,r[b+4]),c=Math.max(c,r[b+5]),h<r[b+5]?(u=r[b+4],h=r[b+5]):h===r[b+5]&&(u=p(u,r[b+4]));else{const E=At.bezierBoundingBox(i,s,...r.slice(b,b+6));o=Math.min(o,E[0]),a=Math.min(a,E[1]),l=Math.max(l,E[2]),c=Math.max(c,E[3]),h<E[3]?(u=E[2],h=E[3]):h===E[3]&&(u=p(u,E[2]))}i=r[b+4],s=r[b+5]}const f=o-m(this,Yu),w=a-m(this,Yu),y=l-o+2*m(this,Yu),_=c-a+2*m(this,Yu);z(this,bm,{x:f,y:w,width:y,height:_,lastPoint:[u,h]})};var T2,Wh,Rl,no,LG,q5,DG,MG,xP;class GF{constructor(e,t=0,r=0,i=!0){K(this,no);K(this,T2);K(this,Wh,[]);K(this,Rl,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x:b,y:A,width:E,height:N}of e){const F=Math.floor((b-t)/u)*u,V=Math.ceil((b+E+t)/u)*u,L=Math.floor((A-t)/u)*u,C=Math.ceil((A+N+t)/u)*u,k=[F,L,C,!0],j=[V,L,C,!1];m(this,Wh).push(k,j),s=Math.min(s,F),o=Math.max(o,V),a=Math.min(a,L),l=Math.max(l,C)}const h=o-s+2*r,p=l-a+2*r,f=s-r,w=a-r,y=m(this,Wh).at(i?-1:-2),_=[y[0],y[2]];for(const b of m(this,Wh)){const[A,E,N]=b;b[0]=(A-f)/h,b[1]=(E-w)/p,b[2]=(N-w)/p}z(this,T2,{x:f,y:w,width:h,height:p,lastPoint:_})}getOutlines(){m(this,Wh).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of m(this,Wh))t[3]?(e.push(...W(this,no,xP).call(this,t)),W(this,no,DG).call(this,t)):(W(this,no,MG).call(this,t),e.push(...W(this,no,xP).call(this,t)));return W(this,no,LG).call(this,e)}}T2=new WeakMap,Wh=new WeakMap,Rl=new WeakMap,no=new WeakSet,LG=function(e){const t=[],r=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,c,u,h]=o;r.delete(o);let p=a,f=l;for(s=[a,c],i.push(s);;){let w;if(r.has(u))w=u;else if(r.has(h))w=h;else break;r.delete(w),[a,l,c,u,h]=w,p!==a&&(s.push(p,f,a,f===l?l:c),p=a),f=f===l?c:l}s.push(p,f)}return new Wbe(i,m(this,T2))},q5=function(e){const t=m(this,Rl);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},DG=function([,e,t]){const r=W(this,no,q5).call(this,e);m(this,Rl).splice(r,0,[e,t])},MG=function([,e,t]){const r=W(this,no,q5).call(this,e);for(let i=r;i<m(this,Rl).length;i++){const[s,o]=m(this,Rl)[i];if(s!==e)break;if(s===e&&o===t){m(this,Rl).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=m(this,Rl)[i];if(s!==e)break;if(s===e&&o===t){m(this,Rl).splice(i,1);return}}},xP=function(e){const[t,r,i]=e,s=[[t,r,i]],o=W(this,no,q5).call(this,i);for(let a=0;a<o;a++){const[l,c]=m(this,Rl)[a];for(let u=0,h=s.length;u<h;u++){const[,p,f]=s[u];if(!(c<=p||f<=l)){if(p>=l){if(f>c)s[u][1]=c;else{if(h===1)return[];s.splice(u,1),u--,h--}continue}s[u][2]=l,f>c&&s.push([t,c,f])}}}return s};var k2,Pv;class Wbe extends EG{constructor(t,r){super();K(this,k2);K(this,Pv);z(this,Pv,t),z(this,k2,r)}toSVGPath(){const t=[];for(const r of m(this,Pv)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,c=s-r;for(const u of m(this,Pv)){const h=new Array(u.length);for(let p=0;p<u.length;p+=2)h[p]=t+u[p]*l,h[p+1]=s-u[p+1]*c;a.push(h)}return a}get box(){return m(this,k2)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}k2=new WeakMap,Pv=new WeakMap;class _P extends fE{newFreeDrawOutline(e,t,r,i,s,o){return new Gbe(e,t,r,i,s,o)}get classNamesForDrawing(){return["highlight","free"]}}class Gbe extends PG{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,r,i,s,o=0){return new _P(e,t,r,i,s,o)}}var Ll,xm,Rv,xi,I2,Lv,P2,R2,Gh,Dl,Dv,L2,Kn,AP,EP,SP,hp,jG,hh;const go=class go{constructor({editor:e=null,uiManager:t=null}){K(this,Kn);K(this,Ll,null);K(this,xm,null);K(this,Rv);K(this,xi,null);K(this,I2,!1);K(this,Lv,!1);K(this,P2,null);K(this,R2);K(this,Gh,null);K(this,Dl,null);K(this,Dv);var r;e?(z(this,Lv,!1),z(this,Dv,qt.HIGHLIGHT_COLOR),z(this,P2,e)):(z(this,Lv,!0),z(this,Dv,qt.HIGHLIGHT_DEFAULT_COLOR)),z(this,Dl,(e==null?void 0:e._uiManager)||t),z(this,R2,m(this,Dl)._eventBus),z(this,Rv,(e==null?void 0:e.color)||((r=m(this,Dl))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),m(go,L2)||z(go,L2,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return wn(this,"_keyboardManager",new Ax([[["Escape","mac+Escape"],go.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],go.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],go.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],go.prototype._moveToPrevious],[["Home","mac+Home"],go.prototype._moveToBeginning],[["End","mac+End"],go.prototype._moveToEnd]]))}renderButton(){const e=z(this,Ll,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=m(this,Dl)._signal;e.addEventListener("click",W(this,Kn,hp).bind(this),{signal:t}),e.addEventListener("keydown",W(this,Kn,SP).bind(this),{signal:t});const r=z(this,xm,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=m(this,Rv),e.append(r),e}renderMainDropdown(){const e=z(this,xi,W(this,Kn,AP).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===m(this,Ll)){W(this,Kn,hp).call(this,e);return}const t=e.target.getAttribute("data-color");t&&W(this,Kn,EP).call(this,t,e)}_moveToNext(e){var t,r;if(!m(this,Kn,hh)){W(this,Kn,hp).call(this,e);return}if(e.target===m(this,Ll)){(t=m(this,xi).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=m(this,xi))==null?void 0:t.firstChild)||e.target===m(this,Ll)){m(this,Kn,hh)&&this._hideDropdownFromKeyboard();return}m(this,Kn,hh)||W(this,Kn,hp).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!m(this,Kn,hh)){W(this,Kn,hp).call(this,e);return}(t=m(this,xi).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!m(this,Kn,hh)){W(this,Kn,hp).call(this,e);return}(t=m(this,xi).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=m(this,xi))==null||e.classList.add("hidden"),(t=m(this,Gh))==null||t.abort(),z(this,Gh,null)}_hideDropdownFromKeyboard(){var e;if(!m(this,Lv)){if(!m(this,Kn,hh)){(e=m(this,P2))==null||e.unselect();return}this.hideDropdown(),m(this,Ll).focus({preventScroll:!0,focusVisible:m(this,I2)})}}updateColor(e){if(m(this,xm)&&(m(this,xm).style.backgroundColor=e),!m(this,xi))return;const t=m(this,Dl).highlightColors.values();for(const r of m(this,xi).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=m(this,Ll))==null||e.remove(),z(this,Ll,null),z(this,xm,null),(t=m(this,xi))==null||t.remove(),z(this,xi,null)}};Ll=new WeakMap,xm=new WeakMap,Rv=new WeakMap,xi=new WeakMap,I2=new WeakMap,Lv=new WeakMap,P2=new WeakMap,R2=new WeakMap,Gh=new WeakMap,Dl=new WeakMap,Dv=new WeakMap,L2=new WeakMap,Kn=new WeakSet,AP=function(){const e=document.createElement("div"),t=m(this,Dl)._signal;e.addEventListener("contextmenu",nl,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of m(this,Dl).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",m(go,L2)[r]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.setAttribute("aria-selected",i===m(this,Rv)),s.addEventListener("click",W(this,Kn,EP).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",W(this,Kn,SP).bind(this),{signal:t}),e},EP=function(e,t){t.stopPropagation(),m(this,R2).dispatch("switchannotationeditorparams",{source:this,type:m(this,Dv),value:e})},SP=function(e){go._keyboardManager.exec(this,e)},hp=function(e){if(m(this,Kn,hh)){this.hideDropdown();return}if(z(this,I2,e.detail===0),m(this,Gh)||(z(this,Gh,new AbortController),window.addEventListener("pointerdown",W(this,Kn,jG).bind(this),{signal:m(this,Dl).combinedSignal(m(this,Gh))})),m(this,xi)){m(this,xi).classList.remove("hidden");return}const t=z(this,xi,W(this,Kn,AP).call(this));m(this,Ll).append(t)},jG=function(e){var t;(t=m(this,xi))!=null&&t.contains(e.target)||this.hideDropdown()},hh=function(){return m(this,xi)&&!m(this,xi).classList.contains("hidden")},K(go,L2,null);let pE=go;var Mv,D2,Xu,_m,jv,Ba,M2,j2,Am,Ml,Ss,wo,Ov,Qu,_i,Fv,Ua,O2,Qt,NP,W5,OG,FG,BG,CP,fp,Ga,Zg,UG,G5,Xy,VG,zG,$G,HG,qG;const Rn=class Rn extends $n{constructor(t){super({...t,name:"highlightEditor"});K(this,Qt);K(this,Mv,null);K(this,D2,0);K(this,Xu);K(this,_m,null);K(this,jv,null);K(this,Ba,null);K(this,M2,null);K(this,j2,0);K(this,Am,null);K(this,Ml,null);K(this,Ss,null);K(this,wo,!1);K(this,Ov,null);K(this,Qu);K(this,_i,null);K(this,Fv,"");K(this,Ua);K(this,O2,"");this.color=t.color||Rn._defaultColor,z(this,Ua,t.thickness||Rn._defaultThickness),z(this,Qu,t.opacity||Rn._defaultOpacity),z(this,Xu,t.boxes||null),z(this,O2,t.methodOfCreation||""),z(this,Fv,t.text||""),this._isDraggable=!1,t.highlightId>-1?(z(this,wo,!0),W(this,Qt,W5).call(this,t),W(this,Qt,fp).call(this)):m(this,Xu)&&(z(this,Mv,t.anchorNode),z(this,D2,t.anchorOffset),z(this,M2,t.focusNode),z(this,j2,t.focusOffset),W(this,Qt,NP).call(this),W(this,Qt,fp).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Rn.prototype;return wn(this,"_keyboardManager",new Ax([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,wo)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:m(this,Ua),methodOfCreation:m(this,O2)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;$n.initialize(t,r),Rn._defaultColor||(Rn._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case qt.HIGHLIGHT_DEFAULT_COLOR:Rn._defaultColor=r;break;case qt.HIGHLIGHT_THICKNESS:Rn._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return m(this,Ov)}updateParams(t,r){switch(t){case qt.HIGHLIGHT_COLOR:W(this,Qt,OG).call(this,r);break;case qt.HIGHLIGHT_THICKNESS:W(this,Qt,FG).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[qt.HIGHLIGHT_DEFAULT_COLOR,Rn._defaultColor],[qt.HIGHLIGHT_THICKNESS,Rn._defaultThickness]]}get propertiesToUpdate(){return[[qt.HIGHLIGHT_COLOR,this.color||Rn._defaultColor],[qt.HIGHLIGHT_THICKNESS,m(this,Ua)||Rn._defaultThickness],[qt.HIGHLIGHT_FREE,m(this,wo)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(z(this,jv,new pE({editor:this})),t.addColorPicker(m(this,jv))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(W(this,Qt,Xy).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,W(this,Qt,Xy).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){W(this,Qt,CP).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(W(this,Qt,fp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?W(this,Qt,CP).call(this):t&&(W(this,Qt,fp).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;m(this,wo)?(t=(t-this.rotation+360)%360,i=W(s=Rn,Ga,Zg).call(s,m(this,Ml).box,t)):i=W(o=Rn,Ga,Zg).call(o,this,t),r.rotate(m(this,Ss),t),r.rotate(m(this,_i),t),r.updateBox(m(this,Ss),i),r.updateBox(m(this,_i),W(a=Rn,Ga,Zg).call(a,m(this,Ba).box,t))}render(){if(this.div)return this.div;const t=super.render();m(this,Fv)&&(t.setAttribute("aria-label",m(this,Fv)),t.setAttribute("role","mark")),m(this,wo)?t.classList.add("free"):this.div.addEventListener("keydown",W(this,Qt,UG).bind(this),{signal:this._uiManager._signal});const r=z(this,Am,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=m(this,_m);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),dE(this,m(this,Am),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(m(this,_i),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(m(this,_i),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:W(this,Qt,G5).call(this,!0);break;case 1:case 3:W(this,Qt,G5).call(this,!1);break}}select(){var t,r;super.select(),m(this,_i)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,_i),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(m(this,_i),"selected"))}unselect(){var t;super.unselect(),m(this,_i)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,_i),"selected"),m(this,wo)||W(this,Qt,G5).call(this,!1))}get _mustFixPosition(){return!m(this,wo)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(m(this,Ss),t),this.parent.drawLayer.show(m(this,_i),t))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:c,height:u}=i.getBoundingClientRect(),h=new AbortController,p=t.combinedSignal(h),f=y=>{y.preventDefault(),y.stopPropagation()},w=y=>{h.abort(),W(this,Ga,HG).call(this,t,y)};window.addEventListener("blur",w,{signal:p}),window.addEventListener("pointerup",w,{signal:p}),window.addEventListener("pointerdown",f,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",nl,{signal:p}),i.addEventListener("pointermove",W(this,Ga,$G).bind(this,t),{signal:p}),this._freeHighlight=new _P({x:s,y:o},[a,l,c,u],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,r,i){var y,_,b,A;let s=null;if(t instanceof gG){const{data:{quadPoints:E,rect:N,rotation:F,id:V,color:L,opacity:C,popupRef:k},parent:{page:{pageNumber:j}}}=t;s=t={annotationType:tn.HIGHLIGHT,color:Array.from(L),opacity:C,quadPoints:E,boxes:null,pageIndex:j-1,rect:N.slice(0),rotation:F,id:V,deleted:!1,popupRef:k}}else if(t instanceof dL){const{data:{inkLists:E,rect:N,rotation:F,id:V,color:L,borderStyle:{rawWidth:C},popupRef:k},parent:{page:{pageNumber:j}}}=t;s=t={annotationType:tn.HIGHLIGHT,color:Array.from(L),thickness:C,inkLists:E,boxes:null,pageIndex:j-1,rect:N.slice(0),rotation:F,id:V,deleted:!1,popupRef:k}}const{color:o,quadPoints:a,inkLists:l,opacity:c}=t,u=await super.deserialize(t,r,i);u.color=At.makeHexColor(...o),z(u,Qu,c||1),l&&z(u,Ua,t.thickness),u.annotationElementId=t.id||null,u._initialData=s;const[h,p]=u.pageDimensions,[f,w]=u.pageTranslation;if(a){const E=z(u,Xu,[]);for(let N=0;N<a.length;N+=8)E.push({x:(a[N]-f)/h,y:1-(a[N+1]-w)/p,width:(a[N+2]-a[N])/h,height:(a[N+1]-a[N+5])/p});W(y=u,Qt,NP).call(y),W(_=u,Qt,fp).call(_),u.rotate(u.rotation)}else if(l){z(u,wo,!0);const E=l[0],N={x:E[0]-f,y:p-(E[1]-w)},F=new _P(N,[0,0,h,p],1,m(u,Ua)/2,!0,.001);for(let C=0,k=E.length;C<k;C+=2)N.x=E[C]-f,N.y=p-(E[C+1]-w),F.add(N);const{id:V,clipPathId:L}=r.drawLayer.draw(F,u.color,u._defaultOpacity,!0);W(b=u,Qt,W5).call(b,{highlightOutlines:F.getOutlines(),highlightId:V,clipPathId:L}),W(A=u,Qt,fp).call(A)}return u}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=$n._colorManager.convert(this.color),s={annotationType:tn.HIGHLIGHT,color:i,opacity:m(this,Qu),thickness:m(this,Ua),quadPoints:W(this,Qt,VG).call(this),outlines:W(this,Qt,zG).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:W(this,Qt,Xy).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!W(this,Qt,qG).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Mv=new WeakMap,D2=new WeakMap,Xu=new WeakMap,_m=new WeakMap,jv=new WeakMap,Ba=new WeakMap,M2=new WeakMap,j2=new WeakMap,Am=new WeakMap,Ml=new WeakMap,Ss=new WeakMap,wo=new WeakMap,Ov=new WeakMap,Qu=new WeakMap,_i=new WeakMap,Fv=new WeakMap,Ua=new WeakMap,O2=new WeakMap,Qt=new WeakSet,NP=function(){const t=new GF(m(this,Xu),.001);z(this,Ml,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=m(this,Ml).box;const r=new GF(m(this,Xu),.0025,.001,this._uiManager.direction==="ltr");z(this,Ba,r.getOutlines());const{lastPoint:i}=m(this,Ba).box;z(this,Ov,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},W5=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var h,p;if(z(this,Ml,t),z(this,Ba,t.getNewOutline(m(this,Ua)/2+1.5,.0025)),r>=0)z(this,Ss,r),z(this,_m,i),this.parent.drawLayer.finalizeLine(r,t),z(this,_i,this.parent.drawLayer.drawOutline(m(this,Ba)));else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(m(this,Ss),t),this.parent.drawLayer.updateBox(m(this,Ss),W(h=Rn,Ga,Zg).call(h,m(this,Ml).box,(f-this.rotation+360)%360)),this.parent.drawLayer.updateLine(m(this,_i),m(this,Ba)),this.parent.drawLayer.updateBox(m(this,_i),W(p=Rn,Ga,Zg).call(p,m(this,Ba).box,f))}const{x:o,y:a,width:l,height:c}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[f,w]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*w/f,this.height=c*f/w;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[f,w]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*w/f,this.height=c*f/w;break}}const{lastPoint:u}=m(this,Ba).box;z(this,Ov,[(u[0]-o)/l,(u[1]-a)/c])},OG=function(t){const r=(o,a)=>{var l,c,u;this.color=o,(l=this.parent)==null||l.drawLayer.changeColor(m(this,Ss),o),(c=m(this,jv))==null||c.updateColor(o),z(this,Qu,a),(u=this.parent)==null||u.drawLayer.changeOpacity(m(this,Ss),a)},i=this.color,s=m(this,Qu);this.addCommands({cmd:r.bind(this,t,Rn._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},FG=function(t){const r=m(this,Ua),i=s=>{z(this,Ua,s),W(this,Qt,BG).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},BG=function(t){if(!m(this,wo))return;W(this,Qt,W5).call(this,{highlightOutlines:m(this,Ml).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},CP=function(){m(this,Ss)===null||!this.parent||(this.parent.drawLayer.remove(m(this,Ss)),z(this,Ss,null),this.parent.drawLayer.remove(m(this,_i)),z(this,_i,null))},fp=function(t=this.parent){m(this,Ss)===null&&({id:Ii(this,Ss)._,clipPathId:Ii(this,_m)._}=t.drawLayer.draw(m(this,Ml),this.color,m(this,Qu)),z(this,_i,t.drawLayer.drawOutline(m(this,Ba))),m(this,Am)&&(m(this,Am).style.clipPath=m(this,_m)))},Ga=new WeakSet,Zg=function({x:t,y:r,width:i,height:s},o){switch(o){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},UG=function(t){Rn._keyboardManager.exec(this,t)},G5=function(t){if(!m(this,Mv))return;const r=window.getSelection();t?r.setPosition(m(this,Mv),m(this,D2)):r.setPosition(m(this,M2),m(this,j2))},Xy=function(){return m(this,wo)?this.rotation:0},VG=function(){if(m(this,wo))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,o=m(this,Xu),a=new Float32Array(o.length*8);let l=0;for(const{x:c,y:u,width:h,height:p}of o){const f=c*t+i,w=(1-u-p)*r+s;a[l]=a[l+4]=f,a[l+1]=a[l+3]=w,a[l+2]=a[l+6]=f+h*t,a[l+5]=a[l+7]=w+p*r,l+=8}return a},zG=function(t){return m(this,Ml).serialize(t,W(this,Qt,Xy).call(this))},$G=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},HG=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},qG=function(t){const{color:r}=this._initialData;return t.color.some((i,s)=>i!==r[s])},K(Rn,Ga),rt(Rn,"_defaultColor",null),rt(Rn,"_defaultOpacity",1),rt(Rn,"_defaultThickness",12),rt(Rn,"_type","highlight"),rt(Rn,"_editorType",tn.HIGHLIGHT),rt(Rn,"_freeHighlightId",-1),rt(Rn,"_freeHighlight",null),rt(Rn,"_freeHighlightClipId","");let mE=Rn;var Em,Sm,Rc,Ju,Va,Nm,Cm,Tm,Zu,Bv,km,Im,Kh,Ze,WG,GG,KG,YG,kP,XG,IP,QG,JG,ZG,eK,tK,pp,PP,RP,LP,K5,Y5,e0,DP,X5,Rd,nK,MP,rK,iK,jP,Q5,Qy;const Tr=class Tr extends $n{constructor(t){super({...t,name:"inkEditor"});K(this,Ze);K(this,Em,0);K(this,Sm,0);K(this,Rc,null);K(this,Ju,new Path2D);K(this,Va,!1);K(this,Nm,null);K(this,Cm,!1);K(this,Tm,!1);K(this,Zu,null);K(this,Bv,null);K(this,km,0);K(this,Im,0);K(this,Kh,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){$n.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case qt.INK_THICKNESS:Tr._defaultThickness=r;break;case qt.INK_COLOR:Tr._defaultColor=r;break;case qt.INK_OPACITY:Tr._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case qt.INK_THICKNESS:W(this,Ze,WG).call(this,r);break;case qt.INK_COLOR:W(this,Ze,GG).call(this,r);break;case qt.INK_OPACITY:W(this,Ze,KG).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[qt.INK_THICKNESS,Tr._defaultThickness],[qt.INK_COLOR,Tr._defaultColor||$n._defaultLineColor],[qt.INK_OPACITY,Math.round(Tr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[qt.INK_THICKNESS,this.thickness||Tr._defaultThickness],[qt.INK_COLOR,this.color||Tr._defaultColor||$n._defaultLineColor],[qt.INK_OPACITY,Math.round(100*(this.opacity??Tr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(W(this,Ze,K5).call(this),W(this,Ze,Y5).call(this)),this.isAttachedToDOM||(this.parent.add(this),W(this,Ze,e0).call(this)),W(this,Ze,Qy).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,m(this,Rc)&&(clearTimeout(m(this,Rc)),z(this,Rc,null)),(t=m(this,Zu))==null||t.disconnect(),z(this,Zu,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){m(this,Va)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,W(this,Ze,PP).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),W(this,Ze,RP).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){m(this,Va)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),z(this,Va,!0),this.div.classList.add("disabled"),W(this,Ze,Qy).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||m(this,Va)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),W(this,Ze,XG).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),W(this,Ze,IP).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),W(this,Ze,LP).call(this,t)}canvasPointerleave(t){W(this,Ze,LP).call(this,t)}get isResizable(){return!this.isEmpty()&&m(this,Va)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,a]=W(this,Ze,YG).call(this);if(this.setAt(i,s,0,0),this.setDims(o,a),W(this,Ze,K5).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,r*c,this.width*l,this.height*c),z(this,Tm,!0),W(this,Ze,e0).call(this),this.setDims(this.width*l,this.height*c),W(this,Ze,pp).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return W(this,Ze,Y5).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(m(this,km)===i&&m(this,Im)===s)return;z(this,km,i),z(this,Im,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=r/a,this.fixAndSetPosition(),m(this,Va)&&W(this,Ze,DP).call(this,t,r),W(this,Ze,e0).call(this),W(this,Ze,pp).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,r,i){var _,b,A;if(t instanceof dL)return null;const s=await super.deserialize(t,r,i);s.thickness=t.thickness,s.color=At.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,c=s.height*a,u=s.parentScale,h=t.thickness/2;z(s,Va,!0),z(s,km,Math.round(l)),z(s,Im,Math.round(c));const{paths:p,rect:f,rotation:w}=t;for(let{bezier:E}of p){E=W(_=Tr,Rd,rK).call(_,E,f,w);const N=[];s.paths.push(N);let F=u*(E[0]-h),V=u*(E[1]-h);for(let C=2,k=E.length;C<k;C+=6){const j=u*(E[C]-h),T=u*(E[C+1]-h),M=u*(E[C+2]-h),R=u*(E[C+3]-h),q=u*(E[C+4]-h),ce=u*(E[C+5]-h);N.push([[F,V],[j,T],[M,R],[q,ce]]),F=q,V=ce}const L=W(this,Rd,nK).call(this,N);s.bezierPath2D.push(L)}const y=W(b=s,Ze,jP).call(b);return z(s,Sm,Math.max($n.MIN_SIZE,y[2]-y[0])),z(s,Em,Math.max($n.MIN_SIZE,y[3]-y[1])),W(A=s,Ze,DP).call(A,l,c),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=$n._colorManager.convert(this.ctx.strokeStyle);return{annotationType:tn.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:W(this,Ze,iK).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Em=new WeakMap,Sm=new WeakMap,Rc=new WeakMap,Ju=new WeakMap,Va=new WeakMap,Nm=new WeakMap,Cm=new WeakMap,Tm=new WeakMap,Zu=new WeakMap,Bv=new WeakMap,km=new WeakMap,Im=new WeakMap,Kh=new WeakMap,Ze=new WeakSet,WG=function(t){const r=s=>{this.thickness=s,W(this,Ze,Qy).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},GG=function(t){const r=s=>{this.color=s,W(this,Ze,pp).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},KG=function(t){const r=s=>{this.opacity=s,W(this,Ze,pp).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},YG=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},kP=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${mwe(i)}`},XG=function(t,r){this.canvas.addEventListener("contextmenu",nl,{signal:this._uiManager._signal}),W(this,Ze,RP).call(this),z(this,Nm,new AbortController);const i=this._uiManager.combinedSignal(m(this,Nm));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,m(this,Tm)||(z(this,Tm,!0),W(this,Ze,e0).call(this),this.thickness||(this.thickness=Tr._defaultThickness),this.color||(this.color=Tr._defaultColor||$n._defaultLineColor),this.opacity??(this.opacity=Tr._defaultOpacity)),this.currentPath.push([t,r]),z(this,Cm,!1),W(this,Ze,kP).call(this),z(this,Kh,()=>{W(this,Ze,ZG).call(this),m(this,Kh)&&window.requestAnimationFrame(m(this,Kh))}),window.requestAnimationFrame(m(this,Kh))},IP=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const o=this.currentPath;let a=m(this,Ju);if(o.push([t,r]),z(this,Cm,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,r);return}o.length===3&&(z(this,Ju,a=new Path2D),a.moveTo(...o[0])),W(this,Ze,eK).call(this,a,...o.at(-3),...o.at(-2),t,r)},QG=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);m(this,Ju).lineTo(...t)},JG=function(t,r){z(this,Kh,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),W(this,Ze,IP).call(this,t,r),W(this,Ze,QG).call(this);let i;if(this.currentPath.length!==1)i=W(this,Ze,tK).call(this);else{const c=[t,r];i=[[c,c.slice(),c.slice(),c]]}const s=m(this,Ju),o=this.currentPath;this.currentPath=[],z(this,Ju,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(W(this,Ze,K5).call(this),W(this,Ze,Y5).call(this)),W(this,Ze,Qy).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},ZG=function(){if(!m(this,Cm))return;z(this,Cm,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),s=r.map(a=>a[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(m(this,Ju)),o.restore()},eK=function(t,r,i,s,o,a,l){const c=(r+s)/2,u=(i+o)/2,h=(s+a)/2,p=(o+l)/2;t.bezierCurveTo(c+2*(s-c)/3,u+2*(o-u)/3,h+2*(s-h)/3,p+2*(o-p)/3,h,p)},tK=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,o]=t[0];for(i=1;i<t.length-2;i++){const[f,w]=t[i],[y,_]=t[i+1],b=(f+y)/2,A=(w+_)/2,E=[s+2*(f-s)/3,o+2*(w-o)/3],N=[b+2*(f-b)/3,A+2*(w-A)/3];r.push([[s,o],E,N,[b,A]]),[s,o]=[b,A]}const[a,l]=t[i],[c,u]=t[i+1],h=[s+2*(a-s)/3,o+2*(l-o)/3],p=[c+2*(a-c)/3,u+2*(l-u)/3];return r.push([[s,o],h,p,[c,u]]),r},pp=function(){if(this.isEmpty()){W(this,Ze,X5).call(this);return}W(this,Ze,kP).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),W(this,Ze,X5).call(this);for(const i of this.bezierPath2D)r.stroke(i)},PP=function(){if(m(this,Bv))return;z(this,Bv,new AbortController);const t=this._uiManager.combinedSignal(m(this,Bv));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},RP=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},LP=function(t){var r;(r=m(this,Nm))==null||r.abort(),z(this,Nm,null),W(this,Ze,PP).call(this),m(this,Rc)&&clearTimeout(m(this,Rc)),z(this,Rc,setTimeout(()=>{z(this,Rc,null),this.canvas.removeEventListener("contextmenu",nl)},10)),W(this,Ze,JG).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},K5=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Y5=function(){z(this,Zu,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),m(this,Zu).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,Zu))==null||t.disconnect(),z(this,Zu,null)},{once:!0})},e0=function(){if(!m(this,Tm))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),W(this,Ze,X5).call(this)},DP=function(t,r){const i=W(this,Ze,Q5).call(this),s=(t-i)/m(this,Sm),o=(r-i)/m(this,Em);this.scaleFactor=Math.min(s,o)},X5=function(){const t=W(this,Ze,Q5).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Rd=new WeakSet,nK=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[o,a,l,c]=t[i];i===0&&r.moveTo(...o),r.bezierCurveTo(a[0],a[1],l[0],l[1],c[0],c[1])}return r},MP=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]+=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=t[c+1]+s,t[c+1]=h+o}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]+=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=a-t[c+1],t[c+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},rK=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]-=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=t[c+1]-o,t[c+1]=h-s}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]-=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=l-t[c+1],t[c+1]=a-h}break;default:throw new Error("Invalid rotation")}return t},iK=function(t,r,i,s){var u,h;const o=[],a=this.thickness/2,l=t*r+a,c=t*i+a;for(const p of this.paths){const f=[],w=[];for(let y=0,_=p.length;y<_;y++){const[b,A,E,N]=p[y];if(b[0]===N[0]&&b[1]===N[1]&&_===1){const R=t*b[0]+l,q=t*b[1]+c;f.push(R,q),w.push(R,q);break}const F=t*b[0]+l,V=t*b[1]+c,L=t*A[0]+l,C=t*A[1]+c,k=t*E[0]+l,j=t*E[1]+c,T=t*N[0]+l,M=t*N[1]+c;y===0&&(f.push(F,V),w.push(F,V)),f.push(L,C,k,j,T,M),w.push(L,C),y===_-1&&w.push(T,M)}o.push({bezier:W(u=Tr,Rd,MP).call(u,f,s,this.rotation),points:W(h=Tr,Rd,MP).call(h,w,s,this.rotation)})}return o},jP=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,c,u]of o){const h=At.bezierBoundingBox(...a,...l,...c,...u);t=Math.min(t,h[0]),i=Math.min(i,h[1]),r=Math.max(r,h[2]),s=Math.max(s,h[3])}return[t,i,r,s]},Q5=function(){return m(this,Va)?Math.ceil(this.thickness*this.parentScale):0},Qy=function(t=!1){if(this.isEmpty())return;if(!m(this,Va)){W(this,Ze,pp).call(this);return}const r=W(this,Ze,jP).call(this),i=W(this,Ze,Q5).call(this);z(this,Sm,Math.max($n.MIN_SIZE,r[2]-r[0])),z(this,Em,Math.max($n.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+m(this,Sm)*this.scaleFactor),o=Math.ceil(i+m(this,Em)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const c=this.translationX,u=this.translationY;this.translationX=-r[0],this.translationY=-r[1],W(this,Ze,e0).call(this),W(this,Ze,pp).call(this),z(this,km,s),z(this,Im,o),this.setDims(s,o);const h=t?i/this.scaleFactor/2:0;this.translate(c-this.translationX-h,u-this.translationY-h)},K(Tr,Rd),rt(Tr,"_defaultColor",null),rt(Tr,"_defaultOpacity",1),rt(Tr,"_defaultThickness",1),rt(Tr,"_type","ink"),rt(Tr,"_editorType",tn.INK);let TP=Tr;var Ir,Zi,Yh,ed,Xh,Uv,Lc,td,Dc,ra,Vv,pn,Jy,Zy,J5,FP,sK,Z5,BP,eA,oK,aK;const Aw=class Aw extends $n{constructor(t){super({...t,name:"stampEditor"});K(this,pn);K(this,Ir,null);K(this,Zi,null);K(this,Yh,null);K(this,ed,null);K(this,Xh,null);K(this,Uv,"");K(this,Lc,null);K(this,td,null);K(this,Dc,null);K(this,ra,!1);K(this,Vv,!1);z(this,ed,t.bitmapUrl),z(this,Xh,t.bitmapFile)}static initialize(t,r){$n.initialize(t,r)}static get supportedTypes(){return wn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return wn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(tn.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t,r;m(this,Zi)&&(z(this,Ir,null),this._uiManager.imageManager.deleteId(m(this,Zi)),(t=m(this,Lc))==null||t.remove(),z(this,Lc,null),(r=m(this,td))==null||r.disconnect(),z(this,td,null),m(this,Dc)&&(clearTimeout(m(this,Dc)),z(this,Dc,null))),super.remove()}rebuild(){if(!this.parent){m(this,Zi)&&W(this,pn,J5).call(this);return}super.rebuild(),this.div!==null&&(m(this,Zi)&&m(this,Lc)===null&&W(this,pn,J5).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(m(this,Yh)||m(this,Ir)||m(this,ed)||m(this,Xh)||m(this,Zi))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),m(this,Ir)?W(this,pn,FP).call(this):W(this,pn,J5).call(this),this.width&&!this.annotationElementId){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}copyCanvas(t,r,i=!1){var f;t||(t=224);const{width:s,height:o}=m(this,Ir),a=new LI;let l=m(this,Ir),c=s,u=o,h=null;if(r){if(s>r||o>r){const C=Math.min(r/s,r/o);c=Math.floor(s*C),u=Math.floor(o*C)}h=document.createElement("canvas");const w=h.width=Math.ceil(c*a.sx),y=h.height=Math.ceil(u*a.sy);m(this,ra)||(l=W(this,pn,Z5).call(this,w,y));const _=h.getContext("2d");_.filter=this._uiManager.hcmFilter;let b="white",A="#cfcfd8";this._uiManager.hcmFilter!=="none"?A="black":(f=window.matchMedia)!=null&&f.call(window,"(prefers-color-scheme: dark)").matches&&(b="#8f8f9d",A="#42414d");const E=15,N=E*a.sx,F=E*a.sy,V=new OffscreenCanvas(N*2,F*2),L=V.getContext("2d");L.fillStyle=b,L.fillRect(0,0,N*2,F*2),L.fillStyle=A,L.fillRect(0,0,N,F),L.fillRect(N,F,N,F),_.fillStyle=_.createPattern(V,"repeat"),_.fillRect(0,0,w,y),_.drawImage(l,0,0,l.width,l.height,0,0,w,y)}let p=null;if(i){let w,y;if(a.symmetric&&l.width<t&&l.height<t)w=l.width,y=l.height;else if(l=m(this,Ir),s>t||o>t){const A=Math.min(t/s,t/o);w=Math.floor(s*A),y=Math.floor(o*A),m(this,ra)||(l=W(this,pn,Z5).call(this,w,y))}const b=new OffscreenCanvas(w,y).getContext("2d",{willReadFrequently:!0});b.drawImage(l,0,0,l.width,l.height,0,0,w,y),p={width:w,height:y,data:b.getImageData(0,0,w,y).data}}return{canvas:h,width:c,height:u,imageData:p}}getImageForAltText(){return m(this,Lc)}static async deserialize(t,r,i){var y;let s=null;if(t instanceof vG){const{data:{rect:_,rotation:b,id:A,structParent:E,popupRef:N},container:F,parent:{page:{pageNumber:V}}}=t,L=F.querySelector("canvas"),C=i.imageManager.getFromCanvas(F.id,L);L.remove();const k=((y=await r._structTree.getAriaAttributes(`${eL}${A}`))==null?void 0:y.get("aria-label"))||"";s=t={annotationType:tn.STAMP,bitmapId:C.id,bitmap:C.bitmap,pageIndex:V-1,rect:_.slice(0),rotation:b,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:k},isSvg:!1,structParent:E,popupRef:N}}const o=await super.deserialize(t,r,i),{rect:a,bitmap:l,bitmapUrl:c,bitmapId:u,isSvg:h,accessibilityData:p}=t;u&&i.imageManager.isValidId(u)?(z(o,Zi,u),l&&z(o,Ir,l)):z(o,ed,c),z(o,ra,h);const[f,w]=o.pageDimensions;return o.width=(a[2]-a[0])/f,o.height=(a[3]-a[1])/w,o.annotationElementId=t.id||null,p&&(o.altTextData=p),o._initialData=s,z(o,Vv,!!s),o}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:tn.STAMP,bitmapId:m(this,Zi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:m(this,ra),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=W(this,pn,eA).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=W(this,pn,aK).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const a=m(this,ra)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(m(this,Zi)))r.stamps.set(m(this,Zi),{area:a,serialized:i}),i.bitmap=W(this,pn,eA).call(this,!1);else if(m(this,ra)){const l=r.stamps.get(m(this,Zi));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=W(this,pn,eA).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Ir=new WeakMap,Zi=new WeakMap,Yh=new WeakMap,ed=new WeakMap,Xh=new WeakMap,Uv=new WeakMap,Lc=new WeakMap,td=new WeakMap,Dc=new WeakMap,ra=new WeakMap,Vv=new WeakMap,pn=new WeakSet,Jy=function(t,r=!1){if(!t){this.remove();return}z(this,Ir,t.bitmap),r||(z(this,Zi,t.id),z(this,ra,t.isSvg)),t.file&&z(this,Uv,t.file.name),W(this,pn,FP).call(this)},Zy=function(){if(z(this,Yh,null),this._uiManager.enableWaiting(!1),!!m(this,Lc)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Ir)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Ir)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},J5=function(){if(m(this,Zi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,Zi)).then(i=>W(this,pn,Jy).call(this,i,!0)).finally(()=>W(this,pn,Zy).call(this));return}if(m(this,ed)){const i=m(this,ed);z(this,ed,null),this._uiManager.enableWaiting(!0),z(this,Yh,this._uiManager.imageManager.getFromUrl(i).then(s=>W(this,pn,Jy).call(this,s)).finally(()=>W(this,pn,Zy).call(this)));return}if(m(this,Xh)){const i=m(this,Xh);z(this,Xh,null),this._uiManager.enableWaiting(!0),z(this,Yh,this._uiManager.imageManager.getFromFile(i).then(s=>W(this,pn,Jy).call(this,s)).finally(()=>W(this,pn,Zy).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Aw.supportedTypesStr;const r=this._uiManager._signal;z(this,Yh,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),W(this,pn,Jy).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>W(this,pn,Zy).call(this))),t.click()},FP=function(){const{div:t}=this;let{width:r,height:i}=m(this,Ir);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const h=Math.min(a*s/r,a*o/i);r*=h,i*=h}const[l,c]=this.parentDimensions;this.setDims(r*l/s,i*c/o),this._uiManager.enableWaiting(!1);const u=z(this,Lc,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),W(this,pn,BP).call(this,r,i),W(this,pn,oK).call(this),m(this,Vv)||(this.parent.addUndoableEditor(this),z(this,Vv,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,Uv)&&u.setAttribute("aria-label",m(this,Uv))},sK=function(t,r){var a;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,m(this,Dc)!==null&&clearTimeout(m(this,Dc)),z(this,Dc,setTimeout(()=>{z(this,Dc,null),W(this,pn,BP).call(this,t,r)},200))},Z5=function(t,r){const{width:i,height:s}=m(this,Ir);let o=i,a=s,l=m(this,Ir);for(;o>2*t||a>2*r;){const c=o,u=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,c,u,0,0,o,a),l=h.transferToImageBitmap()}return l},BP=function(t,r){const i=new LI,s=Math.ceil(t*i.sx),o=Math.ceil(r*i.sy),a=m(this,Lc);if(!a||a.width===s&&a.height===o)return;a.width=s,a.height=o;const l=m(this,ra)?m(this,Ir):W(this,pn,Z5).call(this,s,o),c=a.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,s,o)},eA=function(t){if(t){if(m(this,ra)){const s=this._uiManager.imageManager.getSvgUrl(m(this,Zi));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=m(this,Ir),r.getContext("2d").drawImage(m(this,Ir),0,0),r.toDataURL()}if(m(this,ra)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Rf.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Rf.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(m(this,Ir),0,0,m(this,Ir).width,m(this,Ir).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(m(this,Ir))},oK=function(){this._uiManager._signal&&(z(this,td,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&W(this,pn,sK).call(this,r.width,r.height)})),m(this,td).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,td))==null||t.disconnect(),z(this,td,null)},{once:!0}))},aK=function(t){var c;const{rect:r,pageIndex:i,accessibilityData:{altText:s}}=this._initialData,o=t.rect.every((u,h)=>Math.abs(u-r[h])<1),a=t.pageIndex===i,l=(((c=t.accessibilityData)==null?void 0:c.alt)||"")===s;return{isSame:o&&a&&l,isSameAltText:l}},rt(Aw,"_type","stamp"),rt(Aw,"_editorType",tn.STAMP);let OP=Aw;var Pm,zv,Mc,Qh,nd,ia,Jh,$v,Hv,Ns,rd,Pt,Zh,os,lK,VP,zP,$P,tA;const gl=class gl{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:u}){K(this,os);K(this,Pm);K(this,zv,!1);K(this,Mc,null);K(this,Qh,null);K(this,nd,null);K(this,ia,new Map);K(this,Jh,!1);K(this,$v,!1);K(this,Hv,!1);K(this,Ns,null);K(this,rd,null);K(this,Pt);const h=[...m(gl,Zh).values()];if(!gl._initialized){gl._initialized=!0;for(const p of h)p.initialize(u,e)}e.registerEditorTypes(h),z(this,Pt,e),this.pageIndex=t,this.div=r,z(this,Pm,s),z(this,Mc,o),this.viewport=c,z(this,Ns,l),this.drawLayer=a,this._structTree=i,m(this,Pt).addLayer(this)}get isEmpty(){return m(this,ia).size===0}get isInvisible(){return this.isEmpty&&m(this,Pt).getMode()===tn.NONE}updateToolbar(e){m(this,Pt).updateToolbar(e)}updateMode(e=m(this,Pt).getMode()){switch(W(this,os,tA).call(this),e){case tn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case tn.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case tn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of m(gl,Zh).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=m(this,Ns))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(m(this,Pt).getMode()!==tn.INK)return;if(!e){for(const r of m(this,ia).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){m(this,Pt).setEditingState(e)}addCommands(e){m(this,Pt).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=m(this,Mc))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of m(this,ia).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(m(this,Pt).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!m(this,Mc))return;const t=m(this,Mc).getEditableAnnotations();for(const r of t){if(r.hide(),m(this,Pt).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;z(this,Hv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of m(this,ia).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(m(this,Mc)){const s=m(this,Mc).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(m(this,Pt).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(m(this,Pt).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}W(this,os,tA).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of m(gl,Zh).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),z(this,Hv,!1)}getEditableAnnotation(e){var t;return((t=m(this,Mc))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,Pt).getActive()!==e&&m(this,Pt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=m(this,Ns))!=null&&e.div&&!m(this,rd)){z(this,rd,new AbortController);const t=m(this,Pt).combinedSignal(m(this,rd));m(this,Ns).div.addEventListener("pointerdown",W(this,os,lK).bind(this),{signal:t}),m(this,Ns).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,Ns))!=null&&e.div&&m(this,rd)&&(m(this,rd).abort(),z(this,rd,null),m(this,Ns).div.classList.remove("highlighting"))}enableClick(){if(m(this,Qh))return;z(this,Qh,new AbortController);const e=m(this,Pt).combinedSignal(m(this,Qh));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=m(this,Qh))==null||e.abort(),z(this,Qh,null)}attach(e){m(this,ia).set(e.id,e);const{annotationElementId:t}=e;t&&m(this,Pt).isDeletedAnnotationElement(t)&&m(this,Pt).removeDeletedAnnotationElement(e)}detach(e){var t;m(this,ia).delete(e.id),(t=m(this,Pm))==null||t.removePointerInTextLayer(e.contentDiv),!m(this,Hv)&&e.annotationElementId&&m(this,Pt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,Pt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,m(this,$v)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,Pt).addDeletedAnnotationElement(e.annotationElementId),$n.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,Pt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),m(this,Pt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!m(this,nd)&&(e._focusEventsAllowed=!1,z(this,nd,setTimeout(()=>{z(this,nd,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,Pt)._signal}),t.focus())},0))),e._structTreeParentId=(r=m(this,Pm))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return m(this,Pt).getId()}combinedSignal(e){return m(this,Pt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=m(this,os,VP))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){m(this,Pt).updateToolbar(e),m(this,Pt).updateMode(e);const{offsetX:r,offsetY:i}=W(this,os,$P).call(this),s=this.getNextId(),o=W(this,os,zP).call(this,{parent:this,id:s,x:r,y:i,uiManager:m(this,Pt),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=m(gl,Zh).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,m(this,Pt)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=W(this,os,zP).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,Pt),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(W(this,os,$P).call(this),!0)}setSelected(e){m(this,Pt).setSelected(e)}toggleSelected(e){m(this,Pt).toggleSelected(e)}unselect(e){m(this,Pt).unselect(e)}pointerup(e){const{isMac:t}=eo.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&m(this,Jh)){if(z(this,Jh,!1),!m(this,zv)){z(this,zv,!0);return}if(m(this,Pt).getMode()===tn.STAMP){m(this,Pt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(m(this,Pt).getMode()===tn.HIGHLIGHT&&this.enableTextSelection(),m(this,Jh)){z(this,Jh,!1);return}const{isMac:t}=eo.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;z(this,Jh,!0);const r=m(this,Pt).getActive();z(this,zv,!r||r.isEmpty())}findNewParent(e,t,r){const i=m(this,Pt).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=m(this,Pt).getActive())==null?void 0:e.parent)===this&&(m(this,Pt).commitOrRemove(),m(this,Pt).setActiveEditor(null)),m(this,nd)&&(clearTimeout(m(this,nd)),z(this,nd,null));for(const r of m(this,ia).values())(t=m(this,Pm))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,m(this,ia).clear(),m(this,Pt).removeLayer(this)}render({viewport:e}){this.viewport=e,rg(this.div,e);for(const t of m(this,Pt).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){m(this,Pt).commitOrRemove(),W(this,os,tA).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,rg(this.div,{rotation:r}),t!==r)for(const i of m(this,ia).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return m(this,Pt).viewParameters.realScale}};Pm=new WeakMap,zv=new WeakMap,Mc=new WeakMap,Qh=new WeakMap,nd=new WeakMap,ia=new WeakMap,Jh=new WeakMap,$v=new WeakMap,Hv=new WeakMap,Ns=new WeakMap,rd=new WeakMap,Pt=new WeakMap,Zh=new WeakMap,os=new WeakSet,lK=function(e){m(this,Pt).unselectAll();const{target:t}=e;if(t===m(this,Ns).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&m(this,Ns).div.contains(t)){const{isMac:r}=eo.platform;if(e.button!==0||e.ctrlKey&&r)return;m(this,Pt).showAllEditors("highlight",!0,!0),m(this,Ns).div.classList.add("free"),this.toggleDrawing(),mE.startHighlighting(this,m(this,Pt).direction==="ltr",{target:m(this,Ns).div,x:e.x,y:e.y}),m(this,Ns).div.addEventListener("pointerup",()=>{m(this,Ns).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:m(this,Pt)._signal}),e.preventDefault()}},VP=function(){return m(gl,Zh).get(m(this,Pt).getMode())},zP=function(e){const t=m(this,os,VP);return t?new t.prototype.constructor(e):null},$P=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),c=(s+a)/2-e,u=(o+l)/2-t,[h,p]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:h,offsetY:p}},tA=function(){z(this,$v,!0);for(const e of m(this,ia).values())e.isEmpty()&&e.remove();z(this,$v,!1)},rt(gl,"_initialized",!1),K(gl,Zh,new Map([wP,TP,OP,mE].map(e=>[e._editorType,e])));let UP=gl;var jc,F2,ci,id,B2,qP,lg,WP,cK;const Xi=class Xi{constructor({pageIndex:e}){K(this,lg);K(this,jc,null);K(this,F2,0);K(this,ci,new Map);K(this,id,new Map);this.pageIndex=e}setParent(e){if(!m(this,jc)){z(this,jc,e);return}if(m(this,jc)!==e){if(m(this,ci).size>0)for(const t of m(this,ci).values())t.remove(),e.append(t);z(this,jc,e)}}static get _svgFactory(){return wn(this,"_svgFactory",new uL)}draw(e,t,r,i=!1){const s=Ii(this,F2)._++,o=W(this,lg,WP).call(this,e.box);o.classList.add(...e.classNamesForDrawing);const a=Xi._svgFactory.createElement("defs");o.append(a);const l=Xi._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),i&&m(this,id).set(s,l);const u=W(this,lg,cK).call(this,a,c),h=Xi._svgFactory.createElement("use");return o.append(h),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),h.setAttribute("href",`#${c}`),m(this,ci).set(s,o),{id:s,clipPathId:`url(#${u})`}}drawOutline(e){const t=Ii(this,F2)._++,r=W(this,lg,WP).call(this,e.box);r.classList.add(...e.classNamesForOutlining);const i=Xi._svgFactory.createElement("defs");r.append(i);const s=Xi._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.mustRemoveSelfIntersections){const u=Xi._svgFactory.createElement("mask");i.append(u),a=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",a),u.setAttribute("maskUnits","objectBoundingBox");const h=Xi._svgFactory.createElement("rect");u.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const p=Xi._svgFactory.createElement("use");u.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const l=Xi._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return r.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),m(this,ci).set(t,r),t}finalizeLine(e,t){const r=m(this,id).get(e);m(this,id).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){m(this,ci).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){m(this,id).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;W(r=Xi,B2,qP).call(r,m(this,ci).get(e),t)}show(e,t){m(this,ci).get(e).classList.toggle("hidden",!t)}rotate(e,t){m(this,ci).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){m(this,ci).get(e).setAttribute("fill",t)}changeOpacity(e,t){m(this,ci).get(e).setAttribute("fill-opacity",t)}addClass(e,t){m(this,ci).get(e).classList.add(t)}removeClass(e,t){m(this,ci).get(e).classList.remove(t)}getSVGRoot(e){return m(this,ci).get(e)}remove(e){m(this,id).delete(e),m(this,jc)!==null&&(m(this,ci).get(e).remove(),m(this,ci).delete(e))}destroy(){z(this,jc,null);for(const e of m(this,ci).values())e.remove();m(this,ci).clear(),m(this,id).clear()}};jc=new WeakMap,F2=new WeakMap,ci=new WeakMap,id=new WeakMap,B2=new WeakSet,qP=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},lg=new WeakSet,WP=function(e){var r;const t=Xi._svgFactory.create(1,1,!0);return m(this,jc).append(t),t.setAttribute("aria-hidden",!0),W(r=Xi,B2,qP).call(r,t,e),t},cK=function(e,t){const r=Xi._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Xi._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},K(Xi,B2);let HP=Xi;var Kbe=Yt.AbortException,Ybe=Yt.AnnotationEditorLayer,Xbe=Yt.AnnotationEditorParamsType,Qbe=Yt.AnnotationEditorType,Jbe=Yt.AnnotationEditorUIManager,uK=Yt.AnnotationLayer,dK=Yt.AnnotationMode,Zbe=Yt.ColorPicker,e2e=Yt.DOMSVGFactory,t2e=Yt.DrawLayer,n2e=Yt.FeatureTest,hL=Yt.GlobalWorkerOptions,r2e=Yt.ImageKind,i2e=Yt.InvalidPDFException,s2e=Yt.MissingPDFException,o2e=Yt.OPS,a2e=Yt.OutputScale,l2e=Yt.PDFDataRangeTransport,c2e=Yt.PDFDateString,u2e=Yt.PDFWorker,d2e=Yt.PasswordResponses,h2e=Yt.PermissionFlag,f2e=Yt.PixelsPerInch,p2e=Yt.RenderingCancelledException,hK=Yt.TextLayer,m2e=Yt.UnexpectedResponseException,g2e=Yt.Util,v2e=Yt.VerbosityLevel,y2e=Yt.XfaLayer,w2e=Yt.build,b2e=Yt.createValidAbsoluteUrl,x2e=Yt.fetchData,fK=Yt.getDocument,_2e=Yt.getFilenameFromUrl,A2e=Yt.getPdfFilenameFromUrl,E2e=Yt.getXfaPageViewport,S2e=Yt.isDataScheme,N2e=Yt.isPdfFile,C2e=Yt.noContextMenu,T2e=Yt.normalizeUnicode,k2e=Yt.setLayerDimensions,I2e=Yt.shadow,pK=Yt.version;const P2e=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Kbe,AnnotationEditorLayer:Ybe,AnnotationEditorParamsType:Xbe,AnnotationEditorType:Qbe,AnnotationEditorUIManager:Jbe,AnnotationLayer:uK,AnnotationMode:dK,ColorPicker:Zbe,DOMSVGFactory:e2e,DrawLayer:t2e,FeatureTest:n2e,GlobalWorkerOptions:hL,ImageKind:r2e,InvalidPDFException:i2e,MissingPDFException:s2e,OPS:o2e,OutputScale:a2e,PDFDataRangeTransport:l2e,PDFDateString:c2e,PDFWorker:u2e,PasswordResponses:d2e,PermissionFlag:h2e,PixelsPerInch:f2e,RenderingCancelledException:p2e,TextLayer:hK,UnexpectedResponseException:m2e,Util:g2e,VerbosityLevel:v2e,XfaLayer:y2e,build:w2e,createValidAbsoluteUrl:b2e,fetchData:x2e,getDocument:fK,getFilenameFromUrl:_2e,getPdfFilenameFromUrl:A2e,getXfaPageViewport:E2e,isDataScheme:S2e,isPdfFile:N2e,noContextMenu:C2e,normalizeUnicode:T2e,setLayerDimensions:k2e,shadow:I2e,version:pK},Symbol.toStringTag,{value:"Module"}));var Pi=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},R2e=["onCopy","onCut","onPaste"],L2e=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],D2e=["onFocus","onBlur"],M2e=["onInput","onInvalid","onReset","onSubmit"],j2e=["onLoad","onError"],O2e=["onKeyDown","onKeyPress","onKeyUp"],F2e=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],B2e=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],U2e=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],V2e=["onSelect"],z2e=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],$2e=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],H2e=["onScroll"],q2e=["onWheel"],W2e=["onAnimationStart","onAnimationEnd","onAnimationIteration"],G2e=["onTransitionEnd"],K2e=["onToggle"],Y2e=["onChange"],X2e=Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi([],R2e,!0),L2e,!0),D2e,!0),M2e,!0),j2e,!0),O2e,!0),F2e,!0),B2e,!0),U2e,!0),V2e,!0),z2e,!0),$2e,!0),H2e,!0),q2e,!0),W2e,!0),G2e,!0),Y2e,!0),K2e,!0);function mK(n,e){var t={};return X2e.forEach(function(r){var i=n[r];i&&(e?t[r]=function(s){return i(s,e(r))}:t[r]=i)}),t}function Sx(n){var e=!1,t=new Promise(function(r,i){n.then(function(s){return!e&&r(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}var Q2e="Invariant failed";function nr(n,e){if(!n)throw new Error(Q2e)}var J2e=function(){},Z2e=J2e;const Rs=v1(Z2e);var KF=Object.prototype.hasOwnProperty;function YF(n,e,t){for(t of n.keys())if(O0(t,e))return t}function O0(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&O0(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=YF(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=YF(e,i),!i)||!O0(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(KF.call(n,t)&&++r&&!KF.call(e,t)||!(t in e)||!O0(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const gK=D.createContext(null);function F0({children:n,type:e}){return d.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const exe="noopener noreferrer nofollow";class txe{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return nr(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){nr(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{nr(this.pdfDocument),nr(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{nr(Array.isArray(t));const r=t[0];new Promise(i=>{nr(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{nr(!1)}):typeof r=="number"?i(r):nr(!1)}).then(i=>{const s=i+1;nr(this.pdfViewer),nr(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;nr(this.pdfViewer),nr(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||exe,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const XF={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},nN=typeof window<"u",vK=nN&&window.location.protocol==="file:";function nxe(n){return typeof n<"u"}function op(n){return nxe(n)&&n!==null}function rxe(n){return typeof n=="string"}function ixe(n){return n instanceof ArrayBuffer}function sxe(n){return nr(nN),n instanceof Blob}function GP(n){return rxe(n)&&/^data:/.test(n)}function QF(n){nr(GP(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function oxe(){return nN&&window.devicePixelRatio||1}const yK="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function JF(){Rs(!vK,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${yK}`)}function axe(){Rs(!vK,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${yK}`)}function og(n){n!=null&&n.cancel&&n.cancel()}function KP(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function lxe(n){return n.name==="RenderingCancelledException"}function cxe(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function uxe(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function g1(){return D.useReducer(uxe,{value:void 0,error:void 0})}var dxe=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},ZF=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{PDFDataRangeTransport:hxe}=P2e,fxe=(n,e)=>{switch(e){case XF.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case XF.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function e8(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const pxe=D.forwardRef(function(e,t){var{children:r,className:i,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:c,imageResourcesPath:u,loading:h="Loading PDF",noData:p="No PDF file specified.",onItemClick:f,onLoadError:w,onLoadProgress:y,onLoadSuccess:_,onPassword:b=fxe,onSourceError:A,onSourceSuccess:E,options:N,renderMode:F,rotate:V}=e,L=ZF(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[C,k]=g1(),{value:j,error:T}=C,[M,R]=g1(),{value:q,error:ce}=M,de=D.useRef(new txe),ae=D.useRef([]),Q=D.useRef(void 0),ne=D.useRef(void 0);l&&l!==Q.current&&e8(l)&&(Rs(!O0(l,Q.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Q.current=l),N&&N!==ne.current&&(Rs(!O0(N,ne.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ne.current=N);const ge=D.useRef({scrollPageIntoView:Ce=>{const{dest:Le,pageNumber:J,pageIndex:je=J-1}=Ce;if(f){f({dest:Le,pageIndex:je,pageNumber:J});return}const Qe=ae.current[je];if(Qe){Qe.scrollIntoView();return}Rs(!1,`An internal link leading to page ${J} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});D.useImperativeHandle(t,()=>({linkService:de,pages:ae,viewer:ge}),[]);function pe(){E&&E()}function U(){T&&(Rs(!1,T.toString()),A&&A(T))}function Y(){k({type:"RESET"})}D.useEffect(Y,[l,k]);const re=D.useCallback(()=>dxe(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return GP(l)?{data:QF(l)}:(JF(),{url:l});if(l instanceof hxe)return{range:l};if(ixe(l))return{data:l};if(nN&&sxe(l))return{data:yield cxe(l)};if(nr(typeof l=="object"),nr(e8(l)),"url"in l&&typeof l.url=="string"){if(GP(l.url)){const{url:Ce}=l,Le=ZF(l,["url"]),J=QF(Ce);return Object.assign({data:J},Le)}JF()}return l}),[l]);D.useEffect(()=>{const Ce=Sx(re());return Ce.promise.then(Le=>{k({type:"RESOLVE",value:Le})}).catch(Le=>{k({type:"REJECT",error:Le})}),()=>{og(Ce)}},[re,k]),D.useEffect(()=>{if(!(typeof j>"u")){if(j===!1){U();return}pe()}},[j]);function le(){q&&(_&&_(q),ae.current=new Array(q.numPages),de.current.setDocument(q))}function he(){ce&&(Rs(!1,ce.toString()),w&&w(ce))}D.useEffect(function(){R({type:"RESET"})},[R,j]),D.useEffect(function(){if(!j)return;const Le=N?Object.assign(Object.assign({},j),N):j,J=fK(Le);y&&(J.onProgress=y),b&&(J.onPassword=b);const je=J,Qe=je.promise.then(Ge=>{R({type:"RESOLVE",value:Ge})}).catch(Ge=>{je.destroyed||R({type:"REJECT",error:Ge})});return()=>{Qe.finally(()=>je.destroy())}},[N,R,j]),D.useEffect(()=>{if(!(typeof q>"u")){if(q===!1){he();return}le()}},[q]),D.useEffect(function(){de.current.setViewer(ge.current),de.current.setExternalLinkRel(o),de.current.setExternalLinkTarget(a)},[o,a]);const ue=D.useCallback((Ce,Le)=>{ae.current[Ce]=Le},[]),Ae=D.useCallback(Ce=>{delete ae.current[Ce]},[]),we=D.useMemo(()=>({imageResourcesPath:u,linkService:de.current,onItemClick:f,pdf:q,registerPage:ue,renderMode:F,rotate:V,unregisterPage:Ae}),[u,f,q,ue,F,V,Ae]),_e=D.useMemo(()=>mK(L,()=>q),[L,q]);function Me(){return d.jsx(gK.Provider,{value:we,children:r})}function Ee(){return l?q==null?d.jsx(F0,{type:"loading",children:typeof h=="function"?h():h}):q===!1?d.jsx(F0,{type:"error",children:typeof s=="function"?s():s}):Me():d.jsx(F0,{type:"no-data",children:typeof p=="function"?p():p})}return d.jsx("div",Object.assign({className:x1("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},_e,{children:Ee()}))});function wK(){return D.useContext(gK)}function bK(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const xK=D.createContext(null),_K={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},mxe=/^H(\d+)$/;function gxe(n){return n in _K}function rN(n){return"children"in n}function AK(n){return rN(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function vxe(n){const e={};if(rN(n)){const{role:t}=n,r=t.match(mxe);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(gxe(t)){const i=_K[t];i&&(e.role=i)}}return e}function EK(n){const e={};if(rN(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),AK(n)){const[t]=n.children;if(t){const r=EK(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function yxe(n){return n?Object.assign(Object.assign({},vxe(n)),EK(n)):null}function SK({className:n,node:e}){const t=D.useMemo(()=>yxe(e),[e]),r=D.useMemo(()=>!rN(e)||AK(e)?null:e.children.map((i,s)=>d.jsx(SK,{node:i},s)),[e]);return d.jsx("span",Object.assign({className:n},t,{children:r}))}function iN(){return D.useContext(xK)}function wxe(){const n=iN();nr(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=g1(),{value:s,error:o}=r,{customTextRenderer:a,page:l}=n;function c(){s&&t&&t(s)}function u(){o&&(Rs(!1,o.toString()),e&&e(o))}return D.useEffect(function(){i({type:"RESET"})},[i,l]),D.useEffect(function(){if(a||!l)return;const p=Sx(l.getStructTree()),f=p;return p.promise.then(w=>{i({type:"RESOLVE",value:w})}).catch(w=>{i({type:"REJECT",error:w})}),()=>og(f)},[a,l,i]),D.useEffect(()=>{if(s!==void 0){if(s===!1){u();return}c()}},[s]),s?d.jsx(SK,{className:"react-pdf__Page__structTree structTree",node:s}):null}const t8=dK;function bxe(n){const e=iN();nr(e);const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:i,devicePixelRatio:s=oxe(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:u,rotate:h,scale:p}=t,{canvasRef:f}=n;nr(l);const w=D.useRef(null);function y(){l&&a&&a(KP(l,p))}function _(N){lxe(N)||(Rs(!1,N.toString()),o&&o(N))}const b=D.useMemo(()=>l.getViewport({scale:p*s,rotation:h}),[s,l,h,p]),A=D.useMemo(()=>l.getViewport({scale:p,rotation:h}),[l,h,p]);D.useEffect(function(){if(!l)return;l.cleanup();const{current:F}=w;if(!F)return;F.width=b.width,F.height=b.height,F.style.width=`${Math.floor(A.width)}px`,F.style.height=`${Math.floor(A.height)}px`,F.style.visibility="hidden";const V={annotationMode:c?t8.ENABLE_FORMS:t8.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:b};i&&(V.background=i);const L=l.render(V),C=L;return L.promise.then(()=>{F.style.visibility="",y()}).catch(_),()=>og(C)},[i,l,c,b,A]);const E=D.useCallback(()=>{const{current:N}=w;N&&(N.width=0,N.height=0)},[]);return D.useEffect(()=>E,[E]),d.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:bK(f,w),style:{display:"block",userSelect:"none"},children:u?d.jsx(wxe,{}):null})}function xxe(n){return"str"in n}function _xe(){const n=iN();nr(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:u}=n;nr(o);const[h,p]=g1(),{value:f,error:w}=h,y=D.useRef(null);Rs(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function _(){f&&r&&r(f)}function b(){w&&(Rs(!1,w.toString()),t&&t(w))}D.useEffect(function(){p({type:"RESET"})},[o,p]),D.useEffect(function(){if(!o)return;const C=Sx(o.getTextContent()),k=C;return C.promise.then(j=>{p({type:"RESOLVE",value:j})}).catch(j=>{p({type:"REJECT",error:j})}),()=>og(k)},[o,p]),D.useEffect(()=>{if(f!==void 0){if(f===!1){b();return}_()}},[f]);const A=D.useCallback(()=>{s&&s()},[s]),E=D.useCallback(L=>{Rs(!1,L.toString()),i&&i(L)},[i]);function N(){const L=y.current;L&&L.classList.add("selecting")}function F(){const L=y.current;L&&L.classList.remove("selecting")}const V=D.useMemo(()=>o.getViewport({scale:u,rotation:c}),[o,c,u]);return D.useLayoutEffect(function(){if(!o||!f)return;const{current:C}=y;if(!C)return;C.innerHTML="";const k=o.streamTextContent({includeMarkedContent:!0}),j={container:C,textContentSource:k,viewport:V},T=new hK(j),M=T;return T.render().then(()=>{const R=document.createElement("div");R.className="endOfContent",C.append(R);const q=C.querySelectorAll('[role="presentation"]');if(e){let ce=0;f.items.forEach((de,ae)=>{if(!xxe(de))return;const Q=q[ce];if(!Q)return;const ne=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:ae},de));Q.innerHTML=ne,ce+=de.str&&de.hasEOL?2:1})}A()}).catch(E),()=>og(M)},[e,E,A,o,a,l,f,V]),d.jsx("div",{className:x1("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:N,ref:y})}function Axe(){const n=wK(),e=iN();nr(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:u,renderForms:h,rotate:p,scale:f=1}=t;nr(u),nr(c),nr(i);const[w,y]=g1(),{value:_,error:b}=w,A=D.useRef(null);Rs(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function E(){_&&o&&o(_)}function N(){b&&(Rs(!1,b.toString()),s&&s(b))}D.useEffect(function(){y({type:"RESET"})},[y,c]),D.useEffect(function(){if(!c)return;const k=Sx(c.getAnnotations()),j=k;return k.promise.then(T=>{y({type:"RESOLVE",value:T})}).catch(T=>{y({type:"REJECT",error:T})}),()=>{og(j)}},[y,c]),D.useEffect(()=>{if(_!==void 0){if(_===!1){N();return}E()}},[_]);function F(){l&&l()}function V(C){Rs(!1,`${C}`),a&&a(C)}const L=D.useMemo(()=>c.getViewport({scale:f,rotation:p}),[c,p,f]);return D.useEffect(function(){if(!u||!c||!i||!_)return;const{current:k}=A;if(!k)return;const j=L.clone({dontFlip:!0}),T={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:k,l10n:null,page:c,structTreeLayer:null,viewport:j},M={annotations:_,annotationStorage:u.annotationStorage,div:k,imageResourcesPath:r,linkService:i,page:c,renderForms:h,viewport:j};k.innerHTML="";try{new uK(T).render(M),F()}catch(R){V(R)}return()=>{}},[_,r,i,c,u,h,L]),d.jsx("div",{className:x1("react-pdf__Page__annotations","annotationLayer"),ref:A})}var Exe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const n8=1;function Sxe(n){const e=wK(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:u,devicePixelRatio:h,error:p="Failed to load the page.",height:f,inputRef:w,loading:y="Loading page",noData:_="No page specified.",onGetAnnotationsError:b,onGetAnnotationsSuccess:A,onGetStructTreeError:E,onGetStructTreeSuccess:N,onGetTextError:F,onGetTextSuccess:V,onLoadError:L,onLoadSuccess:C,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:j,onRenderError:T,onRenderSuccess:M,onRenderTextLayerError:R,onRenderTextLayerSuccess:q,pageIndex:ce,pageNumber:de,pdf:ae,registerPage:Q,renderAnnotationLayer:ne=!0,renderForms:ge=!1,renderMode:pe="canvas",renderTextLayer:U=!0,rotate:Y,scale:re=n8,unregisterPage:le,width:he}=t,ue=Exe(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ae,we]=g1(),{value:_e,error:Me}=Ae,Ee=D.useRef(null);nr(ae);const Ce=op(de)?de-1:ce??null,Le=de??(op(ce)?ce+1:null),J=Y??(_e?_e.rotate:null),je=D.useMemo(()=>{if(!_e)return null;let Ke=1;const Nt=re??n8;if(he||f){const nt=_e.getViewport({scale:1,rotation:J});he?Ke=he/nt.width:f&&(Ke=f/nt.height)}return Nt*Ke},[f,_e,J,re,he]);D.useEffect(function(){return()=>{op(Ce)&&i&&le&&le(Ce)}},[i,ae,Ce,le]);function Qe(){if(C){if(!_e||!je)return;C(KP(_e,je))}if(i&&Q){if(!op(Ce)||!Ee.current)return;Q(Ce,Ee.current)}}function Ge(){Me&&(Rs(!1,Me.toString()),L&&L(Me))}D.useEffect(function(){we({type:"RESET"})},[we,ae,Ce]),D.useEffect(function(){if(!ae||!Le)return;const Nt=Sx(ae.getPage(Le)),nt=Nt;return Nt.promise.then(kt=>{we({type:"RESOLVE",value:kt})}).catch(kt=>{we({type:"REJECT",error:kt})}),()=>og(nt)},[we,ae,Le]),D.useEffect(()=>{if(_e!==void 0){if(_e===!1){Ge();return}Qe()}},[_e,je]);const Ie=D.useMemo(()=>_e&&op(Ce)&&Le&&op(J)&&op(je)?{_className:r,canvasBackground:s,customTextRenderer:u,devicePixelRatio:h,onGetAnnotationsError:b,onGetAnnotationsSuccess:A,onGetStructTreeError:E,onGetStructTreeSuccess:N,onGetTextError:F,onGetTextSuccess:V,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:j,onRenderError:T,onRenderSuccess:M,onRenderTextLayerError:R,onRenderTextLayerSuccess:q,page:_e,pageIndex:Ce,pageNumber:Le,renderForms:ge,renderTextLayer:U,rotate:J,scale:je}:null,[r,s,u,h,b,A,E,N,F,V,k,j,T,M,R,q,_e,Ce,Le,ge,U,J,je]),lt=D.useMemo(()=>mK(ue,()=>_e&&(je?KP(_e,je):void 0)),[ue,_e,je]),Xe=`${Ce}@${je}/${J}`;function pt(){switch(pe){case"custom":return nr(c),d.jsx(c,{},`${Xe}_custom`);case"none":return null;case"canvas":default:return d.jsx(bxe,{canvasRef:o},`${Xe}_canvas`)}}function it(){return U?d.jsx(_xe,{},`${Xe}_text`):null}function Lt(){return ne?d.jsx(Axe,{},`${Xe}_annotations`):null}function Oe(){return d.jsxs(xK.Provider,{value:Ie,children:[pt(),it(),Lt(),a]})}function Fe(){return Le?ae===null||_e===void 0||_e===null?d.jsx(F0,{type:"loading",children:typeof y=="function"?y():y}):ae===!1||_e===!1?d.jsx(F0,{type:"error",children:typeof p=="function"?p():p}):Oe():d.jsx(F0,{type:"no-data",children:typeof _=="function"?_():_})}return d.jsx("div",Object.assign({className:x1(r,l),"data-page-number":Le,ref:bK(w,Ee),style:{"--scale-factor":`${je}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},lt,{children:Fe()}))}axe();hL.workerSrc="pdf.worker.mjs";hL.workerSrc=`//unpkg.com/pdfjs-dist@${pK}/build/pdf.worker.min.mjs`;const NK=({file:n,signatureImage:e,signaturePositions:t,onSignaturePlace:r,onSignatureMove:i,onSignatureDelete:s})=>{const[o,a]=D.useState(0),[l,c]=D.useState(1),[u,h]=D.useState(null),[p,f]=D.useState(null),w=D.useRef(null),y=D.useRef(0),_=D.useRef(!1),b=({numPages:k})=>{a(k)},A=k=>{if(_.current||Date.now()-y.current<500||k.target.closest(".signature-item")||!e||u!==null)return;const j=k.currentTarget.getBoundingClientRect(),T=(k.clientX-j.left)/j.width*100,M=(k.clientY-j.top)/j.height*100;T<0||T>100||M<0||M>100||r({x:T,y:M,page:l})},E=(k,j)=>{k.preventDefault(),k.stopPropagation(),_.current=!0,h(j)},N=k=>{if(u===null||!t)return;const j=w.current;if(!j)return;const T=j.getBoundingClientRect(),M=Math.max(0,Math.min(100,(k.clientX-T.left)/T.width*100)),R=Math.max(0,Math.min(100,(k.clientY-T.top)/T.height*100)),q={...t[u],x:M,y:R};i(q,u)},F=()=>{(u!==null||_.current)&&(y.current=Date.now()),h(null),setTimeout(()=>{_.current=!1},500)},V=(k,j)=>{k.preventDefault(),k.stopPropagation(),w.current&&f({index:j,initialX:k.clientX,initialWidth:t[j].width/100*w.current.offsetWidth})},L=k=>{if(!p||!w.current)return;const j=k.clientX-p.initialX,T=p.initialWidth+j,M=w.current.offsetWidth;let R=T/M*100;R=Math.max(10,Math.min(80,R));const{index:q}=p,ce={...t[q],width:R};i(ce,q)},C=()=>{f(null)};return d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx(qe,{variant:"outline",size:"icon",onClick:()=>c(k=>Math.max(1,k-1)),disabled:l<=1,children:d.jsx(VJ,{className:"h-4 w-4"})}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",l," of ",o]}),d.jsx(qe,{variant:"outline",size:"icon",onClick:()=>c(k=>Math.min(o,k+1)),disabled:l>=o,children:d.jsx(ZE,{className:"h-4 w-4"})})]}),d.jsxs("div",{ref:w,className:"relative border border-border rounded-lg overflow-hidden cursor-crosshair",onClick:A,children:[d.jsx(pxe,{file:n,onLoadSuccess:b,children:d.jsx(Sxe,{pageNumber:l,width:600,renderTextLayer:!0,renderAnnotationLayer:!0})}),e&&t&&t.map((k,j)=>k.page===l&&d.jsxs("div",{className:"absolute cursor-move select-none group z-50 signature-item",style:{left:`${k.x}%`,top:`${k.y}%`,transform:"translate(-50%, -50%)",width:`${k.width}%`},onMouseDown:T=>E(T,j),onClick:T=>T.stopPropagation(),children:[d.jsx("img",{src:e,alt:"Signature",className:"w-full h-auto pointer-events-none",draggable:!1}),s&&d.jsx("button",{className:"absolute -top-2.5 -right-2.5 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-md hover:bg-red-600 transition-colors z-10",onClick:T=>{T.stopPropagation(),s(j)},onMouseDown:T=>T.stopPropagation(),title:"Remove signature",children:d.jsx(Ps,{className:"w-3 h-3"})}),d.jsx("div",{className:"absolute -bottom-2 -right-2 w-4 h-4 bg-blue-500 rounded-full border-2 border-white cursor-se-resize z-20",onMouseDown:T=>V(T,j)})]},j)),(u!==null||p!==null)&&d.jsx("div",{className:"fixed inset-0 z-[100]",style:{cursor:p!==null?"se-resize":"grabbing",touchAction:"none"},onMouseMove:k=>{u!==null&&N(k),p!==null&&L(k)},onMouseUp:()=>{u!==null&&F(),p!==null&&C()},onClick:k=>k.stopPropagation(),onMouseLeave:()=>{u!==null&&F(),p!==null&&C()}})]}),e&&(!t||t.length===0)&&d.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Click on the document to place your signature"})]})},Nxe=Object.freeze(Object.defineProperty({__proto__:null,PDFViewer:NK},Symbol.toStringTag,{value:"Module"})),Cxe=()=>{const{id:n}=fre(),e=Uf(),[t,r]=D.useState(!0),[i,s]=D.useState(null),[o,a]=D.useState(null),[l,c]=D.useState(null),[u,h]=D.useState([]),[p,f]=D.useState(!1),[w,y]=D.useState(!1),[_,b]=D.useState(!1);D.useEffect(()=>{(async()=>{if(n)try{const V=sf(wl,"documents",n),L=await fH(V);if(L.exists()){const C=L.data();if(s(C),C.status==="completed"||C.status==="signed"){b(!0),r(!1);return}if(C.fileUrl){const j=await(await fetch(C.fileUrl)).blob(),T=new File([j],C.name||"document.pdf",{type:"application/pdf"});a(T)}else if(C.pdfBase64){const j=await(await fetch(C.pdfBase64)).blob(),T=new File([j],C.name||"document.pdf",{type:"application/pdf"});a(T)}else st.error("Document file not found.")}else st.error("Document not found."),e("/")}catch(V){console.error("Error fetching document:",V),st.error("Failed to load document.")}finally{r(!1)}})()},[n,e]);const A=(F,V)=>{c(F),f(!1),st.success("Signature created! Click on the document to place it.")},E=F=>{h(V=>[...V,{...F,width:20}]),st.success("Signature placed!")},N=async()=>{if(!l||u.length===0||!n){st.error("Please place at least one signature on the document.");return}y(!0);try{await qpe(sf(wl,"documents",n),{status:"signed",signature_data:l,signature_positions:u,signedAt:Qk()}),b(!0),st.success("Document signed successfully!")}catch(F){console.error("Error signing document:",F),st.error("Failed to submit signature.")}finally{y(!1)}};return t?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx(zi,{className:"w-8 h-8 animate-spin text-primary"})}):_?d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 text-center bg-muted/30",children:[d.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:d.jsx(Ha,{className:"w-8 h-8 text-green-600"})}),d.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Document Signed Successfully!"}),d.jsxs("p",{className:"text-muted-foreground mb-6 max-w-md",children:["Thank you for signing ",d.jsx("strong",{children:i==null?void 0:i.name}),"."]}),d.jsx(qe,{onClick:()=>e("/dashboard"),children:"Go to Dashboard"})]}):d.jsxs("div",{className:"min-h-screen bg-muted/30 flex flex-col",children:[d.jsx("header",{className:"bg-background border-b border-border sticky top-0 z-50",children:d.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[d.jsx(ro,{className:"h-8 w-auto"}),d.jsxs(qe,{onClick:N,disabled:!l||u.length===0||w,className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:[w?d.jsx(zi,{className:"w-4 h-4 animate-spin md:mr-2"}):d.jsx(ks,{className:"w-4 h-4 md:mr-2"}),d.jsx("span",{className:"hidden md:inline",children:"Finish Signing"})]})]})}),d.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:d.jsxs("div",{className:"max-w-5xl mx-auto bg-card rounded-xl shadow-sm border border-border overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-border bg-muted/20 flex justify-between items-center",children:[d.jsxs("h2",{className:"font-semibold flex items-center gap-2",children:[d.jsx(tB,{className:"w-4 h-4 text-primary"})," ",i==null?void 0:i.name]}),l?d.jsxs(qe,{size:"sm",variant:"destructive",onClick:()=>{c(null),h([]),st.info("Signature removed")},children:[d.jsx(sB,{className:"w-4 h-4 mr-2"}),"Remove Signature"]}):d.jsx(qe,{size:"sm",variant:"outline",onClick:()=>f(!0),children:"Create Signature"})]}),d.jsx("div",{className:"p-6 bg-muted/10 min-h-[600px] flex justify-center",children:o&&d.jsx(NK,{file:o,signatureImage:l,signaturePositions:u,onSignaturePlace:E,onSignatureMove:(F,V)=>{h(L=>{const C=[...L];return V>=0&&V<C.length&&(C[V]=F),C})},onSignatureDelete:F=>{h(V=>{const L=V.filter((C,k)=>k!==F);return L.length===0&&setTimeout(()=>{c(null),st.info("Signature removed")},0),L})}})})]})}),p&&d.jsx(sW,{document:{id:n||"temp",name:(i==null?void 0:i.name)||"Document",status:"pending",signature_data:null,signature_type:null},onClose:()=>f(!1),onSave:A})]})},Txe=()=>{const[n,e]=D.useState(!1),[t,r]=D.useState(!1),[i,s]=D.useState(!1);D.useEffect(()=>{window.scrollTo(0,0)},[]);const o=[{category:"Product Updates",title:"New Feature: Bulk Send for Enterprise Teams",excerpt:"Efficiency just got an upgrade. Learn how to send hundreds of documents for signature in minutes with our new Bulk Send feature, designed for HR and Sales teams.",date:"Oct 24, 2024",readTime:"4 min read",author:"Product Team",image:"bg-blue-500/5"},{category:"Compliance",title:"Understanding eIDAS and ESIGN: A Global Compliance Guide",excerpt:"Navigating the complex world of digital signature legality. We break down what you need to know about regulations in the US, EU, and beyond.",date:"Oct 18, 2024",readTime:"7 min read",author:"Legal Team",image:"bg-purple-500/5"},{category:"Security",title:"How We Protect Your Data: SOC 2 & Encryption",excerpt:"Security is our top priority. A deep dive into our 256-bit encryption, audit trails, and why enterprise-grade security is non-negotiable.",date:"Oct 12, 2024",readTime:"5 min read",author:"Security Team",image:"bg-green-500/5"},{category:"Productivity",title:"5 Strategies to Close Deals Faster",excerpt:"Reduce friction in your sales cycle. Actionable tips for preparing contracts that get signed immediately, not next week.",date:"Oct 05, 2024",readTime:"3 min read",author:"Success Team",image:"bg-orange-500/5"},{category:"Engineering",title:"Building Scalable Real-Time Collaboration",excerpt:"A technical look at the WebSocket architecture behind Endorse's lightning-fast signature processing and live status updates.",date:"Sep 28, 2024",readTime:"9 min read",author:"Engineering",image:"bg-red-500/5"},{category:"Case Study",title:"How a Fortune 500 Firm Digitized HR Onboarding",excerpt:"See how moving to digital signatures saved 1,000+ hours of administrative work annually for a global logistics company.",date:"Sep 20, 2024",readTime:"7 min read",author:"Endorse Team",image:"bg-indigo-500/5"}];return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-strong border-b bordercab yo-border/40",children:[d.jsxs("div",{className:"container mx-auto px-6 h-20 flex items-center justify-between",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2.5","aria-label":"Endorse",children:d.jsx(ro,{className:"h-14 w-auto drop-shadow-sm"})}),d.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[d.jsxs(hd,{children:[d.jsxs(fd,{className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors flex items-center gap-1 outline-none group",children:["Product ",d.jsx(ua,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Gc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/#features",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(ks,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"eSign"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Create, send, and track legally binding electronic signatures."})]})]})}),d.jsx(ni,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/conversion",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(qm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"File Conversion"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Transform documents between PDF, Word, and other formats."})]})]})})]})]}),d.jsx(et,{to:"/#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors",children:"Pricing"}),d.jsxs(hd,{children:[d.jsxs(fd,{className:"font-sans text-sm font-bold tracking-tight text-foreground transition-colors flex items-center gap-1 outline-none group",children:["Resources ",d.jsx(ua,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Gc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/blog",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Ys,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Blog"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Latest updates, articles, and insights."})]})]})}),d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx($m,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Help Center"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Guides, tutorials, and support documentation."})]})]})}),d.jsx(ni,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Hm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"API Docs"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Complete reference for developers."})]})]})})]})]}),d.jsx(et,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors",children:"Company"})]}),d.jsx("div",{className:"flex items-center gap-4",children:d.jsx(et,{to:"/auth",children:d.jsx(qe,{className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:"Get Started"})})}),d.jsx("button",{className:"md:hidden text-foreground p-2",onClick:()=>e(!n),"aria-label":"Toggle menu",children:n?d.jsx(Ps,{className:"w-6 h-6"}):d.jsx(eS,{className:"w-6 h-6"})})]}),n&&d.jsxs("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-background border-b border-border p-4 flex flex-col gap-4 shadow-lg animate-in slide-in-from-top-5 h-[calc(100vh-4rem)] overflow-y-auto",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>r(!t),children:["Product",d.jsx(ua,{className:`w-4 h-4 transition-transform duration-200 ${t?"rotate-180":""}`})]}),t&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs(et,{to:"/#features",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(ks,{className:"w-4 h-4"})," eSign"]}),d.jsxs(et,{to:"/conversion",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(qm,{className:"w-4 h-4"})," File Conversion"]})]})]}),d.jsx(et,{to:"/#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>e(!1),children:"Pricing"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>s(!i),children:["Resources",d.jsx(ua,{className:`w-4 h-4 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs(et,{to:"/blog",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Ys,{className:"w-4 h-4"})," Blog"]}),d.jsxs(et,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx($m,{className:"w-4 h-4"})," Help Center"]}),d.jsxs(et,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Hm,{className:"w-4 h-4"})," API Docs"]})]})]}),d.jsx(et,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>e(!1),children:"Company"}),d.jsx("div",{className:"flex flex-col gap-3 mt-2",children:d.jsx(et,{to:"/auth",onClick:()=>e(!1),children:d.jsx(qe,{className:"w-full bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:"Get Started"})})})]})]}),d.jsx("main",{className:"pt-24 md:pt-32 pb-16 md:pb-20 px-4 md:px-6",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsxs("div",{className:"text-center mb-20",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-sm font-medium mb-6",children:[d.jsx(Ys,{className:"w-4 h-4"}),"The Endorse Blog"]}),d.jsxs("h1",{className:"font-display text-3xl sm:text-4xl md:text-6xl font-bold mb-6 tracking-tight",children:["Insights for the ",d.jsx("br",{}),d.jsx("span",{className:"text-gradient",children:"Modern Workflow"})]}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-10",children:"Latest product updates, industry news, and tips to help you manage documents better."}),d.jsxs("div",{className:"max-w-md mx-auto relative",children:[d.jsx(sZ,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),d.jsx(ui,{placeholder:"Search articles...",className:"pl-10 h-12 bg-secondary/50 border-border focus:ring-primary","aria-label":"Search articles"})]})]}),d.jsx("div",{className:"mb-20",children:d.jsxs("div",{className:"group relative rounded-2xl bg-card border border-border overflow-hidden grid md:grid-cols-2 gap-8 hover:shadow-lg transition-all duration-500",children:[d.jsxs("div",{className:"aspect-video md:aspect-auto bg-secondary/50 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx(Ys,{className:"w-20 h-20 text-primary/20 group-hover:scale-110 transition-transform duration-700"})})]}),d.jsxs("div",{className:"p-6 md:p-12 flex flex-col justify-center",children:[d.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mb-4",children:[d.jsx("span",{className:"text-primary font-medium px-2.5 py-0.5 rounded-full bg-primary/10 text-xs uppercase tracking-wide",children:"Featured"}),d.jsx("span",{children:""}),d.jsx("span",{children:"Oct 24, 2024"})]}),d.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4 group-hover:text-primary transition-colors",children:"The Future of Digital Agreements: Trends to Watch in 2025"}),d.jsx("p",{className:"text-muted-foreground text-lg mb-8 leading-relaxed",children:"As remote work becomes permanent, the way we sign and manage contracts is evolving. Here are the key trends shaping the industry."}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center font-bold text-muted-foreground",children:d.jsx(ro,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-sm",children:"Endorse Editorial"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Industry Trends"})]})]})]})]})}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((a,l)=>d.jsxs(et,{to:"#",className:"group flex flex-col h-full bg-card rounded-xl border border-border overflow-hidden hover:shadow-md transition-all duration-300",children:[d.jsx("div",{className:`aspect-[16/9] ${a.image} relative overflow-hidden`,children:d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-muted-foreground/20 group-hover:scale-105 transition-transform duration-500",children:d.jsx(Ys,{className:"w-12 h-12"})})}),d.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mb-3",children:[d.jsx("span",{className:"text-primary font-medium px-2 py-0.5 rounded-full bg-primary/10 uppercase tracking-wide",children:a.category}),d.jsx("span",{children:""}),d.jsx("span",{children:a.readTime})]}),d.jsx("h3",{className:"text-xl font-bold mb-3 group-hover:text-primary transition-colors leading-tight",children:a.title}),d.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-2 leading-relaxed flex-1",children:a.excerpt}),d.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border/50 mt-auto",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[d.jsx(lB,{className:"w-3 h-3"}),a.author]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:c=>{c.preventDefault(),navigator.share&&navigator.share({title:a.title,text:a.excerpt,url:window.location.href}).catch(()=>{})},className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"Share post",children:d.jsx(aZ,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex items-center text-xs font-semibold text-foreground group-hover:translate-x-1 transition-transform",children:["Read ",d.jsx(ZE,{className:"w-3 h-3 ml-1"})]})]})]})]})]},l))}),d.jsxs("div",{className:"mt-16 md:mt-24 rounded-2xl bg-secondary/30 border border-border p-6 md:p-12 text-center",children:[d.jsx("h3",{className:"font-display text-2xl md:text-3xl font-bold mb-4",children:"Subscribe to our newsletter"}),d.jsx("p",{className:"text-muted-foreground mb-8 max-w-xl mx-auto",children:"Get the latest articles, resources, and product updates delivered directly to your inbox."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[d.jsx(ui,{placeholder:"Enter your email",className:"bg-background","aria-label":"Email address"}),d.jsx(qe,{children:"Subscribe"})]})]})]})}),d.jsx("footer",{className:"bg-background border-t border-border py-12 px-4 md:px-6",children:d.jsxs("div",{className:"container mx-auto max-w-6xl flex flex-col md:flex-row items-center justify-between gap-6",children:[d.jsxs("p",{className:"text-muted-foreground text-sm",children:[" ",new Date().getFullYear()," Endorse. All rights reserved."]}),d.jsxs("div",{className:"flex gap-6 text-sm text-muted-foreground",children:[d.jsx(et,{to:"/",className:"hover:text-foreground",children:"Home"}),d.jsx(et,{to:"/auth",className:"hover:text-foreground",children:"Sign In"}),d.jsx(et,{to:"/privacy",className:"hover:text-foreground",children:"Privacy"}),d.jsx(et,{to:"/terms",className:"hover:text-foreground",children:"Terms"})]})]})})]})},kxe="/assets/bankole-DIxerWJK.png",Ixe=()=>{const[n,e]=D.useState(!1),[t,r]=D.useState(!1),[i,s]=D.useState(!1);return D.useEffect(()=>{window.scrollTo(0,0)},[]),d.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[d.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-strong border-b border-border/40",children:[d.jsxs("div",{className:"container mx-auto px-6 h-20 flex items-center justify-between",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2.5","aria-label":"Endorse",children:d.jsx(ro,{className:"h-14 w-auto drop-shadow-sm"})}),d.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[d.jsxs(hd,{children:[d.jsxs(fd,{className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors flex items-center gap-1 outline-none group",children:["Product ",d.jsx(ua,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Gc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/#features",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(ks,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"eSign"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Create, send, and track legally binding electronic signatures."})]})]})}),d.jsx(ni,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/conversion",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(qm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"File Conversion"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Transform documents between PDF, Word, and other formats."})]})]})})]})]}),d.jsx(et,{to:"/#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors",children:"Pricing"}),d.jsxs(hd,{children:[d.jsxs(fd,{className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors flex items-center gap-1 outline-none group",children:["Resources ",d.jsx(ua,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Gc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/blog",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Ys,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Blog"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Latest updates, articles, and insights."})]})]})}),d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx($m,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Help Center"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Guides, tutorials, and support documentation."})]})]})}),d.jsx(ni,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Hm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"API Docs"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Complete reference for developers."})]})]})})]})]}),d.jsx(et,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground transition-colors",children:"Company"})]}),d.jsx("div",{className:"flex items-center gap-4",children:d.jsx(et,{to:"/auth",children:d.jsx(qe,{className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:"Get Started"})})}),d.jsx("button",{className:"md:hidden text-foreground p-2",onClick:()=>e(!n),"aria-label":"Toggle menu",children:n?d.jsx(Ps,{className:"w-6 h-6"}):d.jsx(eS,{className:"w-6 h-6"})})]}),n&&d.jsxs("div",{className:"md:hidden absolute top-20 left-0 right-0 bg-background border-b border-border p-4 flex flex-col gap-4 shadow-lg animate-in slide-in-from-top-5 h-[calc(100vh-5rem)] overflow-y-auto",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>r(!t),children:["Product",d.jsx(ua,{className:`w-4 h-4 transition-transform duration-200 ${t?"rotate-180":""}`})]}),t&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs(et,{to:"/#features",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(ks,{className:"w-4 h-4"})," eSign"]}),d.jsxs(et,{to:"/conversion",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(qm,{className:"w-4 h-4"})," File Conversion"]})]})]}),d.jsx(et,{to:"/#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>e(!1),children:"Pricing"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>s(!i),children:["Resources",d.jsx(ua,{className:`w-4 h-4 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs(et,{to:"/blog",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Ys,{className:"w-4 h-4"})," Blog"]}),d.jsxs(et,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx($m,{className:"w-4 h-4"})," Help Center"]}),d.jsxs(et,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Hm,{className:"w-4 h-4"})," API Docs"]})]})]}),d.jsx(et,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>e(!1),children:"Company"}),d.jsx("div",{className:"flex flex-col gap-3 mt-2",children:d.jsx(et,{to:"/auth",onClick:()=>e(!1),children:d.jsx(qe,{className:"w-full bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:"Get Started"})})})]})]}),d.jsxs("main",{className:"pt-32",children:[d.jsx("section",{className:"px-4 md:px-6 pb-16 md:pb-20 text-center",children:d.jsxs("div",{className:"container mx-auto max-w-4xl",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-sm font-medium mb-6",children:[d.jsx(vD,{className:"w-4 h-4"}),"Our Company"]}),d.jsxs("h1",{className:"font-display text-4xl sm:text-5xl md:text-7xl font-bold mb-8 tracking-tight text-foreground",children:["We're changing the way ",d.jsx("br",{}),d.jsx("span",{className:"text-gradient",children:"the world agrees."})]}),d.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Endorse is dedicated to making every agreement digital, secure, and accessible from anywhere on the planet."})]})}),d.jsx("section",{className:"px-4 md:px-6 mb-16 md:mb-24",children:d.jsx("div",{className:"container mx-auto max-w-6xl",children:d.jsxs("div",{className:"aspect-video md:aspect-[21/9] rounded-3xl overflow-hidden relative bg-secondary",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-background to-secondary"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"grid grid-cols-3 gap-8 opacity-20 transform -rotate-12 scale-125",children:[...Array(9)].map((o,a)=>d.jsx("div",{className:"w-64 h-40 bg-foreground rounded-xl"},a))})}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 md:p-12 bg-gradient-to-t from-black/80 to-transparent text-white",children:d.jsx("p",{className:"font-display text-2xl md:text-3xl font-bold",children:"Connecting businesses and people."})})]})})}),d.jsx("section",{className:"px-4 md:px-6 py-16 md:py-20 bg-secondary/20",children:d.jsx("div",{className:"container mx-auto max-w-6xl",children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-10 md:gap-16 items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-6",children:"Our Mission"}),d.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:"Founded in 2024, Endorse started with a simple premise: paper contracts are a bottleneck to progress. We believe that agreements should be as fast and fluid as the rest of your work."}),d.jsx("p",{className:"text-lg text-muted-foreground mb-8 leading-relaxed",children:"We are at the beginning of our journey, building a platform for forward-thinking individuals and teams. Whether you're a freelancer or a growing startup, Endorse provides the secure infrastructure to help you scale."}),d.jsxs("div",{className:"flex gap-8",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-4xl font-bold text-primary mb-1",children:"100%"}),d.jsx("div",{className:"text-sm text-muted-foreground uppercase tracking-wider",children:"Committed"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-4xl font-bold text-primary mb-1",children:"Secure"}),d.jsx("div",{className:"text-sm text-muted-foreground uppercase tracking-wider",children:"By Design"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-4xl font-bold text-primary mb-1",children:"Global"}),d.jsx("div",{className:"text-sm text-muted-foreground uppercase tracking-wider",children:"Vision"})]})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary/20 to-purple-500/20 rounded-2xl blur-xl opacity-50"}),d.jsxs("div",{className:"relative bg-card border border-border p-8 rounded-2xl shadow-xl",children:[d.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[d.jsx(zw,{className:"w-5 h-5 text-green-500"}),"Built on Trust"]}),d.jsx("p",{className:"text-muted-foreground mb-6",children:"Security isn't just a feature; it's our foundation. We adhere to the strictest global standards to ensure your data remains yours."}),d.jsx("ul",{className:"space-y-3",children:["Secure Cloud Infrastructure","Encrypted Data Transfer","Privacy Focused","99.9% Uptime"].map((o,a)=>d.jsxs("li",{className:"flex items-center gap-3 text-sm font-medium",children:[d.jsx(Ha,{className:"w-4 h-4 text-primary"}),o]},a))})]})]})]})})}),d.jsx("section",{className:"px-4 md:px-6 py-16 md:py-24",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Our Core Values"}),d.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"The principles that guide every decision we make."})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:QJ,title:"Customer Success",desc:"We only win when our customers win. We obsess over user experience and support."},{icon:eR,title:"Simplicity",desc:"Complexity is the enemy of execution. We strive to make the complex simple."},{icon:cB,title:"Integrity",desc:"We do the right thing, even when no one is watching. Trust is our currency."}].map((o,a)=>d.jsxs("div",{className:"bg-card p-8 rounded-2xl border border-border hover:shadow-lg transition-all duration-300 group",children:[d.jsx("div",{className:"w-12 h-12 bg-secondary rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:d.jsx(o.icon,{className:"w-6 h-6 text-primary"})}),d.jsx("h3",{className:"text-xl font-bold mb-3",children:o.title}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:o.desc})]},a))})]})}),d.jsxs("section",{className:"px-4 md:px-6 py-16 md:py-24 bg-[#1a1f2c] text-white relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop')] bg-cover bg-center opacity-10 mix-blend-overlay"}),d.jsx("div",{className:"container mx-auto max-w-6xl relative z-10",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-12",children:[d.jsxs("div",{className:"md:w-1/2",children:[d.jsxs("h2",{className:"font-display text-3xl md:text-5xl font-bold mb-6",children:["Built for the",d.jsx("br",{}),"Remote World."]}),d.jsx("p",{className:"text-gray-400 text-lg mb-8 leading-relaxed",children:"We are a fully distributed team spanning multiple continents. This allows us to provide 24/7 support and build a product that truly understands global collaboration."})]}),d.jsx("div",{className:"md:w-1/2 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{title:"Remote First",desc:"Distributed team across 12+ time zones"},{title:"24/7 Support",desc:"Always on, wherever you are"},{title:"Global Compliance",desc:"Adhering to international standards"},{title:"Digital Native",desc:"Born in the cloud, built for speed"}].map((o,a)=>d.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-xl backdrop-blur-sm",children:[d.jsx(rB,{className:"w-5 h-5 text-[#FFC83D] mb-3"}),d.jsx("h4",{className:"font-bold text-lg",children:o.title}),d.jsx("p",{className:"text-sm text-gray-400",children:o.desc})]},a))})]})})]}),d.jsx("section",{className:"px-4 md:px-6 py-16 md:py-24",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Meet the Builder"}),d.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Driving innovation in digital agreements."})]}),d.jsxs("div",{className:"bg-card border border-border rounded-3xl p-6 md:p-12 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-[0.03] pointer-events-none",children:d.jsx(bD,{className:"w-64 h-64"})}),d.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-10 items-center",children:[d.jsxs("div",{className:"shrink-0 relative",children:[d.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-2xl rounded-full"}),d.jsx("div",{className:"relative w-48 h-48 rounded-full overflow-hidden border-4 border-background shadow-2xl",children:d.jsx("img",{src:kxe,alt:"Bankole Ebenezer",className:"object-cover w-full h-full"})})]}),d.jsxs("div",{className:"flex-1 text-center md:text-left",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-medium mb-6",children:[d.jsx(vD,{className:"w-3 h-3"}),"Builder"]}),d.jsx("h3",{className:"font-display text-3xl font-bold mb-6",children:"Bankole Ebenezer"}),d.jsxs("div",{className:"relative",children:[d.jsx(bD,{className:"w-8 h-8 text-primary/20 absolute -top-4 -left-4 -z-10"}),d.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-8 relative z-10",children:"I built Endorse to solve a problem I had for myself signing documents quickly and easily. Now, its a tool I love using every day, and I designed it so others can sign, send, and manage documents without the hassle."})]}),d.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-4",children:[d.jsx("a",{href:"#",className:"p-2 bg-secondary hover:bg-primary hover:text-primary-foreground rounded-full transition-colors","aria-label":"LinkedIn",children:d.jsx(ak,{className:"w-5 h-5"})}),d.jsx("a",{href:"#",className:"p-2 bg-secondary hover:bg-primary hover:text-primary-foreground rounded-full transition-colors","aria-label":"GitHub",children:d.jsx(XJ,{className:"w-5 h-5"})}),d.jsx("a",{href:"mailto:contact@endorse.com",className:"p-2 bg-secondary hover:bg-primary hover:text-primary-foreground rounded-full transition-colors","aria-label":"Email",children:d.jsx(Dm,{className:"w-5 h-5"})})]})]})]})]})]})}),d.jsx("section",{className:"py-16 md:py-24 px-4 md:px-6",children:d.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[d.jsx("h2",{className:"font-display text-4xl font-bold mb-6",children:"Join the movement"}),d.jsx("p",{className:"text-xl text-muted-foreground mb-10 max-w-2xl mx-auto",children:"Ready to modernize your workflow? Start using Endorse today."}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[d.jsx(et,{to:"/auth",children:d.jsx(qe,{size:"lg",className:"h-14 px-8 text-lg bg-primary text-primary-foreground hover:bg-primary/90",children:"Get Started for Free"})}),d.jsx(qe,{variant:"outline",size:"lg",className:"h-14 px-8 text-lg",children:"Contact Sales"})]})]})})]})]})};var Pxe="clover",CK="https://js.stripe.com",Rxe="".concat(CK,"/").concat(Pxe,"/stripe.js"),Lxe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Dxe=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,r8="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Mxe=function(e){return Lxe.test(e)||Dxe.test(e)},jxe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(CK,'"]')),t=0;t<e.length;t++){var r=e[t];if(Mxe(r.src))return r}return null},i8=function(e){var t="",r=document.createElement("script");r.src="".concat(Rxe).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Ay=null,V_=null,z_=null,Oxe=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},Fxe=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},Bxe=function(e){return Ay!==null?Ay:(Ay=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn(r8),window.Stripe){t(window.Stripe);return}try{var i=jxe();if(i&&e)console.warn(r8);else if(!i)i=i8(e);else if(i&&z_!==null&&V_!==null){var s;i.removeEventListener("load",z_),i.removeEventListener("error",V_),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=i8(e)}z_=Fxe(t,r),V_=Oxe(r),i.addEventListener("load",z_),i.addEventListener("error",V_)}catch(o){r(o);return}}),Ay.catch(function(t){return Ay=null,Promise.reject(t)}))},Ey,Uxe=function(){return Ey||(Ey=Bxe(null).catch(function(e){return Ey=null,Promise.reject(e)}),Ey)};Promise.resolve().then(function(){return Uxe()}).catch(function(n){console.warn(n)});const $_=[{id:"pro",name:"Pro Plan",price:"15",description:"Perfect for individuals and professionals",features:["Unlimited documents","Invite up to 5 signers","Audit trails","Priority support"],color:"from-blue-500 to-indigo-600",icon:d.jsx(eR,{className:"w-5 h-5"})},{id:"business",name:"Business Plan",price:"49",description:"Advanced features for teams and companies",features:["Everything in Pro","Unlimited signers","Team management","Custom branding","24/7 Support"],color:"from-purple-500 to-pink-600",icon:d.jsx(zw,{className:"w-5 h-5"})}],Vxe=()=>{const{user:n,userProfile:e}=D1(),t=Uf(),[r]=yR(),[i,s]=D.useState($_[0]),[o,a]=D.useState(!1),[l]=D.useState("paystack"),[c,u]=D.useState(!1),h=r.get("test")==="true",p=window.location.hostname!=="localhost"&&!h;D.useEffect(()=>{var y;const w=(y=r.get("plan"))==null?void 0:y.toLowerCase();w==="business"?s($_[1]):w==="pro"&&s($_[0])},[r]);const f=async()=>{a(!0);try{const w=rb(a1,"initializePaystackPayment"),{data:y}=await w({email:n==null?void 0:n.email,planId:i.id,amount:i.price,callbackUrl:window.location.href.split("?")[0]+"?payment=success",mode:p?"live":"test"});y!=null&&y.authorization_url?window.location.href=y.authorization_url:st.error("Could not initialize payment. Please try again.")}catch(w){console.error("Paystack Error:",w),st.error(w.message||"Failed to connect to Paystack.")}finally{a(!1)}};return c?d.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 text-center animate-in zoom-in duration-300",children:[d.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(zm,{className:"w-10 h-10 text-green-600"})}),d.jsxs("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:["Welcome to ",i.name,"!"]}),d.jsxs("p",{className:"text-slate-600 mb-8",children:["Your account has been upgraded successfully. You now have access to all ",i.id," features."]}),d.jsx(qe,{className:"w-full h-12 text-lg rounded-xl bg-indigo-600 hover:bg-indigo-700",onClick:()=>t("/dashboard"),children:"Go to Dashboard"})]})}):d.jsx("div",{className:"min-h-screen bg-[#f7f9fc] flex items-center justify-center p-4 lg:p-8 font-sans",children:d.jsxs("div",{className:"w-full max-w-6xl bg-white rounded-[20px] shadow-[0_20px_60px_-15px_rgba(0,0,0,0.1)] overflow-hidden flex flex-col lg:flex-row min-h-[600px]",children:[d.jsxs("div",{className:"w-full lg:w-[45%] bg-[#f7f9fc] p-8 lg:p-12 border-r border-slate-200/60 flex flex-col relative",children:[d.jsxs("button",{onClick:()=>t(-1),className:"absolute top-6 left-6 text-slate-400 hover:text-slate-600 transition-colors flex items-center gap-2 text-sm font-medium",children:[d.jsx(_1,{className:"w-4 h-4"})," Back"]}),d.jsxs("div",{className:"mt-8 mb-8",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4 opacity-80",children:[d.jsx(ro,{className:"h-6 w-auto"}),d.jsx("span",{className:"text-slate-300",children:"|"}),d.jsx("span",{className:"text-xs font-semibold tracking-wider text-slate-400 uppercase",children:"Checkout"})]}),d.jsxs("h2",{className:"text-2xl font-bold text-slate-900",children:["Subscribe to ",i.name]}),d.jsx("p",{className:"text-slate-500 mt-1",children:"Unlock the full potential of digital agreements."})]}),d.jsx("div",{className:"space-y-3 mb-8 flex-1",children:$_.map(w=>d.jsxs("div",{onClick:()=>s(w),className:`group relative p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 ${i.id===w.id?"border-indigo-600 bg-white shadow-sm ring-1 ring-indigo-600/10":"border-transparent bg-white/50 hover:bg-white hover:border-slate-200"}`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${i.id===w.id?"border-indigo-600":"border-slate-300"}`,children:i.id===w.id&&d.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-indigo-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:`font-semibold text-sm ${i.id===w.id?"text-slate-900":"text-slate-600"}`,children:w.name}),d.jsx("p",{className:"text-xs text-slate-500",children:w.description})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:`font-bold ${i.id===w.id?"text-slate-900":"text-slate-600"}`,children:["$",w.price]}),d.jsx("p",{className:"text-[10px] text-slate-400",children:"/mo"})]})]}),i.id===w.id&&d.jsxs("div",{className:"mt-3 pl-8 flex flex-wrap gap-x-4 gap-y-1",children:[w.features.slice(0,2).map((y,_)=>d.jsxs("span",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[d.jsx(zm,{className:"w-3 h-3 text-indigo-600"})," ",y]},_)),d.jsx("span",{className:"text-[11px] text-indigo-600 font-medium",children:"+ more"})]})]},w.id))}),d.jsxs("div",{className:"pt-6 border-t border-slate-200",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-slate-500 text-sm",children:"Subtotal"}),d.jsxs("span",{className:"text-slate-900 font-medium",children:["$",i.price]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-slate-900 font-bold",children:"Total due today"}),d.jsxs("div",{className:"text-right",children:[d.jsxs("span",{className:"text-2xl font-bold text-slate-900",children:["$",i.price]}),d.jsx("span",{className:"text-xs text-slate-400 block font-normal",children:"USD"})]})]})]})]}),d.jsxs("div",{className:"w-full lg:w-[55%] bg-white p-8 lg:p-12 flex flex-col justify-center relative",children:[d.jsxs("div",{className:"max-w-md mx-auto w-full",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"Payment Details"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-100 rounded-xl text-blue-700 text-sm",children:[d.jsx(qJ,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:"Secure local payment via Paystack"})]})}),l==="paystack"&&d.jsxs("div",{className:"mb-6 animate-in fade-in slide-in-from-bottom-2",children:[d.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-6 text-center mb-4",children:[d.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Pay securely with your local card, Bank Transfer, or USSD."}),d.jsx(qe,{onClick:f,className:"w-full bg-[#0BA4DB] hover:bg-[#0BA4DB]/90 text-white h-12 text-base font-semibold shadow-md shadow-blue-500/10",disabled:o,children:o?d.jsx(zi,{className:"w-5 h-5 animate-spin"}):"Pay with Paystack"})]}),d.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-slate-400",children:[d.jsx(CA,{className:"w-3 h-3"})," Secured by Paystack"]})]}),d.jsxs("div",{className:"text-center text-[10px] text-slate-400 mt-6",children:["By confirming, you agree to our ",d.jsx("a",{href:"/terms",className:"underline hover:text-slate-600",children:"Terms of Service"}),"."]})]}),o&&d.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-10",children:d.jsxs("div",{className:"text-center",children:[d.jsx(zi,{className:"w-10 h-10 text-indigo-600 animate-spin mx-auto mb-3"}),d.jsx("p",{className:"font-semibold text-slate-900",children:"Processing..."}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Please do not refresh the page."})]})})]})]})})},zxe=()=>(D.useEffect(()=>{window.scrollTo(0,0)},[]),d.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[d.jsx("nav",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur",children:d.jsxs("div",{className:"container flex h-16 items-center justify-between px-4 md:px-6",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2",children:d.jsx(ro,{className:"h-8 w-auto"})}),d.jsx(et,{to:"/",children:d.jsxs(qe,{variant:"ghost",size:"sm",children:[d.jsx(_1,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})}),d.jsxs("main",{className:"container max-w-4xl py-12 px-4 md:px-6",children:[d.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Privacy Policy"}),d.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[d.jsxs("p",{className:"text-lg text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Welcome to Endorse. We respect your privacy and are committed to protecting your personal data. This privacy policy will inform you as to how we look after your personal data when you visit our website and tell you about your privacy rights and how the law protects you."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Data We Collect"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may collect, use, store and transfer different kinds of personal data about you which we have grouped together follows:"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Identity Data"})," includes first name, last name, username or similar identifier."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Contact Data"})," includes email address and telephone number."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Technical Data"})," includes internet protocol (IP) address, your login data, browser type and version, time zone setting and location."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Usage Data"})," includes information about how you use our website, products and services."]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. How We Use Your Data"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We will only use your personal data when the law allows us to. Most commonly, we will use your personal data in the following circumstances:"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[d.jsx("li",{children:"Where we need to perform the contract we are about to enter into or have entered into with you."}),d.jsx("li",{children:"Where it is necessary for our legitimate interests (or those of a third party) and your interests and fundamental rights do not override those interests."}),d.jsx("li",{children:"Where we need to comply with a legal or regulatory obligation."})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Data Security"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We have put in place appropriate security measures to prevent your personal data from being accidentally lost, used or accessed in an unauthorized way, altered or disclosed. In addition, we limit access to your personal data to those employees, agents, contractors and other third parties who have a business need to know."})]})]})]}),d.jsx("footer",{className:"border-t border-border mt-12",children:d.jsxs("div",{className:"container py-8 px-4 md:px-6 text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Endorse. All rights reserved."]})})]})),$xe=()=>(D.useEffect(()=>{window.scrollTo(0,0)},[]),d.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[d.jsx("nav",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur",children:d.jsxs("div",{className:"container flex h-16 items-center justify-between px-4 md:px-6",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2",children:d.jsx(ro,{className:"h-8 w-auto"})}),d.jsx(et,{to:"/",children:d.jsxs(qe,{variant:"ghost",size:"sm",children:[d.jsx(_1,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})}),d.jsxs("main",{className:"container max-w-4xl py-12 px-4 md:px-6",children:[d.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms of Service"}),d.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[d.jsxs("p",{className:"text-lg text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Acceptance of Terms"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"By accessing and using Endorse, you accept and agree to be bound by the terms and provision of this agreement. In addition, when using these particular services, you shall be subject to any posted guidelines or rules applicable to such services."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Use License"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Permission is granted to temporarily download one copy of the materials (information or software) on Endorse's website for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[d.jsx("li",{children:"modify or copy the materials;"}),d.jsx("li",{children:"use the materials for any commercial purpose, or for any public display (commercial or non-commercial);"}),d.jsx("li",{children:"attempt to decompile or reverse engineer any software contained on Endorse's website;"}),d.jsx("li",{children:"remove any copyright or other proprietary notations from the materials; or"}),d.jsx("li",{children:'transfer the materials to another person or "mirror" the materials on any other server.'})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Disclaimer"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The materials on Endorse's website are provided on an 'as is' basis. Endorse makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Limitations"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"In no event shall Endorse or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on Endorse's website, even if Endorse or a Endorse authorized representative has been notified orally or in writing of the possibility of such damage."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Governing Law"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"These terms and conditions are governed by and construed in accordance with the laws and you irrevocably submit to the exclusive jurisdiction of the courts in that location."})]})]})]}),d.jsx("footer",{className:"border-t border-border mt-12",children:d.jsxs("div",{className:"container py-8 px-4 md:px-6 text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Endorse. All rights reserved."]})})]})),Hxe=()=>(D.useEffect(()=>{window.scrollTo(0,0)},[]),d.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[d.jsx("nav",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur",children:d.jsxs("div",{className:"container flex h-16 items-center justify-between px-4 md:px-6",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2",children:d.jsx(ro,{className:"h-8 w-auto"})}),d.jsx(et,{to:"/",children:d.jsxs(qe,{variant:"ghost",size:"sm",children:[d.jsx(_1,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})}),d.jsxs("main",{className:"container max-w-4xl py-12 px-4 md:px-6",children:[d.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Cookie Policy"}),d.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[d.jsxs("p",{className:"text-lg text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. What Are Cookies"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"As is common practice with almost all professional websites, this site uses cookies, which are tiny files that are downloaded to your computer, to improve your experience. This page describes what information they gather, how we use it, and why we sometimes need to store these cookies."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. How We Use Cookies"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We use cookies for a variety of reasons detailed below. Unfortunately, in most cases, there are no industry standard options for disabling cookies without completely disabling the functionality and features they add to this site."}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Account related cookies:"})," If you create an account with us, we will use cookies for the management of the signup process and general administration."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Login related cookies:"})," We use cookies when you are logged in so that we can remember this fact. This prevents you from having to log in every single time you visit a new page."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Forms related cookies:"})," When you submit data to through a form such as those found on contact pages or comment forms cookies may be set to remember your user details for future correspondence."]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Third Party Cookies"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"In some special cases we also use cookies provided by trusted third parties. The following section details which third party cookies you might encounter through this site."}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mt-4",children:[d.jsx("li",{children:"This site uses Google Analytics which is one of the most widespread and trusted analytics solutions on the web for helping us to understand how you use the site and ways that we can improve your experience."}),d.jsx("li",{children:"We also use social media buttons and/or plugins on this site that allow you to connect with your social network in various ways."})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Disabling Cookies"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You can prevent the setting of cookies by adjusting the settings on your browser (see your browser Help for how to do this). Be aware that disabling cookies will affect the functionality of this and many other websites that you visit."})]})]})]}),d.jsx("footer",{className:"border-t border-border mt-12",children:d.jsxs("div",{className:"container py-8 px-4 md:px-6 text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Endorse. All rights reserved."]})})]})),qxe=[{id:"word-to-pdf",title:"Word to PDF",description:"Convert DOC and DOCX files to PDF instantly.",icon:Ys,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"group-hover:border-blue-200",accept:".doc,.docx",targetFormat:"pdf"},{id:"pdf-to-word",title:"PDF to Word",description:"Turn your PDF files into editable Word documents.",icon:qm,color:"text-red-600",bgColor:"bg-red-50",borderColor:"group-hover:border-red-200",accept:".pdf",targetFormat:"docx"},{id:"image-to-pdf",title:"Image to PDF",description:"Convert JPG and PNG images to PDF format.",icon:iB,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"group-hover:border-purple-200",accept:".jpg,.jpeg,.png",targetFormat:"pdf"},{id:"pdf-to-image",title:"PDF to Image",description:"Extract pages from your PDF as high-quality images.",icon:KJ,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"group-hover:border-orange-200",accept:".pdf",targetFormat:"jpg"}],Wxe=()=>{const[n,e]=D.useState(null),[t,r]=D.useState(null),[i,s]=D.useState(!1),[o,a]=D.useState(!1),[l,c]=D.useState(!1),u=A=>{e(A),r(null),c(!1),s(!1)},h=()=>{e(null),r(null),c(!1),s(!1)},p=A=>{A.target.files&&A.target.files[0]&&(r(A.target.files[0]),c(!1))},f=A=>{A.preventDefault(),s(!0)},w=A=>{A.preventDefault(),s(!1)},y=A=>{A.preventDefault(),s(!1),A.dataTransfer.files&&A.dataTransfer.files[0]&&(r(A.dataTransfer.files[0]),c(!1))},_=async()=>{if(!t||!n){st.error("Please select a file.");return}a(!0);try{await new Promise(A=>setTimeout(A,2e3)),c(!0),st.success(`Successfully converted to ${n.targetFormat.toUpperCase()}`)}catch{st.error("Conversion failed. Please try again.")}finally{a(!1)}},b=()=>{r(null),c(!1),s(!1)};return d.jsxs("div",{className:"min-h-screen bg-background font-sans flex flex-col",children:[d.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur",children:d.jsxs("div",{className:"container flex h-16 items-center justify-between px-4 md:px-6",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2",children:d.jsx(ro,{className:"h-8 w-auto"})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(et,{to:"/dashboard",children:d.jsx(qe,{variant:"ghost",children:"Dashboard"})}),d.jsx(et,{to:"/auth",children:d.jsx(qe,{children:"Sign In"})})]})]})}),d.jsx("main",{className:"flex-1",children:n?d.jsxs("div",{className:"container max-w-4xl mx-auto py-12 px-4 md:px-6 animate-in fade-in zoom-in-95 duration-300",children:[d.jsxs(qe,{variant:"ghost",onClick:h,className:"mb-8 hover:bg-transparent pl-0 hover:text-primary",children:[d.jsx(_1,{className:"w-4 h-4 mr-2"}),"Back to Tools"]}),d.jsxs("div",{className:"text-center mb-10",children:[d.jsxs("h2",{className:"text-3xl font-bold mb-2 flex items-center justify-center gap-3",children:[d.jsx(n.icon,{className:`w-8 h-8 ${n.color}`}),n.title]}),d.jsx("p",{className:"text-muted-foreground",children:n.description})]}),d.jsxs(pc,{className:"border-2 border-dashed border-border shadow-2xl bg-card/50 backdrop-blur-sm overflow-hidden relative",children:[d.jsx("div",{className:`absolute inset-0 ${n.bgColor} opacity-5 pointer-events-none`}),d.jsx(mc,{className:"p-8 md:p-16 flex flex-col items-center justify-center gap-8 min-h-[400px]",children:t?d.jsxs("div",{className:"w-full max-w-md space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 bg-background rounded-xl border border-border shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`p-3 ${n.bgColor} rounded-lg`,children:d.jsx(n.icon,{className:`w-6 h-6 ${n.color}`})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"font-medium truncate max-w-[200px]",children:t.name}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[(t.size/1024/1024).toFixed(2)," MB"]})]})]}),d.jsx(qe,{variant:"ghost",size:"icon",onClick:b,disabled:o,children:d.jsx(Ps,{className:"w-4 h-4"})})]}),l?d.jsxs("div",{className:"flex flex-col gap-4 animate-in fade-in slide-in-from-bottom-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-green-600 justify-center font-medium p-4 bg-green-50 rounded-xl border border-green-100",children:[d.jsx(Ha,{className:"w-5 h-5"})," Conversion Complete"]}),d.jsxs(qe,{className:"w-full h-14 text-lg font-semibold",size:"lg",children:[d.jsx(J4,{className:"w-4 h-4 mr-2"})," Download ",n.targetFormat.toUpperCase()]}),d.jsx(qe,{variant:"ghost",onClick:b,children:"Convert Another File"})]}):d.jsxs(qe,{size:"lg",className:"w-full h-14 text-lg bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90 shadow-lg shadow-orange-500/10",onClick:_,disabled:o,children:[o?d.jsx(zi,{className:"w-5 h-5 mr-2 animate-spin"}):d.jsx(NA,{className:"w-5 h-5 mr-2"}),"Convert to ",n.targetFormat.toUpperCase()]})]}):d.jsx("div",{className:`w-full flex flex-col items-center justify-center p-10 rounded-3xl transition-all duration-300 border-2 border-dashed ${i?"border-primary bg-primary/5 scale-[1.02]":"border-transparent"}`,onDragOver:f,onDragLeave:w,onDrop:y,children:d.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-6 group w-full",children:[d.jsx("div",{className:`w-24 h-24 ${n.bgColor} rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300 shadow-sm`,children:d.jsx($w,{className:`w-10 h-10 ${n.color}`})}),d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("p",{className:"text-xl font-semibold group-hover:text-primary transition-colors",children:"Drag & Drop or Click to Upload"}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Supported files: ",d.jsx("span",{className:"font-mono bg-secondary px-1 rounded",children:n.accept.replace(/,/g,", ")})]})]}),d.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:p,accept:n.accept})]})})})]})]}):d.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[d.jsxs("div",{className:"relative py-20 px-4 md:px-6 overflow-hidden bg-gradient-to-b from-secondary/30 to-background",children:[d.jsx("div",{className:"absolute inset-0 -z-10 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),d.jsxs("div",{className:"container max-w-4xl mx-auto text-center",children:[d.jsxs("div",{className:"inline-flex items-center justify-center px-4 py-1.5 mb-6 rounded-full bg-primary/10 text-primary text-sm font-medium border border-primary/20 shadow-sm",children:[d.jsx(lZ,{className:"w-4 h-4 mr-2"}),d.jsx("span",{children:"Professional Document Tools"})]}),d.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-6 text-foreground",children:["Convert Documents ",d.jsx("br",{className:"hidden sm:block"}),d.jsx("span",{className:"text-primary",children:"With Confidence"})]}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Secure, fast, and enterprise-grade conversion tools for all your document needs. No registration required for basic tasks."})]})]}),d.jsx("div",{className:"container max-w-6xl mx-auto px-4 md:px-6 -mt-8 grid md:grid-cols-2 lg:grid-cols-2 gap-6",children:qxe.map(A=>d.jsxs("div",{onClick:()=>u(A),className:`group relative bg-card p-8 rounded-2xl border border-border shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer overflow-hidden ${A.borderColor}`,children:[d.jsx("div",{className:`absolute top-0 right-0 p-20 ${A.bgColor} rounded-bl-full opacity-0 group-hover:opacity-20 transition-opacity duration-500`}),d.jsxs("div",{className:"relative z-10 flex items-start gap-6",children:[d.jsx("div",{className:`p-4 rounded-xl ${A.bgColor} ${A.color} group-hover:scale-110 transition-transform duration-300`,children:d.jsx(A.icon,{className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-foreground mb-2 group-hover:text-primary transition-colors",children:A.title}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:A.description})]})]}),d.jsx("div",{className:"absolute bottom-6 right-6 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-x-2 group-hover:translate-x-0",children:d.jsx(NA,{className:`w-6 h-6 ${A.color}`})})]},A.id))}),d.jsx("div",{className:"container max-w-6xl mx-auto px-4 md:px-6 mt-24",children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-center max-w-4xl mx-auto",children:[d.jsxs("div",{className:"p-6 rounded-2xl bg-secondary/20 border border-border/50",children:[d.jsx("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:d.jsx(eR,{className:"w-6 h-6"})}),d.jsx("h3",{className:"font-bold text-lg mb-2",children:"Lightning Fast"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Our cloud servers process your documents in seconds, not minutes."})]}),d.jsxs("div",{className:"p-6 rounded-2xl bg-secondary/20 border border-border/50",children:[d.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:d.jsx(Ha,{className:"w-6 h-6"})}),d.jsx("h3",{className:"font-bold text-lg mb-2",children:"High Quality"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"We preserve your document formatting, images, and layout perfectly."})]})]})})]})})]})},Gxe=new Dne,Kxe=()=>d.jsx(jne,{client:Gxe,children:d.jsxs(une,{children:[d.jsx(WZ,{}),d.jsx(Eee,{}),d.jsx(Ore,{children:d.jsxs(kre,{children:[d.jsx(mo,{path:"/",element:d.jsx(Zpe,{})}),d.jsx(mo,{path:"/auth",element:d.jsx(nme,{})}),d.jsx(mo,{path:"/blog",element:d.jsx(Txe,{})}),d.jsx(mo,{path:"/about",element:d.jsx(Ixe,{})}),d.jsx(mo,{path:"/payment",element:d.jsx(Vxe,{})}),d.jsx(mo,{path:"/privacy",element:d.jsx(zxe,{})}),d.jsx(mo,{path:"/terms",element:d.jsx($xe,{})}),d.jsx(mo,{path:"/cookie-policy",element:d.jsx(Hxe,{})}),d.jsx(mo,{path:"/conversion",element:d.jsx(Wxe,{})}),d.jsxs(mo,{element:d.jsx(Gye,{}),children:[d.jsx(mo,{path:"/dashboard",element:d.jsx(qye,{})}),d.jsx(mo,{path:"/sign/:id",element:d.jsx(Cxe,{})})]}),d.jsx(mo,{path:"*",element:d.jsx(Wye,{})})]})})]})});T9(document.getElementById("root")).render(d.jsx(Qpe,{children:d.jsx(Kxe,{})}));export{On as _,pY as c,v1 as g};
