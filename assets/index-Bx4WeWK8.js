var lY=Object.defineProperty;var e6=n=>{throw TypeError(n)};var cY=(n,e,t)=>e in n?lY(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var rt=(n,e,t)=>cY(n,typeof e!="symbol"?e+"":e,t),xC=(n,e,t)=>e.has(n)||e6("Cannot "+t);var m=(n,e,t)=>(xC(n,e,"read from private field"),t?t.call(n):e.get(n)),K=(n,e,t)=>e.has(n)?e6("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),z=(n,e,t,r)=>(xC(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),W=(n,e,t)=>(xC(n,e,"access private method"),t);var Ii=(n,e,t,r)=>({set _(i){z(n,e,i,t)},get _(){return m(n,e,r)}});function uY(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var dY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var f8={exports:{}},LE={},p8={exports:{}},un={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2=Symbol.for("react.element"),hY=Symbol.for("react.portal"),fY=Symbol.for("react.fragment"),pY=Symbol.for("react.strict_mode"),mY=Symbol.for("react.profiler"),gY=Symbol.for("react.provider"),vY=Symbol.for("react.context"),yY=Symbol.for("react.forward_ref"),wY=Symbol.for("react.suspense"),bY=Symbol.for("react.memo"),xY=Symbol.for("react.lazy"),t6=Symbol.iterator;function _Y(n){return n===null||typeof n!="object"?null:(n=t6&&n[t6]||n["@@iterator"],typeof n=="function"?n:null)}var m8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g8=Object.assign,v8={};function y1(n,e,t){this.props=n,this.context=e,this.refs=v8,this.updater=t||m8}y1.prototype.isReactComponent={};y1.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};y1.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function y8(){}y8.prototype=y1.prototype;function YP(n,e,t){this.props=n,this.context=e,this.refs=v8,this.updater=t||m8}var XP=YP.prototype=new y8;XP.constructor=YP;g8(XP,y1.prototype);XP.isPureReactComponent=!0;var n6=Array.isArray,w8=Object.prototype.hasOwnProperty,QP={current:null},b8={key:!0,ref:!0,__self:!0,__source:!0};function x8(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)w8.call(e,r)&&!b8.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:U2,type:n,key:s,ref:o,props:i,_owner:QP.current}}function AY(n,e){return{$$typeof:U2,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function JP(n){return typeof n=="object"&&n!==null&&n.$$typeof===U2}function EY(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var r6=/\/+/g;function _C(n,e){return typeof n=="object"&&n!==null&&n.key!=null?EY(""+n.key):e.toString(36)}function H_(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case U2:case hY:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+_C(o,0):r,n6(i)?(t="",n!=null&&(t=n.replace(r6,"$&/")+"/"),H_(i,e,t,"",function(c){return c})):i!=null&&(JP(i)&&(i=AY(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(r6,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",n6(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+_C(s,a);o+=H_(s,e,t,l,i)}else if(l=_Y(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+_C(s,a++),o+=H_(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hx(n,e,t){if(n==null)return n;var r=[],i=0;return H_(n,r,"","",function(s){return e.call(t,s,i++)}),r}function SY(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var ro={current:null},q_={transition:null},CY={ReactCurrentDispatcher:ro,ReactCurrentBatchConfig:q_,ReactCurrentOwner:QP};function _8(){throw Error("act(...) is not supported in production builds of React.")}un.Children={map:Hx,forEach:function(n,e,t){Hx(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Hx(n,function(){e++}),e},toArray:function(n){return Hx(n,function(e){return e})||[]},only:function(n){if(!JP(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};un.Component=y1;un.Fragment=fY;un.Profiler=mY;un.PureComponent=YP;un.StrictMode=pY;un.Suspense=wY;un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CY;un.act=_8;un.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=g8({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=QP.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)w8.call(e,l)&&!b8.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:U2,type:n.type,key:i,ref:s,props:r,_owner:o}};un.createContext=function(n){return n={$$typeof:vY,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:gY,_context:n},n.Consumer=n};un.createElement=x8;un.createFactory=function(n){var e=x8.bind(null,n);return e.type=n,e};un.createRef=function(){return{current:null}};un.forwardRef=function(n){return{$$typeof:yY,render:n}};un.isValidElement=JP;un.lazy=function(n){return{$$typeof:xY,_payload:{_status:-1,_result:n},_init:SY}};un.memo=function(n,e){return{$$typeof:bY,type:n,compare:e===void 0?null:e}};un.startTransition=function(n){var e=q_.transition;q_.transition={};try{n()}finally{q_.transition=e}};un.unstable_act=_8;un.useCallback=function(n,e){return ro.current.useCallback(n,e)};un.useContext=function(n){return ro.current.useContext(n)};un.useDebugValue=function(){};un.useDeferredValue=function(n){return ro.current.useDeferredValue(n)};un.useEffect=function(n,e){return ro.current.useEffect(n,e)};un.useId=function(){return ro.current.useId()};un.useImperativeHandle=function(n,e,t){return ro.current.useImperativeHandle(n,e,t)};un.useInsertionEffect=function(n,e){return ro.current.useInsertionEffect(n,e)};un.useLayoutEffect=function(n,e){return ro.current.useLayoutEffect(n,e)};un.useMemo=function(n,e){return ro.current.useMemo(n,e)};un.useReducer=function(n,e,t){return ro.current.useReducer(n,e,t)};un.useRef=function(n){return ro.current.useRef(n)};un.useState=function(n){return ro.current.useState(n)};un.useSyncExternalStore=function(n,e,t){return ro.current.useSyncExternalStore(n,e,t)};un.useTransition=function(){return ro.current.useTransition()};un.version="18.3.1";p8.exports=un;var D=p8.exports;const Ke=v1(D),ZP=uY({__proto__:null,default:Ke},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NY=D,TY=Symbol.for("react.element"),kY=Symbol.for("react.fragment"),IY=Object.prototype.hasOwnProperty,PY=NY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RY={key:!0,ref:!0,__self:!0,__source:!0};function A8(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)IY.call(e,r)&&!RY.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:TY,type:n,key:s,ref:o,props:i,_owner:PY.current}}LE.Fragment=kY;LE.jsx=A8;LE.jsxs=A8;f8.exports=LE;var d=f8.exports,E8={exports:{}},wa={},S8={exports:{}},C8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(Q,ne){var ge=Q.length;Q.push(ne);e:for(;0<ge;){var pe=ge-1>>>1,U=Q[pe];if(0<i(U,ne))Q[pe]=ne,Q[ge]=U,ge=pe;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ne=Q[0],ge=Q.pop();if(ge!==ne){Q[0]=ge;e:for(var pe=0,U=Q.length,X=U>>>1;pe<X;){var re=2*(pe+1)-1,le=Q[re],he=re+1,ue=Q[he];if(0>i(le,ge))he<U&&0>i(ue,le)?(Q[pe]=ue,Q[he]=ge,pe=he):(Q[pe]=le,Q[re]=ge,pe=re);else if(he<U&&0>i(ue,ge))Q[pe]=ue,Q[he]=ge,pe=he;else break e}}return ne}function i(Q,ne){var ge=Q.sortIndex-ne.sortIndex;return ge!==0?ge:Q.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,f=!1,b=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Q){for(var ne=t(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=Q)r(c),ne.sortIndex=ne.expirationTime,e(l,ne);else break;ne=t(c)}}function C(Q){if(y=!1,E(Q),!b)if(t(l)!==null)b=!0,de(F);else{var ne=t(c);ne!==null&&ae(C,ne.startTime-Q)}}function F(Q,ne){b=!1,y&&(y=!1,w(N),N=-1),f=!0;var ge=p;try{for(E(ne),h=t(l);h!==null&&(!(h.expirationTime>ne)||Q&&!k());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,p=h.priorityLevel;var U=pe(h.expirationTime<=ne);ne=n.unstable_now(),typeof U=="function"?h.callback=U:h===t(l)&&r(l),E(ne)}else r(l);h=t(l)}if(h!==null)var X=!0;else{var re=t(c);re!==null&&ae(C,re.startTime-ne),X=!1}return X}finally{h=null,p=ge,f=!1}}var V=!1,L=null,N=-1,I=5,j=-1;function k(){return!(n.unstable_now()-j<I)}function M(){if(L!==null){var Q=n.unstable_now();j=Q;var ne=!0;try{ne=L(!0,Q)}finally{ne?R():(V=!1,L=null)}}else V=!1}var R;if(typeof A=="function")R=function(){A(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ce=q.port2;q.port1.onmessage=M,R=function(){ce.postMessage(null)}}else R=function(){_(M,0)};function de(Q){L=Q,V||(V=!0,R())}function ae(Q,ne){N=_(function(){Q(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){b||f||(b=!0,de(F))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(Q){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var ge=p;p=ne;try{return Q()}finally{p=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,ne){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=p;p=Q;try{return ne()}finally{p=ge}},n.unstable_scheduleCallback=function(Q,ne,ge){var pe=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?pe+ge:pe):ge=pe,Q){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ge+U,Q={id:u++,callback:ne,priorityLevel:Q,startTime:ge,expirationTime:U,sortIndex:-1},ge>pe?(Q.sortIndex=ge,e(c,Q),t(l)===null&&Q===t(c)&&(y?(w(N),N=-1):y=!0,ae(C,ge-pe))):(Q.sortIndex=U,e(l,Q),b||f||(b=!0,de(F))),Q},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(Q){var ne=p;return function(){var ge=p;p=ne;try{return Q.apply(this,arguments)}finally{p=ge}}}})(C8);S8.exports=C8;var LY=S8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DY=D,va=LY;function He(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N8=new Set,Ew={};function lg(n,e){Hv(n,e),Hv(n+"Capture",e)}function Hv(n,e){for(Ew[n]=e,n=0;n<e.length;n++)N8.add(e[n])}var wd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dT=Object.prototype.hasOwnProperty,MY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i6={},s6={};function jY(n){return dT.call(s6,n)?!0:dT.call(i6,n)?!1:MY.test(n)?s6[n]=!0:(i6[n]=!0,!1)}function OY(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function FY(n,e,t,r){if(e===null||typeof e>"u"||OY(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function io(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var as={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){as[n]=new io(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];as[e]=new io(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){as[n]=new io(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){as[n]=new io(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){as[n]=new io(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){as[n]=new io(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){as[n]=new io(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){as[n]=new io(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){as[n]=new io(n,5,!1,n.toLowerCase(),null,!1,!1)});var e4=/[\-:]([a-z])/g;function t4(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(e4,t4);as[e]=new io(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(e4,t4);as[e]=new io(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(e4,t4);as[e]=new io(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){as[n]=new io(n,1,!1,n.toLowerCase(),null,!1,!1)});as.xlinkHref=new io("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){as[n]=new io(n,1,!1,n.toLowerCase(),null,!0,!0)});function n4(n,e,t,r){var i=as.hasOwnProperty(e)?as[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FY(e,t,i,r)&&(t=null),r||i===null?jY(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ld=DY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qx=Symbol.for("react.element"),e0=Symbol.for("react.portal"),t0=Symbol.for("react.fragment"),r4=Symbol.for("react.strict_mode"),hT=Symbol.for("react.profiler"),T8=Symbol.for("react.provider"),k8=Symbol.for("react.context"),i4=Symbol.for("react.forward_ref"),fT=Symbol.for("react.suspense"),pT=Symbol.for("react.suspense_list"),s4=Symbol.for("react.memo"),fh=Symbol.for("react.lazy"),I8=Symbol.for("react.offscreen"),o6=Symbol.iterator;function sy(n){return n===null||typeof n!="object"?null:(n=o6&&n[o6]||n["@@iterator"],typeof n=="function"?n:null)}var Dr=Object.assign,AC;function Sy(n){if(AC===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);AC=e&&e[1]||""}return`
`+AC+n}var EC=!1;function SC(n,e){if(!n||EC)return"";EC=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{EC=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Sy(n):""}function BY(n){switch(n.tag){case 5:return Sy(n.type);case 16:return Sy("Lazy");case 13:return Sy("Suspense");case 19:return Sy("SuspenseList");case 0:case 2:case 15:return n=SC(n.type,!1),n;case 11:return n=SC(n.type.render,!1),n;case 1:return n=SC(n.type,!0),n;default:return""}}function mT(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case t0:return"Fragment";case e0:return"Portal";case hT:return"Profiler";case r4:return"StrictMode";case fT:return"Suspense";case pT:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case k8:return(n.displayName||"Context")+".Consumer";case T8:return(n._context.displayName||"Context")+".Provider";case i4:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case s4:return e=n.displayName||null,e!==null?e:mT(n.type)||"Memo";case fh:e=n._payload,n=n._init;try{return mT(n(e))}catch{}}return null}function UY(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mT(e);case 8:return e===r4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ef(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function P8(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VY(n){var e=P8(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Wx(n){n._valueTracker||(n._valueTracker=VY(n))}function R8(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=P8(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function nA(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function gT(n,e){var t=e.checked;return Dr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function a6(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Ef(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function L8(n,e){e=e.checked,e!=null&&n4(n,"checked",e,!1)}function vT(n,e){L8(n,e);var t=Ef(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?yT(n,e.type,t):e.hasOwnProperty("defaultValue")&&yT(n,e.type,Ef(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function l6(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function yT(n,e,t){(e!=="number"||nA(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Cy=Array.isArray;function m0(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Ef(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function wT(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(He(91));return Dr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function c6(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(He(92));if(Cy(t)){if(1<t.length)throw Error(He(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ef(t)}}function D8(n,e){var t=Ef(e.value),r=Ef(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function u6(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function M8(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bT(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?M8(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Gx,j8=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Gx=Gx||document.createElement("div"),Gx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gx.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Sw(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ew={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zY=["Webkit","ms","Moz","O"];Object.keys(ew).forEach(function(n){zY.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ew[e]=ew[n]})});function O8(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ew.hasOwnProperty(n)&&ew[n]?(""+e).trim():e+"px"}function F8(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=O8(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var $Y=Dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xT(n,e){if(e){if($Y[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(He(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(He(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(He(61))}if(e.style!=null&&typeof e.style!="object")throw Error(He(62))}}function _T(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AT=null;function o4(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ET=null,g0=null,v0=null;function d6(n){if(n=$2(n)){if(typeof ET!="function")throw Error(He(280));var e=n.stateNode;e&&(e=FE(e),ET(n.stateNode,n.type,e))}}function B8(n){g0?v0?v0.push(n):v0=[n]:g0=n}function U8(){if(g0){var n=g0,e=v0;if(v0=g0=null,d6(n),e)for(n=0;n<e.length;n++)d6(e[n])}}function V8(n,e){return n(e)}function z8(){}var CC=!1;function $8(n,e,t){if(CC)return n(e,t);CC=!0;try{return V8(n,e,t)}finally{CC=!1,(g0!==null||v0!==null)&&(z8(),U8())}}function Cw(n,e){var t=n.stateNode;if(t===null)return null;var r=FE(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(He(231,e,typeof t));return t}var ST=!1;if(wd)try{var oy={};Object.defineProperty(oy,"passive",{get:function(){ST=!0}}),window.addEventListener("test",oy,oy),window.removeEventListener("test",oy,oy)}catch{ST=!1}function HY(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var tw=!1,rA=null,iA=!1,CT=null,qY={onError:function(n){tw=!0,rA=n}};function WY(n,e,t,r,i,s,o,a,l){tw=!1,rA=null,HY.apply(qY,arguments)}function GY(n,e,t,r,i,s,o,a,l){if(WY.apply(this,arguments),tw){if(tw){var c=rA;tw=!1,rA=null}else throw Error(He(198));iA||(iA=!0,CT=c)}}function cg(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function H8(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function h6(n){if(cg(n)!==n)throw Error(He(188))}function KY(n){var e=n.alternate;if(!e){if(e=cg(n),e===null)throw Error(He(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return h6(i),n;if(s===r)return h6(i),e;s=s.sibling}throw Error(He(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(He(189))}}if(t.alternate!==r)throw Error(He(190))}if(t.tag!==3)throw Error(He(188));return t.stateNode.current===t?n:e}function q8(n){return n=KY(n),n!==null?W8(n):null}function W8(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=W8(n);if(e!==null)return e;n=n.sibling}return null}var G8=va.unstable_scheduleCallback,f6=va.unstable_cancelCallback,YY=va.unstable_shouldYield,XY=va.unstable_requestPaint,Jr=va.unstable_now,QY=va.unstable_getCurrentPriorityLevel,a4=va.unstable_ImmediatePriority,K8=va.unstable_UserBlockingPriority,sA=va.unstable_NormalPriority,JY=va.unstable_LowPriority,Y8=va.unstable_IdlePriority,DE=null,Hc=null;function ZY(n){if(Hc&&typeof Hc.onCommitFiberRoot=="function")try{Hc.onCommitFiberRoot(DE,n,void 0,(n.current.flags&128)===128)}catch{}}var Ul=Math.clz32?Math.clz32:nX,eX=Math.log,tX=Math.LN2;function nX(n){return n>>>=0,n===0?32:31-(eX(n)/tX|0)|0}var Kx=64,Yx=4194304;function Ny(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function oA(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Ny(a):(s&=o,s!==0&&(r=Ny(s)))}else o=t&~i,o!==0?r=Ny(o):s!==0&&(r=Ny(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ul(e),i=1<<t,r|=n[t],e&=~i;return r}function rX(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iX(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ul(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=rX(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function NT(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function X8(){var n=Kx;return Kx<<=1,!(Kx&4194240)&&(Kx=64),n}function NC(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function V2(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ul(e),n[e]=t}function sX(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Ul(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function l4(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Ul(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Hn=0;function Q8(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var J8,c4,Z8,e7,t7,TT=!1,Xx=[],cf=null,uf=null,df=null,Nw=new Map,Tw=new Map,mh=[],oX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p6(n,e){switch(n){case"focusin":case"focusout":cf=null;break;case"dragenter":case"dragleave":uf=null;break;case"mouseover":case"mouseout":df=null;break;case"pointerover":case"pointerout":Nw.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tw.delete(e.pointerId)}}function ay(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=$2(e),e!==null&&c4(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function aX(n,e,t,r,i){switch(e){case"focusin":return cf=ay(cf,n,e,t,r,i),!0;case"dragenter":return uf=ay(uf,n,e,t,r,i),!0;case"mouseover":return df=ay(df,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Nw.set(s,ay(Nw.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tw.set(s,ay(Tw.get(s)||null,n,e,t,r,i)),!0}return!1}function n7(n){var e=xp(n.target);if(e!==null){var t=cg(e);if(t!==null){if(e=t.tag,e===13){if(e=H8(t),e!==null){n.blockedOn=e,t7(n.priority,function(){Z8(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function W_(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=kT(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);AT=r,t.target.dispatchEvent(r),AT=null}else return e=$2(t),e!==null&&c4(e),n.blockedOn=t,!1;e.shift()}return!0}function m6(n,e,t){W_(n)&&t.delete(e)}function lX(){TT=!1,cf!==null&&W_(cf)&&(cf=null),uf!==null&&W_(uf)&&(uf=null),df!==null&&W_(df)&&(df=null),Nw.forEach(m6),Tw.forEach(m6)}function ly(n,e){n.blockedOn===e&&(n.blockedOn=null,TT||(TT=!0,va.unstable_scheduleCallback(va.unstable_NormalPriority,lX)))}function kw(n){function e(i){return ly(i,n)}if(0<Xx.length){ly(Xx[0],n);for(var t=1;t<Xx.length;t++){var r=Xx[t];r.blockedOn===n&&(r.blockedOn=null)}}for(cf!==null&&ly(cf,n),uf!==null&&ly(uf,n),df!==null&&ly(df,n),Nw.forEach(e),Tw.forEach(e),t=0;t<mh.length;t++)r=mh[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<mh.length&&(t=mh[0],t.blockedOn===null);)n7(t),t.blockedOn===null&&mh.shift()}var y0=Ld.ReactCurrentBatchConfig,aA=!0;function cX(n,e,t,r){var i=Hn,s=y0.transition;y0.transition=null;try{Hn=1,u4(n,e,t,r)}finally{Hn=i,y0.transition=s}}function uX(n,e,t,r){var i=Hn,s=y0.transition;y0.transition=null;try{Hn=4,u4(n,e,t,r)}finally{Hn=i,y0.transition=s}}function u4(n,e,t,r){if(aA){var i=kT(n,e,t,r);if(i===null)OC(n,e,r,lA,t),p6(n,r);else if(aX(i,n,e,t,r))r.stopPropagation();else if(p6(n,r),e&4&&-1<oX.indexOf(n)){for(;i!==null;){var s=$2(i);if(s!==null&&J8(s),s=kT(n,e,t,r),s===null&&OC(n,e,r,lA,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else OC(n,e,r,null,t)}}var lA=null;function kT(n,e,t,r){if(lA=null,n=o4(r),n=xp(n),n!==null)if(e=cg(n),e===null)n=null;else if(t=e.tag,t===13){if(n=H8(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return lA=n,null}function r7(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QY()){case a4:return 1;case K8:return 4;case sA:case JY:return 16;case Y8:return 536870912;default:return 16}default:return 16}}var ef=null,d4=null,G_=null;function i7(){if(G_)return G_;var n,e=d4,t=e.length,r,i="value"in ef?ef.value:ef.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return G_=i.slice(n,1<r?1-r:void 0)}function K_(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Qx(){return!0}function g6(){return!1}function ba(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qx:g6,this.isPropagationStopped=g6,this}return Dr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Qx)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Qx)},persist:function(){},isPersistent:Qx}),e}var w1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h4=ba(w1),z2=Dr({},w1,{view:0,detail:0}),dX=ba(z2),TC,kC,cy,ME=Dr({},z2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f4,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==cy&&(cy&&n.type==="mousemove"?(TC=n.screenX-cy.screenX,kC=n.screenY-cy.screenY):kC=TC=0,cy=n),TC)},movementY:function(n){return"movementY"in n?n.movementY:kC}}),v6=ba(ME),hX=Dr({},ME,{dataTransfer:0}),fX=ba(hX),pX=Dr({},z2,{relatedTarget:0}),IC=ba(pX),mX=Dr({},w1,{animationName:0,elapsedTime:0,pseudoElement:0}),gX=ba(mX),vX=Dr({},w1,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),yX=ba(vX),wX=Dr({},w1,{data:0}),y6=ba(wX),bX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_X={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AX(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=_X[n])?!!e[n]:!1}function f4(){return AX}var EX=Dr({},z2,{key:function(n){if(n.key){var e=bX[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=K_(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?xX[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f4,charCode:function(n){return n.type==="keypress"?K_(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?K_(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),SX=ba(EX),CX=Dr({},ME,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w6=ba(CX),NX=Dr({},z2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f4}),TX=ba(NX),kX=Dr({},w1,{propertyName:0,elapsedTime:0,pseudoElement:0}),IX=ba(kX),PX=Dr({},ME,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),RX=ba(PX),LX=[9,13,27,32],p4=wd&&"CompositionEvent"in window,nw=null;wd&&"documentMode"in document&&(nw=document.documentMode);var DX=wd&&"TextEvent"in window&&!nw,s7=wd&&(!p4||nw&&8<nw&&11>=nw),b6=" ",x6=!1;function o7(n,e){switch(n){case"keyup":return LX.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a7(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var n0=!1;function MX(n,e){switch(n){case"compositionend":return a7(e);case"keypress":return e.which!==32?null:(x6=!0,b6);case"textInput":return n=e.data,n===b6&&x6?null:n;default:return null}}function jX(n,e){if(n0)return n==="compositionend"||!p4&&o7(n,e)?(n=i7(),G_=d4=ef=null,n0=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return s7&&e.locale!=="ko"?null:e.data;default:return null}}var OX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _6(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!OX[n.type]:e==="textarea"}function l7(n,e,t,r){B8(r),e=cA(e,"onChange"),0<e.length&&(t=new h4("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var rw=null,Iw=null;function FX(n){w7(n,0)}function jE(n){var e=s0(n);if(R8(e))return n}function BX(n,e){if(n==="change")return e}var c7=!1;if(wd){var PC;if(wd){var RC="oninput"in document;if(!RC){var A6=document.createElement("div");A6.setAttribute("oninput","return;"),RC=typeof A6.oninput=="function"}PC=RC}else PC=!1;c7=PC&&(!document.documentMode||9<document.documentMode)}function E6(){rw&&(rw.detachEvent("onpropertychange",u7),Iw=rw=null)}function u7(n){if(n.propertyName==="value"&&jE(Iw)){var e=[];l7(e,Iw,n,o4(n)),$8(FX,e)}}function UX(n,e,t){n==="focusin"?(E6(),rw=e,Iw=t,rw.attachEvent("onpropertychange",u7)):n==="focusout"&&E6()}function VX(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return jE(Iw)}function zX(n,e){if(n==="click")return jE(e)}function $X(n,e){if(n==="input"||n==="change")return jE(e)}function HX(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var $l=typeof Object.is=="function"?Object.is:HX;function Pw(n,e){if($l(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!dT.call(e,i)||!$l(n[i],e[i]))return!1}return!0}function S6(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function C6(n,e){var t=S6(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=S6(t)}}function d7(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?d7(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function h7(){for(var n=window,e=nA();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=nA(n.document)}return e}function m4(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function qX(n){var e=h7(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&d7(t.ownerDocument.documentElement,t)){if(r!==null&&m4(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=C6(t,s);var o=C6(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var WX=wd&&"documentMode"in document&&11>=document.documentMode,r0=null,IT=null,iw=null,PT=!1;function N6(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;PT||r0==null||r0!==nA(r)||(r=r0,"selectionStart"in r&&m4(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iw&&Pw(iw,r)||(iw=r,r=cA(IT,"onSelect"),0<r.length&&(e=new h4("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=r0)))}function Jx(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var i0={animationend:Jx("Animation","AnimationEnd"),animationiteration:Jx("Animation","AnimationIteration"),animationstart:Jx("Animation","AnimationStart"),transitionend:Jx("Transition","TransitionEnd")},LC={},f7={};wd&&(f7=document.createElement("div").style,"AnimationEvent"in window||(delete i0.animationend.animation,delete i0.animationiteration.animation,delete i0.animationstart.animation),"TransitionEvent"in window||delete i0.transitionend.transition);function OE(n){if(LC[n])return LC[n];if(!i0[n])return n;var e=i0[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in f7)return LC[n]=e[t];return n}var p7=OE("animationend"),m7=OE("animationiteration"),g7=OE("animationstart"),v7=OE("transitionend"),y7=new Map,T6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jf(n,e){y7.set(n,e),lg(e,[n])}for(var DC=0;DC<T6.length;DC++){var MC=T6[DC],GX=MC.toLowerCase(),KX=MC[0].toUpperCase()+MC.slice(1);jf(GX,"on"+KX)}jf(p7,"onAnimationEnd");jf(m7,"onAnimationIteration");jf(g7,"onAnimationStart");jf("dblclick","onDoubleClick");jf("focusin","onFocus");jf("focusout","onBlur");jf(v7,"onTransitionEnd");Hv("onMouseEnter",["mouseout","mouseover"]);Hv("onMouseLeave",["mouseout","mouseover"]);Hv("onPointerEnter",["pointerout","pointerover"]);Hv("onPointerLeave",["pointerout","pointerover"]);lg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lg("onBeforeInput",["compositionend","keypress","textInput","paste"]);lg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ty="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YX=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ty));function k6(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,GY(r,e,void 0,n),n.currentTarget=null}function w7(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;k6(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;k6(i,a,c),s=l}}}if(iA)throw n=CT,iA=!1,CT=null,n}function dr(n,e){var t=e[jT];t===void 0&&(t=e[jT]=new Set);var r=n+"__bubble";t.has(r)||(b7(e,n,2,!1),t.add(r))}function jC(n,e,t){var r=0;e&&(r|=4),b7(t,n,r,e)}var Zx="_reactListening"+Math.random().toString(36).slice(2);function Rw(n){if(!n[Zx]){n[Zx]=!0,N8.forEach(function(t){t!=="selectionchange"&&(YX.has(t)||jC(t,!1,n),jC(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Zx]||(e[Zx]=!0,jC("selectionchange",!1,e))}}function b7(n,e,t,r){switch(r7(e)){case 1:var i=cX;break;case 4:i=uX;break;default:i=u4}t=i.bind(null,e,t,n),i=void 0,!ST||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function OC(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xp(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}$8(function(){var c=s,u=o4(t),h=[];e:{var p=y7.get(n);if(p!==void 0){var f=h4,b=n;switch(n){case"keypress":if(K_(t)===0)break e;case"keydown":case"keyup":f=SX;break;case"focusin":b="focus",f=IC;break;case"focusout":b="blur",f=IC;break;case"beforeblur":case"afterblur":f=IC;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=v6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=fX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=TX;break;case p7:case m7:case g7:f=gX;break;case v7:f=IX;break;case"scroll":f=dX;break;case"wheel":f=RX;break;case"copy":case"cut":case"paste":f=yX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=w6}var y=(e&4)!==0,_=!y&&n==="scroll",w=y?p!==null?p+"Capture":null:p;y=[];for(var A=c,E;A!==null;){E=A;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,w!==null&&(C=Cw(A,w),C!=null&&y.push(Lw(A,C,E)))),_)break;A=A.return}0<y.length&&(p=new f(p,b,null,t,u),h.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",p&&t!==AT&&(b=t.relatedTarget||t.fromElement)&&(xp(b)||b[bd]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(b=t.relatedTarget||t.toElement,f=c,b=b?xp(b):null,b!==null&&(_=cg(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(f=null,b=c),f!==b)){if(y=v6,C="onMouseLeave",w="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(y=w6,C="onPointerLeave",w="onPointerEnter",A="pointer"),_=f==null?p:s0(f),E=b==null?p:s0(b),p=new y(C,A+"leave",f,t,u),p.target=_,p.relatedTarget=E,C=null,xp(u)===c&&(y=new y(w,A+"enter",b,t,u),y.target=E,y.relatedTarget=_,C=y),_=C,f&&b)t:{for(y=f,w=b,A=0,E=y;E;E=Lg(E))A++;for(E=0,C=w;C;C=Lg(C))E++;for(;0<A-E;)y=Lg(y),A--;for(;0<E-A;)w=Lg(w),E--;for(;A--;){if(y===w||w!==null&&y===w.alternate)break t;y=Lg(y),w=Lg(w)}y=null}else y=null;f!==null&&I6(h,p,f,y,!1),b!==null&&_!==null&&I6(h,_,b,y,!0)}}e:{if(p=c?s0(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var F=BX;else if(_6(p))if(c7)F=$X;else{F=VX;var V=UX}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(F=zX);if(F&&(F=F(n,c))){l7(h,F,t,u);break e}V&&V(n,p,c),n==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&yT(p,"number",p.value)}switch(V=c?s0(c):window,n){case"focusin":(_6(V)||V.contentEditable==="true")&&(r0=V,IT=c,iw=null);break;case"focusout":iw=IT=r0=null;break;case"mousedown":PT=!0;break;case"contextmenu":case"mouseup":case"dragend":PT=!1,N6(h,t,u);break;case"selectionchange":if(WX)break;case"keydown":case"keyup":N6(h,t,u)}var L;if(p4)e:{switch(n){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else n0?o7(n,t)&&(N="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(N="onCompositionStart");N&&(s7&&t.locale!=="ko"&&(n0||N!=="onCompositionStart"?N==="onCompositionEnd"&&n0&&(L=i7()):(ef=u,d4="value"in ef?ef.value:ef.textContent,n0=!0)),V=cA(c,N),0<V.length&&(N=new y6(N,n,null,t,u),h.push({event:N,listeners:V}),L?N.data=L:(L=a7(t),L!==null&&(N.data=L)))),(L=DX?MX(n,t):jX(n,t))&&(c=cA(c,"onBeforeInput"),0<c.length&&(u=new y6("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=L))}w7(h,e)})}function Lw(n,e,t){return{instance:n,listener:e,currentTarget:t}}function cA(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cw(n,t),s!=null&&r.unshift(Lw(n,s,i)),s=Cw(n,e),s!=null&&r.push(Lw(n,s,i))),n=n.return}return r}function Lg(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function I6(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Cw(t,s),l!=null&&o.unshift(Lw(t,l,a))):i||(l=Cw(t,s),l!=null&&o.push(Lw(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var XX=/\r\n?/g,QX=/\u0000|\uFFFD/g;function P6(n){return(typeof n=="string"?n:""+n).replace(XX,`
`).replace(QX,"")}function e_(n,e,t){if(e=P6(e),P6(n)!==e&&t)throw Error(He(425))}function uA(){}var RT=null,LT=null;function DT(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var MT=typeof setTimeout=="function"?setTimeout:void 0,JX=typeof clearTimeout=="function"?clearTimeout:void 0,R6=typeof Promise=="function"?Promise:void 0,ZX=typeof queueMicrotask=="function"?queueMicrotask:typeof R6<"u"?function(n){return R6.resolve(null).then(n).catch(eQ)}:MT;function eQ(n){setTimeout(function(){throw n})}function FC(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),kw(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);kw(e)}function hf(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function L6(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var b1=Math.random().toString(36).slice(2),Oc="__reactFiber$"+b1,Dw="__reactProps$"+b1,bd="__reactContainer$"+b1,jT="__reactEvents$"+b1,tQ="__reactListeners$"+b1,nQ="__reactHandles$"+b1;function xp(n){var e=n[Oc];if(e)return e;for(var t=n.parentNode;t;){if(e=t[bd]||t[Oc]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=L6(n);n!==null;){if(t=n[Oc])return t;n=L6(n)}return e}n=t,t=n.parentNode}return null}function $2(n){return n=n[Oc]||n[bd],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function s0(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(He(33))}function FE(n){return n[Dw]||null}var OT=[],o0=-1;function Of(n){return{current:n}}function mr(n){0>o0||(n.current=OT[o0],OT[o0]=null,o0--)}function lr(n,e){o0++,OT[o0]=n.current,n.current=e}var Sf={},Ds=Of(Sf),Co=Of(!1),Om=Sf;function qv(n,e){var t=n.type.contextTypes;if(!t)return Sf;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function No(n){return n=n.childContextTypes,n!=null}function dA(){mr(Co),mr(Ds)}function D6(n,e,t){if(Ds.current!==Sf)throw Error(He(168));lr(Ds,e),lr(Co,t)}function x7(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(He(108,UY(n)||"Unknown",i));return Dr({},t,r)}function hA(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Sf,Om=Ds.current,lr(Ds,n),lr(Co,Co.current),!0}function M6(n,e,t){var r=n.stateNode;if(!r)throw Error(He(169));t?(n=x7(n,e,Om),r.__reactInternalMemoizedMergedChildContext=n,mr(Co),mr(Ds),lr(Ds,n)):mr(Co),lr(Co,t)}var Pu=null,BE=!1,BC=!1;function _7(n){Pu===null?Pu=[n]:Pu.push(n)}function rQ(n){BE=!0,_7(n)}function Ff(){if(!BC&&Pu!==null){BC=!0;var n=0,e=Hn;try{var t=Pu;for(Hn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Pu=null,BE=!1}catch(i){throw Pu!==null&&(Pu=Pu.slice(n+1)),G8(a4,Ff),i}finally{Hn=e,BC=!1}}return null}var a0=[],l0=0,fA=null,pA=0,Va=[],za=0,Fm=null,ad=1,ld="";function ap(n,e){a0[l0++]=pA,a0[l0++]=fA,fA=n,pA=e}function A7(n,e,t){Va[za++]=ad,Va[za++]=ld,Va[za++]=Fm,Fm=n;var r=ad;n=ld;var i=32-Ul(r)-1;r&=~(1<<i),t+=1;var s=32-Ul(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ad=1<<32-Ul(e)+i|t<<i|r,ld=s+n}else ad=1<<s|t<<i|r,ld=n}function g4(n){n.return!==null&&(ap(n,1),A7(n,1,0))}function v4(n){for(;n===fA;)fA=a0[--l0],a0[l0]=null,pA=a0[--l0],a0[l0]=null;for(;n===Fm;)Fm=Va[--za],Va[za]=null,ld=Va[--za],Va[za]=null,ad=Va[--za],Va[za]=null}var fa=null,la=null,_r=!1,Ol=null;function E7(n,e){var t=Ka(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function j6(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,fa=n,la=hf(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,fa=n,la=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Fm!==null?{id:ad,overflow:ld}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ka(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,fa=n,la=null,!0):!1;default:return!1}}function FT(n){return(n.mode&1)!==0&&(n.flags&128)===0}function BT(n){if(_r){var e=la;if(e){var t=e;if(!j6(n,e)){if(FT(n))throw Error(He(418));e=hf(t.nextSibling);var r=fa;e&&j6(n,e)?E7(r,t):(n.flags=n.flags&-4097|2,_r=!1,fa=n)}}else{if(FT(n))throw Error(He(418));n.flags=n.flags&-4097|2,_r=!1,fa=n}}}function O6(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;fa=n}function t_(n){if(n!==fa)return!1;if(!_r)return O6(n),_r=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!DT(n.type,n.memoizedProps)),e&&(e=la)){if(FT(n))throw S7(),Error(He(418));for(;e;)E7(n,e),e=hf(e.nextSibling)}if(O6(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(He(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){la=hf(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}la=null}}else la=fa?hf(n.stateNode.nextSibling):null;return!0}function S7(){for(var n=la;n;)n=hf(n.nextSibling)}function Wv(){la=fa=null,_r=!1}function y4(n){Ol===null?Ol=[n]:Ol.push(n)}var iQ=Ld.ReactCurrentBatchConfig;function uy(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(He(309));var r=t.stateNode}if(!r)throw Error(He(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(He(284));if(!t._owner)throw Error(He(290,n))}return n}function n_(n,e){throw n=Object.prototype.toString.call(e),Error(He(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function F6(n){var e=n._init;return e(n._payload)}function C7(n){function e(w,A){if(n){var E=w.deletions;E===null?(w.deletions=[A],w.flags|=16):E.push(A)}}function t(w,A){if(!n)return null;for(;A!==null;)e(w,A),A=A.sibling;return null}function r(w,A){for(w=new Map;A!==null;)A.key!==null?w.set(A.key,A):w.set(A.index,A),A=A.sibling;return w}function i(w,A){return w=gf(w,A),w.index=0,w.sibling=null,w}function s(w,A,E){return w.index=E,n?(E=w.alternate,E!==null?(E=E.index,E<A?(w.flags|=2,A):E):(w.flags|=2,A)):(w.flags|=1048576,A)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,A,E,C){return A===null||A.tag!==6?(A=WC(E,w.mode,C),A.return=w,A):(A=i(A,E),A.return=w,A)}function l(w,A,E,C){var F=E.type;return F===t0?u(w,A,E.props.children,C,E.key):A!==null&&(A.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===fh&&F6(F)===A.type)?(C=i(A,E.props),C.ref=uy(w,A,E),C.return=w,C):(C=t5(E.type,E.key,E.props,null,w.mode,C),C.ref=uy(w,A,E),C.return=w,C)}function c(w,A,E,C){return A===null||A.tag!==4||A.stateNode.containerInfo!==E.containerInfo||A.stateNode.implementation!==E.implementation?(A=GC(E,w.mode,C),A.return=w,A):(A=i(A,E.children||[]),A.return=w,A)}function u(w,A,E,C,F){return A===null||A.tag!==7?(A=Lm(E,w.mode,C,F),A.return=w,A):(A=i(A,E),A.return=w,A)}function h(w,A,E){if(typeof A=="string"&&A!==""||typeof A=="number")return A=WC(""+A,w.mode,E),A.return=w,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case qx:return E=t5(A.type,A.key,A.props,null,w.mode,E),E.ref=uy(w,null,A),E.return=w,E;case e0:return A=GC(A,w.mode,E),A.return=w,A;case fh:var C=A._init;return h(w,C(A._payload),E)}if(Cy(A)||sy(A))return A=Lm(A,w.mode,E,null),A.return=w,A;n_(w,A)}return null}function p(w,A,E,C){var F=A!==null?A.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return F!==null?null:a(w,A,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case qx:return E.key===F?l(w,A,E,C):null;case e0:return E.key===F?c(w,A,E,C):null;case fh:return F=E._init,p(w,A,F(E._payload),C)}if(Cy(E)||sy(E))return F!==null?null:u(w,A,E,C,null);n_(w,E)}return null}function f(w,A,E,C,F){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(E)||null,a(A,w,""+C,F);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case qx:return w=w.get(C.key===null?E:C.key)||null,l(A,w,C,F);case e0:return w=w.get(C.key===null?E:C.key)||null,c(A,w,C,F);case fh:var V=C._init;return f(w,A,E,V(C._payload),F)}if(Cy(C)||sy(C))return w=w.get(E)||null,u(A,w,C,F,null);n_(A,C)}return null}function b(w,A,E,C){for(var F=null,V=null,L=A,N=A=0,I=null;L!==null&&N<E.length;N++){L.index>N?(I=L,L=null):I=L.sibling;var j=p(w,L,E[N],C);if(j===null){L===null&&(L=I);break}n&&L&&j.alternate===null&&e(w,L),A=s(j,A,N),V===null?F=j:V.sibling=j,V=j,L=I}if(N===E.length)return t(w,L),_r&&ap(w,N),F;if(L===null){for(;N<E.length;N++)L=h(w,E[N],C),L!==null&&(A=s(L,A,N),V===null?F=L:V.sibling=L,V=L);return _r&&ap(w,N),F}for(L=r(w,L);N<E.length;N++)I=f(L,w,N,E[N],C),I!==null&&(n&&I.alternate!==null&&L.delete(I.key===null?N:I.key),A=s(I,A,N),V===null?F=I:V.sibling=I,V=I);return n&&L.forEach(function(k){return e(w,k)}),_r&&ap(w,N),F}function y(w,A,E,C){var F=sy(E);if(typeof F!="function")throw Error(He(150));if(E=F.call(E),E==null)throw Error(He(151));for(var V=F=null,L=A,N=A=0,I=null,j=E.next();L!==null&&!j.done;N++,j=E.next()){L.index>N?(I=L,L=null):I=L.sibling;var k=p(w,L,j.value,C);if(k===null){L===null&&(L=I);break}n&&L&&k.alternate===null&&e(w,L),A=s(k,A,N),V===null?F=k:V.sibling=k,V=k,L=I}if(j.done)return t(w,L),_r&&ap(w,N),F;if(L===null){for(;!j.done;N++,j=E.next())j=h(w,j.value,C),j!==null&&(A=s(j,A,N),V===null?F=j:V.sibling=j,V=j);return _r&&ap(w,N),F}for(L=r(w,L);!j.done;N++,j=E.next())j=f(L,w,N,j.value,C),j!==null&&(n&&j.alternate!==null&&L.delete(j.key===null?N:j.key),A=s(j,A,N),V===null?F=j:V.sibling=j,V=j);return n&&L.forEach(function(M){return e(w,M)}),_r&&ap(w,N),F}function _(w,A,E,C){if(typeof E=="object"&&E!==null&&E.type===t0&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case qx:e:{for(var F=E.key,V=A;V!==null;){if(V.key===F){if(F=E.type,F===t0){if(V.tag===7){t(w,V.sibling),A=i(V,E.props.children),A.return=w,w=A;break e}}else if(V.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===fh&&F6(F)===V.type){t(w,V.sibling),A=i(V,E.props),A.ref=uy(w,V,E),A.return=w,w=A;break e}t(w,V);break}else e(w,V);V=V.sibling}E.type===t0?(A=Lm(E.props.children,w.mode,C,E.key),A.return=w,w=A):(C=t5(E.type,E.key,E.props,null,w.mode,C),C.ref=uy(w,A,E),C.return=w,w=C)}return o(w);case e0:e:{for(V=E.key;A!==null;){if(A.key===V)if(A.tag===4&&A.stateNode.containerInfo===E.containerInfo&&A.stateNode.implementation===E.implementation){t(w,A.sibling),A=i(A,E.children||[]),A.return=w,w=A;break e}else{t(w,A);break}else e(w,A);A=A.sibling}A=GC(E,w.mode,C),A.return=w,w=A}return o(w);case fh:return V=E._init,_(w,A,V(E._payload),C)}if(Cy(E))return b(w,A,E,C);if(sy(E))return y(w,A,E,C);n_(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,A!==null&&A.tag===6?(t(w,A.sibling),A=i(A,E),A.return=w,w=A):(t(w,A),A=WC(E,w.mode,C),A.return=w,w=A),o(w)):t(w,A)}return _}var Gv=C7(!0),N7=C7(!1),mA=Of(null),gA=null,c0=null,w4=null;function b4(){w4=c0=gA=null}function x4(n){var e=mA.current;mr(mA),n._currentValue=e}function UT(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function w0(n,e){gA=n,w4=c0=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ao=!0),n.firstContext=null)}function Ja(n){var e=n._currentValue;if(w4!==n)if(n={context:n,memoizedValue:e,next:null},c0===null){if(gA===null)throw Error(He(308));c0=n,gA.dependencies={lanes:0,firstContext:n}}else c0=c0.next=n;return e}var _p=null;function _4(n){_p===null?_p=[n]:_p.push(n)}function T7(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,_4(e)):(t.next=i.next,i.next=t),e.interleaved=t,xd(n,r)}function xd(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ph=!1;function A4(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k7(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function dd(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ff(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Sn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xd(n,t)}return i=r.interleaved,i===null?(e.next=e,_4(r)):(e.next=i.next,i.next=e),r.interleaved=e,xd(n,t)}function Y_(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,l4(n,t)}}function B6(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function vA(n,e,t,r){var i=n.updateQueue;ph=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,f=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=n,y=a;switch(p=e,f=t,y.tag){case 1:if(b=y.payload,typeof b=="function"){h=b.call(f,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,p=typeof b=="function"?b.call(f,h,p):b,p==null)break e;h=Dr({},h,p);break e;case 2:ph=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Um|=o,n.lanes=o,n.memoizedState=h}}function U6(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(He(191,i));i.call(r)}}}var H2={},qc=Of(H2),Mw=Of(H2),jw=Of(H2);function Ap(n){if(n===H2)throw Error(He(174));return n}function E4(n,e){switch(lr(jw,e),lr(Mw,n),lr(qc,H2),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bT(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=bT(e,n)}mr(qc),lr(qc,e)}function Kv(){mr(qc),mr(Mw),mr(jw)}function I7(n){Ap(jw.current);var e=Ap(qc.current),t=bT(e,n.type);e!==t&&(lr(Mw,n),lr(qc,t))}function S4(n){Mw.current===n&&(mr(qc),mr(Mw))}var Rr=Of(0);function yA(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var UC=[];function C4(){for(var n=0;n<UC.length;n++)UC[n]._workInProgressVersionPrimary=null;UC.length=0}var X_=Ld.ReactCurrentDispatcher,VC=Ld.ReactCurrentBatchConfig,Bm=0,Lr=null,Ai=null,Ui=null,wA=!1,sw=!1,Ow=0,sQ=0;function fs(){throw Error(He(321))}function N4(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!$l(n[t],e[t]))return!1;return!0}function T4(n,e,t,r,i,s){if(Bm=s,Lr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,X_.current=n===null||n.memoizedState===null?cQ:uQ,n=t(r,i),sw){s=0;do{if(sw=!1,Ow=0,25<=s)throw Error(He(301));s+=1,Ui=Ai=null,e.updateQueue=null,X_.current=dQ,n=t(r,i)}while(sw)}if(X_.current=bA,e=Ai!==null&&Ai.next!==null,Bm=0,Ui=Ai=Lr=null,wA=!1,e)throw Error(He(300));return n}function k4(){var n=Ow!==0;return Ow=0,n}function fc(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ui===null?Lr.memoizedState=Ui=n:Ui=Ui.next=n,Ui}function Za(){if(Ai===null){var n=Lr.alternate;n=n!==null?n.memoizedState:null}else n=Ai.next;var e=Ui===null?Lr.memoizedState:Ui.next;if(e!==null)Ui=e,Ai=n;else{if(n===null)throw Error(He(310));Ai=n,n={memoizedState:Ai.memoizedState,baseState:Ai.baseState,baseQueue:Ai.baseQueue,queue:Ai.queue,next:null},Ui===null?Lr.memoizedState=Ui=n:Ui=Ui.next=n}return Ui}function Fw(n,e){return typeof e=="function"?e(n):e}function zC(n){var e=Za(),t=e.queue;if(t===null)throw Error(He(311));t.lastRenderedReducer=n;var r=Ai,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Bm&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Lr.lanes|=u,Um|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,$l(r,e.memoizedState)||(Ao=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Lr.lanes|=s,Um|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function $C(n){var e=Za(),t=e.queue;if(t===null)throw Error(He(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);$l(s,e.memoizedState)||(Ao=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function P7(){}function R7(n,e){var t=Lr,r=Za(),i=e(),s=!$l(r.memoizedState,i);if(s&&(r.memoizedState=i,Ao=!0),r=r.queue,I4(M7.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Ui!==null&&Ui.memoizedState.tag&1){if(t.flags|=2048,Bw(9,D7.bind(null,t,r,i,e),void 0,null),zi===null)throw Error(He(349));Bm&30||L7(t,e,i)}return i}function L7(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Lr.updateQueue,e===null?(e={lastEffect:null,stores:null},Lr.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function D7(n,e,t,r){e.value=t,e.getSnapshot=r,j7(e)&&O7(n)}function M7(n,e,t){return t(function(){j7(e)&&O7(n)})}function j7(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!$l(n,t)}catch{return!0}}function O7(n){var e=xd(n,1);e!==null&&Vl(e,n,1,-1)}function V6(n){var e=fc();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fw,lastRenderedState:n},e.queue=n,n=n.dispatch=lQ.bind(null,Lr,n),[e.memoizedState,n]}function Bw(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Lr.updateQueue,e===null?(e={lastEffect:null,stores:null},Lr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function F7(){return Za().memoizedState}function Q_(n,e,t,r){var i=fc();Lr.flags|=n,i.memoizedState=Bw(1|e,t,void 0,r===void 0?null:r)}function UE(n,e,t,r){var i=Za();r=r===void 0?null:r;var s=void 0;if(Ai!==null){var o=Ai.memoizedState;if(s=o.destroy,r!==null&&N4(r,o.deps)){i.memoizedState=Bw(e,t,s,r);return}}Lr.flags|=n,i.memoizedState=Bw(1|e,t,s,r)}function z6(n,e){return Q_(8390656,8,n,e)}function I4(n,e){return UE(2048,8,n,e)}function B7(n,e){return UE(4,2,n,e)}function U7(n,e){return UE(4,4,n,e)}function V7(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function z7(n,e,t){return t=t!=null?t.concat([n]):null,UE(4,4,V7.bind(null,e,n),t)}function P4(){}function $7(n,e){var t=Za();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&N4(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function H7(n,e){var t=Za();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&N4(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function q7(n,e,t){return Bm&21?($l(t,e)||(t=X8(),Lr.lanes|=t,Um|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ao=!0),n.memoizedState=t)}function oQ(n,e){var t=Hn;Hn=t!==0&&4>t?t:4,n(!0);var r=VC.transition;VC.transition={};try{n(!1),e()}finally{Hn=t,VC.transition=r}}function W7(){return Za().memoizedState}function aQ(n,e,t){var r=mf(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},G7(n))K7(e,t);else if(t=T7(n,e,t,r),t!==null){var i=Xs();Vl(t,n,r,i),Y7(t,e,r)}}function lQ(n,e,t){var r=mf(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(G7(n))K7(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,$l(a,o)){var l=e.interleaved;l===null?(i.next=i,_4(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=T7(n,e,i,r),t!==null&&(i=Xs(),Vl(t,n,r,i),Y7(t,e,r))}}function G7(n){var e=n.alternate;return n===Lr||e!==null&&e===Lr}function K7(n,e){sw=wA=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Y7(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,l4(n,t)}}var bA={readContext:Ja,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},cQ={readContext:Ja,useCallback:function(n,e){return fc().memoizedState=[n,e===void 0?null:e],n},useContext:Ja,useEffect:z6,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Q_(4194308,4,V7.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Q_(4194308,4,n,e)},useInsertionEffect:function(n,e){return Q_(4,2,n,e)},useMemo:function(n,e){var t=fc();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=fc();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=aQ.bind(null,Lr,n),[r.memoizedState,n]},useRef:function(n){var e=fc();return n={current:n},e.memoizedState=n},useState:V6,useDebugValue:P4,useDeferredValue:function(n){return fc().memoizedState=n},useTransition:function(){var n=V6(!1),e=n[0];return n=oQ.bind(null,n[1]),fc().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Lr,i=fc();if(_r){if(t===void 0)throw Error(He(407));t=t()}else{if(t=e(),zi===null)throw Error(He(349));Bm&30||L7(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,z6(M7.bind(null,r,s,n),[n]),r.flags|=2048,Bw(9,D7.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=fc(),e=zi.identifierPrefix;if(_r){var t=ld,r=ad;t=(r&~(1<<32-Ul(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Ow++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=sQ++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},uQ={readContext:Ja,useCallback:$7,useContext:Ja,useEffect:I4,useImperativeHandle:z7,useInsertionEffect:B7,useLayoutEffect:U7,useMemo:H7,useReducer:zC,useRef:F7,useState:function(){return zC(Fw)},useDebugValue:P4,useDeferredValue:function(n){var e=Za();return q7(e,Ai.memoizedState,n)},useTransition:function(){var n=zC(Fw)[0],e=Za().memoizedState;return[n,e]},useMutableSource:P7,useSyncExternalStore:R7,useId:W7,unstable_isNewReconciler:!1},dQ={readContext:Ja,useCallback:$7,useContext:Ja,useEffect:I4,useImperativeHandle:z7,useInsertionEffect:B7,useLayoutEffect:U7,useMemo:H7,useReducer:$C,useRef:F7,useState:function(){return $C(Fw)},useDebugValue:P4,useDeferredValue:function(n){var e=Za();return Ai===null?e.memoizedState=n:q7(e,Ai.memoizedState,n)},useTransition:function(){var n=$C(Fw)[0],e=Za().memoizedState;return[n,e]},useMutableSource:P7,useSyncExternalStore:R7,useId:W7,unstable_isNewReconciler:!1};function vl(n,e){if(n&&n.defaultProps){e=Dr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function VT(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Dr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var VE={isMounted:function(n){return(n=n._reactInternals)?cg(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Xs(),i=mf(n),s=dd(r,i);s.payload=e,t!=null&&(s.callback=t),e=ff(n,s,i),e!==null&&(Vl(e,n,i,r),Y_(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Xs(),i=mf(n),s=dd(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ff(n,s,i),e!==null&&(Vl(e,n,i,r),Y_(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Xs(),r=mf(n),i=dd(t,r);i.tag=2,e!=null&&(i.callback=e),e=ff(n,i,r),e!==null&&(Vl(e,n,r,t),Y_(e,n,r))}};function $6(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pw(t,r)||!Pw(i,s):!0}function X7(n,e,t){var r=!1,i=Sf,s=e.contextType;return typeof s=="object"&&s!==null?s=Ja(s):(i=No(e)?Om:Ds.current,r=e.contextTypes,s=(r=r!=null)?qv(n,i):Sf),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=VE,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function H6(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&VE.enqueueReplaceState(e,e.state,null)}function zT(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},A4(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ja(s):(s=No(e)?Om:Ds.current,i.context=qv(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(VT(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&VE.enqueueReplaceState(i,i.state,null),vA(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Yv(n,e){try{var t="",r=e;do t+=BY(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function HC(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function $T(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var hQ=typeof WeakMap=="function"?WeakMap:Map;function Q7(n,e,t){t=dd(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){_A||(_A=!0,ZT=r),$T(n,e)},t}function J7(n,e,t){t=dd(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){$T(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){$T(n,e),typeof r!="function"&&(pf===null?pf=new Set([this]):pf.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function q6(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new hQ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=CQ.bind(null,n,e,t),e.then(n,n))}function W6(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function G6(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=dd(-1,1),e.tag=2,ff(t,e,1))),t.lanes|=1),n)}var fQ=Ld.ReactCurrentOwner,Ao=!1;function qs(n,e,t,r){e.child=n===null?N7(e,null,t,r):Gv(e,n.child,t,r)}function K6(n,e,t,r,i){t=t.render;var s=e.ref;return w0(e,i),r=T4(n,e,t,r,s,i),t=k4(),n!==null&&!Ao?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,_d(n,e,i)):(_r&&t&&g4(e),e.flags|=1,qs(n,e,r,i),e.child)}function Y6(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!B4(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,Z7(n,e,s,r,i)):(n=t5(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Pw,t(o,r)&&n.ref===e.ref)return _d(n,e,i)}return e.flags|=1,n=gf(s,r),n.ref=e.ref,n.return=e,e.child=n}function Z7(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Pw(s,r)&&n.ref===e.ref)if(Ao=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Ao=!0);else return e.lanes=n.lanes,_d(n,e,i)}return HT(n,e,t,r,i)}function e9(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lr(d0,sa),sa|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,lr(d0,sa),sa|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,lr(d0,sa),sa|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,lr(d0,sa),sa|=r;return qs(n,e,i,t),e.child}function t9(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function HT(n,e,t,r,i){var s=No(t)?Om:Ds.current;return s=qv(e,s),w0(e,i),t=T4(n,e,t,r,s,i),r=k4(),n!==null&&!Ao?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,_d(n,e,i)):(_r&&r&&g4(e),e.flags|=1,qs(n,e,t,i),e.child)}function X6(n,e,t,r,i){if(No(t)){var s=!0;hA(e)}else s=!1;if(w0(e,i),e.stateNode===null)J_(n,e),X7(e,t,r),zT(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ja(c):(c=No(t)?Om:Ds.current,c=qv(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&H6(e,o,r,c),ph=!1;var p=e.memoizedState;o.state=p,vA(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Co.current||ph?(typeof u=="function"&&(VT(e,t,u,r),l=e.memoizedState),(a=ph||$6(e,t,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,k7(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:vl(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ja(l):(l=No(t)?Om:Ds.current,l=qv(e,l));var f=t.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&H6(e,o,r,l),ph=!1,p=e.memoizedState,o.state=p,vA(e,r,o,i);var b=e.memoizedState;a!==h||p!==b||Co.current||ph?(typeof f=="function"&&(VT(e,t,f,r),b=e.memoizedState),(c=ph||$6(e,t,c,r,p,b,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return qT(n,e,t,r,s,i)}function qT(n,e,t,r,i,s){t9(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&M6(e,t,!1),_d(n,e,s);r=e.stateNode,fQ.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Gv(e,n.child,null,s),e.child=Gv(e,null,a,s)):qs(n,e,a,s),e.memoizedState=r.state,i&&M6(e,t,!0),e.child}function n9(n){var e=n.stateNode;e.pendingContext?D6(n,e.pendingContext,e.pendingContext!==e.context):e.context&&D6(n,e.context,!1),E4(n,e.containerInfo)}function Q6(n,e,t,r,i){return Wv(),y4(i),e.flags|=256,qs(n,e,t,r),e.child}var WT={dehydrated:null,treeContext:null,retryLane:0};function GT(n){return{baseLanes:n,cachePool:null,transitions:null}}function r9(n,e,t){var r=e.pendingProps,i=Rr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),lr(Rr,i&1),n===null)return BT(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=HE(o,r,0,null),n=Lm(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=GT(t),e.memoizedState=WT,n):R4(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return pQ(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=gf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=gf(a,s):(s=Lm(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?GT(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=WT,r}return s=n.child,n=s.sibling,r=gf(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function R4(n,e){return e=HE({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function r_(n,e,t,r){return r!==null&&y4(r),Gv(e,n.child,null,t),n=R4(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function pQ(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=HC(Error(He(422))),r_(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=HE({mode:"visible",children:r.children},i,0,null),s=Lm(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Gv(e,n.child,null,o),e.child.memoizedState=GT(o),e.memoizedState=WT,s);if(!(e.mode&1))return r_(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(He(419)),r=HC(s,r,void 0),r_(n,e,o,r)}if(a=(o&n.childLanes)!==0,Ao||a){if(r=zi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xd(n,i),Vl(r,n,i,-1))}return F4(),r=HC(Error(He(421))),r_(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=NQ.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,la=hf(i.nextSibling),fa=e,_r=!0,Ol=null,n!==null&&(Va[za++]=ad,Va[za++]=ld,Va[za++]=Fm,ad=n.id,ld=n.overflow,Fm=e),e=R4(e,r.children),e.flags|=4096,e)}function J6(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),UT(n.return,e,t)}function qC(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function i9(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qs(n,e,r.children,t),r=Rr.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&J6(n,t,e);else if(n.tag===19)J6(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(lr(Rr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&yA(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),qC(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&yA(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}qC(e,!0,t,null,s);break;case"together":qC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function J_(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function _d(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Um|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(He(153));if(e.child!==null){for(n=e.child,t=gf(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=gf(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function mQ(n,e,t){switch(e.tag){case 3:n9(e),Wv();break;case 5:I7(e);break;case 1:No(e.type)&&hA(e);break;case 4:E4(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;lr(mA,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lr(Rr,Rr.current&1),e.flags|=128,null):t&e.child.childLanes?r9(n,e,t):(lr(Rr,Rr.current&1),n=_d(n,e,t),n!==null?n.sibling:null);lr(Rr,Rr.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return i9(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lr(Rr,Rr.current),r)break;return null;case 22:case 23:return e.lanes=0,e9(n,e,t)}return _d(n,e,t)}var s9,KT,o9,a9;s9=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};KT=function(){};o9=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Ap(qc.current);var s=null;switch(t){case"input":i=gT(n,i),r=gT(n,r),s=[];break;case"select":i=Dr({},i,{value:void 0}),r=Dr({},r,{value:void 0}),s=[];break;case"textarea":i=wT(n,i),r=wT(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=uA)}xT(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ew.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ew.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&dr("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};a9=function(n,e,t,r){t!==r&&(e.flags|=4)};function dy(n,e){if(!_r)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function ps(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function gQ(n,e,t){var r=e.pendingProps;switch(v4(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(e),null;case 1:return No(e.type)&&dA(),ps(e),null;case 3:return r=e.stateNode,Kv(),mr(Co),mr(Ds),C4(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(t_(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ol!==null&&(nk(Ol),Ol=null))),KT(n,e),ps(e),null;case 5:S4(e);var i=Ap(jw.current);if(t=e.type,n!==null&&e.stateNode!=null)o9(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(He(166));return ps(e),null}if(n=Ap(qc.current),t_(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Oc]=e,r[Dw]=s,n=(e.mode&1)!==0,t){case"dialog":dr("cancel",r),dr("close",r);break;case"iframe":case"object":case"embed":dr("load",r);break;case"video":case"audio":for(i=0;i<Ty.length;i++)dr(Ty[i],r);break;case"source":dr("error",r);break;case"img":case"image":case"link":dr("error",r),dr("load",r);break;case"details":dr("toggle",r);break;case"input":a6(r,s),dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},dr("invalid",r);break;case"textarea":c6(r,s),dr("invalid",r)}xT(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&e_(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&e_(r.textContent,a,n),i=["children",""+a]):Ew.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dr("scroll",r)}switch(t){case"input":Wx(r),l6(r,s,!0);break;case"textarea":Wx(r),u6(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uA)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=M8(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Oc]=e,n[Dw]=r,s9(n,e,!1,!1),e.stateNode=n;e:{switch(o=_T(t,r),t){case"dialog":dr("cancel",n),dr("close",n),i=r;break;case"iframe":case"object":case"embed":dr("load",n),i=r;break;case"video":case"audio":for(i=0;i<Ty.length;i++)dr(Ty[i],n);i=r;break;case"source":dr("error",n),i=r;break;case"img":case"image":case"link":dr("error",n),dr("load",n),i=r;break;case"details":dr("toggle",n),i=r;break;case"input":a6(n,r),i=gT(n,r),dr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Dr({},r,{value:void 0}),dr("invalid",n);break;case"textarea":c6(n,r),i=wT(n,r),dr("invalid",n);break;default:i=r}xT(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?F8(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j8(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Sw(n,l):typeof l=="number"&&Sw(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ew.hasOwnProperty(s)?l!=null&&s==="onScroll"&&dr("scroll",n):l!=null&&n4(n,s,l,o))}switch(t){case"input":Wx(n),l6(n,r,!1);break;case"textarea":Wx(n),u6(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Ef(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?m0(n,!!r.multiple,s,!1):r.defaultValue!=null&&m0(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=uA)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ps(e),null;case 6:if(n&&e.stateNode!=null)a9(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(He(166));if(t=Ap(jw.current),Ap(qc.current),t_(e)){if(r=e.stateNode,t=e.memoizedProps,r[Oc]=e,(s=r.nodeValue!==t)&&(n=fa,n!==null))switch(n.tag){case 3:e_(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&e_(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Oc]=e,e.stateNode=r}return ps(e),null;case 13:if(mr(Rr),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(_r&&la!==null&&e.mode&1&&!(e.flags&128))S7(),Wv(),e.flags|=98560,s=!1;else if(s=t_(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(He(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[Oc]=e}else Wv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ps(e),s=!1}else Ol!==null&&(nk(Ol),Ol=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Rr.current&1?Si===0&&(Si=3):F4())),e.updateQueue!==null&&(e.flags|=4),ps(e),null);case 4:return Kv(),KT(n,e),n===null&&Rw(e.stateNode.containerInfo),ps(e),null;case 10:return x4(e.type._context),ps(e),null;case 17:return No(e.type)&&dA(),ps(e),null;case 19:if(mr(Rr),s=e.memoizedState,s===null)return ps(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)dy(s,!1);else{if(Si!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=yA(n),o!==null){for(e.flags|=128,dy(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return lr(Rr,Rr.current&1|2),e.child}n=n.sibling}s.tail!==null&&Jr()>Xv&&(e.flags|=128,r=!0,dy(s,!1),e.lanes=4194304)}else{if(!r)if(n=yA(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),dy(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_r)return ps(e),null}else 2*Jr()-s.renderingStartTime>Xv&&t!==1073741824&&(e.flags|=128,r=!0,dy(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Jr(),e.sibling=null,t=Rr.current,lr(Rr,r?t&1|2:t&1),e):(ps(e),null);case 22:case 23:return O4(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sa&1073741824&&(ps(e),e.subtreeFlags&6&&(e.flags|=8192)):ps(e),null;case 24:return null;case 25:return null}throw Error(He(156,e.tag))}function vQ(n,e){switch(v4(e),e.tag){case 1:return No(e.type)&&dA(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Kv(),mr(Co),mr(Ds),C4(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return S4(e),null;case 13:if(mr(Rr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(He(340));Wv()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return mr(Rr),null;case 4:return Kv(),null;case 10:return x4(e.type._context),null;case 22:case 23:return O4(),null;case 24:return null;default:return null}}var i_=!1,Ts=!1,yQ=typeof WeakSet=="function"?WeakSet:Set,ct=null;function u0(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Hr(n,e,r)}else t.current=null}function YT(n,e,t){try{t()}catch(r){Hr(n,e,r)}}var Z6=!1;function wQ(n,e){if(RT=aA,n=h7(),m4(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,p=null;t:for(;;){for(var f;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(LT={focusedElem:n,selectionRange:t},aA=!1,ct=e;ct!==null;)if(e=ct,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ct=n;else for(;ct!==null;){e=ct;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,_=b.memoizedState,w=e.stateNode,A=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:vl(e.type,y),_);w.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(C){Hr(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,ct=n;break}ct=e.return}return b=Z6,Z6=!1,b}function ow(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&YT(e,t,s)}i=i.next}while(i!==r)}}function zE(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function XT(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function l9(n){var e=n.alternate;e!==null&&(n.alternate=null,l9(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Oc],delete e[Dw],delete e[jT],delete e[tQ],delete e[nQ])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function c9(n){return n.tag===5||n.tag===3||n.tag===4}function eD(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||c9(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function QT(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=uA));else if(r!==4&&(n=n.child,n!==null))for(QT(n,e,t),n=n.sibling;n!==null;)QT(n,e,t),n=n.sibling}function JT(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(JT(n,e,t),n=n.sibling;n!==null;)JT(n,e,t),n=n.sibling}var Zi=null,jl=!1;function rh(n,e,t){for(t=t.child;t!==null;)u9(n,e,t),t=t.sibling}function u9(n,e,t){if(Hc&&typeof Hc.onCommitFiberUnmount=="function")try{Hc.onCommitFiberUnmount(DE,t)}catch{}switch(t.tag){case 5:Ts||u0(t,e);case 6:var r=Zi,i=jl;Zi=null,rh(n,e,t),Zi=r,jl=i,Zi!==null&&(jl?(n=Zi,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Zi.removeChild(t.stateNode));break;case 18:Zi!==null&&(jl?(n=Zi,t=t.stateNode,n.nodeType===8?FC(n.parentNode,t):n.nodeType===1&&FC(n,t),kw(n)):FC(Zi,t.stateNode));break;case 4:r=Zi,i=jl,Zi=t.stateNode.containerInfo,jl=!0,rh(n,e,t),Zi=r,jl=i;break;case 0:case 11:case 14:case 15:if(!Ts&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&YT(t,e,o),i=i.next}while(i!==r)}rh(n,e,t);break;case 1:if(!Ts&&(u0(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Hr(t,e,a)}rh(n,e,t);break;case 21:rh(n,e,t);break;case 22:t.mode&1?(Ts=(r=Ts)||t.memoizedState!==null,rh(n,e,t),Ts=r):rh(n,e,t);break;default:rh(n,e,t)}}function tD(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new yQ),e.forEach(function(r){var i=TQ.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function fl(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Zi=a.stateNode,jl=!1;break e;case 3:Zi=a.stateNode.containerInfo,jl=!0;break e;case 4:Zi=a.stateNode.containerInfo,jl=!0;break e}a=a.return}if(Zi===null)throw Error(He(160));u9(s,o,i),Zi=null,jl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Hr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d9(e,n),e=e.sibling}function d9(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(fl(e,n),cc(n),r&4){try{ow(3,n,n.return),zE(3,n)}catch(y){Hr(n,n.return,y)}try{ow(5,n,n.return)}catch(y){Hr(n,n.return,y)}}break;case 1:fl(e,n),cc(n),r&512&&t!==null&&u0(t,t.return);break;case 5:if(fl(e,n),cc(n),r&512&&t!==null&&u0(t,t.return),n.flags&32){var i=n.stateNode;try{Sw(i,"")}catch(y){Hr(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&L8(i,s),_T(a,o);var c=_T(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?F8(i,h):u==="dangerouslySetInnerHTML"?j8(i,h):u==="children"?Sw(i,h):n4(i,u,h,c)}switch(a){case"input":vT(i,s);break;case"textarea":D8(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?m0(i,!!s.multiple,f,!1):p!==!!s.multiple&&(s.defaultValue!=null?m0(i,!!s.multiple,s.defaultValue,!0):m0(i,!!s.multiple,s.multiple?[]:"",!1))}i[Dw]=s}catch(y){Hr(n,n.return,y)}}break;case 6:if(fl(e,n),cc(n),r&4){if(n.stateNode===null)throw Error(He(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){Hr(n,n.return,y)}}break;case 3:if(fl(e,n),cc(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{kw(e.containerInfo)}catch(y){Hr(n,n.return,y)}break;case 4:fl(e,n),cc(n);break;case 13:fl(e,n),cc(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(M4=Jr())),r&4&&tD(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Ts=(c=Ts)||u,fl(e,n),Ts=c):fl(e,n),cc(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(ct=n,u=n.child;u!==null;){for(h=ct=u;ct!==null;){switch(p=ct,f=p.child,p.tag){case 0:case 11:case 14:case 15:ow(4,p,p.return);break;case 1:u0(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(y){Hr(r,t,y)}}break;case 5:u0(p,p.return);break;case 22:if(p.memoizedState!==null){rD(h);continue}}f!==null?(f.return=p,ct=f):rD(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=O8("display",o))}catch(y){Hr(n,n.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Hr(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(e,n),cc(n),r&4&&tD(n);break;case 21:break;default:fl(e,n),cc(n)}}function cc(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(c9(t)){var r=t;break e}t=t.return}throw Error(He(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sw(i,""),r.flags&=-33);var s=eD(n);JT(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=eD(n);QT(n,a,o);break;default:throw Error(He(161))}}catch(l){Hr(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function bQ(n,e,t){ct=n,h9(n)}function h9(n,e,t){for(var r=(n.mode&1)!==0;ct!==null;){var i=ct,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||i_;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ts;a=i_;var c=Ts;if(i_=o,(Ts=l)&&!c)for(ct=i;ct!==null;)o=ct,l=o.child,o.tag===22&&o.memoizedState!==null?iD(i):l!==null?(l.return=o,ct=l):iD(i);for(;s!==null;)ct=s,h9(s),s=s.sibling;ct=i,i_=a,Ts=c}nD(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ct=s):nD(n)}}function nD(n){for(;ct!==null;){var e=ct;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ts||zE(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ts)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:vl(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&U6(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}U6(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&kw(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}Ts||e.flags&512&&XT(e)}catch(p){Hr(e,e.return,p)}}if(e===n){ct=null;break}if(t=e.sibling,t!==null){t.return=e.return,ct=t;break}ct=e.return}}function rD(n){for(;ct!==null;){var e=ct;if(e===n){ct=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ct=t;break}ct=e.return}}function iD(n){for(;ct!==null;){var e=ct;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{zE(4,e)}catch(l){Hr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Hr(e,i,l)}}var s=e.return;try{XT(e)}catch(l){Hr(e,s,l)}break;case 5:var o=e.return;try{XT(e)}catch(l){Hr(e,o,l)}}}catch(l){Hr(e,e.return,l)}if(e===n){ct=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ct=a;break}ct=e.return}}var xQ=Math.ceil,xA=Ld.ReactCurrentDispatcher,L4=Ld.ReactCurrentOwner,Ya=Ld.ReactCurrentBatchConfig,Sn=0,zi=null,di=null,is=0,sa=0,d0=Of(0),Si=0,Uw=null,Um=0,$E=0,D4=0,aw=null,xo=null,M4=0,Xv=1/0,Tu=null,_A=!1,ZT=null,pf=null,s_=!1,tf=null,AA=0,lw=0,ek=null,Z_=-1,e5=0;function Xs(){return Sn&6?Jr():Z_!==-1?Z_:Z_=Jr()}function mf(n){return n.mode&1?Sn&2&&is!==0?is&-is:iQ.transition!==null?(e5===0&&(e5=X8()),e5):(n=Hn,n!==0||(n=window.event,n=n===void 0?16:r7(n.type)),n):1}function Vl(n,e,t,r){if(50<lw)throw lw=0,ek=null,Error(He(185));V2(n,t,r),(!(Sn&2)||n!==zi)&&(n===zi&&(!(Sn&2)&&($E|=t),Si===4&&gh(n,is)),To(n,r),t===1&&Sn===0&&!(e.mode&1)&&(Xv=Jr()+500,BE&&Ff()))}function To(n,e){var t=n.callbackNode;iX(n,e);var r=oA(n,n===zi?is:0);if(r===0)t!==null&&f6(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&f6(t),e===1)n.tag===0?rQ(sD.bind(null,n)):_7(sD.bind(null,n)),ZX(function(){!(Sn&6)&&Ff()}),t=null;else{switch(Q8(r)){case 1:t=a4;break;case 4:t=K8;break;case 16:t=sA;break;case 536870912:t=Y8;break;default:t=sA}t=b9(t,f9.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function f9(n,e){if(Z_=-1,e5=0,Sn&6)throw Error(He(327));var t=n.callbackNode;if(b0()&&n.callbackNode!==t)return null;var r=oA(n,n===zi?is:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=EA(n,r);else{e=r;var i=Sn;Sn|=2;var s=m9();(zi!==n||is!==e)&&(Tu=null,Xv=Jr()+500,Rm(n,e));do try{EQ();break}catch(a){p9(n,a)}while(!0);b4(),xA.current=s,Sn=i,di!==null?e=0:(zi=null,is=0,e=Si)}if(e!==0){if(e===2&&(i=NT(n),i!==0&&(r=i,e=tk(n,i))),e===1)throw t=Uw,Rm(n,0),gh(n,r),To(n,Jr()),t;if(e===6)gh(n,r);else{if(i=n.current.alternate,!(r&30)&&!_Q(i)&&(e=EA(n,r),e===2&&(s=NT(n),s!==0&&(r=s,e=tk(n,s))),e===1))throw t=Uw,Rm(n,0),gh(n,r),To(n,Jr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(He(345));case 2:lp(n,xo,Tu);break;case 3:if(gh(n,r),(r&130023424)===r&&(e=M4+500-Jr(),10<e)){if(oA(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Xs(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=MT(lp.bind(null,n,xo,Tu),e);break}lp(n,xo,Tu);break;case 4:if(gh(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Ul(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Jr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xQ(r/1960))-r,10<r){n.timeoutHandle=MT(lp.bind(null,n,xo,Tu),r);break}lp(n,xo,Tu);break;case 5:lp(n,xo,Tu);break;default:throw Error(He(329))}}}return To(n,Jr()),n.callbackNode===t?f9.bind(null,n):null}function tk(n,e){var t=aw;return n.current.memoizedState.isDehydrated&&(Rm(n,e).flags|=256),n=EA(n,e),n!==2&&(e=xo,xo=t,e!==null&&nk(e)),n}function nk(n){xo===null?xo=n:xo.push.apply(xo,n)}function _Q(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!$l(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gh(n,e){for(e&=~D4,e&=~$E,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ul(e),r=1<<t;n[t]=-1,e&=~r}}function sD(n){if(Sn&6)throw Error(He(327));b0();var e=oA(n,0);if(!(e&1))return To(n,Jr()),null;var t=EA(n,e);if(n.tag!==0&&t===2){var r=NT(n);r!==0&&(e=r,t=tk(n,r))}if(t===1)throw t=Uw,Rm(n,0),gh(n,e),To(n,Jr()),t;if(t===6)throw Error(He(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,lp(n,xo,Tu),To(n,Jr()),null}function j4(n,e){var t=Sn;Sn|=1;try{return n(e)}finally{Sn=t,Sn===0&&(Xv=Jr()+500,BE&&Ff())}}function Vm(n){tf!==null&&tf.tag===0&&!(Sn&6)&&b0();var e=Sn;Sn|=1;var t=Ya.transition,r=Hn;try{if(Ya.transition=null,Hn=1,n)return n()}finally{Hn=r,Ya.transition=t,Sn=e,!(Sn&6)&&Ff()}}function O4(){sa=d0.current,mr(d0)}function Rm(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,JX(t)),di!==null)for(t=di.return;t!==null;){var r=t;switch(v4(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dA();break;case 3:Kv(),mr(Co),mr(Ds),C4();break;case 5:S4(r);break;case 4:Kv();break;case 13:mr(Rr);break;case 19:mr(Rr);break;case 10:x4(r.type._context);break;case 22:case 23:O4()}t=t.return}if(zi=n,di=n=gf(n.current,null),is=sa=e,Si=0,Uw=null,D4=$E=Um=0,xo=aw=null,_p!==null){for(e=0;e<_p.length;e++)if(t=_p[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}_p=null}return n}function p9(n,e){do{var t=di;try{if(b4(),X_.current=bA,wA){for(var r=Lr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wA=!1}if(Bm=0,Ui=Ai=Lr=null,sw=!1,Ow=0,L4.current=null,t===null||t.return===null){Si=1,Uw=e,di=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=is,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=W6(o);if(f!==null){f.flags&=-257,G6(f,o,a,s,e),f.mode&1&&q6(s,c,e),e=f,l=c;var b=e.updateQueue;if(b===null){var y=new Set;y.add(l),e.updateQueue=y}else b.add(l);break e}else{if(!(e&1)){q6(s,c,e),F4();break e}l=Error(He(426))}}else if(_r&&a.mode&1){var _=W6(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),G6(_,o,a,s,e),y4(Yv(l,a));break e}}s=l=Yv(l,a),Si!==4&&(Si=2),aw===null?aw=[s]:aw.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=Q7(s,l,e);B6(s,w);break e;case 1:a=l;var A=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(pf===null||!pf.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=J7(s,a,e);B6(s,C);break e}}s=s.return}while(s!==null)}v9(t)}catch(F){e=F,di===t&&t!==null&&(di=t=t.return);continue}break}while(!0)}function m9(){var n=xA.current;return xA.current=bA,n===null?bA:n}function F4(){(Si===0||Si===3||Si===2)&&(Si=4),zi===null||!(Um&268435455)&&!($E&268435455)||gh(zi,is)}function EA(n,e){var t=Sn;Sn|=2;var r=m9();(zi!==n||is!==e)&&(Tu=null,Rm(n,e));do try{AQ();break}catch(i){p9(n,i)}while(!0);if(b4(),Sn=t,xA.current=r,di!==null)throw Error(He(261));return zi=null,is=0,Si}function AQ(){for(;di!==null;)g9(di)}function EQ(){for(;di!==null&&!YY();)g9(di)}function g9(n){var e=w9(n.alternate,n,sa);n.memoizedProps=n.pendingProps,e===null?v9(n):di=e,L4.current=null}function v9(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=vQ(t,e),t!==null){t.flags&=32767,di=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Si=6,di=null;return}}else if(t=gQ(t,e,sa),t!==null){di=t;return}if(e=e.sibling,e!==null){di=e;return}di=e=n}while(e!==null);Si===0&&(Si=5)}function lp(n,e,t){var r=Hn,i=Ya.transition;try{Ya.transition=null,Hn=1,SQ(n,e,t,r)}finally{Ya.transition=i,Hn=r}return null}function SQ(n,e,t,r){do b0();while(tf!==null);if(Sn&6)throw Error(He(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(He(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(sX(n,s),n===zi&&(di=zi=null,is=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||s_||(s_=!0,b9(sA,function(){return b0(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Ya.transition,Ya.transition=null;var o=Hn;Hn=1;var a=Sn;Sn|=4,L4.current=null,wQ(n,t),d9(t,n),qX(LT),aA=!!RT,LT=RT=null,n.current=t,bQ(t),XY(),Sn=a,Hn=o,Ya.transition=s}else n.current=t;if(s_&&(s_=!1,tf=n,AA=i),s=n.pendingLanes,s===0&&(pf=null),ZY(t.stateNode),To(n,Jr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(_A)throw _A=!1,n=ZT,ZT=null,n;return AA&1&&n.tag!==0&&b0(),s=n.pendingLanes,s&1?n===ek?lw++:(lw=0,ek=n):lw=0,Ff(),null}function b0(){if(tf!==null){var n=Q8(AA),e=Ya.transition,t=Hn;try{if(Ya.transition=null,Hn=16>n?16:n,tf===null)var r=!1;else{if(n=tf,tf=null,AA=0,Sn&6)throw Error(He(331));var i=Sn;for(Sn|=4,ct=n.current;ct!==null;){var s=ct,o=s.child;if(ct.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ct=c;ct!==null;){var u=ct;switch(u.tag){case 0:case 11:case 15:ow(8,u,s)}var h=u.child;if(h!==null)h.return=u,ct=h;else for(;ct!==null;){u=ct;var p=u.sibling,f=u.return;if(l9(u),u===c){ct=null;break}if(p!==null){p.return=f,ct=p;break}ct=f}}}var b=s.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}ct=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ct=o;else e:for(;ct!==null;){if(s=ct,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ow(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ct=w;break e}ct=s.return}}var A=n.current;for(ct=A;ct!==null;){o=ct;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ct=E;else e:for(o=A;ct!==null;){if(a=ct,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zE(9,a)}}catch(F){Hr(a,a.return,F)}if(a===o){ct=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ct=C;break e}ct=a.return}}if(Sn=i,Ff(),Hc&&typeof Hc.onPostCommitFiberRoot=="function")try{Hc.onPostCommitFiberRoot(DE,n)}catch{}r=!0}return r}finally{Hn=t,Ya.transition=e}}return!1}function oD(n,e,t){e=Yv(t,e),e=Q7(n,e,1),n=ff(n,e,1),e=Xs(),n!==null&&(V2(n,1,e),To(n,e))}function Hr(n,e,t){if(n.tag===3)oD(n,n,t);else for(;e!==null;){if(e.tag===3){oD(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pf===null||!pf.has(r))){n=Yv(t,n),n=J7(e,n,1),e=ff(e,n,1),n=Xs(),e!==null&&(V2(e,1,n),To(e,n));break}}e=e.return}}function CQ(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Xs(),n.pingedLanes|=n.suspendedLanes&t,zi===n&&(is&t)===t&&(Si===4||Si===3&&(is&130023424)===is&&500>Jr()-M4?Rm(n,0):D4|=t),To(n,e)}function y9(n,e){e===0&&(n.mode&1?(e=Yx,Yx<<=1,!(Yx&130023424)&&(Yx=4194304)):e=1);var t=Xs();n=xd(n,e),n!==null&&(V2(n,e,t),To(n,t))}function NQ(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),y9(n,t)}function TQ(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(He(314))}r!==null&&r.delete(e),y9(n,t)}var w9;w9=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Co.current)Ao=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ao=!1,mQ(n,e,t);Ao=!!(n.flags&131072)}else Ao=!1,_r&&e.flags&1048576&&A7(e,pA,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;J_(n,e),n=e.pendingProps;var i=qv(e,Ds.current);w0(e,t),i=T4(null,e,r,n,i,t);var s=k4();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,No(r)?(s=!0,hA(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,A4(e),i.updater=VE,e.stateNode=i,i._reactInternals=e,zT(e,r,n,t),e=qT(null,e,r,!0,s,t)):(e.tag=0,_r&&s&&g4(e),qs(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(J_(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=IQ(r),n=vl(r,n),i){case 0:e=HT(null,e,r,n,t);break e;case 1:e=X6(null,e,r,n,t);break e;case 11:e=K6(null,e,r,n,t);break e;case 14:e=Y6(null,e,r,vl(r.type,n),t);break e}throw Error(He(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vl(r,i),HT(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vl(r,i),X6(n,e,r,i,t);case 3:e:{if(n9(e),n===null)throw Error(He(387));r=e.pendingProps,s=e.memoizedState,i=s.element,k7(n,e),vA(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yv(Error(He(423)),e),e=Q6(n,e,r,t,i);break e}else if(r!==i){i=Yv(Error(He(424)),e),e=Q6(n,e,r,t,i);break e}else for(la=hf(e.stateNode.containerInfo.firstChild),fa=e,_r=!0,Ol=null,t=N7(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Wv(),r===i){e=_d(n,e,t);break e}qs(n,e,r,t)}e=e.child}return e;case 5:return I7(e),n===null&&BT(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,DT(r,i)?o=null:s!==null&&DT(r,s)&&(e.flags|=32),t9(n,e),qs(n,e,o,t),e.child;case 6:return n===null&&BT(e),null;case 13:return r9(n,e,t);case 4:return E4(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Gv(e,null,r,t):qs(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vl(r,i),K6(n,e,r,i,t);case 7:return qs(n,e,e.pendingProps,t),e.child;case 8:return qs(n,e,e.pendingProps.children,t),e.child;case 12:return qs(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,lr(mA,r._currentValue),r._currentValue=o,s!==null)if($l(s.value,o)){if(s.children===i.children&&!Co.current){e=_d(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=dd(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),UT(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(He(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),UT(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qs(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,w0(e,t),i=Ja(i),r=r(i),e.flags|=1,qs(n,e,r,t),e.child;case 14:return r=e.type,i=vl(r,e.pendingProps),i=vl(r.type,i),Y6(n,e,r,i,t);case 15:return Z7(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vl(r,i),J_(n,e),e.tag=1,No(r)?(n=!0,hA(e)):n=!1,w0(e,t),X7(e,r,i),zT(e,r,i,t),qT(null,e,r,!0,n,t);case 19:return i9(n,e,t);case 22:return e9(n,e,t)}throw Error(He(156,e.tag))};function b9(n,e){return G8(n,e)}function kQ(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ka(n,e,t,r){return new kQ(n,e,t,r)}function B4(n){return n=n.prototype,!(!n||!n.isReactComponent)}function IQ(n){if(typeof n=="function")return B4(n)?1:0;if(n!=null){if(n=n.$$typeof,n===i4)return 11;if(n===s4)return 14}return 2}function gf(n,e){var t=n.alternate;return t===null?(t=Ka(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function t5(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")B4(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case t0:return Lm(t.children,i,s,e);case r4:o=8,i|=8;break;case hT:return n=Ka(12,t,e,i|2),n.elementType=hT,n.lanes=s,n;case fT:return n=Ka(13,t,e,i),n.elementType=fT,n.lanes=s,n;case pT:return n=Ka(19,t,e,i),n.elementType=pT,n.lanes=s,n;case I8:return HE(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T8:o=10;break e;case k8:o=9;break e;case i4:o=11;break e;case s4:o=14;break e;case fh:o=16,r=null;break e}throw Error(He(130,n==null?n:typeof n,""))}return e=Ka(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Lm(n,e,t,r){return n=Ka(7,n,r,e),n.lanes=t,n}function HE(n,e,t,r){return n=Ka(22,n,r,e),n.elementType=I8,n.lanes=t,n.stateNode={isHidden:!1},n}function WC(n,e,t){return n=Ka(6,n,null,e),n.lanes=t,n}function GC(n,e,t){return e=Ka(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function PQ(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=NC(0),this.expirationTimes=NC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=NC(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function U4(n,e,t,r,i,s,o,a,l){return n=new PQ(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ka(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},A4(s),n}function RQ(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:e0,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function x9(n){if(!n)return Sf;n=n._reactInternals;e:{if(cg(n)!==n||n.tag!==1)throw Error(He(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(No(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(He(171))}if(n.tag===1){var t=n.type;if(No(t))return x7(n,t,e)}return e}function _9(n,e,t,r,i,s,o,a,l){return n=U4(t,r,!0,n,i,s,o,a,l),n.context=x9(null),t=n.current,r=Xs(),i=mf(t),s=dd(r,i),s.callback=e??null,ff(t,s,i),n.current.lanes=i,V2(n,i,r),To(n,r),n}function qE(n,e,t,r){var i=e.current,s=Xs(),o=mf(i);return t=x9(t),e.context===null?e.context=t:e.pendingContext=t,e=dd(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=ff(i,e,o),n!==null&&(Vl(n,i,o,s),Y_(n,i,o)),o}function SA(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function aD(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function V4(n,e){aD(n,e),(n=n.alternate)&&aD(n,e)}function LQ(){return null}var A9=typeof reportError=="function"?reportError:function(n){console.error(n)};function z4(n){this._internalRoot=n}WE.prototype.render=z4.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(He(409));qE(n,e,null,null)};WE.prototype.unmount=z4.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Vm(function(){qE(null,n,null,null)}),e[bd]=null}};function WE(n){this._internalRoot=n}WE.prototype.unstable_scheduleHydration=function(n){if(n){var e=e7();n={blockedOn:null,target:n,priority:e};for(var t=0;t<mh.length&&e!==0&&e<mh[t].priority;t++);mh.splice(t,0,n),t===0&&n7(n)}};function $4(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function GE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function lD(){}function DQ(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=SA(o);s.call(c)}}var o=_9(e,r,n,0,null,!1,!1,"",lD);return n._reactRootContainer=o,n[bd]=o.current,Rw(n.nodeType===8?n.parentNode:n),Vm(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=SA(l);a.call(c)}}var l=U4(n,0,!1,null,null,!1,!1,"",lD);return n._reactRootContainer=l,n[bd]=l.current,Rw(n.nodeType===8?n.parentNode:n),Vm(function(){qE(e,l,t,r)}),l}function KE(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=SA(o);a.call(l)}}qE(e,o,n,i)}else o=DQ(t,e,n,i,r);return SA(o)}J8=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ny(e.pendingLanes);t!==0&&(l4(e,t|1),To(e,Jr()),!(Sn&6)&&(Xv=Jr()+500,Ff()))}break;case 13:Vm(function(){var r=xd(n,1);if(r!==null){var i=Xs();Vl(r,n,1,i)}}),V4(n,1)}};c4=function(n){if(n.tag===13){var e=xd(n,134217728);if(e!==null){var t=Xs();Vl(e,n,134217728,t)}V4(n,134217728)}};Z8=function(n){if(n.tag===13){var e=mf(n),t=xd(n,e);if(t!==null){var r=Xs();Vl(t,n,e,r)}V4(n,e)}};e7=function(){return Hn};t7=function(n,e){var t=Hn;try{return Hn=n,e()}finally{Hn=t}};ET=function(n,e,t){switch(e){case"input":if(vT(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=FE(r);if(!i)throw Error(He(90));R8(r),vT(r,i)}}}break;case"textarea":D8(n,t);break;case"select":e=t.value,e!=null&&m0(n,!!t.multiple,e,!1)}};V8=j4;z8=Vm;var MQ={usingClientEntryPoint:!1,Events:[$2,s0,FE,B8,U8,j4]},hy={findFiberByHostInstance:xp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jQ={bundleType:hy.bundleType,version:hy.version,rendererPackageName:hy.rendererPackageName,rendererConfig:hy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ld.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=q8(n),n===null?null:n.stateNode},findFiberByHostInstance:hy.findFiberByHostInstance||LQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var o_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!o_.isDisabled&&o_.supportsFiber)try{DE=o_.inject(jQ),Hc=o_}catch{}}wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MQ;wa.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$4(e))throw Error(He(200));return RQ(n,e,null,t)};wa.createRoot=function(n,e){if(!$4(n))throw Error(He(299));var t=!1,r="",i=A9;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=U4(n,1,!1,null,null,t,!1,r,i),n[bd]=e.current,Rw(n.nodeType===8?n.parentNode:n),new z4(e)};wa.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(He(188)):(n=Object.keys(n).join(","),Error(He(268,n)));return n=q8(e),n=n===null?null:n.stateNode,n};wa.flushSync=function(n){return Vm(n)};wa.hydrate=function(n,e,t){if(!GE(e))throw Error(He(200));return KE(null,n,e,!0,t)};wa.hydrateRoot=function(n,e,t){if(!$4(n))throw Error(He(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=A9;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=_9(e,null,n,1,t??null,i,!1,s,o),n[bd]=e.current,Rw(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new WE(e)};wa.render=function(n,e,t){if(!GE(e))throw Error(He(200));return KE(null,n,e,!1,t)};wa.unmountComponentAtNode=function(n){if(!GE(n))throw Error(He(40));return n._reactRootContainer?(Vm(function(){KE(null,null,n,!1,function(){n._reactRootContainer=null,n[bd]=null})}),!0):!1};wa.unstable_batchedUpdates=j4;wa.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!GE(t))throw Error(He(200));if(n==null||n._reactInternals===void 0)throw Error(He(38));return KE(n,e,t,!1,r)};wa.version="18.3.1-next-f1338f8080-20240426";function E9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E9)}catch(n){console.error(n)}}E9(),E8.exports=wa;var q2=E8.exports;const S9=v1(q2);var C9,cD=q2;C9=cD.createRoot,cD.hydrateRoot;const OQ=1,FQ=1e6;let KC=0;function BQ(){return KC=(KC+1)%Number.MAX_SAFE_INTEGER,KC.toString()}const YC=new Map,uD=n=>{if(YC.has(n))return;const e=setTimeout(()=>{YC.delete(n),cw({type:"REMOVE_TOAST",toastId:n})},FQ);YC.set(n,e)},UQ=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,OQ)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?uD(t):n.toasts.forEach(r=>{uD(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},n5=[];let r5={toasts:[]};function cw(n){r5=UQ(r5,n),n5.forEach(e=>{e(r5)})}function VQ({...n}){const e=BQ(),t=i=>cw({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>cw({type:"DISMISS_TOAST",toastId:e});return cw({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function zQ(){const[n,e]=D.useState(r5);return D.useEffect(()=>(n5.push(e),()=>{const t=n5.indexOf(e);t>-1&&n5.splice(t,1)}),[n]),{...n,toast:VQ,dismiss:t=>cw({type:"DISMISS_TOAST",toastId:t})}}function jt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function dD(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function YE(...n){return e=>{let t=!1;const r=n.map(i=>{const s=dD(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():dD(n[i],null)}}}}function $i(...n){return D.useCallback(YE(...n),n)}function ug(n,e=[]){let t=[];function r(s,o){const a=D.createContext(o),l=t.length;t=[...t,o];const c=h=>{var w;const{scope:p,children:f,...b}=h,y=((w=p==null?void 0:p[n])==null?void 0:w[l])||a,_=D.useMemo(()=>b,Object.values(b));return d.jsx(y.Provider,{value:_,children:f})};c.displayName=s+"Provider";function u(h,p){var y;const f=((y=p==null?void 0:p[n])==null?void 0:y[l])||a,b=D.useContext(f);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=t.map(o=>D.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return D.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,$Q(i,...e)]}function $Q(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return D.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Vw(n){const e=qQ(n),t=D.forwardRef((r,i)=>{const{children:s,...o}=r,a=D.Children.toArray(s),l=a.find(GQ);if(l){const c=l.props.children,u=a.map(h=>h===l?D.Children.count(c)>1?D.Children.only(null):D.isValidElement(c)?c.props.children:null:h);return d.jsx(e,{...o,ref:i,children:D.isValidElement(c)?D.cloneElement(c,void 0,u):null})}return d.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var HQ=Vw("Slot");function qQ(n){const e=D.forwardRef((t,r)=>{const{children:i,...s}=t;if(D.isValidElement(i)){const o=YQ(i),a=KQ(s,i.props);return i.type!==D.Fragment&&(a.ref=r?YE(r,o):o),D.cloneElement(i,a)}return D.Children.count(i)>1?D.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var N9=Symbol("radix.slottable");function WQ(n){const e=({children:t})=>d.jsx(d.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=N9,e}function GQ(n){return D.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===N9}function KQ(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function YQ(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function H4(n){const e=n+"CollectionProvider",[t,r]=ug(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:w}=y,A=Ke.useRef(null),E=Ke.useRef(new Map).current;return d.jsx(i,{scope:_,itemMap:E,collectionRef:A,children:w})};o.displayName=e;const a=n+"CollectionSlot",l=Vw(a),c=Ke.forwardRef((y,_)=>{const{scope:w,children:A}=y,E=s(a,w),C=$i(_,E.collectionRef);return d.jsx(l,{ref:C,children:A})});c.displayName=a;const u=n+"CollectionItemSlot",h="data-radix-collection-item",p=Vw(u),f=Ke.forwardRef((y,_)=>{const{scope:w,children:A,...E}=y,C=Ke.useRef(null),F=$i(_,C),V=s(u,w);return Ke.useEffect(()=>(V.itemMap.set(C,{ref:C,...E}),()=>void V.itemMap.delete(C))),d.jsx(p,{[h]:"",ref:F,children:A})});f.displayName=u;function b(y){const _=s(n+"CollectionConsumer",y);return Ke.useCallback(()=>{const A=_.collectionRef.current;if(!A)return[];const E=Array.from(A.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((V,L)=>E.indexOf(V.ref.current)-E.indexOf(L.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},b,r]}var XQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gr=XQ.reduce((n,e)=>{const t=Vw(`Primitive.${e}`),r=D.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function q4(n,e){n&&q2.flushSync(()=>n.dispatchEvent(e))}function ya(n){const e=D.useRef(n);return D.useEffect(()=>{e.current=n}),D.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function QQ(n,e=globalThis==null?void 0:globalThis.document){const t=ya(n);D.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var JQ="DismissableLayer",rk="dismissableLayer.update",ZQ="dismissableLayer.pointerDownOutside",eJ="dismissableLayer.focusOutside",hD,T9=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),XE=D.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=D.useContext(T9),[u,h]=D.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=D.useState({}),b=$i(e,L=>h(L)),y=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(_),A=u?y.indexOf(u):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,C=A>=w,F=nJ(L=>{const N=L.target,I=[...c.branches].some(j=>j.contains(N));!C||I||(i==null||i(L),o==null||o(L),L.defaultPrevented||a==null||a())},p),V=rJ(L=>{const N=L.target;[...c.branches].some(j=>j.contains(N))||(s==null||s(L),o==null||o(L),L.defaultPrevented||a==null||a())},p);return QQ(L=>{A===c.layers.size-1&&(r==null||r(L),!L.defaultPrevented&&a&&(L.preventDefault(),a()))},p),D.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(hD=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),fD(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=hD)}},[u,p,t,c]),D.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),fD())},[u,c]),D.useEffect(()=>{const L=()=>f({});return document.addEventListener(rk,L),()=>document.removeEventListener(rk,L)},[]),d.jsx(gr.div,{...l,ref:b,style:{pointerEvents:E?C?"auto":"none":void 0,...n.style},onFocusCapture:jt(n.onFocusCapture,V.onFocusCapture),onBlurCapture:jt(n.onBlurCapture,V.onBlurCapture),onPointerDownCapture:jt(n.onPointerDownCapture,F.onPointerDownCapture)})});XE.displayName=JQ;var tJ="DismissableLayerBranch",k9=D.forwardRef((n,e)=>{const t=D.useContext(T9),r=D.useRef(null),i=$i(e,r);return D.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),d.jsx(gr.div,{...n,ref:i})});k9.displayName=tJ;function nJ(n,e=globalThis==null?void 0:globalThis.document){const t=ya(n),r=D.useRef(!1),i=D.useRef(()=>{});return D.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){I9(ZQ,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function rJ(n,e=globalThis==null?void 0:globalThis.document){const t=ya(n),r=D.useRef(!1);return D.useEffect(()=>{const i=s=>{s.target&&!r.current&&I9(eJ,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fD(){const n=new CustomEvent(rk);document.dispatchEvent(n)}function I9(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?q4(i,s):i.dispatchEvent(s)}var iJ=XE,sJ=k9,Ad=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},oJ="Portal",W4=D.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=D.useState(!1);Ad(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?S9.createPortal(d.jsx(gr.div,{...r,ref:e}),o):null});W4.displayName=oJ;function aJ(n,e){return D.useReducer((t,r)=>e[t][r]??t,n)}var dg=n=>{const{present:e,children:t}=n,r=lJ(e),i=typeof t=="function"?t({present:r.isPresent}):D.Children.only(t),s=$i(r.ref,cJ(i));return typeof t=="function"||r.isPresent?D.cloneElement(i,{ref:s}):null};dg.displayName="Presence";function lJ(n){const[e,t]=D.useState(),r=D.useRef(null),i=D.useRef(n),s=D.useRef("none"),o=n?"mounted":"unmounted",[a,l]=aJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const c=a_(r.current);s.current=a==="mounted"?c:"none"},[a]),Ad(()=>{const c=r.current,u=i.current;if(u!==n){const p=s.current,f=a_(c);n?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),Ad(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=f=>{const y=a_(r.current).includes(f.animationName);if(f.target===e&&y&&(l("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=f=>{f.target===e&&(s.current=a_(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:D.useCallback(c=>{r.current=c?getComputedStyle(c):null,t(c)},[])}}function a_(n){return(n==null?void 0:n.animationName)||"none"}function cJ(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var uJ=ZP[" useInsertionEffect ".trim().toString()]||Ad;function G4({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,o]=dJ({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:i;{const u=D.useRef(n!==void 0);D.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=D.useCallback(u=>{var h;if(a){const p=hJ(u)?u(n):u;p!==n&&((h=o.current)==null||h.call(o,p))}else s(u)},[a,n,s,o]);return[l,c]}function dJ({defaultProp:n,onChange:e}){const[t,r]=D.useState(n),i=D.useRef(t),s=D.useRef(e);return uJ(()=>{s.current=e},[e]),D.useEffect(()=>{var o;i.current!==t&&((o=s.current)==null||o.call(s,t),i.current=t)},[t,i]),[t,r,s]}function hJ(n){return typeof n=="function"}var fJ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pJ="VisuallyHidden",QE=D.forwardRef((n,e)=>d.jsx(gr.span,{...n,ref:e,style:{...fJ,...n.style}}));QE.displayName=pJ;var mJ=QE,K4="ToastProvider",[Y4,gJ,vJ]=H4("Toast"),[P9,Xxe]=ug("Toast",[vJ]),[yJ,JE]=P9(K4),R9=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=n,[a,l]=D.useState(null),[c,u]=D.useState(0),h=D.useRef(!1),p=D.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${K4}\`. Expected non-empty \`string\`.`),d.jsx(Y4.Provider,{scope:e,children:d.jsx(yJ,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:D.useCallback(()=>u(f=>f+1),[]),onToastRemove:D.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};R9.displayName=K4;var L9="ToastViewport",wJ=["F8"],ik="toast.viewportPause",sk="toast.viewportResume",D9=D.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=wJ,label:i="Notifications ({hotkey})",...s}=n,o=JE(L9,t),a=gJ(t),l=D.useRef(null),c=D.useRef(null),u=D.useRef(null),h=D.useRef(null),p=$i(e,h,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;D.useEffect(()=>{const _=w=>{var E;r.length!==0&&r.every(C=>w[C]||w.code===C)&&((E=h.current)==null||E.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),D.useEffect(()=>{const _=l.current,w=h.current;if(b&&_&&w){const A=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(ik);w.dispatchEvent(V),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(sk);w.dispatchEvent(V),o.isClosePausedRef.current=!1}},C=V=>{!_.contains(V.relatedTarget)&&E()},F=()=>{_.contains(document.activeElement)||E()};return _.addEventListener("focusin",A),_.addEventListener("focusout",C),_.addEventListener("pointermove",A),_.addEventListener("pointerleave",F),window.addEventListener("blur",A),window.addEventListener("focus",E),()=>{_.removeEventListener("focusin",A),_.removeEventListener("focusout",C),_.removeEventListener("pointermove",A),_.removeEventListener("pointerleave",F),window.removeEventListener("blur",A),window.removeEventListener("focus",E)}}},[b,o.isClosePausedRef]);const y=D.useCallback(({tabbingDirection:_})=>{const A=a().map(E=>{const C=E.ref.current,F=[C,...RJ(C)];return _==="forwards"?F:F.reverse()});return(_==="forwards"?A.reverse():A).flat()},[a]);return D.useEffect(()=>{const _=h.current;if(_){const w=A=>{var F,V,L;const E=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!E){const N=document.activeElement,I=A.shiftKey;if(A.target===_&&I){(F=c.current)==null||F.focus();return}const M=y({tabbingDirection:I?"backwards":"forwards"}),R=M.findIndex(q=>q===N);XC(M.slice(R+1))?A.preventDefault():I?(V=c.current)==null||V.focus():(L=u.current)==null||L.focus()}};return _.addEventListener("keydown",w),()=>_.removeEventListener("keydown",w)}},[a,y]),d.jsxs(sJ,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&d.jsx(ok,{ref:c,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"forwards"});XC(_)}}),d.jsx(Y4.Slot,{scope:t,children:d.jsx(gr.ol,{tabIndex:-1,...s,ref:p})}),b&&d.jsx(ok,{ref:u,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"backwards"});XC(_)}})]})});D9.displayName=L9;var M9="ToastFocusProxy",ok=D.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=JE(M9,t);return d.jsx(QE,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});ok.displayName=M9;var W2="Toast",bJ="toast.swipeStart",xJ="toast.swipeMove",_J="toast.swipeCancel",AJ="toast.swipeEnd",j9=D.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...o}=n,[a,l]=G4({prop:r,defaultProp:i??!0,onChange:s,caller:W2});return d.jsx(dg,{present:t||a,children:d.jsx(CJ,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ya(n.onPause),onResume:ya(n.onResume),onSwipeStart:jt(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:jt(n.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:jt(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:jt(n.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});j9.displayName=W2;var[EJ,SJ]=P9(W2,{onClose(){}}),CJ=D.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...b}=n,y=JE(W2,t),[_,w]=D.useState(null),A=$i(e,q=>w(q)),E=D.useRef(null),C=D.useRef(null),F=i||y.duration,V=D.useRef(0),L=D.useRef(F),N=D.useRef(0),{onToastAdd:I,onToastRemove:j}=y,k=ya(()=>{var ce;(_==null?void 0:_.contains(document.activeElement))&&((ce=y.viewport)==null||ce.focus()),o()}),M=D.useCallback(q=>{!q||q===1/0||(window.clearTimeout(N.current),V.current=new Date().getTime(),N.current=window.setTimeout(k,q))},[k]);D.useEffect(()=>{const q=y.viewport;if(q){const ce=()=>{M(L.current),c==null||c()},de=()=>{const ae=new Date().getTime()-V.current;L.current=L.current-ae,window.clearTimeout(N.current),l==null||l()};return q.addEventListener(ik,de),q.addEventListener(sk,ce),()=>{q.removeEventListener(ik,de),q.removeEventListener(sk,ce)}}},[y.viewport,F,l,c,M]),D.useEffect(()=>{s&&!y.isClosePausedRef.current&&M(F)},[s,F,y.isClosePausedRef,M]),D.useEffect(()=>(I(),()=>j()),[I,j]);const R=D.useMemo(()=>_?$9(_):null,[_]);return y.viewport?d.jsxs(d.Fragment,{children:[R&&d.jsx(NJ,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),d.jsx(EJ,{scope:t,onClose:k,children:q2.createPortal(d.jsx(Y4.ItemSlot,{scope:t,children:d.jsx(iJ,{asChild:!0,onEscapeKeyDown:jt(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||k(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(gr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...b,ref:A,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:jt(n.onKeyDown,q=>{q.key==="Escape"&&(a==null||a(q.nativeEvent),q.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:jt(n.onPointerDown,q=>{q.button===0&&(E.current={x:q.clientX,y:q.clientY})}),onPointerMove:jt(n.onPointerMove,q=>{if(!E.current)return;const ce=q.clientX-E.current.x,de=q.clientY-E.current.y,ae=!!C.current,Q=["left","right"].includes(y.swipeDirection),ne=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ge=Q?ne(0,ce):0,pe=Q?0:ne(0,de),U=q.pointerType==="touch"?10:2,X={x:ge,y:pe},re={originalEvent:q,delta:X};ae?(C.current=X,l_(xJ,h,re,{discrete:!1})):pD(X,y.swipeDirection,U)?(C.current=X,l_(bJ,u,re,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(ce)>U||Math.abs(de)>U)&&(E.current=null)}),onPointerUp:jt(n.onPointerUp,q=>{const ce=C.current,de=q.target;if(de.hasPointerCapture(q.pointerId)&&de.releasePointerCapture(q.pointerId),C.current=null,E.current=null,ce){const ae=q.currentTarget,Q={originalEvent:q,delta:ce};pD(ce,y.swipeDirection,y.swipeThreshold)?l_(AJ,f,Q,{discrete:!0}):l_(_J,p,Q,{discrete:!0}),ae.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),NJ=n=>{const{__scopeToast:e,children:t,...r}=n,i=JE(W2,e),[s,o]=D.useState(!1),[a,l]=D.useState(!1);return IJ(()=>o(!0)),D.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(W4,{asChild:!0,children:d.jsx(QE,{...r,children:s&&d.jsxs(d.Fragment,{children:[i.label," ",t]})})})},TJ="ToastTitle",O9=D.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return d.jsx(gr.div,{...r,ref:e})});O9.displayName=TJ;var kJ="ToastDescription",F9=D.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return d.jsx(gr.div,{...r,ref:e})});F9.displayName=kJ;var B9="ToastAction",U9=D.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?d.jsx(z9,{altText:t,asChild:!0,children:d.jsx(X4,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${B9}\`. Expected non-empty \`string\`.`),null)});U9.displayName=B9;var V9="ToastClose",X4=D.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=SJ(V9,t);return d.jsx(z9,{asChild:!0,children:d.jsx(gr.button,{type:"button",...r,ref:e,onClick:jt(n.onClick,i.onClose)})})});X4.displayName=V9;var z9=D.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return d.jsx(gr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function $9(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),PJ(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...$9(r))}}),e}function l_(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?q4(i,s):i.dispatchEvent(s)}var pD=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function IJ(n=()=>{}){const e=ya(n);Ad(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function PJ(n){return n.nodeType===n.ELEMENT_NODE}function RJ(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function XC(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var LJ=R9,H9=D9,q9=j9,W9=O9,G9=F9,K9=U9,Y9=X4;function X9(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=X9(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function x1(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=X9(n))&&(r&&(r+=" "),r+=e);return r}const mD=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,gD=x1,Q4=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return gD(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=t==null?void 0:t[c],h=s==null?void 0:s[c];if(u===null)return null;const p=mD(u)||mD(h);return i[c][p]}),a=t&&Object.entries(t).reduce((c,u)=>{let[h,p]=u;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:p,...f}=u;return Object.entries(f).every(b=>{let[y,_]=b;return Array.isArray(_)?_.includes({...s,...a}[y]):{...s,...a}[y]===_})?[...c,h,p]:c},[]);return gD(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q9=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>D.createElement("svg",{ref:l,...MJ,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Q9("lucide",i),...a},[...o.map(([c,u])=>D.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(n,e)=>{const t=D.forwardRef(({className:r,...i},s)=>D.createElement(jJ,{ref:s,iconNode:e,className:Q9(`lucide-${DJ(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=yt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=yt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=yt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=yt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=yt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=yt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=yt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=yt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=yt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=yt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=yt("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=yt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=yt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=yt("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=yt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=yt("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=yt("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=yt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=yt("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=yt("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=yt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=yt("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=yt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=yt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=yt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=yt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=yt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=yt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=yt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=yt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=yt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=yt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=yt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=yt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=yt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=yt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=yt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=yt("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=yt("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=yt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=yt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=yt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=yt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=yt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=yt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=yt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=yt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=yt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=yt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=yt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=yt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=yt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=yt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=yt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),tR="-",uZ=n=>{const e=hZ(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(tR);return a[0]===""&&a.length!==1&&a.shift(),aB(a,e)||dZ(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},aB=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?aB(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(tR);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},xD=/^\[(.+)\]$/,dZ=n=>{if(xD.test(n)){const e=xD.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},hZ=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return pZ(Object.entries(n.classGroups),t).forEach(([s,o])=>{lk(o,r,s,e)}),r},lk=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:_D(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(fZ(i)){lk(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{lk(o,_D(e,s),t,r)})})},_D=(n,e)=>{let t=n;return e.split(tR).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},fZ=n=>n.isThemeGetter,pZ=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):n,mZ=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},lB="!",gZ=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let _=0;_<a.length;_++){let w=a[_];if(c===0){if(w===i&&(r||a.slice(_,_+s)===e)){l.push(a.slice(u,_)),u=_+s;continue}if(w==="/"){h=_;continue}}w==="["?c++:w==="]"&&c--}const p=l.length===0?a:a.substring(u),f=p.startsWith(lB),b=f?p.substring(1):p,y=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:b,maybePostfixModifierPosition:y}};return t?a=>t({className:a,parseClassName:o}):o},vZ=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},yZ=n=>({cache:mZ(n.cacheSize),parseClassName:gZ(n),...uZ(n)}),wZ=/\s+/,bZ=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=n.trim().split(wZ);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=t(c);let b=!!f,y=r(b?p.substring(0,f):p);if(!y){if(!b){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}b=!1}const _=vZ(u).join(":"),w=h?_+lB:_,A=w+y;if(s.includes(A))continue;s.push(A);const E=i(y,b);for(let C=0;C<E.length;++C){const F=E[C];s.push(w+F)}a=c+(a.length>0?" "+a:a)}return a};function xZ(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=cB(e))&&(r&&(r+=" "),r+=t);return r}const cB=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=cB(n[r]))&&(t&&(t+=" "),t+=e);return t};function _Z(n,...e){let t,r,i,s=o;function o(l){const c=e.reduce((u,h)=>h(u),n());return t=yZ(c),r=t.cache.get,i=t.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=bZ(l,t);return i(l,u),u}return function(){return s(xZ.apply(null,arguments))}}const ur=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},uB=/^\[(?:([a-z-]+):)?(.+)\]$/i,AZ=/^\d+\/\d+$/,EZ=new Set(["px","full","screen"]),SZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xu=n=>x0(n)||EZ.has(n)||AZ.test(n),ih=n=>A1(n,"length",OZ),x0=n=>!!n&&!Number.isNaN(Number(n)),QC=n=>A1(n,"number",x0),fy=n=>!!n&&Number.isInteger(Number(n)),IZ=n=>n.endsWith("%")&&x0(n.slice(0,-1)),en=n=>uB.test(n),sh=n=>SZ.test(n),PZ=new Set(["length","size","percentage"]),RZ=n=>A1(n,PZ,dB),LZ=n=>A1(n,"position",dB),DZ=new Set(["image","url"]),MZ=n=>A1(n,DZ,BZ),jZ=n=>A1(n,"",FZ),py=()=>!0,A1=(n,e,t)=>{const r=uB.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},OZ=n=>CZ.test(n)&&!NZ.test(n),dB=()=>!1,FZ=n=>TZ.test(n),BZ=n=>kZ.test(n),UZ=()=>{const n=ur("colors"),e=ur("spacing"),t=ur("blur"),r=ur("brightness"),i=ur("borderColor"),s=ur("borderRadius"),o=ur("borderSpacing"),a=ur("borderWidth"),l=ur("contrast"),c=ur("grayscale"),u=ur("hueRotate"),h=ur("invert"),p=ur("gap"),f=ur("gradientColorStops"),b=ur("gradientColorStopPositions"),y=ur("inset"),_=ur("margin"),w=ur("opacity"),A=ur("padding"),E=ur("saturate"),C=ur("scale"),F=ur("sepia"),V=ur("skew"),L=ur("space"),N=ur("translate"),I=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",en,e],M=()=>[en,e],R=()=>["",xu,ih],q=()=>["auto",x0,en],ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],de=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",en],ge=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[x0,en];return{cacheSize:500,separator:":",theme:{colors:[py],spacing:[xu,ih],blur:["none","",sh,en],brightness:pe(),borderColor:[n],borderRadius:["none","","full",sh,en],borderSpacing:M(),borderWidth:R(),contrast:pe(),grayscale:ne(),hueRotate:pe(),invert:ne(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[IZ,ih],inset:k(),margin:k(),opacity:pe(),padding:M(),saturate:pe(),scale:pe(),sepia:ne(),skew:pe(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",en]}],container:["container"],columns:[{columns:[sh]}],"break-after":[{"break-after":ge()}],"break-before":[{"break-before":ge()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ce(),en]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fy,en]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",en]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",fy,en]}],"grid-cols":[{"grid-cols":[py]}],"col-start-end":[{col:["auto",{span:["full",fy,en]},en]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[py]}],"row-start-end":[{row:["auto",{span:[fy,en]},en]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",en]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",en]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",en,e]}],"min-w":[{"min-w":[en,e,"min","max","fit"]}],"max-w":[{"max-w":[en,e,"none","full","min","max","fit","prose",{screen:[sh]},sh]}],h:[{h:[en,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[en,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[en,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[en,e,"auto","min","max","fit"]}],"font-size":[{text:["base",sh,ih]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",QC]}],"font-family":[{font:[py]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",en]}],"line-clamp":[{"line-clamp":["none",x0,QC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xu,en]}],"list-image":[{"list-image":["none",en]}],"list-style-type":[{list:["none","disc","decimal",en]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xu,ih]}],"underline-offset":[{"underline-offset":["auto",xu,en]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",en]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",en]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ce(),LZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",RZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},MZ]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...de(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:de()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...de()]}],"outline-offset":[{"outline-offset":[xu,en]}],"outline-w":[{outline:[xu,ih]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[xu,ih]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",sh,jZ]}],"shadow-color":[{shadow:[py]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",sh,en]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[E]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",en]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",en]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",en]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[fy,en]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",en]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",en]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",en]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[xu,ih,QC]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},VZ=_Z(UZ);function vr(...n){return VZ(x1(n))}const zZ=LJ,hB=D.forwardRef(({className:n,...e},t)=>d.jsx(H9,{ref:t,className:vr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));hB.displayName=H9.displayName;const $Z=Q4("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fB=D.forwardRef(({className:n,variant:e,...t},r)=>d.jsx(q9,{ref:r,className:vr($Z({variant:e}),n),...t}));fB.displayName=q9.displayName;const HZ=D.forwardRef(({className:n,...e},t)=>d.jsx(K9,{ref:t,className:vr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...e}));HZ.displayName=K9.displayName;const pB=D.forwardRef(({className:n,...e},t)=>d.jsx(Y9,{ref:t,className:vr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:d.jsx(Ha,{className:"h-4 w-4"})}));pB.displayName=Y9.displayName;const mB=D.forwardRef(({className:n,...e},t)=>d.jsx(W9,{ref:t,className:vr("text-sm font-semibold",n),...e}));mB.displayName=W9.displayName;const gB=D.forwardRef(({className:n,...e},t)=>d.jsx(G9,{ref:t,className:vr("text-sm opacity-90",n),...e}));gB.displayName=G9.displayName;function qZ(){const{toasts:n}=zQ();return d.jsxs(zZ,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return d.jsxs(fB,{...s,children:[d.jsxs("div",{className:"grid gap-1",children:[t&&d.jsx(mB,{children:t}),r&&d.jsx(gB,{children:r})]}),i,d.jsx(pB,{})]},e)}),d.jsx(hB,{})]})}var AD=["light","dark"],WZ="(prefers-color-scheme: dark)",GZ=D.createContext(void 0),KZ={setTheme:n=>{},themes:[]},YZ=()=>{var n;return(n=D.useContext(GZ))!=null?n:KZ};D.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=i?AD.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,y=!1,_=!0)=>{let w=o?o[b]:b,A=y?b+"|| ''":`'${w}'`,E="";return i&&_&&!y&&AD.includes(b)&&(E+=`d.style.colorScheme = '${b}';`),t==="class"?y||w?E+=`c.add(${A})`:E+="null":w&&(E+=`d[s](n,${A})`),E},f=n?`!function(){${u}${p(n)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${WZ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(s,!1,!1)};}${h}}catch(t){}}();`;return D.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var XZ=n=>{switch(n){case"success":return ZZ;case"info":return tee;case"warning":return eee;case"error":return nee;default:return null}},QZ=Array(12).fill(0),JZ=({visible:n,className:e})=>Ke.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},Ke.createElement("div",{className:"sonner-spinner"},QZ.map((t,r)=>Ke.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ZZ=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eee=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tee=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nee=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ree=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ke.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ke.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),iee=()=>{let[n,e]=Ke.useState(document.hidden);return Ke.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},ck=1,see=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ck++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,o,a=i.then(async c=>{if(o=["resolve",c],Ke.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(aee(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,h=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:h})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:h})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:h})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||ck++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},wo=new see,oee=(n,e)=>{let t=(e==null?void 0:e.id)||ck++;return wo.addToast({title:n,...e,id:t}),t},aee=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",lee=oee,cee=()=>wo.toasts,uee=()=>wo.getActiveToasts(),ot=Object.assign(lee,{success:wo.success,info:wo.info,warning:wo.warning,error:wo.error,custom:wo.custom,message:wo.message,promise:wo.promise,dismiss:wo.dismiss,loading:wo.loading},{getHistory:cee,getToasts:uee});function dee(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}dee(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function c_(n){return n.label!==void 0}var hee=3,fee="32px",pee="16px",ED=4e3,mee=356,gee=14,vee=20,yee=200;function pl(...n){return n.filter(Boolean).join(" ")}function wee(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var bee=n=>{var e,t,r,i,s,o,a,l,c,u,h;let{invert:p,toast:f,unstyled:b,interacting:y,setHeights:_,visibleToasts:w,heights:A,index:E,toasts:C,expanded:F,removeToast:V,defaultRichColors:L,closeButton:N,style:I,cancelButtonStyle:j,actionButtonStyle:k,className:M="",descriptionClassName:R="",duration:q,position:ce,gap:de,loadingIcon:ae,expandByDefault:Q,classNames:ne,icons:ge,closeButtonAriaLabel:pe="Close toast",pauseWhenPageIsHidden:U}=n,[X,re]=Ke.useState(null),[le,he]=Ke.useState(null),[ue,_e]=Ke.useState(!1),[xe,Ae]=Ke.useState(!1),[je,Se]=Ke.useState(!1),[Te,Le]=Ke.useState(!1),[J,Oe]=Ke.useState(!1),[Xe,Ge]=Ke.useState(0),[Ie,ut]=Ke.useState(0),Qe=Ke.useRef(f.duration||q||ED),De=Ke.useRef(null),Ve=Ke.useRef(null),nt=E===0,Ct=E+1<=w,We=f.type,dt=f.dismissible!==!1,Bt=f.className||"",st=f.descriptionClassName||"",kt=Ke.useMemo(()=>A.findIndex(It=>It.toastId===f.id)||0,[A,f.id]),wt=Ke.useMemo(()=>{var It;return(It=f.closeButton)!=null?It:N},[f.closeButton,N]),Ln=Ke.useMemo(()=>f.duration||q||ED,[f.duration,q]),nn=Ke.useRef(0),Ot=Ke.useRef(0),Vt=Ke.useRef(0),An=Ke.useRef(null),[Et,Cn]=ce.split("-"),Nt=Ke.useMemo(()=>A.reduce((It,Mt,cn)=>cn>=kt?It:It+Mt.height,0),[A,kt]),Ft=iee(),Nn=f.invert||p,zt=We==="loading";Ot.current=Ke.useMemo(()=>kt*de+Nt,[kt,Nt]),Ke.useEffect(()=>{Qe.current=Ln},[Ln]),Ke.useEffect(()=>{_e(!0)},[]),Ke.useEffect(()=>{let It=Ve.current;if(It){let Mt=It.getBoundingClientRect().height;return ut(Mt),_(cn=>[{toastId:f.id,height:Mt,position:f.position},...cn]),()=>_(cn=>cn.filter(Wn=>Wn.toastId!==f.id))}},[_,f.id]),Ke.useLayoutEffect(()=>{if(!ue)return;let It=Ve.current,Mt=It.style.height;It.style.height="auto";let cn=It.getBoundingClientRect().height;It.style.height=Mt,ut(cn),_(Wn=>Wn.find(ht=>ht.toastId===f.id)?Wn.map(ht=>ht.toastId===f.id?{...ht,height:cn}:ht):[{toastId:f.id,height:cn,position:f.position},...Wn])},[ue,f.title,f.description,_,f.id]);let mt=Ke.useCallback(()=>{Ae(!0),Ge(Ot.current),_(It=>It.filter(Mt=>Mt.toastId!==f.id)),setTimeout(()=>{V(f)},yee)},[f,V,_,Ot]);Ke.useEffect(()=>{if(f.promise&&We==="loading"||f.duration===1/0||f.type==="loading")return;let It;return F||y||U&&Ft?(()=>{if(Vt.current<nn.current){let Mt=new Date().getTime()-nn.current;Qe.current=Qe.current-Mt}Vt.current=new Date().getTime()})():Qe.current!==1/0&&(nn.current=new Date().getTime(),It=setTimeout(()=>{var Mt;(Mt=f.onAutoClose)==null||Mt.call(f,f),mt()},Qe.current)),()=>clearTimeout(It)},[F,y,f,We,U,Ft,mt]),Ke.useEffect(()=>{f.delete&&mt()},[mt,f.delete]);function rn(){var It,Mt,cn;return ge!=null&&ge.loading?Ke.createElement("div",{className:pl(ne==null?void 0:ne.loader,(It=f==null?void 0:f.classNames)==null?void 0:It.loader,"sonner-loader"),"data-visible":We==="loading"},ge.loading):ae?Ke.createElement("div",{className:pl(ne==null?void 0:ne.loader,(Mt=f==null?void 0:f.classNames)==null?void 0:Mt.loader,"sonner-loader"),"data-visible":We==="loading"},ae):Ke.createElement(JZ,{className:pl(ne==null?void 0:ne.loader,(cn=f==null?void 0:f.classNames)==null?void 0:cn.loader),visible:We==="loading"})}return Ke.createElement("li",{tabIndex:0,ref:Ve,className:pl(M,Bt,ne==null?void 0:ne.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,ne==null?void 0:ne.default,ne==null?void 0:ne[We],(t=f==null?void 0:f.classNames)==null?void 0:t[We]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:L,"data-styled":!(f.jsx||f.unstyled||b),"data-mounted":ue,"data-promise":!!f.promise,"data-swiped":J,"data-removed":xe,"data-visible":Ct,"data-y-position":Et,"data-x-position":Cn,"data-index":E,"data-front":nt,"data-swiping":je,"data-dismissible":dt,"data-type":We,"data-invert":Nn,"data-swipe-out":Te,"data-swipe-direction":le,"data-expanded":!!(F||Q&&ue),style:{"--index":E,"--toasts-before":E,"--z-index":C.length-E,"--offset":`${xe?Xe:Ot.current}px`,"--initial-height":Q?"auto":`${Ie}px`,...I,...f.style},onDragEnd:()=>{Se(!1),re(null),An.current=null},onPointerDown:It=>{zt||!dt||(De.current=new Date,Ge(Ot.current),It.target.setPointerCapture(It.pointerId),It.target.tagName!=="BUTTON"&&(Se(!0),An.current={x:It.clientX,y:It.clientY}))},onPointerUp:()=>{var It,Mt,cn,Wn;if(Te||!dt)return;An.current=null;let ht=Number(((It=Ve.current)==null?void 0:It.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),bn=Number(((Mt=Ve.current)==null?void 0:Mt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),si=new Date().getTime()-((cn=De.current)==null?void 0:cn.getTime()),Dn=X==="x"?ht:bn,Qn=Math.abs(Dn)/si;if(Math.abs(Dn)>=vee||Qn>.11){Ge(Ot.current),(Wn=f.onDismiss)==null||Wn.call(f,f),he(X==="x"?ht>0?"right":"left":bn>0?"down":"up"),mt(),Le(!0),Oe(!1);return}Se(!1),re(null)},onPointerMove:It=>{var Mt,cn,Wn,ht;if(!An.current||!dt||((Mt=window.getSelection())==null?void 0:Mt.toString().length)>0)return;let bn=It.clientY-An.current.y,si=It.clientX-An.current.x,Dn=(cn=n.swipeDirections)!=null?cn:wee(ce);!X&&(Math.abs(si)>1||Math.abs(bn)>1)&&re(Math.abs(si)>Math.abs(bn)?"x":"y");let Qn={x:0,y:0};X==="y"?(Dn.includes("top")||Dn.includes("bottom"))&&(Dn.includes("top")&&bn<0||Dn.includes("bottom")&&bn>0)&&(Qn.y=bn):X==="x"&&(Dn.includes("left")||Dn.includes("right"))&&(Dn.includes("left")&&si<0||Dn.includes("right")&&si>0)&&(Qn.x=si),(Math.abs(Qn.x)>0||Math.abs(Qn.y)>0)&&Oe(!0),(Wn=Ve.current)==null||Wn.style.setProperty("--swipe-amount-x",`${Qn.x}px`),(ht=Ve.current)==null||ht.style.setProperty("--swipe-amount-y",`${Qn.y}px`)}},wt&&!f.jsx?Ke.createElement("button",{"aria-label":pe,"data-disabled":zt,"data-close-button":!0,onClick:zt||!dt?()=>{}:()=>{var It;mt(),(It=f.onDismiss)==null||It.call(f,f)},className:pl(ne==null?void 0:ne.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},(s=ge==null?void 0:ge.close)!=null?s:ree):null,f.jsx||D.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:Ke.createElement(Ke.Fragment,null,We||f.icon||f.promise?Ke.createElement("div",{"data-icon":"",className:pl(ne==null?void 0:ne.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||rn():null,f.type!=="loading"?f.icon||(ge==null?void 0:ge[We])||XZ(We):null):null,Ke.createElement("div",{"data-content":"",className:pl(ne==null?void 0:ne.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},Ke.createElement("div",{"data-title":"",className:pl(ne==null?void 0:ne.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?Ke.createElement("div",{"data-description":"",className:pl(R,st,ne==null?void 0:ne.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),D.isValidElement(f.cancel)?f.cancel:f.cancel&&c_(f.cancel)?Ke.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||j,onClick:It=>{var Mt,cn;c_(f.cancel)&&dt&&((cn=(Mt=f.cancel).onClick)==null||cn.call(Mt,It),mt())},className:pl(ne==null?void 0:ne.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,D.isValidElement(f.action)?f.action:f.action&&c_(f.action)?Ke.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||k,onClick:It=>{var Mt,cn;c_(f.action)&&((cn=(Mt=f.action).onClick)==null||cn.call(Mt,It),!It.defaultPrevented&&mt())},className:pl(ne==null?void 0:ne.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function SD(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function xee(n,e){let t={};return[n,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?pee:fee;function l(c){["top","right","bottom","left"].forEach(u=>{t[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?t[`${o}-${c}`]=a:t[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),t}var _ee=D.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:p,style:f,visibleToasts:b=hee,toastOptions:y,dir:_=SD(),gap:w=gee,loadingIcon:A,icons:E,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:F}=n,[V,L]=Ke.useState([]),N=Ke.useMemo(()=>Array.from(new Set([r].concat(V.filter(U=>U.position).map(U=>U.position)))),[V,r]),[I,j]=Ke.useState([]),[k,M]=Ke.useState(!1),[R,q]=Ke.useState(!1),[ce,de]=Ke.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ae=Ke.useRef(null),Q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),ne=Ke.useRef(null),ge=Ke.useRef(!1),pe=Ke.useCallback(U=>{L(X=>{var re;return(re=X.find(le=>le.id===U.id))!=null&&re.delete||wo.dismiss(U.id),X.filter(({id:le})=>le!==U.id)})},[]);return Ke.useEffect(()=>wo.subscribe(U=>{if(U.dismiss){L(X=>X.map(re=>re.id===U.id?{...re,delete:!0}:re));return}setTimeout(()=>{S9.flushSync(()=>{L(X=>{let re=X.findIndex(le=>le.id===U.id);return re!==-1?[...X.slice(0,re),{...X[re],...U},...X.slice(re+1)]:[U,...X]})})})}),[]),Ke.useEffect(()=>{if(u!=="system"){de(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?de("dark"):de("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:X})=>{de(X?"dark":"light")})}catch{U.addListener(({matches:re})=>{try{de(re?"dark":"light")}catch(le){console.error(le)}})}},[u]),Ke.useEffect(()=>{V.length<=1&&M(!1)},[V]),Ke.useEffect(()=>{let U=X=>{var re,le;i.every(he=>X[he]||X.code===he)&&(M(!0),(re=ae.current)==null||re.focus()),X.code==="Escape"&&(document.activeElement===ae.current||(le=ae.current)!=null&&le.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[i]),Ke.useEffect(()=>{if(ae.current)return()=>{ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null,ge.current=!1)}},[ae.current]),Ke.createElement("section",{ref:e,"aria-label":`${C} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((U,X)=>{var re;let[le,he]=U.split("-");return V.length?Ke.createElement("ol",{key:U,dir:_==="auto"?SD():_,tabIndex:-1,ref:ae,className:a,"data-sonner-toaster":!0,"data-theme":ce,"data-y-position":le,"data-lifted":k&&V.length>1&&!s,"data-x-position":he,style:{"--front-toast-height":`${((re=I[0])==null?void 0:re.height)||0}px`,"--width":`${mee}px`,"--gap":`${w}px`,...f,...xee(l,c)},onBlur:ue=>{ge.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(ge.current=!1,ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||ge.current||(ge.current=!0,ne.current=ue.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{R||M(!1)},onDragEnd:()=>M(!1),onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},V.filter(ue=>!ue.position&&X===0||ue.position===U).map((ue,_e)=>{var xe,Ae;return Ke.createElement(bee,{key:ue.id,icons:E,index:_e,toast:ue,defaultRichColors:h,duration:(xe=y==null?void 0:y.duration)!=null?xe:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:t,visibleToasts:b,closeButton:(Ae=y==null?void 0:y.closeButton)!=null?Ae:o,interacting:R,position:U,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:pe,toasts:V.filter(je=>je.position==ue.position),heights:I.filter(je=>je.position==ue.position),setHeights:j,expandByDefault:s,gap:w,loadingIcon:A,expanded:k,pauseWhenPageIsHidden:F,swipeDirections:n.swipeDirections})})):null}))});const Aee=({...n})=>{const{theme:e="system"}=YZ();return d.jsx(_ee,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var Eee=ZP[" useId ".trim().toString()]||(()=>{}),See=0;function uk(n){const[e,t]=D.useState(Eee());return Ad(()=>{t(r=>r??String(See++))},[n]),e?`radix-${e}`:""}const Cee=["top","right","bottom","left"],Cf=Math.min,oa=Math.max,TA=Math.round,u_=Math.floor,Wc=n=>({x:n,y:n}),Nee={left:"right",right:"left",bottom:"top",top:"bottom"},Tee={start:"end",end:"start"};function dk(n,e,t){return oa(n,Cf(e,t))}function Ed(n,e){return typeof n=="function"?n(e):n}function Sd(n){return n.split("-")[0]}function E1(n){return n.split("-")[1]}function nR(n){return n==="x"?"y":"x"}function rR(n){return n==="y"?"height":"width"}const kee=new Set(["top","bottom"]);function Uc(n){return kee.has(Sd(n))?"y":"x"}function iR(n){return nR(Uc(n))}function Iee(n,e,t){t===void 0&&(t=!1);const r=E1(n),i=iR(n),s=rR(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=kA(o)),[o,kA(o)]}function Pee(n){const e=kA(n);return[hk(n),e,hk(e)]}function hk(n){return n.replace(/start|end/g,e=>Tee[e])}const CD=["left","right"],ND=["right","left"],Ree=["top","bottom"],Lee=["bottom","top"];function Dee(n,e,t){switch(n){case"top":case"bottom":return t?e?ND:CD:e?CD:ND;case"left":case"right":return e?Ree:Lee;default:return[]}}function Mee(n,e,t,r){const i=E1(n);let s=Dee(Sd(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(hk)))),s}function kA(n){return n.replace(/left|right|bottom|top/g,e=>Nee[e])}function jee(n){return{top:0,right:0,bottom:0,left:0,...n}}function vB(n){return typeof n!="number"?jee(n):{top:n,right:n,bottom:n,left:n}}function IA(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function TD(n,e,t){let{reference:r,floating:i}=n;const s=Uc(e),o=iR(e),a=rR(o),l=Sd(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-i.width,y:h};break;default:f={x:r.x,y:r.y}}switch(E1(e)){case"start":f[o]-=p*(t&&c?-1:1);break;case"end":f[o]+=p*(t&&c?-1:1);break}return f}const Oee=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:h}=TD(c,r,l),p=r,f={},b=0;for(let y=0;y<a.length;y++){const{name:_,fn:w}=a[y],{x:A,y:E,data:C,reset:F}=await w({x:u,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:n,floating:e}});u=A??u,h=E??h,f={...f,[_]:{...f[_],...C}},F&&b<=50&&(b++,typeof F=="object"&&(F.placement&&(p=F.placement),F.rects&&(c=F.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):F.rects),{x:u,y:h}=TD(c,p,l)),y=-1)}return{x:u,y:h,placement:p,strategy:i,middlewareData:f}};async function Hw(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Ed(e,n),b=vB(f),_=a[p?h==="floating"?"reference":"floating":h],w=IA(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(_)))==null||t?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),A=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},F=IA(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:E,strategy:l}):A);return{top:(w.top-F.top+b.top)/C.y,bottom:(F.bottom-w.bottom+b.bottom)/C.y,left:(w.left-F.left+b.left)/C.x,right:(F.right-w.right+b.right)/C.x}}const Fee=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ed(n,e)||{};if(c==null)return{};const h=vB(u),p={x:t,y:r},f=iR(i),b=rR(f),y=await o.getDimensions(c),_=f==="y",w=_?"top":"left",A=_?"bottom":"right",E=_?"clientHeight":"clientWidth",C=s.reference[b]+s.reference[f]-p[f]-s.floating[b],F=p[f]-s.reference[f],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let L=V?V[E]:0;(!L||!await(o.isElement==null?void 0:o.isElement(V)))&&(L=a.floating[E]||s.floating[b]);const N=C/2-F/2,I=L/2-y[b]/2-1,j=Cf(h[w],I),k=Cf(h[A],I),M=j,R=L-y[b]-k,q=L/2-y[b]/2+N,ce=dk(M,q,R),de=!l.arrow&&E1(i)!=null&&q!==ce&&s.reference[b]/2-(q<M?j:k)-y[b]/2<0,ae=de?q<M?q-M:q-R:0;return{[f]:p[f]+ae,data:{[f]:ce,centerOffset:q-ce-ae,...de&&{alignmentOffset:ae}},reset:de}}}),Bee=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,..._}=Ed(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const w=Sd(i),A=Uc(a),E=Sd(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),F=p||(E||!y?[kA(a)]:Pee(a)),V=b!=="none";!p&&V&&F.push(...Mee(a,y,b,C));const L=[a,...F],N=await Hw(e,_),I=[];let j=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&I.push(N[w]),h){const q=Iee(i,o,C);I.push(N[q[0]],N[q[1]])}if(j=[...j,{placement:i,overflows:I}],!I.every(q=>q<=0)){var k,M;const q=(((k=s.flip)==null?void 0:k.index)||0)+1,ce=L[q];if(ce&&(!(h==="alignment"?A!==Uc(ce):!1)||j.every(Q=>Q.overflows[0]>0&&Uc(Q.placement)===A)))return{data:{index:q,overflows:j},reset:{placement:ce}};let de=(M=j.filter(ae=>ae.overflows[0]<=0).sort((ae,Q)=>ae.overflows[1]-Q.overflows[1])[0])==null?void 0:M.placement;if(!de)switch(f){case"bestFit":{var R;const ae=(R=j.filter(Q=>{if(V){const ne=Uc(Q.placement);return ne===A||ne==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(ne=>ne>0).reduce((ne,ge)=>ne+ge,0)]).sort((Q,ne)=>Q[1]-ne[1])[0])==null?void 0:R[0];ae&&(de=ae);break}case"initialPlacement":de=a;break}if(i!==de)return{reset:{placement:de}}}return{}}}};function kD(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function ID(n){return Cee.some(e=>n[e]>=0)}const Uee=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Ed(n,e);switch(r){case"referenceHidden":{const s=await Hw(e,{...i,elementContext:"reference"}),o=kD(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ID(o)}}}case"escaped":{const s=await Hw(e,{...i,altBoundary:!0}),o=kD(s,t.floating);return{data:{escapedOffsets:o,escaped:ID(o)}}}default:return{}}}}},yB=new Set(["left","top"]);async function Vee(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Sd(t),a=E1(t),l=Uc(t)==="y",c=yB.has(o)?-1:1,u=s&&l?-1:1,h=Ed(e,n);let{mainAxis:p,crossAxis:f,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(f=a==="end"?b*-1:b),l?{x:f*u,y:p*c}:{x:p*c,y:f*u}}const zee=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Vee(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},$ee=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:w,y:A}=_;return{x:w,y:A}}},...l}=Ed(n,e),c={x:t,y:r},u=await Hw(e,l),h=Uc(Sd(i)),p=nR(h);let f=c[p],b=c[h];if(s){const _=p==="y"?"top":"left",w=p==="y"?"bottom":"right",A=f+u[_],E=f-u[w];f=dk(A,f,E)}if(o){const _=h==="y"?"top":"left",w=h==="y"?"bottom":"right",A=b+u[_],E=b-u[w];b=dk(A,b,E)}const y=a.fn({...e,[p]:f,[h]:b});return{...y,data:{x:y.x-t,y:y.y-r,enabled:{[p]:s,[h]:o}}}}}},Hee=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ed(n,e),u={x:t,y:r},h=Uc(i),p=nR(h);let f=u[p],b=u[h];const y=Ed(a,e),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const E=p==="y"?"height":"width",C=s.reference[p]-s.floating[E]+_.mainAxis,F=s.reference[p]+s.reference[E]-_.mainAxis;f<C?f=C:f>F&&(f=F)}if(c){var w,A;const E=p==="y"?"width":"height",C=yB.has(Sd(i)),F=s.reference[h]-s.floating[E]+(C&&((w=o.offset)==null?void 0:w[h])||0)+(C?0:_.crossAxis),V=s.reference[h]+s.reference[E]+(C?0:((A=o.offset)==null?void 0:A[h])||0)-(C?_.crossAxis:0);b<F?b=F:b>V&&(b=V)}return{[p]:f,[h]:b}}}},qee=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ed(n,e),u=await Hw(e,c),h=Sd(i),p=E1(i),f=Uc(i)==="y",{width:b,height:y}=s.floating;let _,w;h==="top"||h==="bottom"?(_=h,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,_=p==="end"?"top":"bottom");const A=y-u.top-u.bottom,E=b-u.left-u.right,C=Cf(y-u[_],A),F=Cf(b-u[w],E),V=!e.middlewareData.shift;let L=C,N=F;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(N=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(L=A),V&&!p){const j=oa(u.left,0),k=oa(u.right,0),M=oa(u.top,0),R=oa(u.bottom,0);f?N=b-2*(j!==0||k!==0?j+k:oa(u.left,u.right)):L=y-2*(M!==0||R!==0?M+R:oa(u.top,u.bottom))}await l({...e,availableWidth:N,availableHeight:L});const I=await o.getDimensions(a.floating);return b!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function tS(){return typeof window<"u"}function S1(n){return wB(n)?(n.nodeName||"").toLowerCase():"#document"}function pa(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function nu(n){var e;return(e=(wB(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function wB(n){return tS()?n instanceof Node||n instanceof pa(n).Node:!1}function Hl(n){return tS()?n instanceof Element||n instanceof pa(n).Element:!1}function Zc(n){return tS()?n instanceof HTMLElement||n instanceof pa(n).HTMLElement:!1}function PD(n){return!tS()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof pa(n).ShadowRoot}const Wee=new Set(["inline","contents"]);function G2(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=ql(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!Wee.has(i)}const Gee=new Set(["table","td","th"]);function Kee(n){return Gee.has(S1(n))}const Yee=[":popover-open",":modal"];function nS(n){return Yee.some(e=>{try{return n.matches(e)}catch{return!1}})}const Xee=["transform","translate","scale","rotate","perspective"],Qee=["transform","translate","scale","rotate","perspective","filter"],Jee=["paint","layout","strict","content"];function sR(n){const e=oR(),t=Hl(n)?ql(n):n;return Xee.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||Qee.some(r=>(t.willChange||"").includes(r))||Jee.some(r=>(t.contain||"").includes(r))}function Zee(n){let e=Nf(n);for(;Zc(e)&&!Jv(e);){if(sR(e))return e;if(nS(e))return null;e=Nf(e)}return null}function oR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ete=new Set(["html","body","#document"]);function Jv(n){return ete.has(S1(n))}function ql(n){return pa(n).getComputedStyle(n)}function rS(n){return Hl(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Nf(n){if(S1(n)==="html")return n;const e=n.assignedSlot||n.parentNode||PD(n)&&n.host||nu(n);return PD(e)?e.host:e}function bB(n){const e=Nf(n);return Jv(e)?n.ownerDocument?n.ownerDocument.body:n.body:Zc(e)&&G2(e)?e:bB(e)}function qw(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=bB(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=pa(i);if(s){const a=fk(o);return e.concat(o,o.visualViewport||[],G2(i)?i:[],a&&t?qw(a):[])}return e.concat(i,qw(i,[],t))}function fk(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function xB(n){const e=ql(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Zc(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=TA(t)!==s||TA(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function aR(n){return Hl(n)?n:n.contextElement}function _0(n){const e=aR(n);if(!Zc(e))return Wc(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=xB(e);let o=(s?TA(t.width):t.width)/r,a=(s?TA(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const tte=Wc(0);function _B(n){const e=pa(n);return!oR()||!e.visualViewport?tte:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nte(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==pa(n)?!1:e}function qm(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=aR(n);let o=Wc(1);e&&(r?Hl(r)&&(o=_0(r)):o=_0(n));const a=nte(s,t,r)?_B(s):Wc(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const p=pa(s),f=r&&Hl(r)?pa(r):r;let b=p,y=fk(b);for(;y&&r&&f!==b;){const _=_0(y),w=y.getBoundingClientRect(),A=ql(y),E=w.left+(y.clientLeft+parseFloat(A.paddingLeft))*_.x,C=w.top+(y.clientTop+parseFloat(A.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,h*=_.y,l+=E,c+=C,b=pa(y),y=fk(b)}}return IA({width:u,height:h,x:l,y:c})}function lR(n,e){const t=rS(n).scrollLeft;return e?e.left+t:qm(nu(n)).left+t}function AB(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:lR(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function rte(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=nu(r),a=e?nS(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Wc(1);const u=Wc(0),h=Zc(r);if((h||!h&&!s)&&((S1(r)!=="body"||G2(o))&&(l=rS(r)),Zc(r))){const f=qm(r);c=_0(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const p=o&&!h&&!s?AB(o,l,!0):Wc(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:t.y*c.y-l.scrollTop*c.y+u.y+p.y}}function ite(n){return Array.from(n.getClientRects())}function ste(n){const e=nu(n),t=rS(n),r=n.ownerDocument.body,i=oa(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=oa(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+lR(n);const a=-t.scrollTop;return ql(r).direction==="rtl"&&(o+=oa(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function ote(n,e){const t=pa(n),r=nu(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=oR();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const ate=new Set(["absolute","fixed"]);function lte(n,e){const t=qm(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Zc(n)?_0(n):Wc(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function RD(n,e,t){let r;if(e==="viewport")r=ote(n,t);else if(e==="document")r=ste(nu(n));else if(Hl(e))r=lte(e,t);else{const i=_B(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return IA(r)}function EB(n,e){const t=Nf(n);return t===e||!Hl(t)||Jv(t)?!1:ql(t).position==="fixed"||EB(t,e)}function cte(n,e){const t=e.get(n);if(t)return t;let r=qw(n,[],!1).filter(a=>Hl(a)&&S1(a)!=="body"),i=null;const s=ql(n).position==="fixed";let o=s?Nf(n):n;for(;Hl(o)&&!Jv(o);){const a=ql(o),l=sR(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&ate.has(i.position)||G2(o)&&!l&&EB(n,o))?r=r.filter(u=>u!==o):i=a,o=Nf(o)}return e.set(n,r),r}function ute(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?nS(e)?[]:cte(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const h=RD(e,u,i);return c.top=oa(h.top,c.top),c.right=Cf(h.right,c.right),c.bottom=Cf(h.bottom,c.bottom),c.left=oa(h.left,c.left),c},RD(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function dte(n){const{width:e,height:t}=xB(n);return{width:e,height:t}}function hte(n,e,t){const r=Zc(e),i=nu(e),s=t==="fixed",o=qm(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Wc(0);function c(){l.x=lR(i)}if(r||!r&&!s)if((S1(e)!=="body"||G2(i))&&(a=rS(e)),r){const f=qm(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?AB(i,a):Wc(0),h=o.left+a.scrollLeft-l.x-u.x,p=o.top+a.scrollTop-l.y-u.y;return{x:h,y:p,width:o.width,height:o.height}}function JC(n){return ql(n).position==="static"}function LD(n,e){if(!Zc(n)||ql(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return nu(n)===t&&(t=t.ownerDocument.body),t}function SB(n,e){const t=pa(n);if(nS(n))return t;if(!Zc(n)){let i=Nf(n);for(;i&&!Jv(i);){if(Hl(i)&&!JC(i))return i;i=Nf(i)}return t}let r=LD(n,e);for(;r&&Kee(r)&&JC(r);)r=LD(r,e);return r&&Jv(r)&&JC(r)&&!sR(r)?t:r||Zee(n)||t}const fte=async function(n){const e=this.getOffsetParent||SB,t=this.getDimensions,r=await t(n.floating);return{reference:hte(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pte(n){return ql(n).direction==="rtl"}const mte={convertOffsetParentRelativeRectToViewportRelativeRect:rte,getDocumentElement:nu,getClippingRect:ute,getOffsetParent:SB,getElementRects:fte,getClientRects:ite,getDimensions:dte,getScale:_0,isElement:Hl,isRTL:pte};function CB(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function gte(n,e){let t=null,r;const i=nu(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:u,top:h,width:p,height:f}=c;if(a||e(),!p||!f)return;const b=u_(h),y=u_(i.clientWidth-(u+p)),_=u_(i.clientHeight-(h+f)),w=u_(u),E={rootMargin:-b+"px "+-y+"px "+-_+"px "+-w+"px",threshold:oa(0,Cf(1,l))||1};let C=!0;function F(V){const L=V[0].intersectionRatio;if(L!==l){if(!C)return o();L?o(!1,L):r=setTimeout(()=>{o(!1,1e-7)},1e3)}L===1&&!CB(c,n.getBoundingClientRect())&&o(),C=!1}try{t=new IntersectionObserver(F,{...E,root:i.ownerDocument})}catch{t=new IntersectionObserver(F,E)}t.observe(n)}return o(!0),s}function vte(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=aR(n),u=i||s?[...c?qw(c):[],...qw(e)]:[];u.forEach(w=>{i&&w.addEventListener("scroll",t,{passive:!0}),s&&w.addEventListener("resize",t)});const h=c&&a?gte(c,t):null;let p=-1,f=null;o&&(f=new ResizeObserver(w=>{let[A]=w;A&&A.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=f)==null||E.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let b,y=l?qm(n):null;l&&_();function _(){const w=qm(n);y&&!CB(y,w)&&t(),y=w,b=requestAnimationFrame(_)}return t(),()=>{var w;u.forEach(A=>{i&&A.removeEventListener("scroll",t),s&&A.removeEventListener("resize",t)}),h==null||h(),(w=f)==null||w.disconnect(),f=null,l&&cancelAnimationFrame(b)}}const yte=zee,wte=$ee,bte=Bee,xte=qee,_te=Uee,DD=Fee,Ate=Hee,Ete=(n,e,t)=>{const r=new Map,i={platform:mte,...t},s={...i.platform,_c:r};return Oee(n,e,{...i,platform:s})};var Ste=typeof document<"u",Cte=function(){},i5=Ste?D.useLayoutEffect:Cte;function PA(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!PA(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!PA(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function NB(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function MD(n,e){const t=NB(n);return Math.round(e*t)/t}function ZC(n){const e=D.useRef(n);return i5(()=>{e.current=n}),e}function Nte(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,h]=D.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=D.useState(r);PA(p,r)||f(r);const[b,y]=D.useState(null),[_,w]=D.useState(null),A=D.useCallback(Q=>{Q!==V.current&&(V.current=Q,y(Q))},[]),E=D.useCallback(Q=>{Q!==L.current&&(L.current=Q,w(Q))},[]),C=s||b,F=o||_,V=D.useRef(null),L=D.useRef(null),N=D.useRef(u),I=l!=null,j=ZC(l),k=ZC(i),M=ZC(c),R=D.useCallback(()=>{if(!V.current||!L.current)return;const Q={placement:e,strategy:t,middleware:p};k.current&&(Q.platform=k.current),Ete(V.current,L.current,Q).then(ne=>{const ge={...ne,isPositioned:M.current!==!1};q.current&&!PA(N.current,ge)&&(N.current=ge,q2.flushSync(()=>{h(ge)}))})},[p,e,t,k,M]);i5(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(Q=>({...Q,isPositioned:!1})))},[c]);const q=D.useRef(!1);i5(()=>(q.current=!0,()=>{q.current=!1}),[]),i5(()=>{if(C&&(V.current=C),F&&(L.current=F),C&&F){if(j.current)return j.current(C,F,R);R()}},[C,F,R,j,I]);const ce=D.useMemo(()=>({reference:V,floating:L,setReference:A,setFloating:E}),[A,E]),de=D.useMemo(()=>({reference:C,floating:F}),[C,F]),ae=D.useMemo(()=>{const Q={position:t,left:0,top:0};if(!de.floating)return Q;const ne=MD(de.floating,u.x),ge=MD(de.floating,u.y);return a?{...Q,transform:"translate("+ne+"px, "+ge+"px)",...NB(de.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:ge}},[t,a,de.floating,u.x,u.y]);return D.useMemo(()=>({...u,update:R,refs:ce,elements:de,floatingStyles:ae}),[u,R,ce,de,ae])}const Tte=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?DD({element:r.current,padding:i}).fn(t):{}:r?DD({element:r,padding:i}).fn(t):{}}}},kte=(n,e)=>({...yte(n),options:[n,e]}),Ite=(n,e)=>({...wte(n),options:[n,e]}),Pte=(n,e)=>({...Ate(n),options:[n,e]}),Rte=(n,e)=>({...bte(n),options:[n,e]}),Lte=(n,e)=>({...xte(n),options:[n,e]}),Dte=(n,e)=>({..._te(n),options:[n,e]}),Mte=(n,e)=>({...Tte(n),options:[n,e]});var jte="Arrow",TB=D.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return d.jsx(gr.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});TB.displayName=jte;var Ote=TB;function Fte(n){const[e,t]=D.useState(void 0);return Ad(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var cR="Popper",[kB,iS]=ug(cR),[Bte,IB]=kB(cR),PB=n=>{const{__scopePopper:e,children:t}=n,[r,i]=D.useState(null);return d.jsx(Bte,{scope:e,anchor:r,onAnchorChange:i,children:t})};PB.displayName=cR;var RB="PopperAnchor",LB=D.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=IB(RB,t),o=D.useRef(null),a=$i(e,o);return D.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(gr.div,{...i,ref:a})});LB.displayName=RB;var uR="PopperContent",[Ute,Vte]=kB(uR),DB=D.forwardRef((n,e)=>{var ue,_e,xe,Ae,je,Se;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:b,...y}=n,_=IB(uR,t),[w,A]=D.useState(null),E=$i(e,Te=>A(Te)),[C,F]=D.useState(null),V=Fte(C),L=(V==null?void 0:V.width)??0,N=(V==null?void 0:V.height)??0,I=r+(s!=="center"?"-"+s:""),j=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(c)?c:[c],M=k.length>0,R={padding:j,boundary:k.filter($te),altBoundary:M},{refs:q,floatingStyles:ce,placement:de,isPositioned:ae,middlewareData:Q}=Nte({strategy:"fixed",placement:I,whileElementsMounted:(...Te)=>vte(...Te,{animationFrame:f==="always"}),elements:{reference:_.anchor},middleware:[kte({mainAxis:i+N,alignmentAxis:o}),l&&Ite({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Pte():void 0,...R}),l&&Rte({...R}),Lte({...R,apply:({elements:Te,rects:Le,availableWidth:J,availableHeight:Oe})=>{const{width:Xe,height:Ge}=Le.reference,Ie=Te.floating.style;Ie.setProperty("--radix-popper-available-width",`${J}px`),Ie.setProperty("--radix-popper-available-height",`${Oe}px`),Ie.setProperty("--radix-popper-anchor-width",`${Xe}px`),Ie.setProperty("--radix-popper-anchor-height",`${Ge}px`)}}),C&&Mte({element:C,padding:a}),Hte({arrowWidth:L,arrowHeight:N}),p&&Dte({strategy:"referenceHidden",...R})]}),[ne,ge]=OB(de),pe=ya(b);Ad(()=>{ae&&(pe==null||pe())},[ae,pe]);const U=(ue=Q.arrow)==null?void 0:ue.x,X=(_e=Q.arrow)==null?void 0:_e.y,re=((xe=Q.arrow)==null?void 0:xe.centerOffset)!==0,[le,he]=D.useState();return Ad(()=>{w&&he(window.getComputedStyle(w).zIndex)},[w]),d.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:ae?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(Ae=Q.transformOrigin)==null?void 0:Ae.x,(je=Q.transformOrigin)==null?void 0:je.y].join(" "),...((Se=Q.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:d.jsx(Ute,{scope:t,placedSide:ne,onArrowChange:F,arrowX:U,arrowY:X,shouldHideArrow:re,children:d.jsx(gr.div,{"data-side":ne,"data-align":ge,...y,ref:E,style:{...y.style,animation:ae?void 0:"none"}})})})});DB.displayName=uR;var MB="PopperArrow",zte={top:"bottom",right:"left",bottom:"top",left:"right"},jB=D.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=Vte(MB,r),o=zte[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(Ote,{...i,ref:t,style:{...i.style,display:"block"}})})});jB.displayName=MB;function $te(n){return n!==null}var Hte=n=>({name:"transformOrigin",options:n,fn(e){var _,w,A;const{placement:t,rects:r,middlewareData:i}=e,o=((_=i.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,u]=OB(t),h={start:"0%",center:"50%",end:"100%"}[u],p=(((w=i.arrow)==null?void 0:w.x)??0)+a/2,f=(((A=i.arrow)==null?void 0:A.y)??0)+l/2;let b="",y="";return c==="bottom"?(b=o?h:`${p}px`,y=`${-l}px`):c==="top"?(b=o?h:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,y=o?h:`${f}px`):c==="left"&&(b=`${r.floating.width+l}px`,y=o?h:`${f}px`),{data:{x:b,y}}}});function OB(n){const[e,t="center"]=n.split("-");return[e,t]}var qte=PB,FB=LB,BB=DB,UB=jB,[sS,Jxe]=ug("Tooltip",[iS]),dR=iS(),VB="TooltipProvider",Wte=700,jD="tooltip.open",[Gte,zB]=sS(VB),$B=n=>{const{__scopeTooltip:e,delayDuration:t=Wte,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,o=D.useRef(!0),a=D.useRef(!1),l=D.useRef(0);return D.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(Gte,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:D.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:D.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:D.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};$B.displayName=VB;var HB="Tooltip",[Zxe,oS]=sS(HB),pk="TooltipTrigger",Kte=D.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=oS(pk,t),s=zB(pk,t),o=dR(t),a=D.useRef(null),l=$i(e,a,i.onTriggerChange),c=D.useRef(!1),u=D.useRef(!1),h=D.useCallback(()=>c.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(FB,{asChild:!0,...o,children:d.jsx(gr.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:jt(n.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:jt(n.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:jt(n.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:jt(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:jt(n.onBlur,i.onClose),onClick:jt(n.onClick,i.onClose)})})});Kte.displayName=pk;var Yte="TooltipPortal",[e_e,Xte]=sS(Yte,{forceMount:void 0}),Zv="TooltipContent",qB=D.forwardRef((n,e)=>{const t=Xte(Zv,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=oS(Zv,n.__scopeTooltip);return d.jsx(dg,{present:r||o.open,children:o.disableHoverableContent?d.jsx(WB,{side:i,...s,ref:e}):d.jsx(Qte,{side:i,...s,ref:e})})}),Qte=D.forwardRef((n,e)=>{const t=oS(Zv,n.__scopeTooltip),r=zB(Zv,n.__scopeTooltip),i=D.useRef(null),s=$i(e,i),[o,a]=D.useState(null),{trigger:l,onClose:c}=t,u=i.current,{onPointerInTransitChange:h}=r,p=D.useCallback(()=>{a(null),h(!1)},[h]),f=D.useCallback((b,y)=>{const _=b.currentTarget,w={x:b.clientX,y:b.clientY},A=nne(w,_.getBoundingClientRect()),E=rne(w,A),C=ine(y.getBoundingClientRect()),F=one([...E,...C]);a(F),h(!0)},[h]);return D.useEffect(()=>()=>p(),[p]),D.useEffect(()=>{if(l&&u){const b=_=>f(_,u),y=_=>f(_,l);return l.addEventListener("pointerleave",b),u.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",y)}}},[l,u,f,p]),D.useEffect(()=>{if(o){const b=y=>{const _=y.target,w={x:y.clientX,y:y.clientY},A=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),E=!sne(w,o);A?p():E&&(p(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,u,o,c,p]),d.jsx(WB,{...n,ref:s})}),[Jte,Zte]=sS(HB,{isInside:!1}),ene=WQ("TooltipContent"),WB=D.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=oS(Zv,t),c=dR(t),{onClose:u}=l;return D.useEffect(()=>(document.addEventListener(jD,u),()=>document.removeEventListener(jD,u)),[u]),D.useEffect(()=>{if(l.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(XE,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(BB,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(ene,{children:r}),d.jsx(Jte,{scope:t,isInside:!0,children:d.jsx(mJ,{id:l.contentId,role:"tooltip",children:i||r})})]})})});qB.displayName=Zv;var GB="TooltipArrow",tne=D.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=dR(t);return Zte(GB,t).isInside?null:d.jsx(UB,{...i,...r,ref:e})});tne.displayName=GB;function nne(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function rne(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function ine(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function sne(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,h=l.x,p=l.y;u>r!=p>r&&t<(h-c)*(r-u)/(p-u)+c&&(i=!i)}return i}function one(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),ane(e)}function ane(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var lne=$B,KB=qB;const cne=lne,une=D.forwardRef(({className:n,sideOffset:e=4,...t},r)=>d.jsx(KB,{ref:r,sideOffset:e,className:vr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));une.displayName=KB.displayName;var aS=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lS=typeof window>"u"||"Deno"in globalThis;function yl(){}function dne(n,e){return typeof n=="function"?n(e):n}function hne(n){return typeof n=="number"&&n>=0&&n!==1/0}function fne(n,e){return Math.max(n+(e||0)-Date.now(),0)}function mk(n,e){return typeof n=="function"?n(e):n}function pne(n,e){return typeof n=="function"?n(e):n}function OD(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==hR(o,e.options))return!1}else if(!Gw(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function FD(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Ww(e.options.mutationKey)!==Ww(s))return!1}else if(!Gw(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function hR(n,e){return((e==null?void 0:e.queryKeyHashFn)||Ww)(n)}function Ww(n){return JSON.stringify(n,(e,t)=>gk(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Gw(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Gw(n[t],e[t])):!1}function YB(n,e){if(n===e)return n;const t=BD(n)&&BD(e);if(t||gk(n)&&gk(e)){const r=t?n:Object.keys(n),i=r.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const h=t?u:s[u];(!t&&l.has(h)||t)&&n[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=YB(n[h],e[h]),a[h]===n[h]&&n[h]!==void 0&&c++)}return i===o&&c===i?n:a}return e}function BD(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function gk(n){if(!UD(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!UD(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function UD(n){return Object.prototype.toString.call(n)==="[object Object]"}function mne(n){return new Promise(e=>{setTimeout(e,n)})}function gne(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?YB(n,e):e}function vne(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function yne(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var fR=Symbol();function XB(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===fR?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Ip,_h,F0,r8,wne=(r8=class extends aS{constructor(){super();K(this,Ip);K(this,_h);K(this,F0);z(this,F0,e=>{if(!lS&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){m(this,_h)||this.setEventListener(m(this,F0))}onUnsubscribe(){var e;this.hasListeners()||((e=m(this,_h))==null||e.call(this),z(this,_h,void 0))}setEventListener(e){var t;z(this,F0,e),(t=m(this,_h))==null||t.call(this),z(this,_h,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){m(this,Ip)!==e&&(z(this,Ip,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof m(this,Ip)=="boolean"?m(this,Ip):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ip=new WeakMap,_h=new WeakMap,F0=new WeakMap,r8),QB=new wne,B0,Ah,U0,i8,bne=(i8=class extends aS{constructor(){super();K(this,B0,!0);K(this,Ah);K(this,U0);z(this,U0,e=>{if(!lS&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){m(this,Ah)||this.setEventListener(m(this,U0))}onUnsubscribe(){var e;this.hasListeners()||((e=m(this,Ah))==null||e.call(this),z(this,Ah,void 0))}setEventListener(e){var t;z(this,U0,e),(t=m(this,Ah))==null||t.call(this),z(this,Ah,e(this.setOnline.bind(this)))}setOnline(e){m(this,B0)!==e&&(z(this,B0,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return m(this,B0)}},B0=new WeakMap,Ah=new WeakMap,U0=new WeakMap,i8),RA=new bne;function xne(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function _ne(n){return Math.min(1e3*2**n,3e4)}function JB(n){return(n??"online")==="online"?RA.isOnline():!0}var ZB=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function eN(n){return n instanceof ZB}function eU(n){let e=!1,t=0,r=!1,i;const s=xne(),o=y=>{var _;r||(p(new ZB(y)),(_=n.abort)==null||_.call(n))},a=()=>{e=!0},l=()=>{e=!1},c=()=>QB.isFocused()&&(n.networkMode==="always"||RA.isOnline())&&n.canRun(),u=()=>JB(n.networkMode)&&n.canRun(),h=y=>{var _;r||(r=!0,(_=n.onSuccess)==null||_.call(n,y),i==null||i(),s.resolve(y))},p=y=>{var _;r||(r=!0,(_=n.onError)==null||_.call(n,y),i==null||i(),s.reject(y))},f=()=>new Promise(y=>{var _;i=w=>{(r||c())&&y(w)},(_=n.onPause)==null||_.call(n)}).then(()=>{var y;i=void 0,r||(y=n.onContinue)==null||y.call(n)}),b=()=>{if(r)return;let y;const _=t===0?n.initialPromise:void 0;try{y=_??n.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(h).catch(w=>{var V;if(r)return;const A=n.retry??(lS?0:3),E=n.retryDelay??_ne,C=typeof E=="function"?E(t,w):E,F=A===!0||typeof A=="number"&&t<A||typeof A=="function"&&A(t,w);if(e||!F){p(w);return}t++,(V=n.onFail)==null||V.call(n,t,w),mne(C).then(()=>c()?void 0:f()).then(()=>{e?p(w):b()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?b():f().then(b),s)}}var Ane=n=>setTimeout(n,0);function Ene(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=Ane;const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Ws=Ene(),Pp,s8,tU=(s8=class{constructor(){K(this,Pp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hne(this.gcTime)&&z(this,Pp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(lS?1/0:5*60*1e3))}clearGcTimeout(){m(this,Pp)&&(clearTimeout(m(this,Pp)),z(this,Pp,void 0))}},Pp=new WeakMap,s8),V0,Rp,Ma,Lp,_s,Ab,Dp,xl,Cu,o8,Sne=(o8=class extends tU{constructor(t){super();K(this,xl);K(this,V0);K(this,Rp);K(this,Ma);K(this,Lp);K(this,_s);K(this,Ab);K(this,Dp);z(this,Dp,!1),z(this,Ab,t.defaultOptions),this.setOptions(t.options),this.observers=[],z(this,Lp,t.client),z(this,Ma,m(this,Lp).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,z(this,V0,Nne(this.options)),this.state=t.state??m(this,V0),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=m(this,_s))==null?void 0:t.promise}setOptions(t){this.options={...m(this,Ab),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&m(this,Ma).remove(this)}setData(t,r){const i=gne(this.state.data,t,this.options);return W(this,xl,Cu).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(t,r){W(this,xl,Cu).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var i,s;const r=(i=m(this,_s))==null?void 0:i.promise;return(s=m(this,_s))==null||s.cancel(t),r?r.then(yl).catch(yl):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(m(this,V0))}isActive(){return this.observers.some(t=>pne(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>mk(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!fne(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=m(this,_s))==null||r.continue()}onOnline(){var r;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=m(this,_s))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),m(this,Ma).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(m(this,_s)&&(m(this,Dp)?m(this,_s).cancel({revert:!0}):m(this,_s).cancelRetry()),this.scheduleGc()),m(this,Ma).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||W(this,xl,Cu).call(this,{type:"invalidate"})}fetch(t,r){var u,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(m(this,_s))return m(this,_s).continueRetry(),m(this,_s).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(b=>b.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(z(this,Dp,!0),i.signal)})},o=()=>{const f=XB(this.options,r),y=(()=>{const _={client:m(this,Lp),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return z(this,Dp,!1),this.options.persister?this.options.persister(f,y,this):f(y)},l=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:m(this,Lp),state:this.state,fetchFn:o};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(l,this),z(this,Rp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&W(this,xl,Cu).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=f=>{var b,y,_,w;eN(f)&&f.silent||W(this,xl,Cu).call(this,{type:"error",error:f}),eN(f)||((y=(b=m(this,Ma).config).onError)==null||y.call(b,f,this),(w=(_=m(this,Ma).config).onSettled)==null||w.call(_,this.state.data,f,this)),this.scheduleGc()};return z(this,_s,eU({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var b,y,_,w;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(A){c(A);return}(y=(b=m(this,Ma).config).onSuccess)==null||y.call(b,f,this),(w=(_=m(this,Ma).config).onSettled)==null||w.call(_,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,b)=>{W(this,xl,Cu).call(this,{type:"failed",failureCount:f,error:b})},onPause:()=>{W(this,xl,Cu).call(this,{type:"pause"})},onContinue:()=>{W(this,xl,Cu).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),m(this,_s).start()}},V0=new WeakMap,Rp=new WeakMap,Ma=new WeakMap,Lp=new WeakMap,_s=new WeakMap,Ab=new WeakMap,Dp=new WeakMap,xl=new WeakSet,Cu=function(t){const r=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Cne(i.data,this.options),fetchMeta:t.meta??null};case"success":return z(this,Rp,void 0),{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return eN(s)&&s.revert&&m(this,Rp)?{...m(this,Rp),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=r(this.state),Ws.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),m(this,Ma).notify({query:this,type:"updated",action:t})})},o8);function Cne(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:JB(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Nne(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var gc,a8,Tne=(a8=class extends aS{constructor(e={}){super();K(this,gc);this.config=e,z(this,gc,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??hR(i,t);let o=this.get(s);return o||(o=new Sne({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){m(this,gc).has(e.queryHash)||(m(this,gc).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=m(this,gc).get(e.queryHash);t&&(e.destroy(),t===e&&m(this,gc).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ws.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return m(this,gc).get(e)}getAll(){return[...m(this,gc).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>OD(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>OD(e,r)):t}notify(e){Ws.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ws.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ws.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gc=new WeakMap,a8),vc,Hs,Mp,yc,ch,l8,kne=(l8=class extends tU{constructor(t){super();K(this,yc);K(this,vc);K(this,Hs);K(this,Mp);this.mutationId=t.mutationId,z(this,Hs,t.mutationCache),z(this,vc,[]),this.state=t.state||Ine(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){m(this,vc).includes(t)||(m(this,vc).push(t),this.clearGcTimeout(),m(this,Hs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){z(this,vc,m(this,vc).filter(r=>r!==t)),this.scheduleGc(),m(this,Hs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){m(this,vc).length||(this.state.status==="pending"?this.scheduleGc():m(this,Hs).remove(this))}continue(){var t;return((t=m(this,Mp))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,c,u,h,p,f,b,y,_,w,A,E,C,F,V,L,N,I;const r=()=>{W(this,yc,ch).call(this,{type:"continue"})};z(this,Mp,eU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,k)=>{W(this,yc,ch).call(this,{type:"failed",failureCount:j,error:k})},onPause:()=>{W(this,yc,ch).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>m(this,Hs).canRun(this)}));const i=this.state.status==="pending",s=!m(this,Mp).canStart();try{if(i)r();else{W(this,yc,ch).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(o=m(this,Hs).config).onMutate)==null?void 0:a.call(o,t,this));const k=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));k!==this.state.context&&W(this,yc,ch).call(this,{type:"pending",context:k,variables:t,isPaused:s})}const j=await m(this,Mp).start();return await((h=(u=m(this,Hs).config).onSuccess)==null?void 0:h.call(u,j,t,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,j,t,this.state.context)),await((y=(b=m(this,Hs).config).onSettled)==null?void 0:y.call(b,j,null,this.state.variables,this.state.context,this)),await((w=(_=this.options).onSettled)==null?void 0:w.call(_,j,null,t,this.state.context)),W(this,yc,ch).call(this,{type:"success",data:j}),j}catch(j){try{throw await((E=(A=m(this,Hs).config).onError)==null?void 0:E.call(A,j,t,this.state.context,this)),await((F=(C=this.options).onError)==null?void 0:F.call(C,j,t,this.state.context)),await((L=(V=m(this,Hs).config).onSettled)==null?void 0:L.call(V,void 0,j,this.state.variables,this.state.context,this)),await((I=(N=this.options).onSettled)==null?void 0:I.call(N,void 0,j,t,this.state.context)),j}finally{W(this,yc,ch).call(this,{type:"error",error:j})}}finally{m(this,Hs).runNext(this)}}},vc=new WeakMap,Hs=new WeakMap,Mp=new WeakMap,yc=new WeakSet,ch=function(t){const r=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ws.batch(()=>{m(this,vc).forEach(i=>{i.onMutationUpdate(t)}),m(this,Hs).notify({mutation:this,type:"updated",action:t})})},l8);function Ine(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Du,_l,Eb,c8,Pne=(c8=class extends aS{constructor(e={}){super();K(this,Du);K(this,_l);K(this,Eb);this.config=e,z(this,Du,new Set),z(this,_l,new Map),z(this,Eb,0)}build(e,t,r){const i=new kne({mutationCache:this,mutationId:++Ii(this,Eb)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){m(this,Du).add(e);const t=d_(e);if(typeof t=="string"){const r=m(this,_l).get(t);r?r.push(e):m(this,_l).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(m(this,Du).delete(e)){const t=d_(e);if(typeof t=="string"){const r=m(this,_l).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&m(this,_l).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=d_(e);if(typeof t=="string"){const r=m(this,_l).get(t),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=d_(e);if(typeof t=="string"){const i=(r=m(this,_l).get(t))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ws.batch(()=>{m(this,Du).forEach(e=>{this.notify({type:"removed",mutation:e})}),m(this,Du).clear(),m(this,_l).clear()})}getAll(){return Array.from(m(this,Du))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>FD(t,r))}findAll(e={}){return this.getAll().filter(t=>FD(e,t))}notify(e){Ws.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ws.batch(()=>Promise.all(e.map(t=>t.continue().catch(yl))))}},Du=new WeakMap,_l=new WeakMap,Eb=new WeakMap,c8);function d_(n){var e;return(e=n.options.scope)==null?void 0:e.id}function VD(n){return{onFetch:(e,t)=>{var u,h,p,f,b;const r=e.options,i=(p=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const _=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},w=XB(e.options,e.fetchOptions),A=async(E,C,F)=>{if(y)return Promise.reject();if(C==null&&E.pages.length)return Promise.resolve(E);const L=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:C,direction:F?"backward":"forward",meta:e.options.meta};return _(k),k})(),N=await w(L),{maxPages:I}=e.options,j=F?yne:vne;return{pages:j(E.pages,N,I),pageParams:j(E.pageParams,C,I)}};if(i&&s.length){const E=i==="backward",C=E?Rne:zD,F={pages:s,pageParams:o},V=C(r,F);a=await A(F,V,E)}else{const E=n??s.length;do{const C=l===0?o[0]??r.initialPageParam:zD(r,a);if(l>0&&C==null)break;a=await A(a,C),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var y,_;return(_=(y=e.options).persister)==null?void 0:_.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function zD(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function Rne(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Ur,Eh,Sh,z0,$0,Ch,H0,q0,u8,Lne=(u8=class{constructor(n={}){K(this,Ur);K(this,Eh);K(this,Sh);K(this,z0);K(this,$0);K(this,Ch);K(this,H0);K(this,q0);z(this,Ur,n.queryCache||new Tne),z(this,Eh,n.mutationCache||new Pne),z(this,Sh,n.defaultOptions||{}),z(this,z0,new Map),z(this,$0,new Map),z(this,Ch,0)}mount(){Ii(this,Ch)._++,m(this,Ch)===1&&(z(this,H0,QB.subscribe(async n=>{n&&(await this.resumePausedMutations(),m(this,Ur).onFocus())})),z(this,q0,RA.subscribe(async n=>{n&&(await this.resumePausedMutations(),m(this,Ur).onOnline())})))}unmount(){var n,e;Ii(this,Ch)._--,m(this,Ch)===0&&((n=m(this,H0))==null||n.call(this),z(this,H0,void 0),(e=m(this,q0))==null||e.call(this),z(this,q0,void 0))}isFetching(n){return m(this,Ur).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return m(this,Eh).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=m(this,Ur).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=m(this,Ur).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(mk(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return m(this,Ur).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=m(this,Ur).get(r.queryHash),s=i==null?void 0:i.state.data,o=dne(e,s);if(o!==void 0)return m(this,Ur).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Ws.batch(()=>m(this,Ur).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=m(this,Ur).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=m(this,Ur);Ws.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=m(this,Ur);return Ws.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Ws.batch(()=>m(this,Ur).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(yl).catch(yl)}invalidateQueries(n,e={}){return Ws.batch(()=>(m(this,Ur).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Ws.batch(()=>m(this,Ur).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(yl)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(yl)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=m(this,Ur).build(this,e);return t.isStaleByTime(mk(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(yl).catch(yl)}fetchInfiniteQuery(n){return n.behavior=VD(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(yl).catch(yl)}ensureInfiniteQueryData(n){return n.behavior=VD(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return RA.isOnline()?m(this,Eh).resumePausedMutations():Promise.resolve()}getQueryCache(){return m(this,Ur)}getMutationCache(){return m(this,Eh)}getDefaultOptions(){return m(this,Sh)}setDefaultOptions(n){z(this,Sh,n)}setQueryDefaults(n,e){m(this,z0).set(Ww(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...m(this,z0).values()],t={};return e.forEach(r=>{Gw(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){m(this,$0).set(Ww(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...m(this,$0).values()],t={};return e.forEach(r=>{Gw(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...m(this,Sh).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=hR(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===fR&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...m(this,Sh).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){m(this,Ur).clear(),m(this,Eh).clear()}},Ur=new WeakMap,Eh=new WeakMap,Sh=new WeakMap,z0=new WeakMap,$0=new WeakMap,Ch=new WeakMap,H0=new WeakMap,q0=new WeakMap,u8),Dne=D.createContext(void 0),Mne=({client:n,children:e})=>(D.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d.jsx(Dne.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kw(){return Kw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Kw.apply(this,arguments)}var nf;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(nf||(nf={}));const $D="popstate";function jne(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return vk("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:LA(i)}return Fne(e,t,null,n)}function ri(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function nU(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function One(){return Math.random().toString(36).substr(2,8)}function HD(n,e){return{usr:n.state,key:n.key,idx:e}}function vk(n,e,t,r){return t===void 0&&(t=null),Kw({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?C1(e):e,{state:t,key:e&&e.key||r||One()})}function LA(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function C1(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Fne(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=nf.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Kw({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=nf.Pop;let _=u(),w=_==null?null:_-c;c=_,l&&l({action:a,location:y.location,delta:w})}function p(_,w){a=nf.Push;let A=vk(y.location,_,w);c=u()+1;let E=HD(A,c),C=y.createHref(A);try{o.pushState(E,"",C)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(C)}s&&l&&l({action:a,location:y.location,delta:1})}function f(_,w){a=nf.Replace;let A=vk(y.location,_,w);c=u();let E=HD(A,c),C=y.createHref(A);o.replaceState(E,"",C),s&&l&&l({action:a,location:y.location,delta:0})}function b(_){let w=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof _=="string"?_:LA(_);return A=A.replace(/ $/,"%20"),ri(w,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,w)}let y={get action(){return a},get location(){return n(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($D,h),l=_,()=>{i.removeEventListener($D,h),l=null}},createHref(_){return e(i,_)},createURL:b,encodeLocation(_){let w=b(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:f,go(_){return o.go(_)}};return y}var qD;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(qD||(qD={}));function Bne(n,e,t){return t===void 0&&(t="/"),Une(n,e,t,!1)}function Une(n,e,t,r){let i=typeof e=="string"?C1(e):e,s=pR(i.pathname||"/",t);if(s==null)return null;let o=rU(n);Vne(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Jne(s);a=Xne(o[l],c,r)}return a}function rU(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ri(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=vf([r,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(ri(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),rU(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Kne(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of iU(s.path))i(s,o,l)}),e}function iU(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=iU(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function Vne(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Yne(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const zne=/^:[\w-]+$/,$ne=3,Hne=2,qne=1,Wne=10,Gne=-2,WD=n=>n==="*";function Kne(n,e){let t=n.split("/"),r=t.length;return t.some(WD)&&(r+=Gne),e&&(r+=Hne),t.filter(i=>!WD(i)).reduce((i,s)=>i+(zne.test(s)?$ne:s===""?qne:Wne),r)}function Yne(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Xne(n,e,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=GD({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&t&&!r[r.length-1].route.index&&(h=GD({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:vf([s,h.pathname]),pathnameBase:nre(vf([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=vf([s,h.pathnameBase]))}return o}function GD(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Qne(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:p,isOptional:f}=u;if(p==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const b=a[h];return f&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function Qne(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),nU(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Jne(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nU(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function pR(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Zne(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?C1(n):n;return{pathname:t?t.startsWith("/")?t:ere(t,e):e,search:rre(r),hash:ire(i)}}function ere(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function tN(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tre(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mR(n,e){let t=tre(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function gR(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=C1(n):(i=Kw({},n),ri(!i.pathname||!i.pathname.includes("?"),tN("?","pathname","search",i)),ri(!i.pathname||!i.pathname.includes("#"),tN("#","pathname","hash",i)),ri(!i.search||!i.search.includes("#"),tN("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=Zne(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const vf=n=>n.join("/").replace(/\/\/+/g,"/"),nre=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rre=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ire=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sre(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const sU=["post","put","patch","delete"];new Set(sU);const ore=["get",...sU];new Set(ore);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yw(){return Yw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yw.apply(this,arguments)}const vR=D.createContext(null),are=D.createContext(null),Bf=D.createContext(null),cS=D.createContext(null),ru=D.createContext({outlet:null,matches:[],isDataRoute:!1}),oU=D.createContext(null);function lre(n,e){let{relative:t}=e===void 0?{}:e;N1()||ri(!1);let{basename:r,navigator:i}=D.useContext(Bf),{hash:s,pathname:o,search:a}=lU(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:vf([r,o])),i.createHref({pathname:l,search:a,hash:s})}function N1(){return D.useContext(cS)!=null}function Dd(){return N1()||ri(!1),D.useContext(cS).location}function aU(n){D.useContext(Bf).static||D.useLayoutEffect(n)}function Uf(){let{isDataRoute:n}=D.useContext(ru);return n?Ere():cre()}function cre(){N1()||ri(!1);let n=D.useContext(vR),{basename:e,future:t,navigator:r}=D.useContext(Bf),{matches:i}=D.useContext(ru),{pathname:s}=Dd(),o=JSON.stringify(mR(i,t.v7_relativeSplatPath)),a=D.useRef(!1);return aU(()=>{a.current=!0}),D.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=gR(c,JSON.parse(o),s,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:vf([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,n])}const ure=D.createContext(null);function dre(n){let e=D.useContext(ru).outlet;return e&&D.createElement(ure.Provider,{value:n},e)}function hre(){let{matches:n}=D.useContext(ru),e=n[n.length-1];return e?e.params:{}}function lU(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=D.useContext(Bf),{matches:i}=D.useContext(ru),{pathname:s}=Dd(),o=JSON.stringify(mR(i,r.v7_relativeSplatPath));return D.useMemo(()=>gR(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function fre(n,e){return pre(n,e)}function pre(n,e,t,r){N1()||ri(!1);let{navigator:i}=D.useContext(Bf),{matches:s}=D.useContext(ru),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Dd(),u;if(e){var h;let _=typeof e=="string"?C1(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||ri(!1),u=_}else u=c;let p=u.pathname||"/",f=p;if(l!=="/"){let _=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=Bne(n,{pathname:f}),y=wre(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:vf([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:vf([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,t,r);return e&&y?D.createElement(cS.Provider,{value:{location:Yw({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:nf.Pop}},y):y}function mre(){let n=Are(),e=sre(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:i},t):null,null)}const gre=D.createElement(mre,null);class vre extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(ru.Provider,{value:this.props.routeContext},D.createElement(oU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yre(n){let{routeContext:e,match:t,children:r}=n,i=D.useContext(vR);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(ru.Provider,{value:e},r)}function wre(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||ri(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:f}=t,b=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let f,b=!1,y=null,_=null;t&&(f=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||gre,l&&(c<0&&p===0?(b=!0,_=null):c===p&&(b=!0,_=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),A=()=>{let E;return f?E=y:b?E=_:h.route.Component?E=D.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=u,D.createElement(yre,{match:h,routeContext:{outlet:u,matches:w,isDataRoute:t!=null},children:E})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?D.createElement(vre,{location:t.location,revalidation:t.revalidation,component:y,error:f,children:A(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):A()},null)}var cU=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(cU||{}),DA=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(DA||{});function bre(n){let e=D.useContext(vR);return e||ri(!1),e}function xre(n){let e=D.useContext(are);return e||ri(!1),e}function _re(n){let e=D.useContext(ru);return e||ri(!1),e}function uU(n){let e=_re(),t=e.matches[e.matches.length-1];return t.route.id||ri(!1),t.route.id}function Are(){var n;let e=D.useContext(oU),t=xre(DA.UseRouteError),r=uU(DA.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Ere(){let{router:n}=bre(cU.UseNavigateStable),e=uU(DA.UseNavigateStable),t=D.useRef(!1);return aU(()=>{t.current=!0}),D.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Yw({fromRouteId:e},s)))},[n,e])}function Sre(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function KD(n){let{to:e,replace:t,state:r,relative:i}=n;N1()||ri(!1);let{future:s,static:o}=D.useContext(Bf),{matches:a}=D.useContext(ru),{pathname:l}=Dd(),c=Uf(),u=gR(e,mR(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return D.useEffect(()=>c(JSON.parse(h),{replace:t,state:r,relative:i}),[c,h,i,t,r]),null}function Cre(n){return dre(n.context)}function po(n){ri(!1)}function Nre(n){let{basename:e="/",children:t=null,location:r,navigationType:i=nf.Pop,navigator:s,static:o=!1,future:a}=n;N1()&&ri(!1);let l=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:l,navigator:s,static:o,future:Yw({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=C1(r));let{pathname:u="/",search:h="",hash:p="",state:f=null,key:b="default"}=r,y=D.useMemo(()=>{let _=pR(u,l);return _==null?null:{location:{pathname:_,search:h,hash:p,state:f,key:b},navigationType:i}},[l,u,h,p,f,b,i]);return y==null?null:D.createElement(Bf.Provider,{value:c},D.createElement(cS.Provider,{children:t,value:y}))}function Tre(n){let{children:e,location:t}=n;return fre(yk(e),t)}new Promise(()=>{});function yk(n,e){e===void 0&&(e=[]);let t=[];return D.Children.forEach(n,(r,i)=>{if(!D.isValidElement(r))return;let s=[...e,i];if(r.type===D.Fragment){t.push.apply(t,yk(r.props.children,s));return}r.type!==po&&ri(!1),!r.props.index||!r.props.children||ri(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yk(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wk(){return wk=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wk.apply(this,arguments)}function kre(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Ire(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Pre(n,e){return n.button===0&&(!e||e==="_self")&&!Ire(n)}function bk(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function Rre(n,e){let t=bk(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}const Lre=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Dre="6";try{window.__reactRouterVersion=Dre}catch{}const Mre="startTransition",YD=ZP[Mre];function jre(n){let{basename:e,children:t,future:r,window:i}=n,s=D.useRef();s.current==null&&(s.current=jne({window:i,v5Compat:!0}));let o=s.current,[a,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=D.useCallback(h=>{c&&YD?YD(()=>l(h)):l(h)},[l,c]);return D.useLayoutEffect(()=>o.listen(u),[o,u]),D.useEffect(()=>Sre(r),[r]),D.createElement(Nre,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}const Ore=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=D.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,p=kre(e,Lre),{basename:f}=D.useContext(Bf),b,y=!1;if(typeof c=="string"&&Fre.test(c)&&(b=c,Ore))try{let E=new URL(window.location.href),C=c.startsWith("//")?new URL(E.protocol+c):new URL(c),F=pR(C.pathname,f);C.origin===E.origin&&F!=null?c=F+C.search+C.hash:y=!0}catch{}let _=lre(c,{relative:i}),w=Bre(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function A(E){r&&r(E),E.defaultPrevented||w(E)}return D.createElement("a",wk({},p,{href:b||_,onClick:y||s?r:A,ref:t,target:l}))});var XD;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(XD||(XD={}));var QD;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(QD||(QD={}));function Bre(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Uf(),c=Dd(),u=lU(n,{relative:o});return D.useCallback(h=>{if(Pre(h,t)){h.preventDefault();let p=r!==void 0?r:LA(c)===LA(u);l(n,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,t,n,s,o,a])}function yR(n){let e=D.useRef(bk(n)),t=D.useRef(!1),r=Dd(),i=D.useMemo(()=>Rre(r.search,t.current?null:e.current),[r.search]),s=Uf(),o=D.useCallback((a,l)=>{const c=bk(typeof a=="function"?a(i):a);t.current=!0,s("?"+c,l)},[s,i]);return[i,o]}const Ure=Q4("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-lg hover:-translate-y-0.5",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-primary text-primary-foreground shadow-lg hover:shadow-xl hover:-translate-y-1 hover:shadow-glow",heroOutline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",success:"bg-success text-success-foreground hover:bg-success/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg font-semibold",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ye=D.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?HQ:"button";return d.jsx(o,{className:vr(Ure({variant:e,size:t,className:n})),ref:s,...i})});Ye.displayName="Button";const ui=D.forwardRef(({className:n,type:e,...t},r)=>d.jsx("input",{type:e,className:vr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));ui.displayName="Input";const Vre="/assets/logo-Dp4nOnnn.png",no=({className:n})=>{const e=Vre;return d.jsx(et,{to:"/",className:`flex items-center gap-2.5 ${n}`,children:d.jsx("img",{src:e,alt:"Logo",className:"h-full w-auto shrink-0 object-contain rounded-xl"})})};var zre=D.createContext(void 0);function dU(n){const e=D.useContext(zre);return n||e||"ltr"}var nN=0;function $re(){D.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??JD()),document.body.insertAdjacentElement("beforeend",n[1]??JD()),nN++,()=>{nN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),nN--}},[])}function JD(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var rN="focusScope.autoFocusOnMount",iN="focusScope.autoFocusOnUnmount",ZD={bubbles:!1,cancelable:!0},Hre="FocusScope",hU=D.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,l]=D.useState(null),c=ya(i),u=ya(s),h=D.useRef(null),p=$i(e,y=>l(y)),f=D.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;D.useEffect(()=>{if(r){let y=function(E){if(f.paused||!a)return;const C=E.target;a.contains(C)?h.current=C:uh(h.current,{select:!0})},_=function(E){if(f.paused||!a)return;const C=E.relatedTarget;C!==null&&(a.contains(C)||uh(h.current,{select:!0}))},w=function(E){if(document.activeElement===document.body)for(const F of E)F.removedNodes.length>0&&uh(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const A=new MutationObserver(w);return a&&A.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),A.disconnect()}}},[r,a,f.paused]),D.useEffect(()=>{if(a){tM.add(f);const y=document.activeElement;if(!a.contains(y)){const w=new CustomEvent(rN,ZD);a.addEventListener(rN,c),a.dispatchEvent(w),w.defaultPrevented||(qre(Xre(fU(a)),{select:!0}),document.activeElement===y&&uh(a))}return()=>{a.removeEventListener(rN,c),setTimeout(()=>{const w=new CustomEvent(iN,ZD);a.addEventListener(iN,u),a.dispatchEvent(w),w.defaultPrevented||uh(y??document.body,{select:!0}),a.removeEventListener(iN,u),tM.remove(f)},0)}}},[a,c,u,f]);const b=D.useCallback(y=>{if(!t&&!r||f.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(_&&w){const A=y.currentTarget,[E,C]=Wre(A);E&&C?!y.shiftKey&&w===C?(y.preventDefault(),t&&uh(E,{select:!0})):y.shiftKey&&w===E&&(y.preventDefault(),t&&uh(C,{select:!0})):w===A&&y.preventDefault()}},[t,r,f.paused]);return d.jsx(gr.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});hU.displayName=Hre;function qre(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(uh(r,{select:e}),document.activeElement!==t)return}function Wre(n){const e=fU(n),t=eM(e,n),r=eM(e.reverse(),n);return[t,r]}function fU(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function eM(n,e){for(const t of n)if(!Gre(t,{upTo:e}))return t}function Gre(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Kre(n){return n instanceof HTMLInputElement&&"select"in n}function uh(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Kre(n)&&e&&n.select()}}var tM=Yre();function Yre(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=nM(n,e),n.unshift(e)},remove(e){var t;n=nM(n,e),(t=n[0])==null||t.resume()}}}function nM(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function Xre(n){return n.filter(e=>e.tagName!=="A")}var sN="rovingFocusGroup.onEntryFocus",Qre={bubbles:!1,cancelable:!0},K2="RovingFocusGroup",[xk,pU,Jre]=H4(K2),[Zre,mU]=ug(K2,[Jre]),[eie,tie]=Zre(K2),gU=D.forwardRef((n,e)=>d.jsx(xk.Provider,{scope:n.__scopeRovingFocusGroup,children:d.jsx(xk.Slot,{scope:n.__scopeRovingFocusGroup,children:d.jsx(nie,{...n,ref:e})})}));gU.displayName=K2;var nie=D.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=n,p=D.useRef(null),f=$i(e,p),b=dU(s),[y,_]=G4({prop:o,defaultProp:a??null,onChange:l,caller:K2}),[w,A]=D.useState(!1),E=ya(c),C=pU(t),F=D.useRef(!1),[V,L]=D.useState(0);return D.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(sN,E),()=>N.removeEventListener(sN,E)},[E]),d.jsx(eie,{scope:t,orientation:r,dir:b,loop:i,currentTabStopId:y,onItemFocus:D.useCallback(N=>_(N),[_]),onItemShiftTab:D.useCallback(()=>A(!0),[]),onFocusableItemAdd:D.useCallback(()=>L(N=>N+1),[]),onFocusableItemRemove:D.useCallback(()=>L(N=>N-1),[]),children:d.jsx(gr.div,{tabIndex:w||V===0?-1:0,"data-orientation":r,...h,ref:f,style:{outline:"none",...n.style},onMouseDown:jt(n.onMouseDown,()=>{F.current=!0}),onFocus:jt(n.onFocus,N=>{const I=!F.current;if(N.target===N.currentTarget&&I&&!w){const j=new CustomEvent(sN,Qre);if(N.currentTarget.dispatchEvent(j),!j.defaultPrevented){const k=C().filter(de=>de.focusable),M=k.find(de=>de.active),R=k.find(de=>de.id===y),ce=[M,R,...k].filter(Boolean).map(de=>de.ref.current);wU(ce,u)}}F.current=!1}),onBlur:jt(n.onBlur,()=>A(!1))})})}),vU="RovingFocusGroupItem",yU=D.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=n,l=uk(),c=s||l,u=tie(vU,t),h=u.currentTabStopId===c,p=pU(t),{onFocusableItemAdd:f,onFocusableItemRemove:b,currentTabStopId:y}=u;return D.useEffect(()=>{if(r)return f(),()=>b()},[r,f,b]),d.jsx(xk.ItemSlot,{scope:t,id:c,focusable:r,active:i,children:d.jsx(gr.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:jt(n.onMouseDown,_=>{r?u.onItemFocus(c):_.preventDefault()}),onFocus:jt(n.onFocus,()=>u.onItemFocus(c)),onKeyDown:jt(n.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const w=sie(_,u.orientation,u.dir);if(w!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let E=p().filter(C=>C.focusable).map(C=>C.ref.current);if(w==="last")E.reverse();else if(w==="prev"||w==="next"){w==="prev"&&E.reverse();const C=E.indexOf(_.currentTarget);E=u.loop?oie(E,C+1):E.slice(C+1)}setTimeout(()=>wU(E))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:y!=null}):o})})});yU.displayName=vU;var rie={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iie(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function sie(n,e,t){const r=iie(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return rie[r]}function wU(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function oie(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var aie=gU,lie=yU,cie=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Dg=new WeakMap,h_=new WeakMap,f_={},oN=0,bU=function(n){return n&&(n.host||bU(n.parentNode))},uie=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=bU(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},die=function(n,e,t,r){var i=uie(e,Array.isArray(n)?n:[n]);f_[t]||(f_[t]=new WeakMap);var s=f_[t],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))u(p);else try{var f=p.getAttribute(r),b=f!==null&&f!=="false",y=(Dg.get(p)||0)+1,_=(s.get(p)||0)+1;Dg.set(p,y),s.set(p,_),o.push(p),y===1&&b&&h_.set(p,!0),_===1&&p.setAttribute(t,"true"),b||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return u(e),a.clear(),oN++,function(){o.forEach(function(h){var p=Dg.get(h)-1,f=s.get(h)-1;Dg.set(h,p),s.set(h,f),p||(h_.has(h)||h.removeAttribute(r),h_.delete(h)),f||h.removeAttribute(t)}),oN--,oN||(Dg=new WeakMap,Dg=new WeakMap,h_=new WeakMap,f_={})}},hie=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=cie(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),die(r,i,t,"aria-hidden")):function(){return null}},_k=function(n,e){return _k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},_k(n,e)};function fie(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_k(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ar=function(){return ar=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ar.apply(this,arguments)};function Y2(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function pie(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var s5="right-scroll-bar-position",o5="width-before-scroll-bar",mie="with-scroll-bars-hidden",gie="--removed-body-scroll-bar-size";function aN(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function vie(n,e){var t=D.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var yie=typeof window<"u"?D.useLayoutEffect:D.useEffect,rM=new WeakMap;function wie(n,e){var t=vie(null,function(r){return n.forEach(function(i){return aN(i,r)})});return yie(function(){var r=rM.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||aN(a,null)}),s.forEach(function(a){i.has(a)||aN(a,o)})}rM.set(t,n)},[n]),t}function bie(n){return n}function xie(n,e){e===void 0&&(e=bie);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),t}}}};return i}function _ie(n){n===void 0&&(n={});var e=xie(null);return e.options=ar({async:!0,ssr:!1},n),e}var xU=function(n){var e=n.sideCar,t=Y2(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return D.createElement(r,ar({},t))};xU.isSideCarExport=!0;function Aie(n,e){return n.useMedium(e),xU}var _U=_ie(),lN=function(){},uS=D.forwardRef(function(n,e){var t=D.useRef(null),r=D.useState({onScrollCapture:lN,onWheelCapture:lN,onTouchMoveCapture:lN}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,l=n.className,c=n.removeScrollBar,u=n.enabled,h=n.shards,p=n.sideCar,f=n.noRelative,b=n.noIsolation,y=n.inert,_=n.allowPinchZoom,w=n.as,A=w===void 0?"div":w,E=n.gapMode,C=Y2(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=p,V=wie([t,e]),L=ar(ar({},C),i);return D.createElement(D.Fragment,null,u&&D.createElement(F,{sideCar:_U,removeScrollBar:c,shards:h,noRelative:f,noIsolation:b,inert:y,setCallbacks:s,allowPinchZoom:!!_,lockRef:t,gapMode:E}),o?D.cloneElement(D.Children.only(a),ar(ar({},L),{ref:V})):D.createElement(A,ar({},L,{className:l,ref:V}),a))});uS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uS.classNames={fullWidth:o5,zeroRight:s5};var Eie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Sie(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Eie();return e&&n.setAttribute("nonce",e),n}function Cie(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Nie(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Tie=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Sie())&&(Cie(e,t),Nie(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},kie=function(){var n=Tie();return function(e,t){D.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},AU=function(){var n=kie(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},Iie={left:0,top:0,right:0,gap:0},cN=function(n){return parseInt(n||"",10)||0},Pie=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[cN(t),cN(r),cN(i)]},Rie=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Iie;var e=Pie(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},Lie=AU(),A0="data-scroll-locked",Die=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(mie,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(A0,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(s5,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(o5,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(s5," .").concat(s5,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(o5," .").concat(o5,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(A0,`] {
    `).concat(gie,": ").concat(a,`px;
  }
`)},iM=function(){var n=parseInt(document.body.getAttribute(A0)||"0",10);return isFinite(n)?n:0},Mie=function(){D.useEffect(function(){return document.body.setAttribute(A0,(iM()+1).toString()),function(){var n=iM()-1;n<=0?document.body.removeAttribute(A0):document.body.setAttribute(A0,n.toString())}},[])},jie=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;Mie();var s=D.useMemo(function(){return Rie(i)},[i]);return D.createElement(Lie,{styles:Die(s,!e,i,t?"":"!important")})},Ak=!1;if(typeof window<"u")try{var p_=Object.defineProperty({},"passive",{get:function(){return Ak=!0,!0}});window.addEventListener("test",p_,p_),window.removeEventListener("test",p_,p_)}catch{Ak=!1}var Mg=Ak?{passive:!1}:!1,Oie=function(n){return n.tagName==="TEXTAREA"},EU=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Oie(n)&&t[e]==="visible")},Fie=function(n){return EU(n,"overflowY")},Bie=function(n){return EU(n,"overflowX")},sM=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=SU(n,r);if(i){var s=CU(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Uie=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},Vie=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},SU=function(n,e){return n==="v"?Fie(e):Bie(e)},CU=function(n,e){return n==="v"?Uie(e):Vie(e)},zie=function(n,e){return n==="h"&&e==="rtl"?-1:1},$ie=function(n,e,t,r,i){var s=zie(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),c=!1,u=o>0,h=0,p=0;do{if(!a)break;var f=CU(n,a),b=f[0],y=f[1],_=f[2],w=y-_-s*b;(b||w)&&SU(n,a)&&(h+=w,p+=b);var A=a.parentNode;a=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!i)||!u&&(Math.abs(p)<1||!i))&&(c=!0),c},m_=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},oM=function(n){return[n.deltaX,n.deltaY]},aM=function(n){return n&&"current"in n?n.current:n},Hie=function(n,e){return n[0]===e[0]&&n[1]===e[1]},qie=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Wie=0,jg=[];function Gie(n){var e=D.useRef([]),t=D.useRef([0,0]),r=D.useRef(),i=D.useState(Wie++)[0],s=D.useState(AU)[0],o=D.useRef(n);D.useEffect(function(){o.current=n},[n]),D.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var y=pie([n.lockRef.current],(n.shards||[]).map(aM),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=D.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var w=m_(y),A=t.current,E="deltaX"in y?y.deltaX:A[0]-w[0],C="deltaY"in y?y.deltaY:A[1]-w[1],F,V=y.target,L=Math.abs(E)>Math.abs(C)?"h":"v";if("touches"in y&&L==="h"&&V.type==="range")return!1;var N=sM(L,V);if(!N)return!0;if(N?F=L:(F=L==="v"?"h":"v",N=sM(L,V)),!N)return!1;if(!r.current&&"changedTouches"in y&&(E||C)&&(r.current=F),!F)return!0;var I=r.current||F;return $ie(I,_,y,I==="h"?E:C,!0)},[]),l=D.useCallback(function(y){var _=y;if(!(!jg.length||jg[jg.length-1]!==s)){var w="deltaY"in _?oM(_):m_(_),A=e.current.filter(function(F){return F.name===_.type&&(F.target===_.target||_.target===F.shadowParent)&&Hie(F.delta,w)})[0];if(A&&A.should){_.cancelable&&_.preventDefault();return}if(!A){var E=(o.current.shards||[]).map(aM).filter(Boolean).filter(function(F){return F.contains(_.target)}),C=E.length>0?a(_,E[0]):!o.current.noIsolation;C&&_.cancelable&&_.preventDefault()}}},[]),c=D.useCallback(function(y,_,w,A){var E={name:y,delta:_,target:w,should:A,shadowParent:Kie(w)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(C){return C!==E})},1)},[]),u=D.useCallback(function(y){t.current=m_(y),r.current=void 0},[]),h=D.useCallback(function(y){c(y.type,oM(y),y.target,a(y,n.lockRef.current))},[]),p=D.useCallback(function(y){c(y.type,m_(y),y.target,a(y,n.lockRef.current))},[]);D.useEffect(function(){return jg.push(s),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Mg),document.addEventListener("touchmove",l,Mg),document.addEventListener("touchstart",u,Mg),function(){jg=jg.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,Mg),document.removeEventListener("touchmove",l,Mg),document.removeEventListener("touchstart",u,Mg)}},[]);var f=n.removeScrollBar,b=n.inert;return D.createElement(D.Fragment,null,b?D.createElement(s,{styles:qie(i)}):null,f?D.createElement(jie,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function Kie(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Yie=Aie(_U,Gie);var NU=D.forwardRef(function(n,e){return D.createElement(uS,ar({},n,{ref:e,sideCar:Yie}))});NU.classNames=uS.classNames;var Ek=["Enter"," "],Xie=["ArrowDown","PageUp","Home"],TU=["ArrowUp","PageDown","End"],Qie=[...Xie,...TU],Jie={ltr:[...Ek,"ArrowRight"],rtl:[...Ek,"ArrowLeft"]},Zie={ltr:["ArrowLeft"],rtl:["ArrowRight"]},X2="Menu",[Xw,ese,tse]=H4(X2),[hg,kU]=ug(X2,[tse,iS,mU]),dS=iS(),IU=mU(),[nse,fg]=hg(X2),[rse,Q2]=hg(X2),PU=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=n,a=dS(e),[l,c]=D.useState(null),u=D.useRef(!1),h=ya(s),p=dU(i);return D.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),d.jsx(qte,{...a,children:d.jsx(nse,{scope:e,open:t,onOpenChange:h,content:l,onContentChange:c,children:d.jsx(rse,{scope:e,onClose:D.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};PU.displayName=X2;var ise="MenuAnchor",wR=D.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=dS(t);return d.jsx(FB,{...i,...r,ref:e})});wR.displayName=ise;var bR="MenuPortal",[sse,RU]=hg(bR,{forceMount:void 0}),LU=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,s=fg(bR,e);return d.jsx(sse,{scope:e,forceMount:t,children:d.jsx(dg,{present:t||s.open,children:d.jsx(W4,{asChild:!0,container:i,children:r})})})};LU.displayName=bR;var Xa="MenuContent",[ose,xR]=hg(Xa),DU=D.forwardRef((n,e)=>{const t=RU(Xa,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=fg(Xa,n.__scopeMenu),o=Q2(Xa,n.__scopeMenu);return d.jsx(Xw.Provider,{scope:n.__scopeMenu,children:d.jsx(dg,{present:r||s.open,children:d.jsx(Xw.Slot,{scope:n.__scopeMenu,children:o.modal?d.jsx(ase,{...i,ref:e}):d.jsx(lse,{...i,ref:e})})})})}),ase=D.forwardRef((n,e)=>{const t=fg(Xa,n.__scopeMenu),r=D.useRef(null),i=$i(e,r);return D.useEffect(()=>{const s=r.current;if(s)return hie(s)},[]),d.jsx(_R,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:jt(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),lse=D.forwardRef((n,e)=>{const t=fg(Xa,n.__scopeMenu);return d.jsx(_R,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),cse=Vw("MenuContent.ScrollLock"),_R=D.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:f,disableOutsideScroll:b,...y}=n,_=fg(Xa,t),w=Q2(Xa,t),A=dS(t),E=IU(t),C=ese(t),[F,V]=D.useState(null),L=D.useRef(null),N=$i(e,L,_.onContentChange),I=D.useRef(0),j=D.useRef(""),k=D.useRef(0),M=D.useRef(null),R=D.useRef("right"),q=D.useRef(0),ce=b?NU:D.Fragment,de=b?{as:cse,allowPinchZoom:!0}:void 0,ae=ne=>{var ue,_e;const ge=j.current+ne,pe=C().filter(xe=>!xe.disabled),U=document.activeElement,X=(ue=pe.find(xe=>xe.ref.current===U))==null?void 0:ue.textValue,re=pe.map(xe=>xe.textValue),le=xse(re,ge,X),he=(_e=pe.find(xe=>xe.textValue===le))==null?void 0:_e.ref.current;(function xe(Ae){j.current=Ae,window.clearTimeout(I.current),Ae!==""&&(I.current=window.setTimeout(()=>xe(""),1e3))})(ge),he&&setTimeout(()=>he.focus())};D.useEffect(()=>()=>window.clearTimeout(I.current),[]),$re();const Q=D.useCallback(ne=>{var pe,U;return R.current===((pe=M.current)==null?void 0:pe.side)&&Ase(ne,(U=M.current)==null?void 0:U.area)},[]);return d.jsx(ose,{scope:t,searchRef:j,onItemEnter:D.useCallback(ne=>{Q(ne)&&ne.preventDefault()},[Q]),onItemLeave:D.useCallback(ne=>{var ge;Q(ne)||((ge=L.current)==null||ge.focus(),V(null))},[Q]),onTriggerLeave:D.useCallback(ne=>{Q(ne)&&ne.preventDefault()},[Q]),pointerGraceTimerRef:k,onPointerGraceIntentChange:D.useCallback(ne=>{M.current=ne},[]),children:d.jsx(ce,{...de,children:d.jsx(hU,{asChild:!0,trapped:i,onMountAutoFocus:jt(s,ne=>{var ge;ne.preventDefault(),(ge=L.current)==null||ge.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(XE,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:f,children:d.jsx(aie,{asChild:!0,...E,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:F,onCurrentTabStopIdChange:V,onEntryFocus:jt(l,ne=>{w.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(BB,{role:"menu","aria-orientation":"vertical","data-state":XU(_.open),"data-radix-menu-content":"",dir:w.dir,...A,...y,ref:N,style:{outline:"none",...y.style},onKeyDown:jt(y.onKeyDown,ne=>{const pe=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,U=ne.ctrlKey||ne.altKey||ne.metaKey,X=ne.key.length===1;pe&&(ne.key==="Tab"&&ne.preventDefault(),!U&&X&&ae(ne.key));const re=L.current;if(ne.target!==re||!Qie.includes(ne.key))return;ne.preventDefault();const he=C().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);TU.includes(ne.key)&&he.reverse(),wse(he)}),onBlur:jt(n.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(I.current),j.current="")}),onPointerMove:jt(n.onPointerMove,Qw(ne=>{const ge=ne.target,pe=q.current!==ne.clientX;if(ne.currentTarget.contains(ge)&&pe){const U=ne.clientX>q.current?"right":"left";R.current=U,q.current=ne.clientX}}))})})})})})})});DU.displayName=Xa;var use="MenuGroup",AR=D.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(gr.div,{role:"group",...r,ref:e})});AR.displayName=use;var dse="MenuLabel",MU=D.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(gr.div,{...r,ref:e})});MU.displayName=dse;var MA="MenuItem",lM="menu.itemSelect",hS=D.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,s=D.useRef(null),o=Q2(MA,n.__scopeMenu),a=xR(MA,n.__scopeMenu),l=$i(e,s),c=D.useRef(!1),u=()=>{const h=s.current;if(!t&&h){const p=new CustomEvent(lM,{bubbles:!0,cancelable:!0});h.addEventListener(lM,f=>r==null?void 0:r(f),{once:!0}),q4(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return d.jsx(jU,{...i,ref:l,disabled:t,onClick:jt(n.onClick,u),onPointerDown:h=>{var p;(p=n.onPointerDown)==null||p.call(n,h),c.current=!0},onPointerUp:jt(n.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:jt(n.onKeyDown,h=>{const p=a.searchRef.current!=="";t||p&&h.key===" "||Ek.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});hS.displayName=MA;var jU=D.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...s}=n,o=xR(MA,t),a=IU(t),l=D.useRef(null),c=$i(e,l),[u,h]=D.useState(!1),[p,f]=D.useState("");return D.useEffect(()=>{const b=l.current;b&&f((b.textContent??"").trim())},[s.children]),d.jsx(Xw.ItemSlot,{scope:t,disabled:r,textValue:i??p,children:d.jsx(lie,{asChild:!0,...a,focusable:!r,children:d.jsx(gr.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:jt(n.onPointerMove,Qw(b=>{r?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:jt(n.onPointerLeave,Qw(b=>o.onItemLeave(b))),onFocus:jt(n.onFocus,()=>h(!0)),onBlur:jt(n.onBlur,()=>h(!1))})})})}),hse="MenuCheckboxItem",OU=D.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return d.jsx(zU,{scope:n.__scopeMenu,checked:t,children:d.jsx(hS,{role:"menuitemcheckbox","aria-checked":jA(t)?"mixed":t,...i,ref:e,"data-state":SR(t),onSelect:jt(i.onSelect,()=>r==null?void 0:r(jA(t)?!0:!t),{checkForDefaultPrevented:!1})})})});OU.displayName=hse;var FU="MenuRadioGroup",[fse,pse]=hg(FU,{value:void 0,onValueChange:()=>{}}),BU=D.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,s=ya(r);return d.jsx(fse,{scope:n.__scopeMenu,value:t,onValueChange:s,children:d.jsx(AR,{...i,ref:e})})});BU.displayName=FU;var UU="MenuRadioItem",VU=D.forwardRef((n,e)=>{const{value:t,...r}=n,i=pse(UU,n.__scopeMenu),s=t===i.value;return d.jsx(zU,{scope:n.__scopeMenu,checked:s,children:d.jsx(hS,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":SR(s),onSelect:jt(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,t)},{checkForDefaultPrevented:!1})})})});VU.displayName=UU;var ER="MenuItemIndicator",[zU,mse]=hg(ER,{checked:!1}),$U=D.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,s=mse(ER,t);return d.jsx(dg,{present:r||jA(s.checked)||s.checked===!0,children:d.jsx(gr.span,{...i,ref:e,"data-state":SR(s.checked)})})});$U.displayName=ER;var gse="MenuSeparator",HU=D.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(gr.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});HU.displayName=gse;var vse="MenuArrow",qU=D.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=dS(t);return d.jsx(UB,{...i,...r,ref:e})});qU.displayName=vse;var yse="MenuSub",[r_e,WU]=hg(yse),ky="MenuSubTrigger",GU=D.forwardRef((n,e)=>{const t=fg(ky,n.__scopeMenu),r=Q2(ky,n.__scopeMenu),i=WU(ky,n.__scopeMenu),s=xR(ky,n.__scopeMenu),o=D.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:n.__scopeMenu},u=D.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return D.useEffect(()=>u,[u]),D.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),d.jsx(wR,{asChild:!0,...c,children:d.jsx(jU,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":XU(t.open),...n,ref:YE(e,i.onTriggerChange),onClick:h=>{var p;(p=n.onClick)==null||p.call(n,h),!(n.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:jt(n.onPointerMove,Qw(h=>{s.onItemEnter(h),!h.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),u()},100))})),onPointerLeave:jt(n.onPointerLeave,Qw(h=>{var f,b;u();const p=(f=t.content)==null?void 0:f.getBoundingClientRect();if(p){const y=(b=t.content)==null?void 0:b.dataset.side,_=y==="right",w=_?-5:5,A=p[_?"left":"right"],E=p[_?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:A,y:p.top},{x:E,y:p.top},{x:E,y:p.bottom},{x:A,y:p.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:jt(n.onKeyDown,h=>{var f;const p=s.searchRef.current!=="";n.disabled||p&&h.key===" "||Jie[r.dir].includes(h.key)&&(t.onOpenChange(!0),(f=t.content)==null||f.focus(),h.preventDefault())})})})});GU.displayName=ky;var KU="MenuSubContent",YU=D.forwardRef((n,e)=>{const t=RU(Xa,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=fg(Xa,n.__scopeMenu),o=Q2(Xa,n.__scopeMenu),a=WU(KU,n.__scopeMenu),l=D.useRef(null),c=$i(e,l);return d.jsx(Xw.Provider,{scope:n.__scopeMenu,children:d.jsx(dg,{present:r||s.open,children:d.jsx(Xw.Slot,{scope:n.__scopeMenu,children:d.jsx(_R,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:jt(n.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:jt(n.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:jt(n.onKeyDown,u=>{var f;const h=u.currentTarget.contains(u.target),p=Zie[o.dir].includes(u.key);h&&p&&(s.onOpenChange(!1),(f=a.trigger)==null||f.focus(),u.preventDefault())})})})})})});YU.displayName=KU;function XU(n){return n?"open":"closed"}function jA(n){return n==="indeterminate"}function SR(n){return jA(n)?"indeterminate":n?"checked":"unchecked"}function wse(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function bse(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function xse(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=bse(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function _se(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,h=l.x,p=l.y;u>r!=p>r&&t<(h-c)*(r-u)/(p-u)+c&&(i=!i)}return i}function Ase(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return _se(t,e)}function Qw(n){return e=>e.pointerType==="mouse"?n(e):void 0}var Ese=PU,Sse=wR,Cse=LU,Nse=DU,Tse=AR,kse=MU,Ise=hS,Pse=OU,Rse=BU,Lse=VU,Dse=$U,Mse=HU,jse=qU,Ose=GU,Fse=YU,fS="DropdownMenu",[Bse,i_e]=ug(fS,[kU]),so=kU(),[Use,QU]=Bse(fS),JU=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,l=so(e),c=D.useRef(null),[u,h]=G4({prop:i,defaultProp:s??!1,onChange:o,caller:fS});return d.jsx(Use,{scope:e,triggerId:uk(),triggerRef:c,contentId:uk(),open:u,onOpenChange:h,onOpenToggle:D.useCallback(()=>h(p=>!p),[h]),modal:a,children:d.jsx(Ese,{...l,open:u,onOpenChange:h,dir:r,modal:a,children:t})})};JU.displayName=fS;var ZU="DropdownMenuTrigger",eV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,s=QU(ZU,t),o=so(t);return d.jsx(Sse,{asChild:!0,...o,children:d.jsx(gr.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:YE(e,s.triggerRef),onPointerDown:jt(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:jt(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});eV.displayName=ZU;var Vse="DropdownMenuPortal",tV=n=>{const{__scopeDropdownMenu:e,...t}=n,r=so(e);return d.jsx(Cse,{...r,...t})};tV.displayName=Vse;var nV="DropdownMenuContent",rV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=QU(nV,t),s=so(t),o=D.useRef(!1);return d.jsx(Nse,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:jt(n.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:jt(n.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rV.displayName=nV;var zse="DropdownMenuGroup",$se=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=so(t);return d.jsx(Tse,{...i,...r,ref:e})});$se.displayName=zse;var Hse="DropdownMenuLabel",iV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=so(t);return d.jsx(kse,{...i,...r,ref:e})});iV.displayName=Hse;var qse="DropdownMenuItem",sV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=so(t);return d.jsx(Ise,{...i,...r,ref:e})});sV.displayName=qse;var Wse="DropdownMenuCheckboxItem",oV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=so(t);return d.jsx(Pse,{...i,...r,ref:e})});oV.displayName=Wse;var Gse="DropdownMenuRadioGroup",Kse=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=so(t);return d.jsx(Rse,{...i,...r,ref:e})});Kse.displayName=Gse;var Yse="DropdownMenuRadioItem",aV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=so(t);return d.jsx(Lse,{...i,...r,ref:e})});aV.displayName=Yse;var Xse="DropdownMenuItemIndicator",lV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=so(t);return d.jsx(Dse,{...i,...r,ref:e})});lV.displayName=Xse;var Qse="DropdownMenuSeparator",cV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=so(t);return d.jsx(Mse,{...i,...r,ref:e})});cV.displayName=Qse;var Jse="DropdownMenuArrow",Zse=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=so(t);return d.jsx(jse,{...i,...r,ref:e})});Zse.displayName=Jse;var eoe="DropdownMenuSubTrigger",uV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=so(t);return d.jsx(Ose,{...i,...r,ref:e})});uV.displayName=eoe;var toe="DropdownMenuSubContent",dV=D.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=so(t);return d.jsx(Fse,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dV.displayName=toe;var noe=JU,roe=eV,ioe=tV,hV=rV,fV=iV,pV=sV,mV=oV,gV=aV,vV=lV,yV=cV,wV=uV,bV=dV;const hd=noe,fd=roe,soe=D.forwardRef(({className:n,inset:e,children:t,...r},i)=>d.jsxs(wV,{ref:i,className:vr("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",n),...r,children:[t,d.jsx(ZE,{className:"ml-auto h-4 w-4"})]}));soe.displayName=wV.displayName;const ooe=D.forwardRef(({className:n,...e},t)=>d.jsx(bV,{ref:t,className:vr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));ooe.displayName=bV.displayName;const Gc=D.forwardRef(({className:n,sideOffset:e=4,...t},r)=>d.jsx(ioe,{children:d.jsx(hV,{ref:r,sideOffset:e,className:vr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));Gc.displayName=hV.displayName;const ni=D.forwardRef(({className:n,inset:e,...t},r)=>d.jsx(pV,{ref:r,className:vr("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",n),...t}));ni.displayName=pV.displayName;const aoe=D.forwardRef(({className:n,children:e,checked:t,...r},i)=>d.jsxs(mV,{ref:i,className:vr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),checked:t,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(vV,{children:d.jsx(Qv,{className:"h-4 w-4"})})}),e]}));aoe.displayName=mV.displayName;const loe=D.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(gV,{ref:r,className:vr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),...t,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(vV,{children:d.jsx(UJ,{className:"h-2 w-2 fill-current"})})}),e]}));loe.displayName=gV.displayName;const coe=D.forwardRef(({className:n,inset:e,...t},r)=>d.jsx(fV,{ref:r,className:vr("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));coe.displayName=fV.displayName;const xV=D.forwardRef(({className:n,...e},t)=>d.jsx(yV,{ref:t,className:vr("-mx-1 my-1 h-px bg-muted",n),...e}));xV.displayName=yV.displayName;var cM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},uoe=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(p=64)),r.push(t[u],t[h],t[p],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_V(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uoe(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new doe;const p=s<<2|a>>4;if(r.push(p),c!==64){const f=a<<4&240|c>>2;if(r.push(f),h!==64){const b=c<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class doe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hoe=function(n){const e=_V(n);return AV.encodeByteArray(e,!0)},OA=function(n){return hoe(n).replace(/\./g,"")},EV=function(n){try{return AV.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function foe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const poe=()=>foe().__FIREBASE_DEFAULTS__,moe=()=>{if(typeof process>"u"||typeof cM>"u")return;const n=cM.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},goe=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&EV(n[1]);return e&&JSON.parse(e)},pS=()=>{try{return poe()||moe()||goe()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},SV=n=>{var e,t;return(t=(e=pS())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},CV=n=>{const e=SV(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},NV=()=>{var n;return(n=pS())===null||n===void 0?void 0:n.config},TV=n=>{var e;return(e=pS())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class voe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yoe(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[OA(JSON.stringify(t)),OA(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function woe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ms())}function boe(){var n;const e=(n=pS())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xoe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kV(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _oe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Aoe(){const n=Ms();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Eoe(){return!boe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IV(){try{return typeof indexedDB=="object"}catch{return!1}}function PV(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function Soe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Coe="FirebaseError";class rl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Coe,Object.setPrototypeOf(this,rl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pg.prototype.create)}}class pg{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Noe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new rl(i,a,r)}}function Noe(n,e){return n.replace(Toe,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Toe=/\{\$([^}]+)}/g;function koe(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jw(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(uM(s)&&uM(o)){if(!Jw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function uM(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Iy(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Py(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Ioe(n,e){const t=new Poe(n,e);return t.subscribe.bind(t)}class Poe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Roe(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=uN),i.error===void 0&&(i.error=uN),i.complete===void 0&&(i.complete=uN);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Roe(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function uN(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Loe=1e3,Doe=2,Moe=4*60*60*1e3,joe=.5;function dM(n,e=Loe,t=Doe){const r=e*Math.pow(t,n),i=Math.round(joe*r*(Math.random()-.5)*2);return Math.min(Moe,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(n){return n&&n._delegate?n._delegate:n}class el{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ooe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new voe;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Boe(e))try{this.getOrInitializeService({instanceIdentifier:cp})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=cp){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cp){return this.instances.has(e)}getOptions(e=cp){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Foe(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cp){return this.component?this.component.multipleInstances?e:cp:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Foe(n){return n===cp?void 0:n}function Boe(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uoe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ooe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(yn||(yn={}));const Voe={debug:yn.DEBUG,verbose:yn.VERBOSE,info:yn.INFO,warn:yn.WARN,error:yn.ERROR,silent:yn.SILENT},zoe=yn.INFO,$oe={[yn.DEBUG]:"log",[yn.VERBOSE]:"log",[yn.INFO]:"info",[yn.WARN]:"warn",[yn.ERROR]:"error"},Hoe=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=$oe[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mS{constructor(e){this.name=e,this._logLevel=zoe,this._logHandler=Hoe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Voe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yn.DEBUG,...e),this._logHandler(this,yn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yn.VERBOSE,...e),this._logHandler(this,yn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yn.INFO,...e),this._logHandler(this,yn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yn.WARN,...e),this._logHandler(this,yn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yn.ERROR,...e),this._logHandler(this,yn.ERROR,...e)}}const qoe=(n,e)=>e.some(t=>n instanceof t);let hM,fM;function Woe(){return hM||(hM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Goe(){return fM||(fM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RV=new WeakMap,Sk=new WeakMap,LV=new WeakMap,dN=new WeakMap,CR=new WeakMap;function Koe(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(yf(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&RV.set(t,n)}).catch(()=>{}),CR.set(e,n),e}function Yoe(n){if(Sk.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Sk.set(n,e)}let Ck={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Sk.get(n);if(e==="objectStoreNames")return n.objectStoreNames||LV.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return yf(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Xoe(n){Ck=n(Ck)}function Qoe(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(hN(this),e,...t);return LV.set(r,e.sort?e.sort():[e]),yf(r)}:Goe().includes(n)?function(...e){return n.apply(hN(this),e),yf(RV.get(this))}:function(...e){return yf(n.apply(hN(this),e))}}function Joe(n){return typeof n=="function"?Qoe(n):(n instanceof IDBTransaction&&Yoe(n),qoe(n,Woe())?new Proxy(n,Ck):n)}function yf(n){if(n instanceof IDBRequest)return Koe(n);if(dN.has(n))return dN.get(n);const e=Joe(n);return e!==n&&(dN.set(n,e),CR.set(e,n)),e}const hN=n=>CR.get(n);function DV(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=yf(o);return r&&o.addEventListener("upgradeneeded",l=>{r(yf(o.result),l.oldVersion,l.newVersion,yf(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Zoe=["get","getKey","getAll","getAllKeys","count"],eae=["put","add","delete","clear"],fN=new Map;function pM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fN.get(e))return fN.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=eae.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Zoe.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return fN.set(e,s),s}Xoe(n=>({...n,get:(e,t,r)=>pM(e,t)||n.get(e,t,r),has:(e,t)=>!!pM(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nae(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function nae(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nk="@firebase/app",mM="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new mS("@firebase/app"),rae="@firebase/app-compat",iae="@firebase/analytics-compat",sae="@firebase/analytics",oae="@firebase/app-check-compat",aae="@firebase/app-check",lae="@firebase/auth",cae="@firebase/auth-compat",uae="@firebase/database",dae="@firebase/data-connect",hae="@firebase/database-compat",fae="@firebase/functions",pae="@firebase/functions-compat",mae="@firebase/installations",gae="@firebase/installations-compat",vae="@firebase/messaging",yae="@firebase/messaging-compat",wae="@firebase/performance",bae="@firebase/performance-compat",xae="@firebase/remote-config",_ae="@firebase/remote-config-compat",Aae="@firebase/storage",Eae="@firebase/storage-compat",Sae="@firebase/firestore",Cae="@firebase/vertexai-preview",Nae="@firebase/firestore-compat",Tae="firebase",kae="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="[DEFAULT]",Iae={[Nk]:"fire-core",[rae]:"fire-core-compat",[sae]:"fire-analytics",[iae]:"fire-analytics-compat",[aae]:"fire-app-check",[oae]:"fire-app-check-compat",[lae]:"fire-auth",[cae]:"fire-auth-compat",[uae]:"fire-rtdb",[dae]:"fire-data-connect",[hae]:"fire-rtdb-compat",[fae]:"fire-fn",[pae]:"fire-fn-compat",[mae]:"fire-iid",[gae]:"fire-iid-compat",[vae]:"fire-fcm",[yae]:"fire-fcm-compat",[wae]:"fire-perf",[bae]:"fire-perf-compat",[xae]:"fire-rc",[_ae]:"fire-rc-compat",[Aae]:"fire-gcs",[Eae]:"fire-gcs-compat",[Sae]:"fire-fst",[Nae]:"fire-fst-compat",[Cae]:"fire-vertex","fire-js":"fire-js",[Tae]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new Map,Pae=new Map,kk=new Map;function gM(n,e){try{n.container.addComponent(e)}catch(t){Cd.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wl(n){const e=n.name;if(kk.has(e))return Cd.debug(`There were multiple attempts to register component ${e}.`),!1;kk.set(e,n);for(const t of FA.values())gM(t,n);for(const t of Pae.values())gM(t,n);return!0}function Vf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fl(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wf=new pg("app","Firebase",Rae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new el("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=kae;function MV(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tk,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wf.create("bad-app-name",{appName:String(i)});if(t||(t=NV()),!t)throw wf.create("no-options");const s=FA.get(i);if(s){if(Jw(t,s.options)&&Jw(r,s.config))return s;throw wf.create("duplicate-app",{appName:i})}const o=new Uoe(i);for(const l of kk.values())o.addComponent(l);const a=new Lae(t,r,o);return FA.set(i,a),a}function gS(n=Tk){const e=FA.get(n);if(!e&&n===Tk&&NV())return MV();if(!e)throw wf.create("no-app",{appName:n});return e}function ko(n,e,t){var r;let i=(r=Iae[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cd.warn(a.join(" "));return}Wl(new el(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dae="firebase-heartbeat-database",Mae=1,Zw="firebase-heartbeat-store";let pN=null;function jV(){return pN||(pN=DV(Dae,Mae,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zw)}catch(t){console.warn(t)}}}}).catch(n=>{throw wf.create("idb-open",{originalErrorMessage:n.message})})),pN}async function jae(n){try{const t=(await jV()).transaction(Zw),r=await t.objectStore(Zw).get(OV(n));return await t.done,r}catch(e){if(e instanceof rl)Cd.warn(e.message);else{const t=wf.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cd.warn(t.message)}}}async function vM(n,e){try{const r=(await jV()).transaction(Zw,"readwrite");await r.objectStore(Zw).put(e,OV(n)),await r.done}catch(t){if(t instanceof rl)Cd.warn(t.message);else{const r=wf.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Cd.warn(r.message)}}}function OV(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oae=1024,Fae=30*24*60*60*1e3;class Bae{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Vae(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yM();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Fae}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Cd.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yM(),{heartbeatsToSend:r,unsentEntries:i}=Uae(this._heartbeatsCache.heartbeats),s=OA(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Cd.warn(t),""}}}function yM(){return new Date().toISOString().substring(0,10)}function Uae(n,e=Oae){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),wM(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),wM(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Vae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IV()?PV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jae(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return vM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return vM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wM(n){return OA(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zae(n){Wl(new el("platform-logger",e=>new tae(e),"PRIVATE")),Wl(new el("heartbeat",e=>new Bae(e),"PRIVATE")),ko(Nk,mM,n),ko(Nk,mM,"esm2017"),ko("fire-js","")}zae("");function FV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $ae=FV,BV=new pg("auth","Firebase",FV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=new mS("@firebase/auth");function Hae(n,...e){BA.logLevel<=yn.WARN&&BA.warn(`Auth (${T1}): ${n}`,...e)}function a5(n,...e){BA.logLevel<=yn.ERROR&&BA.error(`Auth (${T1}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(n,...e){throw TR(n,...e)}function zl(n,...e){return TR(n,...e)}function NR(n,e,t){const r=Object.assign(Object.assign({},$ae()),{[e]:t});return new pg("auth","Firebase",r).create(e,{appName:n.name})}function pd(n){return NR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qae(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Po(n,"argument-error"),NR(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function TR(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return BV.create(n,...e)}function Tt(n,e,...t){if(!n)throw TR(e,...t)}function Vc(n){const e="INTERNAL ASSERTION FAILED: "+n;throw a5(e),new Error(e)}function Nd(n,e){n||Vc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Wae(){return bM()==="http:"||bM()==="https:"}function bM(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wae()||kV()||"connection"in navigator)?navigator.onLine:!0}function Kae(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nd(t>e,"Short delay should be less than long delay!"),this.isMobile=woe()||_oe()}get(){return Gae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(n,e){Nd(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xae=new Z2(3e4,6e4);function il(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function sl(n,e,t,r,i={}){return VV(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=J2(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return xoe()||(c.referrerPolicy="no-referrer"),UV.fetch()(zV(n,n.config.apiHost,t,a),c)})}async function VV(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yae),e);try{const i=new Jae(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw g_(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw g_(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw g_(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw g_(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw NR(n,u,c);Po(n,u)}}catch(i){if(i instanceof rl)throw i;Po(n,"network-request-failed",{message:String(i)})}}async function ex(n,e,t,r,i={}){const s=await sl(n,e,t,r,i);return"mfaPendingCredential"in s&&Po(n,"multi-factor-auth-required",{_serverResponse:s}),s}function zV(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?kR(n.config,i):`${n.config.apiScheme}://${i}`}function Qae(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(zl(this.auth,"network-request-failed")),Xae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function g_(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=zl(n,e,r);return i.customData._tokenResponse=t,i}function xM(n){return n!==void 0&&n.enterprise!==void 0}class Zae{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Qae(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function ele(n,e){return sl(n,"GET","/v2/recaptchaConfig",il(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tle(n,e){return sl(n,"POST","/v1/accounts:delete",e)}async function $V(n,e){return sl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nle(n,e=!1){const t=Xn(n),r=await t.getIdToken(e),i=IR(r);Tt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:uw(mN(i.auth_time)),issuedAtTime:uw(mN(i.iat)),expirationTime:uw(mN(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function mN(n){return Number(n)*1e3}function IR(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return a5("JWT malformed, contained fewer than 3 sections"),null;try{const i=EV(t);return i?JSON.parse(i):(a5("Failed to decode base64 JWT payload"),null)}catch(i){return a5("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _M(n){const e=IR(n);return Tt(e,"internal-error"),Tt(typeof e.exp<"u","internal-error"),Tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof rl&&rle(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function rle({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ile{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uw(this.lastLoginAt),this.creationTime=uw(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(n){var e;const t=n.auth,r=await n.getIdToken(),i=await eb(n,$V(t,{idToken:r}));Tt(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?HV(s.providerUserInfo):[],a=ole(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Pk(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)}async function sle(n){const e=Xn(n);await UA(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ole(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HV(n){return n.map(e=>{var{providerId:t}=e,r=Y2(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ale(n,e){const t=await VV(n,{},async()=>{const r=J2({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=zV(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",UV.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function lle(n,e){return sl(n,"POST","/v2/accounts:revokeToken",il(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt(typeof e.idToken<"u","internal-error"),Tt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_M(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Tt(e.length!==0,"internal-error");const t=_M(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await ale(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new E0;return r&&(Tt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Tt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Tt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new E0,this.toJSON())}_performRefresh(){return Vc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(n,e){Tt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class cd{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Y2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ile(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Pk(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await eb(this,this.stsTokenManager.getToken(this.auth,e));return Tt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return nle(this,e)}reload(){return sle(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new cd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await UA(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fl(this.auth.app))return Promise.reject(pd(this.auth));const e=await this.getIdToken();return await eb(this,tle(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,p=(i=t.email)!==null&&i!==void 0?i:void 0,f=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=t.photoURL)!==null&&o!==void 0?o:void 0,y=(a=t.tenantId)!==null&&a!==void 0?a:void 0,_=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=t.createdAt)!==null&&c!==void 0?c:void 0,A=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:C,isAnonymous:F,providerData:V,stsTokenManager:L}=t;Tt(E&&L,e,"internal-error");const N=E0.fromJSON(this.name,L);Tt(typeof E=="string",e,"internal-error"),oh(h,e.name),oh(p,e.name),Tt(typeof C=="boolean",e,"internal-error"),Tt(typeof F=="boolean",e,"internal-error"),oh(f,e.name),oh(b,e.name),oh(y,e.name),oh(_,e.name),oh(w,e.name),oh(A,e.name);const I=new cd({uid:E,auth:e,email:p,emailVerified:C,displayName:h,isAnonymous:F,photoURL:b,phoneNumber:f,tenantId:y,stsTokenManager:N,createdAt:w,lastLoginAt:A});return V&&Array.isArray(V)&&(I.providerData=V.map(j=>Object.assign({},j))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,t,r=!1){const i=new E0;i.updateFromServerResponse(t);const s=new cd({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await UA(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Tt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?HV(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new E0;a.updateFromIdToken(r);const l=new cd({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Pk(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=new Map;function ud(n){Nd(n instanceof Function,"Expected a class definition");let e=AM.get(n);return e?(Nd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,AM.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}qV.type="NONE";const EM=qV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(n,e,t){return`firebase:${n}:${e}:${t}`}class S0{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=l5(this.userKey,i.apiKey,s),this.fullPersistenceKey=l5("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cd._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new S0(ud(EM),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ud(EM);const o=l5(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){const h=cd._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new S0(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new S0(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QV(e))return"Blackberry";if(JV(e))return"Webos";if(GV(e))return"Safari";if((e.includes("chrome/")||KV(e))&&!e.includes("edge/"))return"Chrome";if(XV(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WV(n=Ms()){return/firefox\//i.test(n)}function GV(n=Ms()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KV(n=Ms()){return/crios\//i.test(n)}function YV(n=Ms()){return/iemobile/i.test(n)}function XV(n=Ms()){return/android/i.test(n)}function QV(n=Ms()){return/blackberry/i.test(n)}function JV(n=Ms()){return/webos/i.test(n)}function PR(n=Ms()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cle(n=Ms()){var e;return PR(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ule(){return Aoe()&&document.documentMode===10}function ZV(n=Ms()){return PR(n)||XV(n)||JV(n)||QV(n)||/windows phone/i.test(n)||YV(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(n,e=[]){let t;switch(n){case"Browser":t=SM(Ms());break;case"Worker":t=`${SM(Ms())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${T1}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dle{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hle(n,e={}){return sl(n,"GET","/v2/passwordPolicy",il(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fle=6;class ple{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:fle,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mle{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CM(this),this.idTokenSubscription=new CM(this),this.beforeStateQueue=new dle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ud(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await S0.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $V(this,{idToken:e}),r=await cd._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Fl(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await UA(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Kae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fl(this.app))return Promise.reject(pd(this));const t=e?Xn(e):null;return t&&Tt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fl(this.app)?Promise.reject(pd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fl(this.app)?Promise.reject(pd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ud(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hle(this),t=new ple(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pg("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await lle(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ud(e)||this._popupRedirectResolver;Tt(t,this,"argument-error"),this.redirectPersistenceManager=await S0.create(this,[ud(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ez(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Hae(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function iu(n){return Xn(n)}class CM{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ioe(t=>this.observer=t)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gle(n){vS=n}function tz(n){return vS.loadJS(n)}function vle(){return vS.recaptchaEnterpriseScript}function yle(){return vS.gapiScript}function wle(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const ble="recaptcha-enterprise",xle="NO_RECAPTCHA";class _le{constructor(e){this.type=ble,this.auth=iu(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{ele(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Zae(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;xM(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(xle)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&xM(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=vle();l.length!==0&&(l+=a),tz(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function NM(n,e,t,r=!1){const i=new _le(n);let s;try{s=await i.verify(t)}catch{s=await i.verify(t,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function VA(n,e,t,r){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await NM(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await NM(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ale(n,e){const t=Vf(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Jw(s,e??{}))return i;Po(i,"already-initialized")}return t.initialize({options:e})}function Ele(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ud);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Sle(n,e,t){const r=iu(n);Tt(r._canInitEmulator,r,"emulator-config-failed"),Tt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=nz(e),{host:o,port:a}=Cle(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Nle()}function nz(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Cle(n){const e=nz(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:TM(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:TM(o)}}}function TM(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Nle(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vc("not implemented")}_getIdTokenResponse(e){return Vc("not implemented")}_linkToIdToken(e,t){return Vc("not implemented")}_getReauthenticationResolver(e){return Vc("not implemented")}}async function Tle(n,e){return sl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kle(n,e){return ex(n,"POST","/v1/accounts:signInWithPassword",il(n,e))}async function rz(n,e){return sl(n,"POST","/v1/accounts:sendOobCode",il(n,e))}async function Ile(n,e){return rz(n,e)}async function Ple(n,e){return rz(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rle(n,e){return ex(n,"POST","/v1/accounts:signInWithEmailLink",il(n,e))}async function Lle(n,e){return ex(n,"POST","/v1/accounts:signInWithEmailLink",il(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb extends RR{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new tb(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new tb(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VA(e,t,"signInWithPassword",kle);case"emailLink":return Rle(e,{email:this._email,oobCode:this._password});default:Po(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VA(e,r,"signUpPassword",Tle);case"emailLink":return Lle(e,{idToken:t,email:this._email,oobCode:this._password});default:Po(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C0(n,e){return ex(n,"POST","/v1/accounts:signInWithIdp",il(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dle="http://localhost";class Wm extends RR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Po("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Y2(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Wm(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return C0(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,C0(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,C0(e,t)}buildRequest(){const e={requestUri:Dle,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=J2(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mle(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jle(n){const e=Iy(Py(n)).link,t=e?Iy(Py(e)).deep_link_id:null,r=Iy(Py(n)).deep_link_id;return(r?Iy(Py(r)).link:null)||r||t||e||n}class LR{constructor(e){var t,r,i,s,o,a;const l=Iy(Py(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Mle((i=l.mode)!==null&&i!==void 0?i:null);Tt(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=jle(e);try{return new LR(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.providerId=k1.PROVIDER_ID}static credential(e,t){return tb._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=LR.parseLink(t);return Tt(r,"argument-error"),tb._fromEmailAndCode(e,r.code,r.tenantId)}}k1.PROVIDER_ID="password";k1.EMAIL_PASSWORD_SIGN_IN_METHOD="password";k1.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx extends DR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends tx{constructor(){super("facebook.com")}static credential(e){return Wm._fromParams({providerId:vh.PROVIDER_ID,signInMethod:vh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vh.credentialFromTaggedObject(e)}static credentialFromError(e){return vh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vh.credential(e.oauthAccessToken)}catch{return null}}}vh.FACEBOOK_SIGN_IN_METHOD="facebook.com";vh.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends tx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wm._fromParams({providerId:sd.PROVIDER_ID,signInMethod:sd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sd.credentialFromTaggedObject(e)}static credentialFromError(e){return sd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return sd.credential(t,r)}catch{return null}}}sd.GOOGLE_SIGN_IN_METHOD="google.com";sd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends tx{constructor(){super("github.com")}static credential(e){return Wm._fromParams({providerId:yh.PROVIDER_ID,signInMethod:yh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yh.credentialFromTaggedObject(e)}static credentialFromError(e){return yh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yh.credential(e.oauthAccessToken)}catch{return null}}}yh.GITHUB_SIGN_IN_METHOD="github.com";yh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends tx{constructor(){super("twitter.com")}static credential(e,t){return Wm._fromParams({providerId:wh.PROVIDER_ID,signInMethod:wh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wh.credentialFromTaggedObject(e)}static credentialFromError(e){return wh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return wh.credential(t,r)}catch{return null}}}wh.TWITTER_SIGN_IN_METHOD="twitter.com";wh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ole(n,e){return ex(n,"POST","/v1/accounts:signUp",il(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await cd._fromIdTokenResponse(e,r,i),o=kM(r);return new Td({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=kM(r);return new Td({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function kM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA extends rl{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zA.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new zA(e,t,r,i)}}function iz(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zA._fromErrorAndOperation(n,s,e,r):s})}async function Fle(n,e,t=!1){const r=await eb(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Td._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ble(n,e,t=!1){const{auth:r}=n;if(Fl(r.app))return Promise.reject(pd(r));const i="reauthenticate";try{const s=await eb(n,iz(r,i,e,n),t);Tt(s.idToken,r,"internal-error");const o=IR(s.idToken);Tt(o,r,"internal-error");const{sub:a}=o;return Tt(n.uid===a,r,"user-mismatch"),Td._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Po(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz(n,e,t=!1){if(Fl(n.app))return Promise.reject(pd(n));const r="signIn",i=await iz(n,r,e),s=await Td._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Ule(n,e){return sz(iu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?jR._fromServerResponse(e,t):"totpInfo"in t?OR._fromServerResponse(e,t):Po(e,"internal-error")}}class jR extends MR{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new jR(t)}}class OR extends MR{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new OR(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz(n){const e=iu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Vle(n,e,t){const r=iu(n);await VA(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Ple)}async function zle(n,e,t){if(Fl(n.app))return Promise.reject(pd(n));const r=iu(n),o=await VA(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ole).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&oz(n),l}),a=await Td._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function $le(n,e,t){return Fl(n.app)?Promise.reject(pd(n)):Ule(Xn(n),k1.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oz(n),r})}async function IM(n,e){const t=Xn(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:s}=await Ile(t.auth,i);s!==n.email&&await n.reload()}function Hle(n,e,t,r){return Xn(n).onIdTokenChanged(e,t,r)}function qle(n,e,t){return Xn(n).beforeAuthStateChanged(e,t)}function Wle(n,e,t,r){return Xn(n).onAuthStateChanged(e,t,r)}function Gle(n){return Xn(n).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new h0("enroll",e,t)}static _fromMfaPendingCredential(e){return new h0("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return h0._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return h0._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=iu(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>MR._fromServerResponse(r,a));Tt(i.mfaPendingCredential,r,"internal-error");const o=h0._fromMfaPendingCredential(i.mfaPendingCredential);return new FR(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(t.operationType){case"signIn":const u=await Td._fromIdTokenResponse(r,t.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return Tt(t.user,r,"internal-error"),Td._forOperation(t.user,t.operationType,c);default:Po(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function PM(n,e){var t;const r=Xn(n),i=e;return Tt(e.customData.operationType,r,"argument-error"),Tt((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),FR._fromError(r,i)}function Kle(n,e){return sl(n,"POST","/v2/accounts/mfaEnrollment:start",il(n,e))}function Yle(n,e){return sl(n,"POST","/v2/accounts/mfaEnrollment:finalize",il(n,e))}const $A="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($A,"1"),this.storage.removeItem($A),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xle=1e3,Qle=10;class lz extends az{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);ule()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Qle):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Xle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lz.type="LOCAL";const Jle=lz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz extends az{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cz.type="SESSION";const uz=cz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zle(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new yS(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(t.origin,s)),l=await Zle(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yS.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ece{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=BR("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(){return window}function tce(n){Kc().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(){return typeof Kc().WorkerGlobalScope<"u"&&typeof Kc().importScripts=="function"}async function nce(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rce(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ice(){return dz()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz="firebaseLocalStorageDb",sce=1,HA="firebaseLocalStorage",fz="fbase_key";class nx{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wS(n,e){return n.transaction([HA],e?"readwrite":"readonly").objectStore(HA)}function oce(){const n=indexedDB.deleteDatabase(hz);return new nx(n).toPromise()}function Rk(){const n=indexedDB.open(hz,sce);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(HA,{keyPath:fz})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(HA)?e(r):(r.close(),await oce(),e(await Rk()))})})}async function RM(n,e,t){const r=wS(n,!0).put({[fz]:e,value:t});return new nx(r).toPromise()}async function ace(n,e){const t=wS(n,!1).get(e),r=await new nx(t).toPromise();return r===void 0?null:r.value}function LM(n,e){const t=wS(n,!0).delete(e);return new nx(t).toPromise()}const lce=800,cce=3;class pz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rk(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>cce)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yS._getInstance(ice()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await nce(),!this.activeServiceWorker)return;this.sender=new ece(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rk();return await RM(e,$A,"1"),await LM(e,$A),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>RM(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>ace(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>LM(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wS(i,!1).getAll();return new nx(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pz.type="LOCAL";const uce=pz;function dce(n,e){return sl(n,"POST","/v2/accounts/mfaSignIn:finalize",il(n,e))}new Z2(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(n,e){return e?ud(e):(Tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR extends RR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return C0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return C0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return C0(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hce(n){return sz(n.auth,new UR(n),n.bypassAuthState)}function fce(n){const{auth:e,user:t}=n;return Tt(t,e,"internal-error"),Ble(t,new UR(n),n.bypassAuthState)}async function pce(n){const{auth:e,user:t}=n;return Tt(t,e,"internal-error"),Fle(t,new UR(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hce;case"linkViaPopup":case"linkViaRedirect":return pce;case"reauthViaPopup":case"reauthViaRedirect":return fce;default:Po(this.auth,"internal-error")}}resolve(e){Nd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mce=new Z2(2e3,1e4);async function gce(n,e,t){if(Fl(n.app))return Promise.reject(zl(n,"operation-not-supported-in-this-environment"));const r=iu(n);qae(n,e,DR);const i=mz(r,t);return new Ep(r,"signInViaPopup",e,i).executeNotNull()}class Ep extends gz{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ep.currentPopupAction&&Ep.currentPopupAction.cancel(),Ep.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tt(e,this.auth,"internal-error"),e}async onExecution(){Nd(this.filter.length===1,"Popup operations only handle one event");const e=BR();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ep.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mce.get())};e()}}Ep.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vce="pendingRedirect",c5=new Map;class yce extends gz{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=c5.get(this.auth._key());if(!e){try{const r=await wce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}c5.set(this.auth._key(),e)}return this.bypassAuthState||c5.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wce(n,e){const t=_ce(e),r=xce(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function bce(n,e){c5.set(n._key(),e)}function xce(n){return ud(n._redirectPersistence)}function _ce(n){return l5(vce,n.config.apiKey,n.name)}async function Ace(n,e,t=!1){if(Fl(n.app))return Promise.reject(pd(n));const r=iu(n),i=mz(r,e),o=await new yce(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ece=10*60*1e3;class Sce{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Cce(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!vz(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(zl(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ece&&this.cachedEventUids.clear(),this.cachedEventUids.has(DM(e))}saveEventToCache(e){this.cachedEventUids.add(DM(e)),this.lastProcessedEventTime=Date.now()}}function DM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vz({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Cce(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vz(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nce(n,e={}){return sl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kce=/^https?/;async function Ice(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Nce(n);for(const t of e)try{if(Pce(t))return}catch{}Po(n,"unauthorized-domain")}function Pce(n){const e=Ik(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!kce.test(t))return!1;if(Tce.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rce=new Z2(3e4,6e4);function MM(){const n=Kc().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Lce(n){return new Promise((e,t)=>{var r,i,s;function o(){MM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MM(),t(zl(n,"network-request-failed"))},timeout:Rce.get()})}if(!((i=(r=Kc().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Kc().gapi)===null||s===void 0)&&s.load)o();else{const a=wle("iframefcb");return Kc()[a]=()=>{gapi.load?o():t(zl(n,"network-request-failed"))},tz(`${yle()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw u5=null,e})}let u5=null;function Dce(n){return u5=u5||Lce(n),u5}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mce=new Z2(5e3,15e3),jce="__/auth/iframe",Oce="emulator/auth/iframe",Fce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uce(n){const e=n.config;Tt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?kR(e,Oce):`https://${n.config.authDomain}/${jce}`,r={apiKey:e.apiKey,appName:n.name,v:T1},i=Bce.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${J2(r).slice(1)}`}async function Vce(n){const e=await Dce(n),t=Kc().gapi;return Tt(t,n,"internal-error"),e.open({where:document.body,url:Uce(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fce,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=zl(n,"network-request-failed"),a=Kc().setTimeout(()=>{s(o)},Mce.get());function l(){Kc().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$ce=500,Hce=600,qce="_blank",Wce="http://localhost";class jM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gce(n,e,t,r=$ce,i=Hce){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zce),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ms().toLowerCase();t&&(a=KV(c)?qce:t),WV(c)&&(e=e||Wce,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[f,b])=>`${p}${f}=${b},`,"");if(cle(c)&&a!=="_self")return Kce(e||"",a),new jM(null);const h=window.open(e||"",a,u);Tt(h,n,"popup-blocked");try{h.focus()}catch{}return new jM(h)}function Kce(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yce="__/auth/handler",Xce="emulator/auth/handler",Qce=encodeURIComponent("fac");async function OM(n,e,t,r,i,s){Tt(n.config.authDomain,n,"auth-domain-config-required"),Tt(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:T1,eventId:i};if(e instanceof DR){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",koe(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof tx){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${Qce}=${encodeURIComponent(l)}`:"";return`${Jce(n)}?${J2(a).slice(1)}${c}`}function Jce({config:n}){return n.emulator?kR(n,Xce):`https://${n.authDomain}/${Yce}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="webStorageSupport";class Zce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uz,this._completeRedirectFn=Ace,this._overrideRedirectResult=bce}async _openPopup(e,t,r,i){var s;Nd((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await OM(e,t,r,Ik(),i);return Gce(e,o,BR())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await OM(e,t,r,Ik(),i);return tce(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Nd(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Vce(e),r=new Sce(e);return t.register("authEvent",i=>(Tt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gN,{type:gN},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[gN];o!==void 0&&t(!!o),Po(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ice(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ZV()||GV()||PR()}}const eue=Zce;class tue{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Vc("unexpected MultiFactorSessionType")}}}class yz{static assertionForEnrollment(e,t){return nb._fromSecret(e,t)}static assertionForSignIn(e,t){return nb._fromEnrollmentId(e,t)}static async generateSecret(e){var t;const r=e;Tt(typeof((t=r.user)===null||t===void 0?void 0:t.auth)<"u","internal-error");const i=await Kle(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});return VR._fromStartTotpMfaEnrollmentResponse(i,r.user.auth)}}yz.FACTOR_ID="totp";class nb extends tue{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new nb(t,void 0,e)}static _fromEnrollmentId(e,t){return new nb(t,e)}async _finalizeEnroll(e,t,r){return Tt(typeof this.secret<"u",e,"argument-error"),Yle(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){Tt(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const r={verificationCode:this.otp};return dce(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}}class VR{constructor(e,t,r,i,s,o,a){this.sessionInfo=o,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=s}static _fromStartTotpMfaEnrollmentResponse(e,t){return new VR(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var r;let i=!1;return(v_(e)||v_(t))&&(i=!0),i&&(v_(e)&&(e=((r=this.auth.currentUser)===null||r===void 0?void 0:r.email)||"unknownuser"),v_(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function v_(n){return typeof n>"u"||(n==null?void 0:n.length)===0}var FM="@firebase/auth",BM="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rue(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iue(n){Wl(new el("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Tt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ez(n)},c=new mle(r,i,s,l);return Ele(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Wl(new el("auth-internal",e=>{const t=iu(e.getProvider("auth").getImmediate());return(r=>new nue(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ko(FM,BM,rue(n)),ko(FM,BM,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sue=5*60,oue=TV("authIdTokenMaxAge")||sue;let UM=null;const aue=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>oue)return;const i=t==null?void 0:t.token;UM!==i&&(UM=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lue(n=gS()){const e=Vf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Ale(n,{popupRedirectResolver:eue,persistence:[uce,Jle,uz]}),r=TV("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=aue(s.toString());qle(t,o,()=>o(t.currentUser)),Hle(t,a=>o(a))}}const i=SV("auth");return i&&Sle(t,`http://${i}`),t}function cue(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}gle({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=zl("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",cue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iue("Browser");var uue="firebase",due="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko(uue,due,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hue="type.googleapis.com/google.protobuf.Int64Value",fue="type.googleapis.com/google.protobuf.UInt64Value";function wz(n,e){const t={};for(const r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}function Lk(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Lk(e));if(typeof n=="function"||typeof n=="object")return wz(n,e=>Lk(e));throw new Error("Data cannot be encoded in JSON: "+n)}function qA(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case hue:case fue:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>qA(e)):typeof n=="function"||typeof n=="object"?wz(n,e=>qA(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class N0 extends rl{constructor(e,t,r){super(`${zR}/${e}`,t||""),this.details=r}}function pue(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function mue(n,e){let t=pue(n),r=t,i;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!VM[o])return new N0("internal","internal");t=VM[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=qA(i))}}catch{}return t==="ok"?null:new N0(t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gue{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="us-central1";function vue(n){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new N0("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class yue{constructor(e,t,r,i,s=Dk,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new gue(t,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Dk}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function wue(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}function bue(n,e,t){return r=>_ue(n,e,r,{})}async function xue(n,e,t,r){t["Content-Type"]="application/json";let i;try{i=await r(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function _ue(n,e,t,r){const i=n._url(e);return Aue(n,i,t,r)}async function Aue(n,e,t,r){t=Lk(t);const i={data:t},s={},o=await n.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,l=vue(a),c=await Promise.race([xue(e,i,s,n.fetchImpl),l.promise,n.cancelAllRequests]);if(l.cancel(),!c)throw new N0("cancelled","Firebase Functions instance was deleted.");const u=mue(c.status,c.json);if(u)throw u;if(!c.json)throw new N0("internal","Response is not valid JSON object.");let h=c.json.data;if(typeof h>"u"&&(h=c.json.result),typeof h>"u")throw new N0("internal","Response is missing data field.");return{data:qA(h)}}const zM="@firebase/functions",$M="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eue="auth-internal",Sue="app-check-internal",Cue="messaging-internal";function Nue(n,e){const t=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(Eue),a=r.getProvider(Cue),l=r.getProvider(Sue);return new yue(s,o,a,l,i,n)};Wl(new el(zR,t,"PUBLIC").setMultipleInstances(!0)),ko(zM,$M,e),ko(zM,$M,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tue(n=gS(),e=Dk){const r=Vf(Xn(n),zR).getImmediate({identifier:e}),i=CV("functions");return i&&bz(r,...i),r}function bz(n,e,t){wue(Xn(n),e,t)}function rb(n,e,t){return bue(Xn(n),e)}Nue(fetch.bind(self));const xz="@firebase/installations",$R="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z=1e4,Az=`w:${$R}`,Ez="FIS_v2",kue="https://firebaseinstallations.googleapis.com/v1",Iue=60*60*1e3,Pue="installations",Rue="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lue={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Gm=new pg(Pue,Rue,Lue);function Sz(n){return n instanceof rl&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz({projectId:n}){return`${kue}/projects/${n}/installations`}function Nz(n){return{token:n.token,requestStatus:2,expiresIn:Mue(n.expiresIn),creationTime:Date.now()}}async function Tz(n,e){const r=(await e.json()).error;return Gm.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function kz({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Due(n,{refreshToken:e}){const t=kz(n);return t.append("Authorization",jue(e)),t}async function Iz(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Mue(n){return Number(n.replace("s","000"))}function jue(n){return`${Ez} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oue({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Cz(n),i=kz(n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:t,authVersion:Ez,appId:n.appId,sdkVersion:Az},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Iz(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:Nz(c.authToken)}}else throw await Tz("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fue(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bue=/^[cdef][\w-]{21}$/,Mk="";function Uue(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Vue(n);return Bue.test(t)?t:Mk}catch{return Mk}}function Vue(n){return Fue(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz=new Map;function Lz(n,e){const t=bS(n);Dz(t,e),zue(t,e)}function Dz(n,e){const t=Rz.get(n);if(t)for(const r of t)r(e)}function zue(n,e){const t=$ue();t&&t.postMessage({key:n,fid:e}),Hue()}let Sp=null;function $ue(){return!Sp&&"BroadcastChannel"in self&&(Sp=new BroadcastChannel("[Firebase] FID Change"),Sp.onmessage=n=>{Dz(n.data.key,n.data.fid)}),Sp}function Hue(){Rz.size===0&&Sp&&(Sp.close(),Sp=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const que="firebase-installations-database",Wue=1,Km="firebase-installations-store";let vN=null;function HR(){return vN||(vN=DV(que,Wue,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Km)}}})),vN}async function WA(n,e){const t=bS(n),i=(await HR()).transaction(Km,"readwrite"),s=i.objectStore(Km),o=await s.get(t);return await s.put(e,t),await i.done,(!o||o.fid!==e.fid)&&Lz(n,e.fid),e}async function Mz(n){const e=bS(n),r=(await HR()).transaction(Km,"readwrite");await r.objectStore(Km).delete(e),await r.done}async function xS(n,e){const t=bS(n),i=(await HR()).transaction(Km,"readwrite"),s=i.objectStore(Km),o=await s.get(t),a=e(o);return a===void 0?await s.delete(t):await s.put(a,t),await i.done,a&&(!o||o.fid!==a.fid)&&Lz(n,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(n){let e;const t=await xS(n.appConfig,r=>{const i=Gue(r),s=Kue(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===Mk?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Gue(n){const e=n||{fid:Uue(),registrationStatus:0};return jz(e)}function Kue(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Gm.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Yue(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Xue(n)}:{installationEntry:e}}async function Yue(n,e){try{const t=await Oue(n,e);return WA(n.appConfig,t)}catch(t){throw Sz(t)&&t.customData.serverCode===409?await Mz(n.appConfig):await WA(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Xue(n){let e=await HM(n.appConfig);for(;e.registrationStatus===1;)await Pz(100),e=await HM(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await qR(n);return r||t}return e}function HM(n){return xS(n,e=>{if(!e)throw Gm.create("installation-not-found");return jz(e)})}function jz(n){return Que(n)?{fid:n.fid,registrationStatus:0}:n}function Que(n){return n.registrationStatus===1&&n.registrationTime+_z<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jue({appConfig:n,heartbeatServiceProvider:e},t){const r=Zue(n,t),i=Due(n,t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:Az,appId:n.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Iz(()=>fetch(r,a));if(l.ok){const c=await l.json();return Nz(c)}else throw await Tz("Generate Auth Token",l)}function Zue(n,{fid:e}){return`${Cz(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(n,e=!1){let t;const r=await xS(n.appConfig,s=>{if(!Oz(s))throw Gm.create("not-registered");const o=s.authToken;if(!e&&nde(o))return s;if(o.requestStatus===1)return t=ede(n,e),s;{if(!navigator.onLine)throw Gm.create("app-offline");const a=ide(s);return t=tde(n,a),a}});return t?await t:r.authToken}async function ede(n,e){let t=await qM(n.appConfig);for(;t.authToken.requestStatus===1;)await Pz(100),t=await qM(n.appConfig);const r=t.authToken;return r.requestStatus===0?WR(n,e):r}function qM(n){return xS(n,e=>{if(!Oz(e))throw Gm.create("not-registered");const t=e.authToken;return sde(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function tde(n,e){try{const t=await Jue(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await WA(n.appConfig,r),t}catch(t){if(Sz(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Mz(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await WA(n.appConfig,r)}throw t}}function Oz(n){return n!==void 0&&n.registrationStatus===2}function nde(n){return n.requestStatus===2&&!rde(n)}function rde(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Iue}function ide(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function sde(n){return n.requestStatus===1&&n.requestTime+_z<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ode(n){const e=n,{installationEntry:t,registrationPromise:r}=await qR(e);return r?r.catch(console.error):WR(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ade(n,e=!1){const t=n;return await lde(t),(await WR(t,e)).token}async function lde(n){const{registrationPromise:e}=await qR(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cde(n){if(!n||!n.options)throw yN("App Configuration");if(!n.name)throw yN("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw yN(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function yN(n){return Gm.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz="installations",ude="installations-internal",dde=n=>{const e=n.getProvider("app").getImmediate(),t=cde(e),r=Vf(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},hde=n=>{const e=n.getProvider("app").getImmediate(),t=Vf(e,Fz).getImmediate();return{getId:()=>ode(t),getToken:i=>ade(t,i)}};function fde(){Wl(new el(Fz,dde,"PUBLIC")),Wl(new el(ude,hde,"PRIVATE"))}fde();ko(xz,$R);ko(xz,$R,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="analytics",pde="firebase_id",mde="origin",gde=60*1e3,vde="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GR="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new mS("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yde={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ma=new pg("analytics","Analytics",yde);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wde(n){if(!n.startsWith(GR)){const e=ma.create("invalid-gtag-resource",{gtagURL:n});return Io.warn(e.message),""}return n}function Bz(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function bde(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function xde(n,e){const t=bde("firebase-js-sdk-policy",{createScriptURL:wde}),r=document.createElement("script"),i=`${GR}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function _de(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Ade(n,e,t,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await Bz(t)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){Io.error(a)}n("config",i,s)}async function Ede(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Bz(t);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){Io.error(s)}}function Sde(n,e,t,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await Ede(n,e,t,a,l)}else if(s==="config"){const[a,l]=o;await Ade(n,e,t,r,a,l)}else if(s==="consent"){const[a,l]=o;n("consent",a,l)}else if(s==="get"){const[a,l,c]=o;n("get",a,l,c)}else if(s==="set"){const[a]=o;n("set",a)}else n(s,...o)}catch(a){Io.error(a)}}return i}function Cde(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Sde(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function Nde(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(GR)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tde=30,kde=1e3;class Ide{constructor(e={},t=kde){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Uz=new Ide;function Pde(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Rde(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Pde(r)},s=vde.replace("{app-id}",t),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw ma.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Lde(n,e=Uz,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw ma.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ma.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new jde;return setTimeout(async()=>{a.abort()},gde),Vz({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Vz(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=Uz){var s;const{appId:o,measurementId:a}=n;try{await Dde(r,e)}catch(l){if(a)return Io.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Rde(n);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!Mde(c)){if(i.deleteThrottleMetadata(o),a)return Io.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?dM(t,i.intervalMillis,Tde):dM(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,h),Io.debug(`Calling attemptFetch again in ${u} millis`),Vz(n,h,r,i)}}function Dde(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(ma.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Mde(n){if(!(n instanceof rl)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class jde{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ode(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});n("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fde(){if(IV())try{await PV()}catch(n){return Io.warn(ma.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Io.warn(ma.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Bde(n,e,t,r,i,s,o){var a;const l=Lde(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Io.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Io.error(f)),e.push(l);const c=Fde().then(f=>{if(f)return r.getId()}),[u,h]=await Promise.all([l,c]);Nde(s)||xde(s,u.measurementId),i("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[mde]="firebase",p.update=!0,h!=null&&(p[pde]=h),i("config",u.measurementId,p),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ude{constructor(e){this.app=e}_delete(){return delete dw[this.app.options.appId],Promise.resolve()}}let dw={},WM=[];const GM={};let wN="dataLayer",Vde="gtag",KM,zz,YM=!1;function zde(){const n=[];if(kV()&&n.push("This is a browser extension environment."),Soe()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=ma.create("invalid-analytics-context",{errorInfo:e});Io.warn(t.message)}}function $de(n,e,t){zde();const r=n.options.appId;if(!r)throw ma.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Io.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ma.create("no-api-key");if(dw[r]!=null)throw ma.create("already-exists",{id:r});if(!YM){_de(wN);const{wrappedGtag:s,gtagCore:o}=Cde(dw,WM,GM,wN,Vde);zz=s,KM=o,YM=!0}return dw[r]=Bde(n,WM,GM,e,KM,wN,t),new Ude(n)}function Hde(n=gS()){n=Xn(n);const e=Vf(n,GA);return e.isInitialized()?e.getImmediate():qde(n)}function qde(n,e={}){const t=Vf(n,GA);if(t.isInitialized()){const i=t.getImmediate();if(Jw(e,t.getOptions()))return i;throw ma.create("already-initialized")}return t.initialize({options:e})}function Wde(n,e,t,r){n=Xn(n),Ode(zz,dw[n.app.options.appId],e,t,r).catch(i=>Io.error(i))}const XM="@firebase/analytics",QM="0.10.8";function Gde(){Wl(new el(GA,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return $de(r,i,t)},"PUBLIC")),Wl(new el("analytics-internal",n,"PRIVATE")),ko(XM,QM),ko(XM,QM,"esm2017");function n(e){try{const t=e.getProvider(GA).getImmediate();return{logEvent:(r,i,s)=>Wde(t,r,i,s)}}catch(t){throw ma.create("interop-component-reg-failed",{reason:t})}}}Gde();var JM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mm,$z;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,N){function I(){}I.prototype=N.prototype,L.D=N.prototype,L.prototype=new I,L.prototype.constructor=L,L.C=function(j,k,M){for(var R=Array(arguments.length-2),q=2;q<arguments.length;q++)R[q-2]=arguments[q];return N.prototype[k].apply(j,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,N,I){I||(I=0);var j=Array(16);if(typeof N=="string")for(var k=0;16>k;++k)j[k]=N.charCodeAt(I++)|N.charCodeAt(I++)<<8|N.charCodeAt(I++)<<16|N.charCodeAt(I++)<<24;else for(k=0;16>k;++k)j[k]=N[I++]|N[I++]<<8|N[I++]<<16|N[I++]<<24;N=L.g[0],I=L.g[1],k=L.g[2];var M=L.g[3],R=N+(M^I&(k^M))+j[0]+3614090360&4294967295;N=I+(R<<7&4294967295|R>>>25),R=M+(k^N&(I^k))+j[1]+3905402710&4294967295,M=N+(R<<12&4294967295|R>>>20),R=k+(I^M&(N^I))+j[2]+606105819&4294967295,k=M+(R<<17&4294967295|R>>>15),R=I+(N^k&(M^N))+j[3]+3250441966&4294967295,I=k+(R<<22&4294967295|R>>>10),R=N+(M^I&(k^M))+j[4]+4118548399&4294967295,N=I+(R<<7&4294967295|R>>>25),R=M+(k^N&(I^k))+j[5]+1200080426&4294967295,M=N+(R<<12&4294967295|R>>>20),R=k+(I^M&(N^I))+j[6]+2821735955&4294967295,k=M+(R<<17&4294967295|R>>>15),R=I+(N^k&(M^N))+j[7]+4249261313&4294967295,I=k+(R<<22&4294967295|R>>>10),R=N+(M^I&(k^M))+j[8]+1770035416&4294967295,N=I+(R<<7&4294967295|R>>>25),R=M+(k^N&(I^k))+j[9]+2336552879&4294967295,M=N+(R<<12&4294967295|R>>>20),R=k+(I^M&(N^I))+j[10]+4294925233&4294967295,k=M+(R<<17&4294967295|R>>>15),R=I+(N^k&(M^N))+j[11]+2304563134&4294967295,I=k+(R<<22&4294967295|R>>>10),R=N+(M^I&(k^M))+j[12]+1804603682&4294967295,N=I+(R<<7&4294967295|R>>>25),R=M+(k^N&(I^k))+j[13]+4254626195&4294967295,M=N+(R<<12&4294967295|R>>>20),R=k+(I^M&(N^I))+j[14]+2792965006&4294967295,k=M+(R<<17&4294967295|R>>>15),R=I+(N^k&(M^N))+j[15]+1236535329&4294967295,I=k+(R<<22&4294967295|R>>>10),R=N+(k^M&(I^k))+j[1]+4129170786&4294967295,N=I+(R<<5&4294967295|R>>>27),R=M+(I^k&(N^I))+j[6]+3225465664&4294967295,M=N+(R<<9&4294967295|R>>>23),R=k+(N^I&(M^N))+j[11]+643717713&4294967295,k=M+(R<<14&4294967295|R>>>18),R=I+(M^N&(k^M))+j[0]+3921069994&4294967295,I=k+(R<<20&4294967295|R>>>12),R=N+(k^M&(I^k))+j[5]+3593408605&4294967295,N=I+(R<<5&4294967295|R>>>27),R=M+(I^k&(N^I))+j[10]+38016083&4294967295,M=N+(R<<9&4294967295|R>>>23),R=k+(N^I&(M^N))+j[15]+3634488961&4294967295,k=M+(R<<14&4294967295|R>>>18),R=I+(M^N&(k^M))+j[4]+3889429448&4294967295,I=k+(R<<20&4294967295|R>>>12),R=N+(k^M&(I^k))+j[9]+568446438&4294967295,N=I+(R<<5&4294967295|R>>>27),R=M+(I^k&(N^I))+j[14]+3275163606&4294967295,M=N+(R<<9&4294967295|R>>>23),R=k+(N^I&(M^N))+j[3]+4107603335&4294967295,k=M+(R<<14&4294967295|R>>>18),R=I+(M^N&(k^M))+j[8]+1163531501&4294967295,I=k+(R<<20&4294967295|R>>>12),R=N+(k^M&(I^k))+j[13]+2850285829&4294967295,N=I+(R<<5&4294967295|R>>>27),R=M+(I^k&(N^I))+j[2]+4243563512&4294967295,M=N+(R<<9&4294967295|R>>>23),R=k+(N^I&(M^N))+j[7]+1735328473&4294967295,k=M+(R<<14&4294967295|R>>>18),R=I+(M^N&(k^M))+j[12]+2368359562&4294967295,I=k+(R<<20&4294967295|R>>>12),R=N+(I^k^M)+j[5]+4294588738&4294967295,N=I+(R<<4&4294967295|R>>>28),R=M+(N^I^k)+j[8]+2272392833&4294967295,M=N+(R<<11&4294967295|R>>>21),R=k+(M^N^I)+j[11]+1839030562&4294967295,k=M+(R<<16&4294967295|R>>>16),R=I+(k^M^N)+j[14]+4259657740&4294967295,I=k+(R<<23&4294967295|R>>>9),R=N+(I^k^M)+j[1]+2763975236&4294967295,N=I+(R<<4&4294967295|R>>>28),R=M+(N^I^k)+j[4]+1272893353&4294967295,M=N+(R<<11&4294967295|R>>>21),R=k+(M^N^I)+j[7]+4139469664&4294967295,k=M+(R<<16&4294967295|R>>>16),R=I+(k^M^N)+j[10]+3200236656&4294967295,I=k+(R<<23&4294967295|R>>>9),R=N+(I^k^M)+j[13]+681279174&4294967295,N=I+(R<<4&4294967295|R>>>28),R=M+(N^I^k)+j[0]+3936430074&4294967295,M=N+(R<<11&4294967295|R>>>21),R=k+(M^N^I)+j[3]+3572445317&4294967295,k=M+(R<<16&4294967295|R>>>16),R=I+(k^M^N)+j[6]+76029189&4294967295,I=k+(R<<23&4294967295|R>>>9),R=N+(I^k^M)+j[9]+3654602809&4294967295,N=I+(R<<4&4294967295|R>>>28),R=M+(N^I^k)+j[12]+3873151461&4294967295,M=N+(R<<11&4294967295|R>>>21),R=k+(M^N^I)+j[15]+530742520&4294967295,k=M+(R<<16&4294967295|R>>>16),R=I+(k^M^N)+j[2]+3299628645&4294967295,I=k+(R<<23&4294967295|R>>>9),R=N+(k^(I|~M))+j[0]+4096336452&4294967295,N=I+(R<<6&4294967295|R>>>26),R=M+(I^(N|~k))+j[7]+1126891415&4294967295,M=N+(R<<10&4294967295|R>>>22),R=k+(N^(M|~I))+j[14]+2878612391&4294967295,k=M+(R<<15&4294967295|R>>>17),R=I+(M^(k|~N))+j[5]+4237533241&4294967295,I=k+(R<<21&4294967295|R>>>11),R=N+(k^(I|~M))+j[12]+1700485571&4294967295,N=I+(R<<6&4294967295|R>>>26),R=M+(I^(N|~k))+j[3]+2399980690&4294967295,M=N+(R<<10&4294967295|R>>>22),R=k+(N^(M|~I))+j[10]+4293915773&4294967295,k=M+(R<<15&4294967295|R>>>17),R=I+(M^(k|~N))+j[1]+2240044497&4294967295,I=k+(R<<21&4294967295|R>>>11),R=N+(k^(I|~M))+j[8]+1873313359&4294967295,N=I+(R<<6&4294967295|R>>>26),R=M+(I^(N|~k))+j[15]+4264355552&4294967295,M=N+(R<<10&4294967295|R>>>22),R=k+(N^(M|~I))+j[6]+2734768916&4294967295,k=M+(R<<15&4294967295|R>>>17),R=I+(M^(k|~N))+j[13]+1309151649&4294967295,I=k+(R<<21&4294967295|R>>>11),R=N+(k^(I|~M))+j[4]+4149444226&4294967295,N=I+(R<<6&4294967295|R>>>26),R=M+(I^(N|~k))+j[11]+3174756917&4294967295,M=N+(R<<10&4294967295|R>>>22),R=k+(N^(M|~I))+j[2]+718787259&4294967295,k=M+(R<<15&4294967295|R>>>17),R=I+(M^(k|~N))+j[9]+3951481745&4294967295,L.g[0]=L.g[0]+N&4294967295,L.g[1]=L.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,L.g[2]=L.g[2]+k&4294967295,L.g[3]=L.g[3]+M&4294967295}r.prototype.u=function(L,N){N===void 0&&(N=L.length);for(var I=N-this.blockSize,j=this.B,k=this.h,M=0;M<N;){if(k==0)for(;M<=I;)i(this,L,M),M+=this.blockSize;if(typeof L=="string"){for(;M<N;)if(j[k++]=L.charCodeAt(M++),k==this.blockSize){i(this,j),k=0;break}}else for(;M<N;)if(j[k++]=L[M++],k==this.blockSize){i(this,j),k=0;break}}this.h=k,this.o+=N},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var N=1;N<L.length-8;++N)L[N]=0;var I=8*this.o;for(N=L.length-8;N<L.length;++N)L[N]=I&255,I/=256;for(this.u(L),L=Array(16),N=I=0;4>N;++N)for(var j=0;32>j;j+=8)L[I++]=this.g[N]>>>j&255;return L};function s(L,N){var I=a;return Object.prototype.hasOwnProperty.call(I,L)?I[L]:I[L]=N(L)}function o(L,N){this.h=N;for(var I=[],j=!0,k=L.length-1;0<=k;k--){var M=L[k]|0;j&&M==N||(I[k]=M,j=!1)}this.g=I}var a={};function l(L){return-128<=L&&128>L?s(L,function(N){return new o([N|0],0>N?-1:0)}):new o([L|0],0>L?-1:0)}function c(L){if(isNaN(L)||!isFinite(L))return h;if(0>L)return _(c(-L));for(var N=[],I=1,j=0;L>=I;j++)N[j]=L/I|0,I*=4294967296;return new o(N,0)}function u(L,N){if(L.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(L.charAt(0)=="-")return _(u(L.substring(1),N));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(N,8)),j=h,k=0;k<L.length;k+=8){var M=Math.min(8,L.length-k),R=parseInt(L.substring(k,k+M),N);8>M?(M=c(Math.pow(N,M)),j=j.j(M).add(c(R))):(j=j.j(I),j=j.add(c(R)))}return j}var h=l(0),p=l(1),f=l(16777216);n=o.prototype,n.m=function(){if(y(this))return-_(this).m();for(var L=0,N=1,I=0;I<this.g.length;I++){var j=this.i(I);L+=(0<=j?j:4294967296+j)*N,N*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(b(this))return"0";if(y(this))return"-"+_(this).toString(L);for(var N=c(Math.pow(L,6)),I=this,j="";;){var k=C(I,N).g;I=w(I,k.j(N));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(L);if(I=k,b(I))return M+j;for(;6>M.length;)M="0"+M;j=M+j}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function b(L){if(L.h!=0)return!1;for(var N=0;N<L.g.length;N++)if(L.g[N]!=0)return!1;return!0}function y(L){return L.h==-1}n.l=function(L){return L=w(this,L),y(L)?-1:b(L)?0:1};function _(L){for(var N=L.g.length,I=[],j=0;j<N;j++)I[j]=~L.g[j];return new o(I,~L.h).add(p)}n.abs=function(){return y(this)?_(this):this},n.add=function(L){for(var N=Math.max(this.g.length,L.g.length),I=[],j=0,k=0;k<=N;k++){var M=j+(this.i(k)&65535)+(L.i(k)&65535),R=(M>>>16)+(this.i(k)>>>16)+(L.i(k)>>>16);j=R>>>16,M&=65535,R&=65535,I[k]=R<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(L,N){return L.add(_(N))}n.j=function(L){if(b(this)||b(L))return h;if(y(this))return y(L)?_(this).j(_(L)):_(_(this).j(L));if(y(L))return _(this.j(_(L)));if(0>this.l(f)&&0>L.l(f))return c(this.m()*L.m());for(var N=this.g.length+L.g.length,I=[],j=0;j<2*N;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(var k=0;k<L.g.length;k++){var M=this.i(j)>>>16,R=this.i(j)&65535,q=L.i(k)>>>16,ce=L.i(k)&65535;I[2*j+2*k]+=R*ce,A(I,2*j+2*k),I[2*j+2*k+1]+=M*ce,A(I,2*j+2*k+1),I[2*j+2*k+1]+=R*q,A(I,2*j+2*k+1),I[2*j+2*k+2]+=M*q,A(I,2*j+2*k+2)}for(j=0;j<N;j++)I[j]=I[2*j+1]<<16|I[2*j];for(j=N;j<2*N;j++)I[j]=0;return new o(I,0)};function A(L,N){for(;(L[N]&65535)!=L[N];)L[N+1]+=L[N]>>>16,L[N]&=65535,N++}function E(L,N){this.g=L,this.h=N}function C(L,N){if(b(N))throw Error("division by zero");if(b(L))return new E(h,h);if(y(L))return N=C(_(L),N),new E(_(N.g),_(N.h));if(y(N))return N=C(L,_(N)),new E(_(N.g),N.h);if(30<L.g.length){if(y(L)||y(N))throw Error("slowDivide_ only works with positive integers.");for(var I=p,j=N;0>=j.l(L);)I=F(I),j=F(j);var k=V(I,1),M=V(j,1);for(j=V(j,2),I=V(I,2);!b(j);){var R=M.add(j);0>=R.l(L)&&(k=k.add(I),M=R),j=V(j,1),I=V(I,1)}return N=w(L,k.j(N)),new E(k,N)}for(k=h;0<=L.l(N);){for(I=Math.max(1,Math.floor(L.m()/N.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),M=c(I),R=M.j(N);y(R)||0<R.l(L);)I-=j,M=c(I),R=M.j(N);b(M)&&(M=p),k=k.add(M),L=w(L,R)}return new E(k,L)}n.A=function(L){return C(this,L).h},n.and=function(L){for(var N=Math.max(this.g.length,L.g.length),I=[],j=0;j<N;j++)I[j]=this.i(j)&L.i(j);return new o(I,this.h&L.h)},n.or=function(L){for(var N=Math.max(this.g.length,L.g.length),I=[],j=0;j<N;j++)I[j]=this.i(j)|L.i(j);return new o(I,this.h|L.h)},n.xor=function(L){for(var N=Math.max(this.g.length,L.g.length),I=[],j=0;j<N;j++)I[j]=this.i(j)^L.i(j);return new o(I,this.h^L.h)};function F(L){for(var N=L.g.length+1,I=[],j=0;j<N;j++)I[j]=L.i(j)<<1|L.i(j-1)>>>31;return new o(I,L.h)}function V(L,N){var I=N>>5;N%=32;for(var j=L.g.length-I,k=[],M=0;M<j;M++)k[M]=0<N?L.i(M+I)>>>N|L.i(M+I+1)<<32-N:L.i(M+I);return new o(k,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$z=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Mm=o}).apply(typeof JM<"u"?JM:typeof self<"u"?self:typeof window<"u"?window:{});var y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hz,Ry,qz,d5,jk,Wz,Gz,Kz;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,P,B){return v==Array.prototype||v==Object.prototype||(v[P]=B.value),v};function t(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof y_=="object"&&y_];for(var P=0;P<v.length;++P){var B=v[P];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=t(this);function i(v,P){if(P)e:{var B=r;v=v.split(".");for(var ee=0;ee<v.length-1;ee++){var we=v[ee];if(!(we in B))break e;B=B[we]}v=v[v.length-1],ee=B[v],P=P(ee),P!=ee&&P!=null&&e(B,v,{configurable:!0,writable:!0,value:P})}}function s(v,P){v instanceof String&&(v+="");var B=0,ee=!1,we={next:function(){if(!ee&&B<v.length){var Ne=B++;return{value:P(Ne,v[Ne]),done:!1}}return ee=!0,{done:!0,value:void 0}}};return we[Symbol.iterator]=function(){return we},we}i("Array.prototype.values",function(v){return v||function(){return s(this,function(P,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(v){var P=typeof v;return P=P!="object"?P:v?Array.isArray(v)?"array":P:"null",P=="array"||P=="object"&&typeof v.length=="number"}function c(v){var P=typeof v;return P=="object"&&v!=null||P=="function"}function u(v,P,B){return v.call.apply(v.bind,arguments)}function h(v,P,B){if(!v)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var we=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(we,ee),v.apply(P,we)}}return function(){return v.apply(P,arguments)}}function p(v,P,B){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function f(v,P){var B=Array.prototype.slice.call(arguments,1);return function(){var ee=B.slice();return ee.push.apply(ee,arguments),v.apply(this,ee)}}function b(v,P){function B(){}B.prototype=P.prototype,v.aa=P.prototype,v.prototype=new B,v.prototype.constructor=v,v.Qb=function(ee,we,Ne){for(var qe=Array(arguments.length-2),mn=2;mn<arguments.length;mn++)qe[mn-2]=arguments[mn];return P.prototype[we].apply(ee,qe)}}function y(v){const P=v.length;if(0<P){const B=Array(P);for(let ee=0;ee<P;ee++)B[ee]=v[ee];return B}return[]}function _(v,P){for(let B=1;B<arguments.length;B++){const ee=arguments[B];if(l(ee)){const we=v.length||0,Ne=ee.length||0;v.length=we+Ne;for(let qe=0;qe<Ne;qe++)v[we+qe]=ee[qe]}else v.push(ee)}}class w{constructor(P,B){this.i=P,this.j=B,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function A(v){return/^[\s\xa0]*$/.test(v)}function E(){var v=a.navigator;return v&&(v=v.userAgent)?v:""}function C(v){return C[" "](v),v}C[" "]=function(){};var F=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function V(v,P,B){for(const ee in v)P.call(B,v[ee],ee,v)}function L(v,P){for(const B in v)P.call(void 0,v[B],B,v)}function N(v){const P={};for(const B in v)P[B]=v[B];return P}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(v,P){let B,ee;for(let we=1;we<arguments.length;we++){ee=arguments[we];for(B in ee)v[B]=ee[B];for(let Ne=0;Ne<I.length;Ne++)B=I[Ne],Object.prototype.hasOwnProperty.call(ee,B)&&(v[B]=ee[B])}}function k(v){var P=1;v=v.split(":");const B=[];for(;0<P&&v.length;)B.push(v.shift()),P--;return v.length&&B.push(v.join(":")),B}function M(v){a.setTimeout(()=>{throw v},0)}function R(){var v=ne;let P=null;return v.g&&(P=v.g,v.g=v.g.next,v.g||(v.h=null),P.next=null),P}class q{constructor(){this.h=this.g=null}add(P,B){const ee=ce.get();ee.set(P,B),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var ce=new w(()=>new de,v=>v.reset());class de{constructor(){this.next=this.g=this.h=null}set(P,B){this.h=P,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,Q=!1,ne=new q,ge=()=>{const v=a.Promise.resolve(void 0);ae=()=>{v.then(pe)}};var pe=()=>{for(var v;v=R();){try{v.h.call(v.g)}catch(B){M(B)}var P=ce;P.j(v),100>P.h&&(P.h++,v.next=P.g,P.g=v)}Q=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(v,P){this.type=v,this.g=this.target=P,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var v=!1,P=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const B=()=>{};a.addEventListener("test",B,P),a.removeEventListener("test",B,P)}catch{}return v}();function le(v,P){if(X.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var B=this.type=v.type,ee=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=P,P=v.relatedTarget){if(F){e:{try{C(P.nodeName);var we=!0;break e}catch{}we=!1}we||(P=null)}}else B=="mouseover"?P=v.fromElement:B=="mouseout"&&(P=v.toElement);this.relatedTarget=P,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:he[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&le.aa.h.call(this)}}b(le,X);var he={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),_e=0;function xe(v,P,B,ee,we){this.listener=v,this.proxy=null,this.src=P,this.type=B,this.capture=!!ee,this.ha=we,this.key=++_e,this.da=this.fa=!1}function Ae(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function je(v){this.src=v,this.g={},this.h=0}je.prototype.add=function(v,P,B,ee,we){var Ne=v.toString();v=this.g[Ne],v||(v=this.g[Ne]=[],this.h++);var qe=Te(v,P,ee,we);return-1<qe?(P=v[qe],B||(P.fa=!1)):(P=new xe(P,this.src,Ne,!!ee,we),P.fa=B,v.push(P)),P};function Se(v,P){var B=P.type;if(B in v.g){var ee=v.g[B],we=Array.prototype.indexOf.call(ee,P,void 0),Ne;(Ne=0<=we)&&Array.prototype.splice.call(ee,we,1),Ne&&(Ae(P),v.g[B].length==0&&(delete v.g[B],v.h--))}}function Te(v,P,B,ee){for(var we=0;we<v.length;++we){var Ne=v[we];if(!Ne.da&&Ne.listener==P&&Ne.capture==!!B&&Ne.ha==ee)return we}return-1}var Le="closure_lm_"+(1e6*Math.random()|0),J={};function Oe(v,P,B,ee,we){if(Array.isArray(P)){for(var Ne=0;Ne<P.length;Ne++)Oe(v,P[Ne],B,ee,we);return null}return B=Ct(B),v&&v[ue]?v.K(P,B,c(ee)?!!ee.capture:!!ee,we):Xe(v,P,B,!1,ee,we)}function Xe(v,P,B,ee,we,Ne){if(!P)throw Error("Invalid event type");var qe=c(we)?!!we.capture:!!we,mn=Ve(v);if(mn||(v[Le]=mn=new je(v)),B=mn.add(P,B,ee,qe,Ne),B.proxy)return B;if(ee=Ge(),B.proxy=ee,ee.src=v,ee.listener=B,v.addEventListener)re||(we=qe),we===void 0&&(we=!1),v.addEventListener(P.toString(),ee,we);else if(v.attachEvent)v.attachEvent(Qe(P.toString()),ee);else if(v.addListener&&v.removeListener)v.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return B}function Ge(){function v(B){return P.call(v.src,v.listener,B)}const P=De;return v}function Ie(v,P,B,ee,we){if(Array.isArray(P))for(var Ne=0;Ne<P.length;Ne++)Ie(v,P[Ne],B,ee,we);else ee=c(ee)?!!ee.capture:!!ee,B=Ct(B),v&&v[ue]?(v=v.i,P=String(P).toString(),P in v.g&&(Ne=v.g[P],B=Te(Ne,B,ee,we),-1<B&&(Ae(Ne[B]),Array.prototype.splice.call(Ne,B,1),Ne.length==0&&(delete v.g[P],v.h--)))):v&&(v=Ve(v))&&(P=v.g[P.toString()],v=-1,P&&(v=Te(P,B,ee,we)),(B=-1<v?P[v]:null)&&ut(B))}function ut(v){if(typeof v!="number"&&v&&!v.da){var P=v.src;if(P&&P[ue])Se(P.i,v);else{var B=v.type,ee=v.proxy;P.removeEventListener?P.removeEventListener(B,ee,v.capture):P.detachEvent?P.detachEvent(Qe(B),ee):P.addListener&&P.removeListener&&P.removeListener(ee),(B=Ve(P))?(Se(B,v),B.h==0&&(B.src=null,P[Le]=null)):Ae(v)}}}function Qe(v){return v in J?J[v]:J[v]="on"+v}function De(v,P){if(v.da)v=!0;else{P=new le(P,this);var B=v.listener,ee=v.ha||v.src;v.fa&&ut(v),v=B.call(ee,P)}return v}function Ve(v){return v=v[Le],v instanceof je?v:null}var nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(v){return typeof v=="function"?v:(v[nt]||(v[nt]=function(P){return v.handleEvent(P)}),v[nt])}function We(){U.call(this),this.i=new je(this),this.M=this,this.F=null}b(We,U),We.prototype[ue]=!0,We.prototype.removeEventListener=function(v,P,B,ee){Ie(this,v,P,B,ee)};function dt(v,P){var B,ee=v.F;if(ee)for(B=[];ee;ee=ee.F)B.push(ee);if(v=v.M,ee=P.type||P,typeof P=="string")P=new X(P,v);else if(P instanceof X)P.target=P.target||v;else{var we=P;P=new X(ee,v),j(P,we)}if(we=!0,B)for(var Ne=B.length-1;0<=Ne;Ne--){var qe=P.g=B[Ne];we=Bt(qe,ee,!0,P)&&we}if(qe=P.g=v,we=Bt(qe,ee,!0,P)&&we,we=Bt(qe,ee,!1,P)&&we,B)for(Ne=0;Ne<B.length;Ne++)qe=P.g=B[Ne],we=Bt(qe,ee,!1,P)&&we}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var v=this.i,P;for(P in v.g){for(var B=v.g[P],ee=0;ee<B.length;ee++)Ae(B[ee]);delete v.g[P],v.h--}}this.F=null},We.prototype.K=function(v,P,B,ee){return this.i.add(String(v),P,!1,B,ee)},We.prototype.L=function(v,P,B,ee){return this.i.add(String(v),P,!0,B,ee)};function Bt(v,P,B,ee){if(P=v.i.g[String(P)],!P)return!0;P=P.concat();for(var we=!0,Ne=0;Ne<P.length;++Ne){var qe=P[Ne];if(qe&&!qe.da&&qe.capture==B){var mn=qe.listener,Nr=qe.ha||qe.src;qe.fa&&Se(v.i,qe),we=mn.call(Nr,ee)!==!1&&we}}return we&&!ee.defaultPrevented}function st(v,P,B){if(typeof v=="function")B&&(v=p(v,B));else if(v&&typeof v.handleEvent=="function")v=p(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:a.setTimeout(v,P||0)}function kt(v){v.g=st(()=>{v.g=null,v.i&&(v.i=!1,kt(v))},v.l);const P=v.h;v.h=null,v.m.apply(null,P)}class wt extends U{constructor(P,B){super(),this.m=P,this.l=B,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:kt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ln(v){U.call(this),this.h=v,this.g={}}b(Ln,U);var nn=[];function Ot(v){V(v.g,function(P,B){this.g.hasOwnProperty(B)&&ut(P)},v),v.g={}}Ln.prototype.N=function(){Ln.aa.N.call(this),Ot(this)},Ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=a.JSON.stringify,An=a.JSON.parse,Et=class{stringify(v){return a.JSON.stringify(v,void 0)}parse(v){return a.JSON.parse(v,void 0)}};function Cn(){}Cn.prototype.h=null;function Nt(v){return v.h||(v.h=v.i())}function Ft(){}var Nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zt(){X.call(this,"d")}b(zt,X);function mt(){X.call(this,"c")}b(mt,X);var rn={},It=null;function Mt(){return It=It||new We}rn.La="serverreachability";function cn(v){X.call(this,rn.La,v)}b(cn,X);function Wn(v){const P=Mt();dt(P,new cn(P))}rn.STAT_EVENT="statevent";function ht(v,P){X.call(this,rn.STAT_EVENT,v),this.stat=P}b(ht,X);function bn(v){const P=Mt();dt(P,new ht(P,v))}rn.Ma="timingevent";function si(v,P){X.call(this,rn.Ma,v),this.size=P}b(si,X);function Dn(v,P){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){v()},P)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function yr(v,P,B,ee,we,Ne){v.info(function(){if(v.g)if(Ne)for(var qe="",mn=Ne.split("&"),Nr=0;Nr<mn.length;Nr++){var an=mn[Nr].split("=");if(1<an.length){var Tn=an[0];an=an[1];var ir=Tn.split("_");qe=2<=ir.length&&ir[1]=="type"?qe+(Tn+"="+an+"&"):qe+(Tn+"=redacted&")}}else qe=null;else qe=Ne;return"XMLHTTP REQ ("+ee+") [attempt "+we+"]: "+P+`
`+B+`
`+qe})}function oi(v,P,B,ee,we,Ne,qe){v.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+we+"]: "+P+`
`+B+`
`+Ne+" "+qe})}function wr(v,P,B,ee){v.info(function(){return"XMLHTTP TEXT ("+P+"): "+Ql(v,B)+(ee?" "+ee:"")})}function au(v,P){v.info(function(){return"TIMEOUT: "+P})}Qn.prototype.info=function(){};function Ql(v,P){if(!v.g)return P;if(!P)return null;try{var B=JSON.parse(P);if(B){for(v=0;v<B.length;v++)if(Array.isArray(B[v])){var ee=B[v];if(!(2>ee.length)){var we=ee[1];if(Array.isArray(we)&&!(1>we.length)){var Ne=we[0];if(Ne!="noop"&&Ne!="stop"&&Ne!="close")for(var qe=1;qe<we.length;qe++)we[qe]=""}}}}return Vt(B)}catch{return P}}var cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},js;function us(){}b(us,Cn),us.prototype.g=function(){return new XMLHttpRequest},us.prototype.i=function(){return{}},js=new us;function qr(v,P,B,ee){this.j=v,this.i=P,this.l=B,this.R=ee||1,this.U=new Ln(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jl}function Jl(){this.i=null,this.g="",this.h=!1}var Do={},ol={};function Zl(v,P,B){v.L=1,v.v=hu(pi(P)),v.m=B,v.P=!0,lu(v,null)}function lu(v,P){v.F=Date.now(),ec(v),v.A=pi(v.v);var B=v.A,ee=v.R;Array.isArray(ee)||(ee=[String(ee)]),Ng(B.i,"t",ee),v.C=0,B=v.j.J,v.h=new Jl,v.g=jr(v.j,B?P:null,!v.m),0<v.O&&(v.M=new wt(p(v.Y,v,v.g),v.O)),P=v.U,B=v.g,ee=v.ca;var we="readystatechange";Array.isArray(we)||(we&&(nn[0]=we.toString()),we=nn);for(var Ne=0;Ne<we.length;Ne++){var qe=Oe(B,we[Ne],ee||P.handleEvent,!1,P.h||P);if(!qe)break;P.g[qe.key]=qe}P=v.H?N(v.H):{},v.m?(v.u||(v.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,P)):(v.u="GET",v.g.ea(v.A,v.u,null,P)),Wn(),yr(v.i,v.u,v.A,v.l,v.R,v.m)}qr.prototype.ca=function(v){v=v.target;const P=this.M;P&&Os(v)==3?P.j():this.Y(v)},qr.prototype.Y=function(v){try{if(v==this.g)e:{const ir=Os(this.g);var P=this.g.Ba();const Oo=this.g.Z();if(!(3>ir)&&(ir!=3||this.g&&(this.h.h||this.g.oa()||ep(this.g)))){this.J||ir!=4||P==7||(P==8||0>=Oo?Wn(3):Wn(2)),jd(this);var B=this.g.Z();this.X=B;t:if(cu(this)){var ee=ep(this.g);v="";var we=ee.length,Ne=Os(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mo(this),Ti(this);var qe="";break t}this.h.i=new a.TextDecoder}for(P=0;P<we;P++)this.h.h=!0,v+=this.h.i.decode(ee[P],{stream:!(Ne&&P==we-1)});ee.length=0,this.h.g+=v,this.C=0,qe=this.h.g}else qe=this.g.oa();if(this.o=B==200,oi(this.i,this.u,this.A,this.l,this.R,ir,B),this.o){if(this.T&&!this.K){t:{if(this.g){var mn,Nr=this.g;if((mn=Nr.g?Nr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(mn)){var an=mn;break t}}an=null}if(B=an)wr(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Od(this,B);else{this.o=!1,this.s=3,bn(12),Mo(this),Ti(this);break e}}if(this.P){B=!0;let ds;for(;!this.J&&this.C<qe.length;)if(ds=F1(this,qe),ds==ol){ir==4&&(this.s=4,bn(14),B=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(ds==Do){this.s=4,bn(15),wr(this.i,this.l,qe,"[Invalid Chunk]"),B=!1;break}else wr(this.i,this.l,ds,null),Od(this,ds);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ir!=4||qe.length!=0||this.h.h||(this.s=1,bn(16),B=!1),this.o=this.o&&B,!B)wr(this.i,this.l,qe,"[Invalid Chunked Response]"),Mo(this),Ti(this);else if(0<qe.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+qe.length),lt(Tn),Tn.M=!0,bn(11))}}else wr(this.i,this.l,qe,null),Od(this,qe);ir==4&&Mo(this),this.o&&!this.J&&(ir==4?Ht(this.j,this):(this.o=!1,ec(this)))}else kg(this.g),B==400&&0<qe.indexOf("Unknown SID")?(this.s=3,bn(12)):(this.s=0,bn(13)),Mo(this),Ti(this)}}}catch{}finally{}};function cu(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function F1(v,P){var B=v.C,ee=P.indexOf(`
`,B);return ee==-1?ol:(B=Number(P.substring(B,ee)),isNaN(B)?Do:(ee+=1,ee+B>P.length?ol:(P=P.slice(ee,ee+B),v.C=ee+B,P)))}qr.prototype.cancel=function(){this.J=!0,Mo(this)};function ec(v){v.S=Date.now()+v.I,qf(v,v.I)}function qf(v,P){if(v.B!=null)throw Error("WatchDog timer not null");v.B=Dn(p(v.ba,v),P)}function jd(v){v.B&&(a.clearTimeout(v.B),v.B=null)}qr.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(au(this.i,this.A),this.L!=2&&(Wn(),bn(17)),Mo(this),this.s=2,Ti(this)):qf(this,this.S-v)};function Ti(v){v.j.G==0||v.J||Ht(v.j,v)}function Mo(v){jd(v);var P=v.M;P&&typeof P.ma=="function"&&P.ma(),v.M=null,Ot(v.U),v.g&&(P=v.g,v.g=null,P.abort(),P.ma())}function Od(v,P){try{var B=v.j;if(B.G!=0&&(B.g==v||oo(B.h,v))){if(!v.K&&oo(B.h,v)&&B.G==3){try{var ee=B.Da.g.parse(P)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var we=ee;if(we[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<v.F)Dt(B),Ta(B);else break e;Be(B),bn(18)}}else B.za=we[1],0<B.za-B.T&&37500>we[2]&&B.F&&B.v==0&&!B.C&&(B.C=Dn(p(B.Za,B),6e3));if(1>=Yf(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else In(B,11)}else if((v.K||B.g==v)&&Dt(B),!A(P))for(we=B.Da.g.parse(P),P=0;P<we.length;P++){let an=we[P];if(B.T=an[0],an=an[1],B.G==2)if(an[0]=="c"){B.K=an[1],B.ia=an[2];const Tn=an[3];Tn!=null&&(B.la=Tn,B.j.info("VER="+B.la));const ir=an[4];ir!=null&&(B.Aa=ir,B.j.info("SVER="+B.Aa));const Oo=an[5];Oo!=null&&typeof Oo=="number"&&0<Oo&&(ee=1.5*Oo,B.L=ee,B.j.info("backChannelRequestTimeoutMs_="+ee)),ee=B;const ds=v.g;if(ds){const qi=ds.g?ds.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qi){var Ne=ee.h;Ne.g||qi.indexOf("spdy")==-1&&qi.indexOf("quic")==-1&&qi.indexOf("h2")==-1||(Ne.j=Ne.l,Ne.g=new Set,Ne.h&&(tc(Ne,Ne.h),Ne.h=null))}if(ee.D){const cl=ds.g?ds.g.getResponseHeader("X-HTTP-Session-Id"):null;cl&&(ee.ya=cl,dn(ee.I,ee.D,cl))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-v.F,B.j.info("Handshake RTT: "+B.R+"ms")),ee=B;var qe=v;if(ee.qa=Fn(ee,ee.J?ee.ia:null,ee.W),qe.K){_g(ee.h,qe);var mn=qe,Nr=ee.L;Nr&&(mn.I=Nr),mn.B&&(jd(mn),ec(mn)),ee.g=qe}else Pe(ee);0<B.i.length&&S(B)}else an[0]!="stop"&&an[0]!="close"||In(B,7);else B.G==3&&(an[0]=="stop"||an[0]=="close"?an[0]=="stop"?In(B,7):$d(B):an[0]!="noop"&&B.l&&B.l.ta(an),B.v=0)}}Wn(4)}catch{}}var Wf=class{constructor(v,P){this.g=v,this.map=P}};function Gf(v){this.l=v||10,a.PerformanceNavigationTiming?(v=a.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kf(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Yf(v){return v.h?1:v.g?v.g.size:0}function oo(v,P){return v.h?v.h==P:v.g?v.g.has(P):!1}function tc(v,P){v.g?v.g.add(P):v.h=P}function _g(v,P){v.h&&v.h==P?v.h=null:v.g&&v.g.has(P)&&v.g.delete(P)}Gf.prototype.cancel=function(){if(this.i=Ar(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Ar(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let P=v.i;for(const B of v.g.values())P=P.concat(B.D);return P}return y(v.i)}function Ag(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(l(v)){for(var P=[],B=v.length,ee=0;ee<B;ee++)P.push(v[ee]);return P}P=[],B=0;for(ee in v)P[B++]=v[ee];return P}function _a(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(l(v)||typeof v=="string"){var P=[];v=v.length;for(var B=0;B<v;B++)P.push(B);return P}P=[],B=0;for(const ee in v)P[B++]=ee;return P}}}function uu(v,P){if(v.forEach&&typeof v.forEach=="function")v.forEach(P,void 0);else if(l(v)||typeof v=="string")Array.prototype.forEach.call(v,P,void 0);else for(var B=_a(v),ee=Ag(v),we=ee.length,Ne=0;Ne<we;Ne++)P.call(void 0,ee[Ne],B&&B[Ne],v)}var Xf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ao(v,P){if(v){v=v.split("&");for(var B=0;B<v.length;B++){var ee=v[B].indexOf("="),we=null;if(0<=ee){var Ne=v[B].substring(0,ee);we=v[B].substring(ee+1)}else Ne=v[B];P(Ne,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function Jn(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Jn){this.h=v.h,du(this,v.j),this.o=v.o,this.g=v.g,Fd(this,v.s),this.l=v.l;var P=v.i,B=new Hi;B.i=P.i,P.g&&(B.g=new Map(P.g),B.h=P.h),Eg(this,B),this.m=v.m}else v&&(P=String(v).match(Xf))?(this.h=!1,du(this,P[1]||"",!0),this.o=nc(P[2]||""),this.g=nc(P[3]||"",!0),Fd(this,P[4]),this.l=nc(P[5]||"",!0),Eg(this,P[6]||"",!0),this.m=nc(P[7]||"")):(this.h=!1,this.i=new Hi(null,this.h))}Jn.prototype.toString=function(){var v=[],P=this.j;P&&v.push(Aa(P,Sg,!0),":");var B=this.g;return(B||P=="file")&&(v.push("//"),(P=this.o)&&v.push(Aa(P,Sg,!0),"@"),v.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&v.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&v.push("/"),v.push(Aa(B,B.charAt(0)=="/"?U1:B1,!0))),(B=this.i.toString())&&v.push("?",B),(B=this.m)&&v.push("#",Aa(B,Cg)),v.join("")};function pi(v){return new Jn(v)}function du(v,P,B){v.j=B?nc(P,!0):P,v.j&&(v.j=v.j.replace(/:$/,""))}function Fd(v,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);v.s=P}else v.s=null}function Eg(v,P,B){P instanceof Hi?(v.i=P,V1(v.i,v.h)):(B||(P=Aa(P,Qf)),v.i=new Hi(P,v.h))}function dn(v,P,B){v.i.set(P,B)}function hu(v){return dn(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function nc(v,P){return v?P?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Aa(v,P,B){return typeof v=="string"?(v=encodeURI(v).replace(P,fu),B&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function fu(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Sg=/[#\/\?@]/g,B1=/[#\?:]/g,U1=/[#\?]/g,Qf=/[#\?@]/g,Cg=/#/g;function Hi(v,P){this.h=this.g=null,this.i=v||null,this.j=!!P}function Ea(v){v.g||(v.g=new Map,v.h=0,v.i&&ao(v.i,function(P,B){v.add(decodeURIComponent(P.replace(/\+/g," ")),B)}))}n=Hi.prototype,n.add=function(v,P){Ea(this),this.i=null,v=Lt(this,v);var B=this.g.get(v);return B||this.g.set(v,B=[]),B.push(P),this.h+=1,this};function rc(v,P){Ea(v),P=Lt(v,P),v.g.has(P)&&(v.i=null,v.h-=v.g.get(P).length,v.g.delete(P))}function Bd(v,P){return Ea(v),P=Lt(v,P),v.g.has(P)}n.forEach=function(v,P){Ea(this),this.g.forEach(function(B,ee){B.forEach(function(we){v.call(P,we,ee,this)},this)},this)},n.na=function(){Ea(this);const v=Array.from(this.g.values()),P=Array.from(this.g.keys()),B=[];for(let ee=0;ee<P.length;ee++){const we=v[ee];for(let Ne=0;Ne<we.length;Ne++)B.push(P[ee])}return B},n.V=function(v){Ea(this);let P=[];if(typeof v=="string")Bd(this,v)&&(P=P.concat(this.g.get(Lt(this,v))));else{v=Array.from(this.g.values());for(let B=0;B<v.length;B++)P=P.concat(v[B])}return P},n.set=function(v,P){return Ea(this),this.i=null,v=Lt(this,v),Bd(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[P]),this.h+=1,this},n.get=function(v,P){return v?(v=this.V(v),0<v.length?String(v[0]):P):P};function Ng(v,P,B){rc(v,P),0<B.length&&(v.i=null,v.g.set(Lt(v,P),y(B)),v.h+=B.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],P=Array.from(this.g.keys());for(var B=0;B<P.length;B++){var ee=P[B];const Ne=encodeURIComponent(String(ee)),qe=this.V(ee);for(ee=0;ee<qe.length;ee++){var we=Ne;qe[ee]!==""&&(we+="="+encodeURIComponent(String(qe[ee]))),v.push(we)}}return this.i=v.join("&")};function Lt(v,P){return P=String(P),v.j&&(P=P.toLowerCase()),P}function V1(v,P){P&&!v.j&&(Ea(v),v.i=null,v.g.forEach(function(B,ee){var we=ee.toLowerCase();ee!=we&&(rc(this,ee),Ng(this,we,B))},v)),v.j=P}function z1(v,P){const B=new Qn;if(a.Image){const ee=new Image;ee.onload=f(ki,B,"TestLoadImage: loaded",!0,P,ee),ee.onerror=f(ki,B,"TestLoadImage: error",!1,P,ee),ee.onabort=f(ki,B,"TestLoadImage: abort",!1,P,ee),ee.ontimeout=f(ki,B,"TestLoadImage: timeout",!1,P,ee),a.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=v}else P(!1)}function $1(v,P){const B=new Qn,ee=new AbortController,we=setTimeout(()=>{ee.abort(),ki(B,"TestPingServer: timeout",!1,P)},1e4);fetch(v,{signal:ee.signal}).then(Ne=>{clearTimeout(we),Ne.ok?ki(B,"TestPingServer: ok",!0,P):ki(B,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(we),ki(B,"TestPingServer: error",!1,P)})}function ki(v,P,B,ee,we){try{we&&(we.onload=null,we.onerror=null,we.onabort=null,we.ontimeout=null),ee(B)}catch{}}function al(){this.g=new Et}function H1(v,P,B){const ee=B||"";try{uu(v,function(we,Ne){let qe=we;c(we)&&(qe=Vt(we)),P.push(ee+Ne+"="+encodeURIComponent(qe))})}catch(we){throw P.push(ee+"type="+encodeURIComponent("_badmap")),we}}function Ud(v){this.l=v.Ub||null,this.j=v.eb||!1}b(Ud,Cn),Ud.prototype.g=function(){return new ll(this.l,this.j)},Ud.prototype.i=function(v){return function(){return v}}({});function ll(v,P){We.call(this),this.D=v,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ll,We),n=ll.prototype,n.open=function(v,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=P,this.readyState=1,pu(this)},n.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(P.body=v),(this.D||a).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jo(this)),this.readyState=0},n.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,pu(this)),this.g&&(this.readyState=3,pu(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vd(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vd(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}n.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var P=v.value?v.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!v.done}))&&(this.response=this.responseText+=P)}v.done?jo(this):pu(this),this.readyState==3&&Vd(this)}},n.Ra=function(v){this.g&&(this.response=this.responseText=v,jo(this))},n.Qa=function(v){this.g&&(this.response=v,jo(this))},n.ga=function(){this.g&&jo(this)};function jo(v){v.readyState=4,v.l=null,v.j=null,v.v=null,pu(v)}n.setRequestHeader=function(v,P){this.u.append(v,P)},n.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],P=this.h.entries();for(var B=P.next();!B.done;)B=B.value,v.push(B[0]+": "+B[1]),B=P.next();return v.join(`\r
`)};function pu(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(ll.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Sa(v){let P="";return V(v,function(B,ee){P+=ee,P+=":",P+=B,P+=`\r
`}),P}function Jf(v,P,B){e:{for(ee in B){var ee=!1;break e}ee=!0}ee||(B=Sa(B),typeof v=="string"?B!=null&&encodeURIComponent(String(B)):dn(v,P,B))}function Gn(v){We.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Gn,We);var Zf=/^https?$/i,Tg=["POST","PUT"];n=Gn.prototype,n.Ha=function(v){this.J=v},n.ea=function(v,P,B,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);P=P?P.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():js.g(),this.v=this.o?Nt(this.o):Nt(js),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(P,String(v),!0),this.B=!1}catch(Ne){Ca(this,Ne);return}if(v=B||"",B=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var we in ee)B.set(we,ee[we]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const Ne of ee.keys())B.set(Ne,ee.get(Ne));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(B.keys()).find(Ne=>Ne.toLowerCase()=="content-type"),we=a.FormData&&v instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Tg,P,void 0))||ee||we||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ne,qe]of B)this.g.setRequestHeader(Ne,qe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sc(this),this.u=!0,this.g.send(v),this.u=!1}catch(Ne){Ca(this,Ne)}};function Ca(v,P){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=P,v.m=5,zd(v),ic(v)}function zd(v){v.A||(v.A=!0,dt(v,"complete"),dt(v,"error"))}n.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,dt(this,"complete"),dt(this,"abort"),ic(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ic(this,!0)),Gn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?mu(this):this.bb())},n.bb=function(){mu(this)};function mu(v){if(v.h&&typeof o<"u"&&(!v.v[1]||Os(v)!=4||v.Z()!=2)){if(v.u&&Os(v)==4)st(v.Ea,0,v);else if(dt(v,"readystatechange"),Os(v)==4){v.h=!1;try{const qe=v.Z();e:switch(qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var B;if(!(B=P)){var ee;if(ee=qe===0){var we=String(v.D).match(Xf)[1]||null;!we&&a.self&&a.self.location&&(we=a.self.location.protocol.slice(0,-1)),ee=!Zf.test(we?we.toLowerCase():"")}B=ee}if(B)dt(v,"complete"),dt(v,"success");else{v.m=6;try{var Ne=2<Os(v)?v.g.statusText:""}catch{Ne=""}v.l=Ne+" ["+v.Z()+"]",zd(v)}}finally{ic(v)}}}}function ic(v,P){if(v.g){sc(v);const B=v.g,ee=v.v[0]?()=>{}:null;v.g=null,v.v=null,P||dt(v,"ready");try{B.onreadystatechange=ee}catch{}}}function sc(v){v.I&&(a.clearTimeout(v.I),v.I=null)}n.isActive=function(){return!!this.g};function Os(v){return v.g?v.g.readyState:0}n.Z=function(){try{return 2<Os(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(v){if(this.g){var P=this.g.responseText;return v&&P.indexOf(v)==0&&(P=P.substring(v.length)),An(P)}};function ep(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function kg(v){const P={};v=(v.g&&2<=Os(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<v.length;ee++){if(A(v[ee]))continue;var B=k(v[ee]);const we=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const Ne=P[we]||[];P[we]=Ne,Ne.push(B)}L(P,function(ee){return ee.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fs(v,P,B){return B&&B.internalChannelParams&&B.internalChannelParams[v]||P}function Na(v){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fs("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fs("baseRetryDelayMs",5e3,v),this.cb=Fs("retryDelaySeedMs",1e4,v),this.Wa=Fs("forwardChannelMaxRetries",2,v),this.wa=Fs("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Gf(v&&v.concurrentRequestLimit),this.Da=new al,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Na.prototype,n.la=8,n.G=1,n.connect=function(v,P,B,ee){bn(0),this.W=v,this.H=P||{},B&&ee!==void 0&&(this.H.OSID=B,this.H.OAID=ee),this.F=this.X,this.I=Fn(this,null,this.W),S(this)};function $d(v){if(tp(v),v.G==3){var P=v.U++,B=pi(v.I);if(dn(B,"SID",v.K),dn(B,"RID",P),dn(B,"TYPE","terminate"),fe(v,B),P=new qr(v,v.j,P),P.L=2,P.v=hu(pi(B)),B=!1,a.navigator&&a.navigator.sendBeacon)try{B=a.navigator.sendBeacon(P.v.toString(),"")}catch{}!B&&a.Image&&(new Image().src=P.v,B=!0),B||(P.g=jr(P.j,null),P.g.ea(P.v)),P.F=Date.now(),ec(P)}Er(v)}function Ta(v){v.g&&(lt(v),v.g.cancel(),v.g=null)}function tp(v){Ta(v),v.u&&(a.clearTimeout(v.u),v.u=null),Dt(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&a.clearTimeout(v.s),v.s=null)}function S(v){if(!Kf(v.h)&&!v.s){v.s=!0;var P=v.Ga;ae||ge(),Q||(ae(),Q=!0),ne.add(P,v),v.B=0}}function $(v,P){return Yf(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=P.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=Dn(p(v.Ga,v,P),hn(v,v.B)),v.B++,!0)}n.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const we=new qr(this,this.j,v);let Ne=this.o;if(this.S&&(Ne?(Ne=N(Ne),j(Ne,this.S)):Ne=this.S),this.m!==null||this.O||(we.H=Ne,Ne=null),this.P)e:{for(var P=0,B=0;B<this.i.length;B++){t:{var ee=this.i[B];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(P+=ee,4096<P){P=B;break e}if(P===4096||B===this.i.length-1){P=B+1;break e}}P=1e3}else P=1e3;P=ye(this,we,P),B=pi(this.I),dn(B,"RID",v),dn(B,"CVER",22),this.D&&dn(B,"X-HTTP-Session-Id",this.D),fe(this,B),Ne&&(this.O?P="headers="+encodeURIComponent(String(Sa(Ne)))+"&"+P:this.m&&Jf(B,this.m,Ne)),tc(this.h,we),this.Ua&&dn(B,"TYPE","init"),this.P?(dn(B,"$req",P),dn(B,"SID","null"),we.T=!0,Zl(we,B,null)):Zl(we,B,P),this.G=2}}else this.G==3&&(v?ie(this,v):this.i.length==0||Kf(this.h)||ie(this))};function ie(v,P){var B;P?B=P.l:B=v.U++;const ee=pi(v.I);dn(ee,"SID",v.K),dn(ee,"RID",B),dn(ee,"AID",v.T),fe(v,ee),v.m&&v.o&&Jf(ee,v.m,v.o),B=new qr(v,v.j,B,v.B+1),v.m===null&&(B.H=v.o),P&&(v.i=P.D.concat(v.i)),P=ye(v,B,1e3),B.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),tc(v.h,B),Zl(B,ee,P)}function fe(v,P){v.H&&V(v.H,function(B,ee){dn(P,ee,B)}),v.l&&uu({},function(B,ee){dn(P,ee,B)})}function ye(v,P,B){B=Math.min(v.i.length,B);var ee=v.l?p(v.l.Na,v.l,v):null;e:{var we=v.i;let Ne=-1;for(;;){const qe=["count="+B];Ne==-1?0<B?(Ne=we[0].g,qe.push("ofs="+Ne)):Ne=0:qe.push("ofs="+Ne);let mn=!0;for(let Nr=0;Nr<B;Nr++){let an=we[Nr].g;const Tn=we[Nr].map;if(an-=Ne,0>an)Ne=Math.max(0,we[Nr].g-100),mn=!1;else try{H1(Tn,qe,"req"+an+"_")}catch{ee&&ee(Tn)}}if(mn){ee=qe.join("&");break e}}}return v=v.i.splice(0,B),P.D=v,ee}function Pe(v){if(!v.g&&!v.u){v.Y=1;var P=v.Fa;ae||ge(),Q||(ae(),Q=!0),ne.add(P,v),v.v=0}}function Be(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=Dn(p(v.Fa,v),hn(v,v.v)),v.v++,!0)}n.Fa=function(){if(this.u=null,gt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Dn(p(this.ab,this),v)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bn(10),Ta(this),gt(this))};function lt(v){v.A!=null&&(a.clearTimeout(v.A),v.A=null)}function gt(v){v.g=new qr(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var P=pi(v.qa);dn(P,"RID","rpc"),dn(P,"SID",v.K),dn(P,"AID",v.T),dn(P,"CI",v.F?"0":"1"),!v.F&&v.ja&&dn(P,"TO",v.ja),dn(P,"TYPE","xmlhttp"),fe(v,P),v.m&&v.o&&Jf(P,v.m,v.o),v.L&&(v.g.I=v.L);var B=v.g;v=v.ia,B.L=1,B.v=hu(pi(P)),B.m=null,B.P=!0,lu(B,v)}n.Za=function(){this.C!=null&&(this.C=null,Ta(this),Be(this),bn(19))};function Dt(v){v.C!=null&&(a.clearTimeout(v.C),v.C=null)}function Ht(v,P){var B=null;if(v.g==P){Dt(v),lt(v),v.g=null;var ee=2}else if(oo(v.h,P))B=P.D,_g(v.h,P),ee=1;else return;if(v.G!=0){if(P.o)if(ee==1){B=P.m?P.m.length:0,P=Date.now()-P.F;var we=v.B;ee=Mt(),dt(ee,new si(ee,B)),S(v)}else Pe(v);else if(we=P.s,we==3||we==0&&0<P.X||!(ee==1&&$(v,P)||ee==2&&Be(v)))switch(B&&0<B.length&&(P=v.h,P.i=P.i.concat(B)),we){case 1:In(v,5);break;case 4:In(v,10);break;case 3:In(v,6);break;default:In(v,2)}}}function hn(v,P){let B=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(B*=2),B*P}function In(v,P){if(v.j.info("Error code "+P),P==2){var B=p(v.fb,v),ee=v.Xa;const we=!ee;ee=new Jn(ee||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||du(ee,"https"),hu(ee),we?z1(ee.toString(),B):$1(ee.toString(),B)}else bn(2);v.G=0,v.l&&v.l.sa(P),Er(v),tp(v)}n.fb=function(v){v?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function Er(v){if(v.G=0,v.ka=[],v.l){const P=Ar(v.h);(P.length!=0||v.i.length!=0)&&(_(v.ka,P),_(v.ka,v.i),v.h.i.length=0,y(v.i),v.i.length=0),v.l.ra()}}function Fn(v,P,B){var ee=B instanceof Jn?pi(B):new Jn(B);if(ee.g!="")P&&(ee.g=P+"."+ee.g),Fd(ee,ee.s);else{var we=a.location;ee=we.protocol,P=P?P+"."+we.hostname:we.hostname,we=+we.port;var Ne=new Jn(null);ee&&du(Ne,ee),P&&(Ne.g=P),we&&Fd(Ne,we),B&&(Ne.l=B),ee=Ne}return B=v.D,P=v.ya,B&&P&&dn(ee,B,P),dn(ee,"VER",v.la),fe(v,ee),ee}function jr(v,P,B){if(P&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=v.Ca&&!v.pa?new Gn(new Ud({eb:B})):new Gn(v.pa),P.Ha(v.J),P}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sr(){}n=Sr.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Or(){}Or.prototype.g=function(v,P){return new Cr(v,P)};function Cr(v,P){We.call(this),this.g=new Na(P),this.l=v,this.h=P&&P.messageUrlParams||null,v=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(v?v["X-WebChannel-Content-Type"]=P.messageContentType:v={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(v?v["X-WebChannel-Client-Profile"]=P.va:v={"X-WebChannel-Client-Profile":P.va}),this.g.S=v,(v=P&&P.Sb)&&!A(v)&&(this.g.m=v),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!A(P)&&(this.g.D=P,v=this.h,v!==null&&P in v&&(v=this.h,P in v&&delete v[P])),this.j=new Ia(this)}b(Cr,We),Cr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cr.prototype.close=function(){$d(this.g)},Cr.prototype.o=function(v){var P=this.g;if(typeof v=="string"){var B={};B.__data__=v,v=B}else this.u&&(B={},B.__data__=Vt(v),v=B);P.i.push(new Wf(P.Ya++,v)),P.G==3&&S(P)},Cr.prototype.N=function(){this.g.l=null,delete this.j,$d(this.g),delete this.g,Cr.aa.N.call(this)};function lo(v){zt.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var P=v.__sm__;if(P){e:{for(const B in P){v=B;break e}v=void 0}(this.i=v)&&(v=this.i,P=P!==null&&v in P?P[v]:void 0),this.data=P}else this.data=v}b(lo,zt);function ka(){mt.call(this),this.status=1}b(ka,mt);function Ia(v){this.g=v}b(Ia,Sr),Ia.prototype.ua=function(){dt(this.g,"a")},Ia.prototype.ta=function(v){dt(this.g,new lo(v))},Ia.prototype.sa=function(v){dt(this.g,new ka)},Ia.prototype.ra=function(){dt(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,Cr.prototype.send=Cr.prototype.o,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,Kz=function(){return new Or},Gz=function(){return Mt()},Wz=rn,jk={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,d5=cs,Lo.COMPLETE="complete",qz=Lo,Ft.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",We.prototype.listen=We.prototype.K,Ry=Ft,Gn.prototype.listenOnce=Gn.prototype.L,Gn.prototype.getLastError=Gn.prototype.Ka,Gn.prototype.getLastErrorCode=Gn.prototype.Ba,Gn.prototype.getStatus=Gn.prototype.Z,Gn.prototype.getResponseJson=Gn.prototype.Oa,Gn.prototype.getResponseText=Gn.prototype.oa,Gn.prototype.send=Gn.prototype.ea,Gn.prototype.setWithCredentials=Gn.prototype.Ha,Hz=Gn}).apply(typeof y_<"u"?y_:typeof self<"u"?self:typeof window<"u"?window:{});const ZM="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ns.UNAUTHENTICATED=new Ns(null),Ns.GOOGLE_CREDENTIALS=new Ns("google-credentials-uid"),Ns.FIRST_PARTY=new Ns("first-party-uid"),Ns.MOCK_USER=new Ns("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I1="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=new mS("@firebase/firestore");function my(){return Ym.logLevel}function vt(n,...e){if(Ym.logLevel<=yn.DEBUG){const t=e.map(KR);Ym.debug(`Firestore (${I1}): ${n}`,...t)}}function kd(n,...e){if(Ym.logLevel<=yn.ERROR){const t=e.map(KR);Ym.error(`Firestore (${I1}): ${n}`,...t)}}function e1(n,...e){if(Ym.logLevel<=yn.WARN){const t=e.map(KR);Ym.warn(`Firestore (${I1}): ${n}`,...t)}}function KR(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n="Unexpected state"){const e=`FIRESTORE (${I1}) INTERNAL ASSERTION FAILED: `+n;throw kd(e),new Error(e)}function qn(n,e){n||$t()}function Kt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends rl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ns.UNAUTHENTICATED))}shutdown(){}}class Yde{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Xde{constructor(e){this.t=e,this.currentUser=Ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new md;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new md,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new md)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qn(typeof r.accessToken=="string"),new Yz(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qn(e===null||typeof e=="string"),new Ns(e)}}class Qde{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ns.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Jde{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Qde(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ns.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zde{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ehe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qn(this.o===void 0);const r=s=>{s.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,vt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qn(typeof t.token=="string"),this.R=t.token,new Zde(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function the(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=the(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function kn(n,e){return n<e?-1:n>e?1:0}function t1(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new it(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new it(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new it(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ni.fromMillis(Date.now())}static fromDate(e){return Ni.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ni(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kn(this.nanoseconds,e.nanoseconds):kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new Ni(0,0))}static max(){return new Gt(new Ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t,r){t===void 0?t=0:t>e.length&&$t(),r===void 0?r=e.length-t:r>e.length-t&&$t(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ib.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ib?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hr extends ib{construct(e,t,r){return new hr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(Fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new hr(t)}static emptyPath(){return new hr([])}}const nhe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rs extends ib{construct(e,t,r){return new rs(e,t,r)}static isValidIdentifier(e){return nhe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rs(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new it(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new it(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new it(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new it(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rs(t)}static emptyPath(){return new rs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(hr.fromString(e))}static fromName(e){return new Rt(hr.fromString(e).popFirst(5))}static empty(){return new Rt(hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&hr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return hr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new hr(e.slice()))}}function rhe(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Gt.fromTimestamp(r===1e9?new Ni(t+1,0):new Ni(t,r));return new Tf(i,Rt.empty(),e)}function ihe(n){return new Tf(n.readTime,n.key,-1)}class Tf{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Tf(Gt.min(),Rt.empty(),-1)}static max(){return new Tf(Gt.max(),Rt.empty(),-1)}}function she(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Rt.comparator(n.documentKey,e.documentKey),t!==0?t:kn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ohe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ahe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(n){if(n.code!==Fe.FAILED_PRECONDITION||n.message!==ohe)throw n;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ze((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ze?t:ze.resolve(t)}catch(t){return ze.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ze.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ze.reject(t)}static resolve(e){return new ze((t,r)=>{t(e)})}static reject(e){return new ze((t,r)=>{r(e)})}static waitFor(e){return new ze((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=ze.resolve(!1);for(const r of e)t=t.next(i=>i?ze.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ze((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new ze((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function lhe(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ix(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}YR.oe=-1;function _S(n){return n==null}function KA(n){return n===0&&1/n==-1/0}function che(n){return typeof n=="number"&&Number.isInteger(n)&&!KA(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mg(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Qz(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,t){this.comparator=e,this.root=t||ts.EMPTY}insert(e,t){return new Mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ts.BLACK,null,null))}remove(e){return new Mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ts.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new w_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new w_(this.root,e,this.comparator,!1)}getReverseIterator(){return new w_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new w_(this.root,e,this.comparator,!0)}}class w_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ts{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ts.RED,this.left=i??ts.EMPTY,this.right=s??ts.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ts(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ts.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ts.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ts.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ts.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $t();const e=this.left.check();if(e!==this.right.check())throw $t();return e+(this.isRed()?0:1)}}ts.EMPTY=null,ts.RED=!0,ts.BLACK=!1;ts.EMPTY=new class{constructor(){this.size=0}get key(){throw $t()}get value(){throw $t()}get color(){throw $t()}get left(){throw $t()}get right(){throw $t()}copy(e,t,r,i,s){return this}insert(e,t,r){return new ts(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.comparator=e,this.data=new Mr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tj(this.data.getIterator())}getIteratorFrom(e){return new tj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ss)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ss(this.comparator);return t.data=e,t}}class tj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.fields=e,e.sort(rs.comparator)}static empty(){return new ua([])}unionWith(e){let t=new ss(rs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ua(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return t1(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jz("Invalid base64 string: "+s):s}}(e);return new ls(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ls(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ls.EMPTY_BYTE_STRING=new ls("");const uhe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kf(n){if(qn(!!n),typeof n=="string"){let e=0;const t=uhe.exec(n);if(qn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qr(n.seconds),nanos:Qr(n.nanos)}}function Qr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xm(n){return typeof n=="string"?ls.fromBase64String(n):ls.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function QR(n){const e=n.mapValue.fields.__previous_value__;return XR(e)?QR(e):e}function sb(n){const e=kf(n.mapValue.fields.__local_write_time__.timestampValue);return new Ni(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dhe{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ob{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ob("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ob&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?XR(n)?4:fhe(n)?9007199254740991:hhe(n)?10:11:$t()}function eu(n,e){if(n===e)return!0;const t=Qm(n);if(t!==Qm(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sb(n).isEqual(sb(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=kf(i.timestampValue),a=kf(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Xm(i.bytesValue).isEqual(Xm(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Qr(i.geoPointValue.latitude)===Qr(s.geoPointValue.latitude)&&Qr(i.geoPointValue.longitude)===Qr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qr(i.integerValue)===Qr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qr(i.doubleValue),a=Qr(s.doubleValue);return o===a?KA(o)===KA(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return t1(n.arrayValue.values||[],e.arrayValue.values||[],eu);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ej(o)!==ej(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!eu(o[l],a[l])))return!1;return!0}(n,e);default:return $t()}}function ab(n,e){return(n.values||[]).find(t=>eu(t,e))!==void 0}function n1(n,e){if(n===e)return 0;const t=Qm(n),r=Qm(e);if(t!==r)return kn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return kn(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qr(s.integerValue||s.doubleValue),l=Qr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return nj(n.timestampValue,e.timestampValue);case 4:return nj(sb(n),sb(e));case 5:return kn(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Xm(s),l=Xm(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=kn(a[c],l[c]);if(u!==0)return u}return kn(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=kn(Qr(s.latitude),Qr(o.latitude));return a!==0?a:kn(Qr(s.longitude),Qr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return rj(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const h=s.fields||{},p=o.fields||{},f=(a=h.value)===null||a===void 0?void 0:a.arrayValue,b=(l=p.value)===null||l===void 0?void 0:l.arrayValue,y=kn(((c=f==null?void 0:f.values)===null||c===void 0?void 0:c.length)||0,((u=b==null?void 0:b.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:rj(f,b)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===b_.mapValue&&o===b_.mapValue)return 0;if(s===b_.mapValue)return 1;if(o===b_.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const p=kn(l[h],u[h]);if(p!==0)return p;const f=n1(a[l[h]],c[u[h]]);if(f!==0)return f}return kn(l.length,u.length)}(n.mapValue,e.mapValue);default:throw $t()}}function nj(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return kn(n,e);const t=kf(n),r=kf(e),i=kn(t.seconds,r.seconds);return i!==0?i:kn(t.nanos,r.nanos)}function rj(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=n1(t[i],r[i]);if(s)return s}return kn(t.length,r.length)}function r1(n){return Ok(n)}function Ok(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=kf(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Xm(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Rt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=Ok(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ok(t.fields[o])}`;return i+"}"}(n.mapValue):$t()}function ij(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fk(n){return!!n&&"integerValue"in n}function JR(n){return!!n&&"arrayValue"in n}function sj(n){return!!n&&"nullValue"in n}function oj(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function h5(n){return!!n&&"mapValue"in n}function hhe(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function hw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return mg(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hw(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fhe(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.value=e}static empty(){return new _o({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!h5(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hw(t)}setAll(e){let t=rs.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=hw(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());h5(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return eu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];h5(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){mg(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _o(hw(this.value))}}function Zz(n){const e=[];return mg(n.fields,(t,r)=>{const i=new rs([t]);if(h5(r)){const s=Zz(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ua(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Is(e,0,Gt.min(),Gt.min(),Gt.min(),_o.empty(),0)}static newFoundDocument(e,t,r,i){return new Is(e,1,t,Gt.min(),r,i,0)}static newNoDocument(e,t){return new Is(e,2,t,Gt.min(),Gt.min(),_o.empty(),0)}static newUnknownDocument(e,t){return new Is(e,3,t,Gt.min(),Gt.min(),_o.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_o.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_o.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Is&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t){this.position=e,this.inclusive=t}}function aj(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Rt.comparator(Rt.fromName(o.referenceValue),t.key):r=n1(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function lj(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!eu(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t="asc"){this.field=e,this.dir=t}}function phe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${}class hi extends e${constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ghe(e,t,r):t==="array-contains"?new whe(e,r):t==="in"?new bhe(e,r):t==="not-in"?new xhe(e,r):t==="array-contains-any"?new _he(e,r):new hi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new vhe(e,r):new yhe(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(n1(t,this.value)):t!==null&&Qm(this.value)===Qm(t)&&this.matchesComparison(n1(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gl extends e${constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Gl(e,t)}matches(e){return t$(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function t$(n){return n.op==="and"}function n$(n){return mhe(n)&&t$(n)}function mhe(n){for(const e of n.filters)if(e instanceof Gl)return!1;return!0}function Bk(n){if(n instanceof hi)return n.field.canonicalString()+n.op.toString()+r1(n.value);if(n$(n))return n.filters.map(e=>Bk(e)).join(",");{const e=n.filters.map(t=>Bk(t)).join(",");return`${n.op}(${e})`}}function r$(n,e){return n instanceof hi?function(r,i){return i instanceof hi&&r.op===i.op&&r.field.isEqual(i.field)&&eu(r.value,i.value)}(n,e):n instanceof Gl?function(r,i){return i instanceof Gl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&r$(o,i.filters[a]),!0):!1}(n,e):void $t()}function i$(n){return n instanceof hi?function(t){return`${t.field.canonicalString()} ${t.op} ${r1(t.value)}`}(n):n instanceof Gl?function(t){return t.op.toString()+" {"+t.getFilters().map(i$).join(" ,")+"}"}(n):"Filter"}class ghe extends hi{constructor(e,t,r){super(e,t,r),this.key=Rt.fromName(r.referenceValue)}matches(e){const t=Rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class vhe extends hi{constructor(e,t){super(e,"in",t),this.keys=s$("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yhe extends hi{constructor(e,t){super(e,"not-in",t),this.keys=s$("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function s$(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Rt.fromName(r.referenceValue))}class whe extends hi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return JR(t)&&ab(t.arrayValue,this.value)}}class bhe extends hi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ab(this.value.arrayValue,t)}}class xhe extends hi{constructor(e,t){super(e,"not-in",t)}matches(e){if(ab(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ab(this.value.arrayValue,t)}}class _he extends hi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!JR(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ab(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ahe{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function cj(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Ahe(n,e,t,r,i,s,o)}function ZR(n){const e=Kt(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Bk(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_S(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>r1(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>r1(r)).join(",")),e.ue=t}return e.ue}function e3(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!phe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!r$(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lj(n.startAt,e.startAt)&&lj(n.endAt,e.endAt)}function Uk(n){return Rt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ehe(n,e,t,r,i,s,o,a){return new P1(n,e,t,r,i,s,o,a)}function AS(n){return new P1(n)}function uj(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function o$(n){return n.collectionGroup!==null}function fw(n){const e=Kt(n);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ss(rs.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new lb(s,r))}),t.has(rs.keyField().canonicalString())||e.ce.push(new lb(rs.keyField(),r))}return e.ce}function Yc(n){const e=Kt(n);return e.le||(e.le=She(e,fw(n))),e.le}function She(n,e){if(n.limitType==="F")return cj(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new lb(i.field,s)});const t=n.endAt?new YA(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new YA(n.startAt.position,n.startAt.inclusive):null;return cj(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Vk(n,e){const t=n.filters.concat([e]);return new P1(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function XA(n,e,t){return new P1(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ES(n,e){return e3(Yc(n),Yc(e))&&n.limitType===e.limitType}function a$(n){return`${ZR(Yc(n))}|lt:${n.limitType}`}function Vg(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>i$(i)).join(", ")}]`),_S(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>r1(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>r1(i)).join(",")),`Target(${r})`}(Yc(n))}; limitType=${n.limitType})`}function SS(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Rt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of fw(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=aj(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,fw(r),i)||r.endAt&&!function(o,a,l){const c=aj(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,fw(r),i))}(n,e)}function Che(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function l$(n){return(e,t)=>{let r=!1;for(const i of fw(n)){const s=Nhe(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Nhe(n,e,t){const r=n.field.isKeyField()?Rt.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?n1(l,c):$t()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mg(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Qz(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const The=new Mr(Rt.comparator);function Id(){return The}const c$=new Mr(Rt.comparator);function Ly(...n){let e=c$;for(const t of n)e=e.insert(t.key,t);return e}function u$(n){let e=c$;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Cp(){return pw()}function d$(){return pw()}function pw(){return new R1(n=>n.toString(),(n,e)=>n.isEqual(e))}const khe=new Mr(Rt.comparator),Ihe=new ss(Rt.comparator);function fn(...n){let e=Ihe;for(const t of n)e=e.add(t);return e}const Phe=new ss(kn);function Rhe(){return Phe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:KA(e)?"-0":e}}function h$(n){return{integerValue:""+n}}function f$(n,e){return che(e)?h$(e):t3(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this._=void 0}}function Lhe(n,e,t){return n instanceof cb?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&XR(s)&&(s=QR(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof ub?m$(n,e):n instanceof db?g$(n,e):function(i,s){const o=p$(i,s),a=dj(o)+dj(i.Pe);return Fk(o)&&Fk(i.Pe)?h$(a):t3(i.serializer,a)}(n,e)}function Dhe(n,e,t){return n instanceof ub?m$(n,e):n instanceof db?g$(n,e):t}function p$(n,e){return n instanceof hb?function(r){return Fk(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class cb extends CS{}class ub extends CS{constructor(e){super(),this.elements=e}}function m$(n,e){const t=v$(e);for(const r of n.elements)t.some(i=>eu(i,r))||t.push(r);return{arrayValue:{values:t}}}class db extends CS{constructor(e){super(),this.elements=e}}function g$(n,e){let t=v$(e);for(const r of n.elements)t=t.filter(i=>!eu(i,r));return{arrayValue:{values:t}}}class hb extends CS{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function dj(n){return Qr(n.integerValue||n.doubleValue)}function v$(n){return JR(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(e,t){this.field=e,this.transform=t}}function Mhe(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ub&&i instanceof ub||r instanceof db&&i instanceof db?t1(r.elements,i.elements,eu):r instanceof hb&&i instanceof hb?eu(r.Pe,i.Pe):r instanceof cb&&i instanceof cb}(n.transform,e.transform)}class jhe{constructor(e,t){this.version=e,this.transformResults=t}}class Qs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qs}static exists(e){return new Qs(void 0,e)}static updateTime(e){return new Qs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function f5(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class NS{}function w$(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new TS(n.key,Qs.none()):new sx(n.key,n.data,Qs.none());{const t=n.data,r=_o.empty();let i=new ss(rs.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new zf(n.key,r,new ua(i.toArray()),Qs.none())}}function Ohe(n,e,t){n instanceof sx?function(i,s,o){const a=i.value.clone(),l=fj(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof zf?function(i,s,o){if(!f5(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=fj(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(b$(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function mw(n,e,t,r){return n instanceof sx?function(s,o,a,l){if(!f5(s.precondition,o))return a;const c=s.value.clone(),u=pj(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof zf?function(s,o,a,l){if(!f5(s.precondition,o))return a;const c=pj(s.fieldTransforms,l,o),u=o.data;return u.setAll(b$(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(s,o,a){return f5(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function Fhe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=p$(r.transform,i||null);s!=null&&(t===null&&(t=_o.empty()),t.set(r.field,s))}return t||null}function hj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&t1(r,i,(s,o)=>Mhe(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sx extends NS{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zf extends NS{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function b$(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function fj(n,e,t){const r=new Map;qn(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Dhe(o,a,t[i]))}return r}function pj(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Lhe(s,o,e))}return r}class TS extends NS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bhe extends NS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uhe{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Ohe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=mw(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=mw(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=d$();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=w$(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Gt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fn())}isEqual(e){return this.batchId===e.batchId&&t1(this.mutations,e.mutations,(t,r)=>hj(t,r))&&t1(this.baseMutations,e.baseMutations,(t,r)=>hj(t,r))}}class n3{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){qn(e.mutations.length===r.length);let i=function(){return khe}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n3(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vhe{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zhe{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li,_n;function $he(n){switch(n){default:return $t();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0}}function x$(n){if(n===void 0)return kd("GRPC error has no .code"),Fe.UNKNOWN;switch(n){case li.OK:return Fe.OK;case li.CANCELLED:return Fe.CANCELLED;case li.UNKNOWN:return Fe.UNKNOWN;case li.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case li.INTERNAL:return Fe.INTERNAL;case li.UNAVAILABLE:return Fe.UNAVAILABLE;case li.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case li.NOT_FOUND:return Fe.NOT_FOUND;case li.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case li.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case li.ABORTED:return Fe.ABORTED;case li.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case li.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case li.DATA_LOSS:return Fe.DATA_LOSS;default:return $t()}}(_n=li||(li={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hhe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qhe=new Mm([4294967295,4294967295],0);function mj(n){const e=Hhe().encode(n),t=new $z;return t.update(e),new Uint8Array(t.digest())}function gj(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Mm([t,r],0),new Mm([i,s],0)]}class r3{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Dy(`Invalid padding: ${t}`);if(r<0)throw new Dy(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dy(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Dy(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Mm.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Mm.fromNumber(r)));return i.compare(qhe)===1&&(i=new Mm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=mj(e),[r,i]=gj(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new r3(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const t=mj(e),[r,i]=gj(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Dy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ox.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new kS(Gt.min(),i,new Mr(kn),Id(),fn())}}class ox{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ox(r,t,fn(),fn(),fn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class _${constructor(e,t){this.targetId=e,this.me=t}}class A${constructor(e,t,r=ls.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class vj{constructor(){this.fe=0,this.ge=wj(),this.pe=ls.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fn(),t=fn(),r=fn();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$t()}}),new ox(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=wj()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Whe{constructor(e){this.Le=e,this.Be=new Map,this.ke=Id(),this.qe=yj(),this.Qe=new Mr(kn)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:$t()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const s=i.target;if(Uk(s))if(r===0){const o=new Rt(s.path);this.Ue(t,o,Is.newNoDocument(o,Gt.min()))}else qn(r===1);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Xm(r).toUint8Array()}catch(l){if(l instanceof Jz)return e1("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new r3(o,i,s)}catch(l){return e1(l instanceof Dy?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Uk(a.target)){const l=new Rt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Is.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=fn();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new kS(e,t,this.Qe,this.ke,r);return this.ke=Id(),this.qe=yj(),this.Qe=new Mr(kn),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new vj,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ss(kn),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||vt("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vj),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function yj(){return new Mr(Rt.comparator)}function wj(){return new Mr(Rt.comparator)}const Ghe={asc:"ASCENDING",desc:"DESCENDING"},Khe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yhe={and:"AND",or:"OR"};class Xhe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zk(n,e){return n.useProto3Json||_S(e)?e:{value:e}}function QA(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E$(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Qhe(n,e){return QA(n,e.toTimestamp())}function Xc(n){return qn(!!n),Gt.fromTimestamp(function(t){const r=kf(t);return new Ni(r.seconds,r.nanos)}(n))}function i3(n,e){return $k(n,e).canonicalString()}function $k(n,e){const t=function(i){return new hr(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function S$(n){const e=hr.fromString(n);return qn(I$(e)),e}function Hk(n,e){return i3(n.databaseId,e.path)}function bN(n,e){const t=S$(e);if(t.get(1)!==n.databaseId.projectId)throw new it(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new it(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Rt(N$(t))}function C$(n,e){return i3(n.databaseId,e)}function Jhe(n){const e=S$(n);return e.length===4?hr.emptyPath():N$(e)}function qk(n){return new hr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function N$(n){return qn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function bj(n,e,t){return{name:Hk(n,e),fields:t.value.mapValue.fields}}function Zhe(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:$t()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(qn(u===void 0||typeof u=="string"),ls.fromBase64String(u||"")):(qn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),ls.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Fe.UNKNOWN:x$(c.code);return new it(u,c.message||"")}(o);t=new A$(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=bN(n,r.document.name),s=Xc(r.document.updateTime),o=r.document.createTime?Xc(r.document.createTime):Gt.min(),a=new _o({mapValue:{fields:r.document.fields}}),l=Is.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new p5(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=bN(n,r.document),s=r.readTime?Xc(r.readTime):Gt.min(),o=Is.newNoDocument(i,s),a=r.removedTargetIds||[];t=new p5([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=bN(n,r.document),s=r.removedTargetIds||[];t=new p5([],s,i,null)}else{if(!("filter"in e))return $t();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new zhe(i,s),a=r.targetId;t=new _$(a,o)}}return t}function efe(n,e){let t;if(e instanceof sx)t={update:bj(n,e.key,e.value)};else if(e instanceof TS)t={delete:Hk(n,e.key)};else if(e instanceof zf)t={update:bj(n,e.key,e.data),updateMask:cfe(e.fieldMask)};else{if(!(e instanceof Bhe))return $t();t={verify:Hk(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof cb)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ub)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof db)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hb)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw $t()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Qhe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:$t()}(n,e.precondition)),t}function tfe(n,e){return n&&n.length>0?(qn(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?Xc(i.updateTime):Xc(s);return o.isEqual(Gt.min())&&(o=Xc(s)),new jhe(o,i.transformResults||[])}(t,e))):[]}function nfe(n,e){return{documents:[C$(n,e.path)]}}function rfe(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=C$(n,i);const s=function(c){if(c.length!==0)return k$(Gl.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:zg(p.field),direction:ofe(p.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=zk(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i}}function ife(n){let e=Jhe(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){qn(r===1);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){const p=T$(h);return p instanceof Gl&&n$(p)?p.getFilters():[p]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(p=>function(b){return new lb($g(b.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(t.orderBy));let a=null;t.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,_S(p)?null:p}(t.limit));let l=null;t.startAt&&(l=function(h){const p=!!h.before,f=h.values||[];return new YA(f,p)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const p=!h.before,f=h.values||[];return new YA(f,p)}(t.endAt)),Ehe(e,i,o,s,a,"F",l,c)}function sfe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $t()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function T$(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=$g(t.unaryFilter.field);return hi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$g(t.unaryFilter.field);return hi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=$g(t.unaryFilter.field);return hi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$g(t.unaryFilter.field);return hi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $t()}}(n):n.fieldFilter!==void 0?function(t){return hi.create($g(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $t()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Gl.create(t.compositeFilter.filters.map(r=>T$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $t()}}(t.compositeFilter.op))}(n):$t()}function ofe(n){return Ghe[n]}function afe(n){return Khe[n]}function lfe(n){return Yhe[n]}function zg(n){return{fieldPath:n.canonicalString()}}function $g(n){return rs.fromServerFormat(n.fieldPath)}function k$(n){return n instanceof hi?function(t){if(t.op==="=="){if(oj(t.value))return{unaryFilter:{field:zg(t.field),op:"IS_NAN"}};if(sj(t.value))return{unaryFilter:{field:zg(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(oj(t.value))return{unaryFilter:{field:zg(t.field),op:"IS_NOT_NAN"}};if(sj(t.value))return{unaryFilter:{field:zg(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zg(t.field),op:afe(t.op),value:t.value}}}(n):n instanceof Gl?function(t){const r=t.getFilters().map(i=>k$(i));return r.length===1?r[0]:{compositeFilter:{op:lfe(t.op),filters:r}}}(n):$t()}function cfe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function I$(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t,r,i,s=Gt.min(),o=Gt.min(),a=ls.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new rf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ufe{constructor(e){this.ct=e}}function dfe(n){const e=ife({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?XA(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hfe{constructor(){this.un=new ffe}addToCollectionParentIndex(e,t){return this.un.add(t),ze.resolve()}getCollectionParents(e,t){return ze.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ze.resolve()}deleteFieldIndex(e,t){return ze.resolve()}deleteAllFieldIndexes(e){return ze.resolve()}createTargetIndexes(e,t){return ze.resolve()}getDocumentsMatchingTarget(e,t){return ze.resolve(null)}getIndexType(e,t){return ze.resolve(0)}getFieldIndexes(e,t){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,t){return ze.resolve(Tf.min())}getMinOffsetFromCollectionGroup(e,t){return ze.resolve(Tf.min())}updateCollectionGroup(e,t,r){return ze.resolve()}updateIndexEntries(e,t){return ze.resolve()}}class ffe{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ss(hr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ss(hr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new i1(0)}static kn(){return new i1(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pfe{constructor(){this.changes=new R1(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Is.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ze.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mfe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gfe{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&mw(r.mutation,i,ua.empty(),Ni.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fn()){const i=Cp();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Ly();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Cp();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Id();const o=pw(),a=function(){return pw()}();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof zf)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),mw(u.mutation,c,u.mutation.getFieldMask(),Ni.now())):o.set(c.key,ua.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new mfe(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=pw();let i=new Mr((o,a)=>o-a),s=fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||ua.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||fn()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=d$();u.forEach(p=>{if(!s.has(p)){const f=w$(t.get(p),r.get(p));f!==null&&h.set(p,f),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ze.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):o$(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ze.resolve(Cp());let a=-1,l=s;return o.next(c=>ze.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?ze.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,fn())).next(u=>({batchId:a,changes:u$(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rt(t)).next(r=>{let i=Ly();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Ly();return this.indexManager.getCollectionParents(e,s).next(a=>ze.forEach(a,l=>{const c=function(h,p){return new P1(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Is.newInvalidDocument(u)))});let a=Ly();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&mw(u.mutation,c,ua.empty(),Ni.now()),SS(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vfe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ze.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Xc(i.createTime)}}(t)),ze.resolve()}getNamedQuery(e,t){return ze.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:dfe(i.bundledQuery),readTime:Xc(i.readTime)}}(t)),ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yfe{constructor(){this.overlays=new Mr(Rt.comparator),this.Ir=new Map}getOverlay(e,t){return ze.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Cp();return ze.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),ze.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ze.resolve()}getOverlaysForCollection(e,t,r){const i=Cp(),s=t.length+1,o=new Rt(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ze.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Mr((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Cp(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Cp(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return ze.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Vhe(t,r));let s=this.Ir.get(t);s===void 0&&(s=fn(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wfe{constructor(){this.sessionToken=ls.EMPTY_BYTE_STRING}getSessionToken(e){return ze.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.Tr=new ss(Bi.Er),this.dr=new ss(Bi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Bi(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Bi(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new Rt(new hr([])),r=new Bi(t,e),i=new Bi(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Rt(new hr([])),r=new Bi(t,e),i=new Bi(t,e+1);let s=fn();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Bi(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Bi{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Rt.comparator(e.key,t.key)||kn(e.wr,t.wr)}static Ar(e,t){return kn(e.wr,t.wr)||Rt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bfe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ss(Bi.Er)}checkEmpty(e){return ze.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Uhe(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Bi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ze.resolve(o)}lookupMutationBatch(e,t){return ze.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.vr(r),s=i<0?0:i;return ze.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bi(t,0),i=new Bi(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ze.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ss(kn);return t.forEach(i=>{const s=new Bi(i,0),o=new Bi(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ze.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Rt.isDocumentKey(s)||(s=s.child(""));const o=new Bi(new Rt(s),0);let a=new ss(kn);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),ze.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){qn(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ze.forEach(t.mutations,i=>{const s=new Bi(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new Bi(t,0),i=this.br.firstAfterOrEqual(r);return ze.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ze.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xfe{constructor(e){this.Mr=e,this.docs=function(){return new Mr(Rt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ze.resolve(r?r.document.mutableCopy():Is.newInvalidDocument(t))}getEntries(e,t){let r=Id();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Is.newInvalidDocument(i))}),ze.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Id();const o=t.path,a=new Rt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||she(ihe(u),r)<=0||(i.has(u.key)||SS(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ze.resolve(s)}getAllFromCollectionGroup(e,t,r,i){$t()}Or(e,t){return ze.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _fe(this)}getSize(e){return ze.resolve(this.size)}}class _fe extends pfe{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ze.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Afe{constructor(e){this.persistence=e,this.Nr=new R1(t=>ZR(t),e3),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new s3,this.targetCount=0,this.kr=i1.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),ze.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new i1(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ze.resolve()}updateTargetData(e,t){return this.Kn(t),ze.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ze.waitFor(s).next(()=>i)}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return ze.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),ze.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ze.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ze.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return ze.resolve(r)}containsKey(e,t){return ze.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Efe{constructor(e,t){this.qr={},this.overlays={},this.Qr=new YR(0),this.Kr=!1,this.Kr=!0,this.$r=new wfe,this.referenceDelegate=e(this),this.Ur=new Afe(this),this.indexManager=new hfe,this.remoteDocumentCache=function(i){return new xfe(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ufe(t),this.Gr=new vfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yfe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new bfe(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){vt("MemoryPersistence","Starting transaction:",e);const i=new Sfe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return ze.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class Sfe extends ahe{constructor(e){super(),this.currentSequenceNumber=e}}class o3{constructor(e){this.persistence=e,this.Jr=new s3,this.Yr=null}static Zr(e){return new o3(e)}get Xr(){if(this.Yr)return this.Yr;throw $t()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),ze.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),ze.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ze.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.Xr,r=>{const i=Rt.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,Gt.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return ze.or([()=>ze.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=fn(),i=fn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new a3(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cfe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nfe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Eoe()?8:lhe(Ms())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Cfe;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(my()<=yn.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",Vg(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ze.resolve()):(my()<=yn.DEBUG&&vt("QueryEngine","Query:",Vg(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(my()<=yn.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",Vg(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yc(t))):ze.resolve())}Yi(e,t){if(uj(t))return ze.resolve(null);let r=Yc(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=XA(t,null,"F"),r=Yc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=fn(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(t,a);return this.ns(t,c,o,l.readTime)?this.Yi(e,XA(t,null,"F")):this.rs(e,c,t,l)}))})))}Zi(e,t,r,i){return uj(t)||i.isEqual(Gt.min())?ze.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(t,s);return this.ns(t,o,r,i)?ze.resolve(null):(my()<=yn.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vg(t)),this.rs(e,o,t,rhe(i,-1)).next(a=>a))})}ts(e,t){let r=new ss(l$(e));return t.forEach((i,s)=>{SS(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return my()<=yn.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",Vg(t)),this.Ji.getDocumentsMatchingQuery(e,t,Tf.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tfe{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Mr(kn),this._s=new R1(s=>ZR(s),e3),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gfe(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function kfe(n,e,t,r){return new Tfe(n,e,t,r)}async function P$(n,e){const t=Kt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=fn();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Ife(n,e){const t=Kt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,p=h.keys();let f=ze.resolve();return p.forEach(b=>{f=f.next(()=>u.getEntry(l,b)).next(y=>{const _=c.docVersions.get(b);qn(_!==null),y.version.compareTo(_)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=fn();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function R$(n){const e=Kt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Pfe(n,e){const t=Kt(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((u,h)=>{const p=i.get(h);if(!p)return;a.push(t.Ur.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.Ur.addMatchingKeys(s,u.addedDocuments,h)));let f=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(ls.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(h,f),function(y,_,w){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,f,u)&&a.push(t.Ur.updateTargetData(s,f))});let l=Id(),c=fn();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Rfe(s,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Gt.min())){const u=t.Ur.getLastRemoteSnapshotVersion(s).next(h=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return ze.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.os=i,s))}function Rfe(n,e,t){let r=fn(),i=fn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Id();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Gt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):vt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Lfe(n,e){const t=Kt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dfe(n,e){const t=Kt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,ze.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new rf(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}async function Wk(n,e,t){const r=Kt(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ix(o))throw o;vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function xj(n,e,t){const r=Kt(n);let i=Gt.min(),s=fn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Kt(l),p=h._s.get(u);return p!==void 0?ze.resolve(h.os.get(p)):h.Ur.getTargetData(c,u)}(r,o,Yc(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:Gt.min(),t?s:fn())).next(a=>(Mfe(r,Che(e),a),{documents:a,Ts:s})))}function Mfe(n,e,t){let r=n.us.get(e)||Gt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}class _j{constructor(){this.activeTargetIds=Rhe()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jfe{constructor(){this.so=new _j,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _j,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ofe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x_=null;function xN(){return x_===null?x_=function(){return 268435456+Math.round(2147483648*Math.random())}():x_++,"0x"+x_.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ffe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bfe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="WebChannelConnection";class Ufe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){const a=xN(),l=this.xo(t,r.toUriEncodedString());vt("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(t,l,c,i).then(u=>(vt("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw e1("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+I1}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){const i=Ffe[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const s=xN();return new Promise((o,a)=>{const l=new Hz;l.setWithCredentials(!0),l.listenOnce(qz.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case d5.NO_ERROR:const u=l.getResponseJson();vt(ms,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case d5.TIMEOUT:vt(ms,`RPC '${e}' ${s} timed out`),a(new it(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case d5.HTTP_ERROR:const h=l.getStatus();if(vt(ms,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const f=p==null?void 0:p.error;if(f&&f.status&&f.message){const b=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(w)>=0?w:Fe.UNKNOWN}(f.status);a(new it(b,f.message))}else a(new it(Fe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new it(Fe.UNAVAILABLE,"Connection failed."));break;default:$t()}}finally{vt(ms,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);vt(ms,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Bo(e,t,r){const i=xN(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Kz(),a=Gz(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");vt(ms,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let p=!1,f=!1;const b=new Bfe({Io:_=>{f?vt(ms,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(p||(vt(ms,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),vt(ms,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},To:()=>h.close()}),y=(_,w,A)=>{_.listen(w,E=>{try{A(E)}catch(C){setTimeout(()=>{throw C},0)}})};return y(h,Ry.EventType.OPEN,()=>{f||(vt(ms,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),y(h,Ry.EventType.CLOSE,()=>{f||(f=!0,vt(ms,`RPC '${e}' stream ${i} transport closed`),b.So())}),y(h,Ry.EventType.ERROR,_=>{f||(f=!0,e1(ms,`RPC '${e}' stream ${i} transport errored:`,_),b.So(new it(Fe.UNAVAILABLE,"The operation could not be completed")))}),y(h,Ry.EventType.MESSAGE,_=>{var w;if(!f){const A=_.data[0];qn(!!A);const E=A,C=E.error||((w=E[0])===null||w===void 0?void 0:w.error);if(C){vt(ms,`RPC '${e}' stream ${i} received error:`,C);const F=C.status;let V=function(I){const j=li[I];if(j!==void 0)return x$(j)}(F),L=C.message;V===void 0&&(V=Fe.INTERNAL,L="Unknown error status: "+F+" with message "+C.message),f=!0,b.So(new it(V,L)),h.close()}else vt(ms,`RPC '${e}' stream ${i} received:`,A),b.bo(A)}}),y(a,Wz.STAT_EVENT,_=>{_.stat===jk.PROXY?vt(ms,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===jk.NOPROXY&&vt(ms,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function _N(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(n){return new Xhe(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&vt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,t,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new L$(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Fe.RESOURCE_EXHAUSTED?(kd(t.toString()),kd("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{const i=new it(Fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vfe extends D${constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=Zhe(this.serializer,e),r=function(s){if(!("targetChange"in s))return Gt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Gt.min():o.readTime?Xc(o.readTime):Gt.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=qk(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=Uk(l)?{documents:nfe(s,l)}:{query:rfe(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=E$(s,o.resumeToken);const c=zk(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Gt.min())>0){a.readTime=QA(s,o.snapshotVersion.toTimestamp());const c=zk(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=sfe(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=qk(this.serializer),t.removeTarget=e,this.a_(t)}}class zfe extends D${constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return qn(!!e.streamToken),this.lastStreamToken=e.streamToken,qn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=tfe(e.writeResults,e.commitTime),r=Xc(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=qk(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>efe(this.serializer,r))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new it(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,$k(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new it(Fe.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,$k(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new it(Fe.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Hfe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(kd(t),this.D_=!1):vt("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qfe{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{gg(this)&&(vt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Kt(l);c.L_.add(4),await ax(c),c.q_.set("Unknown"),c.L_.delete(4),await PS(c)}(this))})}),this.q_=new Hfe(r,i)}}async function PS(n){if(gg(n))for(const e of n.B_)await e(!0)}async function ax(n){for(const e of n.B_)await e(!1)}function M$(n,e){const t=Kt(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),d3(t)?u3(t):L1(t).r_()&&c3(t,e))}function l3(n,e){const t=Kt(n),r=L1(t);t.N_.delete(e),r.r_()&&j$(t,e),t.N_.size===0&&(r.r_()?r.o_():gg(t)&&t.q_.set("Unknown"))}function c3(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}L1(n).A_(e)}function j$(n,e){n.Q_.xe(e),L1(n).R_(e)}function u3(n){n.Q_=new Whe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),L1(n).start(),n.q_.v_()}function d3(n){return gg(n)&&!L1(n).n_()&&n.N_.size>0}function gg(n){return Kt(n).L_.size===0}function O$(n){n.Q_=void 0}async function Wfe(n){n.q_.set("Online")}async function Gfe(n){n.N_.forEach((e,t)=>{c3(n,e)})}async function Kfe(n,e){O$(n),d3(n)?(n.q_.M_(e),u3(n)):n.q_.set("Unknown")}async function Yfe(n,e,t){if(n.q_.set("Online"),e instanceof A$&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(n,e)}catch(r){vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await JA(n,r)}else if(e instanceof p5?n.Q_.Ke(e):e instanceof _$?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Gt.min()))try{const r=await R$(n.localStore);t.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(ls.EMPTY_BYTE_STRING,u.snapshotVersion)),j$(s,l);const h=new rf(u.target,l,c,u.sequenceNumber);c3(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){vt("RemoteStore","Failed to raise snapshot:",r),await JA(n,r)}}async function JA(n,e,t){if(!ix(e))throw e;n.L_.add(1),await ax(n),n.q_.set("Offline"),t||(t=()=>R$(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{vt("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await PS(n)})}function F$(n,e){return e().catch(t=>JA(n,t,e))}async function RS(n){const e=Kt(n),t=If(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Xfe(e);)try{const i=await Lfe(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,Qfe(e,i)}catch(i){await JA(e,i)}B$(e)&&U$(e)}function Xfe(n){return gg(n)&&n.O_.length<10}function Qfe(n,e){n.O_.push(e);const t=If(n);t.r_()&&t.V_&&t.m_(e.mutations)}function B$(n){return gg(n)&&!If(n).n_()&&n.O_.length>0}function U$(n){If(n).start()}async function Jfe(n){If(n).p_()}async function Zfe(n){const e=If(n);for(const t of n.O_)e.m_(t.mutations)}async function epe(n,e,t){const r=n.O_.shift(),i=n3.from(r,e,t);await F$(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await RS(n)}async function tpe(n,e){e&&If(n).V_&&await async function(r,i){if(function(o){return $he(o)&&o!==Fe.ABORTED}(i.code)){const s=r.O_.shift();If(r).s_(),await F$(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await RS(r)}}(n,e),B$(n)&&U$(n)}async function Ej(n,e){const t=Kt(n);t.asyncQueue.verifyOperationInProgress(),vt("RemoteStore","RemoteStore received new credentials");const r=gg(t);t.L_.add(3),await ax(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await PS(t)}async function npe(n,e){const t=Kt(n);e?(t.L_.delete(2),await PS(t)):e||(t.L_.add(2),await ax(t),t.q_.set("Unknown"))}function L1(n){return n.K_||(n.K_=function(t,r,i){const s=Kt(t);return s.w_(),new Vfe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Wfe.bind(null,n),Ro:Gfe.bind(null,n),mo:Kfe.bind(null,n),d_:Yfe.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),d3(n)?u3(n):n.q_.set("Unknown")):(await n.K_.stop(),O$(n))})),n.K_}function If(n){return n.U_||(n.U_=function(t,r,i){const s=Kt(t);return s.w_(),new zfe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Jfe.bind(null,n),mo:tpe.bind(null,n),f_:Zfe.bind(null,n),g_:epe.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await RS(n)):(await n.U_.stop(),n.O_.length>0&&(vt("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new md,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new h3(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f3(n,e){if(kd("AsyncQueue",`${e}: ${n}`),ix(n))return new it(Fe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Rt.comparator(t.key,r.key):(t,r)=>Rt.comparator(t.key,r.key),this.keyedMap=Ly(),this.sortedSet=new Mr(this.comparator)}static emptySet(e){return new T0(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof T0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new T0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this.W_=new Mr(Rt.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):$t():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class s1{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new s1(e,t,T0.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ES(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rpe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class ipe{constructor(){this.queries=Cj(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const i=Kt(t),s=i.queries;i.queries=Cj(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new it(Fe.ABORTED,"Firestore shutting down"))}}function Cj(){return new R1(n=>a$(n),ES)}async function p3(n,e){const t=Kt(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new rpe,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await t.onListen(i,!0);break;case 1:s.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=f3(o,`Initialization of query '${Vg(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&g3(t)}async function m3(n,e){const t=Kt(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function spe(n,e){const t=Kt(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&g3(t)}function ope(n,e,t){const r=Kt(n),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(t);r.queries.delete(e)}function g3(n){n.Y_.forEach(e=>{e.next()})}var Gk,Nj;(Nj=Gk||(Gk={})).ea="default",Nj.Cache="cache";class v3{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new s1(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=s1.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Gk.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.key=e}}class z${constructor(e){this.key=e}}class ape{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fn(),this.mutatedKeys=fn(),this.Aa=l$(e),this.Ra=new T0(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new Sj,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const p=i.get(u),f=SS(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;p&&f?p.data.isEqual(f.data)?b!==y&&(r.track({type:3,doc:f}),_=!0):this.ga(p,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.Aa(f,l)>0||c&&this.Aa(f,c)<0)&&(a=!0)):!p&&f?(r.track({type:0,doc:f}),_=!0):p&&!f&&(r.track({type:1,doc:p}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,h)=>function(f,b){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t()}};return y(f)-y(b)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new s1(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Sj,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=fn(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new z$(r))}),this.da.forEach(r=>{e.has(r)||t.push(new V$(r))}),t}ba(e){this.Ta=e.Ts,this.da=fn();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return s1.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class lpe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class cpe{constructor(e){this.key=e,this.va=!1}}class upe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new R1(a=>a$(a),ES),this.Ma=new Map,this.xa=new Set,this.Oa=new Mr(Rt.comparator),this.Na=new Map,this.La=new s3,this.Ba={},this.ka=new Map,this.qa=i1.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function dpe(n,e,t=!0){const r=K$(n);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await $$(r,e,t,!0),i}async function hpe(n,e){const t=K$(n);await $$(t,e,!0,!1)}async function $$(n,e,t,r){const i=await Dfe(n.localStore,Yc(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await fpe(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&M$(n.remoteStore,i),a}async function fpe(n,e,t,r,i){n.Ka=(h,p,f)=>async function(y,_,w,A){let E=_.view.ma(w);E.ns&&(E=await xj(y.localStore,_.query,!1).then(({documents:L})=>_.view.ma(L,E)));const C=A&&A.targetChanges.get(_.targetId),F=A&&A.targetMismatches.get(_.targetId)!=null,V=_.view.applyChanges(E,y.isPrimaryClient,C,F);return kj(y,_.targetId,V.wa),V.snapshot}(n,h,p,f);const s=await xj(n.localStore,e,!0),o=new ape(e,s.Ts),a=o.ma(s.documents),l=ox.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);kj(n,t,c.wa);const u=new lpe(e,t,o);return n.Fa.set(e,u),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot}async function ppe(n,e,t){const r=Kt(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!ES(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Wk(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&l3(r.remoteStore,i.targetId),Kk(r,i.targetId)}).catch(rx)):(Kk(r,i.targetId),await Wk(r.localStore,i.targetId,!0))}async function mpe(n,e){const t=Kt(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),l3(t.remoteStore,r.targetId))}async function gpe(n,e,t){const r=Ape(n);try{const i=await function(o,a){const l=Kt(o),c=Ni.now(),u=a.reduce((f,b)=>f.add(b.key),fn());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let b=Id(),y=fn();return l.cs.getEntries(f,u).next(_=>{b=_,b.forEach((w,A)=>{A.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,b)).next(_=>{h=_;const w=[];for(const A of a){const E=Fhe(A,h.get(A.key).overlayedDocument);E!=null&&w.push(new zf(A.key,E,Zz(E.value.mapValue),Qs.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,w,a)}).next(_=>{p=_;const w=_.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(f,_.batchId,w)})}).then(()=>({batchId:p.batchId,changes:u$(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Mr(kn)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,t),await lx(r,i.changes),await RS(r.remoteStore)}catch(i){const s=f3(i,"Failed to persist write");t.reject(s)}}async function H$(n,e){const t=Kt(n);try{const r=await Pfe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Na.get(s);o&&(qn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?qn(o.va):i.removedDocuments.size>0&&(qn(o.va),o.va=!1))}),await lx(t,r,e)}catch(r){await rx(r)}}function Tj(n,e,t){const r=Kt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Kt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&g3(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vpe(n,e,t){const r=Kt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Mr(Rt.comparator);o=o.insert(s,Is.newNoDocument(s,Gt.min()));const a=fn().add(s),l=new kS(Gt.min(),new Map,new Mr(kn),o,a);await H$(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),y3(r)}else await Wk(r.localStore,e,!1).then(()=>Kk(r,e,t)).catch(rx)}async function ype(n,e){const t=Kt(n),r=e.batch.batchId;try{const i=await Ife(t.localStore,e);W$(t,r,null),q$(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await lx(t,i)}catch(i){await rx(i)}}async function wpe(n,e,t){const r=Kt(n);try{const i=await function(o,a){const l=Kt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(qn(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);W$(r,e,t),q$(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await lx(r,i)}catch(i){await rx(i)}}function q$(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function W$(n,e,t){const r=Kt(n);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Kk(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||G$(n,r)})}function G$(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(l3(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),y3(n))}function kj(n,e,t){for(const r of t)r instanceof V$?(n.La.addReference(r.key,e),bpe(n,r)):r instanceof z$?(vt("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||G$(n,r.key)):$t()}function bpe(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(vt("SyncEngine","New document in limbo: "+t),n.xa.add(r),y3(n))}function y3(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Rt(hr.fromString(e)),r=n.qa.next();n.Na.set(r,new cpe(t)),n.Oa=n.Oa.insert(t,r),M$(n.remoteStore,new rf(Yc(AS(t.path)),r,"TargetPurposeLimboResolution",YR.oe))}}async function lx(n,e,t){const r=Kt(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=a3.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const u=Kt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ze.forEach(c,p=>ze.forEach(p.$i,f=>u.persistence.referenceDelegate.addReference(h,p.targetId,f)).next(()=>ze.forEach(p.Ui,f=>u.persistence.referenceDelegate.removeReference(h,p.targetId,f)))))}catch(h){if(!ix(h))throw h;vt("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const f=u.os.get(p),b=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(b);u.os=u.os.insert(p,y)}}}(r.localStore,s))}async function xpe(n,e){const t=Kt(n);if(!t.currentUser.isEqual(e)){vt("SyncEngine","User change. New user:",e.toKey());const r=await P$(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new it(Fe.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lx(t,r.hs)}}function _pe(n,e){const t=Kt(n),r=t.Na.get(e);if(r&&r.va)return fn().add(r.key);{let i=fn();const s=t.Ma.get(e);if(!s)return i;for(const o of s){const a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function K$(n){const e=Kt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=H$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_pe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vpe.bind(null,e),e.Ca.d_=spe.bind(null,e.eventManager),e.Ca.$a=ope.bind(null,e.eventManager),e}function Ape(n){const e=Kt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ype.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wpe.bind(null,e),e}class ZA{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=IS(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return kfe(this.persistence,new Nfe,e.initialUser,this.serializer)}Ga(e){return new Efe(o3.Zr,this.serializer)}Wa(e){return new jfe}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ZA.provider={build:()=>new ZA};class Yk{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Tj(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xpe.bind(null,this.syncEngine),await npe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ipe}()}createDatastore(e){const t=IS(e.databaseInfo.databaseId),r=function(s){return new Ufe(s)}(e.databaseInfo);return function(s,o,a,l){return new $fe(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new qfe(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>Tj(this.syncEngine,t,0),function(){return Aj.D()?new Aj:new Ofe}())}createSyncEngine(e,t){return function(i,s,o,a,l,c,u){const h=new upe(i,s,o,a,l,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Kt(i);vt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await ax(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Yk.provider={build:()=>new Yk};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):kd("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Epe{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ns.UNAUTHENTICATED,this.clientId=Xz.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{vt("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(vt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new md;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=f3(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function AN(n,e){n.asyncQueue.verifyOperationInProgress(),vt("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await P$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Ij(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Spe(n);vt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Ej(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Ej(e.remoteStore,i)),n._onlineComponents=e}async function Spe(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){vt("FirestoreClient","Using user provided OfflineComponentProvider");try{await AN(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Fe.FAILED_PRECONDITION||i.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;e1("Error using user provided cache. Falling back to memory cache: "+t),await AN(n,new ZA)}}else vt("FirestoreClient","Using default OfflineComponentProvider"),await AN(n,new ZA);return n._offlineComponents}async function Y$(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(vt("FirestoreClient","Using user provided OnlineComponentProvider"),await Ij(n,n._uninitializedComponentsProvider._online)):(vt("FirestoreClient","Using default OnlineComponentProvider"),await Ij(n,new Yk))),n._onlineComponents}function Cpe(n){return Y$(n).then(e=>e.syncEngine)}async function eE(n){const e=await Y$(n),t=e.eventManager;return t.onListen=dpe.bind(null,e.syncEngine),t.onUnlisten=ppe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hpe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mpe.bind(null,e.syncEngine),t}function Npe(n,e,t={}){const r=new md;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new w3({next:p=>{u.Za(),o.enqueueAndForget(()=>m3(s,h));const f=p.docs.has(a);!f&&p.fromCache?c.reject(new it(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&p.fromCache&&l&&l.source==="server"?c.reject(new it(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new v3(AS(a.path),u,{includeMetadataChanges:!0,_a:!0});return p3(s,h)}(await eE(n),n.asyncQueue,e,t,r)),r.promise}function Tpe(n,e,t={}){const r=new md;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new w3({next:p=>{u.Za(),o.enqueueAndForget(()=>m3(s,h)),p.fromCache&&l.source==="server"?c.reject(new it(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new v3(a,u,{includeMetadataChanges:!0,_a:!0});return p3(s,h)}(await eE(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(n,e,t){if(!t)throw new it(Fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kpe(n,e,t,r){if(e===!0&&r===!0)throw new it(Fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Rj(n){if(!Rt.isDocumentKey(n))throw new it(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Lj(n){if(Rt.isDocumentKey(n))throw new it(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function LS(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$t()}function Js(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new it(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=LS(n);throw new it(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new it(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new it(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kpe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X$((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class DS{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dj({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dj(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Kde;switch(r.type){case"firstParty":return new Jde(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Pj.get(t);r&&(vt("ComponentProvider","Removing Datastore"),Pj.delete(t),r.terminate())}(this),Promise.resolve()}}function Ipe(n,e,t,r={}){var i;const s=(n=Js(n,DS))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&e1("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ns.MOCK_USER;else{a=yoe(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new it(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ns(c)}n._authCredentials=new Yde(new Yz(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Md(this.firestore,e,this._query)}}class Ls{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ls(this.firestore,e,this._key)}}class bf extends Md{constructor(e,t,r){super(e,t,AS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ls(this.firestore,null,new Rt(e))}withConverter(e){return new bf(this.firestore,e,this._path)}}function EN(n,e,...t){if(n=Xn(n),Q$("collection","path",e),n instanceof DS){const r=hr.fromString(e,...t);return Lj(r),new bf(n,null,r)}{if(!(n instanceof Ls||n instanceof bf))throw new it(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hr.fromString(e,...t));return Lj(r),new bf(n.firestore,null,r)}}function sf(n,e,...t){if(n=Xn(n),arguments.length===1&&(e=Xz.newId()),Q$("doc","path",e),n instanceof DS){const r=hr.fromString(e,...t);return Rj(r),new Ls(n,null,new Rt(r))}{if(!(n instanceof Ls||n instanceof bf))throw new it(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hr.fromString(e,...t));return Rj(r),new Ls(n.firestore,n instanceof bf?n.converter:null,new Rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new L$(this,"async_queue_retry"),this.Vu=()=>{const r=_N();r&&vt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=_N();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=_N();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new md;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ix(e))throw e;vt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw kd("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=h3.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&$t()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function jj(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class tu extends DS{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Mj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mj(e),this._firestoreClient=void 0,await e}}}function Ppe(n,e){const t=typeof n=="object"?n:gS(),r=typeof n=="string"?n:"(default)",i=Vf(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=CV("firestore");s&&Ipe(i,...s)}return i}function cx(n){if(n._terminated)throw new it(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Rpe(n),n._firestoreClient}function Rpe(n){var e,t,r;const i=n._freezeSettings(),s=function(a,l,c,u){return new dhe(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,X$(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Epe(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this._byteString=e}static fromBase64String(e){try{return new o1(ls.fromBase64String(e))}catch(t){throw new it(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new o1(ls.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new it(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new it(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new it(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kn(this._lat,e._lat)||kn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lpe=/^__.*__$/;class Dpe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new zf(e,this.data,this.fieldMask,t,this.fieldTransforms):new sx(e,this.data,t,this.fieldTransforms)}}class J${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Z$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t()}}class _3{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _3(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return tE(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Z$(this.Cu)&&Lpe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Mpe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||IS(e)}Qu(e,t,r,i=!1){return new _3({Cu:e,methodName:t,qu:r,path:rs.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hx(n){const e=n._freezeSettings(),t=IS(n._databaseId);return new Mpe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function A3(n,e,t,r,i,s={}){const o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);C3("Data must be an object, but it was:",o,r);const a=nH(r,o);let l,c;if(s.merge)l=new ua(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const p=Xk(e,h,t);if(!o.contains(p))throw new it(Fe.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);iH(u,p)||u.push(p)}l=new ua(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Dpe(new _o(a),l,c)}class MS extends dx{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof MS}}class E3 extends dx{_toFieldTransform(e){return new y$(e.path,new cb)}isEqual(e){return e instanceof E3}}class S3 extends dx{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new hb(e.serializer,f$(e.serializer,this.$u));return new y$(e.path,t)}isEqual(e){return e instanceof S3&&this.$u===e.$u}}function eH(n,e,t,r){const i=n.Qu(1,e,t);C3("Data must be an object, but it was:",i,r);const s=[],o=_o.empty();mg(r,(l,c)=>{const u=N3(e,l,t);c=Xn(c);const h=i.Nu(u);if(c instanceof MS)s.push(u);else{const p=fx(c,h);p!=null&&(s.push(u),o.set(u,p))}});const a=new ua(s);return new J$(o,a,i.fieldTransforms)}function tH(n,e,t,r,i,s){const o=n.Qu(1,e,t),a=[Xk(e,r,t)],l=[i];if(s.length%2!=0)throw new it(Fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Xk(e,s[p])),l.push(s[p+1]);const c=[],u=_o.empty();for(let p=a.length-1;p>=0;--p)if(!iH(c,a[p])){const f=a[p];let b=l[p];b=Xn(b);const y=o.Nu(f);if(b instanceof MS)c.push(f);else{const _=fx(b,y);_!=null&&(c.push(f),u.set(f,_))}}const h=new ua(c);return new J$(u,h,o.fieldTransforms)}function jpe(n,e,t,r=!1){return fx(t,n.Qu(r?4:3,e))}function fx(n,e){if(rH(n=Xn(n)))return C3("Unsupported field value:",e,n),nH(n,e);if(n instanceof dx)return function(r,i){if(!Z$(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=fx(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ni.fromDate(r);return{timestampValue:QA(i.serializer,s)}}if(r instanceof Ni){const s=new Ni(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:QA(i.serializer,s)}}if(r instanceof b3)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof o1)return{bytesValue:E$(i.serializer,r._byteString)};if(r instanceof Ls){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:i3(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof x3)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return t3(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${LS(r)}`)}(n,e)}function nH(n,e){const t={};return Qz(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mg(n,(r,i)=>{const s=fx(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function rH(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ni||n instanceof b3||n instanceof o1||n instanceof Ls||n instanceof dx||n instanceof x3)}function C3(n,e,t){if(!rH(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=LS(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function Xk(n,e,t){if((e=Xn(e))instanceof ux)return e._internalPath;if(typeof e=="string")return N3(n,e);throw tE("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ope=new RegExp("[~\\*/\\[\\]]");function N3(n,e,t){if(e.search(Ope)>=0)throw tE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ux(...e.split("."))._internalPath}catch{throw tE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tE(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new it(Fe.INVALID_ARGUMENT,a+n+l)}function iH(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Fpe extends sH{data(){return super.data()}}function jS(n,e){return typeof e=="string"?N3(n,e):e instanceof ux?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oH(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new it(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class T3{}class k3 extends T3{}function Oj(n,e,...t){let r=[];e instanceof T3&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof I3).length,a=s.filter(l=>l instanceof OS).length;if(o>1||o>0&&a>0)throw new it(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class OS extends k3{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new OS(e,t,r)}_apply(e){const t=this._parse(e);return aH(e._query,t),new Md(e.firestore,e.converter,Vk(e._query,t))}_parse(e){const t=hx(e.firestore);return function(s,o,a,l,c,u,h){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new it(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Vj(h,u);const f=[];for(const b of h)f.push(Uj(l,s,b));p={arrayValue:{values:f}}}else p=Uj(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Vj(h,u),p=jpe(a,o,h,u==="in"||u==="not-in");return hi.create(c,u,p)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Fj(n,e,t){const r=e,i=jS("where",n);return OS._create(i,r,t)}class I3 extends T3{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new I3(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Gl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)aH(o,l),o=Vk(o,l)}(e._query,t),new Md(e.firestore,e.converter,Vk(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class P3 extends k3{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new P3(e,t)}_apply(e){const t=function(i,s,o){if(i.startAt!==null)throw new it(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new it(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lb(s,o)}(e._query,this._field,this._direction);return new Md(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new P1(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Bj(n,e="asc"){const t=e,r=jS("orderBy",n);return P3._create(r,t)}class R3 extends k3{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new R3(e,t,r)}_apply(e){return new Md(e.firestore,e.converter,XA(e._query,this._limit,this._limitType))}}function Bpe(n){return R3._create("limit",n,"F")}function Uj(n,e,t){if(typeof(t=Xn(t))=="string"){if(t==="")throw new it(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o$(e)&&t.indexOf("/")!==-1)throw new it(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(hr.fromString(t));if(!Rt.isDocumentKey(r))throw new it(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ij(n,new Rt(r))}if(t instanceof Ls)return ij(n,t._key);throw new it(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${LS(t)}.`)}function Vj(n,e){if(!Array.isArray(n)||n.length===0)throw new it(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aH(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new it(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Upe{convertValue(e,t="none"){switch(Qm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $t()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return mg(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Qr(o.doubleValue));return new x3(s)}convertGeoPoint(e){return new b3(Qr(e.latitude),Qr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=QR(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sb(e));default:return null}}convertTimestamp(e){const t=kf(e);return new Ni(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=hr.fromString(e);qn(I$(r));const i=new ob(r.get(1),r.get(3)),s=new Rt(r.popFirst(5));return i.isEqual(t)||kd(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lH extends sH{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new m5(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class m5 extends lH{data(e={}){return super.data(e)}}class cH{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new My(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new m5(this._firestore,this._userDataWriter,r.key,r,new My(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new it(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new m5(i._firestore,i._userDataWriter,a.doc.key,a.doc,new My(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new m5(i._firestore,i._userDataWriter,a.doc.key,a.doc,new My(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Vpe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Vpe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(n){n=Js(n,Ls);const e=Js(n.firestore,tu);return Npe(cx(e),n._key).then(t=>dH(e,n,t))}class D3 extends Upe{constructor(e){super(),this.firestore=e}convertBytes(e){return new o1(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,t)}}function zpe(n){n=Js(n,Md);const e=Js(n.firestore,tu),t=cx(e),r=new D3(e);return oH(n._query),Tpe(t,n._query).then(i=>new cH(e,r,n,i))}function $pe(n,e,t){n=Js(n,Ls);const r=Js(n.firestore,tu),i=L3(n.converter,e,t);return px(r,[A3(hx(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Qs.none())])}function Hpe(n,e,t,...r){n=Js(n,Ls);const i=Js(n.firestore,tu),s=hx(i);let o;return o=typeof(e=Xn(e))=="string"||e instanceof ux?tH(s,"updateDoc",n._key,e,t,r):eH(s,"updateDoc",n._key,e),px(i,[o.toMutation(n._key,Qs.exists(!0))])}function qpe(n){return px(Js(n.firestore,tu),[new TS(n._key,Qs.none())])}function Wpe(n,e){const t=Js(n.firestore,tu),r=sf(n),i=L3(n.converter,e);return px(t,[A3(hx(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Qs.exists(!1))]).then(()=>r)}function zj(n,...e){var t,r,i;n=Xn(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||jj(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(jj(e[o])){const h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,u;if(n instanceof Ls)c=Js(n.firestore,tu),u=AS(n._key.path),l={next:h=>{e[o]&&e[o](dH(c,n,h))},error:e[o+1],complete:e[o+2]};else{const h=Js(n,Md);c=Js(h.firestore,tu),u=h._query;const p=new D3(c);l={next:f=>{e[o]&&e[o](new cH(c,p,h,f))},error:e[o+1],complete:e[o+2]},oH(n._query)}return function(p,f,b,y){const _=new w3(y),w=new v3(f,_,b);return p.asyncQueue.enqueueAndForget(async()=>p3(await eE(p),w)),()=>{_.Za(),p.asyncQueue.enqueueAndForget(async()=>m3(await eE(p),w))}}(cx(c),u,a,l)}function px(n,e){return function(r,i){const s=new md;return r.asyncQueue.enqueueAndForget(async()=>gpe(await Cpe(r),i,s)),s.promise}(cx(n),e)}function dH(n,e,t){const r=t.docs.get(e._key),i=new D3(n);return new lH(n,i,e._key,r,new My(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gpe{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hx(e)}set(e,t,r){this._verifyNotCommitted();const i=SN(e,this._firestore),s=L3(i.converter,t,r),o=A3(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Qs.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=SN(e,this._firestore);let o;return o=typeof(t=Xn(t))=="string"||t instanceof ux?tH(this._dataReader,"WriteBatch.update",s._key,t,r,i):eH(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Qs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=SN(e,this._firestore);return this._mutations=this._mutations.concat(new TS(t._key,Qs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(Fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function SN(n,e){if((n=Xn(n)).firestore!==e)throw new it(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Qk(){return new E3("serverTimestamp")}function Kpe(n){return new S3("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ype(n){return cx(n=Js(n,tu)),new Gpe(n,e=>px(n,e))}(function(e,t=!0){(function(i){I1=i})(T1),Wl(new el("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new tu(new Xde(r.getProvider("auth-internal")),new ehe(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new it(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ob(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ko(ZM,"4.7.3",e),ko(ZM,"4.7.3","esm2017")})();const hH={apiKey:"AIzaSyB5fV4Gi_nDB-qBCdwyzO9gLMK1yyiknRc",authDomain:"endorse-app.firebaseapp.com",projectId:"endorse-app",storageBucket:"endorse-app.firebasestorage.app",messagingSenderId:"661681554342",appId:"1:661681554342:web:4ffbbe1751bfdca15cc567",measurementId:"G-RP8XHE1RXG"};for(const[n,e]of Object.entries(hH))if(e===void 0)throw new Error(`Firebase config error: Missing environment variable for ${n}. Please check your .env file.`);const mx=MV(hH);console.log("Firebase initialized:",mx);Hde(mx);const a1=Tue(mx,"us-central1");window.location.hostname==="localhost"&&(bz(a1,"localhost",5001),console.log("Connected to Functions emulator"));const Oi=lue(mx),wl=Ppe(mx),fH=D.createContext({user:null,userProfile:null,loading:!0,signOut:async()=>{}}),D1=()=>D.useContext(fH),Xpe=({children:n})=>{const[e,t]=D.useState(null),[r,i]=D.useState(null),[s,o]=D.useState(!0);D.useEffect(()=>{const c=Wle(Oi,async u=>{if(t(u),u)try{const h=sf(wl,"users",u.uid),p=await uH(h);p.exists()?i(p.data()):i({plan:"free"})}catch(h){console.error("Error fetching user profile:",h),i({plan:"free"})}else i(null);o(!1)});return()=>c()},[]);const l={user:e,userProfile:r,loading:s,signOut:async()=>{await Gle(Oi)}};return d.jsx(fH.Provider,{value:l,children:n})},Qpe=[{name:"Free",price:"Free",frequency:"",features:["5 documents/month","Basic signatures"],color:"text-green-600",buttonColor:"bg-green-600 hover:bg-green-700 focus-visible:outline-green-600",badgeColor:"bg-green-100 text-green-600"},{name:"Starter",price:"$4.99",frequency:"/month",features:["20 documents","Audit trail","Email notifications"],color:"text-blue-600",buttonColor:"bg-blue-600 hover:bg-blue-700 focus-visible:outline-blue-600",badgeColor:"bg-blue-100 text-blue-600"},{name:"Pro",price:"$9.99",frequency:"/month",features:["50 documents","Custom branding","Priority support"],color:"text-purple-600",buttonColor:"bg-purple-600 hover:bg-purple-700 focus-visible:outline-purple-600",badgeColor:"bg-purple-100 text-purple-600"},{name:"Business",price:"$25",frequency:"/month",features:["Unlimited documents","Teams","Admin control"],color:"text-orange-600",buttonColor:"bg-orange-600 hover:bg-orange-700 focus-visible:outline-orange-600",badgeColor:"bg-orange-100 text-orange-600"}],Jpe=()=>{const{user:n}=D1(),e=Uf(),[t,r]=D.useState(!1),[i,s]=D.useState(!1),[o,a]=D.useState(!1),[l,c]=D.useState(!1),[u,h]=D.useState("en"),[p,f]=D.useState(!1),[b,y]=D.useState(""),[_,w]=D.useState([{text:"Hello!  Thanks for visiting Endorse. How can we help you streamline your agreements today?",isUser:!1,time:"Just now"}]),[A,E]=D.useState(!1),[C,F]=D.useState(!1),[V,L]=D.useState(!1);D.useEffect(()=>{if(!localStorage.getItem("cookieConsent")){const q=setTimeout(()=>s(!0),1500);return()=>clearTimeout(q)}},[]);const N=()=>{localStorage.setItem("cookieConsent","true"),s(!1)},I=R=>{if(!n){e("/auth?mode=signup");return}e(`/payment?plan=${R.toLowerCase()}`)},j=R=>{const q=R.toLowerCase();return q.includes("price")||q.includes("cost")||q.includes("plan")||q.includes("free")?"We offer a Free plan (5 docs/mo), Starter ($4.99/mo), and Pro ($9.99/mo). Check out our Pricing section below for more details!":q.includes("hello")||q.includes("hi")||q.includes("hey")?"Hi there! Ready to sign some documents?  How can I help you today?":q.includes("security")||q.includes("safe")||q.includes("legal")||q.includes("binding")?"Yes! Endorse is ESIGN compliant and uses 256-bit SSL encryption to keep your data secure and legally binding.":q.includes("support")||q.includes("help")?"You can reach our support team at support@endorse.com or browse our Help Center resources.":"Thanks for the message! A support agent will be with you shortly. In the meantime, feel free to browse our features."},k=R=>{if(!R.trim())return;const q={text:R,isUser:!0,time:"Just now"};w(ce=>[...ce,q]),y(""),E(!0),setTimeout(()=>{E(!1);const ce=j(R);w(ae=>[...ae,{text:ce,isUser:!1,time:"Just now"}]),new Audio("https://assets.mixkit.co/active_storage/sfx/2354/2354-preview.mp3").play().catch(ae=>console.error("Audio play failed:",ae))},1500)},M=R=>{R.preventDefault(),k(b)};return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border/40",children:[d.jsxs("div",{className:"container mx-auto px-4 md:px-6 h-20 flex items-center justify-between",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2.5",children:d.jsx(no,{className:"h-14 w-auto drop-shadow-sm"})}),d.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[d.jsxs(hd,{children:[d.jsxs(fd,{className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors flex items-center gap-1 outline-none group",children:["Product ",d.jsx(ca,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Gc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs("a",{href:"#features",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(ks,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"eSign"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Create, send, and track legally binding electronic signatures."})]})]})}),d.jsx(ni,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/conversion",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Hm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"File Conversion"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Transform documents between PDF, Word, and other formats."})]})]})})]})]}),d.jsx("a",{href:"#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors",children:"Pricing"}),d.jsxs(hd,{children:[d.jsxs(fd,{className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors flex items-center gap-1 outline-none group",children:["Resources ",d.jsx(ca,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Gc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/blog",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Ks,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Blog"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Latest updates, articles, and insights."})]})]})}),d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(zm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Help Center"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Guides, tutorials, and support documentation."})]})]})}),d.jsx(ni,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx($m,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"API Docs"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Complete reference for developers."})]})]})})]})]}),d.jsx(et,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors",children:"Company"})]}),d.jsx("div",{className:"hidden md:flex items-center gap-3",children:d.jsx(et,{to:"/auth?mode=signup",children:d.jsx(Ye,{className:"font-medium text-base bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black",children:"Get Started Free"})})}),d.jsx("button",{className:"md:hidden text-foreground p-2",onClick:()=>r(!t),"aria-label":"Toggle menu",children:t?d.jsx(Ha,{className:"w-6 h-6"}):d.jsx(eS,{className:"w-6 h-6"})})]}),t&&d.jsxs("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-background border-b border-border p-4 flex flex-col gap-4 shadow-lg animate-in slide-in-from-top-5 h-[calc(100vh-4rem)] overflow-y-auto",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>F(!C),children:["Product",d.jsx(ca,{className:`w-4 h-4 transition-transform duration-200 ${C?"rotate-180":""}`})]}),C&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs("a",{href:"#features",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>r(!1),children:[d.jsx(ks,{className:"w-4 h-4"})," eSign"]}),d.jsxs(et,{to:"/conversion",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>r(!1),children:[d.jsx(Hm,{className:"w-4 h-4"})," File Conversion"]})]})]}),d.jsx("a",{href:"#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>r(!1),children:"Pricing"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>L(!V),children:["Resources",d.jsx(ca,{className:`w-4 h-4 transition-transform duration-200 ${V?"rotate-180":""}`})]}),V&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs(et,{to:"/blog",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>r(!1),children:[d.jsx(Ks,{className:"w-4 h-4"})," Blog"]}),d.jsxs(et,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>r(!1),children:[d.jsx(zm,{className:"w-4 h-4"})," Help Center"]}),d.jsxs(et,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>r(!1),children:[d.jsx($m,{className:"w-4 h-4"})," API Docs"]})]})]}),d.jsx(et,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>r(!1),children:"Company"}),d.jsx("div",{className:"flex flex-col gap-3 mt-2",children:d.jsx(et,{to:"/auth?mode=signup",onClick:()=>r(!1),children:d.jsx(Ye,{size:"lg",className:"w-full text-base bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black",children:"Get Started Free"})})})]})]}),d.jsxs("section",{className:"pt-24 pb-16 md:pt-32 md:pb-20 px-4 md:px-6 bg-background relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),d.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-accent/20 via-background to-background"}),d.jsx("div",{className:"container mx-auto max-w-7xl relative",children:d.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 lg:gap-20",children:[d.jsxs("div",{className:"w-full lg:w-1/2 text-center lg:text-left z-10",children:[d.jsxs("h1",{className:"font-display text-3xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-foreground mb-6 leading-[1.1] tracking-tight animate-fade-up-delay-1",children:["The Trusted Platform for ",d.jsx("br",{}),d.jsxs("span",{className:"text-primary relative inline-block",children:["Digital Agreements",d.jsx("svg",{className:"absolute w-full h-3 -bottom-1 left-0 text-[#FFC83D] opacity-40",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:d.jsx("path",{d:"M0 5 Q 50 10 100 5",stroke:"currentColor",strokeWidth:"8",fill:"none"})})]})]}),d.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto lg:mx-0 mb-8 md:mb-10 leading-relaxed animate-fade-up-delay-2",children:"Empower your organization with legally binding e-signatures. Experience enterprise-grade security and compliance without the complexity."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start animate-fade-up-delay-3 mb-12",children:[d.jsx(et,{to:"/auth?mode=signup",children:d.jsxs(Ye,{size:"lg",className:"w-full sm:w-auto text-lg h-14 px-8 bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black font-semibold shadow-lg shadow-[#FFC83D]/20",children:["Start Free Trial",d.jsx(CA,{className:"w-5 h-5 ml-2"})]})}),d.jsxs("div",{className:"group flex items-center gap-3 pl-2 pr-6 py-2 rounded-full bg-background/50 border border-border/50 hover:border-primary/50 hover:bg-background/80 backdrop-blur-sm transition-all cursor-pointer shadow-sm hover:shadow-md h-14 w-full sm:w-auto",onClick:()=>c(!0),role:"button",tabIndex:0,"aria-label":"Watch product demo",children:[d.jsxs("div",{className:"relative w-10 h-10 rounded-full overflow-hidden bg-muted shrink-0",children:[d.jsx("img",{src:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=100&h=100&fit=crop&q=80",alt:"Demo thumbnail",className:"w-full h-full object-cover opacity-90 group-hover:scale-110 transition-transform duration-500"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10",children:d.jsx("div",{className:"w-6 h-6 bg-white/90 rounded-full flex items-center justify-center shadow-sm",children:d.jsx(BJ,{className:"w-4 h-4 text-primary"})})})]}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-sm font-bold leading-none text-foreground",children:"Watch Demo"}),d.jsx("p",{className:"text-[11px] text-muted-foreground font-medium mt-0.5",children:"See how it works"})]})]})]}),d.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-x-8 gap-y-4 text-sm text-muted-foreground animate-fade-up-delay-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($a,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{children:"ESIGN Compliant"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($a,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{children:"Secure & Private"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($a,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{children:"No Credit Card"})]})]})]}),d.jsx("div",{className:"w-full lg:w-1/2 relative animate-fade-in duration-1000 delay-300 perspective-1000",children:d.jsxs("div",{className:"relative transform transition-transform hover:scale-[1.01] duration-500",children:[d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[120%] bg-primary/20 blur-[120px] rounded-full pointer-events-none opacity-50"}),d.jsxs("div",{className:"relative mx-auto w-full max-w-[600px] lg:max-w-none",children:[d.jsxs("div",{className:"bg-background/95 backdrop-blur rounded-2xl border border-border/60 shadow-2xl overflow-hidden relative ring-1 ring-white/10",children:[d.jsxs("div",{className:"bg-muted/50 px-4 py-3 border-b border-border/60 flex items-center gap-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-[#FF5F57] border border-[#E0443E]"}),d.jsx("div",{className:"w-3 h-3 rounded-full bg-[#FEBC2E] border border-[#D89E24]"}),d.jsx("div",{className:"w-3 h-3 rounded-full bg-[#28C840] border border-[#1AAB29]"})]}),d.jsx("div",{className:"flex-1 flex justify-center",children:d.jsxs("div",{className:"bg-background/80 border border-border/40 rounded-md px-4 py-1.5 text-xs text-muted-foreground flex items-center gap-2 w-full max-w-[240px] justify-center shadow-sm",children:[d.jsx(NA,{className:"w-3 h-3 opacity-70"}),d.jsx("span",{className:"opacity-70",children:"endorse.com/sign/contract"})]})}),d.jsx("div",{className:"w-16 flex justify-end gap-2",children:d.jsx("div",{className:"w-6 h-6 rounded-full bg-muted border border-border/50"})})]}),d.jsxs("div",{className:"flex h-[400px] sm:h-[500px] md:h-[600px] bg-muted/10",children:[d.jsx("div",{className:"w-14 md:w-16 border-r border-border/60 bg-background/50 flex flex-col items-center py-6 gap-6 backdrop-blur-sm",children:[ks,rB,nB,J9].map((R,q)=>d.jsx("div",{className:`p-2.5 rounded-xl transition-all cursor-pointer ${q===0?"bg-primary/10 text-primary shadow-sm":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:d.jsx(R,{className:"w-5 h-5"})},q))}),d.jsxs("div",{className:"flex-1 bg-muted/10 p-2 md:p-8 overflow-hidden relative flex flex-col items-center",children:[d.jsxs("div",{className:"w-full max-w-[500px] h-10 bg-background rounded-lg border border-border/40 shadow-sm mb-6 flex items-center px-4 gap-4 opacity-80",children:[d.jsx("div",{className:"h-2 w-24 bg-muted rounded-full"}),d.jsx("div",{className:"h-4 w-px bg-border"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"h-4 w-4 bg-muted rounded"}),d.jsx("div",{className:"h-4 w-4 bg-muted rounded"}),d.jsx("div",{className:"h-4 w-4 bg-muted rounded"})]})]}),d.jsxs("div",{className:"bg-white text-black shadow-xl w-full max-w-[500px] h-full rounded-t-lg p-8 md:p-10 relative mx-auto transform transition-transform hover:-translate-y-1 duration-500 border border-black/5",children:[d.jsxs("div",{className:"flex justify-between items-start mb-10",children:[d.jsxs("div",{className:"flex items-center gap-2 font-bold text-lg",children:[d.jsx("div",{className:"w-8 h-8 bg-black text-white flex items-center justify-center rounded-lg text-sm font-display",children:"E"}),d.jsx("span",{className:"tracking-tight",children:"ENDORSE"})]}),d.jsx("div",{className:"text-right text-[10px] text-gray-400 font-mono",children:d.jsx("p",{children:"ID: 8839-22"})})]}),d.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-900",children:"Service Agreement"}),d.jsxs("div",{className:"space-y-4 text-[11px] md:text-xs text-gray-600 leading-relaxed",children:[d.jsxs("div",{className:"flex gap-2 mb-6",children:[d.jsxs("div",{className:"w-1/2 space-y-2",children:[d.jsx("p",{className:"font-semibold text-gray-900",children:"Between:"}),d.jsx("div",{className:"h-2 w-24 bg-gray-100 rounded"}),d.jsx("div",{className:"h-2 w-32 bg-gray-100 rounded"})]}),d.jsxs("div",{className:"w-1/2 space-y-2",children:[d.jsx("p",{className:"font-semibold text-gray-900",children:"And:"}),d.jsx("div",{className:"h-2 w-24 bg-gray-100 rounded"}),d.jsx("div",{className:"h-2 w-32 bg-gray-100 rounded"})]})]}),d.jsx("p",{children:'This Service Agreement ("Agreement") is entered into by and between the undersigned parties.'}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-full"}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-11/12"}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-full"}),d.jsx("h3",{className:"text-sm font-bold text-black mt-8 mb-3",children:"1. Scope of Services"}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-full"}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-10/12"}),d.jsx("div",{className:"h-2 bg-gray-100 rounded w-full"})]}),d.jsx("div",{className:"mt-12 p-4 rounded-xl border-2 border-dashed border-blue-200 bg-blue-50/30 relative group cursor-pointer hover:bg-blue-50/50 transition-colors",children:d.jsxs("div",{className:"flex justify-between items-end",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold uppercase text-blue-400 mb-1",children:"Signature"}),d.jsx("div",{className:"font-handwriting text-2xl text-blue-600 transform -rotate-2 origin-left",children:"Sarah Jenkins"})]}),d.jsx("div",{className:"text-right",children:d.jsxs("div",{className:"bg-[#FFC83D] text-black text-[10px] font-bold px-2 py-1 rounded shadow-sm flex items-center gap-1",children:[d.jsx($a,{className:"w-3 h-3"})," VERIFIED"]})})]})})]})]}),d.jsxs("div",{className:"w-60 border-l border-border/60 bg-background/50 hidden xl:block p-5 backdrop-blur-sm",children:[d.jsx("h4",{className:"font-semibold text-xs uppercase tracking-wider text-muted-foreground mb-4",children:"Participants"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-xl bg-background border border-border/50 shadow-sm",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-700 text-xs font-bold ring-2 ring-white",children:"SJ"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium truncate",children:"Sarah Jenkins"}),d.jsxs("p",{className:"text-[10px] text-green-600 flex items-center gap-1 font-medium",children:[d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"})," Signed"]})]})]}),d.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-xl border border-transparent opacity-60",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 text-xs font-bold",children:"JD"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium truncate",children:"John Doe"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Waiting..."})]})]})]}),d.jsxs("div",{className:"mt-8",children:[d.jsx("h4",{className:"font-semibold text-xs uppercase tracking-wider text-muted-foreground mb-4",children:"Activity"}),d.jsxs("div",{className:"space-y-4 pl-2 border-l border-border/50",children:[d.jsxs("div",{className:"relative pl-4",children:[d.jsx("div",{className:"absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full bg-green-500 ring-4 ring-background"}),d.jsx("p",{className:"text-xs text-foreground",children:"Document signed"}),d.jsx("p",{className:"text-[10px] text-muted-foreground",children:"2 mins ago"})]}),d.jsxs("div",{className:"relative pl-4 opacity-60",children:[d.jsx("div",{className:"absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full bg-gray-300 ring-4 ring-background"}),d.jsx("p",{className:"text-xs text-foreground",children:"Viewed by Sarah"}),d.jsx("p",{className:"text-[10px] text-muted-foreground",children:"15 mins ago"})]})]})]})]})]})]}),d.jsx("div",{className:"absolute -right-6 top-24 bg-background/90 backdrop-blur p-4 rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-border/50 animate-in slide-in-from-bottom-10 duration-1000 delay-500 hidden md:block max-w-[200px]",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"bg-green-500/10 p-2 rounded-full shrink-0",children:d.jsx(Qv,{className:"w-5 h-5 text-green-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-sm leading-tight mb-1",children:"Legally Binding"}),d.jsx("p",{className:"text-xs text-muted-foreground leading-snug",children:"Compliant with ESIGN & eIDAS"})]})]})})]})]})})]})})]}),d.jsx("section",{className:"py-16 md:py-20 bg-secondary/20 border-y border-border/50",children:d.jsxs("div",{className:"container mx-auto max-w-6xl px-6",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"How Endorse Works"}),d.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Get your documents signed in minutes, not days. A simple workflow designed for speed."})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8 relative",children:[d.jsx("div",{className:"hidden md:block absolute top-12 left-[16%] right-[16%] h-0.5 bg-gradient-to-r from-border via-primary/20 to-border -z-10"}),[{title:"Upload",desc:"Upload any PDF or Word document from your computer or cloud storage.",icon:$w},{title:"Sign & Send",desc:"Add your signature fields and send to recipients via email.",icon:ks},{title:"Track",desc:"Get real-time updates when your document is viewed and signed.",icon:$a}].map((R,q)=>d.jsxs("div",{className:"group flex flex-col items-center text-center bg-background p-8 rounded-2xl border border-border shadow-sm hover:shadow-md transition-all duration-300",children:[d.jsxs("div",{className:"w-24 h-24 rounded-full bg-secondary flex items-center justify-center mb-6 shadow-inner relative z-10 group-hover:scale-110 transition-transform duration-300",children:[d.jsx(R.icon,{className:"w-10 h-10 text-primary"}),d.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-[#FFC83D] flex items-center justify-center font-bold text-black text-sm border-2 border-background",children:q+1})]}),d.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:R.title}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:R.desc})]},q))]})]})}),d.jsx("section",{id:"features",className:"py-16 md:py-24 px-4 md:px-6 overflow-hidden",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("p",{className:"text-base font-semibold text-primary uppercase tracking-wider mb-3",children:"Features"}),d.jsx("h2",{className:"font-display text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Everything you need to manage signatures"})]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 md:gap-12 mb-16 md:mb-24",children:[d.jsx("div",{className:"w-full md:w-1/2 order-2 md:order-1",children:d.jsxs("div",{className:"relative rounded-2xl bg-gradient-to-br from-secondary to-background border border-border p-8 shadow-lg",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-border/50 p-8 min-h-[300px] relative",children:[d.jsx("div",{className:"h-4 w-1/3 bg-gray-200 rounded mb-6"}),d.jsxs("div",{className:"space-y-3 mb-8",children:[d.jsx("div",{className:"h-2 w-full bg-gray-100 rounded"}),d.jsx("div",{className:"h-2 w-full bg-gray-100 rounded"}),d.jsx("div",{className:"h-2 w-2/3 bg-gray-100 rounded"})]}),d.jsxs("div",{className:"border-2 border-dashed border-[#FFC83D] bg-[#FFC83D]/5 rounded-lg p-4 relative group cursor-pointer",children:[d.jsx("div",{className:"absolute -top-3 left-4 bg-[#FFC83D] text-black text-xs font-bold px-2 py-0.5 rounded",children:"Sign Here"}),d.jsx("div",{className:"font-handwriting text-3xl text-black opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform translate-y-2 group-hover:translate-y-0",children:"John Doe"}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2 opacity-100 group-hover:opacity-0 transition-opacity",children:"Click to sign"})]})]}),d.jsxs("div",{className:"absolute -right-4 top-10 bg-background border border-border shadow-xl rounded-lg p-3 flex items-center gap-3 animate-in slide-in-from-bottom-4 duration-1000 delay-500",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:d.jsx(Qv,{className:"w-4 h-4 text-green-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-bold",children:"Legally Binding"}),d.jsx("p",{className:"text-[10px] text-muted-foreground",children:"ESIGN Compliant"})]})]})]})}),d.jsxs("div",{className:"w-full md:w-1/2 order-1 md:order-2",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#FFC83D]/10 text-[#FFC83D] text-sm font-medium mb-4",children:[d.jsx(ks,{className:"w-4 h-4"}),"Intuitive Signing"]}),d.jsx("h3",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Sign documents anywhere, on any device."}),d.jsx("p",{className:"text-base md:text-lg text-muted-foreground mb-6 leading-relaxed",children:"Experience a signing process that feels natural. Whether you're on a desktop in the office or a mobile phone on the go, Endorse adapts to your screen."}),d.jsx("ul",{className:"space-y-3",children:["Draw, type, or upload signatures","Mobile-responsive interface","No account required for signers"].map((R,q)=>d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx($a,{className:"w-5 h-5 text-primary flex-shrink-0"}),d.jsx("span",{className:"text-foreground",children:R})]},q))})]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 md:gap-12 mb-16 md:mb-24",children:[d.jsxs("div",{className:"w-full md:w-1/2",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/10 text-blue-500 text-sm font-medium mb-4",children:[d.jsx(eB,{className:"w-4 h-4"}),"Real-time Tracking"]}),d.jsx("h3",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Never wonder about status again."}),d.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:"Stay in the loop with instant notifications. Know exactly when your document is opened, viewed, and signed."}),d.jsx(et,{to:"/auth",children:d.jsxs(Ye,{variant:"outline",className:"group",children:["Explore Features ",d.jsx(ZE,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})})]}),d.jsx("div",{className:"w-full md:w-1/2",children:d.jsxs("div",{className:"relative rounded-2xl bg-card border border-border p-6 shadow-lg",children:[d.jsx("div",{className:"space-y-4",children:[{user:"Sarah Chen",action:"viewed the document",time:"2 mins ago",icon:oB,color:"bg-blue-100 text-blue-600"},{user:"Mike Ross",action:"signed the contract",time:"Just now",icon:ks,color:"bg-green-100 text-green-600"},{user:"System",action:"sent copy to all parties",time:"Just now",icon:Dm,color:"bg-purple-100 text-purple-600"}].map((R,q)=>d.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-background border border-border/50 shadow-sm",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${R.color}`,children:d.jsx(R.icon,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"text-sm font-medium text-foreground",children:[d.jsx("span",{className:"font-bold",children:R.user})," ",R.action]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:R.time})]})]},q))}),d.jsx("div",{className:"absolute -z-10 -bottom-4 -right-4 w-full h-full bg-secondary/50 rounded-2xl"})]})})]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 md:gap-12",children:[d.jsx("div",{className:"w-full md:w-1/2 order-2 md:order-1",children:d.jsxs("div",{className:"relative rounded-2xl bg-[#1a1f2c] p-8 shadow-2xl overflow-hidden text-white",children:[d.jsx("div",{className:"absolute top-0 right-0 p-32 bg-primary/20 blur-[100px] rounded-full pointer-events-none"}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center text-center py-10",children:[d.jsx("div",{className:"w-20 h-20 bg-white/10 rounded-full flex items-center justify-center mb-6 backdrop-blur-md border border-white/20",children:d.jsx(NA,{className:"w-10 h-10 text-[#FFC83D]"})}),d.jsx("h4",{className:"text-2xl font-bold mb-2",children:"Secure Infrastructure"}),d.jsx("p",{className:"text-gray-400 mb-8",children:"Powered by Google Cloud"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full",children:[d.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[d.jsx("div",{className:"text-[#FFC83D] font-bold text-lg",children:"SSL"}),d.jsx("div",{className:"text-xs text-gray-400",children:"Encryption"})]}),d.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[d.jsx("div",{className:"text-[#FFC83D] font-bold text-lg",children:"99.9%"}),d.jsx("div",{className:"text-xs text-gray-400",children:"Uptime"})]})]})]})]})}),d.jsxs("div",{className:"w-full md:w-1/2 order-1 md:order-2",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-green-500/10 text-green-600 text-sm font-medium mb-4",children:[d.jsx(zw,{className:"w-4 h-4"}),"Secure & Reliable"]}),d.jsx("h3",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Secure, private, and legally binding."}),d.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:"We take security seriously. Your documents are protected by industry-standard encryption and secure cloud infrastructure."}),d.jsx("div",{className:"flex flex-wrap gap-3",children:["Audit Trails","Two-Factor Auth","Data Encryption","Privacy Focused"].map((R,q)=>d.jsx("span",{className:"px-3 py-1 bg-secondary rounded-md text-sm font-medium text-secondary-foreground border border-border",children:R},q))})]})]})]})}),d.jsx("section",{id:"pricing",className:"bg-white py-12 sm:py-16",children:d.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[d.jsxs("div",{className:"mx-auto max-w-4xl text-center",children:[d.jsx("h2",{className:"text-base font-semibold leading-7 text-indigo-600",children:"Pricing"}),d.jsx("p",{className:"mt-2 text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Choose the right plan for you"})]}),d.jsx("div",{className:"isolate mx-auto mt-10 grid max-w-md grid-cols-1 gap-8 lg:mx-0 lg:max-w-none lg:grid-cols-4",children:Qpe.map(R=>d.jsxs("div",{className:"rounded-3xl p-8 ring-1 ring-gray-200 xl:p-10 flex flex-col justify-between hover:shadow-lg transition-shadow duration-300",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between gap-x-4",children:[d.jsx("h3",{id:R.name,className:`text-lg font-semibold leading-8 ${R.color}`,children:R.name}),d.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${R.badgeColor} ring-1 ring-inset ring-gray-500/10`,children:R.name})]}),d.jsxs("p",{className:"mt-4 flex items-baseline gap-x-1",children:[d.jsx("span",{className:"text-4xl font-bold tracking-tight text-gray-900",children:R.price}),R.frequency&&d.jsx("span",{className:"text-sm font-semibold leading-6 text-gray-600",children:R.frequency})]}),d.jsx("ul",{role:"list",className:"mt-8 space-y-3 text-sm leading-6 text-gray-600",children:R.features.map(q=>d.jsxs("li",{className:"flex gap-x-3",children:[d.jsx("svg",{className:`h-6 w-5 flex-none ${R.color}`,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:d.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})}),q]},q))})]}),d.jsx("button",{onClick:()=>R.name==="Free"?e("/auth?mode=signup"):I(R.name),"aria-describedby":R.name,className:`mt-8 block w-full rounded-md px-3 py-2 text-center text-sm font-semibold leading-6 text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 ${R.buttonColor}`,children:"Get started"})]},R.name))})]})}),d.jsx("section",{className:"py-16 md:py-24 px-4 md:px-6",children:d.jsxs("div",{className:"container mx-auto max-w-4xl",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("p",{className:"text-base font-semibold text-primary uppercase tracking-wider mb-3",children:"FAQ"}),d.jsx("h2",{className:"font-display text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Common questions"}),d.jsx("p",{className:"text-muted-foreground text-xl max-w-xl mx-auto",children:"Everything you need to know about the product and billing."})]}),d.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[{q:"Is Endorse legally binding?",a:"Yes. Signatures created with Endorse are legally binding and enforceable in court, complying with the ESIGN Act, UETA, and eIDAS regulations."},{q:"Is my data secure?",a:"Absolutely. We use industry-standard SSL encryption for all document transfers. Your documents are private and only accessible to you and your designated signers."},{q:"Can I sign on my mobile phone?",a:"Yes! Endorse is fully responsive and works perfectly on smartphones and tablets. You can draw your signature using your finger or stylus."},{q:"What happens after the free trial?",a:"If you don't upgrade to a paid plan, your account will automatically switch to our Free tier, which allows you to sign up to 3 documents per month."},{q:"Do recipients need an account to sign?",a:"No. Recipients can sign documents sent to them without creating an Endorse account. They simply click the link in their email to sign."},{q:"Can I cancel my subscription?",a:"You can cancel your subscription at any time from your dashboard. You'll retain access to your paid features until the end of your billing cycle."}].map((R,q)=>d.jsxs("div",{className:"bg-card p-8 rounded-2xl border border-border hover:border-primary/30 transition-all duration-300 hover:shadow-sm",children:[d.jsx("h3",{className:"font-display font-semibold text-xl mb-3 text-foreground",children:R.q}),d.jsx("p",{className:"text-muted-foreground leading-relaxed text-base",children:R.a})]},q))})]})}),d.jsx("section",{className:"py-16 md:py-24 px-4 md:px-6",children:d.jsx("div",{className:"container mx-auto max-w-4xl",children:d.jsxs("div",{className:"relative rounded-2xl bg-gradient-primary p-8 md:p-14 text-center overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PGNpcmNsZSBjeD0iMzAiIGN5PSIzMCIgcj0iMiIvPjwvZz48L2c+PC9zdmc+')] opacity-50"}),d.jsxs("div",{className:"relative z-10",children:[d.jsx("h2",{className:"font-display text-4xl md:text-5xl font-bold text-primary-foreground mb-4",children:"Ready to streamline your signing?"}),d.jsx("p",{className:"text-primary-foreground/85 text-xl mb-8 max-w-xl mx-auto",children:"Join thousands of professionals who save hours every week with Endorse."}),d.jsx(et,{to:"/auth?mode=signup",children:d.jsxs(Ye,{size:"lg",className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90 font-semibold text-xl h-14 px-8",children:["Start Your Free Trial",d.jsx(CA,{className:"w-4 h-4 ml-2"})]})})]})]})})}),d.jsx("footer",{className:"bg-background border-t border-border pt-12 md:pt-16 pb-8 px-4 md:px-6",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[d.jsxs("div",{className:"lg:col-span-1",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2.5 mb-6",children:d.jsx(no,{className:"h-[80px] w-auto"})}),d.jsx("p",{className:"text-muted-foreground text-base leading-relaxed mb-6",children:"The professional way to sign and endorse documents securely online."}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"Twitter",children:d.jsx(cZ,{className:"w-5 h-5"})}),d.jsx("a",{href:"https://www.linkedin.com/company/e-ndorse/",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"LinkedIn",children:d.jsx(ak,{className:"w-5 h-5"})}),d.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"Facebook",children:d.jsx(qJ,{className:"w-5 h-5"})}),d.jsx("a",{href:"https://www.instagram.com/e.ndorse?igsh=MWs2MnltaGdxbDU3eA%3D%3D&utm_source=qr",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"Instagram",children:d.jsx(XJ,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-lg text-foreground mb-6",children:"Product"}),d.jsxs("ul",{className:"space-y-4 text-base text-muted-foreground",children:[d.jsx("li",{children:d.jsx("a",{href:"#features",className:"hover:text-foreground transition-colors",children:"Features"})}),d.jsx("li",{children:d.jsx("a",{href:"#pricing",className:"hover:text-foreground transition-colors",children:"Pricing"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"API Documentation"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-lg text-foreground mb-6",children:"Company"}),d.jsxs("ul",{className:"space-y-4 text-base text-muted-foreground",children:[d.jsx("li",{children:d.jsx(et,{to:"/about",className:"hover:text-foreground transition-colors",children:"About Us"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Careers"})}),d.jsx("li",{children:d.jsx(et,{to:"/blog",className:"hover:text-foreground transition-colors",children:"Blog"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Contact"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-lg text-foreground mb-6",children:"Stay Updated"}),d.jsx("p",{className:"text-base text-muted-foreground mb-4",children:"Subscribe to our newsletter for the latest updates and features."}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx(ui,{placeholder:"Enter your email",className:"bg-background","aria-label":"Email address"}),d.jsx(Ye,{size:"lg",className:"w-full text-base",children:"Subscribe"})]})]})]}),d.jsxs("div",{className:"pt-8 border-t border-border flex flex-col md:flex-row items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 md:gap-6",children:[d.jsxs("p",{className:"text-muted-foreground text-base",children:[" ",new Date().getFullYear()," Endorse. All rights reserved."]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(tB,{className:"w-4 h-4 text-muted-foreground"}),d.jsxs("select",{value:u,onChange:R=>h(R.target.value),className:"bg-transparent border-none text-sm text-muted-foreground hover:text-foreground focus:ring-0 cursor-pointer outline-none","aria-label":"Select language",children:[d.jsx("option",{value:"en",children:"English (US)"}),d.jsx("option",{value:"fr",children:"Franais"}),d.jsx("option",{value:"es",children:"Espaol"}),d.jsx("option",{value:"de",children:"Deutsch"})]})]})]}),d.jsxs("div",{className:"flex gap-8 text-base text-muted-foreground",children:[d.jsx(et,{to:"/privacy",className:"hover:text-foreground transition-colors",children:"Privacy Policy"}),d.jsx(et,{to:"/terms",className:"hover:text-foreground transition-colors",children:"Terms of Service"}),d.jsx(et,{to:"/cookie-policy",className:"hover:text-foreground transition-colors",children:"Cookie Policy"})]})]})]})}),i&&d.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t border-border p-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] animate-in slide-in-from-bottom-full duration-500",children:d.jsxs("div",{className:"container mx-auto max-w-6xl flex flex-col sm:flex-row items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-primary/10 rounded-full hidden sm:block",children:d.jsx(VJ,{className:"w-5 h-5 text-primary"})}),d.jsx("p",{className:"text-sm text-muted-foreground text-center sm:text-left",children:"We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies."})]}),d.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[d.jsx(Ye,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>s(!1),children:"Decline"}),d.jsx(Ye,{size:"sm",className:"flex-1 sm:flex-none bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",onClick:N,children:"Accept"})]})]})}),o&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[d.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm",onClick:()=>a(!1)}),d.jsxs("div",{className:"relative z-50 w-full max-w-lg bg-card border border-border rounded-xl shadow-2xl p-6 animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("button",{onClick:()=>a(!1),className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","aria-label":"Close",children:[d.jsx(Ha,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]}),d.jsxs("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left mb-6",children:[d.jsx("h2",{className:"text-lg font-semibold leading-none tracking-tight",children:"Contact Sales"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Get a custom quote for your team. We'll get back to you within 24 hours."})]}),d.jsxs("form",{className:"space-y-4",onSubmit:R=>{R.preventDefault(),a(!1)},children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"first-name",className:"text-sm font-medium leading-none",children:"First name"}),d.jsx(ui,{id:"first-name",placeholder:"John",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"last-name",className:"text-sm font-medium leading-none",children:"Last name"}),d.jsx(ui,{id:"last-name",placeholder:"Doe",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"email",className:"text-sm font-medium leading-none",children:"Work Email"}),d.jsx(ui,{id:"email",type:"email",placeholder:"john@company.com",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"company",className:"text-sm font-medium leading-none",children:"Company Name"}),d.jsx(ui,{id:"company",placeholder:"Acme Inc.",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"message",className:"text-sm font-medium leading-none",children:"Message"}),d.jsx("textarea",{id:"message",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Tell us about your needs..."})]}),d.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[d.jsx(Ye,{variant:"outline",type:"button",onClick:()=>a(!1),children:"Cancel"}),d.jsx(Ye,{type:"submit",className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:"Send Request"})]})]}),d.jsx("div",{className:"mt-6 pt-6 border-t border-border flex justify-center",children:d.jsx("a",{href:"https://www.linkedin.com/company/e-ndorse/",target:"_blank",rel:"noopener noreferrer",className:"w-full",children:d.jsxs(Ye,{variant:"outline",className:"w-full gap-2 text-muted-foreground hover:text-[#0A66C2] hover:border-[#0A66C2]/30",children:[d.jsx(ak,{className:"w-4 h-4"}),"Follow us on LinkedIn"]})})})]})]}),l&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 bg-background/80 backdrop-blur-sm animate-in fade-in duration-200",children:[d.jsx("div",{className:"absolute inset-0",onClick:()=>c(!1)}),d.jsxs("div",{className:"relative w-full max-w-5xl aspect-video bg-black rounded-xl shadow-2xl overflow-hidden border border-border/50 animate-in zoom-in-95 duration-200",children:[d.jsx("button",{onClick:()=>c(!1),className:"absolute right-4 top-4 z-10 p-2 bg-black/50 hover:bg-black/70 text-white rounded-full transition-colors","aria-label":"Close video",children:d.jsx(Ha,{className:"w-5 h-5"})}),d.jsx("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/STt-r1SlO74?autoplay=1",title:"Product Demo",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})]})]}),d.jsxs("div",{className:"fixed bottom-4 right-4 md:bottom-6 md:right-6 z-50 flex flex-col items-end gap-4",children:[p&&d.jsxs("div",{className:"bg-card border border-border rounded-xl shadow-2xl w-[calc(100vw-2rem)] sm:w-96 overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300",children:[d.jsxs("div",{className:"bg-[#FFC83D] p-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full animate-pulse"}),d.jsx("span",{className:"font-bold text-black",children:"Endorse Support"})]}),d.jsx("button",{onClick:()=>f(!1),className:"text-black/80 hover:text-black transition-colors","aria-label":"Close chat",children:d.jsx(Ha,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"h-80 bg-background p-4 overflow-y-auto flex flex-col gap-4",children:[_.map((R,q)=>d.jsxs("div",{className:`p-3 rounded-lg max-w-[85%] border border-border ${R.isUser?"bg-primary/10 self-end rounded-tr-none":"bg-secondary self-start rounded-tl-none"}`,children:[d.jsx("p",{className:"text-sm",children:R.text}),d.jsx("span",{className:"text-[10px] text-muted-foreground mt-1 block",children:R.time})]},q)),_.length<4&&d.jsx("div",{className:"flex flex-wrap gap-2 mt-2 px-1",children:["Pricing Plans","Is it legal?","Contact Support","Features"].map(R=>d.jsx("button",{onClick:()=>k(R),className:"text-xs bg-secondary hover:bg-secondary/80 border border-border rounded-full px-3 py-1.5 transition-colors text-foreground/80",children:R},R))}),A&&d.jsx("div",{className:"bg-secondary p-4 rounded-lg rounded-tl-none max-w-[85%] self-start border border-border",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("span",{className:"w-2 h-2 bg-muted-foreground/40 rounded-full animate-bounce [animation-delay:-0.3s]"}),d.jsx("span",{className:"w-2 h-2 bg-muted-foreground/40 rounded-full animate-bounce [animation-delay:-0.15s]"}),d.jsx("span",{className:"w-2 h-2 bg-muted-foreground/40 rounded-full animate-bounce"})]})})]}),d.jsx("div",{className:"p-4 border-t border-border bg-background",children:d.jsxs("form",{className:"flex gap-2",onSubmit:M,children:[d.jsx(ui,{placeholder:"Type a message...",className:"flex-1",value:b,onChange:R=>y(R.target.value),"aria-label":"Type a message"}),d.jsx(Ye,{size:"icon",type:"submit",className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:d.jsx(Z4,{className:"w-4 h-4"})})]})})]}),d.jsx(Ye,{size:"lg",className:"h-14 w-14 rounded-full shadow-lg bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90 transition-transform hover:scale-105",onClick:()=>f(!p),"aria-label":"Open chat",children:p?d.jsx(Ha,{className:"w-6 h-6"}):d.jsx(ZJ,{className:"w-6 h-6"})})]})]})};var Zpe="Label",pH=D.forwardRef((n,e)=>d.jsx(gr.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));pH.displayName=Zpe;var mH=pH;const eme=Q4("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fc=D.forwardRef(({className:n,...e},t)=>d.jsx(mH,{ref:t,className:vr(eme(),n),...e}));Fc.displayName=mH.displayName;const tme=()=>{var ne,ge;const[n]=yR(),[e,t]=D.useState(n.get("mode")==="signup"),[r,i]=D.useState(!1),[s,o]=D.useState(""),[a,l]=D.useState(""),[c,u]=D.useState(""),[h,p]=D.useState(!1),[f,b]=D.useState(!1),[y,_]=D.useState(null),[w,A]=D.useState(""),[E,C]=D.useState(!1),[F,V]=D.useState(!1),[L,N]=D.useState(!1),I=Uf(),{user:j}=D1(),M=((ge=(ne=Dd().state)==null?void 0:ne.from)==null?void 0:ge.pathname)||"/dashboard";D.useEffect(()=>{j&&j.emailVerified&&I(M,{replace:!0})},[j,I,M]);const R=async pe=>{pe.preventDefault(),i(!0);try{if(e){const U=await zle(Oi,s,a);await IM(U.user),C(!0),ot.success("Verification email sent! Please check your inbox.")}else(await $le(Oi,s,a)).user.emailVerified?(ot.success("Welcome back!"),I("/dashboard")):(C(!0),ot.info("Please verify your email before continuing."))}catch(U){U.code==="auth/multi-factor-auth-required"?(b(!0),_(PM(Oi,U)),ot.info("Two-factor authentication required.")):ot.error(U.message||"An error occurred")}finally{i(!1)}},q=async()=>{if(Oi.currentUser){i(!0);try{await IM(Oi.currentUser),ot.success("Verification email resent!")}catch(pe){ot.error(pe.message||"Failed to resend email.")}finally{i(!1)}}},ce=async pe=>{pe.preventDefault(),i(!0);try{await Vle(Oi,s),V(!0),ot.success("Password reset email sent!")}catch(U){ot.error(U.message||"Failed to send reset email.")}finally{i(!1)}},de=async()=>{if(Oi.currentUser){i(!0);try{await Oi.currentUser.reload(),Oi.currentUser.emailVerified?(ot.success("Email verified! Redirecting..."),I("/dashboard")):ot.info("Email not verified yet. Please check your inbox.")}catch{ot.error("Failed to refresh status.")}finally{i(!1)}}},ae=async()=>{i(!0);try{const pe=new sd;await gce(Oi,pe),I("/dashboard")}catch(pe){pe.code==="auth/multi-factor-auth-required"?(b(!0),_(PM(Oi,pe)),ot.info("Two-factor authentication required.")):ot.error(pe.message||"Failed to sign in with Google"),i(!1)}},Q=async pe=>{pe.preventDefault(),i(!0);try{const U=y.hints[0],X=yz.assertionForSignIn(U.uid,w);await y.resolveSignIn(X),ot.success("Welcome back!"),I("/dashboard")}catch(U){console.error(U),ot.error("Invalid verification code."),i(!1)}};return d.jsxs("div",{className:"min-h-screen bg-background flex",children:[d.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-[#1a1f2c] relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2670&auto=format&fit=crop')] bg-cover bg-center opacity-20 mix-blend-overlay"}),d.jsxs("div",{className:"relative z-10 flex flex-col justify-between p-12 w-full",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2.5",children:d.jsx(no,{className:"h-10 w-auto brightness-0 invert"})}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h1",{className:"font-display text-4xl font-bold text-white leading-tight",children:["Sign documents",d.jsx("br",{}),"with confidence"]}),d.jsx("p",{className:"text-white/80 text-lg max-w-md leading-relaxed",children:"Join thousands of businesses who trust Endorse for secure, legally binding electronic signatures."})]}),d.jsx("p",{className:"text-white/60 text-sm",children:" 2025 Endorse. Enterprise-grade security."})]})]}),d.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-12",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs(et,{to:"/",className:"lg:hidden inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-8 transition-colors text-sm",children:[d.jsx(_1,{className:"w-4 h-4"}),"Back to home"]}),d.jsxs("div",{className:"mb-8 text-center lg:text-left",children:[d.jsx("h2",{className:"font-display text-2xl font-bold text-foreground mb-2",children:f?"Two-Factor Authentication":E?"Verify Email":e?"Create your account":"Welcome back"}),d.jsx("p",{className:"text-muted-foreground",children:f?"Enter the 6-digit code from your authenticator app":E?"Check your inbox to activate your account":e?"Start your free 14-day trial today":"Sign in to continue to your dashboard"})]}),f?d.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Fc,{htmlFor:"code",className:"text-sm font-medium",children:"Verification Code"}),d.jsxs("div",{className:"relative",children:[d.jsx(bD,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(ui,{id:"code",type:"text",placeholder:"000000",value:w,onChange:pe=>A(pe.target.value.replace(/\D/g,"").slice(0,6)),className:"pl-10 h-11 tracking-widest",autoFocus:!0,required:!0})]})]}),d.jsx(Ye,{type:"submit",variant:"hero",className:"w-full h-11 font-medium bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black border-none",disabled:r||w.length!==6,children:r?d.jsx(ns,{className:"w-4 h-4 mr-2 animate-spin"}):"Verify"}),d.jsx(Ye,{type:"button",variant:"ghost",className:"w-full",onClick:()=>{b(!1),A("")},children:"Back to Login"})]}):E?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-8 rounded-2xl text-center shadow-sm",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(Dm,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Verify your email"}),d.jsxs("p",{className:"text-slate-600 mb-8 text-sm leading-relaxed",children:["We've sent a verification link to ",d.jsx("span",{className:"font-semibold text-blue-600",children:s}),". Please click the link in your email to activate your account and start signing."]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Ye,{onClick:de,disabled:r,className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white",children:r?d.jsx(ns,{className:"w-4 h-4 mr-2 animate-spin"}):"I've Verified My Email"}),d.jsx(Ye,{onClick:q,disabled:r,variant:"outline",className:"w-full h-12 border-blue-200 hover:bg-blue-50 text-blue-700",children:r?d.jsx(ns,{className:"w-4 h-4 mr-2 animate-spin"}):"Resend Verification Email"}),d.jsx(Ye,{onClick:()=>{C(!1),Oi.signOut()},variant:"ghost",className:"w-full text-slate-500 hover:text-slate-900",children:"Back to Sign In"})]})]}),d.jsx("p",{className:"text-xs text-center text-slate-400",children:"Can't find the email? Check your spam folder."})]}):L?d.jsx("form",{onSubmit:ce,className:"space-y-4",children:d.jsxs("div",{className:"space-y-4",children:[F?d.jsx("div",{className:"bg-green-50 border border-green-100 p-4 rounded-xl text-green-700 text-sm mb-4",children:"Check your inbox for the reset link we just sent."}):d.jsxs("div",{className:"space-y-2",children:[d.jsx(Fc,{htmlFor:"reset-email",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Dm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx(ui,{id:"reset-email",type:"email",placeholder:"you@example.com",value:s,onChange:pe=>o(pe.target.value),className:"pl-10 h-11",required:!0})]})]}),d.jsx(Ye,{type:"submit",className:"w-full h-11 bg-primary hover:bg-primary/90",disabled:r||F,children:r?d.jsx(ns,{className:"w-4 h-4 mr-2 animate-spin"}):"Send Reset Link"}),d.jsx("button",{type:"button",onClick:()=>N(!1),className:"w-full text-center text-sm text-slate-500 hover:text-slate-900 font-medium",children:"Return to Sign In"})]})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"mb-8 bg-slate-50 p-4 rounded-xl border border-slate-200",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"mt-1",children:d.jsx("input",{type:"checkbox",id:"security-check",checked:h,onChange:pe=>p(pe.target.checked),className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary cursor-pointer"})}),d.jsxs("label",{htmlFor:"security-check",className:"text-sm text-slate-600 cursor-pointer select-none",children:[d.jsxs("span",{className:"font-bold text-slate-900 flex items-center gap-1.5 mb-1",children:[d.jsx(bD,{className:"w-3.5 h-3.5 text-blue-600"}),"Security & Compliance"]}),"I confirm I'm authorized to use this system and agree to the Terms of Service."]})]})}),d.jsxs(Ye,{variant:"outline",className:"w-full h-12 mb-8 font-semibold border-slate-200 hover:bg-slate-50 shadow-sm",onClick:ae,disabled:r||!h,children:[d.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),d.jsxs("div",{className:"relative mb-8",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("span",{className:"w-full border-t border-slate-200"})}),d.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:d.jsx("span",{className:"bg-white px-4 text-slate-400 font-bold tracking-widest",children:"Or email"})})]}),d.jsxs("form",{onSubmit:R,className:"space-y-5",children:[e&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(Fc,{htmlFor:"fullName",className:"text-sm font-bold text-slate-700",children:"Full Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(sB,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx(ui,{id:"fullName",type:"text",placeholder:"Ebenezer Bankole",value:c,onChange:pe=>u(pe.target.value),className:"pl-10 h-12 bg-slate-50/50 border-slate-200",required:e})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Fc,{htmlFor:"email",className:"text-sm font-bold text-slate-700",children:"Work Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Dm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx(ui,{id:"email",type:"email",placeholder:"name@company.com",value:s,onChange:pe=>o(pe.target.value),className:"pl-10 h-12 bg-slate-50/50 border-slate-200",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(Fc,{htmlFor:"password",name:"Password",className:"text-sm font-bold text-slate-700",children:"Password"}),!e&&d.jsx("button",{type:"button",onClick:()=>N(!0),className:"text-xs font-bold text-primary hover:text-primary/80 transition-colors",children:"Forgot?"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(NA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx(ui,{id:"password",type:"password",placeholder:"",value:a,onChange:pe=>l(pe.target.value),className:"pl-10 h-12 bg-slate-50/50 border-slate-200",required:!0,minLength:6})]})]}),d.jsx(Ye,{type:"submit",className:"w-full h-12 text-base font-bold bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black border-none shadow-md shadow-[#FFC83D]/20 mt-2",disabled:r||!h,children:r?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ns,{className:"w-5 h-5 animate-spin"})," Preparing..."]}):e?"Create My Account":"Sign In to Endorse"})]}),d.jsxs("p",{className:"text-center text-slate-500 mt-8 text-sm",children:[e?"Already a member?":"New to Endorse?"," ",d.jsx("button",{type:"button",onClick:()=>t(!e),className:"text-primary hover:text-primary/80 font-bold underline decoration-2 underline-offset-4",children:e?"Sign in":"Sign up for free"})]})]})]})})]})},nme="modulepreload",rme=function(n){return"/"+n},$j={},zc=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=rme(l),l in $j)return;$j[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":nme,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var ime="Separator",Hj="horizontal",sme=["horizontal","vertical"],gH=D.forwardRef((n,e)=>{const{decorative:t,orientation:r=Hj,...i}=n,s=ome(r)?r:Hj,a=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return d.jsx(gr.div,{"data-orientation":s,...a,...i,ref:e})});gH.displayName=ime;function ome(n){return sme.includes(n)}var vH=gH;const yH=D.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},i)=>d.jsx(vH,{ref:i,decorative:t,orientation:e,className:vr("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));yH.displayName=vH.displayName;const pc=D.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:vr("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));pc.displayName="Card";const mp=D.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:vr("flex flex-col space-y-1.5 p-6",n),...e}));mp.displayName="CardHeader";const gp=D.forwardRef(({className:n,...e},t)=>d.jsx("h3",{ref:t,className:vr("text-2xl font-semibold leading-none tracking-tight",n),...e}));gp.displayName="CardTitle";const ame=D.forwardRef(({className:n,...e},t)=>d.jsx("p",{ref:t,className:vr("text-sm text-muted-foreground",n),...e}));ame.displayName="CardDescription";const mc=D.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:vr("p-6 pt-0",n),...e}));mc.displayName="CardContent";const lme=D.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:vr("flex items-center p-6 pt-0",n),...e}));lme.displayName="CardFooter";const cme=({onFileSelect:n,currentFile:e,accept:t=".pdf"})=>{const r=D.useCallback(s=>{s.preventDefault();const o=s.dataTransfer.files[0];if(o){const a=o.type==="application/pdf",l=o.name.match(/\.(doc|docx)$/i)||o.type==="application/msword"||o.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document";(a||l)&&n(o)}},[n]),i=s=>{var a;const o=(a=s.target.files)==null?void 0:a[0];o&&n(o)};return d.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary/50 transition-colors",onDrop:r,onDragOver:s=>s.preventDefault(),children:[e?d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx(Ks,{className:"h-8 w-8 text-primary"}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"font-medium text-foreground",children:e.name}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[(e.size/1024/1024).toFixed(2)," MB"]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx($w,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),d.jsx("p",{className:"text-lg font-medium text-foreground mb-2",children:"Drop your document here"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"PDF or Word documents"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4 font-bold text-primary",children:"or"})]}),d.jsxs("label",{children:[d.jsx("input",{type:"file",accept:t,onChange:i,className:"hidden"}),d.jsx(Ye,{variant:"outline",asChild:!0,children:d.jsx("span",{className:"cursor-pointer",children:e?"Choose Different File":"Browse Files"})})]})]})},ume=({signers:n,setSigners:e,onSendInvites:t})=>{const[r,i]=D.useState(""),[s,o]=D.useState(""),a=()=>{if(!r||!s){ot.error("Please enter both name and email for the signer.");return}if(!/^\S+@\S+\.\S+$/.test(r)){ot.error("Please enter a valid email address.");return}if(n.some(c=>c.email===r)){ot.warning("This signer has already been added.");return}e([...n,{email:r,name:s}]),i(""),o("")},l=c=>{e(n.filter(u=>u.email!==c))};return d.jsxs(pc,{className:"gradient-card border-border/50 shadow-soft",children:[d.jsx(mp,{children:d.jsx(gp,{className:"font-display font-semibold",children:"Invite Others to Sign"})}),d.jsxs(mc,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ui,{placeholder:"Signer's Name",value:s,onChange:c=>o(c.target.value)}),d.jsx(ui,{type:"email",placeholder:"Signer's Email",value:r,onChange:c=>i(c.target.value)}),d.jsxs(Ye,{variant:"outline",className:"w-full",onClick:a,children:[d.jsx(iB,{className:"w-4 h-4 mr-2"})," Add Signer"]})]}),d.jsx("div",{className:"space-y-2",children:n.map(c=>d.jsxs("div",{className:"flex items-center justify-between bg-background/50 p-2 rounded-md text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:c.name}),d.jsx("p",{className:"text-muted-foreground",children:c.email})]}),d.jsx(Ye,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(c.email),children:d.jsx(Ha,{className:"w-4 h-4"})})]},c.email))}),n.length>0&&d.jsxs(Ye,{className:"w-full",onClick:t,children:[d.jsx(Z4,{className:"w-4 h-4 mr-2"}),"Send Invites"]})]})]})};function Jk(){return Jk=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jk.apply(null,arguments)}function dme(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function hme(n,e){if(n==null)return{};var t,r,i=dme(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function On(n){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(n)}function fme(n,e,t){return Object.defineProperty(n,"prototype",{writable:!1}),n}function pme(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Zk(n,e){return Zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Zk(n,e)}function mme(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Zk(n,e)}function nE(n){return nE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nE(n)}function wH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wH=function(){return!!n})()}function gme(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vme(n,e){if(e&&(On(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gme(n)}function yme(n){var e=wH();return function(){var t,r=nE(n);if(e){var i=nE(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return vme(this,t)}}var bH={exports:{}},wme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bme=wme,xme=bme;function xH(){}function _H(){}_H.resetWarningCache=xH;var _me=function(){function n(r,i,s,o,a,l){if(l!==xme){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_H,resetWarningCache:xH};return t.PropTypes=t,t};bH.exports=_me();var Ame=bH.exports;const Wo=v1(Ame);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bzier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bzier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function Jm(n,e,t){this.x=n,this.y=e,this.time=t||new Date().getTime()}Jm.prototype.velocityFrom=function(n){return this.time!==n.time?this.distanceTo(n)/(this.time-n.time):1};Jm.prototype.distanceTo=function(n){return Math.sqrt(Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2))};Jm.prototype.equals=function(n){return this.x===n.x&&this.y===n.y&&this.time===n.time};function M3(n,e,t,r){this.startPoint=n,this.control1=e,this.control2=t,this.endPoint=r}M3.prototype.length=function(){for(var n=10,e=0,t=void 0,r=void 0,i=0;i<=n;i+=1){var s=i/n,o=this._point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this._point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var l=o-t,c=a-r;e+=Math.sqrt(l*l+c*c)}t=o,r=a}return e};M3.prototype._point=function(n,e,t,r,i){return e*(1-n)*(1-n)*(1-n)+3*t*(1-n)*(1-n)*n+3*r*(1-n)*n*n+i*n*n*n};function Eme(n,e,t){var r,i,s,o=null,a=0;t||(t={});var l=function(){a=t.leading===!1?0:Date.now(),o=null,s=n.apply(r,i),o||(r=i=null)};return function(){var c=Date.now();!a&&t.leading===!1&&(a=c);var u=e-(c-a);return r=this,i=arguments,u<=0||u>e?(o&&(clearTimeout(o),o=null),a=c,s=n.apply(r,i),o||(r=i=null)):!o&&t.trailing!==!1&&(o=setTimeout(l,u)),s}}function rr(n,e){var t=this,r=e||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=Eme(rr.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=rr.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=n,this._ctx=n.getContext("2d"),this.clear(),this._handleMouseDown=function(i){i.which===1&&(t._mouseButtonDown=!0,t._strokeBegin(i))},this._handleMouseMove=function(i){t._mouseButtonDown&&t._strokeMoveUpdate(i)},this._handleMouseUp=function(i){i.which===1&&t._mouseButtonDown&&(t._mouseButtonDown=!1,t._strokeEnd(i))},this._handleTouchStart=function(i){if(i.targetTouches.length===1){var s=i.changedTouches[0];t._strokeBegin(s)}},this._handleTouchMove=function(i){i.preventDefault();var s=i.targetTouches[0];t._strokeMoveUpdate(s)},this._handleTouchEnd=function(i){var s=i.target===t._canvas;s&&(i.preventDefault(),t._strokeEnd(i))},this.on()}rr.prototype.clear=function(){var n=this._ctx,e=this._canvas;n.fillStyle=this.backgroundColor,n.clearRect(0,0,e.width,e.height),n.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0};rr.prototype.fromDataURL=function(n){var e=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=new Image,i=t.ratio||window.devicePixelRatio||1,s=t.width||this._canvas.width/i,o=t.height||this._canvas.height/i;this._reset(),r.src=n,r.onload=function(){e._ctx.drawImage(r,0,0,s,o)},this._isEmpty=!1};rr.prototype.toDataURL=function(n){var e;switch(n){case"image/svg+xml":return this._toSVG();default:for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return(e=this._canvas).toDataURL.apply(e,[n].concat(r))}};rr.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};rr.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};rr.prototype.isEmpty=function(){return this._isEmpty};rr.prototype._strokeBegin=function(n){this._data.push([]),this._reset(),this._strokeUpdate(n),typeof this.onBegin=="function"&&this.onBegin(n)};rr.prototype._strokeUpdate=function(n){var e=n.clientX,t=n.clientY,r=this._createPoint(e,t),i=this._data[this._data.length-1],s=i&&i[i.length-1],o=s&&r.distanceTo(s)<this.minDistance;if(!(s&&o)){var a=this._addPoint(r),l=a.curve,c=a.widths;l&&c&&this._drawCurve(l,c.start,c.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}};rr.prototype._strokeEnd=function(n){var e=this.points.length>2,t=this.points[0];if(!e&&t&&this._drawDot(t),t){var r=this._data[this._data.length-1],i=r[r.length-1];t.equals(i)||r.push({x:t.x,y:t.y,time:t.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(n)};rr.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};rr.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};rr.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};rr.prototype._createPoint=function(n,e,t){var r=this._canvas.getBoundingClientRect();return new Jm(n-r.left,e-r.top,t||new Date().getTime())};rr.prototype._addPoint=function(n){var e=this.points,t=void 0;if(e.push(n),e.length>2){e.length===3&&e.unshift(e[0]),t=this._calculateCurveControlPoints(e[0],e[1],e[2]);var r=t.c2;t=this._calculateCurveControlPoints(e[1],e[2],e[3]);var i=t.c1,s=new M3(e[1],r,i,e[2]),o=this._calculateCurveWidths(s);return e.shift(),{curve:s,widths:o}}return{}};rr.prototype._calculateCurveControlPoints=function(n,e,t){var r=n.x-e.x,i=n.y-e.y,s=e.x-t.x,o=e.y-t.y,a={x:(n.x+e.x)/2,y:(n.y+e.y)/2},l={x:(e.x+t.x)/2,y:(e.y+t.y)/2},c=Math.sqrt(r*r+i*i),u=Math.sqrt(s*s+o*o),h=a.x-l.x,p=a.y-l.y,f=u/(c+u),b={x:l.x+h*f,y:l.y+p*f},y=e.x-b.x,_=e.y-b.y;return{c1:new Jm(a.x+y,a.y+_),c2:new Jm(l.x+y,l.y+_)}};rr.prototype._calculateCurveWidths=function(n){var e=n.startPoint,t=n.endPoint,r={start:null,end:null},i=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(i);return r.start=this._lastWidth,r.end=s,this._lastVelocity=i,this._lastWidth=s,r};rr.prototype._strokeWidth=function(n){return Math.max(this.maxWidth/(n+1),this.minWidth)};rr.prototype._drawPoint=function(n,e,t){var r=this._ctx;r.moveTo(n,e),r.arc(n,e,t,0,2*Math.PI,!1),this._isEmpty=!1};rr.prototype._drawCurve=function(n,e,t){var r=this._ctx,i=t-e,s=Math.floor(n.length());r.beginPath();for(var o=0;o<s;o+=1){var a=o/s,l=a*a,c=l*a,u=1-a,h=u*u,p=h*u,f=p*n.startPoint.x;f+=3*h*a*n.control1.x,f+=3*u*l*n.control2.x,f+=c*n.endPoint.x;var b=p*n.startPoint.y;b+=3*h*a*n.control1.y,b+=3*u*l*n.control2.y,b+=c*n.endPoint.y;var y=e+c*i;this._drawPoint(f,b,y)}r.closePath(),r.fill()};rr.prototype._drawDot=function(n){var e=this._ctx,t=typeof this.dotSize=="function"?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(n.x,n.y,t),e.closePath(),e.fill()};rr.prototype._fromData=function(n,e,t){for(var r=0;r<n.length;r+=1){var i=n[r];if(i.length>1)for(var s=0;s<i.length;s+=1){var o=i[s],a=new Jm(o.x,o.y,o.time),l=o.color;if(s===0)this.penColor=l,this._reset(),this._addPoint(a);else if(s!==i.length-1){var c=this._addPoint(a),u=c.curve,h=c.widths;u&&h&&e(u,h,l)}}else{this._reset();var p=i[0];t(p)}}};rr.prototype._toSVG=function(){var n=this,e=this._data,t=this._canvas,r=Math.max(window.devicePixelRatio||1,1),i=0,s=0,o=t.width/r,a=t.height/r,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttributeNS(null,"width",t.width),l.setAttributeNS(null,"height",t.height),this._fromData(e,function(w,A,E){var C=document.createElement("path");if(!isNaN(w.control1.x)&&!isNaN(w.control1.y)&&!isNaN(w.control2.x)&&!isNaN(w.control2.y)){var F="M "+w.startPoint.x.toFixed(3)+","+w.startPoint.y.toFixed(3)+" "+("C "+w.control1.x.toFixed(3)+","+w.control1.y.toFixed(3)+" ")+(w.control2.x.toFixed(3)+","+w.control2.y.toFixed(3)+" ")+(w.endPoint.x.toFixed(3)+","+w.endPoint.y.toFixed(3));C.setAttribute("d",F),C.setAttribute("stroke-width",(A.end*2.25).toFixed(3)),C.setAttribute("stroke",E),C.setAttribute("fill","none"),C.setAttribute("stroke-linecap","round"),l.appendChild(C)}},function(w){var A=document.createElement("circle"),E=typeof n.dotSize=="function"?n.dotSize():n.dotSize;A.setAttribute("r",E),A.setAttribute("cx",w.x),A.setAttribute("cy",w.y),A.setAttribute("fill",w.color),l.appendChild(A)});var c="data:image/svg+xml;base64,",u='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+i+" "+s+" "+o+" "+a+'"')+(' width="'+o+'"')+(' height="'+a+'"')+">",h=l.innerHTML;if(h===void 0){var p=document.createElement("dummy"),f=l.childNodes;p.innerHTML="";for(var b=0;b<f.length;b+=1)p.appendChild(f[b].cloneNode(!0));h=p.innerHTML}var y="</svg>",_=u+h+y;return c+btoa(_)};rr.prototype.fromData=function(n){var e=this;this.clear(),this._fromData(n,function(t,r){return e._drawCurve(t,r.start,r.end)},function(t){return e._drawDot(t)}),this._data=n};rr.prototype.toData=function(){return this._data};var AH={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(dY,function(){return function(t){function r(s){if(i[s])return i[s].exports;var o=i[s]={exports:{},id:s,loaded:!1};return t[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var i={};return r.m=t,r.c=i,r.p="",r(0)}([function(t,r){function i(c){var u=c.getContext("2d"),h=c.width,p=c.height,f=u.getImageData(0,0,h,p).data,b=a(!0,h,p,f),y=a(!1,h,p,f),_=l(!0,h,p,f),w=l(!1,h,p,f),A=w-_+1,E=y-b+1,C=u.getImageData(_,b,A,E);return c.width=A,c.height=E,u.clearRect(0,0,A,E),u.putImageData(C,0,0),c}function s(c,u,h,p){return{red:p[4*(h*u+c)],green:p[4*(h*u+c)+1],blue:p[4*(h*u+c)+2],alpha:p[4*(h*u+c)+3]}}function o(c,u,h,p){return s(c,u,h,p).alpha}function a(c,u,h,p){for(var f=c?1:-1,b=c?0:h-1,y=b;c?y<h:y>-1;y+=f)for(var _=0;_<u;_++)if(o(_,y,u,p))return y;return null}function l(c,u,h,p){for(var f=c?1:-1,b=c?0:u-1,y=b;c?y<u:y>-1;y+=f)for(var _=0;_<h;_++)if(o(y,_,u,p))return y;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i}])})})(AH);var Sme=AH.exports;const Cme=v1(Sme);var Nme=["canvasProps","clearOnResize"],FS=function(n){mme(t,n);var e=yme(t);function t(){var r;pme(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r.staticThis=r.constructor,r._sigPad=null,r._canvas=null,r.setRef=function(a){r._canvas=a,r._canvas===null&&(r._sigPad=null)},r._excludeOurProps=function(){var a=r.props;a.canvasProps,a.clearOnResize;var l=hme(a,Nme);return l},r.componentDidMount=function(){var a=r.getCanvas();r._sigPad=new rr(a,r._excludeOurProps()),r._resizeCanvas(),r.on()},r.componentWillUnmount=function(){r.off()},r.componentDidUpdate=function(){Object.assign(r._sigPad,r._excludeOurProps())},r.getCanvas=function(){if(r._canvas===null)throw r.staticThis.refNullError;return r._canvas},r.getTrimmedCanvas=function(){var a=r.getCanvas(),l=document.createElement("canvas");return l.width=a.width,l.height=a.height,l.getContext("2d").drawImage(a,0,0),Cme(l)},r.getSignaturePad=function(){if(r._sigPad===null)throw r.staticThis.refNullError;return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var a,l,c=(a=r.props.canvasProps)!==null&&a!==void 0?a:{},u=c.width,h=c.height;if(!(typeof u<"u"&&typeof h<"u")){var p=r.getCanvas(),f=Math.max((l=window.devicePixelRatio)!==null&&l!==void 0?l:1,1);typeof u>"u"&&(p.width=p.offsetWidth*f),typeof h>"u"&&(p.height=p.offsetHeight*f),p.getContext("2d").scale(f,f),r.clear()}},r.render=function(){var a=r.props.canvasProps;return Ke.createElement("canvas",Jk({ref:r.setRef},a))},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r.getSignaturePad().on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r.getSignaturePad().off()},r.clear=function(){return r.getSignaturePad().clear()},r.isEmpty=function(){return r.getSignaturePad().isEmpty()},r.fromDataURL=function(a,l){return r.getSignaturePad().fromDataURL(a,l)},r.toDataURL=function(a,l){return r.getSignaturePad().toDataURL(a,l)},r.fromData=function(a){return r.getSignaturePad().fromData(a)},r.toData=function(){return r.getSignaturePad().toData()},r}return fme(t)}(D.Component);FS.propTypes={velocityFilterWeight:Wo.number,minWidth:Wo.number,maxWidth:Wo.number,minDistance:Wo.number,dotSize:Wo.oneOfType([Wo.number,Wo.func]),penColor:Wo.string,throttle:Wo.number,onEnd:Wo.func,onBegin:Wo.func,canvasProps:Wo.object,clearOnResize:Wo.bool};FS.defaultProps={clearOnResize:!0};FS.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");var qj=!1,vp,eI,tI,g5,v5,EH,y5,nI,rI,iI,SH,sI,oI,CH,NH;function ho(){if(!qj){qj=!0;var n=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(n),t=/(Mac OS X)|(Windows)|(Linux)/.exec(n);if(sI=/\b(iPhone|iP[ao]d)/.exec(n),oI=/\b(iP[ao]d)/.exec(n),iI=/Android/i.exec(n),CH=/FBAN\/\w+;/i.exec(n),NH=/Mobile/i.exec(n),SH=!!/Win64/.exec(n),e){vp=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,vp&&document&&document.documentMode&&(vp=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(n);EH=r?parseFloat(r[1])+4:vp,eI=e[2]?parseFloat(e[2]):NaN,tI=e[3]?parseFloat(e[3]):NaN,g5=e[4]?parseFloat(e[4]):NaN,g5?(e=/(?:Chrome\/(\d+\.\d+))/.exec(n),v5=e&&e[1]?parseFloat(e[1]):NaN):v5=NaN}else vp=eI=tI=v5=g5=NaN;if(t){if(t[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(n);y5=i?parseFloat(i[1].replace("_",".")):!0}else y5=!1;nI=!!t[2],rI=!!t[3]}else y5=nI=rI=!1}}var aI={ie:function(){return ho()||vp},ieCompatibilityMode:function(){return ho()||EH>vp},ie64:function(){return aI.ie()&&SH},firefox:function(){return ho()||eI},opera:function(){return ho()||tI},webkit:function(){return ho()||g5},safari:function(){return aI.webkit()},chrome:function(){return ho()||v5},windows:function(){return ho()||nI},osx:function(){return ho()||y5},linux:function(){return ho()||rI},iphone:function(){return ho()||sI},mobile:function(){return ho()||sI||oI||iI||NH},nativeApp:function(){return ho()||CH},android:function(){return ho()||iI},ipad:function(){return ho()||oI}},Tme=aI,__=!!(typeof window<"u"&&window.document&&window.document.createElement),kme={canUseDOM:__,canUseWorkers:typeof Worker<"u",canUseEventListeners:__&&!!(window.addEventListener||window.attachEvent),canUseViewport:__&&!!window.screen,isInWorker:!__},Ime=kme,TH=Ime,kH;TH.canUseDOM&&(kH=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Pme(n,e){if(!TH.canUseDOM||e&&!("addEventListener"in document))return!1;var t="on"+n,r=t in document;if(!r){var i=document.createElement("div");i.setAttribute(t,"return;"),r=typeof i[t]=="function"}return!r&&kH&&n==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Rme=Pme,Lme=Tme,Dme=Rme,Wj=10,Gj=40,Kj=800;function IH(n){var e=0,t=0,r=0,i=0;return"detail"in n&&(t=n.detail),"wheelDelta"in n&&(t=-n.wheelDelta/120),"wheelDeltaY"in n&&(t=-n.wheelDeltaY/120),"wheelDeltaX"in n&&(e=-n.wheelDeltaX/120),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(e=t,t=0),r=e*Wj,i=t*Wj,"deltaY"in n&&(i=n.deltaY),"deltaX"in n&&(r=n.deltaX),(r||i)&&n.deltaMode&&(n.deltaMode==1?(r*=Gj,i*=Gj):(r*=Kj,i*=Kj)),r&&!e&&(e=r<1?-1:1),i&&!t&&(t=i<1?-1:1),{spinX:e,spinY:t,pixelX:r,pixelY:i}}IH.getEventType=function(){return Lme.firefox()?"DOMMouseScroll":Dme("wheel")?"wheel":"mousewheel"};var Mme=IH,jme=Mme;const Ome=v1(jme);function Fme(n,e,t,r,i,s){s===void 0&&(s=0);var o=l1(n,e,s),a=o.width,l=o.height,c=Math.min(a,t),u=Math.min(l,r);return c>u*i?{width:u*i,height:u}:{width:c,height:c/i}}function Bme(n){return n.width>n.height?n.width/n.naturalWidth:n.height/n.naturalHeight}function gy(n,e,t,r,i){i===void 0&&(i=0);var s=l1(e.width,e.height,i),o=s.width,a=s.height;return{x:Yj(n.x,o,t.width,r),y:Yj(n.y,a,t.height,r)}}function Yj(n,e,t,r){var i=e*r/2-t/2;return BS(n,-i,i)}function Xj(n,e){return Math.sqrt(Math.pow(n.y-e.y,2)+Math.pow(n.x-e.x,2))}function Qj(n,e){return Math.atan2(e.y-n.y,e.x-n.x)*180/Math.PI}function Ume(n,e,t,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?Vme:zme,l=l1(e.width,e.height,s),c=l1(e.naturalWidth,e.naturalHeight,s),u={x:a(100,((l.width-t.width/i)/2-n.x/i)/l.width*100),y:a(100,((l.height-t.height/i)/2-n.y/i)/l.height*100),width:a(100,t.width/l.width*100/i),height:a(100,t.height/l.height*100/i)},h=Math.round(a(c.width,u.width*c.width/100)),p=Math.round(a(c.height,u.height*c.height/100)),f=c.width>=c.height*r,b=f?{width:Math.round(p*r),height:p}:{width:h,height:Math.round(h/r)},y=ar(ar({},b),{x:Math.round(a(c.width-b.width,u.x*c.width/100)),y:Math.round(a(c.height-b.height,u.y*c.height/100))});return{croppedAreaPercentages:u,croppedAreaPixels:y}}function Vme(n,e){return Math.min(n,Math.max(0,e))}function zme(n,e){return e}function $me(n,e,t,r,i,s){var o=l1(e.width,e.height,t),a=BS(r.width/o.width*(100/n.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(n.x/100),y:a*o.height/2-r.height/2-o.height*a*(n.y/100)};return{crop:l,zoom:a}}function Hme(n,e,t){var r=Bme(e);return t.height>t.width?t.height/(n.height*r):t.width/(n.width*r)}function qme(n,e,t,r,i,s){t===void 0&&(t=0);var o=l1(e.naturalWidth,e.naturalHeight,t),a=BS(Hme(n,e,r),i,s),l=r.height>r.width?r.height/n.height:r.width/n.width,c={x:((o.width-n.width)/2-n.x)*l,y:((o.height-n.height)/2-n.y)*l};return{crop:c,zoom:a}}function Jj(n,e){return{x:(e.x+n.x)/2,y:(e.y+n.y)/2}}function Wme(n){return n*Math.PI/180}function l1(n,e,t){var r=Wme(t);return{width:Math.abs(Math.cos(r)*n)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*n)+Math.abs(Math.cos(r)*e)}}function BS(n,e,t){return Math.min(Math.max(n,e),t)}function A_(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.filter(function(t){return typeof t=="string"&&t.length>0}).join(" ").trim()}var Gme=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Kme=1,Yme=3,Xme=1,Qme=function(n){fie(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.cropperRef=D.createRef(),t.imageRef=D.createRef(),t.videoRef=D.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc=typeof document<"u"?document:null,t.currentWindow=typeof window<"u"?window:null,t.resizeObserver=null,t.previousCropSize=null,t.isInitialized=!1,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!t.containerRef)){var r=!0;t.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(r){return r.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturechange",t.onGestureChange),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var r=t.computeSizes();r&&(t.previousCropSize=r,t.emitCropData(),t.setInitialCrop(r),t.isInitialized=!0),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(r){if(t.props.initialCroppedAreaPercentages){var i=$me(t.props.initialCroppedAreaPercentages,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),s=i.crop,o=i.zoom;t.props.onCropChange(s),t.props.onZoomChange&&t.props.onZoomChange(o)}else if(t.props.initialCroppedAreaPixels){var a=qme(t.props.initialCroppedAreaPixels,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),s=a.crop,o=a.zoom;t.props.onCropChange(s),t.props.onZoomChange&&t.props.onZoomChange(o)}},t.computeSizes=function(){var r,i,s,o,a,l,c=t.imageRef.current||t.videoRef.current;if(c&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var u=t.containerRect.width/t.containerRect.height,h=((r=t.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=t.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,p=((s=t.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=t.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,f=c.offsetWidth<h||c.offsetHeight<p,b=h/p,y=void 0;if(f)switch(t.state.mediaObjectFit){default:case"contain":y=u>b?{width:t.containerRect.height*b,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/b};break;case"horizontal-cover":y={width:t.containerRect.width,height:t.containerRect.width/b};break;case"vertical-cover":y={width:t.containerRect.height*b,height:t.containerRect.height};break}else y={width:c.offsetWidth,height:c.offsetHeight};t.mediaSize=ar(ar({},y),{naturalWidth:h,naturalHeight:p}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var _=t.props.cropSize?t.props.cropSize:Fme(t.mediaSize.width,t.mediaSize.height,t.containerRect.width,t.containerRect.height,t.props.aspect,t.props.rotation);return(((a=t.state.cropSize)===null||a===void 0?void 0:a.height)!==_.height||((l=t.state.cropSize)===null||l===void 0?void 0:l.width)!==_.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(_),t.setState({cropSize:_},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(_),_}},t.saveContainerPosition=function(){if(t.containerRef){var r=t.containerRef.getBoundingClientRect();t.containerPosition={x:r.left,y:r.top}}},t.onMouseDown=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(e.getMousePoint(r)))},t.onMouseMove=function(r){return t.onDrag(e.getMousePoint(r))},t.onScroll=function(r){t.currentDoc&&(r.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(r){t.currentDoc&&(t.isTouching=!0,!(t.props.onTouchRequest&&!t.props.onTouchRequest(r))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),r.touches.length===2?t.onPinchStart(r):r.touches.length===1&&t.onDragStart(e.getTouchPoint(r.touches[0]))))},t.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?t.onPinchMove(r):r.touches.length===1&&t.onDrag(e.getTouchPoint(r.touches[0]))},t.onGestureStart=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureChange),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureChange=function(r){if(r.preventDefault(),!t.isTouching){var i=e.getMousePoint(r),s=t.gestureZoomStart-1+r.scale;if(t.setNewZoom(s,i,{shouldUpdatePosition:!0}),t.props.onRotationChange){var o=t.gestureRotationStart+r.rotation;t.props.onRotationChange(o)}}},t.onGestureEnd=function(r){t.cleanEvents()},t.onDragStart=function(r){var i,s,o=r.x,a=r.y;t.dragStartPosition={x:o,y:a},t.dragStartCrop=ar({},t.props.crop),(s=(i=t.props).onInteractionStart)===null||s===void 0||s.call(i)},t.onDrag=function(r){var i=r.x,s=r.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&!(i===void 0||s===void 0)){var o=i-t.dragStartPosition.x,a=s-t.dragStartPosition.y,l={x:t.dragStartCrop.x+o,y:t.dragStartCrop.y+a},c=t.props.restrictPosition?gy(l,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):l;t.props.onCropChange(c)}}))},t.onDragStopped=function(){var r,i;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),(i=(r=t.props).onInteractionEnd)===null||i===void 0||i.call(r)},t.onWheel=function(r){if(t.currentWindow&&!(t.props.onWheelRequest&&!t.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=Ome(r).pixelY,o=t.props.zoom-s*t.props.zoomSpeed/200;t.setNewZoom(o,i,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=t.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=t.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},t.getPointOnContainer=function(r,i){var s=r.x,o=r.y;if(!t.containerRect)throw new Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(s-i.x),y:t.containerRect.height/2-(o-i.y)}},t.getPointOnMedia=function(r){var i=r.x,s=r.y,o=t.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},t.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!t.state.cropSize||!t.props.onZoomChange)){var c=BS(r,t.props.minZoom,t.props.maxZoom);if(l){var u=t.getPointOnContainer(i,t.containerPosition),h=t.getPointOnMedia(u),p={x:h.x*c-u.x,y:h.y*c-u.y},f=t.props.restrictPosition?gy(p,t.mediaSize,t.state.cropSize,c,t.props.rotation):p;t.props.onCropChange(f)}t.props.onZoomChange(c)}},t.getCropData=function(){if(!t.state.cropSize)return null;var r=t.props.restrictPosition?gy(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;return Ume(r,t.mediaSize,t.state.cropSize,t.getAspect(),t.props.zoom,t.props.rotation,t.props.restrictPosition)},t.emitCropData=function(){var r=t.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(i,s),t.props.onCropAreaChange&&t.props.onCropAreaChange(i,s)}},t.emitCropAreaChange=function(){var r=t.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(i,s)}},t.recomputeCropPosition=function(){var r,i;if(t.state.cropSize){var s=t.props.crop;if(t.isInitialized&&(!((r=t.previousCropSize)===null||r===void 0)&&r.width)&&(!((i=t.previousCropSize)===null||i===void 0)&&i.height)){var o=Math.abs(t.previousCropSize.width-t.state.cropSize.width)>1e-6||Math.abs(t.previousCropSize.height-t.state.cropSize.height)>1e-6;if(o){var a=t.state.cropSize.width/t.previousCropSize.width,l=t.state.cropSize.height/t.previousCropSize.height;s={x:t.props.crop.x*a,y:t.props.crop.y*l}}}var c=t.props.restrictPosition?gy(s,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):s;t.previousCropSize=t.state.cropSize,t.props.onCropChange(c),t.emitCropData()}},t.onKeyDown=function(r){var i,s,o=t.props,a=o.crop,l=o.onCropChange,c=o.keyboardStep,u=o.zoom,h=o.rotation,p=c;if(t.state.cropSize){r.shiftKey&&(p*=.2);var f=ar({},a);switch(r.key){case"ArrowUp":f.y-=p,r.preventDefault();break;case"ArrowDown":f.y+=p,r.preventDefault();break;case"ArrowLeft":f.x-=p,r.preventDefault();break;case"ArrowRight":f.x+=p,r.preventDefault();break;default:return}t.props.restrictPosition&&(f=gy(f,t.mediaSize,t.state.cropSize,u,h)),r.repeat||(s=(i=t.props).onInteractionStart)===null||s===void 0||s.call(i),l(f)}},t.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}t.emitCropData(),(s=(i=t.props).onInteractionEnd)===null||s===void 0||s.call(i)},t}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Gme,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var t,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(t){var r,i,s,o,a,l,c,u,h;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect?this.computeSizes():t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():((r=t.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=t.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=t.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=t.crop)===null||c===void 0?void 0:c.y)!==((u=this.props.crop)===null||u===void 0?void 0:u.y))&&this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var p=this.getObjectFit();p!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:p},this.computeSizes)},e.prototype.getAspect=function(){var t=this.props,r=t.cropSize,i=t.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var t,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,u=l/c;return u<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(t){var r=e.getTouchPoint(t.touches[0]),i=e.getTouchPoint(t.touches[1]);this.lastPinchDistance=Xj(r,i),this.lastPinchRotation=Qj(r,i),this.onDragStart(Jj(r,i))},e.prototype.onPinchMove=function(t){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(t.touches[0]),s=e.getTouchPoint(t.touches[1]),o=Jj(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=Xj(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var c=Qj(i,s),u=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(u),r.lastPinchRotation=c})}},e.prototype.render=function(){var t=this,r,i=this.props,s=i.image,o=i.video,a=i.mediaProps,l=i.cropperProps,c=i.transform,u=i.crop,h=u.x,p=u.y,f=i.rotation,b=i.zoom,y=i.cropShape,_=i.showGrid,w=i.roundCropAreaPixels,A=i.style,E=A.containerStyle,C=A.cropAreaStyle,F=A.mediaStyle,V=i.classes,L=V.containerClassName,N=V.cropAreaClassName,I=V.mediaClassName,j=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return D.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(M){return t.containerRef=M},"data-testid":"container",style:E,className:A_("reactEasyCrop_Container",L)},s?D.createElement("img",ar({alt:"",className:A_("reactEasyCrop_Image",j==="contain"&&"reactEasyCrop_Contain",j==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",j==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},a,{src:s,ref:this.imageRef,style:ar(ar({},F),{transform:c||"translate(".concat(h,"px, ").concat(p,"px) rotate(").concat(f,"deg) scale(").concat(b,")")}),onLoad:this.onMediaLoad})):o&&D.createElement("video",ar({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:A_("reactEasyCrop_Video",j==="contain"&&"reactEasyCrop_Contain",j==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",j==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ar(ar({},F),{transform:c||"translate(".concat(h,"px, ").concat(p,"px) rotate(").concat(f,"deg) scale(").concat(b,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(k){return D.createElement("source",ar({key:k.src},k))})),this.state.cropSize&&D.createElement("div",ar({ref:this.cropperRef,style:ar(ar({},C),{width:w?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:w?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:A_("reactEasyCrop_CropArea",y==="round"&&"reactEasyCrop_CropAreaRound",_&&"reactEasyCrop_CropAreaGrid",N)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Yme,minZoom:Kme,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Xme},e.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e}(D.Component),Kl=Uint8Array,da=Uint16Array,j3=Int32Array,O3=new Kl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),F3=new Kl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Zj=new Kl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),PH=function(n,e){for(var t=new da(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new j3(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},RH=PH(O3,2),Jme=RH.b,lI=RH.r;Jme[28]=258,lI[258]=28;var Zme=PH(F3,0),eO=Zme.r,cI=new da(32768);for(var fr=0;fr<32768;++fr){var ah=(fr&43690)>>1|(fr&21845)<<1;ah=(ah&52428)>>2|(ah&13107)<<2,ah=(ah&61680)>>4|(ah&3855)<<4,cI[fr]=((ah&65280)>>8|(ah&255)<<8)>>1}var gw=function(n,e,t){for(var r=n.length,i=0,s=new da(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new da(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new da(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],h=o[n[i]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)a[cI[h]>>l]=c}else for(a=new da(r),i=0;i<r;++i)n[i]&&(a[i]=cI[o[n[i]-1]++]>>15-n[i]);return a},Zm=new Kl(288);for(var fr=0;fr<144;++fr)Zm[fr]=8;for(var fr=144;fr<256;++fr)Zm[fr]=9;for(var fr=256;fr<280;++fr)Zm[fr]=7;for(var fr=280;fr<288;++fr)Zm[fr]=8;var rE=new Kl(32);for(var fr=0;fr<32;++fr)rE[fr]=5;var ege=gw(Zm,9,0),tge=gw(rE,5,0),LH=function(n){return(n+7)/8|0},nge=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Kl(n.subarray(e,t))},_u=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},vy=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},CN=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:MH,l:0};if(i==1){var o=new Kl(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(F,V){return F.f-V.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[h].f?c++:h++],l=t[c!=u&&t[c].f<t[h].f?c++:h++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var f=new da(p+1),b=uI(t[u-1],f,0);if(b>e){var r=0,y=0,_=b-e,w=1<<_;for(s.sort(function(V,L){return f[L.s]-f[V.s]||V.f-L.f});r<i;++r){var A=s[r].s;if(f[A]>e)y+=w-(1<<b-f[A]),f[A]=e;else break}for(y>>=_;y>0;){var E=s[r].s;f[E]<e?y-=1<<e-f[E]++-1:++r}for(;r>=0&&y;--r){var C=s[r].s;f[C]==e&&(--f[C],++y)}b=e}return{t:new Kl(f),l:b}},uI=function(n,e,t){return n.s==-1?Math.max(uI(n.l,e,t+1),uI(n.r,e,t+1)):e[n.s]=t},tO=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new da(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},yy=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},DH=function(n,e,t){var r=t.length,i=LH(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},nO=function(n,e,t,r,i,s,o,a,l,c,u){_u(e,u++,t),++i[256];for(var h=CN(i,15),p=h.t,f=h.l,b=CN(s,15),y=b.t,_=b.l,w=tO(p),A=w.c,E=w.n,C=tO(y),F=C.c,V=C.n,L=new da(19),N=0;N<A.length;++N)++L[A[N]&31];for(var N=0;N<F.length;++N)++L[F[N]&31];for(var I=CN(L,7),j=I.t,k=I.l,M=19;M>4&&!j[Zj[M-1]];--M);var R=c+5<<3,q=yy(i,Zm)+yy(s,rE)+o,ce=yy(i,p)+yy(s,y)+o+14+3*M+yy(L,j)+2*L[16]+3*L[17]+7*L[18];if(l>=0&&R<=q&&R<=ce)return DH(e,u,n.subarray(l,l+c));var de,ae,Q,ne;if(_u(e,u,1+(ce<q)),u+=2,ce<q){de=gw(p,f,0),ae=p,Q=gw(y,_,0),ne=y;var ge=gw(j,k,0);_u(e,u,E-257),_u(e,u+5,V-1),_u(e,u+10,M-4),u+=14;for(var N=0;N<M;++N)_u(e,u+3*N,j[Zj[N]]);u+=3*M;for(var pe=[A,F],U=0;U<2;++U)for(var X=pe[U],N=0;N<X.length;++N){var re=X[N]&31;_u(e,u,ge[re]),u+=j[re],re>15&&(_u(e,u,X[N]>>5&127),u+=X[N]>>12)}}else de=ege,ae=Zm,Q=tge,ne=rE;for(var N=0;N<a;++N){var le=r[N];if(le>255){var re=le>>18&31;vy(e,u,de[re+257]),u+=ae[re+257],re>7&&(_u(e,u,le>>23&31),u+=O3[re]);var he=le&31;vy(e,u,Q[he]),u+=ne[he],he>3&&(vy(e,u,le>>5&8191),u+=F3[he])}else vy(e,u,de[le]),u+=ae[le]}return vy(e,u,de[256]),u+ae[256]},rge=new j3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),MH=new Kl(0),ige=function(n,e,t,r,i,s){var o=s.z||n.length,a=new Kl(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var h=rge[e-1],p=h>>13,f=h&8191,b=(1<<t)-1,y=s.p||new da(32768),_=s.h||new da(b+1),w=Math.ceil(t/3),A=2*w,E=function(Le){return(n[Le]^n[Le+1]<<w^n[Le+2]<<A)&b},C=new j3(25e3),F=new da(288),V=new da(32),L=0,N=0,I=s.i||0,j=0,k=s.w||0,M=0;I+2<o;++I){var R=E(I),q=I&32767,ce=_[R];if(y[q]=ce,_[R]=q,k<=I){var de=o-I;if((L>7e3||j>24576)&&(de>423||!c)){u=nO(n,l,0,C,F,V,N,j,M,I-M,u),j=L=N=0,M=I;for(var ae=0;ae<286;++ae)F[ae]=0;for(var ae=0;ae<30;++ae)V[ae]=0}var Q=2,ne=0,ge=f,pe=q-ce&32767;if(de>2&&R==E(I-pe))for(var U=Math.min(p,de)-1,X=Math.min(32767,I),re=Math.min(258,de);pe<=X&&--ge&&q!=ce;){if(n[I+Q]==n[I+Q-pe]){for(var le=0;le<re&&n[I+le]==n[I+le-pe];++le);if(le>Q){if(Q=le,ne=pe,le>U)break;for(var he=Math.min(pe,le-2),ue=0,ae=0;ae<he;++ae){var _e=I-pe+ae&32767,xe=y[_e],Ae=_e-xe&32767;Ae>ue&&(ue=Ae,ce=_e)}}}q=ce,ce=y[q],pe+=q-ce&32767}if(ne){C[j++]=268435456|lI[Q]<<18|eO[ne];var je=lI[Q]&31,Se=eO[ne]&31;N+=O3[je]+F3[Se],++F[257+je],++V[Se],k=I+Q,++L}else C[j++]=n[I],++F[n[I]]}}for(I=Math.max(I,k);I<o;++I)C[j++]=n[I],++F[n[I]];u=nO(n,l,c,C,F,V,N,j,M,I-M,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=_,s.p=y,s.i=I,s.w=k)}else{for(var I=s.w||0;I<o+c;I+=65535){var Te=I+65535;Te>=o&&(l[u/8|0]=c,Te=o),u=DH(l,u+1,n.subarray(I,Te))}s.i=o}return nge(a,0,r+LH(u)+i)},jH=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},sge=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Kl(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return ige(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},OH=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},oge=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=jH();i.p(e.dictionary),OH(n,2,i.d())}};function dI(n,e){e||(e={});var t=jH();t.p(n);var r=sge(n,e,e.dictionary?6:2,4);return oge(r,e),OH(r,r.length-4,t.d()),r}var age=typeof TextDecoder<"u"&&new TextDecoder,lge=0;try{age.decode(MH,{stream:!0}),lge=1}catch{}function cge(n){if(Array.isArray(n))return n}function uge(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function rO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function dge(n,e){if(n){if(typeof n=="string")return rO(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?rO(n,e):void 0}}function hge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iO(n,e){return cge(n)||uge(n,e)||dge(n,e)||hge()}function sO(n,e="utf8"){return new TextDecoder(e).decode(n)}const fge=new TextEncoder;function pge(n){return fge.encode(n)}const mge=1024*8,gge=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),NN={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class B3{constructor(e=mge,t={}){rt(this,"buffer");rt(this,"byteLength");rt(this,"byteOffset");rt(this,"length");rt(this,"offset");rt(this,"lastWrittenByte");rt(this,"littleEndian");rt(this,"_data");rt(this,"_mark");rt(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof B3)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=NN[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===gge&&t!=="uint8"&&t!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new NN[t](a.buffer);return this.offset+=r,l.reverse(),l}const o=new NN[t](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return sO(this.readBytes(e))}decodeText(e=1,t="utf8"){return sO(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(pge(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const vge=4,oO=0,aO=1,yge=2;function M1(n){let e=n.length;for(;--e>=0;)n[e]=0}const wge=0,FH=1,bge=2,xge=3,_ge=258,U3=29,gx=256,fb=gx+1+U3,k0=30,V3=19,BH=2*fb+1,Np=15,TN=16,Age=7,z3=256,UH=16,VH=17,zH=18,hI=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),w5=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ege=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),$H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Sge=512,Ru=new Array((fb+2)*2);M1(Ru);const vw=new Array(k0*2);M1(vw);const pb=new Array(Sge);M1(pb);const mb=new Array(_ge-xge+1);M1(mb);const $3=new Array(U3);M1($3);const iE=new Array(k0);M1(iE);function kN(n,e,t,r,i){this.static_tree=n,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=n&&n.length}let HH,qH,WH;function IN(n,e){this.dyn_tree=n,this.max_code=0,this.stat_desc=e}const GH=n=>n<256?pb[n]:pb[256+(n>>>7)],gb=(n,e)=>{n.pending_buf[n.pending++]=e&255,n.pending_buf[n.pending++]=e>>>8&255},Eo=(n,e,t)=>{n.bi_valid>TN-t?(n.bi_buf|=e<<n.bi_valid&65535,gb(n,n.bi_buf),n.bi_buf=e>>TN-n.bi_valid,n.bi_valid+=t-TN):(n.bi_buf|=e<<n.bi_valid&65535,n.bi_valid+=t)},Bc=(n,e,t)=>{Eo(n,t[e*2],t[e*2+1])},KH=(n,e)=>{let t=0;do t|=n&1,n>>>=1,t<<=1;while(--e>0);return t>>>1},Cge=n=>{n.bi_valid===16?(gb(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},Nge=(n,e)=>{const t=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,u,h,p,f,b,y=0;for(p=0;p<=Np;p++)n.bl_count[p]=0;for(t[n.heap[n.heap_max]*2+1]=0,c=n.heap_max+1;c<BH;c++)u=n.heap[c],p=t[t[u*2+1]*2+1]+1,p>l&&(p=l,y++),t[u*2+1]=p,!(u>r)&&(n.bl_count[p]++,f=0,u>=a&&(f=o[u-a]),b=t[u*2],n.opt_len+=b*(p+f),s&&(n.static_len+=b*(i[u*2+1]+f)));if(y!==0){do{for(p=l-1;n.bl_count[p]===0;)p--;n.bl_count[p]--,n.bl_count[p+1]+=2,n.bl_count[l]--,y-=2}while(y>0);for(p=l;p!==0;p--)for(u=n.bl_count[p];u!==0;)h=n.heap[--c],!(h>r)&&(t[h*2+1]!==p&&(n.opt_len+=(p-t[h*2+1])*t[h*2],t[h*2+1]=p),u--)}},YH=(n,e,t)=>{const r=new Array(Np+1);let i=0,s,o;for(s=1;s<=Np;s++)i=i+t[s-1]<<1,r[s]=i;for(o=0;o<=e;o++){let a=n[o*2+1];a!==0&&(n[o*2]=KH(r[a]++,a))}},Tge=()=>{let n,e,t,r,i;const s=new Array(Np+1);for(t=0,r=0;r<U3-1;r++)for($3[r]=t,n=0;n<1<<hI[r];n++)mb[t++]=r;for(mb[t-1]=r,i=0,r=0;r<16;r++)for(iE[r]=i,n=0;n<1<<w5[r];n++)pb[i++]=r;for(i>>=7;r<k0;r++)for(iE[r]=i<<7,n=0;n<1<<w5[r]-7;n++)pb[256+i++]=r;for(e=0;e<=Np;e++)s[e]=0;for(n=0;n<=143;)Ru[n*2+1]=8,n++,s[8]++;for(;n<=255;)Ru[n*2+1]=9,n++,s[9]++;for(;n<=279;)Ru[n*2+1]=7,n++,s[7]++;for(;n<=287;)Ru[n*2+1]=8,n++,s[8]++;for(YH(Ru,fb+1,s),n=0;n<k0;n++)vw[n*2+1]=5,vw[n*2]=KH(n,5);HH=new kN(Ru,hI,gx+1,fb,Np),qH=new kN(vw,w5,0,k0,Np),WH=new kN(new Array(0),Ege,0,V3,Age)},XH=n=>{let e;for(e=0;e<fb;e++)n.dyn_ltree[e*2]=0;for(e=0;e<k0;e++)n.dyn_dtree[e*2]=0;for(e=0;e<V3;e++)n.bl_tree[e*2]=0;n.dyn_ltree[z3*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},QH=n=>{n.bi_valid>8?gb(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},lO=(n,e,t,r)=>{const i=e*2,s=t*2;return n[i]<n[s]||n[i]===n[s]&&r[e]<=r[t]},PN=(n,e,t)=>{const r=n.heap[t];let i=t<<1;for(;i<=n.heap_len&&(i<n.heap_len&&lO(e,n.heap[i+1],n.heap[i],n.depth)&&i++,!lO(e,r,n.heap[i],n.depth));)n.heap[t]=n.heap[i],t=i,i<<=1;n.heap[t]=r},cO=(n,e,t)=>{let r,i,s=0,o,a;if(n.sym_next!==0)do r=n.pending_buf[n.sym_buf+s++]&255,r+=(n.pending_buf[n.sym_buf+s++]&255)<<8,i=n.pending_buf[n.sym_buf+s++],r===0?Bc(n,i,e):(o=mb[i],Bc(n,o+gx+1,e),a=hI[o],a!==0&&(i-=$3[o],Eo(n,i,a)),r--,o=GH(r),Bc(n,o,t),a=w5[o],a!==0&&(r-=iE[o],Eo(n,r,a)));while(s<n.sym_next);Bc(n,z3,e)},fI=(n,e)=>{const t=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,l=-1,c;for(n.heap_len=0,n.heap_max=BH,o=0;o<s;o++)t[o*2]!==0?(n.heap[++n.heap_len]=l=o,n.depth[o]=0):t[o*2+1]=0;for(;n.heap_len<2;)c=n.heap[++n.heap_len]=l<2?++l:0,t[c*2]=1,n.depth[c]=0,n.opt_len--,i&&(n.static_len-=r[c*2+1]);for(e.max_code=l,o=n.heap_len>>1;o>=1;o--)PN(n,t,o);c=s;do o=n.heap[1],n.heap[1]=n.heap[n.heap_len--],PN(n,t,1),a=n.heap[1],n.heap[--n.heap_max]=o,n.heap[--n.heap_max]=a,t[c*2]=t[o*2]+t[a*2],n.depth[c]=(n.depth[o]>=n.depth[a]?n.depth[o]:n.depth[a])+1,t[o*2+1]=t[a*2+1]=c,n.heap[1]=c++,PN(n,t,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],Nge(n,e),YH(t,l,n.bl_count)},uO=(n,e,t)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),e[(t+1)*2+1]=65535,r=0;r<=t;r++)s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)&&(a<c?n.bl_tree[s*2]+=a:s!==0?(s!==i&&n.bl_tree[s*2]++,n.bl_tree[UH*2]++):a<=10?n.bl_tree[VH*2]++:n.bl_tree[zH*2]++,a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))},dO=(n,e,t)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),r=0;r<=t;r++)if(s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)){if(a<c)do Bc(n,s,n.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Bc(n,s,n.bl_tree),a--),Bc(n,UH,n.bl_tree),Eo(n,a-3,2)):a<=10?(Bc(n,VH,n.bl_tree),Eo(n,a-3,3)):(Bc(n,zH,n.bl_tree),Eo(n,a-11,7));a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}},kge=n=>{let e;for(uO(n,n.dyn_ltree,n.l_desc.max_code),uO(n,n.dyn_dtree,n.d_desc.max_code),fI(n,n.bl_desc),e=V3-1;e>=3&&n.bl_tree[$H[e]*2+1]===0;e--);return n.opt_len+=3*(e+1)+5+5+4,e},Ige=(n,e,t,r)=>{let i;for(Eo(n,e-257,5),Eo(n,t-1,5),Eo(n,r-4,4),i=0;i<r;i++)Eo(n,n.bl_tree[$H[i]*2+1],3);dO(n,n.dyn_ltree,e-1),dO(n,n.dyn_dtree,t-1)},Pge=n=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&n.dyn_ltree[t*2]!==0)return oO;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return aO;for(t=32;t<gx;t++)if(n.dyn_ltree[t*2]!==0)return aO;return oO};let hO=!1;const Rge=n=>{hO||(Tge(),hO=!0),n.l_desc=new IN(n.dyn_ltree,HH),n.d_desc=new IN(n.dyn_dtree,qH),n.bl_desc=new IN(n.bl_tree,WH),n.bi_buf=0,n.bi_valid=0,XH(n)},JH=(n,e,t,r)=>{Eo(n,(wge<<1)+(r?1:0),3),QH(n),gb(n,t),gb(n,~t),t&&n.pending_buf.set(n.window.subarray(e,e+t),n.pending),n.pending+=t},Lge=n=>{Eo(n,FH<<1,3),Bc(n,z3,Ru),Cge(n)},Dge=(n,e,t,r)=>{let i,s,o=0;n.level>0?(n.strm.data_type===yge&&(n.strm.data_type=Pge(n)),fI(n,n.l_desc),fI(n,n.d_desc),o=kge(n),i=n.opt_len+3+7>>>3,s=n.static_len+3+7>>>3,s<=i&&(i=s)):i=s=t+5,t+4<=i&&e!==-1?JH(n,e,t,r):n.strategy===vge||s===i?(Eo(n,(FH<<1)+(r?1:0),3),cO(n,Ru,vw)):(Eo(n,(bge<<1)+(r?1:0),3),Ige(n,n.l_desc.max_code+1,n.d_desc.max_code+1,o+1),cO(n,n.dyn_ltree,n.dyn_dtree)),XH(n),r&&QH(n)},Mge=(n,e,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=e,n.pending_buf[n.sym_buf+n.sym_next++]=e>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,e===0?n.dyn_ltree[t*2]++:(n.matches++,e--,n.dyn_ltree[(mb[t]+gx+1)*2]++,n.dyn_dtree[GH(e)*2]++),n.sym_next===n.sym_end);var jge=Rge,Oge=JH,Fge=Dge,Bge=Mge,Uge=Lge,Vge={_tr_init:jge,_tr_stored_block:Oge,_tr_flush_block:Fge,_tr_tally:Bge,_tr_align:Uge};const zge=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var vb=zge;const $ge=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},Hge=new Uint32Array($ge()),qge=(n,e,t,r)=>{const i=Hge,s=r+t;n^=-1;for(let o=r;o<s;o++)n=n>>>8^i[(n^e[o])&255];return n^-1};var Fi=qge,c1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vx={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Wge,_tr_stored_block:pI,_tr_flush_block:Gge,_tr_tally:xf,_tr_align:Kge}=Vge,{Z_NO_FLUSH:_f,Z_PARTIAL_FLUSH:Yge,Z_FULL_FLUSH:Xge,Z_FINISH:qa,Z_BLOCK:fO,Z_OK:es,Z_STREAM_END:pO,Z_STREAM_ERROR:Qc,Z_DATA_ERROR:Qge,Z_BUF_ERROR:RN,Z_DEFAULT_COMPRESSION:Jge,Z_FILTERED:Zge,Z_HUFFMAN_ONLY:E_,Z_RLE:e0e,Z_FIXED:t0e,Z_DEFAULT_STRATEGY:n0e,Z_UNKNOWN:r0e,Z_DEFLATED:US}=vx,i0e=9,s0e=15,o0e=8,a0e=29,l0e=256,mI=l0e+1+a0e,c0e=30,u0e=19,d0e=2*mI+1,h0e=15,vn=3,of=258,Jc=of+vn+1,f0e=32,u1=42,H3=57,gI=69,vI=73,yI=91,wI=103,Tp=113,jy=666,Ys=1,j1=2,eg=3,O1=4,p0e=3,kp=(n,e)=>(n.msg=c1[e],e),mO=n=>n*2-(n>4?9:0),bh=n=>{let e=n.length;for(;--e>=0;)n[e]=0},m0e=n=>{let e,t,r,i=n.w_size;e=n.hash_size,r=e;do t=n.head[--r],n.head[r]=t>=i?t-i:0;while(--e);e=i,r=e;do t=n.prev[--r],n.prev[r]=t>=i?t-i:0;while(--e)};let g0e=(n,e,t)=>(e<<n.hash_shift^t)&n.hash_mask,Af=g0e;const Yo=n=>{const e=n.state;let t=e.pending;t>n.avail_out&&(t=n.avail_out),t!==0&&(n.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),n.next_out),n.next_out+=t,e.pending_out+=t,n.total_out+=t,n.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},ha=(n,e)=>{Gge(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,e),n.block_start=n.strstart,Yo(n.strm)},Pn=(n,e)=>{n.pending_buf[n.pending++]=e},wy=(n,e)=>{n.pending_buf[n.pending++]=e>>>8&255,n.pending_buf[n.pending++]=e&255},bI=(n,e,t,r)=>{let i=n.avail_in;return i>r&&(i=r),i===0?0:(n.avail_in-=i,e.set(n.input.subarray(n.next_in,n.next_in+i),t),n.state.wrap===1?n.adler=vb(n.adler,e,i,t):n.state.wrap===2&&(n.adler=Fi(n.adler,e,i,t)),n.next_in+=i,n.total_in+=i,i)},ZH=(n,e)=>{let t=n.max_chain_length,r=n.strstart,i,s,o=n.prev_length,a=n.nice_match;const l=n.strstart>n.w_size-Jc?n.strstart-(n.w_size-Jc):0,c=n.window,u=n.w_mask,h=n.prev,p=n.strstart+of;let f=c[r+o-1],b=c[r+o];n.prev_length>=n.good_match&&(t>>=2),a>n.lookahead&&(a=n.lookahead);do if(i=e,!(c[i+o]!==b||c[i+o-1]!==f||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<p);if(s=of-(p-r),r=p-of,s>o){if(n.match_start=e,o=s,s>=a)break;f=c[r+o-1],b=c[r+o]}}while((e=h[e&u])>l&&--t!==0);return o<=n.lookahead?o:n.lookahead},d1=n=>{const e=n.w_size;let t,r,i;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=e+(e-Jc)&&(n.window.set(n.window.subarray(e,e+e-r),0),n.match_start-=e,n.strstart-=e,n.block_start-=e,n.insert>n.strstart&&(n.insert=n.strstart),m0e(n),r+=e),n.strm.avail_in===0)break;if(t=bI(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=t,n.lookahead+n.insert>=vn)for(i=n.strstart-n.insert,n.ins_h=n.window[i],n.ins_h=Af(n,n.ins_h,n.window[i+1]);n.insert&&(n.ins_h=Af(n,n.ins_h,n.window[i+vn-1]),n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,n.insert--,!(n.lookahead+n.insert<vn)););}while(n.lookahead<Jc&&n.strm.avail_in!==0)},eq=(n,e)=>{let t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,r,i,s,o=0,a=n.strm.avail_in;do{if(r=65535,s=n.bi_valid+42>>3,n.strm.avail_out<s||(s=n.strm.avail_out-s,i=n.strstart-n.block_start,r>i+n.strm.avail_in&&(r=i+n.strm.avail_in),r>s&&(r=s),r<t&&(r===0&&e!==qa||e===_f||r!==i+n.strm.avail_in)))break;o=e===qa&&r===i+n.strm.avail_in?1:0,pI(n,0,0,o),n.pending_buf[n.pending-4]=r,n.pending_buf[n.pending-3]=r>>8,n.pending_buf[n.pending-2]=~r,n.pending_buf[n.pending-1]=~r>>8,Yo(n.strm),i&&(i>r&&(i=r),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+i),n.strm.next_out),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i,n.block_start+=i,r-=i),r&&(bI(n.strm,n.strm.output,n.strm.next_out,r),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r)}while(o===0);return a-=n.strm.avail_in,a&&(a>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=a&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-a,n.strm.next_in),n.strstart),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),o?O1:e!==_f&&e!==qa&&n.strm.avail_in===0&&n.strstart===n.block_start?j1:(s=n.window_size-n.strstart,n.strm.avail_in>s&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,s+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),s>n.strm.avail_in&&(s=n.strm.avail_in),s&&(bI(n.strm,n.window,n.strstart,s),n.strstart+=s,n.insert+=s>n.w_size-n.insert?n.w_size-n.insert:s),n.high_water<n.strstart&&(n.high_water=n.strstart),s=n.bi_valid+42>>3,s=n.pending_buf_size-s>65535?65535:n.pending_buf_size-s,t=s>n.w_size?n.w_size:s,i=n.strstart-n.block_start,(i>=t||(i||e===qa)&&e!==_f&&n.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=e===qa&&n.strm.avail_in===0&&r===i?1:0,pI(n,n.block_start,r,o),n.block_start+=r,Yo(n.strm)),o?eg:Ys)},LN=(n,e)=>{let t,r;for(;;){if(n.lookahead<Jc){if(d1(n),n.lookahead<Jc&&e===_f)return Ys;if(n.lookahead===0)break}if(t=0,n.lookahead>=vn&&(n.ins_h=Af(n,n.ins_h,n.window[n.strstart+vn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),t!==0&&n.strstart-t<=n.w_size-Jc&&(n.match_length=ZH(n,t)),n.match_length>=vn)if(r=xf(n,n.strstart-n.match_start,n.match_length-vn),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=vn){n.match_length--;do n.strstart++,n.ins_h=Af(n,n.ins_h,n.window[n.strstart+vn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=Af(n,n.ins_h,n.window[n.strstart+1]);else r=xf(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(ha(n,!1),n.strm.avail_out===0))return Ys}return n.insert=n.strstart<vn-1?n.strstart:vn-1,e===qa?(ha(n,!0),n.strm.avail_out===0?eg:O1):n.sym_next&&(ha(n,!1),n.strm.avail_out===0)?Ys:j1},Og=(n,e)=>{let t,r,i;for(;;){if(n.lookahead<Jc){if(d1(n),n.lookahead<Jc&&e===_f)return Ys;if(n.lookahead===0)break}if(t=0,n.lookahead>=vn&&(n.ins_h=Af(n,n.ins_h,n.window[n.strstart+vn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=vn-1,t!==0&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-Jc&&(n.match_length=ZH(n,t),n.match_length<=5&&(n.strategy===Zge||n.match_length===vn&&n.strstart-n.match_start>4096)&&(n.match_length=vn-1)),n.prev_length>=vn&&n.match_length<=n.prev_length){i=n.strstart+n.lookahead-vn,r=xf(n,n.strstart-1-n.prev_match,n.prev_length-vn),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=i&&(n.ins_h=Af(n,n.ins_h,n.window[n.strstart+vn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=vn-1,n.strstart++,r&&(ha(n,!1),n.strm.avail_out===0))return Ys}else if(n.match_available){if(r=xf(n,0,n.window[n.strstart-1]),r&&ha(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return Ys}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=xf(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<vn-1?n.strstart:vn-1,e===qa?(ha(n,!0),n.strm.avail_out===0?eg:O1):n.sym_next&&(ha(n,!1),n.strm.avail_out===0)?Ys:j1},v0e=(n,e)=>{let t,r,i,s;const o=n.window;for(;;){if(n.lookahead<=of){if(d1(n),n.lookahead<=of&&e===_f)return Ys;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=vn&&n.strstart>0&&(i=n.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=n.strstart+of;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);n.match_length=of-(s-i),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=vn?(t=xf(n,1,n.match_length-vn),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=xf(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(ha(n,!1),n.strm.avail_out===0))return Ys}return n.insert=0,e===qa?(ha(n,!0),n.strm.avail_out===0?eg:O1):n.sym_next&&(ha(n,!1),n.strm.avail_out===0)?Ys:j1},y0e=(n,e)=>{let t;for(;;){if(n.lookahead===0&&(d1(n),n.lookahead===0)){if(e===_f)return Ys;break}if(n.match_length=0,t=xf(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(ha(n,!1),n.strm.avail_out===0))return Ys}return n.insert=0,e===qa?(ha(n,!0),n.strm.avail_out===0?eg:O1):n.sym_next&&(ha(n,!1),n.strm.avail_out===0)?Ys:j1};function uc(n,e,t,r,i){this.good_length=n,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=i}const Oy=[new uc(0,0,0,0,eq),new uc(4,4,8,4,LN),new uc(4,5,16,8,LN),new uc(4,6,32,32,LN),new uc(4,4,16,16,Og),new uc(8,16,32,32,Og),new uc(8,16,128,128,Og),new uc(8,32,128,256,Og),new uc(32,128,258,1024,Og),new uc(32,258,258,4096,Og)],w0e=n=>{n.window_size=2*n.w_size,bh(n.head),n.max_lazy_match=Oy[n.level].max_lazy,n.good_match=Oy[n.level].good_length,n.nice_match=Oy[n.level].nice_length,n.max_chain_length=Oy[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=vn-1,n.match_available=0,n.ins_h=0};function b0e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=US,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(d0e*2),this.dyn_dtree=new Uint16Array((2*c0e+1)*2),this.bl_tree=new Uint16Array((2*u0e+1)*2),bh(this.dyn_ltree),bh(this.dyn_dtree),bh(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(h0e+1),this.heap=new Uint16Array(2*mI+1),bh(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*mI+1),bh(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const yx=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.status!==u1&&e.status!==H3&&e.status!==gI&&e.status!==vI&&e.status!==yI&&e.status!==wI&&e.status!==Tp&&e.status!==jy?1:0},tq=n=>{if(yx(n))return kp(n,Qc);n.total_in=n.total_out=0,n.data_type=r0e;const e=n.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?H3:e.wrap?u1:Tp,n.adler=e.wrap===2?0:1,e.last_flush=-2,Wge(e),es},nq=n=>{const e=tq(n);return e===es&&w0e(n.state),e},x0e=(n,e)=>yx(n)||n.state.wrap!==2?Qc:(n.state.gzhead=e,es),rq=(n,e,t,r,i,s)=>{if(!n)return Qc;let o=1;if(e===Jge&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>i0e||t!==US||r<8||r>15||e<0||e>9||s<0||s>t0e||r===8&&o!==1)return kp(n,Qc);r===8&&(r=9);const a=new b0e;return n.state=a,a.strm=n,a.status=u1,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+vn-1)/vn),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=t,nq(n)},_0e=(n,e)=>rq(n,e,US,s0e,o0e,n0e),A0e=(n,e)=>{if(yx(n)||e>fO||e<0)return n?kp(n,Qc):Qc;const t=n.state;if(!n.output||n.avail_in!==0&&!n.input||t.status===jy&&e!==qa)return kp(n,n.avail_out===0?RN:Qc);const r=t.last_flush;if(t.last_flush=e,t.pending!==0){if(Yo(n),n.avail_out===0)return t.last_flush=-1,es}else if(n.avail_in===0&&mO(e)<=mO(r)&&e!==qa)return kp(n,RN);if(t.status===jy&&n.avail_in!==0)return kp(n,RN);if(t.status===u1&&t.wrap===0&&(t.status=Tp),t.status===u1){let i=US+(t.w_bits-8<<4)<<8,s=-1;if(t.strategy>=E_||t.level<2?s=0:t.level<6?s=1:t.level===6?s=2:s=3,i|=s<<6,t.strstart!==0&&(i|=f0e),i+=31-i%31,wy(t,i),t.strstart!==0&&(wy(t,n.adler>>>16),wy(t,n.adler&65535)),n.adler=1,t.status=Tp,Yo(n),t.pending!==0)return t.last_flush=-1,es}if(t.status===H3){if(n.adler=0,Pn(t,31),Pn(t,139),Pn(t,8),t.gzhead)Pn(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Pn(t,t.gzhead.time&255),Pn(t,t.gzhead.time>>8&255),Pn(t,t.gzhead.time>>16&255),Pn(t,t.gzhead.time>>24&255),Pn(t,t.level===9?2:t.strategy>=E_||t.level<2?4:0),Pn(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(Pn(t,t.gzhead.extra.length&255),Pn(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=Fi(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=gI;else if(Pn(t,0),Pn(t,0),Pn(t,0),Pn(t,0),Pn(t,0),Pn(t,t.level===9?2:t.strategy>=E_||t.level<2?4:0),Pn(t,p0e),t.status=Tp,Yo(n),t.pending!==0)return t.last_flush=-1,es}if(t.status===gI){if(t.gzhead.extra){let i=t.pending,s=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+s>t.pending_buf_size;){let a=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(n.adler=Fi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=a,Yo(n),t.pending!==0)return t.last_flush=-1,es;i=0,s-=a}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending+=s,t.gzhead.hcrc&&t.pending>i&&(n.adler=Fi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=vI}if(t.status===vI){if(t.gzhead.name){let i=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=Fi(n.adler,t.pending_buf,t.pending-i,i)),Yo(n),t.pending!==0)return t.last_flush=-1,es;i=0}t.gzindex<t.gzhead.name.length?s=t.gzhead.name.charCodeAt(t.gzindex++)&255:s=0,Pn(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=Fi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=yI}if(t.status===yI){if(t.gzhead.comment){let i=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=Fi(n.adler,t.pending_buf,t.pending-i,i)),Yo(n),t.pending!==0)return t.last_flush=-1,es;i=0}t.gzindex<t.gzhead.comment.length?s=t.gzhead.comment.charCodeAt(t.gzindex++)&255:s=0,Pn(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=Fi(n.adler,t.pending_buf,t.pending-i,i))}t.status=wI}if(t.status===wI){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Yo(n),t.pending!==0))return t.last_flush=-1,es;Pn(t,n.adler&255),Pn(t,n.adler>>8&255),n.adler=0}if(t.status=Tp,Yo(n),t.pending!==0)return t.last_flush=-1,es}if(n.avail_in!==0||t.lookahead!==0||e!==_f&&t.status!==jy){let i=t.level===0?eq(t,e):t.strategy===E_?y0e(t,e):t.strategy===e0e?v0e(t,e):Oy[t.level].func(t,e);if((i===eg||i===O1)&&(t.status=jy),i===Ys||i===eg)return n.avail_out===0&&(t.last_flush=-1),es;if(i===j1&&(e===Yge?Kge(t):e!==fO&&(pI(t,0,0,!1),e===Xge&&(bh(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),Yo(n),n.avail_out===0))return t.last_flush=-1,es}return e!==qa?es:t.wrap<=0?pO:(t.wrap===2?(Pn(t,n.adler&255),Pn(t,n.adler>>8&255),Pn(t,n.adler>>16&255),Pn(t,n.adler>>24&255),Pn(t,n.total_in&255),Pn(t,n.total_in>>8&255),Pn(t,n.total_in>>16&255),Pn(t,n.total_in>>24&255)):(wy(t,n.adler>>>16),wy(t,n.adler&65535)),Yo(n),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?es:pO)},E0e=n=>{if(yx(n))return Qc;const e=n.state.status;return n.state=null,e===Tp?kp(n,Qge):es},S0e=(n,e)=>{let t=e.length;if(yx(n))return Qc;const r=n.state,i=r.wrap;if(i===2||i===1&&r.status!==u1||r.lookahead)return Qc;if(i===1&&(n.adler=vb(n.adler,e,t,0)),r.wrap=0,t>=r.w_size){i===0&&(bh(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(t-r.w_size,t),0),e=l,t=r.w_size}const s=n.avail_in,o=n.next_in,a=n.input;for(n.avail_in=t,n.next_in=0,n.input=e,d1(r);r.lookahead>=vn;){let l=r.strstart,c=r.lookahead-(vn-1);do r.ins_h=Af(r,r.ins_h,r.window[l+vn-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=vn-1,d1(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=vn-1,r.match_available=0,n.next_in=o,n.input=a,n.avail_in=s,r.wrap=i,es};var C0e=_0e,N0e=rq,T0e=nq,k0e=tq,I0e=x0e,P0e=A0e,R0e=E0e,L0e=S0e,D0e="pako deflate (from Nodeca project)",yw={deflateInit:C0e,deflateInit2:N0e,deflateReset:T0e,deflateResetKeep:k0e,deflateSetHeader:I0e,deflate:P0e,deflateEnd:R0e,deflateSetDictionary:L0e,deflateInfo:D0e};const M0e=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var j0e=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)M0e(t,r)&&(n[r]=t[r])}}return n},O0e=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let o=n[r];t.set(o,i),i+=o.length}return t},VS={assign:j0e,flattenChunks:O0e};let iq=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{iq=!1}const yb=new Uint8Array(256);for(let n=0;n<256;n++)yb[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;yb[254]=yb[254]=1;var F0e=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,o=n.length,a=0;for(i=0;i<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const B0e=(n,e)=>{if(e<65534&&n.subarray&&iq)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var U0e=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let o=n[r++];if(o<128){s[i++]=o;continue}let a=yb[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<t;)o=o<<6|n[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return B0e(s,i)},V0e=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+yb[n[t]]>e?t:e},wb={string2buf:F0e,buf2string:U0e,utf8border:V0e};function z0e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var sq=z0e;const oq=Object.prototype.toString,{Z_NO_FLUSH:$0e,Z_SYNC_FLUSH:H0e,Z_FULL_FLUSH:q0e,Z_FINISH:W0e,Z_OK:sE,Z_STREAM_END:G0e,Z_DEFAULT_COMPRESSION:K0e,Z_DEFAULT_STRATEGY:Y0e,Z_DEFLATED:X0e}=vx;function q3(n){this.options=VS.assign({level:K0e,method:X0e,chunkSize:16384,windowBits:15,memLevel:8,strategy:Y0e},n||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sq,this.strm.avail_out=0;let t=yw.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==sE)throw new Error(c1[t]);if(e.header&&yw.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=wb.string2buf(e.dictionary):oq.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,t=yw.deflateSetDictionary(this.strm,r),t!==sE)throw new Error(c1[t]);this._dict_set=!0}}q3.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?W0e:$0e,typeof n=="string"?t.input=wb.string2buf(n):oq.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(s===H0e||s===q0e)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(i=yw.deflate(t,s),i===G0e)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=yw.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===sE;if(t.avail_out===0){this.onData(t.output);continue}if(s>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};q3.prototype.onData=function(n){this.chunks.push(n)};q3.prototype.onEnd=function(n){n===sE&&(this.result=VS.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};const S_=16209,Q0e=16191;var J0e=function(e,t){let r,i,s,o,a,l,c,u,h,p,f,b,y,_,w,A,E,C,F,V,L,N,I,j;const k=e.state;r=e.next_in,I=e.input,i=r+(e.avail_in-5),s=e.next_out,j=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),l=k.dmax,c=k.wsize,u=k.whave,h=k.wnext,p=k.window,f=k.hold,b=k.bits,y=k.lencode,_=k.distcode,w=(1<<k.lenbits)-1,A=(1<<k.distbits)-1;e:do{b<15&&(f+=I[r++]<<b,b+=8,f+=I[r++]<<b,b+=8),E=y[f&w];t:for(;;){if(C=E>>>24,f>>>=C,b-=C,C=E>>>16&255,C===0)j[s++]=E&65535;else if(C&16){F=E&65535,C&=15,C&&(b<C&&(f+=I[r++]<<b,b+=8),F+=f&(1<<C)-1,f>>>=C,b-=C),b<15&&(f+=I[r++]<<b,b+=8,f+=I[r++]<<b,b+=8),E=_[f&A];n:for(;;){if(C=E>>>24,f>>>=C,b-=C,C=E>>>16&255,C&16){if(V=E&65535,C&=15,b<C&&(f+=I[r++]<<b,b+=8,b<C&&(f+=I[r++]<<b,b+=8)),V+=f&(1<<C)-1,V>l){e.msg="invalid distance too far back",k.mode=S_;break e}if(f>>>=C,b-=C,C=s-o,V>C){if(C=V-C,C>u&&k.sane){e.msg="invalid distance too far back",k.mode=S_;break e}if(L=0,N=p,h===0){if(L+=c-C,C<F){F-=C;do j[s++]=p[L++];while(--C);L=s-V,N=j}}else if(h<C){if(L+=c+h-C,C-=h,C<F){F-=C;do j[s++]=p[L++];while(--C);if(L=0,h<F){C=h,F-=C;do j[s++]=p[L++];while(--C);L=s-V,N=j}}}else if(L+=h-C,C<F){F-=C;do j[s++]=p[L++];while(--C);L=s-V,N=j}for(;F>2;)j[s++]=N[L++],j[s++]=N[L++],j[s++]=N[L++],F-=3;F&&(j[s++]=N[L++],F>1&&(j[s++]=N[L++]))}else{L=s-V;do j[s++]=j[L++],j[s++]=j[L++],j[s++]=j[L++],F-=3;while(F>2);F&&(j[s++]=j[L++],F>1&&(j[s++]=j[L++]))}}else if(C&64){e.msg="invalid distance code",k.mode=S_;break e}else{E=_[(E&65535)+(f&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){k.mode=Q0e;break e}else{e.msg="invalid literal/length code",k.mode=S_;break e}else{E=y[(E&65535)+(f&(1<<C)-1)];continue t}break}}while(r<i&&s<a);F=b>>3,r-=F,b-=F<<3,f&=(1<<b)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),k.hold=f,k.bits=b};const Fg=15,gO=852,vO=592,yO=0,DN=1,wO=2,Z0e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),eve=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tve=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),nve=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),rve=(n,e,t,r,i,s,o,a)=>{const l=a.bits;let c=0,u=0,h=0,p=0,f=0,b=0,y=0,_=0,w=0,A=0,E,C,F,V,L,N=null,I;const j=new Uint16Array(Fg+1),k=new Uint16Array(Fg+1);let M=null,R,q,ce;for(c=0;c<=Fg;c++)j[c]=0;for(u=0;u<r;u++)j[e[t+u]]++;for(f=l,p=Fg;p>=1&&j[p]===0;p--);if(f>p&&(f=p),p===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<p&&j[h]===0;h++);for(f<h&&(f=h),_=1,c=1;c<=Fg;c++)if(_<<=1,_-=j[c],_<0)return-1;if(_>0&&(n===yO||p!==1))return-1;for(k[1]=0,c=1;c<Fg;c++)k[c+1]=k[c]+j[c];for(u=0;u<r;u++)e[t+u]!==0&&(o[k[e[t+u]]++]=u);if(n===yO?(N=M=o,I=20):n===DN?(N=Z0e,M=eve,I=257):(N=tve,M=nve,I=0),A=0,u=0,c=h,L=s,b=f,y=0,F=-1,w=1<<f,V=w-1,n===DN&&w>gO||n===wO&&w>vO)return 1;for(;;){R=c-y,o[u]+1<I?(q=0,ce=o[u]):o[u]>=I?(q=M[o[u]-I],ce=N[o[u]-I]):(q=96,ce=0),E=1<<c-y,C=1<<b,h=C;do C-=E,i[L+(A>>y)+C]=R<<24|q<<16|ce|0;while(C!==0);for(E=1<<c-1;A&E;)E>>=1;if(E!==0?(A&=E-1,A+=E):A=0,u++,--j[c]===0){if(c===p)break;c=e[t+o[u]]}if(c>f&&(A&V)!==F){for(y===0&&(y=f),L+=h,b=c-y,_=1<<b;b+y<p&&(_-=j[b+y],!(_<=0));)b++,_<<=1;if(w+=1<<b,n===DN&&w>gO||n===wO&&w>vO)return 1;F=A&V,i[F]=f<<24|b<<16|L-s|0}}return A!==0&&(i[L+A]=c-y<<24|64<<16|0),a.bits=f,0};var ww=rve;const ive=0,aq=1,lq=2,{Z_FINISH:bO,Z_BLOCK:sve,Z_TREES:C_,Z_OK:tg,Z_STREAM_END:ove,Z_NEED_DICT:ave,Z_STREAM_ERROR:tl,Z_DATA_ERROR:cq,Z_MEM_ERROR:uq,Z_BUF_ERROR:lve,Z_DEFLATED:xO}=vx,zS=16180,_O=16181,AO=16182,EO=16183,SO=16184,CO=16185,NO=16186,TO=16187,kO=16188,IO=16189,oE=16190,Au=16191,MN=16192,PO=16193,jN=16194,RO=16195,LO=16196,DO=16197,MO=16198,N_=16199,T_=16200,jO=16201,OO=16202,FO=16203,BO=16204,UO=16205,ON=16206,VO=16207,zO=16208,br=16209,dq=16210,hq=16211,cve=852,uve=592,dve=15,hve=dve,$O=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function fve(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const vg=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<zS||e.mode>hq?1:0},fq=n=>{if(vg(n))return tl;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=zS,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(cve),e.distcode=e.distdyn=new Int32Array(uve),e.sane=1,e.back=-1,tg},pq=n=>{if(vg(n))return tl;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,fq(n)},mq=(n,e)=>{let t;if(vg(n))return tl;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?tl:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,pq(n))},gq=(n,e)=>{if(!n)return tl;const t=new fve;n.state=t,t.strm=n,t.window=null,t.mode=zS;const r=mq(n,e);return r!==tg&&(n.state=null),r},pve=n=>gq(n,hve);let HO=!0,FN,BN;const mve=n=>{if(HO){FN=new Int32Array(512),BN=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(ww(aq,n.lens,0,288,FN,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;ww(lq,n.lens,0,32,BN,0,n.work,{bits:5}),HO=!1}n.lencode=FN,n.lenbits=9,n.distcode=BN,n.distbits=5},vq=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},gve=(n,e)=>{let t,r,i,s,o,a,l,c,u,h,p,f,b,y,_=0,w,A,E,C,F,V,L,N;const I=new Uint8Array(4);let j,k;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vg(n)||!n.output||!n.input&&n.avail_in!==0)return tl;t=n.state,t.mode===Au&&(t.mode=MN),o=n.next_out,i=n.output,l=n.avail_out,s=n.next_in,r=n.input,a=n.avail_in,c=t.hold,u=t.bits,h=a,p=l,N=tg;e:for(;;)switch(t.mode){case zS:if(t.wrap===0){t.mode=MN;break}for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,I[0]=c&255,I[1]=c>>>8&255,t.check=Fi(t.check,I,2,0),c=0,u=0,t.mode=_O;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",t.mode=br;break}if((c&15)!==xO){n.msg="unknown compression method",t.mode=br;break}if(c>>>=4,u-=4,L=(c&15)+8,t.wbits===0&&(t.wbits=L),L>15||L>t.wbits){n.msg="invalid window size",t.mode=br;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=c&512?IO:Au,c=0,u=0;break;case _O:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(t.flags=c,(t.flags&255)!==xO){n.msg="unknown compression method",t.mode=br;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=br;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,t.check=Fi(t.check,I,2,0)),c=0,u=0,t.mode=AO;case AO:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,I[2]=c>>>16&255,I[3]=c>>>24&255,t.check=Fi(t.check,I,4,0)),c=0,u=0,t.mode=EO;case EO:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,t.check=Fi(t.check,I,2,0)),c=0,u=0,t.mode=SO;case SO:if(t.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,t.check=Fi(t.check,I,2,0)),c=0,u=0}else t.head&&(t.head.extra=null);t.mode=CO;case CO:if(t.flags&1024&&(f=t.length,f>a&&(f=a),f&&(t.head&&(L=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+f),L)),t.flags&512&&t.wrap&4&&(t.check=Fi(t.check,r,f,s)),a-=f,s+=f,t.length-=f),t.length))break e;t.length=0,t.mode=NO;case NO:if(t.flags&2048){if(a===0)break e;f=0;do L=r[s+f++],t.head&&L&&t.length<65536&&(t.head.name+=String.fromCharCode(L));while(L&&f<a);if(t.flags&512&&t.wrap&4&&(t.check=Fi(t.check,r,f,s)),a-=f,s+=f,L)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=TO;case TO:if(t.flags&4096){if(a===0)break e;f=0;do L=r[s+f++],t.head&&L&&t.length<65536&&(t.head.comment+=String.fromCharCode(L));while(L&&f<a);if(t.flags&512&&t.wrap&4&&(t.check=Fi(t.check,r,f,s)),a-=f,s+=f,L)break e}else t.head&&(t.head.comment=null);t.mode=kO;case kO:if(t.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(t.wrap&4&&c!==(t.check&65535)){n.msg="header crc mismatch",t.mode=br;break}c=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Au;break;case IO:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.adler=t.check=$O(c),c=0,u=0,t.mode=oE;case oE:if(t.havedict===0)return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,t.hold=c,t.bits=u,ave;n.adler=t.check=1,t.mode=Au;case Au:if(e===sve||e===C_)break e;case MN:if(t.last){c>>>=u&7,u-=u&7,t.mode=ON;break}for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}switch(t.last=c&1,c>>>=1,u-=1,c&3){case 0:t.mode=PO;break;case 1:if(mve(t),t.mode=N_,e===C_){c>>>=2,u-=2;break e}break;case 2:t.mode=LO;break;case 3:n.msg="invalid block type",t.mode=br}c>>>=2,u-=2;break;case PO:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",t.mode=br;break}if(t.length=c&65535,c=0,u=0,t.mode=jN,e===C_)break e;case jN:t.mode=RO;case RO:if(f=t.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;i.set(r.subarray(s,s+f),o),a-=f,s+=f,l-=f,o+=f,t.length-=f;break}t.mode=Au;break;case LO:for(;u<14;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(t.nlen=(c&31)+257,c>>>=5,u-=5,t.ndist=(c&31)+1,c>>>=5,u-=5,t.ncode=(c&15)+4,c>>>=4,u-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=br;break}t.have=0,t.mode=DO;case DO:for(;t.have<t.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.lens[M[t.have++]]=c&7,c>>>=3,u-=3}for(;t.have<19;)t.lens[M[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,j={bits:t.lenbits},N=ww(ive,t.lens,0,19,t.lencode,0,t.work,j),t.lenbits=j.bits,N){n.msg="invalid code lengths set",t.mode=br;break}t.have=0,t.mode=MO;case MO:for(;t.have<t.nlen+t.ndist;){for(;_=t.lencode[c&(1<<t.lenbits)-1],w=_>>>24,A=_>>>16&255,E=_&65535,!(w<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(E<16)c>>>=w,u-=w,t.lens[t.have++]=E;else{if(E===16){for(k=w+2;u<k;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(c>>>=w,u-=w,t.have===0){n.msg="invalid bit length repeat",t.mode=br;break}L=t.lens[t.have-1],f=3+(c&3),c>>>=2,u-=2}else if(E===17){for(k=w+3;u<k;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=w,u-=w,L=0,f=3+(c&7),c>>>=3,u-=3}else{for(k=w+7;u<k;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=w,u-=w,L=0,f=11+(c&127),c>>>=7,u-=7}if(t.have+f>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=br;break}for(;f--;)t.lens[t.have++]=L}}if(t.mode===br)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=br;break}if(t.lenbits=9,j={bits:t.lenbits},N=ww(aq,t.lens,0,t.nlen,t.lencode,0,t.work,j),t.lenbits=j.bits,N){n.msg="invalid literal/lengths set",t.mode=br;break}if(t.distbits=6,t.distcode=t.distdyn,j={bits:t.distbits},N=ww(lq,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,j),t.distbits=j.bits,N){n.msg="invalid distances set",t.mode=br;break}if(t.mode=N_,e===C_)break e;case N_:t.mode=T_;case T_:if(a>=6&&l>=258){n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,t.hold=c,t.bits=u,J0e(n,p),o=n.next_out,i=n.output,l=n.avail_out,s=n.next_in,r=n.input,a=n.avail_in,c=t.hold,u=t.bits,t.mode===Au&&(t.back=-1);break}for(t.back=0;_=t.lencode[c&(1<<t.lenbits)-1],w=_>>>24,A=_>>>16&255,E=_&65535,!(w<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(A&&!(A&240)){for(C=w,F=A,V=E;_=t.lencode[V+((c&(1<<C+F)-1)>>C)],w=_>>>24,A=_>>>16&255,E=_&65535,!(C+w<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=C,u-=C,t.back+=C}if(c>>>=w,u-=w,t.back+=w,t.length=E,A===0){t.mode=UO;break}if(A&32){t.back=-1,t.mode=Au;break}if(A&64){n.msg="invalid literal/length code",t.mode=br;break}t.extra=A&15,t.mode=jO;case jO:if(t.extra){for(k=t.extra;u<k;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=OO;case OO:for(;_=t.distcode[c&(1<<t.distbits)-1],w=_>>>24,A=_>>>16&255,E=_&65535,!(w<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(!(A&240)){for(C=w,F=A,V=E;_=t.distcode[V+((c&(1<<C+F)-1)>>C)],w=_>>>24,A=_>>>16&255,E=_&65535,!(C+w<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=C,u-=C,t.back+=C}if(c>>>=w,u-=w,t.back+=w,A&64){n.msg="invalid distance code",t.mode=br;break}t.offset=E,t.extra=A&15,t.mode=FO;case FO:if(t.extra){for(k=t.extra;u<k;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=br;break}t.mode=BO;case BO:if(l===0)break e;if(f=p-l,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=br;break}f>t.wnext?(f-=t.wnext,b=t.wsize-f):b=t.wnext-f,f>t.length&&(f=t.length),y=t.window}else y=i,b=o-t.offset,f=t.length;f>l&&(f=l),l-=f,t.length-=f;do i[o++]=y[b++];while(--f);t.length===0&&(t.mode=T_);break;case UO:if(l===0)break e;i[o++]=t.length,l--,t.mode=T_;break;case ON:if(t.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[s++]<<u,u+=8}if(p-=l,n.total_out+=p,t.total+=p,t.wrap&4&&p&&(n.adler=t.check=t.flags?Fi(t.check,i,p,o-p):vb(t.check,i,p,o-p)),p=l,t.wrap&4&&(t.flags?c:$O(c))!==t.check){n.msg="incorrect data check",t.mode=br;break}c=0,u=0}t.mode=VO;case VO:if(t.wrap&&t.flags){for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(t.wrap&4&&c!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=br;break}c=0,u=0}t.mode=zO;case zO:N=ove;break e;case br:N=cq;break e;case dq:return uq;case hq:default:return tl}return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,t.hold=c,t.bits=u,(t.wsize||p!==n.avail_out&&t.mode<br&&(t.mode<ON||e!==bO))&&vq(n,n.output,n.next_out,p-n.avail_out),h-=n.avail_in,p-=n.avail_out,n.total_in+=h,n.total_out+=p,t.total+=p,t.wrap&4&&p&&(n.adler=t.check=t.flags?Fi(t.check,i,p,n.next_out-p):vb(t.check,i,p,n.next_out-p)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Au?128:0)+(t.mode===N_||t.mode===jN?256:0),(h===0&&p===0||e===bO)&&N===tg&&(N=lve),N},vve=n=>{if(vg(n))return tl;let e=n.state;return e.window&&(e.window=null),n.state=null,tg},yve=(n,e)=>{if(vg(n))return tl;const t=n.state;return t.wrap&2?(t.head=e,e.done=!1,tg):tl},wve=(n,e)=>{const t=e.length;let r,i,s;return vg(n)||(r=n.state,r.wrap!==0&&r.mode!==oE)?tl:r.mode===oE&&(i=1,i=vb(i,e,t,0),i!==r.check)?cq:(s=vq(n,e,t,t),s?(r.mode=dq,uq):(r.havedict=1,tg))};var bve=pq,xve=mq,_ve=fq,Ave=pve,Eve=gq,Sve=gve,Cve=vve,Nve=yve,Tve=wve,kve="pako inflate (from Nodeca project)",Lu={inflateReset:bve,inflateReset2:xve,inflateResetKeep:_ve,inflateInit:Ave,inflateInit2:Eve,inflate:Sve,inflateEnd:Cve,inflateGetHeader:Nve,inflateSetDictionary:Tve,inflateInfo:kve};function Ive(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Pve=Ive;const yq=Object.prototype.toString,{Z_NO_FLUSH:Rve,Z_FINISH:Lve,Z_OK:bb,Z_STREAM_END:UN,Z_NEED_DICT:VN,Z_STREAM_ERROR:Dve,Z_DATA_ERROR:qO,Z_MEM_ERROR:Mve}=vx;function wx(n){this.options=VS.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sq,this.strm.avail_out=0;let t=Lu.inflateInit2(this.strm,e.windowBits);if(t!==bb)throw new Error(c1[t]);if(this.header=new Pve,Lu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=wb.string2buf(e.dictionary):yq.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Lu.inflateSetDictionary(this.strm,e.dictionary),t!==bb)))throw new Error(c1[t])}wx.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Lve:Rve,yq.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=Lu.inflate(t,o),s===VN&&i&&(s=Lu.inflateSetDictionary(t,i),s===bb?s=Lu.inflate(t,o):s===qO&&(s=VN));t.avail_in>0&&s===UN&&t.state.wrap>0&&n[t.next_in]!==0;)Lu.inflateReset(t),s=Lu.inflate(t,o);switch(s){case Dve:case qO:case VN:case Mve:return this.onEnd(s),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||s===UN))if(this.options.to==="string"){let l=wb.utf8border(t.output,t.next_out),c=t.next_out-l,u=wb.buf2string(t.output,l);t.next_out=c,t.avail_out=r-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===bb&&a===0)){if(s===UN)return s=Lu.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};wx.prototype.onData=function(n){this.chunks.push(n)};wx.prototype.onEnd=function(n){n===bb&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=VS.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function W3(n,e){const t=new wx(e);if(t.push(n),t.err)throw t.msg||c1[t.err];return t.result}function jve(n,e){return e=e||{},e.raw=!0,W3(n,e)}var Ove=wx,Fve=W3,Bve=jve,Uve=W3,Vve=vx,zve={Inflate:Ove,inflate:Fve,inflateRaw:Bve,ungzip:Uve,constants:Vve};const{Inflate:$ve,inflate:Hve,inflateRaw:l_e,ungzip:c_e}=zve;var WO=$ve,qve=Hve;const wq=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;wq[n]=e}const GO=4294967295;function Wve(n,e,t){let r=n;for(let i=0;i<t;i++)r=wq[(r^e[i])&255]^r>>>8;return r}function Gve(n,e){return(Wve(GO,n,e)^GO)>>>0}function KO(n,e,t){const r=n.readUint32(),i=Gve(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function bq(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function xq(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function _q(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function Aq(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<r;s++)e[s]=n[s]+(e[s-i]+t[s]>>1)&255}}function Eq(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=n[s]+t[s]&255;for(;s<r;s++)e[s]=n[s]+Kve(e[s-i],t[s],t[s-i])&255}}function Kve(n,e,t){const r=n+e-t,i=Math.abs(r-n),s=Math.abs(r-e),o=Math.abs(r-t);return i<=s&&i<=o?n:s<=o?e:t}function Yve(n,e,t,r,i,s){switch(n){case 0:bq(e,t,i);break;case 1:xq(e,t,i,s);break;case 2:_q(e,t,r,i);break;case 3:Aq(e,t,r,i,s);break;case 4:Eq(e,t,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const Xve=new Uint16Array([255]),Qve=new Uint8Array(Xve.buffer),Jve=Qve[0]===255;function Zve(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*t*a);let c=0;for(let u=0;u<7;u++){const h=o[u],p=Math.ceil((t-h.x)/h.xStep),f=Math.ceil((r-h.y)/h.yStep);if(p<=0||f<=0)continue;const b=p*a,y=new Uint8Array(b);for(let _=0;_<f;_++){const w=e[c++],A=e.subarray(c,c+b);c+=b;const E=new Uint8Array(b);Yve(w,A,E,y,b,a),y.set(E);for(let C=0;C<p;C++){const F=h.x+C*h.xStep,V=h.y+_*h.yStep;if(!(F>=t||V>=r))for(let L=0;L<a;L++)l[(V*t+F)*a+L]=E[C*a+L]}}}if(s===16){const u=new Uint16Array(l.buffer);if(Jve)for(let h=0;h<u.length;h++)u[h]=e1e(u[h]);return u}else return l}function e1e(n){return(n&255)<<8|n>>8&255}const t1e=new Uint16Array([255]),n1e=new Uint8Array(t1e.buffer),r1e=n1e[0]===255,i1e=new Uint8Array(0);function YO(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*t),l=new Uint8Array(r*a);let c=i1e,u=0,h,p;for(let f=0;f<r;f++){switch(h=e.subarray(u+1,u+1+a),p=l.subarray(f*a,(f+1)*a),e[u]){case 0:bq(h,p,a);break;case 1:xq(h,p,a,o);break;case 2:_q(h,p,c,a);break;case 3:Aq(h,p,c,a,o);break;case 4:Eq(h,p,c,a,o);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=p,u+=a+1}if(s===16){const f=new Uint16Array(l.buffer);if(r1e)for(let b=0;b<f.length;b++)f[b]=s1e(f[b]);return f}else return l}function s1e(n){return(n&255)<<8|n>>8&255}const b5=Uint8Array.of(137,80,78,71,13,10,26,10);function XO(n){if(!o1e(n.readBytes(b5.length)))throw new Error("wrong PNG signature")}function o1e(n){if(n.length<b5.length)return!1;for(let e=0;e<b5.length;e++)if(n[e]!==b5[e])return!1;return!0}const a1e="tEXt",l1e=0,Sq=new TextDecoder("latin1");function c1e(n){if(d1e(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const u1e=/^[\u0000-\u00FF]*$/;function d1e(n){if(!u1e.test(n))throw new Error("invalid latin1 text")}function h1e(n,e,t){const r=Cq(e);n[r]=f1e(e,t-r.length-1)}function Cq(n){for(n.mark();n.readByte()!==l1e;);const e=n.offset;n.reset();const t=Sq.decode(n.readBytes(e-n.offset-1));return n.skip(1),c1e(t),t}function f1e(n,e){return Sq.decode(n.readBytes(e))}const Go={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},zN={UNKNOWN:-1,DEFLATE:0},QO={UNKNOWN:-1,ADAPTIVE:0},$N={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},k_={NONE:0,BACKGROUND:1,PREVIOUS:2},HN={SOURCE:0,OVER:1};class p1e extends B3{constructor(t,r={}){super(t);rt(this,"_checkCrc");rt(this,"_inflator");rt(this,"_png");rt(this,"_apng");rt(this,"_end");rt(this,"_hasPalette");rt(this,"_palette");rt(this,"_hasTransparency");rt(this,"_transparency");rt(this,"_compressionMethod");rt(this,"_filterMethod");rt(this,"_interlaceMethod");rt(this,"_colorType");rt(this,"_isAnimated");rt(this,"_numberOfFrames");rt(this,"_numberOfPlays");rt(this,"_frames");rt(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new WO,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=zN.UNKNOWN,this._filterMethod=QO.UNKNOWN,this._interlaceMethod=$N.UNKNOWN,this._colorType=Go.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(XO(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(XO(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case a1e:h1e(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?KO(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?KO(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=m1e(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Go.GREYSCALE:i=1;break;case Go.TRUECOLOUR:i=3;break;case Go.INDEXED_COLOUR:i=1;break;case Go.GREYSCALE_ALPHA:i=2;break;case Go.TRUECOLOUR_ALPHA:i=4;break;case Go.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==zN.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Go.GREYSCALE:case Go.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Go.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Go.UNKNOWN:case Go.GREYSCALE_ALPHA:case Go.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=Cq(this),i=this.readUint8();if(i!==zN.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:qve(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=YO({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,i){switch(t.disposeOp){case k_.NONE:break;case k_.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*t.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case k_.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,c=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case HN.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++)t.data[l+u]=r.data[c+u]}break;case HN.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++){const h=r.data[c+this._png.channels-1]/i,p=u%(this._png.channels-1)===0?1:r.data[c+u],f=Math.floor(h*p+(1-h)*t.data[l+u]);t.data[l+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==QO.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===$N.NO_INTERLACE)this._png.data=YO({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===$N.ADAM7)this._png.data=Zve({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:k_.NONE,blendOp:HN.SOURCE,data:t}),this._inflator=new WO,this._writingDataChunks=!1}}function m1e(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var JO;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(JO||(JO={}));function g1e(n,e){return new p1e(n,e).decode()}var Ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function qN(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var tr={log:qN,warn:function(n){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):qN.call(null,arguments))},error:function(n){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):qN(n))}};function WN(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){up(r.response,e,t)},r.onerror=function(){tr.error("could not download file")},r.send()}function ZO(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function I_(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var up=Ut.saveAs||((typeof window>"u"?"undefined":On(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Ut.URL||Ut.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?ZO(i.href)?WN(n,e,t):I_(i,i.target="_blank"):I_(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){I_(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(ZO(n))WN(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){I_(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:On(s)!=="object"&&(tr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return WN(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Ut.HTMLElement)||Ut.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":On(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=Ut.URL||Ut.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Nq(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var x5=Ut.atob.bind(Ut),eF=Ut.btoa.bind(Ut);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function GN(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=gs(t,r,i,s,e[0],7,-680876936),s=gs(s,t,r,i,e[1],12,-389564586),i=gs(i,s,t,r,e[2],17,606105819),r=gs(r,i,s,t,e[3],22,-1044525330),t=gs(t,r,i,s,e[4],7,-176418897),s=gs(s,t,r,i,e[5],12,1200080426),i=gs(i,s,t,r,e[6],17,-1473231341),r=gs(r,i,s,t,e[7],22,-45705983),t=gs(t,r,i,s,e[8],7,1770035416),s=gs(s,t,r,i,e[9],12,-1958414417),i=gs(i,s,t,r,e[10],17,-42063),r=gs(r,i,s,t,e[11],22,-1990404162),t=gs(t,r,i,s,e[12],7,1804603682),s=gs(s,t,r,i,e[13],12,-40341101),i=gs(i,s,t,r,e[14],17,-1502002290),t=vs(t,r=gs(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=vs(s,t,r,i,e[6],9,-1069501632),i=vs(i,s,t,r,e[11],14,643717713),r=vs(r,i,s,t,e[0],20,-373897302),t=vs(t,r,i,s,e[5],5,-701558691),s=vs(s,t,r,i,e[10],9,38016083),i=vs(i,s,t,r,e[15],14,-660478335),r=vs(r,i,s,t,e[4],20,-405537848),t=vs(t,r,i,s,e[9],5,568446438),s=vs(s,t,r,i,e[14],9,-1019803690),i=vs(i,s,t,r,e[3],14,-187363961),r=vs(r,i,s,t,e[8],20,1163531501),t=vs(t,r,i,s,e[13],5,-1444681467),s=vs(s,t,r,i,e[2],9,-51403784),i=vs(i,s,t,r,e[7],14,1735328473),t=ys(t,r=vs(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ys(s,t,r,i,e[8],11,-2022574463),i=ys(i,s,t,r,e[11],16,1839030562),r=ys(r,i,s,t,e[14],23,-35309556),t=ys(t,r,i,s,e[1],4,-1530992060),s=ys(s,t,r,i,e[4],11,1272893353),i=ys(i,s,t,r,e[7],16,-155497632),r=ys(r,i,s,t,e[10],23,-1094730640),t=ys(t,r,i,s,e[13],4,681279174),s=ys(s,t,r,i,e[0],11,-358537222),i=ys(i,s,t,r,e[3],16,-722521979),r=ys(r,i,s,t,e[6],23,76029189),t=ys(t,r,i,s,e[9],4,-640364487),s=ys(s,t,r,i,e[12],11,-421815835),i=ys(i,s,t,r,e[15],16,530742520),t=ws(t,r=ys(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ws(s,t,r,i,e[7],10,1126891415),i=ws(i,s,t,r,e[14],15,-1416354905),r=ws(r,i,s,t,e[5],21,-57434055),t=ws(t,r,i,s,e[12],6,1700485571),s=ws(s,t,r,i,e[3],10,-1894986606),i=ws(i,s,t,r,e[10],15,-1051523),r=ws(r,i,s,t,e[1],21,-2054922799),t=ws(t,r,i,s,e[8],6,1873313359),s=ws(s,t,r,i,e[15],10,-30611744),i=ws(i,s,t,r,e[6],15,-1560198380),r=ws(r,i,s,t,e[13],21,1309151649),t=ws(t,r,i,s,e[4],6,-145523070),s=ws(s,t,r,i,e[11],10,-1120210379),i=ws(i,s,t,r,e[2],15,718787259),r=ws(r,i,s,t,e[9],21,-343485551),n[0]=af(t,n[0]),n[1]=af(r,n[1]),n[2]=af(i,n[2]),n[3]=af(s,n[3])}function $S(n,e,t,r,i,s){return e=af(af(e,n),af(r,s)),af(e<<i|e>>>32-i,t)}function gs(n,e,t,r,i,s,o){return $S(e&t|~e&r,n,e,i,s,o)}function vs(n,e,t,r,i,s,o){return $S(e&r|t&~r,n,e,i,s,o)}function ys(n,e,t,r,i,s,o){return $S(e^t^r,n,e,i,s,o)}function ws(n,e,t,r,i,s,o){return $S(t^(e|~r),n,e,i,s,o)}function Tq(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)GN(r,v1e(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(GN(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,GN(r,i),r}function v1e(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var tF="0123456789abcdef".split("");function y1e(n){for(var e="",t=0;t<4;t++)e+=tF[n>>8*t+4&15]+tF[n>>8*t&15];return e}function w1e(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function xI(n){return Tq(n).map(w1e).join("")}var b1e=function(n){for(var e=0;e<n.length;e++)n[e]=y1e(n[e]);return n.join("")}(Tq("hello"))!="5d41402abc4b2a76b9719d911017c592";function af(n,e){if(b1e){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _I(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var h=e.length,p=0,f=0,b="";for(l=0;l<h;l++)f=(f+(u=a[p=(p+1)%256]))%256,a[p]=a[f],a[f]=u,o=a[(a[p]+a[f])%256],b+=String.fromCharCode(e.charCodeAt(l)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var nF={print:4,modify:8,copy:16,"annot-forms":32};function Hg(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(nF.perm!==void 0)throw new Error("Invalid permission: "+a);i+=nF[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=xI(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=_I(this.encryptionKey,this.padding)}function qg(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function rF(n){if(On(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){Ut.console&&tr.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function aE(n){if(!(this instanceof aE))return new aE(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function kq(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function yp(n,e,t,r,i){if(!(this instanceof yp))return new yp(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,kq.call(this,r,i)}function f0(n,e,t,r,i){if(!(this instanceof f0))return new f0(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,kq.call(this,r,i)}function St(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;On(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=rF;var b="1.3",y=f.__private__.getPdfVersion=function(){return b};f.__private__.setPdfVersion=function(S){b=S};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return _};var w=f.__private__.getPageFormat=function(S){return _[S]};i=i||"a4";var A="compat",E="advanced",C=A;function F(){this.saveGraphicsState(),J(new ht(kt,0,0,-kt,0,Ta()*kt).toString()+" cm"),this.setFontSize(this.getFontSize()/kt),c="n",C=E}function V(){this.restoreGraphicsState(),c="S",C=A}var L=f.__private__.combineFontStyleAndFontWeight=function(S,$){if(S=="bold"&&$=="normal"||S=="bold"&&$==400||S=="normal"&&$=="italic"||S=="bold"&&$=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return $&&(S=$==400||$==="normal"?S==="italic"?"italic":"normal":$!=700&&$!=="bold"||S!=="normal"?($==700?"bold":$)+""+S:"bold"),S};f.advancedAPI=function(S){var $=C===A;return $&&F.call(this),typeof S!="function"||(S(this),$&&V.call(this)),this},f.compatAPI=function(S){var $=C===E;return $&&V.call(this),typeof S!="function"||(S(this),$&&F.call(this)),this},f.isAdvancedAPI=function(){return C===E};var N,I=function(S){if(C!==E)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=f.roundToPrecision=f.__private__.roundToPrecision=function(S,$){var ie=e||$;if(isNaN(S)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ie).replace(/0+$/,"")};N=f.hpf=f.__private__.hpf=typeof l=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return j(S,l)}:l==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return j(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return j(S,16)};var k=f.f2=f.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return j(S,2)},M=f.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return j(S,3)},R=f.scale=f.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return C===A?S*kt:C===E?S:void 0},q=function(S){return R(function($){return C===A?Ta()-$:C===E?$:void 0}(S))};f.__private__.setPrecision=f.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var ce,de="00000000000000000000000000000000",ae=f.__private__.getFileId=function(){return de},Q=f.__private__.setFileId=function(S){return de=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Jn=new Hg(u.userPermissions,u.userPassword,u.ownerPassword,de)),de};f.setFileId=function(S){return Q(S),this},f.getFileId=function(){return ae()};var ne=f.__private__.convertDateToPDFDate=function(S){var $=S.getTimezoneOffset(),ie=$<0?"+":"-",fe=Math.floor(Math.abs($/60)),ye=Math.abs($%60),Pe=[ie,re(fe),"'",re(ye),"'"].join("");return["D:",S.getFullYear(),re(S.getMonth()+1),re(S.getDate()),re(S.getHours()),re(S.getMinutes()),re(S.getSeconds()),Pe].join("")},ge=f.__private__.convertPDFDateToDate=function(S){var $=parseInt(S.substr(2,4),10),ie=parseInt(S.substr(6,2),10)-1,fe=parseInt(S.substr(8,2),10),ye=parseInt(S.substr(10,2),10),Pe=parseInt(S.substr(12,2),10),Be=parseInt(S.substr(14,2),10);return new Date($,ie,fe,ye,Pe,Be,0)},pe=f.__private__.setCreationDate=function(S){var $;if(S===void 0&&(S=new Date),S instanceof Date)$=ne(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");$=S}return ce=$},U=f.__private__.getCreationDate=function(S){var $=ce;return S==="jsDate"&&($=ge(ce)),$};f.setCreationDate=function(S){return pe(S),this},f.getCreationDate=function(S){return U(S)};var X,re=f.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},le=f.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},he=0,ue=[],_e=[],xe=0,Ae=[],je=[],Se=!1,Te=_e;f.__private__.setCustomOutputDestination=function(S){Se=!0,Te=S};var Le=function(S){Se||(Te=S)};f.__private__.resetCustomOutputDestination=function(){Se=!1,Te=_e};var J=f.__private__.out=function(S){return S=S.toString(),xe+=S.length+1,Te.push(S),Te},Oe=f.__private__.write=function(S){return J(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Xe=f.__private__.getArrayBuffer=function(S){for(var $=S.length,ie=new ArrayBuffer($),fe=new Uint8Array(ie);$--;)fe[$]=S.charCodeAt($);return ie},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ge};var Ie=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(S){return Ie=C===E?S/kt:S,this};var ut,Qe=f.__private__.getFontSize=f.getFontSize=function(){return C===A?Ie:Ie*kt},De=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(S){return De=S,this},f.__private__.getR2L=f.getR2L=function(){return De};var Ve,nt=f.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))ut=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');ut=S}else ut=parseInt(S,10)};f.__private__.getZoomMode=function(){return ut};var Ct,We=f.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Ve=S};f.__private__.getPageMode=function(){return Ve};var dt=f.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Ct=S};f.__private__.getLayoutMode=function(){return Ct},f.__private__.setDisplayMode=f.setDisplayMode=function(S,$,ie){return nt(S),dt($),We(ie),this};var Bt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(S){if(Object.keys(Bt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Bt[S]},f.__private__.getDocumentProperties=function(){return Bt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(S){for(var $ in Bt)Bt.hasOwnProperty($)&&S[$]&&(Bt[$]=S[$]);return this},f.__private__.setDocumentProperty=function(S,$){if(Object.keys(Bt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Bt[S]=$};var st,kt,wt,Ln,nn,Ot={},Vt={},An=[],Et={},Cn={},Nt={},Ft={},Nn=null,zt=0,mt=[],rn=new rF(f),It=n.hotfixes||[],Mt={},cn={},Wn=[],ht=function S($,ie,fe,ye,Pe,Be){if(!(this instanceof S))return new S($,ie,fe,ye,Pe,Be);isNaN($)&&($=1),isNaN(ie)&&(ie=0),isNaN(fe)&&(fe=0),isNaN(ye)&&(ye=1),isNaN(Pe)&&(Pe=0),isNaN(Be)&&(Be=0),this._matrix=[$,ie,fe,ye,Pe,Be]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(S)},ht.prototype.multiply=function(S){var $=S.sx*this.sx+S.shy*this.shx,ie=S.sx*this.shy+S.shy*this.sy,fe=S.shx*this.sx+S.sy*this.shx,ye=S.shx*this.shy+S.sy*this.sy,Pe=S.tx*this.sx+S.ty*this.shx+this.tx,Be=S.tx*this.shy+S.ty*this.sy+this.ty;return new ht($,ie,fe,ye,Pe,Be)},ht.prototype.decompose=function(){var S=this.sx,$=this.shy,ie=this.shx,fe=this.sy,ye=this.tx,Pe=this.ty,Be=Math.sqrt(S*S+$*$),lt=(S/=Be)*ie+($/=Be)*fe;ie-=S*lt,fe-=$*lt;var gt=Math.sqrt(ie*ie+fe*fe);return lt/=gt,S*(fe/=gt)<$*(ie/=gt)&&(S=-S,$=-$,lt=-lt,Be=-Be),{scale:new ht(Be,0,0,gt,0,0),translate:new ht(1,0,0,1,ye,Pe),rotate:new ht(S,$,-$,S,0,0),skew:new ht(1,0,lt,1,0,0)}},ht.prototype.toString=function(S){return this.join(" ")},ht.prototype.inversed=function(){var S=this.sx,$=this.shy,ie=this.shx,fe=this.sy,ye=this.tx,Pe=this.ty,Be=1/(S*fe-$*ie),lt=fe*Be,gt=-$*Be,Dt=-ie*Be,Ht=S*Be;return new ht(lt,gt,Dt,Ht,-lt*ye-Dt*Pe,-gt*ye-Ht*Pe)},ht.prototype.applyToPoint=function(S){var $=S.x*this.sx+S.y*this.shx+this.tx,ie=S.x*this.shy+S.y*this.sy+this.ty;return new Ca($,ie)},ht.prototype.applyToRectangle=function(S){var $=this.applyToPoint(S),ie=this.applyToPoint(new Ca(S.x+S.w,S.y+S.h));return new zd($.x,$.y,ie.x-$.x,ie.y-$.y)},ht.prototype.clone=function(){var S=this.sx,$=this.shy,ie=this.shx,fe=this.sy,ye=this.tx,Pe=this.ty;return new ht(S,$,ie,fe,ye,Pe)},f.Matrix=ht;var bn=f.matrixMult=function(S,$){return $.multiply(S)},si=new ht(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=si;var Dn=function(S,$){if(!Cn[S]){var ie=($ instanceof yp?"Sh":"P")+(Object.keys(Et).length+1).toString(10);$.id=ie,Cn[S]=ie,Et[ie]=$,rn.publish("addPattern",$)}};f.ShadingPattern=yp,f.TilingPattern=f0,f.addShadingPattern=function(S,$){return I("addShadingPattern()"),Dn(S,$),this},f.beginTilingPattern=function(S){I("beginTilingPattern()"),ic(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},f.endTilingPattern=function(S,$){I("endTilingPattern()"),$.stream=je[X].join(`
`),Dn(S,$),rn.publish("endTilingPattern",$),Wn.pop().restore()};var Qn,yr=f.__private__.newObject=function(){var S=oi();return wr(S,!0),S},oi=f.__private__.newObjectDeferred=function(){return he++,ue[he]=function(){return xe},he},wr=function(S,$){return $=typeof $=="boolean"&&$,ue[S]=xe,$&&J(S+" 0 obj"),S},au=f.__private__.newAdditionalObject=function(){var S={objId:oi(),content:""};return Ae.push(S),S},Ql=oi(),cs=oi(),Lo=f.__private__.decodeColorString=function(S){var $=S.split(" ");if($.length!==2||$[1]!=="g"&&$[1]!=="G")$.length!==5||$[4]!=="k"&&$[4]!=="K"||($=[(1-$[0])*(1-$[3]),(1-$[1])*(1-$[3]),(1-$[2])*(1-$[3]),"r"]);else{var ie=parseFloat($[0]);$=[ie,ie,ie,"r"]}for(var fe="#",ye=0;ye<3;ye++)fe+=("0"+Math.floor(255*parseFloat($[ye])).toString(16)).slice(-2);return fe},js=f.__private__.encodeColorString=function(S){var $;typeof S=="string"&&(S={ch1:S});var ie=S.ch1,fe=S.ch2,ye=S.ch3,Pe=S.ch4,Be=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var lt=new Nq(ie);if(lt.ok)ie=lt.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var gt=parseInt(ie.substr(1),16);ie=gt>>16&255,fe=gt>>8&255,ye=255&gt}if(fe===void 0||Pe===void 0&&ie===fe&&fe===ye)$=typeof ie=="string"?ie+" "+Be[0]:S.precision===2?k(ie/255)+" "+Be[0]:M(ie/255)+" "+Be[0];else if(Pe===void 0||On(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return["1.","1.","1.",Be[1]].join(" ");$=typeof ie=="string"?[ie,fe,ye,Be[1]].join(" "):S.precision===2?[k(ie/255),k(fe/255),k(ye/255),Be[1]].join(" "):[M(ie/255),M(fe/255),M(ye/255),Be[1]].join(" ")}else $=typeof ie=="string"?[ie,fe,ye,Pe,Be[2]].join(" "):S.precision===2?[k(ie),k(fe),k(ye),k(Pe),Be[2]].join(" "):[M(ie),M(fe),M(ye),M(Pe),Be[2]].join(" ");return $},us=f.__private__.getFilters=function(){return o},qr=f.__private__.putStream=function(S){var $=(S=S||{}).data||"",ie=S.filters||us(),fe=S.alreadyAppliedFilters||[],ye=S.addLength1||!1,Pe=$.length,Be=S.objectId,lt=function(jr){return jr};if(u!==null&&Be===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(lt=Jn.encryptor(Be,0));var gt={};ie===!0&&(ie=["FlateEncode"]);var Dt=S.additionalKeyValues||[],Ht=(gt=St.API.processDataByFilters!==void 0?St.API.processDataByFilters($,ie):{data:$,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(gt.data.length!==0&&(Dt.push({key:"Length",value:gt.data.length}),ye===!0&&Dt.push({key:"Length1",value:Pe})),Ht.length!=0)if(Ht.split("/").length-1==1)Dt.push({key:"Filter",value:Ht});else{Dt.push({key:"Filter",value:"["+Ht+"]"});for(var hn=0;hn<Dt.length;hn+=1)if(Dt[hn].key==="DecodeParms"){for(var In=[],Er=0;Er<gt.reverseChain.split("/").length-1;Er+=1)In.push("null");In.push(Dt[hn].value),Dt[hn].value="["+In.join(" ")+"]"}}J("<<");for(var Fn=0;Fn<Dt.length;Fn++)J("/"+Dt[Fn].key+" "+Dt[Fn].value);J(">>"),gt.data.length!==0&&(J("stream"),J(lt(gt.data)),J("endstream"))},Jl=f.__private__.putPage=function(S){var $=S.number,ie=S.data,fe=S.objId,ye=S.contentsObjId;wr(fe,!0),J("<</Type /Page"),J("/Parent "+S.rootDictionaryObjId+" 0 R"),J("/Resources "+S.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(N(S.mediaBox.bottomLeftX))+" "+parseFloat(N(S.mediaBox.bottomLeftY))+" "+N(S.mediaBox.topRightX)+" "+N(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&J("/CropBox ["+N(S.cropBox.bottomLeftX)+" "+N(S.cropBox.bottomLeftY)+" "+N(S.cropBox.topRightX)+" "+N(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&J("/BleedBox ["+N(S.bleedBox.bottomLeftX)+" "+N(S.bleedBox.bottomLeftY)+" "+N(S.bleedBox.topRightX)+" "+N(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&J("/TrimBox ["+N(S.trimBox.bottomLeftX)+" "+N(S.trimBox.bottomLeftY)+" "+N(S.trimBox.topRightX)+" "+N(S.trimBox.topRightY)+"]"),S.artBox!==null&&J("/ArtBox ["+N(S.artBox.bottomLeftX)+" "+N(S.artBox.bottomLeftY)+" "+N(S.artBox.topRightX)+" "+N(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&J("/UserUnit "+S.userUnit),rn.publish("putPage",{objId:fe,pageContext:mt[$],pageNumber:$,page:ie}),J("/Contents "+ye+" 0 R"),J(">>"),J("endobj");var Pe=ie.join(`
`);return C===E&&(Pe+=`
Q`),wr(ye,!0),qr({data:Pe,filters:us(),objectId:ye}),J("endobj"),fe},Do=f.__private__.putPages=function(){var S,$,ie=[];for(S=1;S<=zt;S++)mt[S].objId=oi(),mt[S].contentsObjId=oi();for(S=1;S<=zt;S++)ie.push(Jl({number:S,data:je[S],objId:mt[S].objId,contentsObjId:mt[S].contentsObjId,mediaBox:mt[S].mediaBox,cropBox:mt[S].cropBox,bleedBox:mt[S].bleedBox,trimBox:mt[S].trimBox,artBox:mt[S].artBox,userUnit:mt[S].userUnit,rootDictionaryObjId:Ql,resourceDictionaryObjId:cs}));wr(Ql,!0),J("<</Type /Pages");var fe="/Kids [";for($=0;$<zt;$++)fe+=ie[$]+" 0 R ";J(fe+"]"),J("/Count "+zt),J(">>"),J("endobj"),rn.publish("postPutPages")},ol=function(S){rn.publish("putFont",{font:S,out:J,newObject:yr,putStream:qr}),S.isAlreadyPutted!==!0&&(S.objectNumber=yr(),J("<<"),J("/Type /Font"),J("/BaseFont /"+qg(S.postScriptName)),J("/Subtype /Type1"),typeof S.encoding=="string"&&J("/Encoding /"+S.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Zl=function(S){S.objectNumber=yr();var $=[];$.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Form"}),$.push({key:"BBox",value:"["+[N(S.x),N(S.y),N(S.x+S.width),N(S.y+S.height)].join(" ")+"]"}),$.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ie=S.pages[1].join(`
`);qr({data:ie,additionalKeyValues:$,objectId:S.objectNumber}),J("endobj")},lu=function(S,$){$||($=21);var ie=yr(),fe=function(Be,lt){var gt,Dt=[],Ht=1/(lt-1);for(gt=0;gt<1;gt+=Ht)Dt.push(gt);if(Dt.push(1),Be[0].offset!=0){var hn={offset:0,color:Be[0].color};Be.unshift(hn)}if(Be[Be.length-1].offset!=1){var In={offset:1,color:Be[Be.length-1].color};Be.push(In)}for(var Er="",Fn=0,jr=0;jr<Dt.length;jr++){for(gt=Dt[jr];gt>Be[Fn+1].offset;)Fn++;var Sr=Be[Fn].offset,Or=(gt-Sr)/(Be[Fn+1].offset-Sr),Cr=Be[Fn].color,lo=Be[Fn+1].color;Er+=le(Math.round((1-Or)*Cr[0]+Or*lo[0]).toString(16))+le(Math.round((1-Or)*Cr[1]+Or*lo[1]).toString(16))+le(Math.round((1-Or)*Cr[2]+Or*lo[2]).toString(16))}return Er.trim()}(S.colors,$),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+$+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qr({data:fe,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),J("endobj"),S.objectNumber=yr(),J("<< /ShadingType "+S.type),J("/ColorSpace /DeviceRGB");var Pe="/Coords ["+N(parseFloat(S.coords[0]))+" "+N(parseFloat(S.coords[1]))+" ";S.type===2?Pe+=N(parseFloat(S.coords[2]))+" "+N(parseFloat(S.coords[3])):Pe+=N(parseFloat(S.coords[2]))+" "+N(parseFloat(S.coords[3]))+" "+N(parseFloat(S.coords[4]))+" "+N(parseFloat(S.coords[5])),J(Pe+="]"),S.matrix&&J("/Matrix ["+S.matrix.toString()+"]"),J("/Function "+ie+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},cu=function(S,$){var ie=oi(),fe=yr();$.push({resourcesOid:ie,objectOid:fe}),S.objectNumber=fe;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+S.boundingBox.map(N).join(" ")+"]"}),ye.push({key:"XStep",value:N(S.xStep)}),ye.push({key:"YStep",value:N(S.yStep)}),ye.push({key:"Resources",value:ie+" 0 R"}),S.matrix&&ye.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),qr({data:S.stream,additionalKeyValues:ye,objectId:S.objectNumber}),J("endobj")},F1=function(S){for(var $ in S.objectNumber=yr(),J("<<"),S)switch($){case"opacity":J("/ca "+k(S[$]));break;case"stroke-opacity":J("/CA "+k(S[$]))}J(">>"),J("endobj")},ec=function(S){wr(S.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var $ in J("/Font <<"),Ot)Ot.hasOwnProperty($)&&(h===!1||h===!0&&p.hasOwnProperty($))&&J("/"+$+" "+Ot[$].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(Et).length>0){for(var $ in J("/Shading <<"),Et)Et.hasOwnProperty($)&&Et[$]instanceof yp&&Et[$].objectNumber>=0&&J("/"+$+" "+Et[$].objectNumber+" 0 R");rn.publish("putShadingPatternDict"),J(">>")}}(),function($){if(Object.keys(Et).length>0){for(var ie in J("/Pattern <<"),Et)Et.hasOwnProperty(ie)&&Et[ie]instanceof f.TilingPattern&&Et[ie].objectNumber>=0&&Et[ie].objectNumber<$&&J("/"+ie+" "+Et[ie].objectNumber+" 0 R");rn.publish("putTilingPatternDict"),J(">>")}}(S.objectOid),function(){if(Object.keys(Nt).length>0){var $;for($ in J("/ExtGState <<"),Nt)Nt.hasOwnProperty($)&&Nt[$].objectNumber>=0&&J("/"+$+" "+Nt[$].objectNumber+" 0 R");rn.publish("putGStateDict"),J(">>")}}(),function(){for(var $ in J("/XObject <<"),Mt)Mt.hasOwnProperty($)&&Mt[$].objectNumber>=0&&J("/"+$+" "+Mt[$].objectNumber+" 0 R");rn.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},qf=function(S){Vt[S.fontName]=Vt[S.fontName]||{},Vt[S.fontName][S.fontStyle]=S.id},jd=function(S,$,ie,fe,ye){var Pe={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:S,fontName:$,fontStyle:ie,encoding:fe,isStandardFont:ye||!1,metadata:{}};return rn.publish("addFont",{font:Pe,instance:this}),Ot[Pe.id]=Pe,qf(Pe),Pe.id},Ti=f.__private__.pdfEscape=f.pdfEscape=function(S,$){return function(ie,fe){var ye,Pe,Be,lt,gt,Dt,Ht,hn,In;if(Be=(fe=fe||{}).sourceEncoding||"Unicode",gt=fe.outputEncoding,(fe.autoencode||gt)&&Ot[st].metadata&&Ot[st].metadata[Be]&&Ot[st].metadata[Be].encoding&&(lt=Ot[st].metadata[Be].encoding,!gt&&Ot[st].encoding&&(gt=Ot[st].encoding),!gt&&lt.codePages&&(gt=lt.codePages[0]),typeof gt=="string"&&(gt=lt[gt]),gt)){for(Ht=!1,Dt=[],ye=0,Pe=ie.length;ye<Pe;ye++)(hn=gt[ie.charCodeAt(ye)])?Dt.push(String.fromCharCode(hn)):Dt.push(ie[ye]),Dt[ye].charCodeAt(0)>>8&&(Ht=!0);ie=Dt.join("")}for(ye=ie.length;Ht===void 0&&ye!==0;)ie.charCodeAt(ye-1)>>8&&(Ht=!0),ye--;if(!Ht)return ie;for(Dt=fe.noBOM?[]:[254,255],ye=0,Pe=ie.length;ye<Pe;ye++){if((In=(hn=ie.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Dt.push(In),Dt.push(hn-(In<<8))}return String.fromCharCode.apply(void 0,Dt)}(S,$).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mo=f.__private__.beginPage=function(S){je[++zt]=[],mt[zt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Gf(zt),Le(je[X])},Od=function(S,$){var ie,fe,ye;switch(t=$||t,typeof S=="string"&&(ie=w(S.toLowerCase()),Array.isArray(ie)&&(fe=ie[0],ye=ie[1])),Array.isArray(S)&&(fe=S[0]*kt,ye=S[1]*kt),isNaN(fe)&&(fe=i[0],ye=i[1]),(fe>14400||ye>14400)&&(tr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),ye=Math.min(14400,ye)),i=[fe,ye],t.substr(0,1)){case"l":ye>fe&&(i=[ye,fe]);break;case"p":fe>ye&&(i=[ye,fe])}Mo(i),Lt(Bd),J(ll),Gn!==0&&J(Gn+" J"),Zf!==0&&J(Zf+" j"),rn.publish("addPage",{pageNumber:zt})},Wf=function(S){S>0&&S<=zt&&(je.splice(S,1),mt.splice(S,1),zt--,X>zt&&(X=zt),this.setPage(X))},Gf=function(S){S>0&&S<=zt&&(X=S)},Kf=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return je.length-1},Yf=function(S,$,ie){var fe,ye=void 0;return ie=ie||{},S=S!==void 0?S:Ot[st].fontName,$=$!==void 0?$:Ot[st].fontStyle,fe=S.toLowerCase(),Vt[fe]!==void 0&&Vt[fe][$]!==void 0?ye=Vt[fe][$]:Vt[S]!==void 0&&Vt[S][$]!==void 0?ye=Vt[S][$]:ie.disableWarning===!1&&tr.warn("Unable to look up font label for font '"+S+"', '"+$+"'. Refer to getFontList() for available fonts."),ye||ie.noFallback||(ye=Vt.times[$])==null&&(ye=Vt.times.normal),ye},oo=f.__private__.putInfo=function(){var S=yr(),$=function(fe){return fe};for(var ie in u!==null&&($=Jn.encryptor(S,0)),J("<<"),J("/Producer ("+Ti($("jsPDF "+St.version))+")"),Bt)Bt.hasOwnProperty(ie)&&Bt[ie]&&J("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Ti($(Bt[ie]))+")");J("/CreationDate ("+Ti($(ce))+")"),J(">>"),J("endobj")},tc=f.__private__.putCatalog=function(S){var $=(S=S||{}).rootDictionaryObjId||Ql;switch(yr(),J("<<"),J("/Type /Catalog"),J("/Pages "+$+" 0 R"),ut||(ut="fullwidth"),ut){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+ut;ie.substr(ie.length-1)==="%"&&(ut=parseInt(ut)/100),typeof ut=="number"&&J("/OpenAction [3 0 R /XYZ null null "+k(ut)+"]")}switch(Ct||(Ct="continuous"),Ct){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Ve&&J("/PageMode /"+Ve),rn.publish("putCatalog"),J(">>"),J("endobj")},_g=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(he+1)),J("/Root "+he+" 0 R"),J("/Info "+(he-1)+" 0 R"),u!==null&&J("/Encrypt "+Jn.oid+" 0 R"),J("/ID [ <"+de+"> <"+de+"> ]"),J(">>")},Ar=f.__private__.putHeader=function(){J("%PDF-"+b),J("%")},Ag=f.__private__.putXRef=function(){var S="0000000000";J("xref"),J("0 "+(he+1)),J("0000000000 65535 f ");for(var $=1;$<=he;$++)typeof ue[$]=="function"?J((S+ue[$]()).slice(-10)+" 00000 n "):ue[$]!==void 0?J((S+ue[$]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},_a=f.__private__.buildDocument=function(){var S;he=0,xe=0,_e=[],ue=[],Ae=[],Ql=oi(),cs=oi(),Le(_e),rn.publish("buildDocument"),Ar(),Do(),function(){rn.publish("putAdditionalObjects");for(var ie=0;ie<Ae.length;ie++){var fe=Ae[ie];wr(fe.objId,!0),J(fe.content),J("endobj")}rn.publish("postPutAdditionalObjects")}(),S=[],function(){for(var ie in Ot)Ot.hasOwnProperty(ie)&&(h===!1||h===!0&&p.hasOwnProperty(ie))&&ol(Ot[ie])}(),function(){var ie;for(ie in Nt)Nt.hasOwnProperty(ie)&&F1(Nt[ie])}(),function(){for(var ie in Mt)Mt.hasOwnProperty(ie)&&Zl(Mt[ie])}(),function(ie){var fe;for(fe in Et)Et.hasOwnProperty(fe)&&(Et[fe]instanceof yp?lu(Et[fe]):Et[fe]instanceof f0&&cu(Et[fe],ie))}(S),rn.publish("putResources"),S.forEach(ec),ec({resourcesOid:cs,objectOid:Number.MAX_SAFE_INTEGER}),rn.publish("postPutResources"),u!==null&&(Jn.oid=yr(),J("<<"),J("/Filter /Standard"),J("/V "+Jn.v),J("/R "+Jn.r),J("/U <"+Jn.toHexString(Jn.U)+">"),J("/O <"+Jn.toHexString(Jn.O)+">"),J("/P "+Jn.P),J(">>"),J("endobj")),oo(),tc();var $=xe;return Ag(),_g(),J("startxref"),J(""+$),J("%%EOF"),Le(je[X]),_e.join(`
`)},uu=f.__private__.getBlob=function(S){return new Blob([Xe(S)],{type:"application/pdf"})},Xf=f.output=f.__private__.output=(Qn=function(S,$){switch(typeof($=$||{})=="string"?$={filename:$}:$.filename=$.filename||"generated.pdf",S){case void 0:return _a();case"save":f.save($.filename);break;case"arraybuffer":return Xe(_a());case"blob":return uu(_a());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(uu(_a()))||void 0;tr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",fe=_a();try{ie=eF(fe)}catch{ie=eF(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+$.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';$.pdfObjectUrl&&(ye=$.pdfObjectUrl,Pe="");var Be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify($)+");<\/script></body></html>",lt=Ut.open();return lt!==null&&lt.document.write(Be),lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+($.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+$.filename+'" width="500px" height="400px" /></body></html>',Dt=Ut.open();if(Dt!==null){Dt.document.write(gt);var Ht=this;Dt.document.documentElement.querySelector("#pdfViewer").onload=function(){Dt.document.title=$.filename,Dt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return Dt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",$)+'"></iframe></body></html>',In=Ut.open();if(In!==null&&(In.document.write(hn),In.document.title=$.filename),In||typeof safari>"u")return In;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",$);default:return null}},Qn.foo=function(){try{return Qn.apply(this,arguments)}catch(ie){var S=ie.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var $="Error in function "+S.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Ut.console)throw new Error($);Ut.console.error($,ie),Ut.alert&&alert($)}},Qn.foo.bar=Qn,Qn.foo),ao=function(S){return Array.isArray(It)===!0&&It.indexOf(S)>-1};switch(r){case"pt":kt=1;break;case"mm":kt=72/25.4;break;case"cm":kt=72/2.54;break;case"in":kt=72;break;case"px":kt=ao("px_scaling")==1?.75:96/72;break;case"pc":case"em":kt=12;break;case"ex":kt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);kt=r}var Jn=null;pe(),Q();var pi=f.__private__.getPageInfo=f.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[S].objId,pageNumber:S,pageContext:mt[S]}},du=f.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var $ in mt)if(mt[$].objId===S)break;return pi($)},Fd=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:mt[X].objId,pageNumber:X,pageContext:mt[X]}};f.addPage=function(){return Od.apply(this,arguments),this},f.setPage=function(){return Gf.apply(this,arguments),Le.call(this,je[X]),this},f.insertPage=function(S){return this.addPage(),this.movePage(X,S),this},f.movePage=function(S,$){var ie,fe;if(S>$){ie=je[S],fe=mt[S];for(var ye=S;ye>$;ye--)je[ye]=je[ye-1],mt[ye]=mt[ye-1];je[$]=ie,mt[$]=fe,this.setPage($)}else if(S<$){ie=je[S],fe=mt[S];for(var Pe=S;Pe<$;Pe++)je[Pe]=je[Pe+1],mt[Pe]=mt[Pe+1];je[$]=ie,mt[$]=fe,this.setPage($)}return this},f.deletePage=function(){return Wf.apply(this,arguments),this},f.__private__.text=f.text=function(S,$,ie,fe,ye){var Pe,Be,lt,gt,Dt,Ht,hn,In,Er,Fn=(fe=fe||{}).scope||this;if(typeof S=="number"&&typeof $=="number"&&(typeof ie=="string"||Array.isArray(ie))){var jr=ie;ie=$,$=S,S=jr}if(arguments[3]instanceof ht==0?(lt=arguments[4],gt=arguments[5],On(hn=arguments[3])==="object"&&hn!==null||(typeof lt=="string"&&(gt=lt,lt=null),typeof hn=="string"&&(gt=hn,hn=null),typeof hn=="number"&&(lt=hn,hn=null),fe={flags:hn,angle:lt,align:gt})):(I("The transform parameter of text() with a Matrix value"),Er=ye),isNaN($)||isNaN(ie)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Fn;var Sr,Or="",Cr=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:rc,lo=Fn.internal.scaleFactor;function ka(Mn){return Mn=Mn.split("	").join(Array(fe.TabLen||9).join(" ")),Ti(Mn,hn)}function Ia(Mn){for(var Zn,Gr=Mn.concat(),mi=[],vu=Gr.length;vu--;)typeof(Zn=Gr.shift())=="string"?mi.push(Zn):Array.isArray(Mn)&&(Zn.length===1||Zn[1]===void 0&&Zn[2]===void 0)?mi.push(Zn[0]):mi.push([Zn[0],Zn[1],Zn[2]]);return mi}function v(Mn,Zn){var Gr;if(typeof Mn=="string")Gr=Zn(Mn)[0];else if(Array.isArray(Mn)){for(var mi,vu,J1=Mn.concat(),Pg=[],Nx=J1.length;Nx--;)typeof(mi=J1.shift())=="string"?Pg.push(Zn(mi)[0]):Array.isArray(mi)&&typeof mi[0]=="string"&&(vu=Zn(mi[0],mi[1],mi[2]),Pg.push([vu[0],vu[1],vu[2]]));Gr=Pg}return Gr}var P=!1,B=!0;if(typeof S=="string")P=!0;else if(Array.isArray(S)){var ee=S.concat();Be=[];for(var we,Ne=ee.length;Ne--;)(typeof(we=ee.shift())!="string"||Array.isArray(we)&&typeof we[0]!="string")&&(B=!1);P=B}if(P===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var qe=Ie/Fn.internal.scaleFactor,mn=qe*(Cr-1);switch(fe.baseline){case"bottom":ie-=mn;break;case"top":ie+=qe-mn;break;case"hanging":ie+=qe-2*mn;break;case"middle":ie+=qe/2-mn}if((Ht=fe.maxWidth||0)>0&&(typeof S=="string"?S=Fn.splitTextToSize(S,Ht):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Mn,Zn){return Mn.concat(Fn.splitTextToSize(Zn,Ht))},[]))),Pe={text:S,x:$,y:ie,options:fe,mutex:{pdfEscape:Ti,activeFontKey:st,fonts:Ot,activeFontSize:Ie}},rn.publish("preProcessText",Pe),S=Pe.text,lt=(fe=Pe.options).angle,Er instanceof ht==0&&lt&&typeof lt=="number"){lt*=Math.PI/180,fe.rotationDirection===0&&(lt=-lt),C===E&&(lt=-lt);var Nr=Math.cos(lt),an=Math.sin(lt);Er=new ht(Nr,an,-an,Nr,0,0)}else lt&&lt instanceof ht&&(Er=lt);C!==E||Er||(Er=si),(Dt=fe.charSpace||Sa)!==void 0&&(Or+=N(R(Dt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(In=fe.horizontalScale)!==void 0&&(Or+=N(100*In)+` Tz
`),fe.lang;var Tn=-1,ir=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Oo=Fn.internal.getCurrentPageInfo().pageContext;switch(ir){case 0:case!1:case"fill":Tn=0;break;case 1:case!0:case"stroke":Tn=1;break;case 2:case"fillThenStroke":Tn=2;break;case 3:case"invisible":Tn=3;break;case 4:case"fillAndAddForClipping":Tn=4;break;case 5:case"strokeAndAddPathForClipping":Tn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Tn=6;break;case 7:case"addToPathForClipping":Tn=7}var ds=Oo.usedRenderingMode!==void 0?Oo.usedRenderingMode:-1;Tn!==-1?Or+=Tn+` Tr
`:ds!==-1&&(Or+=`0 Tr
`),Tn!==-1&&(Oo.usedRenderingMode=Tn),gt=fe.align||"left";var qi,cl=Ie*Cr,q1=Fn.internal.pageSize.getWidth(),W1=Ot[st];Dt=fe.charSpace||Sa,Ht=fe.maxWidth||0,hn=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var Hd=[],np=function(Mn){return Fn.getStringUnitWidth(Mn,{font:W1,charSpace:Dt,fontSize:Ie,doKerning:!1})*Ie/lo};if(Object.prototype.toString.call(S)==="[object Array]"){var Fo;Be=Ia(S),gt!=="left"&&(qi=Be.map(np));var Bo,qd=0;if(gt==="right"){$-=qi[0],S=[],Ne=Be.length;for(var gu=0;gu<Ne;gu++)gu===0?(Bo=ki($),Fo=al(ie)):(Bo=R(qd-qi[gu]),Fo=-cl),S.push([Be[gu],Bo,Fo]),qd=qi[gu]}else if(gt==="center"){$-=qi[0]/2,S=[],Ne=Be.length;for(var Wd=0;Wd<Ne;Wd++)Wd===0?(Bo=ki($),Fo=al(ie)):(Bo=R((qd-qi[Wd])/2),Fo=-cl),S.push([Be[Wd],Bo,Fo]),qd=qi[Wd]}else if(gt==="left"){S=[],Ne=Be.length;for(var G1=0;G1<Ne;G1++)S.push(Be[G1])}else if(gt==="justify"&&W1.encoding==="Identity-H"){S=[],Ne=Be.length,Ht=Ht!==0?Ht:q1;for(var Ig=0,Wr=0;Wr<Ne;Wr++)if(Fo=Wr===0?al(ie):-cl,Bo=Wr===0?ki($):Ig,Wr<Ne-1){var Cx=R((Ht-qi[Wr])/(Be[Wr].split(" ").length-1)),oc=Be[Wr].split(" ");S.push([oc[0]+" ",Bo,Fo]),Ig=0;for(var ac=1;ac<oc.length;ac++){var K1=(np(oc[ac-1]+" "+oc[ac])-np(oc[ac]))*lo+Cx;ac==oc.length-1?S.push([oc[ac],K1,0]):S.push([oc[ac]+" ",K1,0]),Ig-=K1}}else S.push([Be[Wr],Bo,Fo]);S.push(["",Ig,0])}else{if(gt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Ne=Be.length,Ht=Ht!==0?Ht:q1,Wr=0;Wr<Ne;Wr++){Fo=Wr===0?al(ie):-cl,Bo=Wr===0?ki($):0;var Y1=Be[Wr].split(" ").length-1,X1=Y1>0?(Ht-qi[Wr])/Y1:0;Wr<Ne-1?Hd.push(N(R(X1))):Hd.push(0),S.push([Be[Wr],Bo,Fo])}}}(typeof fe.R2L=="boolean"?fe.R2L:De)===!0&&(S=v(S,function(Mn,Zn,Gr){return[Mn.split("").reverse().join(""),Zn,Gr]})),Pe={text:S,x:$,y:ie,options:fe,mutex:{pdfEscape:Ti,activeFontKey:st,fonts:Ot,activeFontSize:Ie}},rn.publish("postProcessText",Pe),S=Pe.text,Sr=Pe.mutex.isHex||!1;var Q1=Ot[st].encoding;Q1!=="WinAnsiEncoding"&&Q1!=="StandardEncoding"||(S=v(S,function(Mn,Zn,Gr){return[ka(Mn),Zn,Gr]})),Be=Ia(S),S=[];for(var Gd,Kd,Yd,rp=Array.isArray(Be[0])?1:0,Xd="",ip=function(Mn,Zn,Gr){var mi="";return Gr instanceof ht?(Gr=typeof fe.angle=="number"?bn(Gr,new ht(1,0,0,1,Mn,Zn)):bn(new ht(1,0,0,1,Mn,Zn),Gr),C===E&&(Gr=bn(new ht(1,0,0,-1,0,0),Gr)),mi=Gr.join(" ")+` Tm
`):mi=N(Mn)+" "+N(Zn)+` Td
`,mi},Pa=0;Pa<Be.length;Pa++){switch(Xd="",rp){case 1:Yd=(Sr?"<":"(")+Be[Pa][0]+(Sr?">":")"),Gd=parseFloat(Be[Pa][1]),Kd=parseFloat(Be[Pa][2]);break;case 0:Yd=(Sr?"<":"(")+Be[Pa]+(Sr?">":")"),Gd=ki($),Kd=al(ie)}Hd!==void 0&&Hd[Pa]!==void 0&&(Xd=Hd[Pa]+` Tw
`),Pa===0?S.push(Xd+ip(Gd,Kd,Er)+Yd):rp===0?S.push(Xd+Yd):rp===1&&S.push(Xd+ip(Gd,Kd,Er)+Yd)}S=rp===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var lc=`BT
/`;return lc+=st+" "+Ie+` Tf
`,lc+=N(Ie*Cr)+` TL
`,lc+=jo+`
`,lc+=Or,lc+=S,J(lc+="ET"),p[st]=!0,Fn};var Eg=f.__private__.clip=f.clip=function(S){return J(S==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Eg("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var dn=f.__private__.isValidStyle=function(S){var $=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&($=!0),$};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(S){return dn(S)&&(c=S),this};var hu=f.__private__.getStyle=f.getStyle=function(S){var $=c;switch(S){case"D":case"S":$="S";break;case"F":$="f";break;case"FD":case"DF":$="B";break;case"f":case"f*":case"B":case"B*":$=S}return $},nc=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(S){return Aa("f",S),this},f.fillEvenOdd=function(S){return Aa("f*",S),this},f.fillStroke=function(S){return Aa("B",S),this},f.fillStrokeEvenOdd=function(S){return Aa("B*",S),this};var Aa=function(S,$){On($)==="object"?B1($,S):J(S)},fu=function(S){S===null||C===E&&S===void 0||(S=hu(S),J(S))};function Sg(S,$,ie,fe,ye){var Pe=new f0($||this.boundingBox,ie||this.xStep,fe||this.yStep,this.gState,ye||this.matrix);Pe.stream=this.stream;var Be=S+"$$"+this.cloneIndex+++"$$";return Dn(Be,Pe),Pe}var B1=function(S,$){var ie=Cn[S.key],fe=Et[ie];if(fe instanceof yp)J("q"),J(U1($)),fe.gState&&f.setGState(fe.gState),J(S.matrix.toString()+" cm"),J("/"+ie+" sh"),J("Q");else if(fe instanceof f0){var ye=new ht(1,0,0,-1,0,Ta());S.matrix&&(ye=ye.multiply(S.matrix||si),ie=Sg.call(fe,S.key,S.boundingBox,S.xStep,S.yStep,ye).id),J("q"),J("/Pattern cs"),J("/"+ie+" scn"),fe.gState&&f.setGState(fe.gState),J($),J("Q")}},U1=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Qf=f.moveTo=function(S,$){return J(N(R(S))+" "+N(q($))+" m"),this},Cg=f.lineTo=function(S,$){return J(N(R(S))+" "+N(q($))+" l"),this},Hi=f.curveTo=function(S,$,ie,fe,ye,Pe){return J([N(R(S)),N(q($)),N(R(ie)),N(q(fe)),N(R(ye)),N(q(Pe)),"c"].join(" ")),this};f.__private__.line=f.line=function(S,$,ie,fe,ye){if(isNaN(S)||isNaN($)||isNaN(ie)||isNaN(fe)||!dn(ye))throw new Error("Invalid arguments passed to jsPDF.line");return C===A?this.lines([[ie-S,fe-$]],S,$,[1,1],ye||"S"):this.lines([[ie-S,fe-$]],S,$,[1,1]).stroke()},f.__private__.lines=f.lines=function(S,$,ie,fe,ye,Pe){var Be,lt,gt,Dt,Ht,hn,In,Er,Fn,jr,Sr,Or;if(typeof S=="number"&&(Or=ie,ie=$,$=S,S=Or),fe=fe||[1,1],Pe=Pe||!1,isNaN($)||isNaN(ie)||!Array.isArray(S)||!Array.isArray(fe)||!dn(ye)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Qf($,ie),Be=fe[0],lt=fe[1],Dt=S.length,jr=$,Sr=ie,gt=0;gt<Dt;gt++)(Ht=S[gt]).length===2?(jr=Ht[0]*Be+jr,Sr=Ht[1]*lt+Sr,Cg(jr,Sr)):(hn=Ht[0]*Be+jr,In=Ht[1]*lt+Sr,Er=Ht[2]*Be+jr,Fn=Ht[3]*lt+Sr,jr=Ht[4]*Be+jr,Sr=Ht[5]*lt+Sr,Hi(hn,In,Er,Fn,jr,Sr));return Pe&&nc(),fu(ye),this},f.path=function(S){for(var $=0;$<S.length;$++){var ie=S[$],fe=ie.c;switch(ie.op){case"m":Qf(fe[0],fe[1]);break;case"l":Cg(fe[0],fe[1]);break;case"c":Hi.apply(this,fe);break;case"h":nc()}}return this},f.__private__.rect=f.rect=function(S,$,ie,fe,ye){if(isNaN(S)||isNaN($)||isNaN(ie)||isNaN(fe)||!dn(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return C===A&&(fe=-fe),J([N(R(S)),N(q($)),N(R(ie)),N(R(fe)),"re"].join(" ")),fu(ye),this},f.__private__.triangle=f.triangle=function(S,$,ie,fe,ye,Pe,Be){if(isNaN(S)||isNaN($)||isNaN(ie)||isNaN(fe)||isNaN(ye)||isNaN(Pe)||!dn(Be))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-S,fe-$],[ye-ie,Pe-fe],[S-ye,$-Pe]],S,$,[1,1],Be,!0),this},f.__private__.roundedRect=f.roundedRect=function(S,$,ie,fe,ye,Pe,Be){if(isNaN(S)||isNaN($)||isNaN(ie)||isNaN(fe)||isNaN(ye)||isNaN(Pe)||!dn(Be))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lt=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*ie),Pe=Math.min(Pe,.5*fe),this.lines([[ie-2*ye,0],[ye*lt,0,ye,Pe-Pe*lt,ye,Pe],[0,fe-2*Pe],[0,Pe*lt,-ye*lt,Pe,-ye,Pe],[2*ye-ie,0],[-ye*lt,0,-ye,-Pe*lt,-ye,-Pe],[0,2*Pe-fe],[0,-Pe*lt,ye*lt,-Pe,ye,-Pe]],S+ye,$,[1,1],Be,!0),this},f.__private__.ellipse=f.ellipse=function(S,$,ie,fe,ye){if(isNaN(S)||isNaN($)||isNaN(ie)||isNaN(fe)||!dn(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*ie,Be=4/3*(Math.SQRT2-1)*fe;return Qf(S+ie,$),Hi(S+ie,$-Be,S+Pe,$-fe,S,$-fe),Hi(S-Pe,$-fe,S-ie,$-Be,S-ie,$),Hi(S-ie,$+Be,S-Pe,$+fe,S,$+fe),Hi(S+Pe,$+fe,S+ie,$+Be,S+ie,$),fu(ye),this},f.__private__.circle=f.circle=function(S,$,ie,fe){if(isNaN(S)||isNaN($)||isNaN(ie)||!dn(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,$,ie,ie,fe)},f.setFont=function(S,$,ie){return ie&&($=L($,ie)),st=Yf(S,$,{disableWarning:!1}),this};var Ea=f.__private__.getFont=f.getFont=function(){return Ot[Yf.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var S,$,ie={};for(S in Vt)if(Vt.hasOwnProperty(S))for($ in ie[S]=[],Vt[S])Vt[S].hasOwnProperty($)&&ie[S].push($);return ie},f.addFont=function(S,$,ie,fe,ye){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(ie=L(ie,fe)),jd.call(this,S,$,ie,ye=ye||"Identity-H")};var rc,Bd=n.lineWidth||.200025,Ng=f.__private__.getLineWidth=f.getLineWidth=function(){return Bd},Lt=f.__private__.setLineWidth=f.setLineWidth=function(S){return Bd=S,J(N(R(S))+" w"),this};f.__private__.setLineDash=St.API.setLineDash=St.API.setLineDashPattern=function(S,$){if(S=S||[],$=$||0,isNaN($)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ie){return N(R(ie))}).join(" "),$=N(R($)),J("["+S+"] "+$+" d"),this};var V1=f.__private__.getLineHeight=f.getLineHeight=function(){return Ie*rc};f.__private__.getLineHeight=f.getLineHeight=function(){return Ie*rc};var z1=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(rc=S),this},$1=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return rc};z1(n.lineHeight);var ki=f.__private__.getHorizontalCoordinate=function(S){return R(S)},al=f.__private__.getVerticalCoordinate=function(S){return C===E?S:mt[X].mediaBox.topRightY-mt[X].mediaBox.bottomLeftY-R(S)},H1=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(S){return N(ki(S))},Ud=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(S){return N(al(S))},ll=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Lo(ll)},f.__private__.setStrokeColor=f.setDrawColor=function(S,$,ie,fe){return ll=js({ch1:S,ch2:$,ch3:ie,ch4:fe,pdfColorType:"draw",precision:2}),J(ll),this};var Vd=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Lo(Vd)},f.__private__.setFillColor=f.setFillColor=function(S,$,ie,fe){return Vd=js({ch1:S,ch2:$,ch3:ie,ch4:fe,pdfColorType:"fill",precision:2}),J(Vd),this};var jo=n.textColor||"0 g",pu=f.__private__.getTextColor=f.getTextColor=function(){return Lo(jo)};f.__private__.setTextColor=f.setTextColor=function(S,$,ie,fe){return jo=js({ch1:S,ch2:$,ch3:ie,ch4:fe,pdfColorType:"text",precision:3}),this};var Sa=n.charSpace,Jf=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Sa||0)};f.__private__.setCharSpace=f.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Sa=S,this};var Gn=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(S){var $=f.CapJoinStyles[S];if($===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gn=$,J($+" J"),this};var Zf=0;f.__private__.setLineJoin=f.setLineJoin=function(S){var $=f.CapJoinStyles[S];if($===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zf=$,J($+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(N(R(S))+" M"),this},f.GState=aE,f.setGState=function(S){(S=typeof S=="string"?Nt[Ft[S]]:Tg(null,S)).equals(Nn)||(J("/"+S.id+" gs"),Nn=S)};var Tg=function(S,$){if(!S||!Ft[S]){var ie=!1;for(var fe in Nt)if(Nt.hasOwnProperty(fe)&&Nt[fe].equals($)){ie=!0;break}if(ie)$=Nt[fe];else{var ye="GS"+(Object.keys(Nt).length+1).toString(10);Nt[ye]=$,$.id=ye}return S&&(Ft[S]=$.id),rn.publish("addGState",$),$}};f.addGState=function(S,$){return Tg(S,$),this},f.saveGraphicsState=function(){return J("q"),An.push({key:st,size:Ie,color:jo}),this},f.restoreGraphicsState=function(){J("Q");var S=An.pop();return st=S.key,Ie=S.size,jo=S.color,Nn=null,this},f.setCurrentTransformationMatrix=function(S){return J(S.toString()+" cm"),this},f.comment=function(S){return J("#"+S),this};var Ca=function(S,$){var ie=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Pe){isNaN(Pe)||(ie=parseFloat(Pe))}});var fe=$||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Pe){isNaN(Pe)||(fe=parseFloat(Pe))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Pe){ye=Pe.toString()}}),this},zd=function(S,$,ie,fe){Ca.call(this,S,$),this.type="rect";var ye=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(Be){isNaN(Be)||(ye=parseFloat(Be))}});var Pe=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Be){isNaN(Be)||(Pe=parseFloat(Be))}}),this},mu=function(){this.page=zt,this.currentPage=X,this.pages=je.slice(0),this.pagesContext=mt.slice(0),this.x=wt,this.y=Ln,this.matrix=nn,this.width=Os(X),this.height=kg(X),this.outputDestination=Te,this.id="",this.objectNumber=-1};mu.prototype.restore=function(){zt=this.page,X=this.currentPage,mt=this.pagesContext,je=this.pages,wt=this.x,Ln=this.y,nn=this.matrix,ep(X,this.width),Fs(X,this.height),Te=this.outputDestination};var ic=function(S,$,ie,fe,ye){Wn.push(new mu),zt=X=0,je=[],wt=S,Ln=$,nn=ye,Mo([ie,fe])};for(var sc in f.beginFormObject=function(S,$,ie,fe,ye){return ic(S,$,ie,fe,ye),this},f.endFormObject=function(S){return function($){if(cn[$])Wn.pop().restore();else{var ie=new mu,fe="Xo"+(Object.keys(Mt).length+1).toString(10);ie.id=fe,cn[$]=fe,Mt[fe]=ie,rn.publish("addFormObject",ie),Wn.pop().restore()}}(S),this},f.doFormObject=function(S,$){var ie=Mt[cn[S]];return J("q"),J($.toString()+" cm"),J("/"+ie.id+" Do"),J("Q"),this},f.getFormObject=function(S){var $=Mt[cn[S]];return{x:$.x,y:$.y,width:$.width,height:$.height,matrix:$.matrix}},f.save=function(S,$){return S=S||"generated.pdf",($=$||{}).returnPromise=$.returnPromise||!1,$.returnPromise===!1?(up(uu(_a()),S),typeof up.unload=="function"&&Ut.setTimeout&&setTimeout(up.unload,911),this):new Promise(function(ie,fe){try{var ye=up(uu(_a()),S);typeof up.unload=="function"&&Ut.setTimeout&&setTimeout(up.unload,911),ie(ye)}catch(Pe){fe(Pe.message)}})},St.API)St.API.hasOwnProperty(sc)&&(sc==="events"&&St.API.events.length?function(S,$){var ie,fe,ye;for(ye=$.length-1;ye!==-1;ye--)ie=$[ye][0],fe=$[ye][1],S.subscribe.apply(S,[ie].concat(typeof fe=="function"?[fe]:fe))}(rn,St.API.events):f[sc]=St.API[sc]);function Os(S){return mt[S].mediaBox.topRightX-mt[S].mediaBox.bottomLeftX}function ep(S,$){mt[S].mediaBox.topRightX=$+mt[S].mediaBox.bottomLeftX}function kg(S){return mt[S].mediaBox.topRightY-mt[S].mediaBox.bottomLeftY}function Fs(S,$){mt[S].mediaBox.topRightY=$+mt[S].mediaBox.bottomLeftY}var Na=f.getPageWidth=function(S){return Os(S=S||X)/kt},$d=f.setPageWidth=function(S,$){ep(S,$*kt)},Ta=f.getPageHeight=function(S){return kg(S=S||X)/kt},tp=f.setPageHeight=function(S,$){Fs(S,$*kt)};return f.internal={pdfEscape:Ti,getStyle:hu,getFont:Ea,getFontSize:Qe,getCharSpace:Jf,getTextColor:pu,getLineHeight:V1,getLineHeightFactor:$1,getLineWidth:Ng,write:Oe,getHorizontalCoordinate:ki,getVerticalCoordinate:al,getCoordinateString:H1,getVerticalCoordinateString:Ud,collections:{},newObject:yr,newAdditionalObject:au,newObjectDeferred:oi,newObjectDeferredBegin:wr,getFilters:us,putStream:qr,events:rn,scaleFactor:kt,pageSize:{getWidth:function(){return Na(X)},setWidth:function(S){$d(X,S)},getHeight:function(){return Ta(X)},setHeight:function(S){tp(X,S)}},encryptionOptions:u,encryption:Jn,getEncryptor:function(S){return u!==null?Jn.encryptor(S,0):function($){return $}},output:Xf,getNumberOfPages:Kf,get pages(){return je},out:J,f2:k,f3:M,getPageInfo:pi,getPageInfoByObjId:du,getCurrentPageInfo:Fd,getPDFVersion:y,Point:Ca,Rectangle:zd,Matrix:ht,hasHotfix:ao},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Na(X)},set:function(S){$d(X,S)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ta(X)},set:function(S){tp(X,S)},enumerable:!0,configurable:!0}),(function(S){for(var $=0,ie=Ge.length;$<ie;$++){var fe=jd.call(this,S[$][0],S[$][1],S[$][2],Ge[$][3],!0);h===!1&&(p[fe]=!0);var ye=S[$][0].split("-");qf({id:fe,fontName:ye[0],fontStyle:ye[1]||""})}rn.publish("addFonts",{fonts:Ot,dictionary:Vt})}).call(f,Ge),st="F1",Od(i,t),rn.publish("initialized"),f}Hg.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Hg.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hg.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Hg.prototype.processOwnerPassword=function(n,e){return _I(xI(e).substr(0,5),n)},Hg.prototype.encryptor=function(n,e){var t=xI(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return _I(t,r)}},aE.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||On(n)!==On(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},St.API={events:[]},St.version="3.0.4";var zr=St.API,G3=1,yg=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bg=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Wt=function(n){return n.toFixed(2)},lh=function(n){return n.toFixed(5)};zr.__acroform__={};var Ro=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},iF=function(n){return n*G3},hc=function(n){var e=new Pq,t=pt.internal.getHeight(n)||0,r=pt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Wt(r)),Number(Wt(t))],e},x1e=zr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},_1e=zr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},A1e=zr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Zr=zr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return A1e(n,e-1)},ei=zr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return x1e(n,e-1)},ti=zr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return _1e(n,e-1)},E1e=zr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Wt(l.lowerLeft_X)),Number(Wt(l.lowerLeft_Y)),Number(Wt(l.upperRight_X)),Number(Wt(l.upperRight_Y))]},S1e=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=AI(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Wt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=hc(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},AI=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var s=t,o=pt.internal.getHeight(n)||0;o=o<0?-o:o;var a=pt.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(k,M,R){if(k+1<i.length){var q=M+" "+i[k+1][0];return P_(q,n,R).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,h=P_("3",n,s).height,p=n.multiline?o-s:(o-h)/2,f=p+=2,b=0,y=0,_=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+P_(e,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",A=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var C=!1;if(i[E].length!==1&&_!==i[E].length-1){if((h+2)*(A+2)+2>o)continue e;w+=i[E][_],C=!0,y=E,E--}else{w=(w+=i[E][_]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var F=parseInt(E),V=l(F,w,s),L=E>=i.length-1;if(V&&!L){w+=" ",_=0;continue}if(V||L){if(L)y=F;else if(n.multiline&&(h+2)*(A+2)+2>o)continue e}else{if(!n.multiline||(h+2)*(A+2)+2>o)continue e;y=F}}for(var N="",I=b;I<=y;I++){var j=i[I];if(n.multiline){if(I===y){N+=j[_]+" ",_=(_+1)%j.length;continue}if(I===b){N+=j[j.length-1]+" ";continue}}N+=j[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,u=P_(N,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=Wt(c)+" "+Wt(f)+` Td
`,e+="("+yg(N)+`) Tj
`,e+=-Wt(c)+` 0 Td
`,f=-(s+2),u=0,b=C?y:y+1,A++,w=""}break}return r.text=e,r.fontSize=s,r},P_=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},C1e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},N1e=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},T1e=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Yl.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(C1e)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");G3=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new Rq,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&N1e(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=E1e(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=pt.createDefaultAppearanceStream(a),On(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=S1e(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var f=a.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var b=f[o];typeof b=="function"&&(b=b.call(i,a)),h+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=f)=="function"&&(b=b.call(i,a)),h+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(y,_){for(var w in y)if(y.hasOwnProperty(w)){var A=w,E=y[w];_.internal.newObjectDeferredBegin(E.objId,!0),On(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete y[A]}}(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},Iq=zr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),On(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+yg(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},KN=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+yg(r(n))+")"},$c=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$c.prototype.toString=function(){return this.objId+" 0 R"},$c.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},$c.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:Iq(i,this.objId,this.scope)}):i instanceof $c?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var Pq=function(){$c.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ro(Pq,$c);var Rq=function(){$c.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+yg(t(n))+")"}},set:function(t){n=t}})};Ro(Rq,$c);var Yl=function n(){$c.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zr(e,3)},set:function(w){w?this.F=ei(e,3):this.F=ti(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof lE)return;s="FieldObject"+n.FieldNum++}var w=function(A){return A};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+yg(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/G3:c},set:function(w){c=w}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof lE||this instanceof jm))return KN(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Vi==0?KN(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof Vi==0?w.substr(0,1)==="("?Bg(w.substr(1,w.length-2)):Bg(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vi==1?Bg(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Vi==1?"/"+w:w}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Vi==0?KN(f,this.objId,this.scope):f},set:function(w){w=w.toString(),f=this instanceof Vi==0?w.substr(0,1)==="("?Bg(w.substr(1,w.length-2)):Bg(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vi==1?Bg(f.substr(1,f.length-1)):f},set:function(w){w=w.toString(),f=this instanceof Vi==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(w){w=!!w,y=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(w){b=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,1)},set:function(w){w?this.Ff=ei(this.Ff,1):this.Ff=ti(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,2)},set:function(w){w?this.Ff=ei(this.Ff,2):this.Ff=ti(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,3)},set:function(w){w?this.Ff=ei(this.Ff,3):this.Ff=ti(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');_=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(_){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};Ro(Yl,$c);var I0=function(){Yl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Iq(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,18)},set:function(t){t?this.Ff=ei(this.Ff,18):this.Ff=ti(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ei(this.Ff,19):this.Ff=ti(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,20)},set:function(t){t?(this.Ff=ei(this.Ff,20),e.sort()):this.Ff=ti(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,22)},set:function(t){t?this.Ff=ei(this.Ff,22):this.Ff=ti(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,23)},set:function(t){t?this.Ff=ei(this.Ff,23):this.Ff=ti(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,27)},set:function(t){t?this.Ff=ei(this.Ff,27):this.Ff=ti(this.Ff,27)}}),this.hasAppearanceStream=!1};Ro(I0,Yl);var P0=function(){I0.call(this),this.fontName="helvetica",this.combo=!1};Ro(P0,I0);var R0=function(){P0.call(this),this.combo=!0};Ro(R0,P0);var _5=function(){R0.call(this),this.edit=!0};Ro(_5,R0);var Vi=function(){Yl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,15)},set:function(t){t?this.Ff=ei(this.Ff,15):this.Ff=ti(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,16)},set:function(t){t?this.Ff=ei(this.Ff,16):this.Ff=ti(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,17)},set:function(t){t?this.Ff=ei(this.Ff,17):this.Ff=ti(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,26)},set:function(t){t?this.Ff=ei(this.Ff,26):this.Ff=ti(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+yg(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){On(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ro(Vi,Yl);var A5=function(){Vi.call(this),this.pushButton=!0};Ro(A5,Vi);var L0=function(){Vi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ro(L0,Vi);var lE=function(){var n,e;Yl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+yg(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){On(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ro(lE,Yl),L0.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},L0.prototype.createOption=function(n){var e=new lE;return e.Parent=this,e.optionName=n,this.Kids.push(e),k1e.call(this.scope,e),e};var E5=function(){Vi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pt.CheckBox.createAppearanceStream()};Ro(E5,Vi);var jm=function(){Yl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,13)},set:function(e){e?this.Ff=ei(this.Ff,13):this.Ff=ti(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,21)},set:function(e){e?this.Ff=ei(this.Ff,21):this.Ff=ti(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,23)},set:function(e){e?this.Ff=ei(this.Ff,23):this.Ff=ti(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,24)},set:function(e){e?this.Ff=ei(this.Ff,24):this.Ff=ti(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,25)},set:function(e){e?this.Ff=ei(this.Ff,25):this.Ff=ti(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,26)},set:function(e){e?this.Ff=ei(this.Ff,26):this.Ff=ti(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ro(jm,Yl);var S5=function(){jm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,14)},set:function(n){n?this.Ff=ei(this.Ff,14):this.Ff=ti(this.Ff,14)}}),this.password=!0};Ro(S5,jm);var pt={CheckBox:{createAppearanceStream:function(){return{N:{On:pt.CheckBox.YesNormal},D:{On:pt.CheckBox.YesPushDown,Off:pt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=AI(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Wt(pt.internal.getWidth(n))+" "+Wt(pt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Wt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=hc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=pt.internal.getHeight(n),o=pt.internal.getWidth(n),a=AI(n,n.caption);return i.push("1 g"),i.push("0 0 "+Wt(o)+" "+Wt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Wt(o-1)+" "+Wt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Wt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Wt(pt.internal.getWidth(n))+" "+Wt(pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:pt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=pt.RadioButton.Circle.YesNormal,e.D[n]=pt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=hc(n);e.scope=n.scope;var t=[],r=pt.internal.getWidth(n)<=pt.internal.getHeight(n)?pt.internal.getWidth(n)/4:pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=pt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+lh(pt.internal.getWidth(n)/2)+" "+lh(pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=[],r=pt.internal.getWidth(n)<=pt.internal.getHeight(n)?pt.internal.getWidth(n)/4:pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*pt.internal.Bezier_C).toFixed(5)),o=Number((r*pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+lh(pt.internal.getWidth(n)/2)+" "+lh(pt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+lh(pt.internal.getWidth(n)/2)+" "+lh(pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=[],r=pt.internal.getWidth(n)<=pt.internal.getHeight(n)?pt.internal.getWidth(n)/4:pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+lh(pt.internal.getWidth(n)/2)+" "+lh(pt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:pt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=pt.RadioButton.Cross.YesNormal,e.D[n]=pt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=hc(n);e.scope=n.scope;var t=[],r=pt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Wt(pt.internal.getWidth(n)-2)+" "+Wt(pt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Wt(r.x1.x)+" "+Wt(r.x1.y)+" m"),t.push(Wt(r.x2.x)+" "+Wt(r.x2.y)+" l"),t.push(Wt(r.x4.x)+" "+Wt(r.x4.y)+" m"),t.push(Wt(r.x3.x)+" "+Wt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=pt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Wt(pt.internal.getWidth(n))+" "+Wt(pt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Wt(pt.internal.getWidth(n)-2)+" "+Wt(pt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Wt(t.x1.x)+" "+Wt(t.x1.y)+" m"),r.push(Wt(t.x2.x)+" "+Wt(t.x2.y)+" l"),r.push(Wt(t.x4.x)+" "+Wt(t.x4.y)+" m"),r.push(Wt(t.x3.x)+" "+Wt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Wt(pt.internal.getWidth(n))+" "+Wt(pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};pt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=pt.internal.getWidth(n),t=pt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},pt.internal.getWidth=function(n){var e=0;return On(n)==="object"&&(e=iF(n.Rect[2])),e},pt.internal.getHeight=function(n){var e=0;return On(n)==="object"&&(e=iF(n.Rect[3])),e};var k1e=zr.addField=function(n){if(T1e(this,n),!(n instanceof Yl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};zr.AcroFormChoiceField=I0,zr.AcroFormListBox=P0,zr.AcroFormComboBox=R0,zr.AcroFormEditBox=_5,zr.AcroFormButton=Vi,zr.AcroFormPushButton=A5,zr.AcroFormRadioButton=L0,zr.AcroFormCheckBox=E5,zr.AcroFormTextField=jm,zr.AcroFormPasswordField=S5,zr.AcroFormAppearance=pt,zr.AcroForm={ChoiceField:I0,ListBox:P0,ComboBox:R0,EditBox:_5,Button:Vi,PushButton:A5,RadioButton:L0,CheckBox:E5,TextField:jm,PasswordField:S5,Appearance:pt},St.AcroForm={ChoiceField:I0,ListBox:P0,ComboBox:R0,EditBox:_5,Button:Vi,PushButton:A5,RadioButton:L0,CheckBox:E5,TextField:jm,PasswordField:S5,Appearance:pt};function Lq(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(k,M){var R,q,ce,de,ae,Q=t;if((M=M||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(V(k))for(ae in r)for(ce=r[ae],R=0;R<ce.length;R+=1){for(de=!0,q=0;q<ce[R].length;q+=1)if(ce[R][q]!==void 0&&ce[R][q]!==k[q]){de=!1;break}if(de===!0){Q=ae;break}}else for(ae in r)for(ce=r[ae],R=0;R<ce.length;R+=1){for(de=!0,q=0;q<ce[R].length;q+=1)if(ce[R][q]!==void 0&&ce[R][q]!==k.charCodeAt(q)){de=!1;break}if(de===!0){Q=ae;break}}return Q===t&&M!==t&&(Q=M),Q},s=function k(M){for(var R=this.internal.write,q=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:M.width}),de.push({key:"Height",value:M.height}),M.colorSpace===w.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===w.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var ae="",Q=0,ne=M.transparency.length;Q<ne;Q++)ae+=M.transparency[Q]+" "+M.transparency[Q]+" ";de.push({key:"Mask",value:"["+ae+"]"})}M.sMask!==void 0&&de.push({key:"SMask",value:M.objectId+1+" 0 R"});var ge=M.filter!==void 0?["/"+M.filter]:void 0;if(q({data:M.data,additionalKeyValues:de,alreadyAppliedFilters:ge,objectId:M.objectId}),R("endobj"),"sMask"in M&&M.sMask!==void 0){var pe,U=(pe=M.sMaskBitsPerComponent)!==null&&pe!==void 0?pe:M.bitsPerComponent,X={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:U,data:M.sMask};"filter"in M&&(X.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(U," /Columns ").concat(M.width),X.filter=M.filter),k.call(this,X)}if(M.colorSpace===w.INDEXED){var re=this.internal.newObject();q({data:N(new Uint8Array(M.palette)),objectId:re}),R("endobj")}},o=function(){var k=this.internal.collections[e+"images"];for(var M in k)s.call(this,k[M])},a=function(){var k,M=this.internal.collections[e+"images"],R=this.internal.write;for(var q in M)R("/I"+(k=M[q]).index,k.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var k=this.internal.collections[e+"images"];return l.call(this),k},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(k){return typeof n["process"+k.toUpperCase()]=="function"},p=function(k){return On(k)==="object"&&k.nodeType===1},f=function(k,M){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var R=""+k.getAttribute("src");if(R.indexOf("data:image/")===0)return x5(unescape(R).split("base64,").pop());var q=n.loadFile(R,!0);if(q!==void 0)return q}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var ce;switch(M){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return x5(k.toDataURL(ce,1).split("base64,").pop())}},b=function(k){var M=this.internal.collections[e+"images"];if(M){for(var R in M)if(k===M[R].alias)return M[R]}},y=function(k,M,R){return k||M||(k=-96,M=-96),k<0&&(k=-1*R.width*72/k/this.internal.scaleFactor),M<0&&(M=-1*R.height*72/M/this.internal.scaleFactor),k===0&&(k=M*R.width/R.height),M===0&&(M=k*R.height/R.width),[k,M]},_=function(k,M,R,q,ce,de){var ae=y.call(this,R,q,ce),Q=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,ge=c.call(this);if(R=ae[0],q=ae[1],ge[ce.index]=ce,de){de*=Math.PI/180;var pe=Math.cos(de),U=Math.sin(de),X=function(le){return le.toFixed(4)},re=[X(pe),X(U),X(-1*U),X(pe),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,Q(k),ne(M+q),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([Q(R),"0","0",Q(q),"0","0","cm"].join(" "))):this.internal.write([Q(R),"0","0",Q(q),Q(k),ne(M+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},w=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=n.__addimage__.sHashCode=function(k){var M,R,q=0;if(typeof k=="string")for(R=k.length,M=0;M<R;M++)q=(q<<5)-q+k.charCodeAt(M),q|=0;else if(V(k))for(R=k.byteLength/2,M=0;M<R;M++)q=(q<<5)-q+k[M],q|=0;return q},C=n.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var M=!0;return k.length===0&&(M=!1),k.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(M=!1),M},F=n.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var M=k.indexOf(",");return M<0?null:k.substring(0,M).trim().endsWith("base64")?k.substring(M+1):null};n.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var V=n.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},L=n.__addimage__.binaryStringToUint8Array=function(k){for(var M=k.length,R=new Uint8Array(M),q=0;q<M;q++)R[q]=k.charCodeAt(q);return R},N=n.__addimage__.arrayBufferToBinaryString=function(k){for(var M="",R=V(k)?k:new Uint8Array(k),q=0;q<R.length;q+=8192)M+=String.fromCharCode.apply(null,R.subarray(q,q+8192));return M};n.addImage=function(){var k,M,R,q,ce,de,ae,Q,ne;if(typeof arguments[1]=="number"?(M=t,R=arguments[1],q=arguments[2],ce=arguments[3],de=arguments[4],ae=arguments[5],Q=arguments[6],ne=arguments[7]):(M=arguments[1],R=arguments[2],q=arguments[3],ce=arguments[4],de=arguments[5],ae=arguments[6],Q=arguments[7],ne=arguments[8]),On(k=arguments[0])==="object"&&!p(k)&&"imageData"in k){var ge=k;k=ge.imageData,M=ge.format||M||t,R=ge.x||R||0,q=ge.y||q||0,ce=ge.w||ge.width||ce,de=ge.h||ge.height||de,ae=ge.alias||ae,Q=ge.compression||Q,ne=ge.rotation||ge.angle||ne}var pe=this.internal.getFilters();if(Q===void 0&&pe.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(R)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var U=I.call(this,k,M,ae,Q);return _.call(this,R,q,ce,de,U,ne),this};var I=function(k,M,R,q){var ce,de,ae;if(typeof k=="string"&&i(k)===t){k=unescape(k);var Q=j(k,!1);(Q!==""||(Q=n.loadFile(k,!0))!==void 0)&&(k=Q)}if(p(k)&&(k=f(k,M)),M=i(k,M),!h(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((ae=R)==null||ae.length===0)&&(R=function(ne){return typeof ne=="string"||V(ne)?E(ne):V(ne.data)?E(ne.data):null}(k)),(ce=b.call(this,R))||(k instanceof Uint8Array||M==="RGBA"||(de=k,k=L(k)),ce=this["process"+M.toUpperCase()](k,u.call(this),R,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in n.image_compression?ne:A.NONE}(q),de)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},j=n.__addimage__.convertBase64ToBinaryString=function(k,M){M=typeof M!="boolean"||M;var R,q="";if(typeof k=="string"){var ce;R=(ce=F(k))!==null&&ce!==void 0?ce:k;try{q=x5(R)}catch(de){if(M)throw C(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};n.getImageProperties=function(k){var M,R,q="";if(p(k)&&(k=f(k)),typeof k=="string"&&i(k)===t&&((q=j(k,!1))===""&&(q=n.loadFile(k)||""),k=q),R=i(k),!h(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(k instanceof Uint8Array||(k=L(k)),!(M=this["process"+R.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=R,M}})(St.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};St.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var f=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(y.objId),A=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(w(r.contents))+")",s+=" /Popup "+_.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(w(A))+") >>",y.content=s;var E=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+E,r.open&&(s+=" /Open true"),s+=" >>",_.content=s,this.internal.write(y.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var F=this.annotations._nameMap[r.options.name];r.options.pageNumber=F.page,r.options.top=F.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var V=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+V+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(t,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(t,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(St.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},a=n.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&i.indexOf(y.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length==4},h=n.__arabicParser__.resolveLigatures=function(y){var _=0,w=t,A="",E=0;for(_=0;_<y.length;_+=1)w[y.charCodeAt(_)]!==void 0?(E++,typeof(w=w[y.charCodeAt(_)])=="number"&&(A+=String.fromCharCode(w),w=t,E=0),_===y.length-1&&(w=t,A+=y.charAt(_-(E-1)),_-=E-1,E=0)):(w=t,A+=y.charAt(_-E),_-=E,E=0);return A};n.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var p=n.__arabicParser__.getCorrectForm=function(y,_,w){return o(y)?s(y)===!1?-1:!c(y)||!o(_)&&!o(w)||!o(w)&&a(_)||a(y)&&!o(_)||a(y)&&l(_)||a(y)&&a(_)?0:u(y)&&o(_)&&!a(_)&&o(w)&&c(w)?3:a(y)||!o(w)?1:2:-1},f=function(y){var _=0,w=0,A=0,E="",C="",F="",V=(y=y||"").split("\\s+"),L=[];for(_=0;_<V.length;_+=1){for(L.push(""),w=0;w<V[_].length;w+=1)E=V[_][w],C=V[_][w-1],F=V[_][w+1],o(E)?(A=p(E,C,F),L[_]+=A!==-1?String.fromCharCode(e[E.charCodeAt(0)][A]):E):L[_]+=E;L[_]=h(L[_])}return L.join(" ")},b=n.__arabicParser__.processArabic=n.processArabic=function(){var y,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(_)){var A=0;for(w=[],A=0;A<_.length;A+=1)Array.isArray(_[A])?w.push([f(_[A][0]),_[A][1],_[A][2]]):w.push([f(_[A])]);y=w}else y=f(_);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};n.events.push(["preProcessText",b])}(St.API),St.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(St.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(y){b=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,b=0,y=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,C){return E.concat(_.splitTextToSize(C,w))},[])):l=Array.isArray(l)?l:[l];for(var A=0;A<l.length;A++)f<(y=this.getStringUnitWidth(l[A],{font:h})*u)&&(f=y);return f!==0&&(b=l.length),{w:f/=p,h:Math.max((b*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,h,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,b,y,_,w=[],A=[],E=[],C={},F={},V=[],L=[],N=(p=p||{}).autoSize||!1,I=p.printHeaders!==!1,j=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},e),M=typeof p.padding=="number"?p.padding:3,R=p.headerBackgroundColor||"#c8c8c8",q=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=q,this.setFontSize(j),h==null)A=w=Object.keys(u[0]),E=w.map(function(){return"left"});else if(Array.isArray(h)&&On(h[0])==="object")for(w=h.map(function(ge){return ge.name}),A=h.map(function(ge){return ge.prompt||ge.name||""}),E=h.map(function(ge){return ge.align||"left"}),f=0;f<h.length;f+=1)F[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(A=w=h,E=w.map(function(){return"left"}));if(N||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<w.length;f+=1){for(C[_=w[f]]=u.map(function(ge){return ge[_]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(A[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=C[_],this.setFont(void 0,"normal"),y=0;y<b.length;y+=1)V.push(this.getTextDimensions(b[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[_]=Math.max.apply(null,V)+M+M,V=[]}if(I){var ce={};for(f=0;f<w.length;f+=1)ce[w[f]]={},ce[w[f]].text=A[f],ce[w[f]].align=E[f];var de=a.call(this,ce,F);L=w.map(function(ge){return new s(l,c,F[ge],de,ce[ge].text,void 0,ce[ge].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var ae=h.reduce(function(ge,pe){return ge[pe.name]=pe.align,ge},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var Q=a.call(this,u[f],F);for(y=0;y<w.length;y+=1){var ne=u[f][w[y]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:y,data:ne},this),o.call(this,new s(l,c,F[w[y]],Q,ne,f+2,ae[w[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var b=l[f];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+u+u},this).reduce(function(f,b){return Math.max(f,b)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(b)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}}(St.API);var Dq={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Mq=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],EI=Lq(Mq),jq=[100,200,300,400,500,600,700,800,900],I1e=Lq(jq);function YN(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return Dq[s=s||"normal"]?s:"normal"}(n.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(n.weight),i=function(s){return typeof EI[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function sF(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var P1e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},oF={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function aF(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function lF(n){return n.trimLeft()}function R1e(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function L1e(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var R_,cF,uF,Ug,L_,dF,hF,fF,XN=["times"];function pF(n,e,t,r,i){var s=4,o=gF;switch(i){case St.API.image_compression.FAST:s=1,o=mF;break;case St.API.image_compression.MEDIUM:s=6,o=vF;break;case St.API.image_compression.SLOW:s=9,o=yF}n=function(l,c,u,h){for(var p,f=l.length/c,b=new Uint8Array(l.length+f),y=[D1e,mF,gF,vF,yF],_=0;_<f;_+=1){var w=_*c,A=l.subarray(w,w+c);if(h)b.set(h(A,u,p),w+_);else{for(var E=y.length,C=[],F=0;F<E;F+=1)C[F]=y[F](A,u,p);var V=j1e(C.concat());b.set(C[V],w+_)}p=A}return b}(n,e,Math.ceil(t*r/8),o);var a=dI(n,{level:s});return St.API.__addimage__.arrayBufferToBinaryString(a)}function D1e(n){var e=Array.apply([],n);return e.unshift(0),e}function mF(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var s=n[i-e]||0;r[i+1]=n[i]-s+256&255}return r}function gF(n,e,t){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=t&&t[s]||0;i[s+1]=n[s]-o+256&255}return i}function vF(n,e,t){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=n[s-e]||0,a=t&&t[s]||0;i[s+1]=n[s]+256-(o+a>>>1)&255}return i}function yF(n,e,t){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=M1e(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=n[s]-o+256&255}return i}function M1e(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),s=Math.abs(n+e-t-t);return r<=i&&r<=s?n:i<=s?e:t}function j1e(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function QN(n,e,t){var r=e*t,i=Math.floor(r/8),s=16-(r-8*i+t),o=(1<<t)-1;return Oq(n,i)>>s&o}function wF(n,e,t,r){var i=t*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(c,u,h){if(u+1<c.byteLength)c.setUint16(u,h,!1);else{var p=h>>8&255;c.setUint8(u,p)}})(n,s,Oq(n,s)&~(a<<o)&65535|l)}function Oq(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function O1e(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<1+(7&i);n[e++],n[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],h=0,p=null,f=0,b=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,b=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=n[e++];h=n[e++]|n[e++]<<8,p=n[e++],1&y||(p=null),f=y>>2&7,e++;break;case 254:for(;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var _=n[e++]|n[e++]<<8,w=n[e++]|n[e++]<<8,A=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,C=n[e++],F=C>>6&1,V=1<<1+(7&C),L=a,N=l,I=!1;C>>7&&(I=!0,L=e,N=V,e+=3*V);var j=e;for(e++;;){var k;if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}u.push({x:_,y:w,width:A,height:E,has_local_palette:I,palette_offset:L,palette_size:N,data_offset:j,data_length:e-j,transparent_index:p,interlaced:!!F,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return b},this.frameInfo=function(M){if(M<0||M>=u.length)throw new Error("Frame index out of range.");return u[M]},this.decodeAndBlitFrameBGRA=function(M,R){var q=this.frameInfo(M),ce=q.width*q.height,de=new Uint8Array(ce);bF(n,q.data_offset,de,ce);var ae=q.palette_offset,Q=q.transparent_index;Q===null&&(Q=256);var ne=q.width,ge=t-ne,pe=ne,U=4*(q.y*t+q.x),X=4*((q.y+q.height)*t+q.x),re=U,le=4*ge;q.interlaced===!0&&(le+=4*t*7);for(var he=8,ue=0,_e=de.length;ue<_e;++ue){var xe=de[ue];if(pe===0&&(pe=ne,(re+=le)>=X&&(le=4*ge+4*t*(he-1),re=U+(ne+ge)*(he<<1),he>>=1)),xe===Q)re+=4;else{var Ae=n[ae+3*xe],je=n[ae+3*xe+1],Se=n[ae+3*xe+2];R[re++]=Se,R[re++]=je,R[re++]=Ae,R[re++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(M,R){var q=this.frameInfo(M),ce=q.width*q.height,de=new Uint8Array(ce);bF(n,q.data_offset,de,ce);var ae=q.palette_offset,Q=q.transparent_index;Q===null&&(Q=256);var ne=q.width,ge=t-ne,pe=ne,U=4*(q.y*t+q.x),X=4*((q.y+q.height)*t+q.x),re=U,le=4*ge;q.interlaced===!0&&(le+=4*t*7);for(var he=8,ue=0,_e=de.length;ue<_e;++ue){var xe=de[ue];if(pe===0&&(pe=ne,(re+=le)>=X&&(le=4*ge+4*t*(he-1),re=U+(ne+ge)*(he<<1),he>>=1)),xe===Q)re+=4;else{var Ae=n[ae+3*xe],je=n[ae+3*xe+1],Se=n[ae+3*xe+2];R[re++]=Ae,R[re++]=je,R[re++]=Se,R[re++]=255}--pe}}}function bF(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,p=0,f=n[e++],b=new Int32Array(4096),y=null;;){for(;u<16&&f!==0;)h|=n[e++]<<u,u+=8,f===1?f=n[e++]:--f;if(u<l)break;var _=h&c;if(h>>=l,u-=l,_!==s){if(_===o)break;for(var w=_<a?_:y,A=0,E=w;E>s;)E=b[E]>>8,++A;var C=E;if(p+A+(w!==_?1:0)>r)return void tr.log("Warning, gif stream longer than expected.");t[p++]=C;var F=p+=A;for(w!==_&&(t[p++]=C),E=w;A--;)E=b[E],t[--F]=255&E,E>>=8;y!==null&&a<4096&&(b[a++]=y<<8|C,a>=c+1&&l<12&&(++l,c=c<<1|1)),y=_}else a=o+1,c=(1<<(l=i+1))-1,y=null}return p!==r&&tr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function JN(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),b=new Array(64),y=[],_=0,w=7,A=new Array(64),E=new Array(64),C=new Array(64),F=new Array(256),V=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(U,X){for(var re=0,le=0,he=new Array,ue=1;ue<=16;ue++){for(var _e=1;_e<=U[ue];_e++)he[X[le]]=[],he[X[le]][0]=re,he[X[le]][1]=ue,le++,re++;re*=2}return he}function ae(U){for(var X=U[0],re=U[1]-1;re>=0;)X&1<<re&&(_|=1<<w),re--,--w<0&&(_==255?(Q(255),Q(0)):Q(_),w=7,_=0)}function Q(U){y.push(U)}function ne(U){Q(U>>8&255),Q(255&U)}function ge(U,X,re,le,he){for(var ue,_e=he[0],xe=he[240],Ae=function(Ie,ut){var Qe,De,Ve,nt,Ct,We,dt,Bt,st,kt,wt=0;for(st=0;st<8;++st){Qe=Ie[wt],De=Ie[wt+1],Ve=Ie[wt+2],nt=Ie[wt+3],Ct=Ie[wt+4],We=Ie[wt+5],dt=Ie[wt+6];var Ln=Qe+(Bt=Ie[wt+7]),nn=Qe-Bt,Ot=De+dt,Vt=De-dt,An=Ve+We,Et=Ve-We,Cn=nt+Ct,Nt=nt-Ct,Ft=Ln+Cn,Nn=Ln-Cn,zt=Ot+An,mt=Ot-An;Ie[wt]=Ft+zt,Ie[wt+4]=Ft-zt;var rn=.707106781*(mt+Nn);Ie[wt+2]=Nn+rn,Ie[wt+6]=Nn-rn;var It=.382683433*((Ft=Nt+Et)-(mt=Vt+nn)),Mt=.5411961*Ft+It,cn=1.306562965*mt+It,Wn=.707106781*(zt=Et+Vt),ht=nn+Wn,bn=nn-Wn;Ie[wt+5]=bn+Mt,Ie[wt+3]=bn-Mt,Ie[wt+1]=ht+cn,Ie[wt+7]=ht-cn,wt+=8}for(wt=0,st=0;st<8;++st){Qe=Ie[wt],De=Ie[wt+8],Ve=Ie[wt+16],nt=Ie[wt+24],Ct=Ie[wt+32],We=Ie[wt+40],dt=Ie[wt+48];var si=Qe+(Bt=Ie[wt+56]),Dn=Qe-Bt,Qn=De+dt,yr=De-dt,oi=Ve+We,wr=Ve-We,au=nt+Ct,Ql=nt-Ct,cs=si+au,Lo=si-au,js=Qn+oi,us=Qn-oi;Ie[wt]=cs+js,Ie[wt+32]=cs-js;var qr=.707106781*(us+Lo);Ie[wt+16]=Lo+qr,Ie[wt+48]=Lo-qr;var Jl=.382683433*((cs=Ql+wr)-(us=yr+Dn)),Do=.5411961*cs+Jl,ol=1.306562965*us+Jl,Zl=.707106781*(js=wr+yr),lu=Dn+Zl,cu=Dn-Zl;Ie[wt+40]=cu+Do,Ie[wt+24]=cu-Do,Ie[wt+8]=lu+ol,Ie[wt+56]=lu-ol,wt++}for(st=0;st<64;++st)kt=Ie[st]*ut[st],f[st]=kt>0?kt+.5|0:kt-.5|0;return f}(U,X),je=0;je<64;++je)b[L[je]]=Ae[je];var Se=b[0]-re;re=b[0],Se==0?ae(le[0]):(ae(le[p[ue=32767+Se]]),ae(h[ue]));for(var Te=63;Te>0&&b[Te]==0;)Te--;if(Te==0)return ae(_e),re;for(var Le,J=1;J<=Te;){for(var Oe=J;b[J]==0&&J<=Te;)++J;var Xe=J-Oe;if(Xe>=16){Le=Xe>>4;for(var Ge=1;Ge<=Le;++Ge)ae(xe);Xe&=15}ue=32767+b[J],ae(he[(Xe<<4)+p[ue]]),ae(h[ue]),J++}return Te!=63&&ae(_e),re}function pe(U){U=Math.min(Math.max(U,1),100),s!=U&&(function(X){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var he=o((re[le]*X+50)/100);he=Math.min(Math.max(he,1),255),a[L[le]]=he}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var xe=o((ue[_e]*X+50)/100);xe=Math.min(Math.max(xe,1),255),l[L[_e]]=xe}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,Se=0;Se<8;Se++)for(var Te=0;Te<8;Te++)c[je]=1/(a[L[je]]*Ae[Se]*Ae[Te]*8),u[je]=1/(l[L[je]]*Ae[Se]*Ae[Te]*8),je++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),s=U)}this.encode=function(U,X){X&&pe(X),y=new Array,_=0,w=7,ne(65496),ne(65504),ne(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),ne(1),ne(1),Q(0),Q(0),function(){ne(65499),ne(132),Q(0);for(var De=0;De<64;De++)Q(a[De]);Q(1);for(var Ve=0;Ve<64;Ve++)Q(l[Ve])}(),function(De,Ve){ne(65472),ne(17),Q(8),ne(Ve),ne(De),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(U.width,U.height),function(){ne(65476),ne(418),Q(0);for(var De=0;De<16;De++)Q(N[De+1]);for(var Ve=0;Ve<=11;Ve++)Q(I[Ve]);Q(16);for(var nt=0;nt<16;nt++)Q(j[nt+1]);for(var Ct=0;Ct<=161;Ct++)Q(k[Ct]);Q(1);for(var We=0;We<16;We++)Q(M[We+1]);for(var dt=0;dt<=11;dt++)Q(R[dt]);Q(17);for(var Bt=0;Bt<16;Bt++)Q(q[Bt+1]);for(var st=0;st<=161;st++)Q(ce[st])}(),ne(65498),ne(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var re=0,le=0,he=0;_=0,w=7,this.encode.displayName="_encode_";for(var ue,_e,xe,Ae,je,Se,Te,Le,J,Oe=U.data,Xe=U.width,Ge=U.height,Ie=4*Xe,ut=0;ut<Ge;){for(ue=0;ue<Ie;){for(je=Ie*ut+ue,Te=-1,Le=0,J=0;J<64;J++)Se=je+(Le=J>>3)*Ie+(Te=4*(7&J)),ut+Le>=Ge&&(Se-=Ie*(ut+1+Le-Ge)),ue+Te>=Ie&&(Se-=ue+Te-Ie+4),_e=Oe[Se++],xe=Oe[Se++],Ae=Oe[Se++],A[J]=(V[_e]+V[xe+256|0]+V[Ae+512|0]>>16)-128,E[J]=(V[_e+768|0]+V[xe+1024|0]+V[Ae+1280|0]>>16)-128,C[J]=(V[_e+1280|0]+V[xe+1536|0]+V[Ae+1792|0]>>16)-128;re=ge(A,c,re,e,r),le=ge(E,u,le,t,i),he=ge(C,u,he,t,i),ue+=32}ut+=8}if(w>=0){var Qe=[];Qe[1]=w+1,Qe[0]=(1<<w+1)-1,ae(Qe)}return ne(65497),new Uint8Array(y)},n=n||50,function(){for(var U=String.fromCharCode,X=0;X<256;X++)F[X]=U(X)}(),e=de(N,I),t=de(M,R),r=de(j,k),i=de(q,ce),function(){for(var U=1,X=2,re=1;re<=15;re++){for(var le=U;le<X;le++)p[32767+le]=re,h[32767+le]=[],h[32767+le][1]=re,h[32767+le][0]=le;for(var he=-(X-1);he<=-U;he++)p[32767+he]=re,h[32767+he]=[],h[32767+he][1]=re,h[32767+he][0]=X-1+he;U<<=1,X<<=1}}(),function(){for(var U=0;U<256;U++)V[U]=19595*U,V[U+256|0]=38470*U,V[U+512|0]=7471*U+32768,V[U+768|0]=-11059*U,V[U+1024|0]=-21709*U,V[U+1280|0]=32768*U+8421375,V[U+1536|0]=-27439*U,V[U+1792|0]=-5329*U}(),pe(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ml(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function xF(n){function e(I){if(!I)throw Error("assert :P")}function t(I,j,k){for(var M=0;4>M;M++)if(I[j+M]!=k.charCodeAt(M))return!0;return!1}function r(I,j,k,M,R){for(var q=0;q<R;q++)I[j+q]=k[M+q]}function i(I,j,k,M){for(var R=0;R<M;R++)I[j+R]=k}function s(I){return new Int32Array(I)}function o(I,j){for(var k=[],M=0;M<I;M++)k.push(new j);return k}function a(I,j){var k=[];return function M(R,q,ce){for(var de=ce[q],ae=0;ae<de&&(R.push(ce.length>q+1?[]:new j),!(ce.length<q+1));ae++)M(R[ae],q+1,ce)}(k,0,I),k}var l=function(){var I=this;function j(g,x){for(var T=1<<x-1>>>0;g&T;)T>>>=1;return T?(g&T-1)+T:g}function k(g,x,T,O,H){e(!(O%T));do g[x+(O-=T)]=H;while(0<O)}function M(g,x,T,O,H){if(e(2328>=H),512>=H)var G=s(512);else if((G=s(H))==null)return 0;return function(Y,Z,te,se,me,Ce){var oe,ve,be=Z,ke=1<<te,Ee=s(16),Re=s(16);for(e(me!=0),e(se!=null),e(Y!=null),e(0<te),ve=0;ve<me;++ve){if(15<se[ve])return 0;++Ee[se[ve]]}if(Ee[0]==me)return 0;for(Re[1]=0,oe=1;15>oe;++oe){if(Ee[oe]>1<<oe)return 0;Re[oe+1]=Re[oe]+Ee[oe]}for(ve=0;ve<me;++ve)oe=se[ve],0<se[ve]&&(Ce[Re[oe]++]=ve);if(Re[15]==1)return(se=new R).g=0,se.value=Ce[0],k(Y,be,1,ke,se),ke;var Me,$e=-1,Ue=ke-1,_t=0,ft=1,Jt=1,bt=1<<te;for(ve=0,oe=1,me=2;oe<=te;++oe,me<<=1){if(ft+=Jt<<=1,0>(Jt-=Ee[oe]))return 0;for(;0<Ee[oe];--Ee[oe])(se=new R).g=oe,se.value=Ce[ve++],k(Y,be+_t,me,bt,se),_t=j(_t,oe)}for(oe=te+1,me=2;15>=oe;++oe,me<<=1){if(ft+=Jt<<=1,0>(Jt-=Ee[oe]))return 0;for(;0<Ee[oe];--Ee[oe]){if(se=new R,(_t&Ue)!=$e){for(be+=bt,Me=1<<($e=oe)-te;15>$e&&!(0>=(Me-=Ee[$e]));)++$e,Me<<=1;ke+=bt=1<<(Me=$e-te),Y[Z+($e=_t&Ue)].g=Me+te,Y[Z+$e].value=be-Z-$e}se.g=oe-te,se.value=Ce[ve++],k(Y,be+(_t>>te),me,bt,se),_t=j(_t,oe)}}return ft!=2*Re[15]-1?0:ke}(g,x,T,O,H,G)}function R(){this.value=this.g=0}function q(){this.value=this.g=0}function ce(){this.G=o(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(np,q)}function de(g,x,T,O){e(g!=null),e(x!=null),e(2147483648>O),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=x,g.pa=T,g.Jd=x,g.Yc=T+O,g.Zc=4<=O?T+O-4+1:T,_e(g)}function ae(g,x){for(var T=0;0<x--;)T|=Ae(g,128)<<x;return T}function Q(g,x){var T=ae(g,x);return xe(g)?-T:T}function ne(g,x,T,O){var H,G=0;for(e(g!=null),e(x!=null),e(4294967288>O),g.Sb=O,g.Ra=0,g.u=0,g.h=0,4<O&&(O=4),H=0;H<O;++H)G+=x[T+H]<<8*H;g.Ra=G,g.bb=O,g.oa=x,g.pa=T}function ge(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<qd-8>>>0,++g.bb,g.u-=8;le(g)&&(g.h=1,g.u=0)}function pe(g,x){if(e(0<=x),!g.h&&x<=Bo){var T=re(g)&Fo[x];return g.u+=x,ge(g),T}return g.h=1,g.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function re(g){return g.Ra>>>(g.u&qd-1)>>>0}function le(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>qd}function he(g,x){g.u=x,g.h=le(g)}function ue(g){g.u>=gu&&(e(g.u>=gu),ge(g))}function _e(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function xe(g){return ae(g,1)}function Ae(g,x){var T=g.Ca;0>g.b&&_e(g);var O=g.b,H=T*x>>>8,G=(g.I>>>O>H)+0;for(G?(T-=H,g.I-=H+1<<O>>>0):T=H+1,O=T,H=0;256<=O;)H+=8,O>>=8;return O=7^H+Wd[O],g.b-=O,g.Ca=(T<<O)-1,G}function je(g,x,T){g[x+0]=T>>24&255,g[x+1]=T>>16&255,g[x+2]=T>>8&255,g[x+3]=255&T}function Se(g,x){return g[x+0]|g[x+1]<<8}function Te(g,x){return Se(g,x)|g[x+2]<<16}function Le(g,x){return Se(g,x)|Se(g,x+2)<<16}function J(g,x){var T=1<<x;return e(g!=null),e(0<x),g.X=s(T),g.X==null?0:(g.Mb=32-x,g.Xa=x,1)}function Oe(g,x){e(g!=null),e(x!=null),e(g.Xa==x.Xa),r(x.X,0,g.X,0,1<<x.Xa)}function Xe(){this.X=[],this.Xa=this.Mb=0}function Ge(g,x,T,O){e(T!=null),e(O!=null);var H=T[0],G=O[0];return H==0&&(H=(g*G+x/2)/x),G==0&&(G=(x*H+g/2)/g),0>=H||0>=G?0:(T[0]=H,O[0]=G,1)}function Ie(g,x){return g+(1<<x)-1>>>x}function ut(g,x){return((4278255360&g)+(4278255360&x)>>>0&4278255360)+((16711935&g)+(16711935&x)>>>0&16711935)>>>0}function Qe(g,x){I[x]=function(T,O,H,G,Y,Z,te){var se;for(se=0;se<Y;++se){var me=I[g](Z[te+se-1],H,G+se);Z[te+se]=ut(T[O+se],me)}}}function De(){this.ud=this.hd=this.jd=0}function Ve(g,x){return((4278124286&(g^x))>>>1)+(g&x)>>>0}function nt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ct(g,x){return nt(g+(g-x+.5>>1))}function We(g,x,T){return Math.abs(x-T)-Math.abs(g-T)}function dt(g,x,T,O,H,G,Y){for(O=G[Y-1],T=0;T<H;++T)G[Y+T]=O=ut(g[x+T],O)}function Bt(g,x,T,O,H){var G;for(G=0;G<T;++G){var Y=g[x+G],Z=Y>>8&255,te=16711935&(te=(te=16711935&Y)+((Z<<16)+Z));O[H+G]=(4278255360&Y)+te>>>0}}function st(g,x){x.jd=255&g,x.hd=g>>8&255,x.ud=g>>16&255}function kt(g,x,T,O,H,G){var Y;for(Y=0;Y<O;++Y){var Z=x[T+Y],te=Z>>>8,se=Z,me=255&(me=(me=Z>>>16)+((g.jd<<24>>24)*(te<<24>>24)>>>5));se=255&(se=(se+=(g.hd<<24>>24)*(te<<24>>24)>>>5)+((g.ud<<24>>24)*(me<<24>>24)>>>5)),H[G+Y]=(4278255360&Z)+(me<<16)+se}}function wt(g,x,T,O,H){I[x]=function(G,Y,Z,te,se,me,Ce,oe,ve){for(te=Ce;te<oe;++te)for(Ce=0;Ce<ve;++Ce)se[me++]=H(Z[O(G[Y++])])},I[g]=function(G,Y,Z,te,se,me,Ce){var oe=8>>G.b,ve=G.Ea,be=G.K[0],ke=G.w;if(8>oe)for(G=(1<<G.b)-1,ke=(1<<oe)-1;Y<Z;++Y){var Ee,Re=0;for(Ee=0;Ee<ve;++Ee)Ee&G||(Re=O(te[se++])),me[Ce++]=H(be[Re&ke]),Re>>=oe}else I["VP8LMapColor"+T](te,se,be,ke,me,Ce,Y,Z,ve)}}function Ln(g,x,T,O,H){for(T=x+T;x<T;){var G=g[x++];O[H++]=G>>16&255,O[H++]=G>>8&255,O[H++]=255&G}}function nn(g,x,T,O,H){for(T=x+T;x<T;){var G=g[x++];O[H++]=G>>16&255,O[H++]=G>>8&255,O[H++]=255&G,O[H++]=G>>24&255}}function Ot(g,x,T,O,H){for(T=x+T;x<T;){var G=(Y=g[x++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;O[H++]=G,O[H++]=Y}}function Vt(g,x,T,O,H){for(T=x+T;x<T;){var G=(Y=g[x++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;O[H++]=G,O[H++]=Y}}function An(g,x,T,O,H){for(T=x+T;x<T;){var G=g[x++];O[H++]=255&G,O[H++]=G>>8&255,O[H++]=G>>16&255}}function Et(g,x,T,O,H,G){if(G==0)for(T=x+T;x<T;)je(O,((G=g[x++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),H+=32;else r(O,H,g,x,T)}function Cn(g,x){I[x][0]=I[g+"0"],I[x][1]=I[g+"1"],I[x][2]=I[g+"2"],I[x][3]=I[g+"3"],I[x][4]=I[g+"4"],I[x][5]=I[g+"5"],I[x][6]=I[g+"6"],I[x][7]=I[g+"7"],I[x][8]=I[g+"8"],I[x][9]=I[g+"9"],I[x][10]=I[g+"10"],I[x][11]=I[g+"11"],I[x][12]=I[g+"12"],I[x][13]=I[g+"13"],I[x][14]=I[g+"0"],I[x][15]=I[g+"0"]}function Nt(g){return g==aC||g==lC||g==Lx||g==cC}function Ft(){this.eb=[],this.size=this.A=this.fb=0}function Nn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function zt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ft,this.f.kb=new Nn,this.sd=null}function mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function It(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Mt(g,x){var T=g.T,O=x.ba.f.RGBA,H=O.eb,G=O.fb+g.ka*O.A,Y=La[x.ba.S],Z=g.y,te=g.O,se=g.f,me=g.N,Ce=g.ea,oe=g.W,ve=x.cc,be=x.dc,ke=x.Mc,Ee=x.Nc,Re=g.ka,Me=g.ka+g.T,$e=g.U,Ue=$e+1>>1;for(Re==0?Y(Z,te,null,null,se,me,Ce,oe,se,me,Ce,oe,H,G,null,null,$e):(Y(x.ec,x.fc,Z,te,ve,be,ke,Ee,se,me,Ce,oe,H,G-O.A,H,G,$e),++T);Re+2<Me;Re+=2)ve=se,be=me,ke=Ce,Ee=oe,me+=g.Rc,oe+=g.Rc,G+=2*O.A,Y(Z,(te+=2*g.fa)-g.fa,Z,te,ve,be,ke,Ee,se,me,Ce,oe,H,G-O.A,H,G,$e);return te+=g.fa,g.j+Me<g.o?(r(x.ec,x.fc,Z,te,$e),r(x.cc,x.dc,se,me,Ue),r(x.Mc,x.Nc,Ce,oe,Ue),T--):1&Me||Y(Z,te,null,null,se,me,Ce,oe,se,me,Ce,oe,H,G+O.A,null,null,$e),T}function cn(g,x,T){var O=g.F,H=[g.J];if(O!=null){var G=g.U,Y=x.ba.S,Z=Y==Rx||Y==Lx;x=x.ba.f.RGBA;var te=[0],se=g.ka;te[0]=g.T,g.Kb&&(se==0?--te[0]:(--se,H[0]-=g.width),g.j+g.ka+g.T==g.o&&(te[0]=g.o-g.j-se));var me=x.eb;se=x.fb+se*x.A,g=AL(O,H[0],g.width,G,te,me,se+(Z?0:3),x.A),e(T==te),g&&Nt(Y)&&Z1(me,se,Z,G,te,x.A)}return 0}function Wn(g){var x=g.ma,T=x.ba.S,O=11>T,H=T==Ix||T==Px||T==Rx||T==oC||T==12||Nt(T);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!q1(x.Oa,g,H?11:12))return 0;if(H&&Nt(T)&&Ia(),g.da)alert("todo:use_scaling");else{if(O){if(x.Ib=It,g.Kb){if(T=g.U+1>>1,x.memory=s(g.U+2*T),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+g.U,x.Mc=x.cc,x.Nc=x.dc+T,x.Ib=Mt,Ia()}}else alert("todo:EmitYUV");H&&(x.Jb=cn,O&&lo())}if(O&&!UL){for(g=0;256>g;++g)$K[g]=89858*(g-128)+Mx>>Dx,WK[g]=-22014*(g-128)+Mx,qK[g]=-45773*(g-128),HK[g]=113618*(g-128)+Mx>>Dx;for(g=ty;g<hC;++g)x=76283*(g-16)+Mx>>Dx,GK[g-ty]=oo(x,255),KK[g-ty]=oo(x+8>>4,15);UL=1}return 1}function ht(g){var x=g.ma,T=g.U,O=g.T;return e(!(1&g.ka)),0>=T||0>=O?0:(T=x.Ib(g,x),x.Jb!=null&&x.Jb(g,x,T),x.Dc+=T,1)}function bn(g){g.ma.memory=null}function si(g,x,T,O){return pe(g,8)!=47?0:(x[0]=pe(g,14)+1,T[0]=pe(g,14)+1,O[0]=pe(g,1),pe(g,3)!=0?0:!g.h)}function Dn(g,x){if(4>g)return g+1;var T=g-2>>1;return(2+(1&g)<<T)+pe(x,T)+1}function Qn(g,x){return 120<x?x-120:1<=(T=((T=kK[x-1])>>4)*g+(8-(15&T)))?T:1;var T}function yr(g,x,T){var O=re(T),H=g[x+=255&O].g-8;return 0<H&&(he(T,T.u+8),O=re(T),x+=g[x].value,x+=O&(1<<H)-1),he(T,T.u+g[x].g),g[x].value}function oi(g,x,T){return T.g+=g.g,T.value+=g.value<<x>>>0,e(8>=T.g),g.g}function wr(g,x,T){var O=g.xc;return e((x=O==0?0:g.vc[g.md*(T>>O)+(x>>O)])<g.Wb),g.Ya[x]}function au(g,x,T,O){var H=g.ab,G=g.c*x,Y=g.C;x=Y+x;var Z=T,te=O;for(O=g.Ta,T=g.Ua;0<H--;){var se=g.gc[H],me=Y,Ce=x,oe=Z,ve=te,be=(te=O,Z=T,se.Ea);switch(e(me<Ce),e(Ce<=se.nc),se.hc){case 2:Wr(oe,ve,(Ce-me)*be,te,Z);break;case 0:var ke=me,Ee=Ce,Re=te,Me=Z,$e=(bt=se).Ea;ke==0&&(G1(oe,ve,null,null,1,Re,Me),dt(oe,ve+1,0,0,$e-1,Re,Me+1),ve+=$e,Me+=$e,++ke);for(var Ue=1<<bt.b,_t=Ue-1,ft=Ie($e,bt.b),Jt=bt.K,bt=bt.w+(ke>>bt.b)*ft;ke<Ee;){var gn=Jt,gi=bt,Zt=1;for(Ig(oe,ve,Re,Me-$e,1,Re,Me);Zt<$e;){var xt=(Zt&~_t)+Ue;xt>$e&&(xt=$e),(0,Y1[gn[gi++]>>8&15])(oe,ve+ +Zt,Re,Me+Zt-$e,xt-Zt,Re,Me+Zt),Zt=xt}ve+=$e,Me+=$e,++ke&_t||(bt+=ft)}Ce!=se.nc&&r(te,Z-be,te,Z+(Ce-me-1)*be,be);break;case 1:for(be=oe,Ee=ve,$e=(oe=se.Ea)-(Me=oe&~(Re=(ve=1<<se.b)-1)),ke=Ie(oe,se.b),Ue=se.K,se=se.w+(me>>se.b)*ke;me<Ce;){for(_t=Ue,ft=se,Jt=new De,bt=Ee+Me,gn=Ee+oe;Ee<bt;)st(_t[ft++],Jt),X1(Jt,be,Ee,ve,te,Z),Ee+=ve,Z+=ve;Ee<gn&&(st(_t[ft++],Jt),X1(Jt,be,Ee,$e,te,Z),Ee+=$e,Z+=$e),++me&Re||(se+=ke)}break;case 3:if(oe==te&&ve==Z&&0<se.b){for(Ee=te,oe=be=Z+(Ce-me)*be-(Me=(Ce-me)*Ie(se.Ea,se.b)),ve=te,Re=Z,ke=[],Me=($e=Me)-1;0<=Me;--Me)ke[Me]=ve[Re+Me];for(Me=$e-1;0<=Me;--Me)Ee[oe+Me]=ke[Me];Cx(se,me,Ce,te,be,te,Z)}else Cx(se,me,Ce,oe,ve,te,Z)}Z=O,te=T}te!=T&&r(O,T,Z,te,G)}function Ql(g,x){var T=g.V,O=g.Ba+g.c*g.C,H=x-g.C;if(e(x<=g.l.o),e(16>=H),0<H){var G=g.l,Y=g.Ta,Z=g.Ua,te=G.width;if(au(g,H,T,O),H=Z=[Z],e((T=g.C)<(O=x)),e(G.v<G.va),O>G.o&&(O=G.o),T<G.j){var se=G.j-T;T=G.j,H[0]+=se*te}if(T>=O?T=0:(H[0]+=4*G.v,G.ka=T-G.j,G.U=G.va-G.v,G.T=O-T,T=1),T){if(Z=Z[0],11>(T=g.ca).S){var me=T.f.RGBA,Ce=(O=T.S,H=G.U,G=G.T,se=me.eb,me.A),oe=G;for(me=me.fb+g.Ma*me.A;0<oe--;){var ve=Y,be=Z,ke=H,Ee=se,Re=me;switch(O){case kx:Q1(ve,be,ke,Ee,Re);break;case Ix:Gd(ve,be,ke,Ee,Re);break;case aC:Gd(ve,be,ke,Ee,Re),Z1(Ee,Re,0,ke,1,0);break;case IL:rp(ve,be,ke,Ee,Re);break;case Px:Et(ve,be,ke,Ee,Re,1);break;case lC:Et(ve,be,ke,Ee,Re,1),Z1(Ee,Re,0,ke,1,0);break;case Rx:Et(ve,be,ke,Ee,Re,0);break;case Lx:Et(ve,be,ke,Ee,Re,0),Z1(Ee,Re,1,ke,1,0);break;case oC:Kd(ve,be,ke,Ee,Re);break;case cC:Kd(ve,be,ke,Ee,Re),_L(Ee,Re,ke,1,0);break;case PL:Yd(ve,be,ke,Ee,Re);break;default:e(0)}Z+=te,me+=Ce}g.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=T.height)}}g.C=x,e(g.C<=g.i)}function cs(g){var x;if(0<g.ua)return 0;for(x=0;x<g.Wb;++x){var T=g.Ya[x].G,O=g.Ya[x].H;if(0<T[1][O[1]+0].g||0<T[2][O[2]+0].g||0<T[3][O[3]+0].g)return 0}return 1}function Lo(g,x,T,O,H,G){if(g.Z!=0){var Y=g.qd,Z=g.rd;for(e(Jd[g.Z]!=null);x<T;++x)Jd[g.Z](Y,Z,O,H,O,H,G),Y=O,Z=H,H+=G;g.qd=Y,g.rd=Z}}function js(g,x){var T=g.l.ma,O=T.Z==0||T.Z==1?g.l.j:g.C;if(O=g.C<O?O:g.C,e(x<=g.l.o),x>O){var H=g.l.width,G=T.ca,Y=T.tb+H*O,Z=g.V,te=g.Ba+g.c*O,se=g.gc;e(g.ab==1),e(se[0].hc==3),ac(se[0],O,x,Z,te,G,Y),Lo(T,O,x,G,Y,H)}g.C=g.Ma=x}function us(g,x,T,O,H,G,Y){var Z=g.$/O,te=g.$%O,se=g.m,me=g.s,Ce=T+g.$,oe=Ce;H=T+O*H;var ve=T+O*G,be=280+me.ua,ke=g.Pb?Z:16777216,Ee=0<me.ua?me.Wa:null,Re=me.wc,Me=Ce<ve?wr(me,te,Z):null;e(g.C<G),e(ve<=H);var $e=!1;e:for(;;){for(;$e||Ce<ve;){var Ue=0;if(Z>=ke){var _t=Ce-T;e((ke=g).Pb),ke.wd=ke.m,ke.xd=_t,0<ke.s.ua&&Oe(ke.s.Wa,ke.s.vb),ke=Z+PK}if(te&Re||(Me=wr(me,te,Z)),e(Me!=null),Me.Qb&&(x[Ce]=Me.qb,$e=!0),!$e)if(ue(se),Me.jc){Ue=se,_t=x;var ft=Ce,Jt=Me.pd[re(Ue)&np-1];e(Me.jc),256>Jt.g?(he(Ue,Ue.u+Jt.g),_t[ft]=Jt.value,Ue=0):(he(Ue,Ue.u+Jt.g-256),e(256<=Jt.value),Ue=Jt.value),Ue==0&&($e=!0)}else Ue=yr(Me.G[0],Me.H[0],se);if(se.h)break;if($e||256>Ue){if(!$e)if(Me.nd)x[Ce]=(Me.qb|Ue<<8)>>>0;else{if(ue(se),$e=yr(Me.G[1],Me.H[1],se),ue(se),_t=yr(Me.G[2],Me.H[2],se),ft=yr(Me.G[3],Me.H[3],se),se.h)break;x[Ce]=(ft<<24|$e<<16|Ue<<8|_t)>>>0}if($e=!1,++Ce,++te>=O&&(te=0,++Z,Y!=null&&Z<=G&&!(Z%16)&&Y(g,Z),Ee!=null))for(;oe<Ce;)Ue=x[oe++],Ee.X[(506832829*Ue&4294967295)>>>Ee.Mb]=Ue}else if(280>Ue){if(Ue=Dn(Ue-256,se),_t=yr(Me.G[4],Me.H[4],se),ue(se),_t=Qn(O,_t=Dn(_t,se)),se.h)break;if(Ce-T<_t||H-Ce<Ue)break e;for(ft=0;ft<Ue;++ft)x[Ce+ft]=x[Ce+ft-_t];for(Ce+=Ue,te+=Ue;te>=O;)te-=O,++Z,Y!=null&&Z<=G&&!(Z%16)&&Y(g,Z);if(e(Ce<=H),te&Re&&(Me=wr(me,te,Z)),Ee!=null)for(;oe<Ce;)Ue=x[oe++],Ee.X[(506832829*Ue&4294967295)>>>Ee.Mb]=Ue}else{if(!(Ue<be))break e;for($e=Ue-280,e(Ee!=null);oe<Ce;)Ue=x[oe++],Ee.X[(506832829*Ue&4294967295)>>>Ee.Mb]=Ue;Ue=Ce,e(!($e>>>(_t=Ee).Xa)),x[Ue]=_t.X[$e],$e=!0}$e||e(se.h==le(se))}if(g.Pb&&se.h&&Ce<H)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Oe(g.s.vb,g.s.Wa);else{if(se.h)break e;Y!=null&&Y(g,Z>G?G:Z),g.a=0,g.$=Ce-T}return 1}return g.a=3,0}function qr(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var x=g.Wa;x!=null&&(x.X=null),g.vb=null,e(g!=null)}function Jl(){var g=new Dt;return g==null?null:(g.a=0,g.xb=DL,Cn("Predictor","VP8LPredictors"),Cn("Predictor","VP8LPredictors_C"),Cn("PredictorAdd","VP8LPredictorsAdd"),Cn("PredictorAdd","VP8LPredictorsAdd_C"),Wr=Bt,X1=kt,Q1=Ln,Gd=nn,Kd=Ot,Yd=Vt,rp=An,I.VP8LMapColor32b=oc,I.VP8LMapColor8b=K1,g)}function Do(g,x,T,O,H){var G=1,Y=[g],Z=[x],te=O.m,se=O.s,me=null,Ce=0;e:for(;;){if(T)for(;G&&pe(te,1);){var oe=Y,ve=Z,be=O,ke=1,Ee=be.m,Re=be.gc[be.ab],Me=pe(Ee,2);if(be.Oc&1<<Me)G=0;else{switch(be.Oc|=1<<Me,Re.hc=Me,Re.Ea=oe[0],Re.nc=ve[0],Re.K=[null],++be.ab,e(4>=be.ab),Me){case 0:case 1:Re.b=pe(Ee,3)+2,ke=Do(Ie(Re.Ea,Re.b),Ie(Re.nc,Re.b),0,be,Re.K),Re.K=Re.K[0];break;case 3:var $e,Ue=pe(Ee,8)+1,_t=16<Ue?0:4<Ue?1:2<Ue?2:3;if(oe[0]=Ie(Re.Ea,_t),Re.b=_t,$e=ke=Do(Ue,1,0,be,Re.K)){var ft,Jt=Ue,bt=Re,gn=1<<(8>>bt.b),gi=s(gn);if(gi==null)$e=0;else{var Zt=bt.K[0],xt=bt.w;for(gi[0]=bt.K[0][0],ft=1;ft<1*Jt;++ft)gi[ft]=ut(Zt[xt+ft],gi[ft-1]);for(;ft<4*gn;++ft)gi[ft]=0;bt.K[0]=null,bt.K[0]=gi,$e=1}}ke=$e;break;case 2:break;default:e(0)}G=ke}}if(Y=Y[0],Z=Z[0],G&&pe(te,1)&&!(G=1<=(Ce=pe(te,4))&&11>=Ce)){O.a=3;break e}var Je;if(Je=G)t:{var Kr,Xt,xn,cr=O,Wi=Y,Bs=Z,Fr=Ce,hs=T,Us=cr.m,vi=cr.s,En=[null],Bn=1,Br=0,Un=IK[Fr];n:for(;;){if(hs&&pe(Us,1)){var Gi=pe(Us,3)+2,dl=Ie(Wi,Gi),Yr=Ie(Bs,Gi),co=dl*Yr;if(!Do(dl,Yr,0,cr,En))break n;for(En=En[0],vi.xc=Gi,Kr=0;Kr<co;++Kr){var er=En[Kr]>>8&65535;En[Kr]=er,er>=Bn&&(Bn=er+1)}}if(Us.h)break n;for(Xt=0;5>Xt;++Xt){var yi=RL[Xt];!Xt&&0<Fr&&(yi+=1<<Fr),Br<yi&&(Br=yi)}var Vo=o(Bn*Un,R),Vs=Bn,zo=o(Vs,ce);if(zo==null)var $o=null;else e(65536>=Vs),$o=zo;var uo=s(Br);if($o==null||uo==null||Vo==null){cr.a=1;break n}var Ho=Vo;for(Kr=xn=0;Kr<Bn;++Kr){var sr=$o[Kr],qo=sr.G,hl=sr.H,sp=0,wu=1,Ki=0;for(Xt=0;5>Xt;++Xt){yi=RL[Xt],qo[Xt]=Ho,hl[Xt]=xn,!Xt&&0<Fr&&(yi+=1<<Fr);i:{var Ox,fC=yi,Fx=cr,ny=uo,QK=Ho,JK=xn,pC=0,Zd=Fx.m,ZK=pe(Zd,1);if(i(ny,0,0,fC),ZK){var eY=pe(Zd,1)+1,tY=pe(Zd,1),$L=pe(Zd,tY==0?1:8);ny[$L]=1,eY==2&&(ny[$L=pe(Zd,8)]=1);var Bx=1}else{var HL=s(19),qL=pe(Zd,4)+4;if(19<qL){Fx.a=3;var Ux=0;break i}for(Ox=0;Ox<qL;++Ox)HL[TK[Ox]]=pe(Zd,3);var mC=void 0,ry=void 0,WL=Fx,nY=HL,Vx=fC,GL=ny,gC=0,eh=WL.m,KL=8,YL=o(128,R);r:for(;M(YL,0,7,nY,19);){if(pe(eh,1)){var rY=2+2*pe(eh,3);if((mC=2+pe(eh,rY))>Vx)break r}else mC=Vx;for(ry=0;ry<Vx&&mC--;){ue(eh);var XL=YL[0+(127&re(eh))];he(eh,eh.u+XL.g);var Rg=XL.value;if(16>Rg)GL[ry++]=Rg,Rg!=0&&(KL=Rg);else{var iY=Rg==16,QL=Rg-16,sY=CK[QL],JL=pe(eh,SK[QL])+sY;if(ry+JL>Vx)break r;for(var oY=iY?KL:0;0<JL--;)GL[ry++]=oY}}gC=1;break r}gC||(WL.a=3),Bx=gC}(Bx=Bx&&!Zd.h)&&(pC=M(QK,JK,8,ny,fC)),Bx&&pC!=0?Ux=pC:(Fx.a=3,Ux=0)}if(Ux==0)break n;if(wu&&NK[Xt]==1&&(wu=Ho[xn].g==0),sp+=Ho[xn].g,xn+=Ux,3>=Xt){var iy,vC=uo[0];for(iy=1;iy<yi;++iy)uo[iy]>vC&&(vC=uo[iy]);Ki+=vC}}if(sr.nd=wu,sr.Qb=0,wu&&(sr.qb=(qo[3][hl[3]+0].value<<24|qo[1][hl[1]+0].value<<16|qo[2][hl[2]+0].value)>>>0,sp==0&&256>qo[0][hl[0]+0].value&&(sr.Qb=1,sr.qb+=qo[0][hl[0]+0].value<<8)),sr.jc=!sr.Qb&&6>Ki,sr.jc){var zx,bu=sr;for(zx=0;zx<np;++zx){var th=zx,nh=bu.pd[th],$x=bu.G[0][bu.H[0]+th];256<=$x.value?(nh.g=$x.g+256,nh.value=$x.value):(nh.g=0,nh.value=0,th>>=oi($x,8,nh),th>>=oi(bu.G[1][bu.H[1]+th],16,nh),th>>=oi(bu.G[2][bu.H[2]+th],0,nh),oi(bu.G[3][bu.H[3]+th],24,nh))}}}vi.vc=En,vi.Wb=Bn,vi.Ya=$o,vi.yc=Vo,Je=1;break t}Je=0}if(!(G=Je)){O.a=3;break e}if(0<Ce){if(se.ua=1<<Ce,!J(se.Wa,Ce)){O.a=1,G=0;break e}}else se.ua=0;var yC=O,ZL=Y,aY=Z,wC=yC.s,bC=wC.xc;if(yC.c=ZL,yC.i=aY,wC.md=Ie(ZL,bC),wC.wc=bC==0?-1:(1<<bC)-1,T){O.xb=FK;break e}if((me=s(Y*Z))==null){O.a=1,G=0;break e}G=(G=us(O,me,0,Y,Z,Z,null))&&!te.h;break e}return G?(H!=null?H[0]=me:(e(me==null),e(T)),O.$=0,T||qr(se)):qr(se),G}function ol(g,x){var T=g.c*g.i,O=T+x+16*x;return e(g.c<=x),g.V=s(O),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+T+x,1)}function Zl(g,x){var T=g.C,O=x-T,H=g.V,G=g.Ba+g.c*T;for(e(x<=g.l.o);0<O;){var Y=16<O?16:O,Z=g.l.ma,te=g.l.width,se=te*Y,me=Z.ca,Ce=Z.tb+te*T,oe=g.Ta,ve=g.Ua;au(g,Y,H,G),EL(oe,ve,me,Ce,se),Lo(Z,T,T+Y,me,Ce,te),O-=Y,H+=Y*g.c,T+=Y}e(T==x),g.C=g.Ma=x}function lu(){this.ub=this.yd=this.td=this.Rb=0}function cu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function F1(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ec(){this.Yb=function(){var g=[];return function x(T,O,H){for(var G=H[O],Y=0;Y<G&&(T.push(H.length>O+1?[]:0),!(H.length<O+1));Y++)x(T[Y],O+1,H)}(g,0,[3,11]),g}()}function qf(){this.jb=s(3),this.Wc=a([4,8],ec),this.Xc=a([4,17],ec)}function jd(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ti(){this.ld=this.La=this.dd=this.tc=0}function Mo(){this.Na=this.la=0}function Od(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wf(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Gf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ti),this.Y=0,this.ya=Array(new Wf),this.aa=0,this.l=new tc}function Kf(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Yf(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new lu,this.Kc=new cu,this.ed=new jd,this.Qa=new F1,this.Ic=this.$c=this.Aa=0,this.D=new Gf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,U),this.ia=0,this.pb=o(4,Od),this.Pa=new qf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Kf),this.Hd=0,this.rb=Array(new Mo),this.sb=0,this.wa=Array(new Ti),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wf),this.L=this.aa=0,this.gd=a([4,2],Ti),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function oo(g,x){return 0>g?0:g>x?x:g}function tc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _g(){var g=new Yf;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,ey||(ey=uu)),g}function Ar(g,x,T){return g.a==0&&(g.a=x,g.sc=T,g.cb=0),0}function Ag(g,x,T){return 3<=T&&g[x+0]==157&&g[x+1]==1&&g[x+2]==42}function _a(g,x){if(g==null)return 0;if(g.a=0,g.sc="OK",x==null)return Ar(g,2,"null VP8Io passed to VP8GetHeaders()");var T=x.data,O=x.w,H=x.ha;if(4>H)return Ar(g,7,"Truncated header.");var G=T[O+0]|T[O+1]<<8|T[O+2]<<16,Y=g.Od;if(Y.Rb=!(1&G),Y.td=G>>1&7,Y.yd=G>>4&1,Y.ub=G>>5,3<Y.td)return Ar(g,3,"Incorrect keyframe parameters.");if(!Y.yd)return Ar(g,4,"Frame not displayable.");O+=3,H-=3;var Z=g.Kc;if(Y.Rb){if(7>H)return Ar(g,7,"cannot parse picture header");if(!Ag(T,O,H))return Ar(g,3,"Bad code word");Z.c=16383&(T[O+4]<<8|T[O+3]),Z.Td=T[O+4]>>6,Z.i=16383&(T[O+6]<<8|T[O+5]),Z.Ud=T[O+6]>>6,O+=7,H-=7,g.za=Z.c+15>>4,g.Ub=Z.i+15>>4,x.width=Z.c,x.height=Z.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((G=g.Pa).jb,0,255,G.jb.length),e((G=g.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,i(G.Zb,0,0,G.Zb.length),i(G.Lb,0,0,G.Lb)}if(Y.ub>H)return Ar(g,7,"bad partition length");de(G=g.m,T,O,Y.ub),O+=Y.ub,H-=Y.ub,Y.Rb&&(Z.Ld=xe(G),Z.Kd=xe(G)),Z=g.Qa;var te,se=g.Pa;if(e(G!=null),e(Z!=null),Z.Cb=xe(G),Z.Cb){if(Z.Bb=xe(G),xe(G)){for(Z.Fb=xe(G),te=0;4>te;++te)Z.Zb[te]=xe(G)?Q(G,7):0;for(te=0;4>te;++te)Z.Lb[te]=xe(G)?Q(G,6):0}if(Z.Bb)for(te=0;3>te;++te)se.jb[te]=xe(G)?ae(G,8):255}else Z.Bb=0;if(G.Ka)return Ar(g,3,"cannot parse segment header");if((Z=g.ed).zd=xe(G),Z.Tb=ae(G,6),Z.wb=ae(G,3),Z.Pc=xe(G),Z.Pc&&xe(G)){for(se=0;4>se;++se)xe(G)&&(Z.vd[se]=Q(G,6));for(se=0;4>se;++se)xe(G)&&(Z.od[se]=Q(G,6))}if(g.L=Z.Tb==0?0:Z.zd?1:2,G.Ka)return Ar(g,3,"cannot parse filter header");var me=H;if(H=te=O,O=te+me,Z=me,g.Xb=(1<<ae(g.m,2))-1,me<3*(se=g.Xb))T=7;else{for(te+=3*se,Z-=3*se,me=0;me<se;++me){var Ce=T[H+0]|T[H+1]<<8|T[H+2]<<16;Ce>Z&&(Ce=Z),de(g.Jc[+me],T,te,Ce),te+=Ce,Z-=Ce,H+=3}de(g.Jc[+se],T,te,Z),T=te<O?0:5}if(T!=0)return Ar(g,T,"cannot parse partitions");for(T=ae(te=g.m,7),H=xe(te)?Q(te,4):0,O=xe(te)?Q(te,4):0,Z=xe(te)?Q(te,4):0,se=xe(te)?Q(te,4):0,te=xe(te)?Q(te,4):0,me=g.Qa,Ce=0;4>Ce;++Ce){if(me.Cb){var oe=me.Zb[Ce];me.Fb||(oe+=T)}else{if(0<Ce){g.pb[Ce]=g.pb[0];continue}oe=T}var ve=g.pb[Ce];ve.Sc[0]=uC[oo(oe+H,127)],ve.Sc[1]=dC[oo(oe+0,127)],ve.Eb[0]=2*uC[oo(oe+O,127)],ve.Eb[1]=101581*dC[oo(oe+Z,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=uC[oo(oe+se,117)],ve.Qc[1]=dC[oo(oe+te,127)],ve.lc=oe+te}if(!Y.Rb)return Ar(g,4,"Not a key frame.");for(xe(G),Y=g.Pa,T=0;4>T;++T){for(H=0;8>H;++H)for(O=0;3>O;++O)for(Z=0;11>Z;++Z)se=Ae(G,jK[T][H][O][Z])?ae(G,8):DK[T][H][O][Z],Y.Wc[T][H].Yb[O][Z]=se;for(H=0;17>H;++H)Y.Xc[T][H]=Y.Wc[T][OK[H]]}return g.kc=xe(G),g.kc&&(g.Bd=ae(G,8)),g.cb=1}function uu(g,x,T,O,H,G,Y){var Z=x[H].Yb[T];for(T=0;16>H;++H){if(!Ae(g,Z[T+0]))return H;for(;!Ae(g,Z[T+1]);)if(Z=x[++H].Yb[0],T=0,H==16)return 16;var te=x[H+1].Yb;if(Ae(g,Z[T+2])){var se=g,me=0;if(Ae(se,(oe=Z)[(Ce=T)+3]))if(Ae(se,oe[Ce+6])){for(Z=0,Ce=2*(me=Ae(se,oe[Ce+8]))+(oe=Ae(se,oe[Ce+9+me])),me=0,oe=RK[Ce];oe[Z];++Z)me+=me+Ae(se,oe[Z]);me+=3+(8<<Ce)}else Ae(se,oe[Ce+7])?(me=7+2*Ae(se,165),me+=Ae(se,145)):me=5+Ae(se,159);else me=Ae(se,oe[Ce+4])?3+Ae(se,oe[Ce+5]):2;Z=te[2]}else me=1,Z=te[1];te=Y+LK[H],0>(se=g).b&&_e(se);var Ce,oe=se.b,ve=(Ce=se.Ca>>1)-(se.I>>oe)>>31;--se.b,se.Ca+=ve,se.Ca|=1,se.I-=(Ce+1&ve)<<oe,G[te]=((me^ve)-ve)*O[(0<H)+0]}return 16}function Xf(g){var x=g.rb[g.sb-1];x.la=0,x.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function ao(g,x,T,O,H){H=g[x+T+32*O]+(H>>3),g[x+T+32*O]=-256&H?0>H?0:255:H}function Jn(g,x,T,O,H,G){ao(g,x,0,T,O+H),ao(g,x,1,T,O+G),ao(g,x,2,T,O-G),ao(g,x,3,T,O-H)}function pi(g){return(20091*g>>16)+g}function du(g,x,T,O){var H,G=0,Y=s(16);for(H=0;4>H;++H){var Z=g[x+0]+g[x+8],te=g[x+0]-g[x+8],se=(35468*g[x+4]>>16)-pi(g[x+12]),me=pi(g[x+4])+(35468*g[x+12]>>16);Y[G+0]=Z+me,Y[G+1]=te+se,Y[G+2]=te-se,Y[G+3]=Z-me,G+=4,x++}for(H=G=0;4>H;++H)Z=(g=Y[G+0]+4)+Y[G+8],te=g-Y[G+8],se=(35468*Y[G+4]>>16)-pi(Y[G+12]),ao(T,O,0,0,Z+(me=pi(Y[G+4])+(35468*Y[G+12]>>16))),ao(T,O,1,0,te+se),ao(T,O,2,0,te-se),ao(T,O,3,0,Z-me),G++,O+=32}function Fd(g,x,T,O){var H=g[x+0]+4,G=35468*g[x+4]>>16,Y=pi(g[x+4]),Z=35468*g[x+1]>>16;Jn(T,O,0,H+Y,g=pi(g[x+1]),Z),Jn(T,O,1,H+G,g,Z),Jn(T,O,2,H-G,g,Z),Jn(T,O,3,H-Y,g,Z)}function Eg(g,x,T,O,H){du(g,x,T,O),H&&du(g,x+16,T,O+4)}function dn(g,x,T,O){ip(g,x+0,T,O,1),ip(g,x+32,T,O+128,1)}function hu(g,x,T,O){var H;for(g=g[x+0]+4,H=0;4>H;++H)for(x=0;4>x;++x)ao(T,O,x,H,g)}function nc(g,x,T,O){g[x+0]&&Mn(g,x+0,T,O),g[x+16]&&Mn(g,x+16,T,O+4),g[x+32]&&Mn(g,x+32,T,O+128),g[x+48]&&Mn(g,x+48,T,O+128+4)}function Aa(g,x,T,O){var H,G=s(16);for(H=0;4>H;++H){var Y=g[x+0+H]+g[x+12+H],Z=g[x+4+H]+g[x+8+H],te=g[x+4+H]-g[x+8+H],se=g[x+0+H]-g[x+12+H];G[0+H]=Y+Z,G[8+H]=Y-Z,G[4+H]=se+te,G[12+H]=se-te}for(H=0;4>H;++H)Y=(g=G[0+4*H]+3)+G[3+4*H],Z=G[1+4*H]+G[2+4*H],te=G[1+4*H]-G[2+4*H],se=g-G[3+4*H],T[O+0]=Y+Z>>3,T[O+16]=se+te>>3,T[O+32]=Y-Z>>3,T[O+48]=se-te>>3,O+=64}function fu(g,x,T){var O,H=x-32,G=Uo,Y=255-g[H-1];for(O=0;O<T;++O){var Z,te=G,se=Y+g[x-1];for(Z=0;Z<T;++Z)g[x+Z]=te[se+g[H+Z]];x+=32}}function Sg(g,x){fu(g,x,4)}function B1(g,x){fu(g,x,8)}function U1(g,x){fu(g,x,16)}function Qf(g,x){var T;for(T=0;16>T;++T)r(g,x+32*T,g,x-32,16)}function Cg(g,x){var T;for(T=16;0<T;--T)i(g,x,g[x-1],16),x+=32}function Hi(g,x,T){var O;for(O=0;16>O;++O)i(x,T+32*O,g,16)}function Ea(g,x){var T,O=16;for(T=0;16>T;++T)O+=g[x-1+32*T]+g[x+T-32];Hi(O>>5,g,x)}function rc(g,x){var T,O=8;for(T=0;16>T;++T)O+=g[x-1+32*T];Hi(O>>4,g,x)}function Bd(g,x){var T,O=8;for(T=0;16>T;++T)O+=g[x+T-32];Hi(O>>4,g,x)}function Ng(g,x){Hi(128,g,x)}function Lt(g,x,T){return g+2*x+T+2>>2}function V1(g,x){var T,O=x-32;for(O=new Uint8Array([Lt(g[O-1],g[O+0],g[O+1]),Lt(g[O+0],g[O+1],g[O+2]),Lt(g[O+1],g[O+2],g[O+3]),Lt(g[O+2],g[O+3],g[O+4])]),T=0;4>T;++T)r(g,x+32*T,O,0,O.length)}function z1(g,x){var T=g[x-1],O=g[x-1+32],H=g[x-1+64],G=g[x-1+96];je(g,x+0,16843009*Lt(g[x-1-32],T,O)),je(g,x+32,16843009*Lt(T,O,H)),je(g,x+64,16843009*Lt(O,H,G)),je(g,x+96,16843009*Lt(H,G,G))}function $1(g,x){var T,O=4;for(T=0;4>T;++T)O+=g[x+T-32]+g[x-1+32*T];for(O>>=3,T=0;4>T;++T)i(g,x+32*T,O,4)}function ki(g,x){var T=g[x-1+0],O=g[x-1+32],H=g[x-1+64],G=g[x-1-32],Y=g[x+0-32],Z=g[x+1-32],te=g[x+2-32],se=g[x+3-32];g[x+0+96]=Lt(O,H,g[x-1+96]),g[x+1+96]=g[x+0+64]=Lt(T,O,H),g[x+2+96]=g[x+1+64]=g[x+0+32]=Lt(G,T,O),g[x+3+96]=g[x+2+64]=g[x+1+32]=g[x+0+0]=Lt(Y,G,T),g[x+3+64]=g[x+2+32]=g[x+1+0]=Lt(Z,Y,G),g[x+3+32]=g[x+2+0]=Lt(te,Z,Y),g[x+3+0]=Lt(se,te,Z)}function al(g,x){var T=g[x+1-32],O=g[x+2-32],H=g[x+3-32],G=g[x+4-32],Y=g[x+5-32],Z=g[x+6-32],te=g[x+7-32];g[x+0+0]=Lt(g[x+0-32],T,O),g[x+1+0]=g[x+0+32]=Lt(T,O,H),g[x+2+0]=g[x+1+32]=g[x+0+64]=Lt(O,H,G),g[x+3+0]=g[x+2+32]=g[x+1+64]=g[x+0+96]=Lt(H,G,Y),g[x+3+32]=g[x+2+64]=g[x+1+96]=Lt(G,Y,Z),g[x+3+64]=g[x+2+96]=Lt(Y,Z,te),g[x+3+96]=Lt(Z,te,te)}function H1(g,x){var T=g[x-1+0],O=g[x-1+32],H=g[x-1+64],G=g[x-1-32],Y=g[x+0-32],Z=g[x+1-32],te=g[x+2-32],se=g[x+3-32];g[x+0+0]=g[x+1+64]=G+Y+1>>1,g[x+1+0]=g[x+2+64]=Y+Z+1>>1,g[x+2+0]=g[x+3+64]=Z+te+1>>1,g[x+3+0]=te+se+1>>1,g[x+0+96]=Lt(H,O,T),g[x+0+64]=Lt(O,T,G),g[x+0+32]=g[x+1+96]=Lt(T,G,Y),g[x+1+32]=g[x+2+96]=Lt(G,Y,Z),g[x+2+32]=g[x+3+96]=Lt(Y,Z,te),g[x+3+32]=Lt(Z,te,se)}function Ud(g,x){var T=g[x+0-32],O=g[x+1-32],H=g[x+2-32],G=g[x+3-32],Y=g[x+4-32],Z=g[x+5-32],te=g[x+6-32],se=g[x+7-32];g[x+0+0]=T+O+1>>1,g[x+1+0]=g[x+0+64]=O+H+1>>1,g[x+2+0]=g[x+1+64]=H+G+1>>1,g[x+3+0]=g[x+2+64]=G+Y+1>>1,g[x+0+32]=Lt(T,O,H),g[x+1+32]=g[x+0+96]=Lt(O,H,G),g[x+2+32]=g[x+1+96]=Lt(H,G,Y),g[x+3+32]=g[x+2+96]=Lt(G,Y,Z),g[x+3+64]=Lt(Y,Z,te),g[x+3+96]=Lt(Z,te,se)}function ll(g,x){var T=g[x-1+0],O=g[x-1+32],H=g[x-1+64],G=g[x-1+96];g[x+0+0]=T+O+1>>1,g[x+2+0]=g[x+0+32]=O+H+1>>1,g[x+2+32]=g[x+0+64]=H+G+1>>1,g[x+1+0]=Lt(T,O,H),g[x+3+0]=g[x+1+32]=Lt(O,H,G),g[x+3+32]=g[x+1+64]=Lt(H,G,G),g[x+3+64]=g[x+2+64]=g[x+0+96]=g[x+1+96]=g[x+2+96]=g[x+3+96]=G}function Vd(g,x){var T=g[x-1+0],O=g[x-1+32],H=g[x-1+64],G=g[x-1+96],Y=g[x-1-32],Z=g[x+0-32],te=g[x+1-32],se=g[x+2-32];g[x+0+0]=g[x+2+32]=T+Y+1>>1,g[x+0+32]=g[x+2+64]=O+T+1>>1,g[x+0+64]=g[x+2+96]=H+O+1>>1,g[x+0+96]=G+H+1>>1,g[x+3+0]=Lt(Z,te,se),g[x+2+0]=Lt(Y,Z,te),g[x+1+0]=g[x+3+32]=Lt(T,Y,Z),g[x+1+32]=g[x+3+64]=Lt(O,T,Y),g[x+1+64]=g[x+3+96]=Lt(H,O,T),g[x+1+96]=Lt(G,H,O)}function jo(g,x){var T;for(T=0;8>T;++T)r(g,x+32*T,g,x-32,8)}function pu(g,x){var T;for(T=0;8>T;++T)i(g,x,g[x-1],8),x+=32}function Sa(g,x,T){var O;for(O=0;8>O;++O)i(x,T+32*O,g,8)}function Jf(g,x){var T,O=8;for(T=0;8>T;++T)O+=g[x+T-32]+g[x-1+32*T];Sa(O>>4,g,x)}function Gn(g,x){var T,O=4;for(T=0;8>T;++T)O+=g[x+T-32];Sa(O>>3,g,x)}function Zf(g,x){var T,O=4;for(T=0;8>T;++T)O+=g[x-1+32*T];Sa(O>>3,g,x)}function Tg(g,x){Sa(128,g,x)}function Ca(g,x,T){var O=g[x-T],H=g[x+0],G=3*(H-O)+sC[1020+g[x-2*T]-g[x+T]],Y=Tx[112+(G+4>>3)];g[x-T]=Uo[255+O+Tx[112+(G+3>>3)]],g[x+0]=Uo[255+H-Y]}function zd(g,x,T,O){var H=g[x+0],G=g[x+T];return Ra[255+g[x-2*T]-g[x-T]]>O||Ra[255+G-H]>O}function mu(g,x,T,O){return 4*Ra[255+g[x-T]-g[x+0]]+Ra[255+g[x-2*T]-g[x+T]]<=O}function ic(g,x,T,O,H){var G=g[x-3*T],Y=g[x-2*T],Z=g[x-T],te=g[x+0],se=g[x+T],me=g[x+2*T],Ce=g[x+3*T];return 4*Ra[255+Z-te]+Ra[255+Y-se]>O?0:Ra[255+g[x-4*T]-G]<=H&&Ra[255+G-Y]<=H&&Ra[255+Y-Z]<=H&&Ra[255+Ce-me]<=H&&Ra[255+me-se]<=H&&Ra[255+se-te]<=H}function sc(g,x,T,O){var H=2*O+1;for(O=0;16>O;++O)mu(g,x+O,T,H)&&Ca(g,x+O,T)}function Os(g,x,T,O){var H=2*O+1;for(O=0;16>O;++O)mu(g,x+O*T,1,H)&&Ca(g,x+O*T,1)}function ep(g,x,T,O){var H;for(H=3;0<H;--H)sc(g,x+=4*T,T,O)}function kg(g,x,T,O){var H;for(H=3;0<H;--H)Os(g,x+=4,T,O)}function Fs(g,x,T,O,H,G,Y,Z){for(G=2*G+1;0<H--;){if(ic(g,x,T,G,Y))if(zd(g,x,T,Z))Ca(g,x,T);else{var te=g,se=x,me=T,Ce=te[se-2*me],oe=te[se-me],ve=te[se+0],be=te[se+me],ke=te[se+2*me],Ee=27*(Me=sC[1020+3*(ve-oe)+sC[1020+Ce-be]])+63>>7,Re=18*Me+63>>7,Me=9*Me+63>>7;te[se-3*me]=Uo[255+te[se-3*me]+Me],te[se-2*me]=Uo[255+Ce+Re],te[se-me]=Uo[255+oe+Ee],te[se+0]=Uo[255+ve-Ee],te[se+me]=Uo[255+be-Re],te[se+2*me]=Uo[255+ke-Me]}x+=O}}function Na(g,x,T,O,H,G,Y,Z){for(G=2*G+1;0<H--;){if(ic(g,x,T,G,Y))if(zd(g,x,T,Z))Ca(g,x,T);else{var te=g,se=x,me=T,Ce=te[se-me],oe=te[se+0],ve=te[se+me],be=Tx[112+(4+(ke=3*(oe-Ce))>>3)],ke=Tx[112+(ke+3>>3)],Ee=be+1>>1;te[se-2*me]=Uo[255+te[se-2*me]+Ee],te[se-me]=Uo[255+Ce+ke],te[se+0]=Uo[255+oe-be],te[se+me]=Uo[255+ve-Ee]}x+=O}}function $d(g,x,T,O,H,G){Fs(g,x,T,1,16,O,H,G)}function Ta(g,x,T,O,H,G){Fs(g,x,1,T,16,O,H,G)}function tp(g,x,T,O,H,G){var Y;for(Y=3;0<Y;--Y)Na(g,x+=4*T,T,1,16,O,H,G)}function S(g,x,T,O,H,G){var Y;for(Y=3;0<Y;--Y)Na(g,x+=4,1,T,16,O,H,G)}function $(g,x,T,O,H,G,Y,Z){Fs(g,x,H,1,8,G,Y,Z),Fs(T,O,H,1,8,G,Y,Z)}function ie(g,x,T,O,H,G,Y,Z){Fs(g,x,1,H,8,G,Y,Z),Fs(T,O,1,H,8,G,Y,Z)}function fe(g,x,T,O,H,G,Y,Z){Na(g,x+4*H,H,1,8,G,Y,Z),Na(T,O+4*H,H,1,8,G,Y,Z)}function ye(g,x,T,O,H,G,Y,Z){Na(g,x+4,1,H,8,G,Y,Z),Na(T,O+4,1,H,8,G,Y,Z)}function Pe(){this.ba=new zt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Be(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gt(){this.ua=0,this.Wa=new Xe,this.vb=new Xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new R}function Dt(){this.xb=this.a=0,this.l=new tc,this.ca=new zt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gt,this.ab=0,this.gc=o(4,lt),this.Oc=0}function Ht(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new tc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hn(g,x,T,O,H,G,Y){for(g=g==null?0:g[x+0],x=0;x<Y;++x)H[G+x]=g+T[O+x]&255,g=H[G+x]}function In(g,x,T,O,H,G,Y){var Z;if(g==null)hn(null,null,T,O,H,G,Y);else for(Z=0;Z<Y;++Z)H[G+Z]=g[x+Z]+T[O+Z]&255}function Er(g,x,T,O,H,G,Y){if(g==null)hn(null,null,T,O,H,G,Y);else{var Z,te=g[x+0],se=te,me=te;for(Z=0;Z<Y;++Z)se=me+(te=g[x+Z])-se,me=T[O+Z]+(-256&se?0>se?0:255:se)&255,se=te,H[G+Z]=me}}function Fn(g,x,T,O){var H=x.width,G=x.o;if(e(g!=null&&x!=null),0>T||0>=O||T+O>G)return null;if(!g.Cc){if(g.ga==null){var Y;if(g.ga=new Ht,(Y=g.ga==null)||(Y=x.width*x.o,e(g.Gb.length==0),g.Gb=s(Y),g.Uc=0,g.Gb==null?Y=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,Y=1),Y=!Y),!Y){Y=g.ga;var Z=g.Fa,te=g.P,se=g.qc,me=g.mb,Ce=g.nb,oe=te+1,ve=se-1,be=Y.l;if(e(Z!=null&&me!=null&&x!=null),Jd[0]=null,Jd[1]=hn,Jd[2]=In,Jd[3]=Er,Y.ca=me,Y.tb=Ce,Y.c=x.width,Y.i=x.height,e(0<Y.c&&0<Y.i),1>=se)x=0;else if(Y.$a=3&Z[te+0],Y.Z=Z[te+0]>>2&3,Y.Lc=Z[te+0]>>4&3,te=Z[te+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||te)x=0;else if(be.put=ht,be.ac=Wn,be.bc=bn,be.ma=Y,be.width=x.width,be.height=x.height,be.Da=x.Da,be.v=x.v,be.va=x.va,be.j=x.j,be.o=x.o,Y.$a)e:{e(Y.$a==1),x=Jl();t:for(;;){if(x==null){x=0;break e}if(e(Y!=null),Y.mc=x,x.c=Y.c,x.i=Y.i,x.l=Y.l,x.l.ma=Y,x.l.width=Y.c,x.l.height=Y.i,x.a=0,ne(x.m,Z,oe,ve),!Do(Y.c,Y.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&cs(x.s)?(Y.ic=1,Z=x.c*x.i,x.Ta=null,x.Ua=0,x.V=s(Z),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(Y.ic=0,x=ol(x,Y.c)),!x))break t;x=1;break e}Y.mc=null,x=0}else x=ve>=Y.c*Y.i;Y=!x}if(Y)return null;g.ga.Lc!=1?g.Ga=0:O=G-T}e(g.ga!=null),e(T+O<=G);e:{if(x=(Z=g.ga).c,G=Z.l.o,Z.$a==0){if(oe=g.rc,ve=g.Vc,be=g.Fa,te=g.P+1+T*x,se=g.mb,me=g.nb+T*x,e(te<=g.P+g.qc),Z.Z!=0)for(e(Jd[Z.Z]!=null),Y=0;Y<O;++Y)Jd[Z.Z](oe,ve,be,te,se,me,x),oe=se,ve=me,me+=x,te+=x;else for(Y=0;Y<O;++Y)r(se,me,be,te,x),oe=se,ve=me,me+=x,te+=x;g.rc=oe,g.Vc=ve}else{if(e(Z.mc!=null),x=T+O,e((Y=Z.mc)!=null),e(x<=Y.i),Y.C>=x)x=1;else if(Z.ic||lo(),Z.ic){Z=Y.V,oe=Y.Ba,ve=Y.c;var ke=Y.i,Ee=(be=1,te=Y.$/ve,se=Y.$%ve,me=Y.m,Ce=Y.s,Y.$),Re=ve*ke,Me=ve*x,$e=Ce.wc,Ue=Ee<Me?wr(Ce,se,te):null;e(Ee<=Re),e(x<=ke),e(cs(Ce));t:for(;;){for(;!me.h&&Ee<Me;){if(se&$e||(Ue=wr(Ce,se,te)),e(Ue!=null),ue(me),256>(ke=yr(Ue.G[0],Ue.H[0],me)))Z[oe+Ee]=ke,++Ee,++se>=ve&&(se=0,++te<=x&&!(te%16)&&js(Y,te));else{if(!(280>ke)){be=0;break t}ke=Dn(ke-256,me);var _t,ft=yr(Ue.G[4],Ue.H[4],me);if(ue(me),!(Ee>=(ft=Qn(ve,ft=Dn(ft,me)))&&Re-Ee>=ke)){be=0;break t}for(_t=0;_t<ke;++_t)Z[oe+Ee+_t]=Z[oe+Ee+_t-ft];for(Ee+=ke,se+=ke;se>=ve;)se-=ve,++te<=x&&!(te%16)&&js(Y,te);Ee<Me&&se&$e&&(Ue=wr(Ce,se,te))}e(me.h==le(me))}js(Y,te>x?x:te);break t}!be||me.h&&Ee<Re?(be=0,Y.a=me.h?5:3):Y.$=Ee,x=be}else x=us(Y,Y.V,Y.Ba,Y.c,Y.i,x,Zl);if(!x){O=0;break e}}T+O>=G&&(g.Cc=1),O=1}if(!O)return null;if(g.Cc&&((O=g.ga)!=null&&(O.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+T*H}function jr(g,x,T,O,H,G){for(;0<H--;){var Y,Z=g,te=x+(T?1:0),se=g,me=x+(T?0:3);for(Y=0;Y<O;++Y){var Ce=se[me+4*Y];Ce!=255&&(Ce*=32897,Z[te+4*Y+0]=Z[te+4*Y+0]*Ce>>23,Z[te+4*Y+1]=Z[te+4*Y+1]*Ce>>23,Z[te+4*Y+2]=Z[te+4*Y+2]*Ce>>23)}x+=G}}function Sr(g,x,T,O,H){for(;0<O--;){var G;for(G=0;G<T;++G){var Y=g[x+2*G+0],Z=15&(se=g[x+2*G+1]),te=4369*Z,se=(240&se|se>>4)*te>>16;g[x+2*G+0]=(240&Y|Y>>4)*te>>16&240|(15&Y|Y<<4)*te>>16>>4&15,g[x+2*G+1]=240&se|Z}x+=H}}function Or(g,x,T,O,H,G,Y,Z){var te,se,me=255;for(se=0;se<H;++se){for(te=0;te<O;++te){var Ce=g[x+te];G[Y+4*te]=Ce,me&=Ce}x+=T,Y+=Z}return me!=255}function Cr(g,x,T,O,H){var G;for(G=0;G<H;++G)T[O+G]=g[x+G]>>8}function lo(){Z1=jr,_L=Sr,AL=Or,EL=Cr}function ka(g,x,T){I[g]=function(O,H,G,Y,Z,te,se,me,Ce,oe,ve,be,ke,Ee,Re,Me,$e){var Ue,_t=$e-1>>1,ft=Z[te+0]|se[me+0]<<16,Jt=Ce[oe+0]|ve[be+0]<<16;e(O!=null);var bt=3*ft+Jt+131074>>2;for(x(O[H+0],255&bt,bt>>16,ke,Ee),G!=null&&(bt=3*Jt+ft+131074>>2,x(G[Y+0],255&bt,bt>>16,Re,Me)),Ue=1;Ue<=_t;++Ue){var gn=Z[te+Ue]|se[me+Ue]<<16,gi=Ce[oe+Ue]|ve[be+Ue]<<16,Zt=ft+gn+Jt+gi+524296,xt=Zt+2*(gn+Jt)>>3;bt=xt+ft>>1,ft=(Zt=Zt+2*(ft+gi)>>3)+gn>>1,x(O[H+2*Ue-1],255&bt,bt>>16,ke,Ee+(2*Ue-1)*T),x(O[H+2*Ue-0],255&ft,ft>>16,ke,Ee+(2*Ue-0)*T),G!=null&&(bt=Zt+Jt>>1,ft=xt+gi>>1,x(G[Y+2*Ue-1],255&bt,bt>>16,Re,Me+(2*Ue-1)*T),x(G[Y+2*Ue+0],255&ft,ft>>16,Re,Me+(2*Ue+0)*T)),ft=gn,Jt=gi}1&$e||(bt=3*ft+Jt+131074>>2,x(O[H+$e-1],255&bt,bt>>16,ke,Ee+($e-1)*T),G!=null&&(bt=3*Jt+ft+131074>>2,x(G[Y+$e-1],255&bt,bt>>16,Re,Me+($e-1)*T)))}}function Ia(){La[kx]=BK,La[Ix]=ML,La[IL]=UK,La[Px]=jL,La[Rx]=OL,La[oC]=FL,La[PL]=VK,La[aC]=ML,La[lC]=jL,La[Lx]=OL,La[cC]=FL}function v(g){return g&~zK?0>g?0:255:g>>BL}function P(g,x){return v((19077*g>>8)+(26149*x>>8)-14234)}function B(g,x,T){return v((19077*g>>8)-(6419*x>>8)-(13320*T>>8)+8708)}function ee(g,x){return v((19077*g>>8)+(33050*x>>8)-17685)}function we(g,x,T,O,H){O[H+0]=P(g,T),O[H+1]=B(g,x,T),O[H+2]=ee(g,x)}function Ne(g,x,T,O,H){O[H+0]=ee(g,x),O[H+1]=B(g,x,T),O[H+2]=P(g,T)}function qe(g,x,T,O,H){var G=B(g,x,T);x=G<<3&224|ee(g,x)>>3,O[H+0]=248&P(g,T)|G>>5,O[H+1]=x}function mn(g,x,T,O,H){var G=240&ee(g,x)|15;O[H+0]=240&P(g,T)|B(g,x,T)>>4,O[H+1]=G}function Nr(g,x,T,O,H){O[H+0]=255,we(g,x,T,O,H+1)}function an(g,x,T,O,H){Ne(g,x,T,O,H),O[H+3]=255}function Tn(g,x,T,O,H){we(g,x,T,O,H),O[H+3]=255}function ir(g,x,T){I[g]=function(O,H,G,Y,Z,te,se,me,Ce){for(var oe=me+(-2&Ce)*T;me!=oe;)x(O[H+0],G[Y+0],Z[te+0],se,me),x(O[H+1],G[Y+0],Z[te+0],se,me+T),H+=2,++Y,++te,me+=2*T;1&Ce&&x(O[H+0],G[Y+0],Z[te+0],se,me)}}function Oo(g,x,T){return T==0?g==0?x==0?6:5:x==0?4:0:T}function ds(g,x,T,O,H){switch(g>>>30){case 3:ip(x,T,O,H,0);break;case 2:Pa(x,T,O,H);break;case 1:Mn(x,T,O,H)}}function qi(g,x){var T,O,H=x.M,G=x.Nb,Y=g.oc,Z=g.pc+40,te=g.oc,se=g.pc+584,me=g.oc,Ce=g.pc+600;for(T=0;16>T;++T)Y[Z+32*T-1]=129;for(T=0;8>T;++T)te[se+32*T-1]=129,me[Ce+32*T-1]=129;for(0<H?Y[Z-1-32]=te[se-1-32]=me[Ce-1-32]=129:(i(Y,Z-32-1,127,21),i(te,se-32-1,127,9),i(me,Ce-32-1,127,9)),O=0;O<g.za;++O){var oe=x.ya[x.aa+O];if(0<O){for(T=-1;16>T;++T)r(Y,Z+32*T-4,Y,Z+32*T+12,4);for(T=-1;8>T;++T)r(te,se+32*T-4,te,se+32*T+4,4),r(me,Ce+32*T-4,me,Ce+32*T+4,4)}var ve=g.Gd,be=g.Hd+O,ke=oe.ad,Ee=oe.Hc;if(0<H&&(r(Y,Z-32,ve[be].y,0,16),r(te,se-32,ve[be].f,0,8),r(me,Ce-32,ve[be].ea,0,8)),oe.Za){var Re=Y,Me=Z-32+16;for(0<H&&(O>=g.za-1?i(Re,Me,ve[be].y[15],4):r(Re,Me,ve[be+1].y,0,4)),T=0;4>T;T++)Re[Me+128+T]=Re[Me+256+T]=Re[Me+384+T]=Re[Me+0+T];for(T=0;16>T;++T,Ee<<=2)Re=Y,Me=Z+VL[T],ul[oe.Ob[T]](Re,Me),ds(Ee,ke,16*+T,Re,Me)}else if(Re=Oo(O,H,oe.Ob[0]),Qd[Re](Y,Z),Ee!=0)for(T=0;16>T;++T,Ee<<=2)ds(Ee,ke,16*+T,Y,Z+VL[T]);for(T=oe.Gc,Re=Oo(O,H,oe.Dd),yu[Re](te,se),yu[Re](me,Ce),Ee=ke,Re=te,Me=se,255&(oe=0|T)&&(170&oe?lc(Ee,256,Re,Me):Zn(Ee,256,Re,Me)),oe=me,Ee=Ce,255&(T>>=8)&&(170&T?lc(ke,320,oe,Ee):Zn(ke,320,oe,Ee)),H<g.Ub-1&&(r(ve[be].y,0,Y,Z+480,16),r(ve[be].f,0,te,se+224,8),r(ve[be].ea,0,me,Ce+224,8)),T=8*G*g.B,ve=g.sa,be=g.ta+16*O+16*G*g.R,ke=g.qa,oe=g.ra+8*O+T,Ee=g.Ha,Re=g.Ia+8*O+T,T=0;16>T;++T)r(ve,be+T*g.R,Y,Z+32*T,16);for(T=0;8>T;++T)r(ke,oe+T*g.B,te,se+32*T,8),r(Ee,Re+T*g.B,me,Ce+32*T,8)}}function cl(g,x,T,O,H,G,Y,Z,te){var se=[0],me=[0],Ce=0,oe=te!=null?te.kd:0,ve=te??new Be;if(g==null||12>T)return 7;ve.data=g,ve.w=x,ve.ha=T,x=[x],T=[T],ve.gb=[ve.gb];e:{var be=x,ke=T,Ee=ve.gb;if(e(g!=null),e(ke!=null),e(Ee!=null),Ee[0]=0,12<=ke[0]&&!t(g,be[0],"RIFF")){if(t(g,be[0]+8,"WEBP")){Ee=3;break e}var Re=Le(g,be[0]+4);if(12>Re||4294967286<Re){Ee=3;break e}if(oe&&Re>ke[0]-8){Ee=7;break e}Ee[0]=Re,be[0]+=12,ke[0]-=12}Ee=0}if(Ee!=0)return Ee;for(Re=0<ve.gb[0],T=T[0];;){e:{var Me=g;ke=x,Ee=T;var $e=se,Ue=me,_t=be=[0];if((bt=Ce=[Ce])[0]=0,8>Ee[0])Ee=7;else{if(!t(Me,ke[0],"VP8X")){if(Le(Me,ke[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var ft=Le(Me,ke[0]+8),Jt=1+Te(Me,ke[0]+12);if(2147483648<=Jt*(Me=1+Te(Me,ke[0]+15))){Ee=3;break e}_t!=null&&(_t[0]=ft),$e!=null&&($e[0]=Jt),Ue!=null&&(Ue[0]=Me),ke[0]+=18,Ee[0]-=18,bt[0]=1}Ee=0}}if(Ce=Ce[0],be=be[0],Ee!=0)return Ee;if(ke=!!(2&be),!Re&&Ce)return 3;if(G!=null&&(G[0]=!!(16&be)),Y!=null&&(Y[0]=ke),Z!=null&&(Z[0]=0),Y=se[0],be=me[0],Ce&&ke&&te==null){Ee=0;break}if(4>T){Ee=7;break}if(Re&&Ce||!Re&&!Ce&&!t(g,x[0],"ALPH")){T=[T],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{ft=g,Ee=x,Re=T;var bt=ve.gb;$e=ve.na,Ue=ve.P,_t=ve.Sa,Jt=22,e(ft!=null),e(Re!=null),Me=Ee[0];var gn=Re[0];for(e($e!=null),e(_t!=null),$e[0]=null,Ue[0]=null,_t[0]=0;;){if(Ee[0]=Me,Re[0]=gn,8>gn){Ee=7;break e}var gi=Le(ft,Me+4);if(4294967286<gi){Ee=3;break e}var Zt=8+gi+1&-2;if(Jt+=Zt,0<bt&&Jt>bt){Ee=3;break e}if(!t(ft,Me,"VP8 ")||!t(ft,Me,"VP8L")){Ee=0;break e}if(gn[0]<Zt){Ee=7;break e}t(ft,Me,"ALPH")||($e[0]=ft,Ue[0]=Me+8,_t[0]=gi),Me+=Zt,gn-=Zt}}if(T=T[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Ee!=0)break}T=[T],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(bt=g,Ee=x,Re=T,$e=ve.gb[0],Ue=ve.Ja,_t=ve.xa,ft=Ee[0],Me=!t(bt,ft,"VP8 "),Jt=!t(bt,ft,"VP8L"),e(bt!=null),e(Re!=null),e(Ue!=null),e(_t!=null),8>Re[0])Ee=7;else{if(Me||Jt){if(bt=Le(bt,ft+4),12<=$e&&bt>$e-12){Ee=3;break e}if(oe&&bt>Re[0]-8){Ee=7;break e}Ue[0]=bt,Ee[0]+=8,Re[0]-=8,_t[0]=Jt}else _t[0]=5<=Re[0]&&bt[ft+0]==47&&!(bt[ft+4]>>5),Ue[0]=Re[0];Ee=0}if(T=T[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],x=x[0],Ee!=0)break;if(4294967286<ve.Ja)return 3;if(Z==null||ke||(Z[0]=ve.xa?2:1),Y=[Y],be=[be],ve.xa){if(5>T){Ee=7;break}Z=Y,oe=be,ke=G,g==null||5>T?g=0:5<=T&&g[x+0]==47&&!(g[x+4]>>5)?(Re=[0],bt=[0],$e=[0],ne(Ue=new X,g,x,T),si(Ue,Re,bt,$e)?(Z!=null&&(Z[0]=Re[0]),oe!=null&&(oe[0]=bt[0]),ke!=null&&(ke[0]=$e[0]),g=1):g=0):g=0}else{if(10>T){Ee=7;break}Z=be,g==null||10>T||!Ag(g,x+3,T-3)?g=0:(oe=g[x+0]|g[x+1]<<8|g[x+2]<<16,ke=16383&(g[x+7]<<8|g[x+6]),g=16383&(g[x+9]<<8|g[x+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=ve.Ja||!ke||!g?g=0:(Y&&(Y[0]=ke),Z&&(Z[0]=g),g=1))}if(!g||(Y=Y[0],be=be[0],Ce&&(se[0]!=Y||me[0]!=be)))return 3;te!=null&&(te[0]=ve,te.offset=x-te.w,e(4294967286>x-te.w),e(te.offset==te.ha-T));break}return Ee==0||Ee==7&&Ce&&te==null?(G!=null&&(G[0]|=ve.na!=null&&0<ve.na.length),O!=null&&(O[0]=Y),H!=null&&(H[0]=be),0):Ee}function q1(g,x,T){var O=x.width,H=x.height,G=0,Y=0,Z=O,te=H;if(x.Da=g!=null&&0<g.Da,x.Da&&(Z=g.cd,te=g.bd,G=g.v,Y=g.j,11>T||(G&=-2,Y&=-2),0>G||0>Y||0>=Z||0>=te||G+Z>O||Y+te>H))return 0;if(x.v=G,x.j=Y,x.va=G+Z,x.o=Y+te,x.U=Z,x.T=te,x.da=g!=null&&0<g.da,x.da){if(!Ge(Z,te,T=[g.ib],G=[g.hb]))return 0;x.ib=T[0],x.hb=G[0]}return x.ob=g!=null&&g.ob,x.Kb=g==null||!g.Sd,x.da&&(x.ob=x.ib<3*O/4&&x.hb<3*H/4,x.Kb=0),1}function W1(g){if(g==null)return 2;if(11>g.S){var x=g.f.RGBA;x.fb+=(g.height-1)*x.A,x.A=-x.A}else x=g.f.kb,g=g.height,x.O+=(g-1)*x.fa,x.fa=-x.fa,x.N+=(g-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(g-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(g-1)*x.lb,x.lb=-x.lb);return 0}function Hd(g,x,T,O){if(O==null||0>=g||0>=x)return 2;if(T!=null){if(T.Da){var H=T.cd,G=T.bd,Y=-2&T.v,Z=-2&T.j;if(0>Y||0>Z||0>=H||0>=G||Y+H>g||Z+G>x)return 2;g=H,x=G}if(T.da){if(!Ge(g,x,H=[T.ib],G=[T.hb]))return 2;g=H[0],x=G[0]}}O.width=g,O.height=x;e:{var te=O.width,se=O.height;if(g=O.S,0>=te||0>=se||!(g>=kx&&13>g))g=2;else{if(0>=O.Rd&&O.sd==null){Y=G=H=x=0;var me=(Z=te*zL[g])*se;if(11>g||(G=(se+1)/2*(x=(te+1)/2),g==12&&(Y=(H=te)*se)),(se=s(me+2*G+Y))==null){g=1;break e}O.sd=se,11>g?((te=O.f.RGBA).eb=se,te.fb=0,te.A=Z,te.size=me):((te=O.f.kb).y=se,te.O=0,te.fa=Z,te.Fd=me,te.f=se,te.N=0+me,te.Ab=x,te.Cd=G,te.ea=se,te.W=0+me+G,te.Db=x,te.Ed=G,g==12&&(te.F=se,te.J=0+me+2*G),te.Tc=Y,te.lb=H)}if(x=1,H=O.S,G=O.width,Y=O.height,H>=kx&&13>H)if(11>H)g=O.f.RGBA,x&=(Z=Math.abs(g.A))*(Y-1)+G<=g.size,x&=Z>=G*zL[H],x&=g.eb!=null;else{g=O.f.kb,Z=(G+1)/2,me=(Y+1)/2,te=Math.abs(g.fa),se=Math.abs(g.Ab);var Ce=Math.abs(g.Db),oe=Math.abs(g.lb),ve=oe*(Y-1)+G;x&=te*(Y-1)+G<=g.Fd,x&=se*(me-1)+Z<=g.Cd,x=(x&=Ce*(me-1)+Z<=g.Ed)&te>=G&se>=Z&Ce>=Z,x&=g.y!=null,x&=g.f!=null,x&=g.ea!=null,H==12&&(x&=oe>=G,x&=ve<=g.Tc,x&=g.F!=null)}else x=0;g=x?0:2}}return g!=0||T!=null&&T.fd&&(g=W1(O)),g}var np=64,Fo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bo=24,qd=32,gu=8,Wd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qe("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(g){return g},I.Predictor2=function(g,x,T){return x[T+0]},I.Predictor3=function(g,x,T){return x[T+1]},I.Predictor4=function(g,x,T){return x[T-1]},I.Predictor5=function(g,x,T){return Ve(Ve(g,x[T+1]),x[T+0])},I.Predictor6=function(g,x,T){return Ve(g,x[T-1])},I.Predictor7=function(g,x,T){return Ve(g,x[T+0])},I.Predictor8=function(g,x,T){return Ve(x[T-1],x[T+0])},I.Predictor9=function(g,x,T){return Ve(x[T+0],x[T+1])},I.Predictor10=function(g,x,T){return Ve(Ve(g,x[T-1]),Ve(x[T+0],x[T+1]))},I.Predictor11=function(g,x,T){var O=x[T+0];return 0>=We(O>>24&255,g>>24&255,(x=x[T-1])>>24&255)+We(O>>16&255,g>>16&255,x>>16&255)+We(O>>8&255,g>>8&255,x>>8&255)+We(255&O,255&g,255&x)?O:g},I.Predictor12=function(g,x,T){var O=x[T+0];return(nt((g>>24&255)+(O>>24&255)-((x=x[T-1])>>24&255))<<24|nt((g>>16&255)+(O>>16&255)-(x>>16&255))<<16|nt((g>>8&255)+(O>>8&255)-(x>>8&255))<<8|nt((255&g)+(255&O)-(255&x)))>>>0},I.Predictor13=function(g,x,T){var O=x[T-1];return(Ct((g=Ve(g,x[T+0]))>>24&255,O>>24&255)<<24|Ct(g>>16&255,O>>16&255)<<16|Ct(g>>8&255,O>>8&255)<<8|Ct(255&g,255&O))>>>0};var G1=I.PredictorAdd0;I.PredictorAdd1=dt,Qe("Predictor2","PredictorAdd2"),Qe("Predictor3","PredictorAdd3"),Qe("Predictor4","PredictorAdd4"),Qe("Predictor5","PredictorAdd5"),Qe("Predictor6","PredictorAdd6"),Qe("Predictor7","PredictorAdd7"),Qe("Predictor8","PredictorAdd8"),Qe("Predictor9","PredictorAdd9"),Qe("Predictor10","PredictorAdd10"),Qe("Predictor11","PredictorAdd11"),Qe("Predictor12","PredictorAdd12"),Qe("Predictor13","PredictorAdd13");var Ig=I.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Wr,Cx=I.ColorIndexInverseTransform,oc=I.MapARGB,ac=I.VP8LColorIndexInverseTransformAlpha,K1=I.MapAlpha,Y1=I.VP8LPredictorsAdd=[];Y1.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var X1,Q1,Gd,Kd,Yd,rp,Xd,ip,Pa,lc,Mn,Zn,Gr,mi,vu,J1,Pg,Nx,gL,vL,yL,wL,bL,xL,Z1,_L,AL,EL,SL=s(511),CL=s(2041),NL=s(225),TL=s(767),kL=0,sC=CL,Tx=NL,Uo=TL,Ra=SL,kx=0,Ix=1,IL=2,Px=3,Rx=4,oC=5,PL=6,aC=7,lC=8,Lx=9,cC=10,SK=[2,3,7],CK=[3,3,11],RL=[280,256,256,256,40],NK=[0,1,1,1,0],TK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],kK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],IK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],PK=8,uC=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],dC=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ey=null,RK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],LK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],LL=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],DK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],MK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],jK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],OK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Qd=[],ul=[],yu=[],FK=1,DL=2,Jd=[],La=[];ka("UpsampleRgbLinePair",we,3),ka("UpsampleBgrLinePair",Ne,3),ka("UpsampleRgbaLinePair",Tn,4),ka("UpsampleBgraLinePair",an,4),ka("UpsampleArgbLinePair",Nr,4),ka("UpsampleRgba4444LinePair",mn,2),ka("UpsampleRgb565LinePair",qe,2);var BK=I.UpsampleRgbLinePair,UK=I.UpsampleBgrLinePair,ML=I.UpsampleRgbaLinePair,jL=I.UpsampleBgraLinePair,OL=I.UpsampleArgbLinePair,FL=I.UpsampleRgba4444LinePair,VK=I.UpsampleRgb565LinePair,Dx=16,Mx=1<<Dx-1,ty=-227,hC=482,BL=6,zK=(256<<BL)-1,UL=0,$K=s(256),HK=s(256),qK=s(256),WK=s(256),GK=s(hC-ty),KK=s(hC-ty);ir("YuvToRgbRow",we,3),ir("YuvToBgrRow",Ne,3),ir("YuvToRgbaRow",Tn,4),ir("YuvToBgraRow",an,4),ir("YuvToArgbRow",Nr,4),ir("YuvToRgba4444Row",mn,2),ir("YuvToRgb565Row",qe,2);var VL=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],jx=[0,2,8],YK=[8,7,6,4,4,2,2,2,1,1,1,1],XK=1;this.WebPDecodeRGBA=function(g,x,T,O,H){var G=Ix,Y=new Pe,Z=new zt;Y.ba=Z,Z.S=G,Z.width=[Z.width],Z.height=[Z.height];var te=Z.width,se=Z.height,me=new mt;if(me==null||g==null)var Ce=2;else e(me!=null),Ce=cl(g,x,T,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Ce!=0?te=0:(te!=null&&(te[0]=me.width[0]),se!=null&&(se[0]=me.height[0]),te=1),te){Z.width=Z.width[0],Z.height=Z.height[0],O!=null&&(O[0]=Z.width),H!=null&&(H[0]=Z.height);e:{if(O=new tc,(H=new Be).data=g,H.w=x,H.ha=T,H.kd=1,x=[0],e(H!=null),((g=cl(H.data,H.w,H.ha,null,null,null,x,null,H))==0||g==7)&&x[0]&&(g=4),(x=g)==0){if(e(Y!=null),O.data=H.data,O.w=H.w+H.offset,O.ha=H.ha-H.offset,O.put=ht,O.ac=Wn,O.bc=bn,O.ma=Y,H.xa){if((g=Jl())==null){Y=1;break e}if(function(oe,ve){var be=[0],ke=[0],Ee=[0];t:for(;;){if(oe==null)return 0;if(ve==null)return oe.a=2,0;if(oe.l=ve,oe.a=0,ne(oe.m,ve.data,ve.w,ve.ha),!si(oe.m,be,ke,Ee)){oe.a=3;break t}if(oe.xb=DL,ve.width=be[0],ve.height=ke[0],!Do(be[0],ke[0],1,oe,null))break t;return 1}return e(oe.a!=0),0}(g,O)){if(O=(x=Hd(O.width,O.height,Y.Oa,Y.ba))==0){t:{O=g;n:for(;;){if(O==null){O=0;break t}if(e(O.s.yc!=null),e(O.s.Ya!=null),e(0<O.s.Wb),e((T=O.l)!=null),e((H=T.ma)!=null),O.xb!=0){if(O.ca=H.ba,O.tb=H.tb,e(O.ca!=null),!q1(H.Oa,T,Px)){O.a=2;break n}if(!ol(O,T.width)||T.da)break n;if((T.da||Nt(O.ca.S))&&lo(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&lo()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!J(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!us(O,O.V,O.Ba,O.c,O.i,T.o,Ql))break n;H.Dc=O.Ma,O=1;break t}e(O.a!=0),O=0}O=!O}O&&(x=g.a)}else x=g.a}else{if((g=new _g)==null){Y=1;break e}if(g.Fa=H.na,g.P=H.P,g.qc=H.Sa,_a(g,O)){if((x=Hd(O.width,O.height,Y.Oa,Y.ba))==0){if(g.Aa=0,T=Y.Oa,e((H=g)!=null),T!=null){if(0<(te=0>(te=T.Md)?0:100<te?255:255*te/100)){for(se=me=0;4>se;++se)12>(Ce=H.pb[se]).lc&&(Ce.ia=te*YK[0>Ce.lc?0:Ce.lc]>>3),me|=Ce.ia;me&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=T.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}(function(oe,ve){if(oe==null)return 0;if(ve==null)return Ar(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!_a(oe,ve))return 0;if(e(oe.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(oe.L=0);var be=jx[oe.L];if(oe.L==2?(oe.yb=0,oe.zb=0):(oe.yb=ve.v-be>>4,oe.zb=ve.j-be>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=ve.o+15+be>>4,oe.Hb=ve.va+15+be>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var ke=oe.ed;for(be=0;4>be;++be){var Ee;if(oe.Qa.Cb){var Re=oe.Qa.Lb[be];oe.Qa.Fb||(Re+=ke.Tb)}else Re=ke.Tb;for(Ee=0;1>=Ee;++Ee){var Me=oe.gd[be][Ee],$e=Re;if(ke.Pc&&($e+=ke.vd[0],Ee&&($e+=ke.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var Ue=$e;0<ke.wb&&(Ue=4<ke.wb?Ue>>2:Ue>>1)>9-ke.wb&&(Ue=9-ke.wb),1>Ue&&(Ue=1),Me.dd=Ue,Me.tc=2*$e+Ue,Me.ld=40<=$e?2:15<=$e?1:0}else Me.tc=0;Me.La=Ee}}}be=0}else Ar(oe,6,"Frame setup failed"),be=oe.a;if(be=be==0){if(be){oe.$c=0,0<oe.Aa||(oe.Ic=XK);t:{be=oe.Ic,ke=4*(Ue=oe.za);var _t=32*Ue,ft=Ue+1,Jt=0<oe.L?Ue*(0<oe.Aa?2:1):0,bt=(oe.Aa==2?2:1)*Ue;if((Me=ke+832+(Ee=3*(16*be+jx[oe.L])/2*_t)+(Re=oe.Fa!=null&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=Me)be=0;else{if(Me>oe.Vb){if(oe.Vb=0,oe.Ec=s(Me),oe.Fc=0,oe.Ec==null){be=Ar(oe,1,"no memory during frame initialization.");break t}oe.Vb=Me}Me=oe.Ec,$e=oe.Fc,oe.Ac=Me,oe.Bc=$e,$e+=ke,oe.Gd=o(_t,Kf),oe.Hd=0,oe.rb=o(ft+1,Mo),oe.sb=1,oe.wa=Jt?o(Jt,Ti):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=Ue),e(!0),oe.oc=Me,oe.pc=$e,$e+=832,oe.ya=o(bt,Wf),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,oe.Aa==2&&(oe.D.aa+=Ue),oe.R=16*Ue,oe.B=8*Ue,Ue=(_t=jx[oe.L])*oe.R,_t=_t/2*oe.B,oe.sa=Me,oe.ta=$e+Ue,oe.qa=oe.sa,oe.ra=oe.ta+16*be*oe.R+_t,oe.Ha=oe.qa,oe.Ia=oe.ra+8*be*oe.B+_t,oe.$c=0,$e+=Ee,oe.mb=Re?Me:null,oe.nb=Re?$e:null,e($e+Re<=oe.Fc+oe.Vb),Xf(oe),i(oe.Ac,oe.Bc,0,ke),be=1}}if(be){if(ve.ka=0,ve.y=oe.sa,ve.O=oe.ta,ve.f=oe.qa,ve.N=oe.ra,ve.ea=oe.Ha,ve.Vd=oe.Ia,ve.fa=oe.R,ve.Rc=oe.B,ve.F=null,ve.J=0,!kL){for(be=-255;255>=be;++be)SL[255+be]=0>be?-be:be;for(be=-1020;1020>=be;++be)CL[1020+be]=-128>be?-128:127<be?127:be;for(be=-112;112>=be;++be)NL[112+be]=-16>be?-16:15<be?15:be;for(be=-255;510>=be;++be)TL[255+be]=0>be?0:255<be?255:be;kL=1}Xd=Aa,ip=Eg,lc=dn,Mn=hu,Zn=nc,Pa=Fd,Gr=$d,mi=Ta,vu=$,J1=ie,Pg=tp,Nx=S,gL=fe,vL=ye,yL=sc,wL=Os,bL=ep,xL=kg,ul[0]=$1,ul[1]=Sg,ul[2]=V1,ul[3]=z1,ul[4]=ki,ul[5]=H1,ul[6]=al,ul[7]=Ud,ul[8]=Vd,ul[9]=ll,Qd[0]=Ea,Qd[1]=U1,Qd[2]=Qf,Qd[3]=Cg,Qd[4]=rc,Qd[5]=Bd,Qd[6]=Ng,yu[0]=Jf,yu[1]=B1,yu[2]=jo,yu[3]=pu,yu[4]=Zf,yu[5]=Gn,yu[6]=Tg,be=1}else be=0}be&&(be=function(gn,gi){for(gn.M=0;gn.M<gn.Va;++gn.M){var Zt,xt=gn.Jc[gn.M&gn.Xb],Je=gn.m,Kr=gn;for(Zt=0;Zt<Kr.za;++Zt){var Xt=Je,xn=Kr,cr=xn.Ac,Wi=xn.Bc+4*Zt,Bs=xn.zc,Fr=xn.ya[xn.aa+Zt];if(xn.Qa.Bb?Fr.$b=Ae(Xt,xn.Pa.jb[0])?2+Ae(Xt,xn.Pa.jb[2]):Ae(Xt,xn.Pa.jb[1]):Fr.$b=0,xn.kc&&(Fr.Ad=Ae(Xt,xn.Bd)),Fr.Za=!Ae(Xt,145)+0,Fr.Za){var hs=Fr.Ob,Us=0;for(xn=0;4>xn;++xn){var vi,En=Bs[0+xn];for(vi=0;4>vi;++vi){En=MK[cr[Wi+vi]][En];for(var Bn=LL[Ae(Xt,En[0])];0<Bn;)Bn=LL[2*Bn+Ae(Xt,En[Bn])];En=-Bn,cr[Wi+vi]=En}r(hs,Us,cr,Wi,4),Us+=4,Bs[0+xn]=En}}else En=Ae(Xt,156)?Ae(Xt,128)?1:3:Ae(Xt,163)?2:0,Fr.Ob[0]=En,i(cr,Wi,En,4),i(Bs,0,En,4);Fr.Dd=Ae(Xt,142)?Ae(Xt,114)?Ae(Xt,183)?1:3:2:0}if(Kr.m.Ka)return Ar(gn,7,"Premature end-of-partition0 encountered.");for(;gn.ja<gn.za;++gn.ja){if(Kr=xt,Xt=(Je=gn).rb[Je.sb-1],cr=Je.rb[Je.sb+Je.ja],Zt=Je.ya[Je.aa+Je.ja],Wi=Je.kc?Zt.Ad:0)Xt.la=cr.la=0,Zt.Za||(Xt.Na=cr.Na=0),Zt.Hc=0,Zt.Gc=0,Zt.ia=0;else{var Br,Un;if(Xt=cr,cr=Kr,Wi=Je.Pa.Xc,Bs=Je.ya[Je.aa+Je.ja],Fr=Je.pb[Bs.$b],xn=Bs.ad,hs=0,Us=Je.rb[Je.sb-1],En=vi=0,i(xn,hs,0,384),Bs.Za)var Gi=0,dl=Wi[3];else{Bn=s(16);var Yr=Xt.Na+Us.Na;if(Yr=ey(cr,Wi[1],Yr,Fr.Eb,0,Bn,0),Xt.Na=Us.Na=(0<Yr)+0,1<Yr)Xd(Bn,0,xn,hs);else{var co=Bn[0]+3>>3;for(Bn=0;256>Bn;Bn+=16)xn[hs+Bn]=co}Gi=1,dl=Wi[0]}var er=15&Xt.la,yi=15&Us.la;for(Bn=0;4>Bn;++Bn){var Vo=1&yi;for(co=Un=0;4>co;++co)er=er>>1|(Vo=(Yr=ey(cr,dl,Yr=Vo+(1&er),Fr.Sc,Gi,xn,hs))>Gi)<<7,Un=Un<<2|(3<Yr?3:1<Yr?2:xn[hs+0]!=0),hs+=16;er>>=4,yi=yi>>1|Vo<<7,vi=(vi<<8|Un)>>>0}for(dl=er,Gi=yi>>4,Br=0;4>Br;Br+=2){for(Un=0,er=Xt.la>>4+Br,yi=Us.la>>4+Br,Bn=0;2>Bn;++Bn){for(Vo=1&yi,co=0;2>co;++co)Yr=Vo+(1&er),er=er>>1|(Vo=0<(Yr=ey(cr,Wi[2],Yr,Fr.Qc,0,xn,hs)))<<3,Un=Un<<2|(3<Yr?3:1<Yr?2:xn[hs+0]!=0),hs+=16;er>>=2,yi=yi>>1|Vo<<5}En|=Un<<4*Br,dl|=er<<4<<Br,Gi|=(240&yi)<<Br}Xt.la=dl,Us.la=Gi,Bs.Hc=vi,Bs.Gc=En,Bs.ia=43690&En?0:Fr.ia,Wi=!(vi|En)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[Zt.$b][Zt.Za],Je.wa[Je.Y+Je.ja].La|=!Wi),Kr.Ka)return Ar(gn,7,"Premature end-of-file encountered.")}if(Xf(gn),Je=gi,Kr=1,Zt=(xt=gn).D,Xt=0<xt.L&&xt.M>=xt.zb&&xt.M<=xt.Va,xt.Aa==0)t:{if(Zt.M=xt.M,Zt.uc=Xt,qi(xt,Zt),Kr=1,Zt=(Un=xt.D).Nb,Xt=(En=jx[xt.L])*xt.R,cr=En/2*xt.B,Bn=16*Zt*xt.R,co=8*Zt*xt.B,Wi=xt.sa,Bs=xt.ta-Xt+Bn,Fr=xt.qa,xn=xt.ra-cr+co,hs=xt.Ha,Us=xt.Ia-cr+co,yi=(er=Un.M)==0,vi=er>=xt.Va-1,xt.Aa==2&&qi(xt,Un),Un.uc)for(Vo=(Yr=xt).D.M,e(Yr.D.uc),Un=Yr.yb;Un<Yr.Hb;++Un){Gi=Un,dl=Vo;var Vs=(zo=(Ki=Yr).D).Nb;Br=Ki.R;var zo=zo.wa[zo.Y+Gi],$o=Ki.sa,uo=Ki.ta+16*Vs*Br+16*Gi,Ho=zo.dd,sr=zo.tc;if(sr!=0)if(e(3<=sr),Ki.L==1)0<Gi&&wL($o,uo,Br,sr+4),zo.La&&xL($o,uo,Br,sr),0<dl&&yL($o,uo,Br,sr+4),zo.La&&bL($o,uo,Br,sr);else{var qo=Ki.B,hl=Ki.qa,sp=Ki.ra+8*Vs*qo+8*Gi,wu=Ki.Ha,Ki=Ki.Ia+8*Vs*qo+8*Gi;Vs=zo.ld,0<Gi&&(mi($o,uo,Br,sr+4,Ho,Vs),J1(hl,sp,wu,Ki,qo,sr+4,Ho,Vs)),zo.La&&(Nx($o,uo,Br,sr,Ho,Vs),vL(hl,sp,wu,Ki,qo,sr,Ho,Vs)),0<dl&&(Gr($o,uo,Br,sr+4,Ho,Vs),vu(hl,sp,wu,Ki,qo,sr+4,Ho,Vs)),zo.La&&(Pg($o,uo,Br,sr,Ho,Vs),gL(hl,sp,wu,Ki,qo,sr,Ho,Vs))}}if(xt.ia&&alert("todo:DitherRow"),Je.put!=null){if(Un=16*er,er=16*(er+1),yi?(Je.y=xt.sa,Je.O=xt.ta+Bn,Je.f=xt.qa,Je.N=xt.ra+co,Je.ea=xt.Ha,Je.W=xt.Ia+co):(Un-=En,Je.y=Wi,Je.O=Bs,Je.f=Fr,Je.N=xn,Je.ea=hs,Je.W=Us),vi||(er-=En),er>Je.o&&(er=Je.o),Je.F=null,Je.J=null,xt.Fa!=null&&0<xt.Fa.length&&Un<er&&(Je.J=Fn(xt,Je,Un,er-Un),Je.F=xt.mb,Je.F==null&&Je.F.length==0)){Kr=Ar(xt,3,"Could not decode alpha data.");break t}Un<Je.j&&(En=Je.j-Un,Un=Je.j,e(!(1&En)),Je.O+=xt.R*En,Je.N+=xt.B*(En>>1),Je.W+=xt.B*(En>>1),Je.F!=null&&(Je.J+=Je.width*En)),Un<er&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=Un-Je.j,Je.U=Je.va-Je.v,Je.T=er-Un,Kr=Je.put(Je))}Zt+1!=xt.Ic||vi||(r(xt.sa,xt.ta-Xt,Wi,Bs+16*xt.R,Xt),r(xt.qa,xt.ra-cr,Fr,xn+8*xt.B,cr),r(xt.Ha,xt.Ia-cr,hs,Us+8*xt.B,cr))}if(!Kr)return Ar(gn,6,"Output aborted.")}return 1}(oe,ve)),ve.bc!=null&&ve.bc(ve),be&=1}return be?(oe.cb=0,be):0})(g,O)||(x=g.a)}}else x=g.a}x==0&&Y.Oa!=null&&Y.Oa.fd&&(x=W1(Y.ba))}Y=x}G=Y!=0?null:11>G?Z.f.RGBA.eb:Z.f.kb.y}else G=null;return G};var zL=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(I,j){for(var k="",M=0;M<4;M++)k+=String.fromCharCode(I[j++]);return k}function u(I,j){return I[j+0]|I[j+1]<<8}function h(I,j){return(I[j+0]|I[j+1]<<8|I[j+2]<<16)>>>0}function p(I,j){return(I[j+0]|I[j+1]<<8|I[j+2]<<16|I[j+3]<<24)>>>0}new l;var f=[0],b=[0],y=[],_=new l,w=n,A=function(I,j){var k={},M=0,R=!1,q=0,ce=0;if(k.frames=[],!function(U,X){for(var re=0;re<4;re++)if(U[X+re]!="RIFF".charCodeAt(re))return!0;return!1}(I,j)){for(p(I,j+=4),j+=8;j<I.length;){var de=c(I,j),ae=p(I,j+=4);j+=4;var Q=ae+(1&ae);switch(de){case"VP8 ":case"VP8L":k.frames[M]===void 0&&(k.frames[M]={}),(pe=k.frames[M]).src_off=R?ce:j-8,pe.src_size=q+ae+8,M++,R&&(R=!1,q=0,ce=0);break;case"VP8X":(pe=k.header={}).feature_flags=I[j];var ne=j+4;pe.canvas_width=1+h(I,ne),ne+=3,pe.canvas_height=1+h(I,ne),ne+=3;break;case"ALPH":R=!0,q=Q+8,ce=j-8;break;case"ANIM":(pe=k.header).bgcolor=p(I,j),ne=j+4,pe.loop_count=u(I,ne),ne+=2;break;case"ANMF":var ge,pe;(pe=k.frames[M]={}).offset_x=2*h(I,j),j+=3,pe.offset_y=2*h(I,j),j+=3,pe.width=1+h(I,j),j+=3,pe.height=1+h(I,j),j+=3,pe.duration=h(I,j),j+=3,ge=I[j++],pe.dispose=1&ge,pe.blend=ge>>1&1}de!="ANMF"&&(j+=Q)}return k}}(w,0);A.response=w,A.rgbaoutput=!0,A.dataurl=!1;var E=A.header?A.header:null,C=A.frames?A.frames:null;if(E){E.loop_counter=E.loop_count,f=[E.canvas_height],b=[E.canvas_width];for(var F=0;F<C.length&&C[F].blend!=0;F++);}var V=C[0],L=_.WebPDecodeRGBA(w,V.src_off,V.src_size,b,f);V.rgba=L,V.imgwidth=b[0],V.imgheight=f[0];for(var N=0;N<b[0]*f[0]*4;N++)y[N]=L[N];return this.width=b,this.height=f,this.data=y,this}(function(n){var e,t,r,i,s,o,a,l,c,u=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new l,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new o,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new o,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=U;Object.defineProperty(this,"pdf",{get:function(){return X}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(J){re=!!J}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(J){le=!!J}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(J){isNaN(J)||(he=J)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(J){isNaN(J)||(ue=J)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(J){var Oe;typeof J=="number"?Oe=[J,J,J,J]:((Oe=new Array(4))[0]=J[0],Oe[1]=J.length>=2?J[1]:Oe[0],Oe[2]=J.length>=3?J[2]:Oe[0],Oe[3]=J.length>=4?J[3]:Oe[1]),c.margin=Oe}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(J){_e=J}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(J){xe=J}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(J){Ae=J}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(J){J instanceof u&&(c=J)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(J){c.path=J}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(J){je=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var Oe;Oe=p(J),this.ctx.fillStyle=Oe.style,this.ctx.isFillTransparent=Oe.a===0,this.ctx.fillOpacity=Oe.a,this.pdf.setFillColor(Oe.r,Oe.g,Oe.b,{a:Oe.a}),this.pdf.setTextColor(Oe.r,Oe.g,Oe.b,{a:Oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var Oe=p(J);this.ctx.strokeStyle=Oe.style,this.ctx.isStrokeTransparent=Oe.a===0,this.ctx.strokeOpacity=Oe.a,Oe.a===0?this.pdf.setDrawColor(255,255,255):(Oe.a,this.pdf.setDrawColor(Oe.r,Oe.g,Oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var Se=null,Te=null,Le=null;Object.defineProperty(this,"fontFaces",{get:function(){return Le},set:function(J){Se=null,Te=null,Le=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var Oe;if(this.ctx.font=J,(Oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var Xe=Oe[1];Oe[2];var Ge=Oe[3],Ie=Oe[4];Oe[5];var ut=Oe[6],Qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(Qe==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:Qe==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var De=function(wt){var Ln,nn,Ot=[],Vt=wt.trim();if(Vt==="")return XN;if(Vt in oF)return[oF[Vt]];for(;Vt!=="";){switch(nn=null,Ln=(Vt=lF(Vt)).charAt(0)){case'"':case"'":nn=R1e(Vt.substring(1),Ln);break;default:nn=L1e(Vt)}if(nn===null||(Ot.push(nn[0]),(Vt=lF(nn[1]))!==""&&Vt.charAt(0)!==","))return XN;Vt=Vt.replace(/^,/,"")}return Ot}(ut);if(this.fontFaces){var Ve=function(wt,Ln){var nn=wt.getFontList(),Ot=JSON.stringify(nn);if(Se===null||Te!==Ot){var Vt=function(An){var Et=[];return Object.keys(An).forEach(function(Cn){An[Cn].forEach(function(Nt){var Ft=null;switch(Nt){case"bold":Ft={family:Cn,weight:"bold"};break;case"italic":Ft={family:Cn,style:"italic"};break;case"bolditalic":Ft={family:Cn,weight:"bold",style:"italic"};break;case"":case"normal":Ft={family:Cn}}Ft!==null&&(Ft.ref={name:Cn,style:Nt},Et.push(Ft))})}),Et}(nn);Se=function(An){for(var Et={},Cn=0;Cn<An.length;++Cn){var Nt=YN(An[Cn]),Ft=Nt.family,Nn=Nt.stretch,zt=Nt.style,mt=Nt.weight;Et[Ft]=Et[Ft]||{},Et[Ft][Nn]=Et[Ft][Nn]||{},Et[Ft][Nn][zt]=Et[Ft][Nn][zt]||{},Et[Ft][Nn][zt][mt]=Nt}return Et}(Vt.concat(Ln)),Te=Ot}return Se}(this.pdf,this.fontFaces),nt=De.map(function(wt){return{family:wt,stretch:"normal",weight:Ge,style:Xe}}),Ct=function(wt,Ln,nn){for(var Ot=(nn=nn||{}).defaultFontFamily||"times",Vt=Object.assign({},P1e,nn.genericFontFamilies||{}),An=null,Et=null,Cn=0;Cn<Ln.length;++Cn)if(Vt[(An=YN(Ln[Cn])).family]&&(An.family=Vt[An.family]),wt.hasOwnProperty(An.family)){Et=wt[An.family];break}if(!(Et=Et||wt[Ot]))throw new Error("Could not find a font-family for the rule '"+aF(An)+"' and default family '"+Ot+"'.");if(Et=function(Nt,Ft){if(Ft[Nt])return Ft[Nt];var Nn=EI[Nt],zt=Nn<=EI.normal?-1:1,mt=sF(Ft,Mq,Nn,zt);if(!mt)throw new Error("Could not find a matching font-stretch value for "+Nt);return mt}(An.stretch,Et),Et=function(Nt,Ft){if(Ft[Nt])return Ft[Nt];for(var Nn=Dq[Nt],zt=0;zt<Nn.length;++zt)if(Ft[Nn[zt]])return Ft[Nn[zt]];throw new Error("Could not find a matching font-style for "+Nt)}(An.style,Et),!(Et=function(Nt,Ft){if(Ft[Nt])return Ft[Nt];if(Nt===400&&Ft[500])return Ft[500];if(Nt===500&&Ft[400])return Ft[400];var Nn=I1e[Nt],zt=sF(Ft,jq,Nn,Nt<400?-1:1);if(!zt)throw new Error("Could not find a matching font-weight for value "+Nt);return zt}(An.weight,Et)))throw new Error("Failed to resolve a font for the rule '"+aF(An)+"'.");return Et}(Ve,nt);this.pdf.setFont(Ct.ref.name,Ct.ref.style)}else{var We="";(Ge==="bold"||parseInt(Ge,10)>=700||Xe==="bold")&&(We="bold"),Xe==="italic"&&(We+="italic"),We.length===0&&(We="normal");for(var dt="",Bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<De.length;st++){if(this.pdf.internal.getFont(De[st],We,{noFallback:!0,disableWarning:!0})!==void 0){dt=De[st];break}if(We==="bolditalic"&&this.pdf.internal.getFont(De[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)dt=De[st],We="bold";else if(this.pdf.internal.getFont(De[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){dt=De[st],We="normal";break}}if(dt===""){for(var kt=0;kt<De.length;kt++)if(Bt[De[kt]]){dt=Bt[De[kt]];break}}dt=dt===""?"Times":dt,this.pdf.setFont(dt,We)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};h.prototype.setLineDash=function(U){this.lineDash=U},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){C.call(this,"fill",!1)},h.prototype.stroke=function(){C.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(U,X){if(isNaN(U)||isNaN(X))throw tr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new o(U,X));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new o(U,X)},h.prototype.closePath=function(){var U=new o(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&On(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){U=new o(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(U.x,U.y)},h.prototype.lineTo=function(U,X){if(isNaN(U)||isNaN(X))throw tr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new o(U,X));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},h.prototype.quadraticCurveTo=function(U,X,re,le){if(isNaN(re)||isNaN(le)||isNaN(U)||isNaN(X))throw tr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new o(re,le)),ue=this.ctx.transform.applyToPoint(new o(U,X));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},h.prototype.bezierCurveTo=function(U,X,re,le,he,ue){if(isNaN(he)||isNaN(ue)||isNaN(U)||isNaN(X)||isNaN(re)||isNaN(le))throw tr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new o(he,ue)),xe=this.ctx.transform.applyToPoint(new o(U,X)),Ae=this.ctx.transform.applyToPoint(new o(re,le));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Ae.x,y2:Ae.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new o(_e.x,_e.y)},h.prototype.arc=function(U,X,re,le,he,ue){if(isNaN(U)||isNaN(X)||isNaN(re)||isNaN(le)||isNaN(he))throw tr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new o(U,X));U=_e.x,X=_e.y;var xe=this.ctx.transform.applyToPoint(new o(0,re)),Ae=this.ctx.transform.applyToPoint(new o(0,0));re=Math.sqrt(Math.pow(xe.x-Ae.x,2)+Math.pow(xe.y-Ae.y,2))}Math.abs(he-le)>=2*Math.PI&&(le=0,he=2*Math.PI),this.path.push({type:"arc",x:U,y:X,radius:re,startAngle:le,endAngle:he,counterclockwise:ue})},h.prototype.arcTo=function(U,X,re,le,he){throw new Error("arcTo not implemented.")},h.prototype.rect=function(U,X,re,le){if(isNaN(U)||isNaN(X)||isNaN(re)||isNaN(le))throw tr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,X),this.lineTo(U+re,X),this.lineTo(U+re,X+le),this.lineTo(U,X+le),this.lineTo(U,X),this.lineTo(U+re,X),this.lineTo(U,X)},h.prototype.fillRect=function(U,X,re,le){if(isNaN(U)||isNaN(X)||isNaN(re)||isNaN(le))throw tr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,X,re,le),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},h.prototype.strokeRect=function(U,X,re,le){if(isNaN(U)||isNaN(X)||isNaN(re)||isNaN(le))throw tr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(U,X,re,le),this.stroke())},h.prototype.clearRect=function(U,X,re,le){if(isNaN(U)||isNaN(X)||isNaN(re)||isNaN(le))throw tr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,X,re,le))},h.prototype.save=function(U){U=typeof U!="boolean"||U;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},h.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(X),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(U){var X,re,le,he;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))X=0,re=0,le=0,he=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(ue!==null)X=parseInt(ue[1]),re=parseInt(ue[2]),le=parseInt(ue[3]),he=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)X=parseInt(ue[1]),re=parseInt(ue[2]),le=parseInt(ue[3]),he=parseFloat(ue[4]);else{if(he=1,typeof U=="string"&&U.charAt(0)!=="#"){var _e=new Nq(U);U=_e.ok?_e.toHex():"#000000"}U.length===4?(X=U.substring(1,2),X+=X,re=U.substring(2,3),re+=re,le=U.substring(3,4),le+=le):(X=U.substring(1,3),re=U.substring(3,5),le=U.substring(5,7)),X=parseInt(X,16),re=parseInt(re,16),le=parseInt(le,16)}}return{r:X,g:re,b:le,a:he,style:U}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(U,X,re,le){if(isNaN(X)||isNaN(re)||typeof U!="string")throw tr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!f.call(this)){var he=Q(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;M.call(this,{text:U,x:X,y:re,scale:ue,angle:he,align:this.textAlign,maxWidth:le})}},h.prototype.strokeText=function(U,X,re,le){if(isNaN(X)||isNaN(re)||typeof U!="string")throw tr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){le=isNaN(le)?void 0:le;var he=Q(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;M.call(this,{text:U,x:X,y:re,scale:ue,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:le})}},h.prototype.measureText=function(U){if(typeof U!="string")throw tr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,re=this.pdf.internal.scaleFactor,le=X.internal.getFontSize(),he=X.getStringUnitWidth(U)*le/X.internal.scaleFactor;return new function(ue){var _e=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this}({width:he*=Math.round(96*re/72*1e4)/1e4})},h.prototype.scale=function(U,X){if(isNaN(U)||isNaN(X))throw tr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new l(U,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},h.prototype.rotate=function(U){if(isNaN(U))throw tr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new l(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},h.prototype.translate=function(U,X){if(isNaN(U)||isNaN(X))throw tr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new l(1,0,0,1,U,X);this.ctx.transform=this.ctx.transform.multiply(re)},h.prototype.transform=function(U,X,re,le,he,ue){if(isNaN(U)||isNaN(X)||isNaN(re)||isNaN(le)||isNaN(he)||isNaN(ue))throw tr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new l(U,X,re,le,he,ue);this.ctx.transform=this.ctx.transform.multiply(_e)},h.prototype.setTransform=function(U,X,re,le,he,ue){U=isNaN(U)?1:U,X=isNaN(X)?0:X,re=isNaN(re)?0:re,le=isNaN(le)?1:le,he=isNaN(he)?0:he,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(U,X,re,le,he,ue)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(U,X,re,le,he,ue,_e,xe,Ae){var je=this.pdf.getImageProperties(U),Se=1,Te=1,Le=1,J=1;le!==void 0&&xe!==void 0&&(Le=xe/le,J=Ae/he,Se=je.width/le*xe/le,Te=je.height/he*Ae/he),ue===void 0&&(ue=X,_e=re,X=0,re=0),le!==void 0&&xe===void 0&&(xe=le,Ae=he),le===void 0&&xe===void 0&&(xe=je.width,Ae=je.height);var Oe=this.ctx.transform.decompose(),Xe=Q(Oe.rotate.shx),Ge=new l,Ie=(Ge=(Ge=(Ge=Ge.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale)).applyToRectangle(new a(ue-X*Le,_e-re*J,le*Se,he*Te));if(this.autoPaging){for(var ut,Qe=_.call(this,Ie),De=[],Ve=0;Ve<Qe.length;Ve+=1)De.indexOf(Qe[Ve])===-1&&De.push(Qe[Ve]);E(De);for(var nt=De[0],Ct=De[De.length-1],We=nt;We<Ct+1;We++){this.pdf.setPage(We);var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=We===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=We===1?0:st+(We-2)*kt;if(this.ctx.clip_path.length!==0){var Ln=this.path;ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(ut,this.posX+this.margin[3],-wt+Bt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Ln}var nn=JSON.parse(JSON.stringify(Ie));nn=A([nn],this.posX+this.margin[3],-wt+Bt+this.ctx.prevPageLastElemOffset)[0];var Ot=(We>nt||We<Ct)&&y.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,kt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,Xe),Ot&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(U,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,Xe)};var _=function(U,X,re){var le=[];X=X||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":le.push(Math.floor((U.y+he)/re)+1);break;case"arc":le.push(Math.floor((U.y+he-U.radius)/re)+1),le.push(Math.floor((U.y+he+U.radius)/re)+1);break;case"qct":var ue=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);le.push(Math.floor((ue.y+he)/re)+1),le.push(Math.floor((ue.y+ue.h+he)/re)+1);break;case"bct":var _e=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);le.push(Math.floor((_e.y+he)/re)+1),le.push(Math.floor((_e.y+_e.h+he)/re)+1);break;case"rect":le.push(Math.floor((U.y+he)/re)+1),le.push(Math.floor((U.y+U.h+he)/re)+1)}for(var xe=0;xe<le.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<le[xe];)w.call(this);return le},w=function(){var U=this.fillStyle,X=this.strokeStyle,re=this.font,le=this.lineCap,he=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=X,this.font=re,this.lineCap=le,this.lineWidth=he,this.lineJoin=ue},A=function(U,X,re){for(var le=0;le<U.length;le++)switch(U[le].type){case"bct":U[le].x2+=X,U[le].y2+=re;case"qct":U[le].x1+=X,U[le].y1+=re;default:U[le].x+=X,U[le].y+=re}return U},E=function(U){return U.sort(function(X,re){return X-re})},C=function(U,X){var re=this.fillStyle,le=this.strokeStyle,he=this.lineCap,ue=this.lineWidth,_e=Math.abs(ue*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var Ae,je,Se=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),Le=[],J=0;J<Te.length;J++)if(Te[J].x!==void 0)for(var Oe=_.call(this,Te[J]),Xe=0;Xe<Oe.length;Xe+=1)Le.indexOf(Oe[Xe])===-1&&Le.push(Oe[Xe]);for(var Ge=0;Ge<Le.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<Le[Ge];)w.call(this);E(Le);for(var Ie=Le[0],ut=Le[Le.length-1],Qe=Ie;Qe<ut+1;Qe++){this.pdf.setPage(Qe),this.fillStyle=re,this.strokeStyle=le,this.lineCap=he,this.lineWidth=_e,this.lineJoin=xe;var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=Qe===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=Qe===1?0:nt+(Qe-2)*Ct;if(this.ctx.clip_path.length!==0){var dt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Ae,this.posX+this.margin[3],-We+Ve+this.ctx.prevPageLastElemOffset),F.call(this,U,!0),this.path=dt}if(je=JSON.parse(JSON.stringify(Se)),this.path=A(je,this.posX+this.margin[3],-We+Ve+this.ctx.prevPageLastElemOffset),X===!1||Qe===0){var Bt=(Qe>Ie||Qe<ut)&&y.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,Ct,null).clip().discardPath()),F.call(this,U,X),Bt&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}this.path=Se}else this.lineWidth=_e,F.call(this,U,X),this.lineWidth=ue},F=function(U,X){if((U!=="stroke"||X||!b.call(this))&&(U==="stroke"||X||!f.call(this))){for(var re,le,he=[],ue=this.path,_e=0;_e<ue.length;_e++){var xe=ue[_e];switch(xe.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:xe,deltas:[],abs:[]});break;case"lt":var Ae=he.length;if(ue[_e-1]&&!isNaN(ue[_e-1].x)&&(re=[xe.x-ue[_e-1].x,xe.y-ue[_e-1].y],Ae>0)){for(;Ae>=0;Ae--)if(he[Ae-1].close!==!0&&he[Ae-1].begin!==!0){he[Ae-1].deltas.push(re),he[Ae-1].abs.push(xe);break}}break;case"bct":re=[xe.x1-ue[_e-1].x,xe.y1-ue[_e-1].y,xe.x2-ue[_e-1].x,xe.y2-ue[_e-1].y,xe.x-ue[_e-1].x,xe.y-ue[_e-1].y],he[he.length-1].deltas.push(re);break;case"qct":var je=ue[_e-1].x+2/3*(xe.x1-ue[_e-1].x),Se=ue[_e-1].y+2/3*(xe.y1-ue[_e-1].y),Te=xe.x+2/3*(xe.x1-xe.x),Le=xe.y+2/3*(xe.y1-xe.y),J=xe.x,Oe=xe.y;re=[je-ue[_e-1].x,Se-ue[_e-1].y,Te-ue[_e-1].x,Le-ue[_e-1].y,J-ue[_e-1].x,Oe-ue[_e-1].y],he[he.length-1].deltas.push(re);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(xe)}}le=X?null:U==="stroke"?"stroke":"fill";for(var Xe=!1,Ge=0;Ge<he.length;Ge++)if(he[Ge].arc)for(var Ie=he[Ge].abs,ut=0;ut<Ie.length;ut++){var Qe=Ie[ut];Qe.type==="arc"?N.call(this,Qe.x,Qe.y,Qe.radius,Qe.startAngle,Qe.endAngle,Qe.counterclockwise,void 0,X,!Xe):R.call(this,Qe.x,Qe.y),Xe=!0}else if(he[Ge].close===!0)this.pdf.internal.out("h"),Xe=!1;else if(he[Ge].begin!==!0){var De=he[Ge].start.x,Ve=he[Ge].start.y;q.call(this,he[Ge].deltas,De,Ve),Xe=!0}le&&I.call(this,le),X&&j.call(this)}},V=function(U){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-re;case"top":return U+X-re;case"hanging":return U+X-2*re;case"middle":return U+X/2-re;default:return U}},L=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(X,re){this.colorStops.push([X,re])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(U,X,re,le,he,ue,_e,xe,Ae){for(var je=de.call(this,re,le,he,ue),Se=0;Se<je.length;Se++){var Te=je[Se];Se===0&&(Ae?k.call(this,Te.x1+U,Te.y1+X):R.call(this,Te.x1+U,Te.y1+X)),ce.call(this,U,X,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}xe?j.call(this):I.call(this,_e)},I=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(U,X){this.pdf.internal.out(t(U)+" "+r(X)+" m")},M=function(U){var X;switch(U.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var re,le,he,ue=this.pdf.getTextDimensions(U.text),_e=V.call(this,U.y),xe=L.call(this,_e)-ue.h,Ae=this.ctx.transform.applyToPoint(new o(U.x,_e));if(this.autoPaging){var je=this.ctx.transform.decompose(),Se=new l;Se=(Se=(Se=Se.multiply(je.translate)).multiply(je.skew)).multiply(je.scale);for(var Te=this.ctx.transform.applyToRectangle(new a(U.x,_e,ue.w,ue.h)),Le=Se.applyToRectangle(new a(U.x,xe,ue.w,ue.h)),J=_.call(this,Le),Oe=[],Xe=0;Xe<J.length;Xe+=1)Oe.indexOf(J[Xe])===-1&&Oe.push(J[Xe]);E(Oe);for(var Ge=Oe[0],Ie=Oe[Oe.length-1],ut=Ge;ut<Ie+1;ut++){this.pdf.setPage(ut);var Qe=ut===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],nt=Ve-this.margin[0],Ct=this.pdf.internal.pageSize.width-this.margin[1],We=Ct-this.margin[3],dt=ut===1?0:De+(ut-2)*nt;if(this.ctx.clip_path.length!==0){var Bt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(re,this.posX+this.margin[3],-1*dt+Qe),F.call(this,"fill",!0),this.path=Bt}var st=A([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-dt+Qe+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*U.scale),he=this.lineWidth,this.lineWidth=he*U.scale);var kt=this.autoPaging!=="text";if(kt||st.y+st.h<=Ve){if(kt||st.y>=Qe&&st.x<=Ct){var wt=kt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||Ct-st.x)[0],Ln=A([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-dt+Qe+this.ctx.prevPageLastElemOffset)[0],nn=kt&&(ut>Ge||ut<Ie)&&y.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,nt,null).clip().discardPath()),this.pdf.text(wt,Ln.x,Ln.y,{angle:U.angle,align:X,renderingMode:U.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else st.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-st.y);U.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=he)}}else U.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*U.scale),he=this.lineWidth,this.lineWidth=he*U.scale),this.pdf.text(U.text,Ae.x+this.posX,Ae.y+this.posY,{angle:U.angle,align:X,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=he)},R=function(U,X,re,le){re=re||0,le=le||0,this.pdf.internal.out(t(U+re)+" "+r(X+le)+" l")},q=function(U,X,re){return this.pdf.lines(U,X,re,null,null)},ce=function(U,X,re,le,he,ue,_e,xe){this.pdf.internal.out([e(i(re+U)),e(s(le+X)),e(i(he+U)),e(s(ue+X)),e(i(_e+U)),e(s(xe+X)),"c"].join(" "))},de=function(U,X,re,le){for(var he=2*Math.PI,ue=Math.PI/2;X>re;)X-=he;var _e=Math.abs(re-X);_e<he&&le&&(_e=he-_e);for(var xe=[],Ae=le?-1:1,je=X;_e>1e-5;){var Se=je+Ae*Math.min(_e,ue);xe.push(ae.call(this,U,je,Se)),_e-=Math.abs(Se-je),je=Se}return xe},ae=function(U,X,re){var le=(re-X)/2,he=U*Math.cos(le),ue=U*Math.sin(le),_e=he,xe=-ue,Ae=_e*_e+xe*xe,je=Ae+_e*he+xe*ue,Se=4/3*(Math.sqrt(2*Ae*je)-je)/(_e*ue-xe*he),Te=_e-Se*xe,Le=xe+Se*_e,J=Te,Oe=-Le,Xe=le+X,Ge=Math.cos(Xe),Ie=Math.sin(Xe);return{x1:U*Math.cos(X),y1:U*Math.sin(X),x2:Te*Ge-Le*Ie,y2:Te*Ie+Le*Ge,x3:J*Ge-Oe*Ie,y3:J*Ie+Oe*Ge,x4:U*Math.cos(re),y4:U*Math.sin(re)}},Q=function(U){return 180*U/Math.PI},ne=function(U,X,re,le,he,ue){var _e=U+.5*(re-U),xe=X+.5*(le-X),Ae=he+.5*(re-he),je=ue+.5*(le-ue),Se=Math.min(U,he,_e,Ae),Te=Math.max(U,he,_e,Ae),Le=Math.min(X,ue,xe,je),J=Math.max(X,ue,xe,je);return new a(Se,Le,Te-Se,J-Le)},ge=function(U,X,re,le,he,ue,_e,xe){var Ae,je,Se,Te,Le,J,Oe,Xe,Ge,Ie,ut,Qe,De,Ve,nt=re-U,Ct=le-X,We=he-re,dt=ue-le,Bt=_e-he,st=xe-ue;for(je=0;je<41;je++)Ge=(Oe=(Se=U+(Ae=je/40)*nt)+Ae*((Le=re+Ae*We)-Se))+Ae*(Le+Ae*(he+Ae*Bt-Le)-Oe),Ie=(Xe=(Te=X+Ae*Ct)+Ae*((J=le+Ae*dt)-Te))+Ae*(J+Ae*(ue+Ae*st-J)-Xe),je==0?(ut=Ge,Qe=Ie,De=Ge,Ve=Ie):(ut=Math.min(ut,Ge),Qe=Math.min(Qe,Ie),De=Math.max(De,Ge),Ve=Math.max(Ve,Ie));return new a(Math.round(ut),Math.round(Qe),Math.round(De-ut),Math.round(Ve-Qe))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,X,re=(U=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:X}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(St.API),function(n){var e=function(o){var a,l,c,u,h,p,f,b,y,_;for(l=[],c=0,u=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;u>c;c+=4)(h=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(p=(h=((h=((h=((h=(h-(_=h%85))/85)-(y=h%85))/85)-(b=h%85))/85)-(f=h%85))/85)%85,l.push(p+33,f+33,b+33,y+33,_+33)):l.push(122);return function(w,A){for(var E=A;E>0;E--)w.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},t=function(o){var a,l,c,u,h,p=String,f="length",b=255,y="charCodeAt",_="slice",w="replace";for(o[_](-2),o=o[_](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),c=[],u=0,h=(o+=a="uuuuu"[_](o[f]%5||5))[f];h>u;u+=5)l=52200625*(o[y](u)-33)+614125*(o[y](u+1)-33)+7225*(o[y](u+2)-33)+85*(o[y](u+3)-33)+(o[y](u+4)-33),c.push(b&l>>24,b&l>>16,b&l>>8,b&l);return function(A,E){for(var C=E;C>0;C--)A.pop()}(c,a[f]),p.fromCharCode.apply(p,c)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=dI(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};n.processDataByFilters=function(o,a){var l=0,c=o||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(St.API),function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var h=new XMLHttpRequest,p=0,f=function(b){var y=b.length,_=[],w=String.fromCharCode;for(p=0;p<y;p+=1)_.push(w(255&b.charCodeAt(p)));return _.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(St.API),function(n){function e(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):zc(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):zc(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=On(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(a(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var b=u[f],y=b.src.find(function(_){return _.format==="truetype"});y&&c.addFont(y.url,b.ref.name,b.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||St.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,h).then(function(p){return c.updateProgress(1),p})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),p=c.call(h,a,l);return o.convert(p,u.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,St.getPageSize=function(a,l,c){if(On(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var h,p=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var b,y=0,_=0;if(f.hasOwnProperty(p))y=f[p][1]/h,_=f[p][0]/h;else try{y=c[1],_=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",_>y&&(b=_,_=y,y=b);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",y>_&&(b=_,_=y,y=b)}return{width:_,height:y,unit:l,k:h,orientation:a}},n.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(YN):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(St.API),St.API.addJS=function(n){return uF=n,this.internal.events.subscribe("postPutResources",function(){R_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(R_+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),cF=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+uF+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){R_!==void 0&&cF!==void 0&&this.internal.out("/Names <</JavaScript "+R_+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=t.internal.newObject();u.push(h);var p=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(St.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,l=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),b=h.length,y={width:0,height:0,numcomponents:1},_=4;_<b;_+=2){if(_+=f,e.indexOf(h.charCodeAt(_+1))!==-1){p=256*h.charCodeAt(_+5)+h.charCodeAt(_+6),y={width:256*h.charCodeAt(_+7)+h.charCodeAt(_+8),height:p,numcomponents:h.charCodeAt(_+9)};break}f=256*h.charCodeAt(_+2)+h.charCodeAt(_+3)}return y}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(St.API),St.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=g1e(n,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?function(N){for(var I=N.width,j=N.height,k=N.data,M=N.palette,R=N.depth,q=!1,ce=[],de=[],ae=void 0,Q=!1,ne=0,ge=0;ge<M.length;ge++){var pe=iO(M[ge],4),U=pe[0],X=pe[1],re=pe[2],le=pe[3];ce.push(U,X,re),le!=null&&(le===0?(ne++,de.length<1&&de.push(ge)):le<255&&(Q=!0))}if(Q||ne>1){q=!0,de=void 0;var he=I*j;ae=new Uint8Array(he);for(var ue=new DataView(k.buffer),_e=0;_e<he;_e++){var xe=QN(ue,_e,R),Ae=iO(M[xe],4)[3];ae[_e]=Ae}}else ne===0&&(de=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:k,alphaBytes:ae,needSMask:q,palette:ce,mask:de}}(s):l===2||l===4?function(N){for(var I=N.data,j=N.width,k=N.height,M=N.channels,R=N.depth,q=M===2?"DeviceGray":"DeviceRGB",ce=M-1,de=j*k,ae=ce,Q=de*ae,ne=1*de,ge=Math.ceil(Q*R/8),pe=Math.ceil(ne*R/8),U=new Uint8Array(ge),X=new Uint8Array(pe),re=new DataView(I.buffer),le=new DataView(U.buffer),he=new DataView(X.buffer),ue=!1,_e=0;_e<de;_e++){for(var xe=_e*M,Ae=0;Ae<ae;Ae++)wF(le,QN(re,xe+Ae,R),_e*ae+Ae,R);var je=QN(re,xe+ae,R);je<(1<<R)-1&&(ue=!0),wF(he,je,1*_e,R)}return{colorSpace:q,colorsPerPixel:ce,sMaskBitsPerComponent:ue?R:void 0,colorBytes:U,alphaBytes:X,needSMask:ue}}(s):function(N){var I=N.data,j=N.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:j,colorsPerPixel:j==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?function(k){for(var M=k.length,R=new Uint8Array(2*M),q=new DataView(R.buffer,R.byteOffset,R.byteLength),ce=0;ce<M;ce++)q.setUint16(2*ce,k[ce],!1);return R}(I):I,needSMask:!1}}(s);var h,p,f,b=i,y=b.colorSpace,_=b.colorsPerPixel,w=b.sMaskBitsPerComponent,A=b.colorBytes,E=b.alphaBytes,C=b.needSMask,F=b.palette,V=b.mask,L=null;return r!==St.API.image_compression.NONE&&typeof dI=="function"?(L=function(N){var I;switch(N){case St.API.image_compression.FAST:I=11;break;case St.API.image_compression.MEDIUM:I=13;break;case St.API.image_compression.SLOW:I=14;break;default:I=12}return I}(r),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(L," /Colors ").concat(_," /BitsPerComponent ").concat(u," /Columns ").concat(o),n=pF(A,Math.ceil(o*_*u/8),_,u,r),C&&(f=pF(E,Math.ceil(o*w/8),1,w,r))):(h=void 0,p=void 0,n=A,C&&(f=E)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:t,data:n,index:e,filter:h,decodeParameters:p,transparency:V,palette:F,sMask:f,predictor:L,width:o,height:a,bitsPerComponent:u,sMaskBitsPerComponent:w,colorSpace:y}}},function(n){n.processGIF89A=function(e,t,r,i){var s=new O1e(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new JN(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A}(St.API),ml.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ml.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){tr.log("bit decode error:"+t)}},ml.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},ml.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ml.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},ml.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},ml.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},ml.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ml.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},ml.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new ml(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new JN(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(St.API),xF.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new xF(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new JN(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(St.API),St.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],h=r[c+1],p=r[c+2],f=r[c+3];s[a++]=u,s[a++]=h,s[a++]=p,o[l++]=f}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},St.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ug=St.API,L_=Ug.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,p=0,f=n.length,b=0,y=a[0]||l,_=[];for(t=0;t<f;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(p=h&&On(c[r])==="object"&&!isNaN(parseInt(c[r][b],10))?c[r][b]/u:0,_.push((a[r]||y)/l+p)),b=r;return _},dF=Ug.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ug.processArabic&&(n=Ug.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:L_.apply(this,arguments).reduce(function(s,o){return s+o},0)},hF=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},fF=function(n,e,t){t||(t={});var r,i,s,o,a,l,c,u=[],h=[u],p=t.textIndent||0,f=0,b=0,y=n.split(" "),_=L_.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var w=Array(l).join(" "),A=[];y.map(function(C){(C=C.split(/\s*\n/)).length>1?A=A.concat(C.map(function(F,V){return(V&&F.length?`
`:"")+F})):A.push(C[0])}),y=A,l=dF.apply(this,[w,t])}for(s=0,o=y.length;s<o;s++){var E=0;if(r=y[s],l&&r[0]==`
`&&(r=r.substr(1),E=1),p+f+(b=(i=L_.apply(this,[r,t])).reduce(function(C,F){return C+F},0))>e||E){if(b>e){for(a=hF.apply(this,[r,i,e-(p+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);b=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(C,F){return C+F},0)}else u=[r];h.push(u),p=b+l,f=_}else u.push(r),p+=f+b,f=_}return c=l?function(C,F){return(F?w:"")+C.join(" ")}:function(C){return C.join(" ")},h.map(c)},Ug.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(fF.apply(this,[r[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]=e[s],i[e[s]]=t[s];var o=function(p){return"0x"+parseInt(p,10).toString(16)},a=n.__fontmetrics__.compress=function(p){var f,b,y,_,w=["{"];for(var A in p){if(f=p[A],isNaN(parseInt(A,10))?b="'"+A+"'":(A=parseInt(A,10),b=(b=o(A).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof f=="number")f<0?(y=o(f).slice(3),_="-"):(y=o(f).slice(2),_=""),y=_+y.slice(0,-1)+i[y.slice(-1)];else{if(On(f)!=="object")throw new Error("Don't know what to do with value type "+On(f)+".");y=a(f)}w.push(b+y)}return w.push("}"),w.join("")},l=n.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,b,y,_,w={},A=1,E=w,C=[],F="",V="",L=p.length-1,N=1;N<L;N+=1)(_=p[N])=="'"?f?(y=f.join(""),f=void 0):f=[]:f?f.push(_):_=="{"?(C.push([E,y]),E={},y=void 0):_=="}"?((b=C.pop())[0][b[1]]=E,y=void 0,E=b[0]):_=="-"?A=-1:y===void 0?r.hasOwnProperty(_)?(F+=r[_],y=parseInt(F,16)*A,A=1,F=""):F+=_:r.hasOwnProperty(_)?(V+=r[_],E[y]=parseInt(V,16)*A,A=1,y=void 0,V=""):V+=_;return w},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(p){var f=p.font,b=h.Unicode[f.postScriptName];b&&(f.metadata.Unicode={},f.metadata.Unicode.widths=b.widths,f.metadata.Unicode.kerning=b.kerning);var y=u.Unicode[f.postScriptName];y&&(f.metadata.Unicode.encoding=y,f.encoding=y.codePages[0])}])}(St.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(x5(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(St),St.API.addSvgAsImage=function(n,e,t,r,i,s,o,a){if(isNaN(e)||isNaN(t))throw tr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw tr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Ut.canvg?Promise.resolve(Ut.canvg):zc(()=>import("./index.es-Dy1THJwf.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,n,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,t,r,i,o,a)})},St.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},St.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function p(b,y){var _,w=!1;for(_=0;_<b.length;_+=1)b[_]===y&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var f=a.length;for(h=0;h<f;h+=1)t[a[h]].value=t[a[h]].defaultValue,t[a[h]].explicitSet=!1}if(On(n)==="object"){for(i in n)if(s=n[i],p(a,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&p(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,y=[];for(b in t)t[b].explicitSet===!0&&(t[b].type==="name"?y.push("/"+b+" /"+t[b].value):y.push("/"+b+" "+t[b].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(St.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,p=s.length;h<p;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,h,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(a=Object.keys(s).sort(function(f,b){return f-b})).length;h<p;h++)o=a[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",b=0;b<p.length;b++)f+=String.fromCharCode(p[b]);var y=c();u({data:f,addLength1:!0,objectId:y}),l("endobj");var _=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+qg(a.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var A=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+qg(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+n.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+qg(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+A+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var b=c();u({data:p,addLength1:!0,objectId:b}),l("endobj");var y=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var _=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+qg(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+qg(a.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},p=h.pdfEscape,f=h.activeFontKey,b=h.fonts,y=f,_="",w=0,A="",E=b[y].encoding;if(b[y].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:h};for(A=a,y=f,Array.isArray(a)&&(A=a[0]),w=0;w<A.length;w+=1)b[y].metadata.hasOwnProperty("cmap")&&(o=b[y].metadata.cmap.unicode.codeMap[A[w].charCodeAt(0)]),o||A[w].charCodeAt(0)<256&&b[y].metadata.hasOwnProperty("Unicode")?_+=A[w]:_+="";var C="";return parseInt(y.slice(1))<14||E==="WinAnsiEncoding"?C=p(_,y).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(C=t(_,b[y])),h.isHex=!0,{text:C,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(St),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(St.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,E=0;this.__bidiEngine__={};var C=function(k){var M=k.charCodeAt(),R=M>>8,q=y[R];return q!==void 0?h[256*q+(255&M)]:R===252||R===253?"AL":w.test(R)?"L":R===8?"R":"N"},F=function(k){for(var M,R=0;R<k.length;R++){if((M=C(k.charAt(R)))==="L")return!1;if(M==="R")return!0}return!1},V=function(k,M,R,q){var ce,de,ae,Q,ne=M[q];switch(ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"N":case"AN":break;case"EN":A&&(ne="AN");break;case"AL":A=!0,ne="R";break;case"WS":case"BN":ne="N";break;case"CS":q<1||q+1>=M.length||(ce=R[q-1])!=="EN"&&ce!=="AN"||(de=M[q+1])!=="EN"&&de!=="AN"?ne="N":A&&(de="AN"),ne=de===ce?de:"N";break;case"ES":ne=(ce=q>0?R[q-1]:"B")==="EN"&&q+1<M.length&&M[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&R[q-1]==="EN"){ne="EN";break}if(A){ne="N";break}for(ae=q+1,Q=M.length;ae<Q&&M[ae]==="ET";)ae++;ne=ae<Q&&M[ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Q=M.length,ae=q+1;ae<Q&&M[ae]==="NSM";)ae++;if(ae<Q){var ge=k[q],pe=ge>=1425&&ge<=2303||ge===64286;if(ce=M[ae],pe&&(ce==="R"||ce==="AL")){ne="R";break}}}ne=q<1||(ce=M[q-1])==="B"?"N":R[q-1];break;case"B":A=!1,i=!0,ne=E;break;case"S":s=!0,ne="N"}return ne},L=function(k,M,R){var q=k.split("");return R&&N(q,R,{hiLevel:E}),q.reverse(),M&&M.reverse(),q.join("")},N=function(k,M,R){var q,ce,de,ae,Q,ne=-1,ge=k.length,pe=0,U=[],X=E?f:p,re=[];for(A=!1,i=!1,s=!1,ce=0;ce<ge;ce++)re[ce]=C(k[ce]);for(de=0;de<ge;de++){if(Q=pe,U[de]=V(k,re,U,de),q=240&(pe=X[Q][b[U[de]]]),pe&=15,M[de]=ae=X[pe][5],q>0)if(q===16){for(ce=ne;ce<de;ce++)M[ce]=1;ne=-1}else ne=-1;if(X[pe][6])ne===-1&&(ne=de);else if(ne>-1){for(ce=ne;ce<de;ce++)M[ce]=ae;ne=-1}re[de]==="B"&&(M[de]=0),R.hiLevel|=ae}s&&function(le,he,ue){for(var _e=0;_e<ue;_e++)if(le[_e]==="S"){he[_e]=E;for(var xe=_e-1;xe>=0&&le[xe]==="WS";xe--)he[xe]=E}}(re,M,ge)},I=function(k,M,R,q,ce){if(!(ce.hiLevel<k)){if(k===1&&E===1&&!i)return M.reverse(),void(R&&R.reverse());for(var de,ae,Q,ne,ge=M.length,pe=0;pe<ge;){if(q[pe]>=k){for(Q=pe+1;Q<ge&&q[Q]>=k;)Q++;for(ne=pe,ae=Q-1;ne<ae;ne++,ae--)de=M[ne],M[ne]=M[ae],M[ae]=de,R&&(de=R[ne],R[ne]=R[ae],R[ae]=de);pe=Q}pe++}}},j=function(k,M,R){var q=k.split(""),ce={hiLevel:E};return R||(R=[]),N(q,R,ce),function(de,ae,Q){if(Q.hiLevel!==0&&u)for(var ne,ge=0;ge<de.length;ge++)ae[ge]===1&&(ne=_.indexOf(de[ge]))>=0&&(de[ge]=_[ne+1])}(q,R,ce),I(2,q,M,R,ce),I(1,q,M,R,ce),q.join("")};return this.__bidiEngine__.doBidiReorder=function(k,M,R){if(function(ce,de){if(de)for(var ae=0;ae<ce.length;ae++)de[ae]=ae;a===void 0&&(a=F(ce)),c===void 0&&(c=F(ce))}(k,M),o||!l||c)if(o&&l&&a^c)E=a?1:0,k=L(k,M,R);else if(!o&&l&&c)E=a?1:0,k=j(k,M,R),k=L(k,M);else if(!o||a||l||c){if(o&&!l&&a^c)k=L(k,M),a?(E=0,k=j(k,M,R)):(E=1,k=j(k,M,R),k=L(k,M));else if(o&&a&&!l&&c)E=1,k=j(k,M,R),k=L(k,M);else if(!o&&!l&&a^c){var q=u;a?(E=1,k=j(k,M,R),E=0,u=!1,k=j(k,M,R),u=q):(E=0,k=j(k,M,R),k=L(k,M),E=1,u=!1,k=j(k,M,R),u=q,k=L(k,M))}}else E=0,k=j(k,M,R);else E=a?1:0,k=j(k,M,R);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,l=k.isOutputVisual,a=k.isInputRtl,c=k.isOutputRtl,u=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(St),St.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Pf(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new J1e(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new F1e(this.contents),this.head=new U1e(this),this.name=new q1e(this),this.cmap=new Fq(this),this.toUnicode={},this.hhea=new V1e(this),this.maxp=new W1e(this),this.hmtx=new G1e(this),this.post=new $1e(this),this.os2=new z1e(this),this.loca=new Q1e(this),this.glyf=new K1e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var Xl,Pf=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),F1e=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,a,l,c,u,h,p,f,b,y;for(y in f=Object.keys(t).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),u=16*f-h,(i=new Pf).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(o),i.writeShort(u),s=16*f,c=i.pos+s,a=null,b=[],t)for(p=t[y],i.writeString(y),i.writeInt(n(p)),i.writeInt(c),i.writeInt(p.length),b=b.concat(p),y==="head"&&(a=c),c+=p.length;c%4;)b.push(0),c++;return i.write(b),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=Bq.call(t);t.length%4;)t.push(0);for(s=new Pf(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),B1e={}.hasOwnProperty,su=function(n,e){for(var t in e)B1e.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Xl=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var U1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Pf).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n}(),_F=function(){function n(e,t){var r,i,s,o,a,l,c,u,h,p,f,b,y,_,w,A,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,s=function(){var C,F;for(F=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)F.push(e.readUInt16());return F}(),e.pos+=2,y=function(){var C,F;for(F=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)F.push(e.readUInt16());return F}(),c=function(){var C,F;for(F=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)F.push(e.readUInt16());return F}(),u=function(){var C,F;for(F=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)F.push(e.readUInt16());return F}(),i=(this.length-e.pos+this.offset)/2,a=function(){var C,F;for(F=[],l=C=0;0<=i?C<i:C>i;l=0<=i?++C:--C)F.push(e.readUInt16());return F}(),l=w=0,E=s.length;w<E;l=++w)for(_=s[l],r=A=b=y[l];b<=_?A<=_:A>=_;r=b<=_?++A:--A)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-b)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=h}return n.encode=function(e,t){var r,i,s,o,a,l,c,u,h,p,f,b,y,_,w,A,E,C,F,V,L,N,I,j,k,M,R,q,ce,de,ae,Q,ne,ge,pe,U,X,re,le,he,ue,_e,xe,Ae,je,Se;switch(q=new Pf,o=Object.keys(e).sort(function(Te,Le){return Te-Le}),t){case"macroman":for(y=0,_=function(){var Te=[];for(b=0;b<256;++b)Te.push(0);return Te}(),A={0:0},s={},ce=0,ne=o.length;ce<ne;ce++)A[xe=e[i=o[ce]]]==null&&(A[xe]=++y),s[i]={old:e[i],new:A[e[i]]},_[i]=A[e[i]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(_),{charMap:s,subtable:q.data,maxGlyphID:y+1};case"unicode":for(M=[],h=[],E=0,A={},r={},w=c=null,de=0,ge=o.length;de<ge;de++)A[F=e[i=o[de]]]==null&&(A[F]=++E),r[i]={old:F,new:A[F]},a=A[F]-i,w!=null&&a===c||(w&&h.push(w),M.push(i),c=a),w=i;for(w&&h.push(w),h.push(65535),M.push(65535),j=2*(I=M.length),N=2*Math.pow(Math.log(I)/Math.LN2,2),p=Math.log(N/2)/Math.LN2,L=2*I-N,l=[],V=[],f=[],b=ae=0,pe=M.length;ae<pe;b=++ae){if(k=M[b],u=h[b],k===65535){l.push(0),V.push(0);break}if(k-(R=r[k].new)>=32768)for(l.push(0),V.push(2*(f.length+I-b)),i=Q=k;k<=u?Q<=u:Q>=u;i=k<=u?++Q:--Q)f.push(r[i].new);else l.push(R-k),V.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*I+2*f.length),q.writeUInt16(0),q.writeUInt16(j),q.writeUInt16(N),q.writeUInt16(p),q.writeUInt16(L),ue=0,U=h.length;ue<U;ue++)i=h[ue],q.writeUInt16(i);for(q.writeUInt16(0),_e=0,X=M.length;_e<X;_e++)i=M[_e],q.writeUInt16(i);for(Ae=0,re=l.length;Ae<re;Ae++)a=l[Ae],q.writeUInt16(a);for(je=0,le=V.length;je<le;je++)C=V[je],q.writeUInt16(C);for(Se=0,he=f.length;Se<he;Se++)y=f[Se],q.writeUInt16(y);return{charMap:r,subtable:q.data,maxGlyphID:E+1}}},n}(),Fq=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new _F(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=_F.encode(e,t),(i=new Pf).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n}(),V1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n}(),z1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n}(),$1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},n}(),H1e=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},q1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,s,o,a,l,c,u,h,p;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=u=0,h=r.length;u<h;s=++u)i=r[s],e.pos=i.offset,c=e.readString(i.length),o=new H1e(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},n}(),W1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n}(),G1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],t=c=0;0<=i?c<i:c>i;t=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,h,p;for(p=[],c=0,u=(h=this.metrics).length;c<u;c++)s=h[c],p.push(s.advance);return p}).call(this),r=this.widths[this.widths.length-1],l=[],t=o=0;0<=i?o<i:o>i;t=0<=i?++o:--o)l.push(this.widths.push(r));return l},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n}(),Bq=[].slice,K1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,s,o,a,l,c,u,h;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,o=(a=new Pf(t.read(i))).readShort(),c=a.readShort(),h=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[e]=o===-1?new X1e(a,c,h,l,u):new Y1e(a,o,c,h,l,u),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=t.length;a<l;a++)i=e[t[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},n}(),Y1e=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),X1e=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Pf(Bq.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),Q1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return su(n,Xl),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<t.length&&t[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},n}(),J1e=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))r=l[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,a,l,c,u,h,p,f,b,y,_,w;for(i in r=Fq.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},w=r.charMap)f[(l=w[i]).old]=l.new;for(b in p=r.maxGlyphID,o)b in f||(f[b]=p++);return u=function(A){var E,C;for(E in C={},A)C[A[E]]=E;return C}(f),h=Object.keys(u).sort(function(A,E){return A-E}),y=function(){var A,E,C;for(C=[],A=0,E=h.length;A<E;A++)a=h[A],C.push(u[a]);return C}(),s=this.font.glyf.encode(o,y,f),c=this.font.loca.encode(s.offsets,y),_={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},n}();St.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();var bx={},Z1e=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Uq={},xa={};let K3;const eye=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];xa.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};xa.getSymbolTotalCodewords=function(e){return eye[e]};xa.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};xa.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');K3=e};xa.isKanjiModeEnabled=function(){return typeof K3<"u"};xa.toSJIS=function(e){return K3(e)};var HS={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}})(HS);function Vq(){this.buffer=[],this.length=0}Vq.prototype={get:function(n){const e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var tye=Vq;function xx(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}xx.prototype.set=function(n,e,t,r){const i=n*this.size+e;this.data[i]=t,r&&(this.reservedBit[i]=!0)};xx.prototype.get=function(n,e){return this.data[n*this.size+e]};xx.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};xx.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};var nye=xx,zq={};(function(n){const e=xa.getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},n.getPositions=function(r){const i=[],s=n.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(zq);var $q={};const rye=xa.getSymbolSize,AF=7;$q.getPositions=function(e){const t=rye(e);return[[0,0],[t-AF,0],[0,t-AF]]};var Hq={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let h=0;h<s;h++){a=l=0,c=u=null;for(let p=0;p<s;p++){let f=i.get(h,p);f===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=f,a=1),f=i.get(p,h),f===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=f,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},n.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},n.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},n.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function t(r,i,s){switch(r){case n.Patterns.PATTERN000:return(i+s)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return s%3===0;case n.Patterns.PATTERN011:return(i+s)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case n.Patterns.PATTERN101:return i*s%2+i*s%3===0;case n.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case n.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,t(i,l,a))},n.getBestMask=function(i,s){const o=Object.keys(n.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),n.applyMask(c,i);const u=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(Hq);var qS={};const lf=HS,D_=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],M_=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];qS.getBlocksCount=function(e,t){switch(t){case lf.L:return D_[(e-1)*4+0];case lf.M:return D_[(e-1)*4+1];case lf.Q:return D_[(e-1)*4+2];case lf.H:return D_[(e-1)*4+3];default:return}};qS.getTotalCodewordsCount=function(e,t){switch(t){case lf.L:return M_[(e-1)*4+0];case lf.M:return M_[(e-1)*4+1];case lf.Q:return M_[(e-1)*4+2];case lf.H:return M_[(e-1)*4+3];default:return}};var qq={},WS={};const bw=new Uint8Array(512),cE=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)bw[t]=e,cE[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)bw[t]=bw[t-255]})();WS.log=function(e){if(e<1)throw new Error("log("+e+")");return cE[e]};WS.exp=function(e){return bw[e]};WS.mul=function(e,t){return e===0||t===0?0:bw[cE[e]+cE[t]]};(function(n){const e=WS;n.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},n.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=n.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(qq);const Wq=qq;function Y3(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}Y3.prototype.initialize=function(e){this.degree=e,this.genPoly=Wq.generateECPolynomial(this.degree)};Y3.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const r=Wq.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var iye=Y3,Gq={},$f={},X3={};X3.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var ou={};const Kq="[0-9]+",sye="[A-Z $%*+\\-./:]+";let xb="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";xb=xb.replace(/u/g,"\\u");const oye="(?:(?![A-Z0-9 $%*+\\-./:]|"+xb+`)(?:.|[\r
]))+`;ou.KANJI=new RegExp(xb,"g");ou.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ou.BYTE=new RegExp(oye,"g");ou.NUMERIC=new RegExp(Kq,"g");ou.ALPHANUMERIC=new RegExp(sye,"g");const aye=new RegExp("^"+xb+"$"),lye=new RegExp("^"+Kq+"$"),cye=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ou.testKanji=function(e){return aye.test(e)};ou.testNumeric=function(e){return lye.test(e)};ou.testAlphanumeric=function(e){return cye.test(e)};(function(n){const e=X3,t=ou;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},n.getBestModeForData=function(s){return t.testNumeric(s)?n.NUMERIC:t.testAlphanumeric(s)?n.ALPHANUMERIC:t.testKanji(s)?n.KANJI:n.BYTE},n.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},n.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(s,o){if(n.isValid(s))return s;try{return r(s)}catch{return o}}})($f);(function(n){const e=xa,t=qS,r=HS,i=$f,s=X3,o=7973,a=e.getBCHDigit(o);function l(p,f,b){for(let y=1;y<=40;y++)if(f<=n.getCapacity(y,b,p))return y}function c(p,f){return i.getCharCountIndicator(p,f)+4}function u(p,f){let b=0;return p.forEach(function(y){const _=c(y.mode,f);b+=_+y.getBitsLength()}),b}function h(p,f){for(let b=1;b<=40;b++)if(u(p,b)<=n.getCapacity(b,f,i.MIXED))return b}n.from=function(f,b){return s.isValid(f)?parseInt(f,10):b},n.getCapacity=function(f,b,y){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const _=e.getSymbolTotalCodewords(f),w=t.getTotalCodewordsCount(f,b),A=(_-w)*8;if(y===i.MIXED)return A;const E=A-c(y,f);switch(y){case i.NUMERIC:return Math.floor(E/10*3);case i.ALPHANUMERIC:return Math.floor(E/11*2);case i.KANJI:return Math.floor(E/13);case i.BYTE:default:return Math.floor(E/8)}},n.getBestVersionForData=function(f,b){let y;const _=r.from(b,r.M);if(Array.isArray(f)){if(f.length>1)return h(f,_);if(f.length===0)return 1;y=f[0]}else y=f;return l(y.mode,y.getLength(),_)},n.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let b=f<<12;for(;e.getBCHDigit(b)-a>=0;)b^=o<<e.getBCHDigit(b)-a;return f<<12|b}})(Gq);var Yq={};const SI=xa,Xq=1335,uye=21522,EF=SI.getBCHDigit(Xq);Yq.getEncodedBits=function(e,t){const r=e.bit<<3|t;let i=r<<10;for(;SI.getBCHDigit(i)-EF>=0;)i^=Xq<<SI.getBCHDigit(i)-EF;return(r<<10|i)^uye};var Qq={};const dye=$f;function h1(n){this.mode=dye.NUMERIC,this.data=n.toString()}h1.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};h1.prototype.getLength=function(){return this.data.length};h1.prototype.getBitsLength=function(){return h1.getBitsLength(this.data.length)};h1.prototype.write=function(e){let t,r,i;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-t;s>0&&(r=this.data.substr(t),i=parseInt(r,10),e.put(i,s*3+1))};var hye=h1;const fye=$f,ZN=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function f1(n){this.mode=fye.ALPHANUMERIC,this.data=n}f1.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};f1.prototype.getLength=function(){return this.data.length};f1.prototype.getBitsLength=function(){return f1.getBitsLength(this.data.length)};f1.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=ZN.indexOf(this.data[t])*45;r+=ZN.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(ZN.indexOf(this.data[t]),6)};var pye=f1;const mye=$f;function p1(n){this.mode=mye.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}p1.getBitsLength=function(e){return e*8};p1.prototype.getLength=function(){return this.data.length};p1.prototype.getBitsLength=function(){return p1.getBitsLength(this.data.length)};p1.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};var gye=p1;const vye=$f,yye=xa;function m1(n){this.mode=vye.KANJI,this.data=n}m1.getBitsLength=function(e){return e*13};m1.prototype.getLength=function(){return this.data.length};m1.prototype.getBitsLength=function(){return m1.getBitsLength(this.data.length)};m1.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=yye.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};var wye=m1,Jq={exports:{}};(function(n){var e={single_source_shortest_paths:function(t,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,h,p,f,b,y,_;!a.empty();){l=a.pop(),c=l.value,h=l.cost,p=t[c]||{};for(u in p)p.hasOwnProperty(u)&&(f=p[u],b=h+f,y=o[u],_=typeof o[u]>"u",(_||y>b)&&(o[u]=b,a.push(u,b),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var w=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(w)}return s},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],s=r;s;)i.push(s),t[s],s=t[s];return i.reverse(),i},find_path:function(t,r,i){var s=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},s;t=t||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(Jq);var bye=Jq.exports;(function(n){const e=$f,t=hye,r=pye,i=gye,s=wye,o=ou,a=xa,l=bye;function c(w){return unescape(encodeURIComponent(w)).length}function u(w,A,E){const C=[];let F;for(;(F=w.exec(E))!==null;)C.push({data:F[0],index:F.index,mode:A,length:F[0].length});return C}function h(w){const A=u(o.NUMERIC,e.NUMERIC,w),E=u(o.ALPHANUMERIC,e.ALPHANUMERIC,w);let C,F;return a.isKanjiModeEnabled()?(C=u(o.BYTE,e.BYTE,w),F=u(o.KANJI,e.KANJI,w)):(C=u(o.BYTE_KANJI,e.BYTE,w),F=[]),A.concat(E,C,F).sort(function(L,N){return L.index-N.index}).map(function(L){return{data:L.data,mode:L.mode,length:L.length}})}function p(w,A){switch(A){case e.NUMERIC:return t.getBitsLength(w);case e.ALPHANUMERIC:return r.getBitsLength(w);case e.KANJI:return s.getBitsLength(w);case e.BYTE:return i.getBitsLength(w)}}function f(w){return w.reduce(function(A,E){const C=A.length-1>=0?A[A.length-1]:null;return C&&C.mode===E.mode?(A[A.length-1].data+=E.data,A):(A.push(E),A)},[])}function b(w){const A=[];for(let E=0;E<w.length;E++){const C=w[E];switch(C.mode){case e.NUMERIC:A.push([C,{data:C.data,mode:e.ALPHANUMERIC,length:C.length},{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.ALPHANUMERIC:A.push([C,{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.KANJI:A.push([C,{data:C.data,mode:e.BYTE,length:c(C.data)}]);break;case e.BYTE:A.push([{data:C.data,mode:e.BYTE,length:c(C.data)}])}}return A}function y(w,A){const E={},C={start:{}};let F=["start"];for(let V=0;V<w.length;V++){const L=w[V],N=[];for(let I=0;I<L.length;I++){const j=L[I],k=""+V+I;N.push(k),E[k]={node:j,lastCount:0},C[k]={};for(let M=0;M<F.length;M++){const R=F[M];E[R]&&E[R].node.mode===j.mode?(C[R][k]=p(E[R].lastCount+j.length,j.mode)-p(E[R].lastCount,j.mode),E[R].lastCount+=j.length):(E[R]&&(E[R].lastCount=j.length),C[R][k]=p(j.length,j.mode)+4+e.getCharCountIndicator(j.mode,A))}}F=N}for(let V=0;V<F.length;V++)C[F[V]].end=0;return{map:C,table:E}}function _(w,A){let E;const C=e.getBestModeForData(w);if(E=e.from(A,C),E!==e.BYTE&&E.bit<C.bit)throw new Error('"'+w+'" cannot be encoded with mode '+e.toString(E)+`.
 Suggested mode is: `+e.toString(C));switch(E===e.KANJI&&!a.isKanjiModeEnabled()&&(E=e.BYTE),E){case e.NUMERIC:return new t(w);case e.ALPHANUMERIC:return new r(w);case e.KANJI:return new s(w);case e.BYTE:return new i(w)}}n.fromArray=function(A){return A.reduce(function(E,C){return typeof C=="string"?E.push(_(C,null)):C.data&&E.push(_(C.data,C.mode)),E},[])},n.fromString=function(A,E){const C=h(A,a.isKanjiModeEnabled()),F=b(C),V=y(F,E),L=l.find_path(V.map,"start","end"),N=[];for(let I=1;I<L.length-1;I++)N.push(V.table[L[I]].node);return n.fromArray(f(N))},n.rawSplit=function(A){return n.fromArray(h(A,a.isKanjiModeEnabled()))}})(Qq);const GS=xa,eT=HS,xye=tye,_ye=nye,Aye=zq,Eye=$q,CI=Hq,NI=qS,Sye=iye,uE=Gq,Cye=Yq,Nye=$f,tT=Qq;function Tye(n,e){const t=n.size,r=Eye.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||t<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||t<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?n.set(s+a,o+l,!0,!0):n.set(s+a,o+l,!1,!0))}}function kye(n){const e=n.size;for(let t=8;t<e-8;t++){const r=t%2===0;n.set(t,6,r,!0),n.set(6,t,r,!0)}}function Iye(n,e){const t=Aye.getPositions(e);for(let r=0;r<t.length;r++){const i=t[r][0],s=t[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?n.set(i+o,s+a,!0,!0):n.set(i+o,s+a,!1,!0)}}function Pye(n,e){const t=n.size,r=uE.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+t-8-3,o=(r>>a&1)===1,n.set(i,s,o,!0),n.set(s,i,o,!0)}function nT(n,e,t){const r=n.size,i=Cye.getEncodedBits(e,t);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?n.set(s,8,o,!0):s<8?n.set(s+1,8,o,!0):n.set(r-15+s,8,o,!0),s<8?n.set(8,r-s-1,o,!0):s<9?n.set(8,15-s-1+1,o,!0):n.set(8,15-s-1,o,!0);n.set(r-8,8,1,!0)}function Rye(n,e){const t=n.size;let r=-1,i=t-1,s=7,o=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!n.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),n.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||t<=i){i-=r,r=-r;break}}}function Lye(n,e,t){const r=new xye;t.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),Nye.getCharCountIndicator(l.mode,n)),l.write(r)});const i=GS.getSymbolTotalCodewords(n),s=NI.getTotalCodewordsCount(n,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return Dye(r,n,e)}function Dye(n,e,t){const r=GS.getSymbolTotalCodewords(e),i=NI.getTotalCodewordsCount(e,t),s=r-i,o=NI.getBlocksCount(e,t),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(s/o),h=u+1,p=c-u,f=new Sye(p);let b=0;const y=new Array(o),_=new Array(o);let w=0;const A=new Uint8Array(n.buffer);for(let L=0;L<o;L++){const N=L<l?u:h;y[L]=A.slice(b,b+N),_[L]=f.encode(y[L]),b+=N,w=Math.max(w,N)}const E=new Uint8Array(r);let C=0,F,V;for(F=0;F<w;F++)for(V=0;V<o;V++)F<y[V].length&&(E[C++]=y[V][F]);for(F=0;F<p;F++)for(V=0;V<o;V++)E[C++]=_[V][F];return E}function Mye(n,e,t,r){let i;if(Array.isArray(n))i=tT.fromArray(n);else if(typeof n=="string"){let c=e;if(!c){const u=tT.rawSplit(n);c=uE.getBestVersionForData(u,t)}i=tT.fromString(n,c||40)}else throw new Error("Invalid data");const s=uE.getBestVersionForData(i,t);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=Lye(e,t,i),a=GS.getSymbolSize(e),l=new _ye(a);return Tye(l,e),kye(l),Iye(l,e),nT(l,t,0),e>=7&&Pye(l,e),Rye(l,o),isNaN(r)&&(r=CI.getBestMask(l,nT.bind(null,l,t))),CI.applyMask(r,l),nT(l,t,r),{modules:l,version:e,errorCorrectionLevel:t,maskPattern:r,segments:i}}Uq.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let r=eT.M,i,s;return typeof t<"u"&&(r=eT.from(t.errorCorrectionLevel,eT.M),i=uE.from(t.version),s=CI.from(t.maskPattern),t.toSJISFunc&&GS.setToSJISFunction(t.toSJISFunc)),Mye(e,i,r,s)};var Zq={},Q3={};(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const s=n.getScale(r,i);return Math.floor((r+i.margin*2)*s)},n.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=n.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,h=[s.color.light,s.color.dark];for(let p=0;p<c;p++)for(let f=0;f<c;f++){let b=(p*c+f)*4,y=s.color.light;if(p>=u&&f>=u&&p<c-u&&f<c-u){const _=Math.floor((p-u)/l),w=Math.floor((f-u)/l);y=h[a[_*o+w]?1:0]}r[b++]=y.r,r[b++]=y.g,r[b++]=y.b,r[b]=y.a}}})(Q3);(function(n){const e=Q3;function t(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),h=c.getContext("2d"),p=h.createImageData(u,u);return e.qrToImageData(p.data,s,l),t(h,c,u),h.putImageData(p,0,0),c},n.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=n.render(s,o,l),u=l.type||"image/png",h=l.rendererOpts||{};return c.toDataURL(u,h.quality)}})(Zq);var eW={};const jye=Q3;function SF(n,e){const t=n.a/255,r=e+'="'+n.hex+'"';return t<1?r+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function rT(n,e,t){let r=n+e;return typeof t<"u"&&(r+=" "+t),r}function Oye(n,e,t){let r="",i=0,s=!1,o=0;for(let a=0;a<n.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),n[a]?(o++,a>0&&l>0&&n[a-1]||(r+=s?rT("M",l+t,.5+c+t):rT("m",i,0),i=0,s=!1),l+1<e&&n[a+1]||(r+=rT("h",o),o=0)):i++}return r}eW.render=function(e,t,r){const i=jye.getOptions(t),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+SF(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+SF(i.color.dark,"stroke")+' d="'+Oye(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,p),p};const Fye=Z1e,TI=Uq,tW=Zq,Bye=eW;function J3(n,e,t,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!Fye())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=t,t=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=t,t=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(t=e,e=r=void 0):o===2&&!e.getContext&&(r=t,t=e,e=void 0),new Promise(function(l,c){try{const u=TI.create(t,r);l(n(u,e,r))}catch(u){c(u)}})}try{const l=TI.create(t,r);i(null,n(l,e,r))}catch(l){i(l)}}bx.create=TI.create;bx.toCanvas=J3.bind(null,tW.render);bx.toDataURL=J3.bind(null,tW.renderToDataURL);bx.toString=J3.bind(null,function(n,e,t){return Bye.render(n,t)});const iT=[{id:"font-dancing",name:"Dancing Script",family:'"Dancing Script", cursive',url:"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap"},{id:"font-vibes",name:"Great Vibes",family:'"Great Vibes", cursive',url:"https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap"},{id:"font-sacramento",name:"Sacramento",family:'"Sacramento", cursive',url:"https://fonts.googleapis.com/css2?family=Sacramento&display=swap"},{id:"font-caveat",name:"Caveat",family:'"Caveat", cursive',url:"https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&display=swap"},{id:"font-apple",name:"Homemade Apple",family:'"Homemade Apple", cursive',url:"https://fonts.googleapis.com/css2?family=Homemade+Apple&display=swap"}],CF=async(n,e,t)=>{var f,b,y,_;const r=n.signature_data||e;if(!r)return ot.error("A signature is required to generate the PDF."),null;const i=new St,s=i.internal.pageSize.getWidth(),o=i.internal.pageSize.getHeight();i.setFillColor(59,130,246),i.rect(0,0,s,35,"F"),i.setTextColor(255,255,255),i.setFontSize(22),i.setFont("helvetica","bold"),i.text("Endorse",20,23),i.setFontSize(9),i.setFont("helvetica","normal"),i.text("Electronic Signature Document",s-20,23,{align:"right"}),i.setTextColor(30,41,59),i.setFontSize(16),i.setFont("helvetica","bold"),i.text(n.name,20,55),i.setFontSize(10),i.setFont("helvetica","normal"),i.setTextColor(100,116,139),i.text(`Document ID: ${n.id.slice(0,8)}...`,20,65),i.text(`Date: ${new Date().toLocaleDateString()}`,20,72),i.setDrawColor(226,232,240),i.setLineWidth(.5),i.line(20,82,s-20,82),i.setTextColor(30,41,59),i.setFontSize(11),i.setFont("helvetica","bold"),i.text("Document Agreement",20,95);const a=["This document has been electronically signed using Endorse.","The signature below confirms the signer's agreement to the terms and conditions.","By signing, you acknowledge this is a legally binding electronic signature."];i.setTextColor(71,85,105),i.setFontSize(10),i.setFont("helvetica","normal");let l=108;a.forEach(w=>{i.text(w,20,l),l+=6}),i.setDrawColor(226,232,240),i.setFillColor(248,250,252),i.roundedRect(20,o-95,s-40,75,4,4,"FD"),i.setTextColor(30,41,59),i.setFontSize(11),i.setFont("helvetica","bold"),i.text("Signature",30,o-80);const c=n.signature_type||t;if(c==="draw"||c==="upload"){const w=r.startsWith("data:image/jpeg")?"JPEG":"PNG";i.addImage(r,w,30,o-72,90,35)}else i.setFontSize(24),i.setFont("times","italic"),i.setTextColor(30,41,59),i.text(r,30,o-50);i.setFontSize(8),i.setFont("helvetica","normal"),i.setTextColor(100,116,139),i.text(`Signed by: ${((f=Oi.currentUser)==null?void 0:f.email)||"Authenticated User"} on ${new Date().toLocaleString()}`,30,o-28),i.setFontSize(7),i.setTextColor(148,163,184),i.text("This document was electronically signed via Endorse - Endorse.app",s/2,o-10,{align:"center"}),i.addPage(),i.setFillColor(248,250,252),i.rect(0,0,s,40,"F"),i.setTextColor(15,23,42),i.setFontSize(20),i.setFont("helvetica","bold"),i.text("Audit Trail",20,25);try{const w=`https://endorse.app/verify/${n.id}`,A=await bx.toDataURL(w,{width:100,margin:1,color:{dark:"#0f172a",light:"#f8fafc"}});i.addImage(A,"PNG",s-45,8,25,25)}catch(w){console.error("Error generating QR code:",w)}i.setFontSize(10),i.setTextColor(71,85,105),i.setFont("helvetica","normal"),i.text(`File Name: ${n.name}`,20,55),i.text(`Document ID: ${n.id}`,20,62);const u=Array.from({length:24},()=>Math.floor(Math.random()*16).toString(16)).join("").toUpperCase();i.text(`Transaction ID: ${u}`,20,69),i.setFontSize(12),i.setTextColor(15,23,42),i.setFont("helvetica","bold"),i.text("History",20,90);let h=105;return[{action:"Document Created",by:"System",time:new Date(Date.now()-36e5).toLocaleString()},{action:"Viewed by Signer",by:((b=Oi.currentUser)==null?void 0:b.email)||"Guest User",time:new Date(Date.now()-3e5).toLocaleString()},{action:"Terms Accepted",by:((y=Oi.currentUser)==null?void 0:y.email)||"Guest User",time:new Date(Date.now()-5e3).toLocaleString()},{action:"Document Signed",by:((_=Oi.currentUser)==null?void 0:_.email)||"Guest User",time:new Date().toLocaleString()},{action:"Completed",by:"System",time:new Date().toLocaleString()}].forEach(w=>{i.setFillColor(59,130,246),i.circle(24,h-1,2,"F"),i.setFontSize(10),i.setTextColor(15,23,42),i.setFont("helvetica","bold"),i.text(w.action,35,h),i.setFontSize(9),i.setTextColor(100,116,139),i.setFont("helvetica","normal"),i.text(`${w.by} - ${w.time}`,35,h+5),h+=20}),i.setDrawColor(226,232,240),i.line(20,o-30,s-20,o-30),i.setFontSize(8),i.setTextColor(148,163,184),i.text("Endorse Security System | IP: 192.168.1.1 | Encrypted with AES-256",20,o-20),i.output("blob")},Uye=n=>new Promise((e,t)=>{const r=new Image;r.addEventListener("load",()=>e(r)),r.addEventListener("error",i=>t(i)),r.setAttribute("crossOrigin","anonymous"),r.src=n}),Vye=async(n,e)=>{const t=await Uye(n),r=document.createElement("canvas"),i=r.getContext("2d");return i?(r.width=e.width,r.height=e.height,i.drawImage(t,e.x,e.y,e.width,e.height,0,0,e.width,e.height),r.toDataURL("image/png")):null},zye=(n,e,t=60)=>{const r=document.createElement("canvas"),i=r.getContext("2d");if(!i)return null;i.font=`${t}px ${e}`;const s=i.measureText(n),o=40;return r.width=s.width+o*2,r.height=t*2.5,i.font=`${t}px ${e}`,i.fillStyle="#000000",i.textBaseline="middle",i.fillText(n,o,r.height/2),r.toDataURL("image/png")},nW=({document:n,onClose:e,onSave:t})=>{const[r,i]=D.useState("draw"),[s,o]=D.useState(!1),[a,l]=D.useState(""),[c,u]=D.useState(null),[h,p]=D.useState(!1),[f,b]=D.useState(null),[y,_]=D.useState({x:0,y:0}),[w,A]=D.useState(1),[E,C]=D.useState(null),[F,V]=D.useState(!1),[L,N]=D.useState(!1),[I,j]=D.useState(""),[k,M]=D.useState(!1),[R,q]=D.useState(!1),[ce,de]=D.useState(""),[ae,Q]=D.useState(!1),[ne,ge]=D.useState(!1),pe=D.useRef(null),U=D.useRef(null),[X,re]=D.useState(iT[0]),[le,he]=D.useState(60),{userProfile:ue,user:_e}=D1();D.useEffect(()=>{iT.forEach(De=>{if(!window.document.getElementById(De.id)){const Ve=window.document.createElement("link");Ve.id=De.id,Ve.href=De.url,Ve.rel="stylesheet",window.document.head.appendChild(Ve)}})},[]),D.useEffect(()=>{if(r==="draw"&&pe.current){const De=pe.current.getCanvas();if(De){const Ve=De.getContext("2d");Ve&&(Ve.globalCompositeOperation=s?"destination-out":"source-over")}}},[s,r]);const xe=()=>{r==="draw"&&pe.current?(pe.current.clear(),o(!1)):r==="type"?l(""):(u(null),b(null),V(!1))},Ae=De=>{if(De.type.startsWith("image/")){const Ve=new FileReader;Ve.onload=nt=>{var Ct;(Ct=nt.target)!=null&&Ct.result&&(b(nt.target.result),V(!0))},Ve.readAsDataURL(De)}else ot.error("Please upload an image file")},je=De=>{var nt;const Ve=(nt=De.target.files)==null?void 0:nt[0];Ve&&Ae(Ve)},Se=De=>{De.preventDefault(),N(!0)},Te=De=>{De.preventDefault(),N(!1)},Le=De=>{var nt;De.preventDefault(),N(!1);const Ve=(nt=De.dataTransfer.files)==null?void 0:nt[0];Ve&&Ae(Ve)},J=(De,Ve)=>{C(Ve)},Oe=async()=>{if(f&&E)try{const De=await Vye(f,E);De&&(u(De),V(!1))}catch(De){console.error(De),ot.error("Failed to crop image")}},Xe=()=>{var De,Ve;if(r==="draw")return(De=pe.current)!=null&&De.isEmpty()?null:((Ve=pe.current)==null?void 0:Ve.toDataURL("image/png"))||null;if(r==="type"){const nt=a.trim();return nt?zye(nt,X.family,le):null}else return c},Ge=()=>{if(n.status==="pending"&&!h){ot.error("Please agree to the terms and conditions to sign.");return}const De=Xe();if(!De){ot.error("Please add your signature first");return}t(De,r==="type"?"upload":r)},Ie=async()=>{const De=await CF(n,Xe(),r==="type"?"upload":r);if(De){const Ve=URL.createObjectURL(De),nt=window.document.createElement("a");nt.href=Ve,nt.download=`${n.name.replace(/\s+/g,"_")}_signed.pdf`,window.document.body.appendChild(nt),nt.click(),window.document.body.removeChild(nt),URL.revokeObjectURL(Ve),ot.success("PDF downloaded!")}},ut=async()=>{if(!I){ot.error("Please enter recipient email");return}const De=await CF(n,Xe(),r==="type"?"upload":r);if(!De)return;q(!0);const Ve=new FileReader;Ve.readAsDataURL(De),Ve.onloadend=async()=>{const nt=Ve.result,Ct=rb(a1,"sendDocument");try{await Ct({recipientEmail:I,pdfBase64:nt,documentName:n.name}),ot.success(`Document sent to ${I}!`),M(!1),j("")}catch(We){console.error("Firebase function error:",We),ot.error(We.message||"Failed to send document.")}finally{q(!1)}}},Qe=async()=>{if(!ce){ot.error("Please enter the recipient's email.");return}const De=(ue==null?void 0:ue.plan)==="pro"||(ue==null?void 0:ue.plan)==="business",Ve=(_e==null?void 0:_e.email)==="bankoleebenezer111@gmail.com",nt=window.location.hostname==="localhost";if(!De&&!Ve&&!nt){ot.error("Inviting signers is a Pro feature. Please upgrade your plan.");return}ge(!0);const Ct=rb(a1,"inviteToSign");try{await Ct({documentId:n.id,recipientEmail:ce,signingLink:`${window.location.origin}/sign/${n.id}`}),ot.success(`Invitation sent to ${ce}!`),Q(!1),de("")}catch(We){console.error("Firebase function error (inviteToSign):",We),ot.error(We.message||"Failed to send invitation.")}finally{ge(!1)}};return d.jsx("div",{className:"fixed inset-0 z-50 bg-foreground/60 backdrop-blur-sm flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-card rounded-xl shadow-xl border border-border w-full max-w-lg max-h-[90vh] overflow-hidden animate-scale-in",children:[d.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-border bg-transparent",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(no,{className:"h-8 w-auto"}),d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-base font-semibold text-foreground",children:n.status==="pending"?"Sign Document":"Document Details"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:n.name})]})]}),d.jsx(Ye,{variant:"ghost",size:"sm",onClick:e,className:"w-8 h-8 p-0",children:d.jsx(Ha,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"p-5 overflow-y-auto max-h-[calc(90vh-180px)]",children:n.status==="pending"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex gap-2 mb-5",children:[d.jsxs(Ye,{variant:r==="draw"?"default":"outline",className:"flex-1 h-9",size:"sm",onClick:()=>i("draw"),children:[d.jsx(ks,{className:"w-3.5 h-3.5 mr-1.5"}),"Draw"]}),d.jsxs(Ye,{variant:r==="type"?"default":"outline",className:"flex-1 h-9",size:"sm",onClick:()=>i("type"),children:[d.jsx(rB,{className:"w-3.5 h-3.5 mr-1.5"}),"Type"]}),d.jsxs(Ye,{variant:r==="upload"?"default":"outline",className:"flex-1 h-9",size:"sm",onClick:()=>i("upload"),children:[d.jsx($w,{className:"w-3.5 h-3.5 mr-1.5"}),"Upload"]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx(Fc,{className:"mb-2 block text-sm",children:"Your Signature"}),r==="draw"?d.jsxs("div",{className:"relative border-2 border-dashed border-border rounded-lg overflow-hidden bg-white",children:[d.jsx(FS,{ref:pe,canvasProps:{className:`w-full h-40 ${s?"cursor-cell":"cursor-crosshair"}`,style:{width:"100%",height:"160px"}},backgroundColor:"transparent",penColor:"#1e293b"}),d.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-1",children:[d.jsxs(Ye,{variant:s?"secondary":"ghost",size:"sm",className:`h-8 px-2 backdrop-blur-sm ${s?"bg-white/80 text-primary shadow-sm":"bg-white/40 text-muted-foreground hover:bg-white/60"}`,onClick:()=>o(!s),title:s?"Switch to Pen":"Eraser",children:[d.jsx(HJ,{className:"w-4 h-4"}),s&&d.jsx("span",{className:"ml-1.5 text-xs",children:"Erasing"})]}),d.jsx(Ye,{variant:"ghost",size:"sm",className:"h-8 px-2 bg-white/40 text-muted-foreground hover:bg-white/60 backdrop-blur-sm",onClick:xe,title:"Clear Signature",children:d.jsx(nZ,{className:"w-4 h-4"})})]})]}):r==="type"?d.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-5 bg-white",children:[d.jsx(ui,{placeholder:"Type your full name",value:a,onChange:De=>l(De.target.value),className:"text-center text-2xl border-0 bg-transparent focus-visible:ring-0 h-auto py-2 text-black",style:{fontFamily:X.family}}),d.jsx("div",{className:"flex justify-end mt-2",children:d.jsxs(Ye,{type:"button",variant:"ghost",size:"sm",className:"text-xs text-muted-foreground h-6 px-2",onClick:()=>l(new Date().toLocaleDateString(void 0,{dateStyle:"long"})),children:[d.jsx(J9,{className:"w-3 h-3 mr-1.5"}),"Insert Today's Date"]})}),a&&d.jsx("div",{className:"mt-6 pb-4 overflow-x-auto flex justify-center",children:d.jsx("p",{className:"text-center text-black whitespace-nowrap",style:{fontFamily:X.family,fontSize:`${le}px`},children:a})}),d.jsxs("div",{className:"flex items-center gap-3 px-2 mt-2",children:[d.jsx("span",{className:"text-xs text-muted-foreground w-12",children:"Size"}),d.jsx("input",{type:"range",min:"24",max:"100",step:"2",value:le,onChange:De=>he(Number(De.target.value)),className:"flex-1 h-1.5 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"}),d.jsxs("span",{className:"text-xs text-muted-foreground w-8 text-right",children:[le,"px"]})]}),d.jsx("div",{className:"flex flex-wrap justify-center gap-2 mt-4 pt-4 border-t border-border/50",children:iT.map(De=>d.jsx(Ye,{type:"button",variant:X.id===De.id?"secondary":"ghost",size:"sm",onClick:()=>re(De),className:"text-lg h-auto py-1 px-3 font-normal",style:{fontFamily:De.family},children:"Sign"},De.id))})]}):d.jsx("div",{className:`border-2 border-dashed rounded-lg overflow-hidden flex flex-col items-center justify-center min-h-[200px] transition-colors ${L?"border-primary bg-primary/10":"border-border bg-secondary/30"}`,onDragOver:Se,onDragLeave:Te,onDrop:Le,children:F&&f?d.jsxs("div",{className:"w-full h-64 relative bg-black/5",children:[d.jsx("div",{className:"absolute inset-0 bottom-12",children:d.jsx(Qme,{image:f,crop:y,zoom:w,aspect:3/1,onCropChange:_,onCropComplete:J,onZoomChange:A})}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-background/90 backdrop-blur flex items-center px-4 gap-4 border-t border-border",children:[d.jsx("span",{className:"text-xs font-medium text-muted-foreground w-12",children:"Zoom"}),d.jsx("input",{type:"range",value:w,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:De=>A(Number(De.target.value)),className:"flex-1 h-1 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"}),d.jsx(Ye,{size:"sm",className:"h-7 w-7 p-0 rounded-full",onClick:Oe,children:d.jsx(Qv,{className:"w-4 h-4"})})]})]}):c?d.jsxs("div",{className:"relative w-full flex flex-col items-center justify-center p-4",children:[d.jsx("img",{src:c,alt:"Uploaded signature",className:"max-h-32 object-contain mb-4"}),d.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>V(!0),children:[d.jsx($J,{className:"w-3.5 h-3.5 mr-1.5"}),"Crop Again"]})]}):d.jsxs("div",{className:"text-center",children:[d.jsx($w,{className:`w-8 h-8 mx-auto mb-2 ${L?"text-primary":"text-muted-foreground"}`}),d.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Click or drag image to upload"}),d.jsx(ui,{ref:U,type:"file",accept:"image/*",className:"hidden",onChange:je}),d.jsx(Ye,{variant:"outline",size:"sm",onClick:()=>{var De;return(De=U.current)==null?void 0:De.click()},children:"Select Image"})]})})]}),d.jsxs("div",{className:"mt-6 flex items-start gap-3 px-1",children:[d.jsx("input",{type:"checkbox",id:"terms",className:"mt-1 h-4 w-4 rounded border-border text-primary focus:ring-primary",checked:h,onChange:De=>p(De.target.checked)}),d.jsxs("label",{htmlFor:"terms",className:"text-xs text-muted-foreground leading-tight cursor-pointer",children:["I agree to be legally bound by this document and the ",d.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Terms of Service"})," and ",d.jsx("span",{className:"text-primary hover:underline",children:"Electronic Record and Signature Disclosure"}),"."]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-5",children:[d.jsx(Fc,{className:"mb-2 block text-sm",children:"Signature"}),d.jsx("div",{className:"border-2 border-border rounded-lg p-5 bg-secondary/30",children:n.signature_type==="draw"||n.signature_type==="upload"?d.jsx("img",{src:n.signature_data,alt:"Signature",className:"max-h-28 mx-auto"}):d.jsx("p",{className:"text-center font-serif text-3xl italic text-foreground py-2",children:n.signature_data})})]}),ae&&d.jsxs("div",{className:"mb-5 p-4 bg-secondary/50 rounded-lg border border-border animate-fade-in",children:[d.jsx(Fc,{className:"mb-2 block text-sm font-semibold",children:"Invite another person to sign"}),d.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"They will receive a fresh copy of this document to sign."}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(Dm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(ui,{type:"email",placeholder:"signer@example.com",value:ce,onChange:De=>de(De.target.value),className:"pl-9 h-9"})]}),d.jsx(Ye,{size:"sm",className:"h-9",onClick:Qe,disabled:ne,children:ne?d.jsx(ns,{className:"w-4 h-4 animate-spin"}):"Invite"})]})]}),k&&d.jsxs("div",{className:"mb-5 p-4 bg-secondary/50 rounded-lg border border-border animate-fade-in",children:[d.jsx(Fc,{className:"mb-2 block text-sm font-semibold",children:"Send a signed copy"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(Dm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(ui,{type:"email",placeholder:"recipient@example.com",value:I,onChange:De=>j(De.target.value),className:"pl-9 h-9"})]}),d.jsx(Ye,{size:"sm",className:"h-9",onClick:ut,disabled:R,children:R?d.jsx(ns,{className:"w-4 h-4 animate-spin"}):"Send"})]})]})]})}),d.jsxs("div",{className:"flex gap-2 px-5 py-4 border-t border-border bg-secondary/30",children:[d.jsx(Ye,{variant:"outline",className:"flex-1 h-9",size:"sm",onClick:e,children:"Cancel"}),n.status==="pending"?d.jsxs(Ye,{className:"flex-1 h-9 bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black",size:"sm",onClick:Ge,disabled:!h,children:[d.jsx(ks,{className:"w-3.5 h-3.5 mr-1.5"}),"Sign Document"]}):d.jsxs(d.Fragment,{children:[d.jsxs(Ye,{variant:"outline",className:"flex-1 h-9",size:"sm",onClick:Ie,children:[d.jsx(J4,{className:"w-3.5 h-3.5 mr-1.5"}),"Download"]}),d.jsxs(Ye,{variant:"outline",className:"flex-1 h-9",size:"sm",onClick:()=>{Q(!ae),M(!1)},children:[d.jsx(iB,{className:"w-3.5 h-3.5 mr-1.5"}),"Invite"]}),d.jsxs(Ye,{className:"flex-1 h-9 bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black",size:"sm",onClick:()=>{M(!k),Q(!1)},children:[d.jsx(Z4,{className:"w-3.5 h-3.5 mr-1.5"}),"Send Copy"]})]})]})]})})},$ye=D.lazy(()=>zc(()=>Promise.resolve().then(()=>Cxe),void 0).then(n=>({default:n.PDFViewer}))),Hye=async n=>new Promise((e,t)=>{const r=new FileReader;r.readAsDataURL(n),r.onload=async()=>{try{const i=r.result.split(",")[1],a=(await rb(a1,"convertDocument")({file:i,filename:n.name,mimeType:n.type})).data,l=atob(a.pdfBase64),c=new Array(l.length);for(let h=0;h<l.length;h++)c[h]=l.charCodeAt(h);const u=new Uint8Array(c);e(new Blob([u],{type:"application/pdf"}))}catch(i){t(i)}},r.onerror=i=>t(i)}),qye=()=>{var Ae,je;const n=Uf(),[e]=yR(),{user:t,userProfile:r,loading:i,signOut:s}=D1(),[o,a]=D.useState(null),[l,c]=D.useState(null),[u,h]=D.useState([]),[p,f]=D.useState([]),[b,y]=D.useState([]),[_,w]=D.useState([]),[A,E]=D.useState((r==null?void 0:r.documentsSigned)||0),[C,F]=D.useState({total:0,signed:0,pending:0}),[V,L]=D.useState(!0),[N,I]=D.useState(!1),[j,k]=D.useState(!1),[M,R]=D.useState(!1),[q,ce]=D.useState(!1),[de,ae]=D.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"light");D.useEffect(()=>{const Se=window.document.documentElement;Se.classList.remove("light","dark"),Se.classList.add(de),localStorage.setItem("theme",de)},[de]),D.useEffect(()=>{!i&&!t&&n("/auth")},[t,i,n]),D.useEffect(()=>{(e.get("payment")==="success"||e.get("reference"))&&ot.success("Payment successful! Your plan has been updated.")},[e]),D.useEffect(()=>{(async()=>{if(t!=null&&t.email)try{const Te=Oj(EN(wl,"documents"),Fj("ownerEmail","==",t.email),Bj("createdAt","desc")),J=(await zpe(Te)).docs.map(Ie=>({id:Ie.id,...Ie.data()})),Oe=J.length,Xe=J.filter(Ie=>["signed","completed","Signed"].includes(Ie.status)).length,Ge=Oe-Xe;F({total:Oe,signed:Xe,pending:Ge}),y(J.slice(0,5))}catch(Te){console.error("Error fetching recent docs:",Te)}finally{L(!1)}})()},[t]),D.useEffect(()=>{if(t!=null&&t.uid){const Se=zj(sf(wl,"users",t.uid),Te=>{if(Te.exists()){const Le=Te.data();E(Le.documentsSigned||0)}},Te=>{console.error("Error listening to usage count:",Te)});return()=>Se()}},[t]),D.useEffect(()=>{if(!(t!=null&&t.email))return;const Se=Oj(EN(wl,"notifications"),Fj("recipientEmail","==",t.email),Bj("createdAt","desc"),Bpe(10)),Te=zj(Se,Le=>{const J=Le.docs.map(Oe=>({id:Oe.id,...Oe.data()}));w(J)},Le=>{console.log("Notifications error:",Le)});return()=>Te()},[t]);const Q=async()=>{const Se=Ype(wl),Te=_.filter(Le=>!Le.read);if(Te.length!==0){Te.forEach(Le=>{Se.update(sf(wl,"notifications",Le.id),{read:!0})});try{await Se.commit(),ot.success("Notifications marked as read")}catch(Le){console.error("Error marking read:",Le)}}},ne=async Se=>{const Te=(r==null?void 0:r.plan)==="pro"||(r==null?void 0:r.plan)==="business",Le=A||(r==null?void 0:r.documentsSigned)||0;if(!Te&&Le>=3){ot.error("You have reached the limit of 3 free documents. Redirecting to upgrade..."),n("/settings?tab=billing");return}const J=Se.type==="application/pdf"||Se.name.toLowerCase().endsWith(".pdf"),Oe=Se.name.match(/\.(doc|docx)$/i)||Se.type==="application/msword"||Se.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document";if(J)a(Se),c(null),h([]),f([]);else if(Oe){const Xe=ot.loading("Converting Word document to PDF...");try{const Ge=await Hye(Se),Ie=new File([Ge],Se.name.replace(/\.(doc|docx)$/i,".pdf"),{type:"application/pdf"});a(Ie),c(null),h([]),f([]),ot.success("Document converted successfully",{id:Xe})}catch(Ge){console.error("Conversion error:",Ge),ot.error("Failed to convert document. Please ensure you have a stable connection and try again.",{id:Xe})}}else ot.error("Unsupported file format. Please upload PDF or Word documents.")},ge=Se=>{c(Se),R(!1),ot.success("Signature created! Click on the document to place it.")},pe=Se=>{h(Te=>[...Te,Se]),ot.success("Signature placed!")},U=Se=>{h(Te=>{const Le=[...Te];return Le.length>0&&(Le[Le.length-1]=Se),Le})},X=async()=>{if(!o||!l||u.length===0){ot.error("Please upload a document and place at least one signature.");return}const Se=(r==null?void 0:r.plan)==="pro"||(r==null?void 0:r.plan)==="business",Te=A||(r==null?void 0:r.documentsSigned)||0;if(!Se&&Te>=3){ot.error("You have reached the limit of 3 free documents. Redirecting to upgrade..."),n("/settings?tab=billing");return}I(!0);try{const{embedSignatureInPDF:Le,downloadPDF:J}=await zc(async()=>{const{embedSignatureInPDF:Ge,downloadPDF:Ie}=await import("./pdfUtils-TAOZ8_Di.js");return{embedSignatureInPDF:Ge,downloadPDF:Ie}},[]);let Oe=o,Xe=null;for(const Ge of u)Xe=await Le(Oe,l,Ge),Oe=new File([Xe],o.name,{type:"application/pdf"});Xe&&(J(Xe,`signed_${o.name}`),ot.success("Signed document downloaded!"),t!=null&&t.uid&&$pe(sf(wl,"users",t.uid),{documentsSigned:Kpe(1)},{merge:!0}).then(()=>{}).catch(Ge=>{console.error("Background update failed (non-critical):",Ge)}))}catch(Le){console.error("Error downloading PDF:",Le),ot.error("Failed to download signed document. Please try again.")}finally{I(!1)}},re=async()=>{if(!(!o||!l||u.length===0)){k(!0);try{const{embedSignatureInPDF:Se}=await zc(async()=>{const{embedSignatureInPDF:J}=await import("./pdfUtils-TAOZ8_Di.js");return{embedSignatureInPDF:J}},[]);let Te=o,Le=null;for(const J of u)Le=await Se(Te,l,J),Te=new File([Le],o.name,{type:"application/pdf"});Le&&(a(Te),c(null),h([]),ot.success("Signatures applied. You can now add another signature."))}catch(Se){console.error("Error applying signature:",Se),ot.error("Failed to apply signature.")}finally{k(!1)}}},le=()=>{a(null),c(null),h([]),f([])},he=async()=>{await s(),n("/")},ue=async()=>{var Oe;if(!o||p.length===0){ot.error("Please upload a document and add at least one signer.");return}const Se=(r==null?void 0:r.plan)==="pro"||(r==null?void 0:r.plan)==="business",Te=(t==null?void 0:t.email)==="bankoleebenezer111@gmail.com",Le=window.location.hostname==="localhost";if(!Se&&!Te&&!Le){ot.error("Inviting signers is a Pro feature. Please upgrade your plan.");return}if(o.size>600*1024){ot.error("Document is too large. Please use a file smaller than 600KB.");return}const J=ot.loading("Processing document and sending invitations...");try{const Xe=await new Promise((nt,Ct)=>{const We=new FileReader;We.onload=()=>nt(We.result),We.onerror=()=>Ct(We.error),We.readAsDataURL(o)}),Ge=Wpe(EN(wl,"documents"),{name:o.name,status:"pending",ownerEmail:t==null?void 0:t.email,createdAt:Qk(),updatedAt:Qk(),pdfBase64:Xe,signers:p.map(nt=>({email:nt.email,role:nt.role||"signer",status:"pending"})),invitedBy:t==null?void 0:t.uid}),Ie=new Promise((nt,Ct)=>setTimeout(()=>Ct(new Error("Database operation timed out. The file might be too large or connection is slow.")),6e4)),ut=await Promise.race([Ge,Ie]),De=rb(a1,"sendSignerInvites")({signers:p,documentName:o.name,uploaderName:(t==null?void 0:t.displayName)||((Oe=t==null?void 0:t.email)==null?void 0:Oe.split("@")[0])||"A user",uploaderEmail:t==null?void 0:t.email,documentId:ut.id,signingLink:`${window.location.origin}/sign/${ut.id}`}),Ve=new Promise((nt,Ct)=>setTimeout(()=>Ct(new Error("Email service timed out. Document saved, but invites might not have sent.")),4e4));await Promise.race([De,Ve]),await new Promise(nt=>setTimeout(nt,500)),ot.success("Invitations sent successfully!",{id:J}),F(nt=>({...nt,total:nt.total+1,pending:nt.pending+1}))}catch(Xe){console.error("Error sending invitations:",Xe);let Ge="Failed to send invitations.";Xe!=null&&Xe.message&&(Ge=Xe.message),(Xe==null?void 0:Xe.code)==="resource-exhausted"&&(Ge="File too large for database."),(Xe==null?void 0:Xe.code)==="permission-denied"&&(Ge="Permission denied."),ot.error(Ge,{id:J})}},_e=()=>{ae(Se=>Se==="light"?"dark":"light")},xe=async(Se,Te)=>{if(Se.stopPropagation(),window.confirm("Are you sure you want to delete this document?"))try{await qpe(sf(wl,"documents",Te)),y(Le=>Le.filter(J=>J.id!==Te)),ot.success("Document deleted successfully")}catch(Le){console.error("Error deleting document:",Le),ot.error("Failed to delete document")}};return i?d.jsx("div",{className:"min-h-screen gradient-subtle flex items-center justify-center",children:d.jsx(ns,{className:"w-8 h-8 animate-spin text-primary"})}):d.jsxs("div",{className:"min-h-screen bg-gray-50/50 font-sans text-gray-900",children:[d.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 h-16",children:d.jsxs("div",{className:"container mx-auto px-4 md:px-6 h-full flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ye,{variant:"ghost",size:"icon",className:"lg:hidden mr-2",onClick:()=>ce(!0),children:d.jsx(eS,{className:"h-5 w-5"})}),d.jsx(no,{className:"h-12 md:h-16 w-auto"})]}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[d.jsx(Ye,{variant:"ghost",size:"sm",onClick:_e,className:"w-9 h-9 p-0 hidden md:inline-flex",children:de==="light"?d.jsx(eZ,{className:"w-5 h-5"}):d.jsx(aZ,{className:"w-5 h-5"})}),d.jsxs(hd,{children:[d.jsx(fd,{asChild:!0,children:d.jsx(Ye,{variant:"ghost",size:"icon",className:"w-9 h-9 hidden md:inline-flex",children:d.jsx(zm,{className:"w-5 h-5"})})}),d.jsxs(Gc,{align:"end",className:"w-56",children:[d.jsx(ni,{asChild:!0,children:d.jsxs("a",{href:"#",className:"cursor-pointer flex items-center",children:[d.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Documentation"]})}),d.jsx(ni,{asChild:!0,children:d.jsxs("a",{href:"#",className:"cursor-pointer flex items-center",children:[d.jsx(JJ,{className:"w-4 h-4 mr-2"}),"Support"]})}),d.jsx(ni,{asChild:!0,children:d.jsxs("a",{href:"#",className:"cursor-pointer flex items-center",children:[d.jsx($m,{className:"w-4 h-4 mr-2"}),"API Reference"]})})]})]}),d.jsxs(hd,{children:[d.jsx(fd,{asChild:!0,children:d.jsxs(Ye,{variant:"ghost",size:"icon",className:"relative w-9 h-9",children:[d.jsx(OJ,{className:"w-5 h-5"}),_.some(Se=>!Se.read)&&d.jsx("span",{className:"absolute top-2 right-2.5 h-2 w-2 rounded-full bg-red-500 border border-background"})]})}),d.jsxs(Gc,{align:"end",className:"w-80",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-border/50",children:[d.jsx("span",{className:"font-semibold text-sm",children:"Notifications"}),d.jsx("span",{className:"text-xs text-muted-foreground cursor-pointer hover:text-primary",onClick:Q,children:"Mark all as read"})]}),_.length===0?d.jsx("div",{className:"px-4 py-8 text-center text-muted-foreground text-sm",children:"No notifications"}):_.map(Se=>{var Te;return d.jsxs(ni,{className:"px-4 py-3 cursor-pointer flex flex-col items-start gap-1",children:[d.jsxs("div",{className:"flex items-center justify-between w-full",children:[d.jsx("span",{className:`font-medium text-sm ${Se.read?"text-muted-foreground":"text-foreground"}`,children:Se.title}),d.jsx("span",{className:"text-[10px] text-muted-foreground",children:(Te=Se.createdAt)!=null&&Te.seconds?new Date(Se.createdAt.seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),d.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:Se.message||Se.desc})]},Se.id)})]})]}),o&&l&&u.length>0&&d.jsxs(Ye,{onClick:X,disabled:N,className:"gradient-primary text-primary-foreground shadow-soft hover:shadow-medium transition-shadow",children:[N?d.jsx(ns,{className:"w-4 h-4 mr-2 animate-spin"}):d.jsx(J4,{className:"w-4 h-4 mr-2"}),"Download Signed PDF"]}),o&&d.jsxs(Ye,{variant:"outline",onClick:le,children:[d.jsx(tZ,{className:"w-4 h-4 mr-2"}),"Start Over"]}),d.jsxs(hd,{children:[d.jsx(fd,{asChild:!0,children:d.jsxs(Ye,{variant:"ghost",className:"flex items-center gap-2 pl-0 hover:bg-transparent md:hover:bg-accent",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center overflow-hidden border border-border ml-2",children:t!=null&&t.photoURL?d.jsx("img",{src:t.photoURL,alt:"User",className:"w-full h-full object-cover"}):d.jsx("span",{className:"font-medium text-xs text-accent-foreground",children:(Ae=t==null?void 0:t.email)==null?void 0:Ae.substring(0,2).toUpperCase()})}),d.jsx("span",{className:"hidden md:inline text-sm font-medium",children:(t==null?void 0:t.displayName)||((je=t==null?void 0:t.email)==null?void 0:je.split("@")[0])}),d.jsx(ca,{className:"w-4 h-4"})]})}),d.jsxs(Gc,{align:"end",className:"w-56",children:[d.jsx("div",{className:"px-2 py-1.5",children:d.jsx("p",{className:"text-sm font-medium",children:t==null?void 0:t.email})}),d.jsx(xV,{}),d.jsxs(ni,{onClick:he,className:"text-destructive",children:[d.jsx(QJ,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]})]})}),q&&d.jsx("div",{className:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm lg:hidden",onClick:()=>ce(!1),children:d.jsxs("div",{className:"fixed inset-y-0 left-0 z-50 w-64 border-r bg-white p-6 shadow-lg animate-in slide-in-from-left",onClick:Se=>Se.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsx(no,{className:"h-8 w-auto"}),d.jsx(Ye,{variant:"ghost",size:"icon",onClick:()=>ce(!1),children:d.jsx(Ha,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"space-y-1",children:d.jsx(Ye,{variant:"secondary",className:"w-full justify-start",asChild:!0,onClick:()=>ce(!1),children:d.jsxs(et,{to:"/dashboard",children:[d.jsx(yD,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})}),d.jsx("div",{className:"mt-auto pt-8",children:d.jsxs(pc,{children:[d.jsx(mp,{className:"p-4 pb-2",children:d.jsxs(gp,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(zw,{className:"h-4 w-4 text-primary"}),(r==null?void 0:r.plan)==="business"?"Business":(r==null?void 0:r.plan)==="pro"?"Pro Plan":"Free Plan"]})}),d.jsxs(mc,{className:"p-4 pt-2",children:[((r==null?void 0:r.plan)==="free"||!(r!=null&&r.plan))&&d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex justify-between text-xs font-medium mb-1",children:[d.jsx("span",{children:"Free Usage"}),d.jsxs("span",{children:[A||(r==null?void 0:r.documentsSigned)||0,"/3 used"]})]}),d.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-[#FFC83D] transition-all duration-500 ease-out",style:{width:`${Math.min((A||(r==null?void 0:r.documentsSigned)||0)/3*100,100)}%`}})})]}),d.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:(r==null?void 0:r.plan)==="free"||!(r!=null&&r.plan)?"Upgrade to unlock unlimited documents.":"Your plan is active."})]})]})})]})}),d.jsxs("div",{className:"container mx-auto px-4 md:px-6 py-8 flex items-start gap-8",children:[!o&&d.jsxs("aside",{className:"hidden lg:block w-64 shrink-0 space-y-6 sticky top-24 text-sm",children:[d.jsx("div",{className:"space-y-1",children:d.jsx(Ye,{variant:"secondary",className:"w-full justify-start",asChild:!0,children:d.jsxs(et,{to:"/dashboard",children:[d.jsx(yD,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})}),d.jsxs(pc,{className:"bg-white shadow-sm border-gray-200",children:[d.jsx(mp,{className:"p-4 pb-2",children:d.jsxs(gp,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(zw,{className:"h-4 w-4 text-primary"}),(r==null?void 0:r.plan)==="business"?"Business":(r==null?void 0:r.plan)==="pro"?"Pro Plan":"Free Plan"]})}),d.jsxs(mc,{className:"p-4 pt-2",children:[((r==null?void 0:r.plan)==="free"||!(r!=null&&r.plan))&&d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex justify-between text-xs font-medium mb-1",children:[d.jsx("span",{children:"Free Usage"}),d.jsxs("span",{children:[A||(r==null?void 0:r.documentsSigned)||0,"/3 used"]})]}),d.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-[#FFC83D] transition-all duration-500 ease-out",style:{width:`${Math.min((A||(r==null?void 0:r.documentsSigned)||0)/3*100,100)}%`}})})]}),d.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:(r==null?void 0:r.plan)==="free"||!(r!=null&&r.plan)?"Upgrade to unlock unlimited documents.":"Your plan is active."})]})]})]}),d.jsx("main",{className:"flex-1 min-w-0",children:o?d.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs("div",{className:"gradient-card rounded-2xl border border-border/50 shadow-soft overflow-hidden",children:[d.jsx("div",{className:"p-4 border-b border-border/50 bg-muted/30",children:d.jsxs("h2",{className:"font-display font-semibold flex items-center gap-2",children:[d.jsx(GJ,{className:"w-5 h-5 text-primary"}),o.name]})}),d.jsx("div",{className:"p-4",children:d.jsx(D.Suspense,{fallback:d.jsx("div",{className:"h-[600px] flex items-center justify-center bg-muted/10 rounded-lg",children:d.jsx(ns,{className:"w-8 h-8 animate-spin text-primary"})}),children:d.jsx($ye,{file:o,signatureImage:l,signaturePositions:u,signaturePosition:u.length>0?u[u.length-1]:null,onSignaturePlace:pe,onSignatureMove:U})})})]})}),d.jsx("div",{className:"lg:col-span-1",children:d.jsx("div",{className:"sticky top-24",children:d.jsx(pc,{className:"border-border/60 shadow-sm",children:d.jsxs(mc,{className:"p-6 space-y-6",children:[d.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[d.jsx(ks,{className:"w-4 h-4"})," Signature Tools"]}),d.jsxs(Ye,{onClick:()=>R(!0),className:"w-full",variant:"outline",children:[d.jsx(ks,{className:"w-4 h-4 mr-2"}),"Create Signature"]}),u.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs(Ye,{className:"w-full mb-2 bg-green-600 hover:bg-green-700 text-white",onClick:re,disabled:j,children:[j?d.jsx(ns,{className:"w-4 h-4 mr-2 animate-spin"}):d.jsx($a,{className:"w-4 h-4 mr-2"}),"Apply & Add Another"]}),d.jsx(Ye,{variant:"ghost",className:"w-full text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>{h([]),ot.info("All signature placements have been cleared.")},children:"Clear All Placements"})]}),d.jsx(yH,{}),d.jsx(ume,{signers:p,setSigners:f,onSendInvites:ue})]})})})})]}):d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Dashboard"}),d.jsx("p",{className:"text-gray-500",children:"Manage your documents and signatures."})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs(Ye,{variant:"outline",className:"bg-white",children:[d.jsx(iZ,{className:"w-4 h-4 mr-2"})," Settings"]}),d.jsx("label",{htmlFor:"new-doc-upload-input",className:"cursor-pointer",children:d.jsxs(Ye,{className:"bg-[#FFC83D] hover:bg-[#FFC83D]/90 text-black font-medium pointer-events-none",children:[d.jsx(ks,{className:"w-4 h-4 mr-2"}),"New Document"]})}),d.jsx("input",{id:"new-doc-upload-input",type:"file",className:"hidden",accept:".pdf,.doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:Se=>{Se.target.files&&Se.target.files[0]&&ne(Se.target.files[0])}})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs(pc,{className:"bg-white shadow-sm border-gray-200",children:[d.jsxs(mp,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(gp,{className:"text-sm font-medium text-gray-600",children:"Total Documents"}),d.jsx(Ks,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(mc,{children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:C.total}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All documents"})]})]}),d.jsxs(pc,{className:"bg-white shadow-sm border-gray-200",children:[d.jsxs(mp,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(gp,{className:"text-sm font-medium text-gray-600",children:"Signed"}),d.jsx($a,{className:"h-4 w-4 text-green-500"})]}),d.jsxs(mc,{children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:C.signed}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Completed documents"})]})]}),d.jsxs(pc,{className:"bg-white shadow-sm border-gray-200",children:[d.jsxs(mp,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(gp,{className:"text-sm font-medium text-gray-600",children:"Pending"}),d.jsx(Z9,{className:"h-4 w-4 text-orange-500"})]}),d.jsxs(mc,{children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:C.pending}),d.jsx("p",{className:"text-xs text-orange-600 font-medium mt-1",children:"Action required"})]})]})]}),d.jsx(pc,{className:"border-dashed border-2 border-gray-200 bg-gray-50/50 hover:bg-gray-50 transition-colors shadow-none",children:d.jsx(mc,{className:"pt-6",children:d.jsx(cme,{onFileSelect:ne,currentFile:o,accept:".pdf,.doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"})})}),d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"px-4 md:px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[d.jsxs("h2",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[d.jsx(eB,{className:"w-4 h-4 text-gray-500"}),"Recent Documents"]}),d.jsx(Ye,{variant:"ghost",size:"sm",className:"text-primary h-8 text-xs",children:"View All"})]}),d.jsx("div",{className:"divide-y divide-gray-100",children:V?d.jsx("div",{className:"flex justify-center py-8",children:d.jsx(ns,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):b.length===0?d.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[d.jsx(Ks,{className:"w-10 h-10 mx-auto mb-3 text-gray-300"}),d.jsx("p",{children:"No recent documents found"})]}):b.map(Se=>{var Te;return d.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50 transition-colors group cursor-pointer",children:[d.jsxs("div",{className:"flex items-center gap-3 md:gap-4 min-w-0 flex-1",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center shrink-0",children:d.jsx(Ks,{className:"w-5 h-5 text-blue-600"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("h3",{className:"font-medium text-gray-900 truncate",children:Se.name}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[d.jsx("span",{children:(Te=Se.createdAt)!=null&&Te.seconds?new Date(Se.createdAt.seconds*1e3).toLocaleDateString():"Unknown date"}),d.jsx("span",{children:""}),d.jsx("span",{children:Se.ownerEmail})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-4 pl-2",children:[d.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${Se.status==="Signed"||Se.status==="completed"?"bg-green-500/10 text-green-500":Se.status==="Pending"||Se.status==="pending"?"bg-orange-500/10 text-orange-600":"bg-gray-100 text-gray-600"}`,children:Se.status||"Draft"}),d.jsx(Ye,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-red-600 hover:bg-red-50",onClick:Le=>xe(Le,Se.id),children:d.jsx(lZ,{className:"w-4 h-4"})})]})]},Se.id)})})]})]})})]}),M&&o&&d.jsx(nW,{document:{id:"temp",name:o.name,status:"pending",signature_data:null,signature_type:null},onClose:()=>R(!1),onSave:ge})]})},Wye=()=>{const n=Dd();return D.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Gye=()=>{const{user:n,loading:e}=D1(),t=Dd();return e?d.jsx("div",{children:"Loading..."}):n?n.emailVerified?d.jsx(Cre,{}):d.jsx(KD,{to:"/auth",replace:!0}):d.jsx(KD,{to:"/auth",state:{from:t},replace:!0})};var xw={};xw.d=(n,e)=>{for(var t in e)xw.o(e,t)&&!xw.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};xw.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Yt=globalThis.pdfjsLib={};xw.d(Yt,{AbortException:()=>bg,AnnotationEditorLayer:()=>UP,AnnotationEditorParamsType:()=>qt,AnnotationEditorType:()=>tn,AnnotationEditorUIManager:()=>rg,AnnotationLayer:()=>qbe,AnnotationMode:()=>xh,ColorPicker:()=>pE,DOMSVGFactory:()=>uL,DrawLayer:()=>HP,FeatureTest:()=>Zs,GlobalWorkerOptions:()=>od,ImageKind:()=>C5,InvalidPDFException:()=>iW,MissingPDFException:()=>wg,OPS:()=>bl,OutputScale:()=>LI,PDFDataRangeTransport:()=>eG,PDFDateString:()=>rL,PDFWorker:()=>M0,PasswordResponses:()=>Qye,PermissionFlag:()=>Xye,PixelsPerInch:()=>Rf,RenderingCancelledException:()=>tL,TextLayer:()=>aP,UnexpectedResponseException:()=>QS,Util:()=>At,VerbosityLevel:()=>KS,XfaLayer:()=>nG,build:()=>Sbe,createValidAbsoluteUrl:()=>twe,fetchData:()=>ZS,getDocument:()=>gbe,getFilenameFromUrl:()=>uwe,getPdfFilenameFromUrl:()=>dwe,getXfaPageViewport:()=>hwe,isDataScheme:()=>eC,isPdfFile:()=>nL,noContextMenu:()=>nl,normalizeUnicode:()=>awe,setLayerDimensions:()=>ng,shadow:()=>wn,version:()=>Ebe});const Rs=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),rW=[1,0,0,1,0,0],kI=[.001,0,0,.001,0,0],Kye=1e7,sT=1.35,ia={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},xh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Yye="pdfjs_internal_editor_",tn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},qt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Xye={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},bs={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},C5={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},wi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},by={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},KS={ERRORS:0,WARNINGS:1,INFOS:5},bl={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},Qye={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let YS=KS.WARNINGS;function Jye(n){Number.isInteger(n)&&(YS=n)}function Zye(){return YS}function XS(n){YS>=KS.INFOS&&console.log(`Info: ${n}`)}function on(n){YS>=KS.WARNINGS&&console.log(`Warning: ${n}`)}function pr(n){throw new Error(n)}function Ei(n,e){n||pr(e)}function ewe(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function twe(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=owe(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(ewe(r))return r}catch{}return null}function wn(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Hf=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class II extends Hf{constructor(e,t){super(e,"PasswordException"),this.code=t}}class PI extends Hf{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class iW extends Hf{constructor(e){super(e,"InvalidPDFException")}}class wg extends Hf{constructor(e){super(e,"MissingPDFException")}}class QS extends Hf{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class nwe extends Hf{constructor(e){super(e,"FormatError")}}class bg extends Hf{constructor(e){super(e,"AbortException")}}function sW(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&pr("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function JS(n){typeof n!="string"&&pr("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function rwe(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Z3(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function iwe(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function swe(){try{return new Function(""),!0}catch{return!1}}class Zs{static get isLittleEndian(){return wn(this,"isLittleEndian",iwe())}static get isEvalSupported(){return wn(this,"isEvalSupported",swe())}static get isOffscreenCanvasSupported(){return wn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?wn(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):wn(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return wn(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const oT=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var vd,N5,RI;class At{static makeHexColor(e,t,r){return`#${oT[e]}${oT[t]}${oT[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(r+o)/2,l=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,c=a+l||1,u=a-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,t,r,i,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],W(this,vd,RI).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),c),W(this,vd,RI).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),c),c}}vd=new WeakSet,N5=function(e,t,r,i,s,o,a,l,c,u){if(c<=0||c>=1)return;const h=1-c,p=c*c,f=p*c,b=h*(h*(h*e+3*c*t)+3*p*r)+f*i,y=h*(h*(h*s+3*c*o)+3*p*a)+f*l;u[0]=Math.min(u[0],b),u[1]=Math.min(u[1],y),u[2]=Math.max(u[2],b),u[3]=Math.max(u[3],y)},RI=function(e,t,r,i,s,o,a,l,c,u,h,p){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&W(this,vd,N5).call(this,e,t,r,i,s,o,a,l,-h/u,p);return}const f=u**2-4*h*c;if(f<0)return;const b=Math.sqrt(f),y=2*c;W(this,vd,N5).call(this,e,t,r,i,s,o,a,l,(-u+b)/y,p),W(this,vd,N5).call(this,e,t,r,i,s,o,a,l,(-u-b)/y,p)},K(At,vd);function owe(n){return decodeURIComponent(escape(n))}let aT=null,NF=null;function awe(n){return aT||(aT=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NF=new Map([["","t"]])),n.replaceAll(aT,(e,t,r)=>t?t.normalize("NFKC"):NF.get(r))}function lwe(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return sW(n)}const eL="pdfjs_internal_id_",Eu={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function cwe(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(sW(n))}const Nu="http://www.w3.org/2000/svg",wp=class wp{};rt(wp,"CSS",96),rt(wp,"PDF",72),rt(wp,"PDF_TO_CSS_UNITS",wp.CSS/wp.PDF);let Rf=wp;async function ZS(n,e="text"){if(Fy(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class _x{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,h,p;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,u=0,h=0,p=1;break;case 90:c=0,u=1,h=1,p=0;break;case 270:c=0,u=-1,h=-1,p=0;break;case 0:c=1,u=0,h=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,p=-p);let f,b,y,_;c===0?(f=Math.abs(l-e[1])*t+i,b=Math.abs(a-e[0])*t+s,y=(e[3]-e[1])*t,_=(e[2]-e[0])*t):(f=Math.abs(a-e[0])*t+i,b=Math.abs(l-e[1])*t+s,y=(e[2]-e[0])*t,_=(e[3]-e[1])*t),this.transform=[c*t,u*t,h*t,p*t,f-c*t*a-h*t*l,b-u*t*a-p*t*l],this.width=y,this.height=_}get rawDims(){const{viewBox:e}=this;return wn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new _x({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return At.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=At.applyTransform([e[0],e[1]],this.transform),r=At.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return At.applyInverseTransform([e,t],this.transform)}}class tL extends Hf{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function eC(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function nL(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function uwe(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function dwe(n,e="document.pdf"){if(typeof n!="string")return e;if(eC(n))return on('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class TF{constructor(){rt(this,"started",Object.create(null));rt(this,"times",[])}time(e){e in this.started&&on(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||on(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function Fy(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function nl(n){n.preventDefault()}function kF(n){console.log("Deprecated API usage: "+n)}var Sb;class rL{static toDateObject(e){if(!e||typeof e!="string")return null;m(this,Sb)||z(this,Sb,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=m(this,Sb).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(o+=u,a+=h):c==="+"&&(o-=u,a-=h),new Date(Date.UTC(r,i,s,o,a,l))}}Sb=new WeakMap,K(rL,Sb);function hwe(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new _x({viewBox:s,scale:e,rotation:t})}function iL(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(on(`Not a valid color format: "${n}"`),[0,0,0])}function fwe(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,iL(r))}e.remove()}function Pr(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function Su(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function ng(n,e,t=!1,r=!0){if(e instanceof _x){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=Zs.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${s}px`,u=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,h=a?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!t||e.rotation%180===0?(o.width=u,o.height=h):(o.width=h,o.height=u)}r&&n.setAttribute("data-main-rotation",e.rotation)}class LI{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Nh,jp,Al,Op,Cb,Nb,gE,oW,eo,aW,lW,T5,cW,MI;const ku=class ku{constructor(e){K(this,eo);K(this,Nh,null);K(this,jp,null);K(this,Al);K(this,Op,null);K(this,Cb,null);z(this,Al,e),m(ku,Nb)||z(ku,Nb,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=z(this,Nh,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=m(this,Al)._uiManager._signal;e.addEventListener("contextmenu",nl,{signal:t}),e.addEventListener("pointerdown",W(ku,gE,oW),{signal:t});const r=z(this,Op,document.createElement("div"));r.className="buttons",e.append(r);const i=m(this,Al).toolbarPosition;if(i){const{style:s}=e,o=m(this,Al)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return W(this,eo,cW).call(this),e}get div(){return m(this,Nh)}hide(){var e;m(this,Nh).classList.add("hidden"),(e=m(this,jp))==null||e.hideDropdown()}show(){var e;m(this,Nh).classList.remove("hidden"),(e=m(this,Cb))==null||e.shown()}async addAltText(e){const t=await e.render();W(this,eo,T5).call(this,t),m(this,Op).prepend(t,m(this,eo,MI)),z(this,Cb,e)}addColorPicker(e){z(this,jp,e);const t=e.renderButton();W(this,eo,T5).call(this,t),m(this,Op).prepend(t,m(this,eo,MI))}remove(){var e;m(this,Nh).remove(),(e=m(this,jp))==null||e.destroy(),z(this,jp,null)}};Nh=new WeakMap,jp=new WeakMap,Al=new WeakMap,Op=new WeakMap,Cb=new WeakMap,Nb=new WeakMap,gE=new WeakSet,oW=function(e){e.stopPropagation()},eo=new WeakSet,aW=function(e){m(this,Al)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},lW=function(e){m(this,Al)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},T5=function(e){const t=m(this,Al)._uiManager._signal;e.addEventListener("focusin",W(this,eo,aW).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",W(this,eo,lW).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",nl,{signal:t})},cW=function(){const{editorType:e,_uiManager:t}=m(this,Al),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",m(ku,Nb)[e]),W(this,eo,T5).call(this,r),r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),m(this,Op).append(r)},MI=function(){const e=document.createElement("div");return e.className="divider",e},K(ku,gE),K(ku,Nb,null);let DI=ku;var Tb,Fp,Bp,Df,uW,dW,hW;class pwe{constructor(e){K(this,Df);K(this,Tb,null);K(this,Fp,null);K(this,Bp);z(this,Bp,e)}show(e,t,r){const[i,s]=W(this,Df,dW).call(this,t,r),{style:o}=m(this,Fp)||z(this,Fp,W(this,Df,uW).call(this));e.append(m(this,Fp)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,Fp).remove()}}Tb=new WeakMap,Fp=new WeakMap,Bp=new WeakMap,Df=new WeakSet,uW=function(){const e=z(this,Fp,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",nl,{signal:m(this,Bp)._signal});const t=z(this,Tb,document.createElement("div"));return t.className="buttons",e.append(t),W(this,Df,hW).call(this),e},dW=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},hW=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=m(this,Bp)._signal;e.addEventListener("contextmenu",nl,{signal:r}),e.addEventListener("click",()=>{m(this,Bp).highlightSelection("floating_button")},{signal:r}),m(this,Tb).append(e)};function dE(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function mwe(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var vE;class gwe{constructor(){K(this,vE,0)}get id(){return`${Yye}${Ii(this,vE)._++}`}}vE=new WeakMap;var W0,kb,As,G0,k5;const fL=class fL{constructor(){K(this,G0);K(this,W0,lwe());K(this,kb,0);K(this,As,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return wn(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return W(this,G0,k5).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return W(this,G0,k5).call(this,e,e)}async getFromBlob(e,t){const r=await t;return W(this,G0,k5).call(this,e,r)}async getFromId(e){m(this,As)||z(this,As,new Map);const t=m(this,As).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){m(this,As)||z(this,As,new Map);let r=m(this,As).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${m(this,W0)}_${Ii(this,kb)._++}`,refCounter:1,isSvg:!1},m(this,As).set(e,r),m(this,As).set(r.id,r),r}getSvgUrl(e){const t=m(this,As).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;m(this,As)||z(this,As,new Map);const t=m(this,As).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${m(this,W0)}_`)}};W0=new WeakMap,kb=new WeakMap,As=new WeakMap,G0=new WeakSet,k5=async function(e,t){m(this,As)||z(this,As,new Map);let r=m(this,As).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${m(this,W0)}_${Ii(this,kb)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await ZS(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=fL._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},o.onload=async()=>{const h=r.svgUrl=o.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=u});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return m(this,As).set(e,r),r&&m(this,As).set(r.id,r),r};let jI=fL;var Ri,Th,Ib,Li;class vwe{constructor(e=128){K(this,Ri,[]);K(this,Th,!1);K(this,Ib);K(this,Li,-1);z(this,Ib,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),m(this,Th))return;const l={cmd:e,undo:t,post:r,type:s};if(m(this,Li)===-1){m(this,Ri).length>0&&(m(this,Ri).length=0),z(this,Li,0),m(this,Ri).push(l);return}if(o&&m(this,Ri)[m(this,Li)].type===s){a&&(l.undo=m(this,Ri)[m(this,Li)].undo),m(this,Ri)[m(this,Li)]=l;return}const c=m(this,Li)+1;c===m(this,Ib)?m(this,Ri).splice(0,1):(z(this,Li,c),c<m(this,Ri).length&&m(this,Ri).splice(c)),m(this,Ri).push(l)}undo(){if(m(this,Li)===-1)return;z(this,Th,!0);const{undo:e,post:t}=m(this,Ri)[m(this,Li)];e(),t==null||t(),z(this,Th,!1),z(this,Li,m(this,Li)-1)}redo(){if(m(this,Li)<m(this,Ri).length-1){z(this,Li,m(this,Li)+1),z(this,Th,!0);const{cmd:e,post:t}=m(this,Ri)[m(this,Li)];e(),t==null||t(),z(this,Th,!1)}}hasSomethingToUndo(){return m(this,Li)!==-1}hasSomethingToRedo(){return m(this,Li)<m(this,Ri).length-1}destroy(){z(this,Ri,null)}}Ri=new WeakMap,Th=new WeakMap,Ib=new WeakMap,Li=new WeakMap;var yE,fW;class Ax{constructor(e){K(this,yE);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Zs.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(W(this,yE,fW).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}yE=new WeakSet,fW=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const wE=class wE{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return fwe(e),wn(this,"_colors",e)}convert(e){const t=iL(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return wE._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?At.makeHexColor(...t):e}};rt(wE,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let OI=wE;var K0,Xo,bi,Xi,Y0,Mu,X0,El,kh,Q0,Up,wc,Sl,Vp,Pb,Rb,J0,Lb,bc,Ih,Z0,Ph,xc,bE,Rh,Db,Lh,zp,Mb,jb,Di,Vn,ju,$p,Ob,Fb,Dh,_c,Ou,Bb,ja,tt,I5,FI,pW,mW,P5,gW,vW,yW,BI,wW,UI,VI,bW,zs,dh,xW,_W,zI,AW,By,$I;const p0=class p0{constructor(e,t,r,i,s,o,a,l,c,u,h){K(this,tt);K(this,K0,new AbortController);K(this,Xo,null);K(this,bi,new Map);K(this,Xi,new Map);K(this,Y0,null);K(this,Mu,null);K(this,X0,null);K(this,El,new vwe);K(this,kh,null);K(this,Q0,0);K(this,Up,new Set);K(this,wc,null);K(this,Sl,null);K(this,Vp,new Set);K(this,Pb,!1);K(this,Rb,!1);K(this,J0,!1);K(this,Lb,null);K(this,bc,null);K(this,Ih,null);K(this,Z0,null);K(this,Ph,!1);K(this,xc,null);K(this,bE,new gwe);K(this,Rh,!1);K(this,Db,!1);K(this,Lh,null);K(this,zp,null);K(this,Mb,null);K(this,jb,null);K(this,Di,tn.NONE);K(this,Vn,new Set);K(this,ju,null);K(this,$p,null);K(this,Ob,null);K(this,Fb,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});K(this,Dh,[0,0]);K(this,_c,null);K(this,Ou,null);K(this,Bb,null);K(this,ja,null);const p=this._signal=m(this,K0).signal;z(this,Ou,e),z(this,Bb,t),z(this,Y0,r),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:p}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),i._on("setpreference",this.onSetPreference.bind(this),{signal:p}),i._on("switchannotationeditorparams",f=>this.updateParams(f.type,f.value),{signal:p}),W(this,tt,gW).call(this),W(this,tt,bW).call(this),W(this,tt,BI).call(this),z(this,Mu,s.annotationStorage),z(this,Lb,s.filterFactory),z(this,$p,o),z(this,Z0,a||null),z(this,Pb,l),z(this,Rb,c),z(this,J0,u),z(this,jb,h||null),this.viewParameters={realScale:Rf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=p0.prototype,t=o=>m(o,Ou).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return wn(this,"_keyboardManager",new Ax([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&m(o,Ou).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&m(o,Ou).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i;(e=m(this,ja))==null||e.resolve(),z(this,ja,null),(t=m(this,K0))==null||t.abort(),z(this,K0,null),this._signal=null;for(const s of m(this,Xi).values())s.destroy();m(this,Xi).clear(),m(this,bi).clear(),m(this,Vp).clear(),z(this,Xo,null),m(this,Vn).clear(),m(this,El).destroy(),(r=m(this,Y0))==null||r.destroy(),(i=m(this,xc))==null||i.hide(),z(this,xc,null),m(this,bc)&&(clearTimeout(m(this,bc)),z(this,bc,null)),m(this,_c)&&(clearTimeout(m(this,_c)),z(this,_c,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return m(this,jb)}get useNewAltTextFlow(){return m(this,Rb)}get useNewAltTextWhenAddingImage(){return m(this,J0)}get hcmFilter(){return wn(this,"hcmFilter",m(this,$p)?m(this,Lb).addHCMFilter(m(this,$p).foreground,m(this,$p).background):"none")}get direction(){return wn(this,"direction",getComputedStyle(m(this,Ou)).direction)}get highlightColors(){return wn(this,"highlightColors",m(this,Z0)?new Map(m(this,Z0).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return wn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){z(this,Mb,e)}editAltText(e,t=!1){var r;(r=m(this,Y0))==null||r.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":z(this,J0,t);break}}onPageChanging({pageNumber:e}){z(this,Q0,e-1)}focusMainContainer(){m(this,Ou).focus()}findParent(e,t){for(const r of m(this,Xi).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){m(this,Bb).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,Vp).add(e)}removeShouldRescale(e){m(this,Vp).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Rf.PDF_TO_CSS_UNITS;for(const t of m(this,Vp))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),c=W(this,tt,I5).call(this,t).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;t.empty();const h=W(this,tt,FI).call(this,c),p=m(this,Di)===tn.NONE,f=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a}),p&&this.showAllEditors("highlight",!0,!0)};if(p){this.switchToMode(tn.HIGHLIGHT,f);return}f()}addToAnnotationStorage(e){!e.isEmpty()&&m(this,Mu)&&!m(this,Mu).has(e.id)&&m(this,Mu).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,m(this,Ph)&&(z(this,Ph,!1),W(this,tt,P5).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of m(this,Vn))if(t.div.contains(e)){z(this,zp,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!m(this,zp))return;const[e,t]=m(this,zp);z(this,zp,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){W(this,tt,BI).call(this),W(this,tt,UI).call(this)}removeEditListeners(){W(this,tt,wW).call(this),W(this,tt,VI).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of m(this,Sl))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of m(this,Sl))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=m(this,Xo))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of m(this,Vn)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of m(this,Sl))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){on(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)W(this,tt,zI).call(this,l);W(this,tt,$I).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){on(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,Di)!==tn.NONE&&!this.isEditorHandlingKeyboard&&p0._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,Ph)&&(z(this,Ph,!1),W(this,tt,P5).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(W(this,tt,vW).call(this),W(this,tt,UI).call(this),W(this,tt,zs).call(this,{isEditing:m(this,Di)!==tn.NONE,isEmpty:W(this,tt,By).call(this),hasSomethingToUndo:m(this,El).hasSomethingToUndo(),hasSomethingToRedo:m(this,El).hasSomethingToRedo(),hasSelectedEditor:!1})):(W(this,tt,yW).call(this),W(this,tt,VI).call(this),W(this,tt,zs).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,Sl)){z(this,Sl,e);for(const t of m(this,Sl))W(this,tt,dh).call(this,t.defaultPropertiesToUpdate)}}getId(){return m(this,bE).id}get currentLayer(){return m(this,Xi).get(m(this,Q0))}getLayer(e){return m(this,Xi).get(e)}get currentPageIndex(){return m(this,Q0)}addLayer(e){m(this,Xi).set(e.pageIndex,e),m(this,Rh)?e.enable():e.disable()}removeLayer(e){m(this,Xi).delete(e.pageIndex)}async updateMode(e,t=null,r=!1){if(m(this,Di)!==e&&!(m(this,ja)&&(await m(this,ja).promise,!m(this,ja)))){if(z(this,ja,Promise.withResolvers()),z(this,Di,e),e===tn.NONE){this.setEditingState(!1),W(this,tt,_W).call(this),m(this,ja).resolve();return}this.setEditingState(!0),await W(this,tt,xW).call(this),this.unselectAll();for(const i of m(this,Xi).values())i.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),m(this,ja).resolve();return}for(const i of m(this,bi).values())i.annotationElementId===t?(this.setSelected(i),i.enterInEditMode()):i.unselect();m(this,ja).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==m(this,Di)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(m(this,Sl)){switch(e){case qt.CREATE:this.currentLayer.addNewEditor();return;case qt.HIGHLIGHT_DEFAULT_COLOR:(r=m(this,Mb))==null||r.updateColor(t);break;case qt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,Ob)||z(this,Ob,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of m(this,Vn))i.updateParams(e,t);for(const i of m(this,Sl))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of m(this,bi).values())o.editorType===e&&o.show(t);(((s=m(this,Ob))==null?void 0:s.get(qt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&W(this,tt,dh).call(this,[[qt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(m(this,Db)!==e){z(this,Db,e);for(const t of m(this,Xi).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of m(this,bi).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return m(this,bi).get(e)}addEditor(e){m(this,bi).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(m(this,bc)&&clearTimeout(m(this,bc)),z(this,bc,setTimeout(()=>{this.focusMainContainer(),z(this,bc,null)},0))),m(this,bi).delete(e.id),this.unselect(e),(!e.annotationElementId||!m(this,Up).has(e.annotationElementId))&&((t=m(this,Mu))==null||t.remove(e.id))}addDeletedAnnotationElement(e){m(this,Up).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,Up).has(e)}removeDeletedAnnotationElement(e){m(this,Up).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,Xo)!==e&&(z(this,Xo,e),e&&W(this,tt,dh).call(this,e.propertiesToUpdate))}updateUI(e){m(this,tt,AW)===e&&W(this,tt,dh).call(this,e.propertiesToUpdate)}toggleSelected(e){if(m(this,Vn).has(e)){m(this,Vn).delete(e),e.unselect(),W(this,tt,zs).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,Vn).add(e),e.select(),W(this,tt,dh).call(this,e.propertiesToUpdate),W(this,tt,zs).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of m(this,Vn))t!==e&&t.unselect();m(this,Vn).clear(),m(this,Vn).add(e),e.select(),W(this,tt,dh).call(this,e.propertiesToUpdate),W(this,tt,zs).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,Vn).has(e)}get firstSelectedEditor(){return m(this,Vn).values().next().value}unselect(e){e.unselect(),m(this,Vn).delete(e),W(this,tt,zs).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,Vn).size!==0}get isEnterHandled(){return m(this,Vn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){m(this,El).undo(),W(this,tt,zs).call(this,{hasSomethingToUndo:m(this,El).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:W(this,tt,By).call(this)})}redo(){m(this,El).redo(),W(this,tt,zs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,El).hasSomethingToRedo(),isEmpty:W(this,tt,By).call(this)})}addCommands(e){m(this,El).add(e),W(this,tt,zs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:W(this,tt,By).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...m(this,Vn)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)W(this,tt,zI).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=m(this,Xo))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,Xo)||this.hasSelection}selectAll(){for(const e of m(this,Vn))e.commit();W(this,tt,$I).call(this,m(this,bi).values())}unselectAll(){if(!(m(this,Xo)&&(m(this,Xo).commitOrRemove(),m(this,Di)!==tn.NONE))&&this.hasSelection){for(const e of m(this,Vn))e.unselect();m(this,Vn).clear(),W(this,tt,zs).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;m(this,Dh)[0]+=e,m(this,Dh)[1]+=t;const[i,s]=m(this,Dh),o=[...m(this,Vn)],a=1e3;m(this,_c)&&clearTimeout(m(this,_c)),z(this,_c,setTimeout(()=>{z(this,_c,null),m(this,Dh)[0]=m(this,Dh)[1]=0,this.addCommands({cmd:()=>{for(const l of o)m(this,bi).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of o)m(this,bi).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),z(this,wc,new Map);for(const e of m(this,Vn))m(this,wc).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,wc))return!1;this.disableUserSelect(!1);const e=m(this,wc);z(this,wc,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(m(this,bi).has(i.id)){const l=m(this,Xi).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(m(this,wc))for(const r of m(this,wc).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,Vn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,Xo)===e}getActive(){return m(this,Xo)}getMode(){return m(this,Di)}get imageManager(){return wn(this,"imageManager",new jI)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,u,h,p)=>({x:(u-i)/o,y:1-(c+h-r)/s,width:p/o,height:h/s});break;case"180":a=(c,u,h,p)=>({x:1-(c+h-r)/s,y:1-(u+p-i)/o,width:h/s,height:p/o});break;case"270":a=(c,u,h,p)=>({x:1-(u+p-i)/o,y:(c-r)/s,width:p/o,height:h/s});break;default:a=(c,u,h,p)=>({x:(c-r)/s,y:(u-i)/o,width:h/s,height:p/o});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const h=t.getRangeAt(c);if(!h.collapsed)for(const{x:p,y:f,width:b,height:y}of h.getClientRects())b===0||y===0||l.push(a(p,f,b,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(m(this,X0)||z(this,X0,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=m(this,X0))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=m(this,X0))==null?void 0:i.get(e.data.id);if(!t)return;const r=m(this,Mu).getRawValue(t);r&&(m(this,Di)===tn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};K0=new WeakMap,Xo=new WeakMap,bi=new WeakMap,Xi=new WeakMap,Y0=new WeakMap,Mu=new WeakMap,X0=new WeakMap,El=new WeakMap,kh=new WeakMap,Q0=new WeakMap,Up=new WeakMap,wc=new WeakMap,Sl=new WeakMap,Vp=new WeakMap,Pb=new WeakMap,Rb=new WeakMap,J0=new WeakMap,Lb=new WeakMap,bc=new WeakMap,Ih=new WeakMap,Z0=new WeakMap,Ph=new WeakMap,xc=new WeakMap,bE=new WeakMap,Rh=new WeakMap,Db=new WeakMap,Lh=new WeakMap,zp=new WeakMap,Mb=new WeakMap,jb=new WeakMap,Di=new WeakMap,Vn=new WeakMap,ju=new WeakMap,$p=new WeakMap,Ob=new WeakMap,Fb=new WeakMap,Dh=new WeakMap,_c=new WeakMap,Ou=new WeakMap,Bb=new WeakMap,ja=new WeakMap,tt=new WeakSet,I5=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},FI=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of m(this,Xi).values())if(r.hasTextLayer(e))return r;return null},pW=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=W(this,tt,I5).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(m(this,xc)||z(this,xc,new pwe(this)),m(this,xc).show(r,i,this.direction==="ltr"))},mW=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){m(this,ju)&&((s=m(this,xc))==null||s.hide(),z(this,ju,null),W(this,tt,zs).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===m(this,ju))return;const i=W(this,tt,I5).call(this,e).closest(".textLayer");if(!i){m(this,ju)&&((o=m(this,xc))==null||o.hide(),z(this,ju,null),W(this,tt,zs).call(this,{hasSelectedText:!1}));return}if((a=m(this,xc))==null||a.hide(),z(this,ju,t),W(this,tt,zs).call(this,{hasSelectedText:!0}),!(m(this,Di)!==tn.HIGHLIGHT&&m(this,Di)!==tn.NONE)&&(m(this,Di)===tn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),z(this,Ph,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=m(this,Di)===tn.HIGHLIGHT?W(this,tt,FI).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),h=p=>{p.type==="pointerup"&&p.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),p.type==="pointerup"&&W(this,tt,P5).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("blur",h,{signal:u})}},P5=function(e=""){m(this,Di)===tn.HIGHLIGHT?this.highlightSelection(e):m(this,Pb)&&W(this,tt,pW).call(this)},gW=function(){document.addEventListener("selectionchange",W(this,tt,mW).bind(this),{signal:this._signal})},vW=function(){if(m(this,Ih))return;z(this,Ih,new AbortController);const e=this.combinedSignal(m(this,Ih));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},yW=function(){var e;(e=m(this,Ih))==null||e.abort(),z(this,Ih,null)},BI=function(){if(m(this,Lh))return;z(this,Lh,new AbortController);const e=this.combinedSignal(m(this,Lh));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},wW=function(){var e;(e=m(this,Lh))==null||e.abort(),z(this,Lh,null)},UI=function(){if(m(this,kh))return;z(this,kh,new AbortController);const e=this.combinedSignal(m(this,kh));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},VI=function(){var e;(e=m(this,kh))==null||e.abort(),z(this,kh,null)},bW=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},zs=function(e){Object.entries(e).some(([r,i])=>m(this,Fb)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,Fb),e)}),m(this,Di)===tn.HIGHLIGHT&&e.hasSelectedEditor===!1&&W(this,tt,dh).call(this,[[qt.HIGHLIGHT_FREE,!0]]))},dh=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},xW=async function(){if(!m(this,Rh)){z(this,Rh,!0);const e=[];for(const t of m(this,Xi).values())e.push(t.enable());await Promise.all(e);for(const t of m(this,bi).values())t.enable()}},_W=function(){if(this.unselectAll(),m(this,Rh)){z(this,Rh,!1);for(const e of m(this,Xi).values())e.disable();for(const e of m(this,bi).values())e.disable()}},zI=function(e){const t=m(this,Xi).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},AW=function(){let e=null;for(e of m(this,Vn));return e},By=function(){if(m(this,bi).size===0)return!0;if(m(this,bi).size===1)for(const e of m(this,bi).values())return e.isEmpty();return!1},$I=function(e){for(const t of m(this,Vn))t.unselect();m(this,Vn).clear();for(const t of e)t.isEmpty()||(m(this,Vn).add(t),t.select());W(this,tt,zs).call(this,{hasSelectedEditor:this.hasSelection})},rt(p0,"TRANSLATE_SMALL",1),rt(p0,"TRANSLATE_BIG",10);let rg=p0;var Mi,Ac,Cl,ev,Ec,Qo,tv,Sc,go,Fu,Hp,Cc,Mh,Bl,Uy,R5;const $s=class $s{constructor(e){K(this,Bl);K(this,Mi,null);K(this,Ac,!1);K(this,Cl,null);K(this,ev,null);K(this,Ec,null);K(this,Qo,null);K(this,tv,!1);K(this,Sc,null);K(this,go,null);K(this,Fu,null);K(this,Hp,null);K(this,Cc,!1);z(this,go,e),z(this,Cc,e._uiManager.useNewAltTextFlow),m($s,Mh)||z($s,Mh,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){$s._l10n??($s._l10n=e)}async render(){const e=z(this,Cl,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=z(this,ev,document.createElement("span"));e.append(t),m(this,Cc)?(e.classList.add("new"),e.setAttribute("data-l10n-id",m($s,Mh).missing),t.setAttribute("data-l10n-id",m($s,Mh)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=m(this,go)._uiManager._signal;e.addEventListener("contextmenu",nl,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),m(this,go)._uiManager.editAltText(m(this,go)),m(this,Cc)&&m(this,go)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:m(this,Bl,Uy)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(z(this,tv,!0),i(s))},{signal:r}),await W(this,Bl,R5).call(this),e}finish(){m(this,Cl)&&(m(this,Cl).focus({focusVisible:m(this,tv)}),z(this,tv,!1))}isEmpty(){return m(this,Cc)?m(this,Mi)===null:!m(this,Mi)&&!m(this,Ac)}hasData(){return m(this,Cc)?m(this,Mi)!==null||!!m(this,Fu):this.isEmpty()}get guessedText(){return m(this,Fu)}async setGuessedText(e){m(this,Mi)===null&&(z(this,Fu,e),z(this,Hp,await $s._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),W(this,Bl,R5).call(this))}toggleAltTextBadge(e=!1){var t;if(!m(this,Cc)||m(this,Mi)){(t=m(this,Sc))==null||t.remove(),z(this,Sc,null);return}if(!m(this,Sc)){const r=z(this,Sc,document.createElement("div"));r.className="noAltTextBadge",m(this,go).div.append(r)}m(this,Sc).classList.toggle("hidden",!e)}serialize(e){let t=m(this,Mi);return!e&&m(this,Fu)===t&&(t=m(this,Hp)),{altText:t,decorative:m(this,Ac),guessedText:m(this,Fu),textWithDisclaimer:m(this,Hp)}}get data(){return{altText:m(this,Mi),decorative:m(this,Ac)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(z(this,Fu,r),z(this,Hp,i)),!(m(this,Mi)===e&&m(this,Ac)===t)&&(s||(z(this,Mi,e),z(this,Ac,t)),W(this,Bl,R5).call(this))}toggle(e=!1){m(this,Cl)&&(!e&&m(this,Qo)&&(clearTimeout(m(this,Qo)),z(this,Qo,null)),m(this,Cl).disabled=!e)}shown(){m(this,go)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:m(this,Bl,Uy)}})}destroy(){var e,t;(e=m(this,Cl))==null||e.remove(),z(this,Cl,null),z(this,ev,null),z(this,Ec,null),(t=m(this,Sc))==null||t.remove(),z(this,Sc,null)}};Mi=new WeakMap,Ac=new WeakMap,Cl=new WeakMap,ev=new WeakMap,Ec=new WeakMap,Qo=new WeakMap,tv=new WeakMap,Sc=new WeakMap,go=new WeakMap,Fu=new WeakMap,Hp=new WeakMap,Cc=new WeakMap,Mh=new WeakMap,Bl=new WeakSet,Uy=function(){return m(this,Mi)&&"added"||m(this,Mi)===null&&this.guessedText&&"review"||"missing"},R5=async function(){var i,s,o;const e=m(this,Cl);if(!e)return;if(m(this,Cc)){if(e.classList.toggle("done",!!m(this,Mi)),e.setAttribute("data-l10n-id",m($s,Mh)[m(this,Bl,Uy)]),(i=m(this,ev))==null||i.setAttribute("data-l10n-id",m($s,Mh)[`${m(this,Bl,Uy)}-label`]),!m(this,Mi)){(s=m(this,Ec))==null||s.remove();return}}else{if(!m(this,Mi)&&!m(this,Ac)){e.classList.remove("done"),(o=m(this,Ec))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=m(this,Ec);if(!t){z(this,Ec,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${m(this,go).id}`;const a=100,l=m(this,go)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(m(this,Qo)),z(this,Qo,null)},{once:!0}),e.addEventListener("mouseenter",()=>{z(this,Qo,setTimeout(()=>{z(this,Qo,null),m(this,Ec).classList.add("show"),m(this,go)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;m(this,Qo)&&(clearTimeout(m(this,Qo)),z(this,Qo,null)),(c=m(this,Ec))==null||c.classList.remove("show")},{signal:l})}m(this,Ac)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=m(this,Mi)),t.parentNode||e.append(t);const r=m(this,go).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},K($s,Mh,null),rt($s,"_l10n",null);let hE=$s;var qp,Nl,kr,nv,Wp,Qi,Gp,jh,Ub,Kp,Oh,Vb,Yp,Bu,Nc,rv,iv,Oa,zb,xE,sn,HI,$b,qI,WI,EW,SW,GI,KI,YI,CW,XI,NW,TW,kW,QI,Vy;const jn=class jn{constructor(e){K(this,sn);K(this,qp,null);K(this,Nl,null);K(this,kr,null);K(this,nv,!1);K(this,Wp,!1);K(this,Qi,null);K(this,Gp,null);K(this,jh,null);K(this,Ub,"");K(this,Kp,!1);K(this,Oh,null);K(this,Vb,!1);K(this,Yp,!1);K(this,Bu,!1);K(this,Nc,null);K(this,rv,0);K(this,iv,0);K(this,Oa,null);rt(this,"_editToolbar",null);rt(this,"_initialOptions",Object.create(null));rt(this,"_initialData",null);rt(this,"_isVisible",!0);rt(this,"_uiManager",null);rt(this,"_focusEventsAllowed",!0);K(this,zb,!1);K(this,xE,jn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=jn.prototype._resizeWithKeyboard,t=rg.TRANSLATE_SMALL,r=rg.TRANSLATE_BIG;return wn(this,"_resizerKeyboardManager",new Ax([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],jn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return wn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new ywe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(jn._l10n??(jn._l10n=e),jn._l10nResizer||(jn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),jn._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);jn._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){pr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,zb)}set _isDraggable(e){var t;z(this,zb,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,xE)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):W(this,sn,Vy).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,Kp)?z(this,Kp,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){W(this,sn,HI).call(this,this.parentDimensions,e,t)}translateInPage(e,t){m(this,Oh)||z(this,Oh,[this.x,this.y]),W(this,sn,HI).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){m(this,Oh)||z(this,Oh,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!m(this,Oh)&&(m(this,Oh)[0]!==this.x||m(this,Oh)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=jn,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=t,a*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),s=Math.max(0,Math.min(r-a,s));break;case 90:i=Math.max(0,Math.min(t-a,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(t,Math.max(o,i)),s=Math.min(r,Math.max(a,s));break;case 270:i=Math.min(t,Math.max(a,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=t,this.y=s/=r;const[l,c]=this.getBaseTranslation();i+=l,s+=c;const{style:u}=this.div;u.left=`${(100*i).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return W(r=jn,$b,qI).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return W(r=jn,$b,qI).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,m(this,Wp)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!m(this,Wp)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!m(this,Wp)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=m(this,kr))==null||e.finish()}async addEditToolbar(){return this._editToolbar||m(this,Yp)?this._editToolbar:(this._editToolbar=new DI(this),this.div.append(this._editToolbar.render()),m(this,kr)&&await this._editToolbar.addAltText(m(this,kr)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=m(this,kr))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){m(this,kr)||(hE.initialize(jn._l10n),z(this,kr,new hE(this)),m(this,qp)&&(m(this,kr).data=m(this,qp),z(this,qp,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=m(this,kr))==null?void 0:e.data}set altTextData(e){m(this,kr)&&(m(this,kr).data=e)}get guessedAltText(){var e;return(e=m(this,kr))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=m(this,kr))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=m(this,kr))==null?void 0:t.serialize(e)}hasAltText(){return!!m(this,kr)&&!m(this,kr).isEmpty()}hasAltTextData(){var e;return((e=m(this,kr))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=m(this,nv)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),W(this,sn,XI).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),dE(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Zs.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(z(this,Kp,!0),this._isDraggable){W(this,sn,CW).call(this,e);return}W(this,sn,YI).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){m(this,Nc)&&clearTimeout(m(this,Nc)),z(this,Nc,setTimeout(()=>{var e;z(this,Nc,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/i,u=t/i,h=this.x*s,p=this.y*o,f=this.width*s,b=this.height*o;switch(r){case 0:return[h+c+a,o-p-u-b+l,h+c+f+a,o-p-u+l];case 90:return[h+u+a,o-p+c+l,h+u+b+a,o-p+c+f+l];case 180:return[h-c-f+a,o-p+u+l,h-c+a,o-p+u+b+l];case 270:return[h-u-b+a,o-p-c-f+l,h-u+a,o-p-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){z(this,Yp,!0)}disableEditMode(){z(this,Yp,!1)}isInEditMode(){return m(this,Yp)}shouldGetKeyboardEvents(){return m(this,Bu)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){W(this,sn,XI).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){pr("An editor must be serializable")}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,z(i,qp,e.accessibilityData);const[s,o]=i.pageDimensions,[a,l,c,u]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=u/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=m(this,jh))==null||e.abort(),z(this,jh,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,Nc)&&(clearTimeout(m(this,Nc)),z(this,Nc,null)),W(this,sn,Vy).call(this),this.removeEditToolbar(),m(this,Oa)){for(const t of m(this,Oa).values())clearTimeout(t);z(this,Oa,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(W(this,sn,EW).call(this),m(this,Qi).classList.remove("hidden"),dE(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),z(this,Gp,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=m(this,Qi).children;if(!m(this,Nl)){z(this,Nl,Array.from(t));const o=W(this,sn,NW).bind(this),a=W(this,sn,TW).bind(this),l=this._uiManager._signal;for(const c of m(this,Nl)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",W(this,sn,kW).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",jn._l10nResizer[u])}}const r=m(this,Nl)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(m(this,Nl).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)m(this,Qi).append(m(this,Qi).firstChild);else if(s>i)for(let a=0;a<s-i;a++)m(this,Qi).firstChild.before(m(this,Qi).lastChild);let o=0;for(const a of t){const c=m(this,Nl)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",jn._l10nResizer[c])}}W(this,sn,QI).call(this,0),z(this,Bu,!0),m(this,Qi).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){m(this,Bu)&&W(this,sn,KI).call(this,m(this,Ub),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){W(this,sn,Vy).call(this),this.div.focus()}select(){var e,t,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=m(this,kr))==null||r.toggleAltTextBadge(!1)}unselect(){var e,t,r,i,s;(e=m(this,Qi))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=m(this,kr))==null||s.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return m(this,Vb)}set isEditing(e){z(this,Vb,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){z(this,Wp,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){m(this,Oa)||z(this,Oa,new Map);const{action:r}=e;let i=m(this,Oa).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,Oa).delete(r),m(this,Oa).size===0&&z(this,Oa,null)},jn._telemetryTimeout),m(this,Oa).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),z(this,nv,!1)}disable(){this.div&&(this.div.tabIndex=-1),z(this,nv,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};qp=new WeakMap,Nl=new WeakMap,kr=new WeakMap,nv=new WeakMap,Wp=new WeakMap,Qi=new WeakMap,Gp=new WeakMap,jh=new WeakMap,Ub=new WeakMap,Kp=new WeakMap,Oh=new WeakMap,Vb=new WeakMap,Yp=new WeakMap,Bu=new WeakMap,Nc=new WeakMap,rv=new WeakMap,iv=new WeakMap,Oa=new WeakMap,zb=new WeakMap,xE=new WeakMap,sn=new WeakSet,HI=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},$b=new WeakSet,qI=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},WI=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},EW=function(){if(m(this,Qi))return;z(this,Qi,document.createElement("div")),m(this,Qi).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");m(this,Qi).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",W(this,sn,SW).bind(this,r),{signal:t}),i.addEventListener("contextmenu",nl,{signal:t}),i.tabIndex=-1}this.div.prepend(m(this,Qi))},SW=function(e,t){var b;t.preventDefault();const{isMac:r}=Zs.platform;if(t.button!==0||t.ctrlKey&&r)return;(b=m(this,kr))==null||b.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",W(this,sn,KI).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",nl,{signal:o});const a=this.x,l=this.y,c=this.width,u=this.height,h=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{var y;s.abort(),this.parent.togglePointerEvents(!0),(y=m(this,kr))==null||y.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=h,this.div.style.cursor=p,W(this,sn,GI).call(this,a,l,c,u)};window.addEventListener("pointerup",f,{signal:o}),window.addEventListener("blur",f,{signal:o})},GI=function(e,t,r,i){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[c,u]=this.parentDimensions;this.setDims(c*a,u*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[c,u]=this.parentDimensions;this.setDims(c*r,u*i),this.fixAndSetPosition()},mustExec:!0})},KI=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=jn.MIN_SIZE/r,u=jn.MIN_SIZE/i,h=ae=>Math.round(ae*1e4)/1e4,p=W(this,sn,WI).call(this,this.rotation),f=(ae,Q)=>[p[0]*ae+p[2]*Q,p[1]*ae+p[3]*Q],b=W(this,sn,WI).call(this,360-this.rotation),y=(ae,Q)=>[b[0]*ae+b[2]*Q,b[1]*ae+b[3]*Q];let _,w,A=!1,E=!1;switch(e){case"topLeft":A=!0,_=(ae,Q)=>[0,0],w=(ae,Q)=>[ae,Q];break;case"topMiddle":_=(ae,Q)=>[ae/2,0],w=(ae,Q)=>[ae/2,Q];break;case"topRight":A=!0,_=(ae,Q)=>[ae,0],w=(ae,Q)=>[0,Q];break;case"middleRight":E=!0,_=(ae,Q)=>[ae,Q/2],w=(ae,Q)=>[0,Q/2];break;case"bottomRight":A=!0,_=(ae,Q)=>[ae,Q],w=(ae,Q)=>[0,0];break;case"bottomMiddle":_=(ae,Q)=>[ae/2,Q],w=(ae,Q)=>[ae/2,0];break;case"bottomLeft":A=!0,_=(ae,Q)=>[0,Q],w=(ae,Q)=>[ae,0];break;case"middleLeft":E=!0,_=(ae,Q)=>[0,Q/2],w=(ae,Q)=>[ae,Q/2];break}const C=_(a,l),F=w(a,l);let V=f(...F);const L=h(s+V[0]),N=h(o+V[1]);let I=1,j=1,[k,M]=this.screenToPageTranslation(t.movementX,t.movementY);if([k,M]=y(k/r,M/i),A){const ae=Math.hypot(a,l);I=j=Math.max(Math.min(Math.hypot(F[0]-C[0]-k,F[1]-C[1]-M)/ae,1/a,1/l),c/a,u/l)}else E?I=Math.max(c,Math.min(1,Math.abs(F[0]-C[0]-k)))/a:j=Math.max(u,Math.min(1,Math.abs(F[1]-C[1]-M)))/l;const R=h(a*I),q=h(l*j);V=f(...w(R,q));const ce=L-V[0],de=N-V[1];this.width=R,this.height=q,this.x=ce,this.y=de,this.setDims(r*R,i*q),this.fixAndSetPosition()},YI=function(e){const{isMac:t}=Zs.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},CW=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const r=new AbortController,i=this._uiManager.combinedSignal(r);if(t){this.div.classList.add("moving"),z(this,rv,e.clientX),z(this,iv,e.clientY);const o=a=>{const{clientX:l,clientY:c}=a,[u,h]=this.screenToPageTranslation(l-m(this,rv),c-m(this,iv));z(this,rv,l),z(this,iv,c),this._uiManager.dragSelectedEditors(u,h)};window.addEventListener("pointermove",o,{passive:!0,capture:!0,signal:i})}const s=()=>{r.abort(),t&&this.div.classList.remove("moving"),z(this,Kp,!1),this._uiManager.endDragSession()||W(this,sn,YI).call(this,e)};window.addEventListener("pointerup",s,{signal:i}),window.addEventListener("blur",s,{signal:i})},XI=function(){if(m(this,jh)||!this.div)return;z(this,jh,new AbortController);const e=this._uiManager.combinedSignal(m(this,jh));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},NW=function(e){jn._resizerKeyboardManager.exec(this,e)},TW=function(e){var t;m(this,Bu)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==m(this,Qi)&&W(this,sn,Vy).call(this)},kW=function(e){z(this,Ub,m(this,Bu)?e:"")},QI=function(e){if(m(this,Nl))for(const t of m(this,Nl))t.tabIndex=e},Vy=function(){if(z(this,Bu,!1),W(this,sn,QI).call(this,-1),m(this,Gp)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=m(this,Gp);W(this,sn,GI).call(this,e,t,r,i),z(this,Gp,null)}},K(jn,$b),rt(jn,"_l10n",null),rt(jn,"_l10nResizer",null),rt(jn,"_borderLineWidth",-1),rt(jn,"_colorManager",new OI),rt(jn,"_zIndex",1),rt(jn,"_telemetryTimeout",1e3);let $n=jn;class ywe extends $n{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const IF=3285377520,Da=4294901760,dc=65535;class IW{constructor(e){this.h1=e?e&4294967295:IF,this.h2=e?e&4294967295:IF}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let y=0,_=e.length;y<_;y++){const w=e.charCodeAt(y);w<=255?t[r++]=w:(t[r++]=w>>>8,t[r++]=w&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,c=this.h1,u=this.h2;const h=3432918353,p=461845907,f=h&dc,b=p&dc;for(let y=0;y<i;y++)y&1?(a=o[y],a=a*h&Da|a*f&dc,a=a<<15|a>>>17,a=a*p&Da|a*b&dc,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[y],l=l*h&Da|l*f&dc,l=l<<15|l>>>17,l=l*p&Da|l*b&dc,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*h&Da|a*f&dc,a=a<<15|a>>>17,a=a*p&Da|a*b&dc,i&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Da|e*36045&dc,t=t*4283543511&Da|((t<<16|e>>>16)*2950163797&Da)>>>16,e^=t>>>1,e=e*444984403&Da|e*60499&dc,t=t*3301882366&Da|((t<<16|e>>>16)*3120437893&Da)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const JI=Object.freeze({map:null,hash:"",transfer:void 0});var Xp,Qp,ji,_E,PW;class sL{constructor(){K(this,_E);K(this,Xp,!1);K(this,Qp,null);K(this,ji,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=m(this,ji).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return m(this,ji).get(e)}remove(e){if(m(this,ji).delete(e),m(this,ji).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of m(this,ji).values())if(t instanceof $n)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=m(this,ji).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,m(this,ji).set(e,t);i&&W(this,_E,PW).call(this),t instanceof $n&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return m(this,ji).has(e)}getAll(){return m(this,ji).size>0?Z3(m(this,ji)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return m(this,ji).size}resetModified(){m(this,Xp)&&(z(this,Xp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new RW(this)}get serializable(){if(m(this,ji).size===0)return JI;const e=new Map,t=new IW,r=[],i=Object.create(null);let s=!1;for(const[o,a]of m(this,ji)){const l=a instanceof $n?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:JI}get editorStats(){let e=null;const t=new Map;for(const r of m(this,ji).values()){if(!(r instanceof $n))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){z(this,Qp,null)}get modifiedIds(){if(m(this,Qp))return m(this,Qp);const e=[];for(const t of m(this,ji).values())!(t instanceof $n)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return z(this,Qp,{ids:new Set(e),hash:e.join(",")})}}Xp=new WeakMap,Qp=new WeakMap,ji=new WeakMap,_E=new WeakSet,PW=function(){m(this,Xp)||(z(this,Xp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Hb;class RW extends sL{constructor(t){super();K(this,Hb);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);z(this,Hb,{map:o,hash:i,transfer:s})}get print(){pr("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,Hb)}get modifiedIds(){return wn(this,"modifiedIds",{ids:new Set,hash:""})}}Hb=new WeakMap;var sv;class wwe{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){K(this,sv,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,sv).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||m(this,sv).has(e.loadedName))){if(Ei(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),m(this,sv).add(r),t==null||t(e)}catch{on(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}pr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw on(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return wn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Rs||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),wn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Ei(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return wn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(C,F){return C.charCodeAt(F)<<24|C.charCodeAt(F+1)<<16|C.charCodeAt(F+2)<<8|C.charCodeAt(F+3)&255}function i(C,F,V,L){const N=C.substring(0,F),I=C.substring(F+V);return N+L+I}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(C,F){if(++c>30){on("Load test font never loaded."),F();return}if(l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(u.bind(null,C,F))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=i(p,976,h.length,h);const b=16,y=1482184792;let _=r(p,b);for(s=0,o=h.length-3;s<o;s+=4)_=_-y+r(h,s)|0;s<h.length&&(_=_-y+r(h+"XXX",s)|0),p=i(p,b,4,rwe(_));const w=`url(data:font/opentype;base64,${btoa(p)});`,A=`@font-face {font-family:"${h}";src:${w}}`;this.insertRule(A);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const C of[e.loadedName,h]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=C,E.append(F)}this._document.body.append(E),u(h,()=>{E.remove(),t.complete()})}}sv=new WeakMap;class bwe{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${cwe(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){on(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case Eu.BEZIER_CURVE_TO:{const[a,l,c,u,h,p]=r.slice(s,s+6);i.push(f=>f.bezierCurveTo(a,l,c,u,h,p)),s+=6}break;case Eu.MOVE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.moveTo(a,l)),s+=2}break;case Eu.LINE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.lineTo(a,l)),s+=2}break;case Eu.QUADRATIC_CURVE_TO:{const[a,l,c,u]=r.slice(s,s+4);i.push(h=>h.quadraticCurveTo(a,l,c,u)),s+=4}break;case Eu.RESTORE:i.push(a=>a.restore());break;case Eu.SAVE:i.push(a=>a.save());break;case Eu.SCALE:Ei(i.length===2,"Scale command is only valid at the third position.");break;case Eu.TRANSFORM:{const[a,l,c,u,h,p]=r.slice(s,s+6);i.push(f=>f.transform(a,l,c,u,h,p)),s+=6}break;case Eu.TRANSLATE:{const[a,l]=r.slice(s,s+2);i.push(c=>c.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let l=2,c=i.length;l<c;l++)i[l](o)}}}var qb;class LW{constructor({enableHWA:e=!1}){K(this,qb,!1);z(this,qb,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!m(this,qb)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){pr("Abstract method `_createCanvas` called.")}}qb=new WeakMap;class xwe extends LW{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class DW{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){pr("Abstract method `_fetch` called.")}}class MW extends DW{async _fetch(e){const t=await ZS(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):JS(t)}}class jW{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var Jp,Zp,Tc,Uu,Es,AE,em,at,xs,Wg,Gg,L5,Kg,OW,ZI,Yg,zy,$y,eP,Hy;class _we extends jW{constructor({docId:t,ownerDocument:r=globalThis.document}){super();K(this,at);K(this,Jp);K(this,Zp);K(this,Tc);K(this,Uu);K(this,Es);K(this,AE);K(this,em,0);z(this,Uu,t),z(this,Es,r)}addFilter(t){if(!t)return"none";let r=m(this,at,xs).get(t);if(r)return r;const[i,s,o]=W(this,at,L5).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=m(this,at,xs).get(a),r)return m(this,at,xs).set(t,r),r;const l=`g_${m(this,Uu)}_transfer_map_${Ii(this,em)._++}`,c=W(this,at,Kg).call(this,l);m(this,at,xs).set(t,c),m(this,at,xs).set(a,c);const u=W(this,at,Yg).call(this,l);return W(this,at,$y).call(this,i,s,o,u),c}addHCMFilter(t,r){var b;const i=`${t}-${r}`,s="base";let o=m(this,at,Wg).get(s);if((o==null?void 0:o.key)===i||(o?((b=o.filter)==null||b.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},m(this,at,Wg).set(s,o)),!t||!r))return o.url;const a=W(this,at,Hy).call(this,t);t=At.makeHexColor(...a);const l=W(this,at,Hy).call(this,r);if(r=At.makeHexColor(...l),m(this,at,Gg).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const c=new Array(256);for(let y=0;y<=255;y++){const _=y/255;c[y]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const u=c.join(","),h=`g_${m(this,Uu)}_hcm_filter`,p=o.filter=W(this,at,Yg).call(this,h);W(this,at,$y).call(this,u,u,u,p),W(this,at,ZI).call(this,p);const f=(y,_)=>{const w=a[y]/255,A=l[y]/255,E=new Array(_+1);for(let C=0;C<=_;C++)E[C]=w+C/_*(A-w);return E.join(",")};return W(this,at,$y).call(this,f(0,5),f(1,5),f(2,5),p),o.url=W(this,at,Kg).call(this,h),o.url}addAlphaFilter(t){let r=m(this,at,xs).get(t);if(r)return r;const[i]=W(this,at,L5).call(this,[t]),s=`alpha_${i}`;if(r=m(this,at,xs).get(s),r)return m(this,at,xs).set(t,r),r;const o=`g_${m(this,Uu)}_alpha_map_${Ii(this,em)._++}`,a=W(this,at,Kg).call(this,o);m(this,at,xs).set(t,a),m(this,at,xs).set(s,a);const l=W(this,at,Yg).call(this,o);return W(this,at,eP).call(this,i,l),a}addLuminosityFilter(t){let r=m(this,at,xs).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=W(this,at,L5).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=m(this,at,xs).get(s),r)return m(this,at,xs).set(t,r),r;const o=`g_${m(this,Uu)}_luminosity_map_${Ii(this,em)._++}`,a=W(this,at,Kg).call(this,o);m(this,at,xs).set(t,a),m(this,at,xs).set(s,a);const l=W(this,at,Yg).call(this,o);return W(this,at,OW).call(this,l),t&&W(this,at,eP).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var A;const a=`${r}-${i}-${s}-${o}`;let l=m(this,at,Wg).get(t);if((l==null?void 0:l.key)===a||(l?((A=l.filter)==null||A.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},m(this,at,Wg).set(t,l)),!r||!i))return l.url;const[c,u]=[r,i].map(W(this,at,Hy).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[f,b]=[s,o].map(W(this,at,Hy).bind(this));p<h&&([h,p,f,b]=[p,h,b,f]),m(this,at,Gg).style.color="";const y=(E,C,F)=>{const V=new Array(256),L=(p-h)/F,N=E/255,I=(C-E)/(255*F);let j=0;for(let k=0;k<=F;k++){const M=Math.round(h+k*L),R=N+k*I;for(let q=j;q<=M;q++)V[q]=R;j=M+1}for(let k=j;k<256;k++)V[k]=V[j-1];return V.join(",")},_=`g_${m(this,Uu)}_hcm_${t}_filter`,w=l.filter=W(this,at,Yg).call(this,_);return W(this,at,ZI).call(this,w),W(this,at,$y).call(this,y(f[0],b[0],5),y(f[1],b[1],5),y(f[2],b[2],5),w),l.url=W(this,at,Kg).call(this,_),l.url}destroy(t=!1){t&&m(this,at,Wg).size!==0||(m(this,Tc)&&(m(this,Tc).parentNode.parentNode.remove(),z(this,Tc,null)),m(this,Zp)&&(m(this,Zp).clear(),z(this,Zp,null)),z(this,em,0))}}Jp=new WeakMap,Zp=new WeakMap,Tc=new WeakMap,Uu=new WeakMap,Es=new WeakMap,AE=new WeakMap,em=new WeakMap,at=new WeakSet,xs=function(){return m(this,Zp)||z(this,Zp,new Map)},Wg=function(){return m(this,AE)||z(this,AE,new Map)},Gg=function(){if(!m(this,Tc)){const t=m(this,Es).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=m(this,Es).createElementNS(Nu,"svg");i.setAttribute("width",0),i.setAttribute("height",0),z(this,Tc,m(this,Es).createElementNS(Nu,"defs")),t.append(i),i.append(m(this,Tc)),m(this,Es).body.append(t)}return m(this,Tc)},L5=function(t){if(t.length===1){const c=t[0],u=new Array(256);for(let p=0;p<256;p++)u[p]=c[p]/255;const h=u.join(",");return[h,h,h]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=r[c]/255,a[c]=i[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},Kg=function(t){if(m(this,Jp)===void 0){z(this,Jp,"");const r=m(this,Es).URL;r!==m(this,Es).baseURI&&(eC(r)?on('#createUrl: ignore "data:"-URL for performance reasons.'):z(this,Jp,r.split("#",1)[0]))}return`url(${m(this,Jp)}#${t})`},OW=function(t){const r=m(this,Es).createElementNS(Nu,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},ZI=function(t){const r=m(this,Es).createElementNS(Nu,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Yg=function(t){const r=m(this,Es).createElementNS(Nu,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),m(this,at,Gg).append(r),r},zy=function(t,r,i){const s=m(this,Es).createElementNS(Nu,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},$y=function(t,r,i,s){const o=m(this,Es).createElementNS(Nu,"feComponentTransfer");s.append(o),W(this,at,zy).call(this,o,"feFuncR",t),W(this,at,zy).call(this,o,"feFuncG",r),W(this,at,zy).call(this,o,"feFuncB",i)},eP=function(t,r){const i=m(this,Es).createElementNS(Nu,"feComponentTransfer");r.append(i),W(this,at,zy).call(this,i,"feFuncA",t)},Hy=function(t){return m(this,at,Gg).style.color=t,iL(getComputedStyle(m(this,at,Gg)).getPropertyValue("color"))};class FW{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){pr("Abstract method `_fetch` called.")}}class BW extends FW{async _fetch(e){const t=await ZS(e,"arraybuffer");return new Uint8Array(t)}}if(Rs){var tP=Promise.withResolvers(),_w=null;(async()=>{const e=await zc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await zc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await zc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await zc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:o}))})().then(e=>{_w=e,tP.resolve()},e=>{on(`loadPackages: ${e}`),_w=new Map,tP.resolve()})}class Lf{static get promise(){return tP.promise}static get(e){return _w==null?void 0:_w.get(e)}}async function UW(n){const t=await Lf.get("fs").promises.readFile(n);return new Uint8Array(t)}class Awe extends jW{}class Ewe extends LW{_createCanvas(e,t){return Lf.get("canvas").createCanvas(e,t)}}class Swe extends DW{async _fetch(e){return UW(e)}}class Cwe extends FW{async _fetch(e){return UW(e)}}const Gs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function nP(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class oL{getPattern(){pr("Abstract method `getPattern` called.")}}class Nwe extends oL{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Gs.STROKE||i===Gs.FILL){const o=t.current.getClippedPathBoundingBox(i,Pr(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),r=At.transform(r,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),nP(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else nP(e,this._bbox),s=this._createGradient(e);return s}}function lT(n,e,t,r,i,s,o,a){const l=e.coords,c=e.colors,u=n.data,h=n.width*4;let p;l[t+1]>l[r+1]&&(p=t,t=r,r=p,p=s,s=o,o=p),l[r+1]>l[i+1]&&(p=r,r=i,i=p,p=o,o=a,a=p),l[t+1]>l[r+1]&&(p=t,t=r,r=p,p=s,s=o,o=p);const f=(l[t]+e.offsetX)*e.scaleX,b=(l[t+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,_=(l[r+1]+e.offsetY)*e.scaleY,w=(l[i]+e.offsetX)*e.scaleX,A=(l[i+1]+e.offsetY)*e.scaleY;if(b>=A)return;const E=c[s],C=c[s+1],F=c[s+2],V=c[o],L=c[o+1],N=c[o+2],I=c[a],j=c[a+1],k=c[a+2],M=Math.round(b),R=Math.round(A);let q,ce,de,ae,Q,ne,ge,pe;for(let U=M;U<=R;U++){if(U<_){const ue=U<b?0:(b-U)/(b-_);q=f-(f-y)*ue,ce=E-(E-V)*ue,de=C-(C-L)*ue,ae=F-(F-N)*ue}else{let ue;U>A?ue=1:_===A?ue=0:ue=(_-U)/(_-A),q=y-(y-w)*ue,ce=V-(V-I)*ue,de=L-(L-j)*ue,ae=N-(N-k)*ue}let X;U<b?X=0:U>A?X=1:X=(b-U)/(b-A),Q=f-(f-w)*X,ne=E-(E-I)*X,ge=C-(C-j)*X,pe=F-(F-k)*X;const re=Math.round(Math.min(q,Q)),le=Math.round(Math.max(q,Q));let he=h*U+re*4;for(let ue=re;ue<=le;ue++)X=(q-ue)/(q-Q),X<0?X=0:X>1&&(X=1),u[he++]=ce-(ce-ne)*X|0,u[he++]=de-(de-ge)*X|0,u[he++]=ae-(ae-pe)*X|0,u[he++]=255}}function Twe(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let h=0;h<c;h++,u++)lT(n,t,r[u],r[u+1],r[u+a],i[u],i[u+1],i[u+a]),lT(n,t,r[u+a+1],r[u+1],r[u+a],i[u+a+1],i[u+1],i[u+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)lT(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class kwe extends oL{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),f=c/h,b=u/p,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/f,scaleY:1/b},_=h+2*2,w=p+2*2,A=r.getCanvas("mesh",_,w),E=A.context,C=E.createImageData(h,p);if(t){const V=C.data;for(let L=0,N=V.length;L<N;L+=4)V[L]=t[0],V[L+1]=t[1],V[L+2]=t[2],V[L+3]=255}for(const V of this._figures)Twe(C,V,y);return E.putImageData(C,2,2),{canvas:A.canvas,offsetX:a-2*f,offsetY:l-2*b,scaleX:f,scaleY:b}}getPattern(e,t,r,i){nP(e,this._bbox);let s;if(i===Gs.SHADING)s=At.singularValueDecompose2dScale(Pr(e));else if(s=At.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=At.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===Gs.SHADING?null:this._background,t.cachedCanvases);return i!==Gs.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class Iwe extends oL{getPattern(){return"hotpink"}}function Pwe(n){switch(n[0]){case"RadialAxial":return new Nwe(n);case"Mesh":return new kwe(n);case"Dummy":return new Iwe}throw new Error(`Unknown IR type: ${n[0]}`)}const PF={COLORED:1,UNCOLORED:2},EE=class EE{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:i,tilingType:s,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),XS("TilingType: "+s);const u=t[0],h=t[1],p=t[2],f=t[3],b=p-u,y=f-h,_=At.singularValueDecompose2dScale(this.matrix),w=At.singularValueDecompose2dScale(this.baseTransform),A=_[0]*w[0],E=_[1]*w[1];let C=b,F=y,V=!1,L=!1;const N=Math.ceil(l*A),I=Math.ceil(c*E),j=Math.ceil(b*A),k=Math.ceil(y*E);N>=j?C=l:V=!0,I>=k?F=c:L=!0;const M=this.getSizeAndScale(C,this.ctx.canvas.width,A),R=this.getSizeAndScale(F,this.ctx.canvas.height,E),q=e.cachedCanvases.getCanvas("pattern",M.size,R.size),ce=q.context,de=a.createCanvasGraphics(ce);if(de.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(de,i,o),ce.translate(-M.scale*u,-R.scale*h),de.transform(M.scale,0,0,R.scale,0,0),ce.save(),this.clipBbox(de,u,h,p,f),de.baseTransform=Pr(de.ctx),de.executeOperatorList(r),de.endDrawing(),ce.restore(),V||L){const ae=q.canvas;V&&(C=l),L&&(F=c);const Q=this.getSizeAndScale(C,this.ctx.canvas.width,A),ne=this.getSizeAndScale(F,this.ctx.canvas.height,E),ge=Q.size,pe=ne.size,U=e.cachedCanvases.getCanvas("pattern-workaround",ge,pe),X=U.context,re=V?Math.floor(b/l):0,le=L?Math.floor(y/c):0;for(let he=0;he<=re;he++)for(let ue=0;ue<=le;ue++)X.drawImage(ae,ge*he,pe*ue,ge,pe,0,0,ge,pe);return{canvas:U.canvas,scaleX:Q.scale,scaleY:ne.scale,offsetX:u,offsetY:h}}return{canvas:q.canvas,scaleX:M.scale,scaleY:R.scale,offsetX:u,offsetY:h}}getSizeAndScale(e,t,r){const i=Math.max(EE.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),e.current.updateRectMinMax(Pr(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case PF.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case PF.UNCOLORED:const a=At.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new nwe(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==Gs.SHADING&&(s=At.transform(s,t.baseTransform),this.matrix&&(s=At.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};rt(EE,"MAX_PATTERN_SIZE",3e3);let rP=EE;function Rwe({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Zs.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=r>>3,h=r&7,p=n.length;t=new Uint32Array(t.buffer);let f=0;for(let b=0;b<i;b++){for(const _=e+u;e<_;e++){const w=e<p?n[e]:255;t[f++]=w&128?c:l,t[f++]=w&64?c:l,t[f++]=w&32?c:l,t[f++]=w&16?c:l,t[f++]=w&8?c:l,t[f++]=w&4?c:l,t[f++]=w&2?c:l,t[f++]=w&1?c:l}if(h===0)continue;const y=e<p?n[e++]:255;for(let _=0;_<h;_++)t[f++]=y&1<<7-_?c:l}return{srcPos:e,destPos:f}}const RF=16,LF=100,Lwe=15,DF=10,MF=1e3,bo=16;function Dwe(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,o,a,l){e.transform(r,i,s,o,a,l),this.__originalTransform(r,i,s,o,a,l)},n.setTransform=function(r,i,s,o,a,l){e.setTransform(r,i,s,o,a,l),this.__originalSetTransform(r,i,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Mwe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function j_(n,e,t,r,i,s,o,a,l,c){const[u,h,p,f,b,y]=Pr(n);if(h===0&&p===0){const A=o*u+b,E=Math.round(A),C=a*f+y,F=Math.round(C),V=(o+l)*u+b,L=Math.abs(Math.round(V)-E)||1,N=(a+c)*f+y,I=Math.abs(Math.round(N)-F)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(f),E,F),n.drawImage(e,t,r,i,s,0,0,L,I),n.setTransform(u,h,p,f,b,y),[L,I]}if(u===0&&f===0){const A=a*p+b,E=Math.round(A),C=o*h+y,F=Math.round(C),V=(a+c)*p+b,L=Math.abs(Math.round(V)-E)||1,N=(o+l)*h+y,I=Math.abs(Math.round(N)-F)||1;return n.setTransform(0,Math.sign(h),Math.sign(p),0,E,F),n.drawImage(e,t,r,i,s,0,0,I,L),n.setTransform(u,h,p,f,b,y),[I,L]}n.drawImage(e,t,r,i,s,o,a,l,c);const _=Math.hypot(u,h),w=Math.hypot(p,f);return[_*l,w*c]}function jwe(n){const{width:e,height:t}=n;if(e>MF||t>MF)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,c;const u=e+7&-8;let h=new Uint8Array(u*t),p=0;for(const w of n.data){let A=128;for(;A>0;)h[p++]=w&A?0:255,A>>=1}let f=0;for(p=0,h[p]!==0&&(o[0]=1,++f),l=1;l<e;l++)h[p]!==h[p+1]&&(o[l]=h[p]?2:1,++f),p++;for(h[p]!==0&&(o[l]=2,++f),a=1;a<t;a++){p=a*u,c=a*s,h[p-u]!==h[p]&&(o[c]=h[p]?1:8,++f);let w=(h[p]?4:0)+(h[p-u]?8:0);for(l=1;l<e;l++)w=(w>>2)+(h[p+1]?4:0)+(h[p-u+1]?8:0),i[w]&&(o[c+l]=i[w],++f),p++;if(h[p-u]!==h[p]&&(o[c+l]=h[p]?2:4,++f),f>r)return null}for(p=u*(t-1),c=a*s,h[p]!==0&&(o[c]=8,++f),l=1;l<e;l++)h[p]!==h[p+1]&&(o[c+l]=h[p]?4:8,++f),p++;if(h[p]!==0&&(o[c+l]=4,++f),f>r)return null;const b=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=new Path2D;for(a=0;f&&a<=t;a++){let w=a*s;const A=w+e;for(;w<A&&!o[w];)w++;if(w===A)continue;y.moveTo(w%s,a);const E=w;let C=o[w];do{const F=b[C];do w+=F;while(!o[w]);const V=o[w];V!==5&&V!==10?(C=V,o[w]=0):(C=V&51*C>>4,o[w]&=C>>2|C<<2),y.lineTo(w%s,w/s|0),o[w]||--f}while(E!==w);--a}return h=null,o=null,function(w){w.save(),w.scale(1/e,-1/t),w.translate(0,-t),w.fill(y),w.beginPath(),w.restore()}}class jF{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=rW,this.textMatrixScale=1,this.fontMatrix=kI,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=bs.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=At.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=At.applyTransform(t,e),i=At.applyTransform(t.slice(2),e),s=At.applyTransform([t[0],t[3]],e),o=At.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,t){At.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,o,a,l,c,u){const h=At.bezierBoundingBox(t,r,i,s,o,a,l,c,u);u||this.updateRectMinMax(e,h)}getPathBoundingBox(e=Gs.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Gs.STROKE){t||pr("Stroke bounding box must include transform.");const i=At.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=At.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Gs.FILL,t=null){return At.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function OF(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%bo,s=(t-i)/bo,o=i===0?s:s+1,a=n.createImageData(r,bo);let l=0,c;const u=e.data,h=a.data;let p,f,b,y;if(e.kind===C5.GRAYSCALE_1BPP){const _=u.byteLength,w=new Uint32Array(h.buffer,0,h.byteLength>>2),A=w.length,E=r+7>>3,C=4294967295,F=Zs.isLittleEndian?4278190080:255;for(p=0;p<o;p++){for(b=p<s?bo:i,c=0,f=0;f<b;f++){const V=_-l;let L=0;const N=V>E?r:V*8-7,I=N&-8;let j=0,k=0;for(;L<I;L+=8)k=u[l++],w[c++]=k&128?C:F,w[c++]=k&64?C:F,w[c++]=k&32?C:F,w[c++]=k&16?C:F,w[c++]=k&8?C:F,w[c++]=k&4?C:F,w[c++]=k&2?C:F,w[c++]=k&1?C:F;for(;L<N;L++)j===0&&(k=u[l++],j=128),w[c++]=k&j?C:F,j>>=1}for(;c<A;)w[c++]=0;n.putImageData(a,0,p*bo)}}else if(e.kind===C5.RGBA_32BPP){for(f=0,y=r*bo*4,p=0;p<s;p++)h.set(u.subarray(l,l+y)),l+=y,n.putImageData(a,0,f),f+=bo;p<o&&(y=r*i*4,h.set(u.subarray(l,l+y)),n.putImageData(a,0,f))}else if(e.kind===C5.RGB_24BPP)for(b=bo,y=r*b,p=0;p<o;p++){for(p>=s&&(b=i,y=r*b),c=0,f=y;f--;)h[c++]=u[l++],h[c++]=u[l++],h[c++]=u[l++],h[c++]=255;n.putImageData(a,0,p*bo)}else throw new Error(`bad image kind: ${e.kind}`)}function FF(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%bo,s=(t-i)/bo,o=i===0?s:s+1,a=n.createImageData(r,bo);let l=0;const c=e.data,u=a.data;for(let h=0;h<o;h++){const p=h<s?bo:i;({srcPos:l}=Rwe({src:c,srcPos:l,dest:u,width:r,height:p,nonBlackColor:0})),n.putImageData(a,0,h*bo)}}function xy(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function O_(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Rs){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function BF(n,e){if(e)return!0;const t=At.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Rf.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const Owe=["butt","round","square"],Fwe=["miter","round","bevel"],Bwe={},UF={};var Mf,iP,sP;const pL=class pL{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){K(this,Mf);this.ctx=e,this.current=new jF(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new Mwe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Pr(this.compositeCtx))}this.ctx.save(),O_(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Pr(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>DF&&typeof r=="function",u=c?Date.now()+Lwe:0;let h=0;const p=this.commonObjs,f=this.objs;let b;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(b=o[a],b!==bl.dependency)this[b].apply(this,s[a]);else for(const y of s[a]){const _=y.startsWith("g_")?p:f;if(!_.has(y))return _.get(y,r),a}if(a++,a===l)return a;if(c&&++h>DF){if(Date.now()>u)return r(),a;h=0}}}endDrawing(){W(this,Mf,iP).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),W(this,Mf,sP).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,c="prescale1",u,h;for(;s>2&&a>1||o>2&&l>1;){let p=a,f=l;s>2&&a>1&&(p=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/p),o>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/f),u=this.cachedCanvases.getCanvas(c,p,f),h=u.context,h.clearRect(0,0,p,f),h.drawImage(e,0,0,a,l,0,0,p,f),e=u.canvas,a=p,l=f,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=Pr(t);let l,c,u,h;if((e.bitmap||e.data)&&e.count>1){const N=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(N),l||(l=new Map,this._cachedBitmapsMap.set(N,l));const I=l.get(c);if(I&&!o){const j=Math.round(Math.min(a[0],a[2])+a[4]),k=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:I,offsetX:j,offsetY:k}}u=I}u||(h=this.cachedCanvases.getCanvas("maskCanvas",r,i),FF(h.context,e));let p=At.transform(a,[1/r,0,0,-1/i,0,0]);p=At.transform(p,[1,0,0,1,0,-i]);const[f,b,y,_]=At.getAxialAlignedBoundingBox([0,0,r,i],p),w=Math.round(y-f)||1,A=Math.round(_-b)||1,E=this.cachedCanvases.getCanvas("fillCanvas",w,A),C=E.context,F=f,V=b;C.translate(-F,-V),C.transform(...p),u||(u=this._scaleImage(h.canvas,Su(C)),u=u.img,l&&o&&l.set(c,u)),C.imageSmoothingEnabled=BF(Pr(C),e.interpolate),j_(C,u,0,0,u.width,u.height,0,0,r,i),C.globalCompositeOperation="source-in";const L=At.transform(Su(C),[1,0,0,1,-F,-V]);return C.fillStyle=o?s.getPattern(t,this,L,Gs.FILL):s,C.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,E.canvas)),{canvas:E.canvas,offsetX:Math.round(F),offsetY:Math.round(V)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Owe[e]}setLineJoin(e){this.ctx.lineJoin=Fwe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Pr(this.suspendedCtx)),xy(this.suspendedCtx,s),Dwe(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),xy(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,c,u,h){let p=e.canvas,f=l-u,b=c-h;if(o){const _=At.makeHexColor(...o);if(f<0||b<0||f+r>p.width||b+i>p.height){const w=this.cachedCanvases.getCanvas("maskExtension",r,i),A=w.context;A.drawImage(p,-f,-b),A.globalCompositeOperation="destination-atop",A.fillStyle=_,A.fillRect(0,0,r,i),A.globalCompositeOperation="source-over",p=w.canvas,f=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(f,b,r,i),e.clip(w),e.globalCompositeOperation="destination-atop",e.fillStyle=_,e.fillRect(f,b,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(l,c,r,i),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(p,f,b,r,i,l,c,r,i),t.restore()}save(){this.inSMaskMode?(xy(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),xy(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let o=s.x,a=s.y,l,c;const u=Pr(i),h=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,p=h?r.slice(0):null;for(let f=0,b=0,y=e.length;f<y;f++)switch(e[f]|0){case bl.rectangle:o=t[b++],a=t[b++];const _=t[b++],w=t[b++],A=o+_,E=a+w;i.moveTo(o,a),_===0||w===0?i.lineTo(A,E):(i.lineTo(A,a),i.lineTo(A,E),i.lineTo(o,E)),h||s.updateRectMinMax(u,[o,a,A,E]),i.closePath();break;case bl.moveTo:o=t[b++],a=t[b++],i.moveTo(o,a),h||s.updatePathMinMax(u,o,a);break;case bl.lineTo:o=t[b++],a=t[b++],i.lineTo(o,a),h||s.updatePathMinMax(u,o,a);break;case bl.curveTo:l=o,c=a,o=t[b+4],a=t[b+5],i.bezierCurveTo(t[b],t[b+1],t[b+2],t[b+3],o,a),s.updateCurvePathMinMax(u,l,c,t[b],t[b+1],t[b+2],t[b+3],o,a,p),b+=6;break;case bl.curveTo2:l=o,c=a,i.bezierCurveTo(o,a,t[b],t[b+1],t[b+2],t[b+3]),s.updateCurvePathMinMax(u,l,c,o,a,t[b],t[b+1],t[b+2],t[b+3],p),o=t[b+2],a=t[b+3],b+=4;break;case bl.curveTo3:l=o,c=a,o=t[b+2],a=t[b+3],i.bezierCurveTo(t[b],t[b+1],o,a,o,a),s.updateCurvePathMinMax(u,l,c,t[b],t[b+1],o,a,o,a,p),b+=4;break;case bl.closePath:i.closePath();break}h&&s.updateScalingPathMinMax(u,p),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Su(t),Gs.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Su(t),Gs.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Bwe}eoClip(){this.pendingClip=UF}beginText(){this.current.textMatrix=rW,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var u;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||kI,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&on("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((u=r.systemFontInfo)==null?void 0:u.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let c=t;t<RF?c=RF:t>LF&&(c=LF),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,o){this.current.textMatrix=[e,t,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,u=l&bs.FILL_STROKE_MASK,h=!!(l&bs.ADD_TO_PATH_FLAG),p=o.patternFill&&!a.missingFile;let f;(a.disableFontFace||h||p)&&(f=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||p?(s.save(),s.translate(t,r),s.beginPath(),f(s,c),i&&s.setTransform(...i),(u===bs.FILL||u===bs.FILL_STROKE)&&s.fill(),(u===bs.STROKE||u===bs.FILL_STROKE)&&s.stroke(),s.restore()):((u===bs.FILL||u===bs.FILL_STROKE)&&s.fillText(e,t,r),(u===bs.STROKE||u===bs.FILL_STROKE)&&s.strokeText(e,t,r)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Pr(s),x:t,y:r,fontSize:c,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return wn(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,h=e.length,p=r.vertical,f=p?1:-1,b=r.defaultVMetrics,y=i*t.fontMatrix[0],_=t.textRenderingMode===bs.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(u,-1):s.scale(u,1);let w;if(t.patternFill){s.save();const V=t.fillColor.getPattern(s,this,Su(s),Gs.FILL);w=Pr(s),s.restore(),s.fillStyle=V}let A=t.lineWidth;const E=t.textMatrixScale;if(E===0||A===0){const V=t.textRenderingMode&bs.FILL_STROKE_MASK;(V===bs.STROKE||V===bs.FILL_STROKE)&&(A=this.getSinglePixelWidth())}else A/=E;if(o!==1&&(s.scale(o,o),A/=o),s.lineWidth=A,r.isInvalidPDFjsFont){const V=[];let L=0;for(const N of e)V.push(N.unicode),L+=N.width;s.fillText(V.join(""),0,0),t.x+=L*y*u,s.restore(),this.compose();return}let C=0,F;for(F=0;F<h;++F){const V=e[F];if(typeof V=="number"){C+=f*V*i/1e3;continue}let L=!1;const N=(V.isSpace?l:0)+a,I=V.fontChar,j=V.accent;let k,M,R=V.width;if(p){const ce=V.vmetric||b,de=-(V.vmetric?ce[1]:R*.5)*y,ae=ce[2]*y;R=ce?-ce[0]:R,k=de/o,M=(C+ae)/o}else k=C/o,M=0;if(r.remeasure&&R>0){const ce=s.measureText(I).width*1e3/i*o;if(R<ce&&this.isFontSubpixelAAEnabled){const de=R/ce;L=!0,s.save(),s.scale(de,1),k/=de}else R!==ce&&(k+=(R-ce)/2e3*i/o)}if(this.contentVisible&&(V.isInFont||r.missingFile)){if(_&&!j)s.fillText(I,k,M);else if(this.paintChar(I,k,M,w),j){const ce=k+i*j.offset.x/o,de=M-i*j.offset.y/o;this.paintChar(j.fontChar,ce,de,w)}}const q=p?R*y-N*c:R*y+N*c;C+=q,L&&s.restore()}p?t.y-=C:t.x+=C*u,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,u=r.textHScale*o,h=r.fontMatrix||kI,p=e.length,f=r.textRenderingMode===bs.INVISIBLE;let b,y,_,w;if(!(f||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(u,o),b=0;b<p;++b){if(y=e[b],typeof y=="number"){w=a*y*s/1e3,this.ctx.translate(w,0),r.x+=w*u;continue}const A=(y.isSpace?c:0)+l,E=i.charProcOperatorList[y.operatorListId];if(!E){on(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),t.scale(s,s),t.transform(...h),this.executeOperatorList(E),this.restore()),_=At.applyTransform([y.width,0],h)[0]*s+A,t.translate(_,0),r.x+=_*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Pr(this.ctx),s={createCanvasGraphics:o=>new pL(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new rP(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){this.ctx.strokeStyle=this.current.strokeColor=At.makeHexColor(e,t,r)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,r){this.ctx.fillStyle=this.current.fillColor=At.makeHexColor(e,t,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=Pwe(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Su(t),Gs.SHADING);const i=Su(t);if(i){const{width:s,height:o}=t.canvas,[a,l,c,u]=At.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){pr("Should not call beginInlineImage")}beginImageData(){pr("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Pr(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(Pr(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||XS("TODO: Support non-isolated groups."),e.knockout&&on("Knockout groups not supported.");const r=Pr(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=At.getAxialAlignedBoundingBox(e.bbox,Pr(t));const s=[0,0,t.canvas.width,t.canvas.height];i=At.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(u,l,c),p=h.context;p.translate(-o,-a),p.transform(...r),e.smask?this.smaskStack.push({canvas:h.canvas,context:p,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),xy(t,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Pr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=At.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(W(this,Mf,iP).call(this),O_(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,c]=At.singularValueDecompose2dScale(Pr(this.ctx)),{viewportScale:u}=this,h=Math.ceil(o*this.outputScaleX*u),p=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(h,p);const{canvas:f,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),O_(this.ctx)}else O_(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new jF(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),W(this,Mf,sP).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=jwe(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Pr(a);a.transform(t,r,i,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,h=o.length;u<h;u+=2){const p=At.transform(l,[t,r,i,s,o[u],o[u+1]]),[f,b]=At.applyTransform([0,0],p);a.drawImage(c.canvas,f,b)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=u.context;h.save();const p=this.getObject(o,s);FF(h,p),h.globalCompositeOperation="source-in",h.fillStyle=i?r.getPattern(h,this,Su(t),Gs.FILL):r,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),j_(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){on("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){on("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,u=i.length;c<u;c+=2)l.push({transform:[t,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!Rs){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;OF(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,Su(i));i.imageSmoothingEnabled=BF(Pr(i),e.interpolate),j_(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;OF(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),j_(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===UF?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Pr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/c;else{const u=l*e,h=c*e;o=u<1?1/u:1,a=h<1?1/h:1}}else{const l=Math.abs(t*s-r*i),c=Math.hypot(t,r),u=Math.hypot(i,s);if(e===0)o=u/l,a=c/l;else{const h=e*l;o=u>h?u/h:1,a=c>h?c/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,s),o.length>0){const a=Math.max(i,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Mf=new WeakSet,iP=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},sP=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let D0=pL;for(const n in bl)D0.prototype[n]!==void 0&&(D0.prototype[bl[n]]=D0.prototype[n]);var Wb,Gb;class od{static get workerPort(){return m(this,Wb)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");z(this,Wb,e)}static get workerSrc(){return m(this,Gb)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");z(this,Gb,e)}}Wb=new WeakMap,Gb=new WeakMap,K(od,Wb,null),K(od,Gb,"");const F_={UNKNOWN:0,DATA:1,ERROR:2},ai={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ko(n){switch(n instanceof Error||typeof n=="object"&&n!==null||pr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new bg(n.message);case"MissingPDFException":return new wg(n.message);case"PasswordException":return new II(n.message,n.code);case"UnexpectedResponseException":return new QS(n.message,n.status);case"UnknownErrorException":return new PI(n.message,n.details);default:return new PI(n.message,n.toString())}}var ov,Qa,VW,zW,$W,D5;class qy{constructor(e,t,r){K(this,Qa);K(this,ov,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",W(this,Qa,VW).bind(this),{signal:m(this,ov).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:ai.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Ei(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:ai.CANCEL,streamId:s,reason:Ko(c)}),u.promise}},r)}destroy(){var e;(e=m(this,ov))==null||e.abort(),z(this,ov,null)}}ov=new WeakMap,Qa=new WeakSet,VW=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){W(this,Qa,$W).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===F_.DATA)i.resolve(e.data);else if(e.callback===F_.ERROR)i.reject(Ko(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;new Promise(function(o){o(t(e.data))}).then(function(o){s.postMessage({sourceName:r,targetName:i,callback:F_.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:r,targetName:i,callback:F_.ERROR,callbackId:e.callbackId,reason:Ko(o)})});return}if(e.streamId){W(this,Qa,zW).call(this,e);return}t(e.data)},zW=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,h){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=u,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:ai.ENQUEUE,streamId:t,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:ai.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){Ei(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:ai.ERROR,streamId:t,reason:Ko(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:ai.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:ai.START_COMPLETE,streamId:t,reason:Ko(c)})})},$W=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case ai.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Ko(e.reason));break;case ai.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Ko(e.reason));break;case ai.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:ai.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=a.onPull)==null?void 0:c.call(a))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:ai.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:ai.PULL_COMPLETE,streamId:t,reason:Ko(l)})});break;case ai.ENQUEUE:if(Ei(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case ai.CLOSE:if(Ei(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),W(this,Qa,D5).call(this,o,t);break;case ai.ERROR:Ei(o,"error should have stream controller"),o.controller.error(Ko(e.reason)),W(this,Qa,D5).call(this,o,t);break;case ai.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Ko(e.reason)),W(this,Qa,D5).call(this,o,t);break;case ai.CANCEL:if(!a)break;new Promise(function(l){var c;l((c=a.onCancel)==null?void 0:c.call(a,Ko(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:ai.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:ai.CANCEL_COMPLETE,streamId:t,reason:Ko(l)})}),a.sinkCapability.reject(Ko(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},D5=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var tm,Kb;class Uwe{constructor({parsedData:e,rawData:t}){K(this,tm);K(this,Kb);z(this,tm,e),z(this,Kb,t)}getRaw(){return m(this,Kb)}get(e){return m(this,tm).get(e)??null}getAll(){return Z3(m(this,tm))}has(e){return m(this,tm).has(e)}}tm=new WeakMap,Kb=new WeakMap;const Xg=Symbol("INTERNAL");var Yb,Xb,Qb,av;class Vwe{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){K(this,Yb,!1);K(this,Xb,!1);K(this,Qb,!1);K(this,av,!0);z(this,Yb,!!(e&ia.DISPLAY)),z(this,Xb,!!(e&ia.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(m(this,Qb))return m(this,av);if(!m(this,av))return!1;const{print:e,view:t}=this.usage;return m(this,Yb)?(t==null?void 0:t.viewState)!=="OFF":m(this,Xb)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Xg&&pr("Internal method `_setVisible` called."),z(this,Qb,r),z(this,av,t)}}Yb=new WeakMap,Xb=new WeakMap,Qb=new WeakMap,av=new WeakMap;var Fh,zn,lv,cv,Jb,oP;class zwe{constructor(e,t=ia.DISPLAY){K(this,Jb);K(this,Fh,null);K(this,zn,new Map);K(this,lv,null);K(this,cv,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,z(this,cv,e.order);for(const r of e.groups)m(this,zn).set(r.id,new Vwe(t,r));if(e.baseState==="OFF")for(const r of m(this,zn).values())r._setVisible(Xg,!1);for(const r of e.on)m(this,zn).get(r)._setVisible(Xg,!0);for(const r of e.off)m(this,zn).get(r)._setVisible(Xg,!1);z(this,lv,this.getHash())}}isVisible(e){if(m(this,zn).size===0)return!0;if(!e)return XS("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,zn).has(e.id)?m(this,zn).get(e.id).visible:(on(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return W(this,Jb,oP).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!m(this,zn).has(t))return on(`Optional content group not found: ${t}`),!0;if(m(this,zn).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!m(this,zn).has(t))return on(`Optional content group not found: ${t}`),!0;if(!m(this,zn).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!m(this,zn).has(t))return on(`Optional content group not found: ${t}`),!0;if(!m(this,zn).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!m(this,zn).has(t))return on(`Optional content group not found: ${t}`),!0;if(m(this,zn).get(t).visible)return!1}return!0}return on(`Unknown optional content policy ${e.policy}.`),!0}return on(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=m(this,zn).get(e);if(!i){on(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const o of i.rbGroups)for(const a of o)a!==e&&((s=m(this,zn).get(a))==null||s._setVisible(Xg,!1,!0));i._setVisible(Xg,!!t,!0),z(this,Fh,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=m(this,zn).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}z(this,Fh,null)}get hasInitialVisibility(){return m(this,lv)===null||this.getHash()===m(this,lv)}getOrder(){return m(this,zn).size?m(this,cv)?m(this,cv).slice():[...m(this,zn).keys()]:null}getGroups(){return m(this,zn).size>0?Z3(m(this,zn)):null}getGroup(e){return m(this,zn).get(e)||null}getHash(){if(m(this,Fh)!==null)return m(this,Fh);const e=new IW;for(const[t,r]of m(this,zn))e.update(`${t}:${r.visible}`);return z(this,Fh,e.hexdigest())}}Fh=new WeakMap,zn=new WeakMap,lv=new WeakMap,cv=new WeakMap,Jb=new WeakSet,oP=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=W(this,Jb,oP).call(this,s);else if(m(this,zn).has(s))o=m(this,zn).get(s).visible;else return on(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class $we{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Ei(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Ei(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ei(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Hwe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new qwe(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class Hwe{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=nL(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class qwe{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Wwe(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=o(n),t){const u=c(t);return s(u)}if(t=r("filename","i").exec(n),t){t=t[1];let u=a(t);return u=c(u),s(u)}function r(u,h){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(u,h){if(u){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const p=new TextDecoder(u,{fatal:!0}),f=JS(h);h=p.decode(f),e=!1}catch{}}return h}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function o(u){const h=[];let p;const f=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=f.exec(u))!==null;){let[,y,_,w]=p;if(y=parseInt(y,10),y in h){if(y===0)break;continue}h[y]=[_,w]}const b=[];for(let y=0;y<h.length&&y in h;++y){let[_,w]=h[y];w=a(w),_&&(w=unescape(w),y===0&&(w=l(w))),b.push(w)}return b.join("")}function a(u){if(u.startsWith('"')){const h=u.slice(1).split('\\"');for(let p=0;p<h.length;++p){const f=h[p].indexOf('"');f!==-1&&(h[p]=h[p].slice(0,f),h.length=p+1),h[p]=h[p].replaceAll(/\\(.)/g,"$1")}u=h.join('"')}return u}function l(u){const h=u.indexOf("'");if(h===-1)return u;const p=u.slice(0,h),b=u.slice(h+1).replace(/^[^']*'/,"");return i(p,b)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,p,f,b){if(f==="q"||f==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,_){return String.fromCharCode(parseInt(_,16))}),i(p,b);try{b=atob(b)}catch{}return i(p,b)})}return""}function aL(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function lL({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function cL(n){const e=n.get("Content-Disposition");if(e){let t=Wwe(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(nL(t))return t}return null}function tC(n,e){return n===404||n===0&&e.startsWith("file:")?new wg('Missing PDF "'+e+'".'):new QS(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function HW(n){return n===200||n===206}function qW(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function WW(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(on(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class VF{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=aL(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ei(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Gwe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Kwe(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Gwe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,qW(r,this._withCredentials,this._abortController)).then(s=>{if(!HW(s.status))throw tC(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:l}=lL({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=cL(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new bg("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:WW(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class Kwe{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const o=i.url;fetch(o,qW(s,this._withCredentials,this._abortController)).then(a=>{if(!HW(a.status))throw tC(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:WW(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const cT=200,uT=206;function Ywe(n){const e=n.response;return typeof e!="string"?e:JS(e).buffer}class Xwe{constructor({url:e,httpHeaders:t,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=aL(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=uT):i.expectedStatus=cT,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var l,c,u;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const s=i.status||cT;if(!(s===cT&&r.expectedStatus===uT)&&s!==r.expectedStatus){(c=r.onError)==null||c.call(r,i.status);return}const a=Ywe(i);if(s===uT){const h=i.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);r.onDone({begin:parseInt(p[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(u=r.onError)==null||u.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Qwe{constructor(e){this._source=e,this._manager=new Xwe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ei(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Jwe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new Zwe(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Jwe{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(o=>{const[a,...l]=o.split(": ");return[a,l.join(": ")]})),{allowRangeRequests:i,suggestedLength:s}=lL({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=cL(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=tC(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Zwe{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=tC(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ebe=/^[a-z][a-z0-9\-+.]+:/i;function tbe(n){if(ebe.test(n))return new URL(n);const e=Lf.get("url");return new URL(e.pathToFileURL(n))}function GW(n,e,t){return n.protocol==="http:"?Lf.get("http").request(n,{headers:e},t):Lf.get("https").request(n,{headers:e},t)}class nbe{constructor(e){this.source=e,this.url=tbe(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=aL(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ei(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new sbe(this):new rbe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new obe(this,e,t):new ibe(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class KW{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new bg("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class YW{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class rbe extends KW{constructor(e){super(e);const t=Object.fromEntries(e.headers),r=i=>{if(i.statusCode===404){const l=new wg(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(i);const s=new Headers(this._readableStream.headers),{allowRangeRequests:o,suggestedLength:a}=lL({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=cL(s)};this._request=GW(this._url,t,r),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class ibe extends YW{constructor(e,t,r){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${t}-${r-1}`;const s=o=>{if(o.statusCode===404){const a=new wg(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(o)};this._request=GW(this._url,i,s),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class sbe extends KW{constructor(e){super(e);const t=Lf.get("fs");t.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new wg(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class obe extends YW{constructor(e,t,r){super(e);const i=Lf.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:r-1}))}}const abe=1e5,fo=30,lbe=.8;var d8,Bh,vo,Zb,e2,nm,Vu,t2,n2,rm,uv,dv,Uh,hv,r2,fv,im,i2,s2,$r,sm,om,o2,Vh,pv,Pd,XW,QW,lP,ga,M5,cP,JW,ZW;let aP=($r=class{constructor({textContentSource:e,container:t,viewport:r}){K(this,Pd);K(this,Bh,Promise.withResolvers());K(this,vo,null);K(this,Zb,!1);K(this,e2,!!((d8=globalThis.FontInspector)!=null&&d8.enabled));K(this,nm,null);K(this,Vu,null);K(this,t2,0);K(this,n2,0);K(this,rm,null);K(this,uv,null);K(this,dv,0);K(this,Uh,0);K(this,hv,Object.create(null));K(this,r2,[]);K(this,fv,null);K(this,im,[]);K(this,i2,new WeakMap);K(this,s2,null);var l;if(e instanceof ReadableStream)z(this,fv,e);else if(typeof e=="object")z(this,fv,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');z(this,vo,z(this,uv,t)),z(this,Uh,r.scale*(globalThis.devicePixelRatio||1)),z(this,dv,r.rotation),z(this,Vu,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;z(this,s2,[1,0,0,-1,-o,a+s]),z(this,n2,i),z(this,t2,s),W(l=$r,ga,JW).call(l),ng(t,r),m(this,Bh).promise.finally(()=>{m($r,pv).delete(this),z(this,Vu,null),z(this,hv,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Zs.platform;return wn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{m(this,rm).read().then(({value:t,done:r})=>{if(r){m(this,Bh).resolve();return}m(this,nm)??z(this,nm,t.lang),Object.assign(m(this,hv),t.styles),W(this,Pd,XW).call(this,t.items),e()},m(this,Bh).reject)};return z(this,rm,m(this,fv).getReader()),m($r,pv).add(this),e(),m(this,Bh).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==m(this,dv)&&(t==null||t(),z(this,dv,i),ng(m(this,uv),{rotation:i})),r!==m(this,Uh)){t==null||t(),z(this,Uh,r);const o={div:null,properties:null,ctx:W(s=$r,ga,M5).call(s,m(this,nm))};for(const a of m(this,im))o.properties=m(this,i2).get(a),o.div=a,W(this,Pd,lP).call(this,o)}}cancel(){var t;const e=new bg("TextLayer task cancelled.");(t=m(this,rm))==null||t.cancel(e).catch(()=>{}),z(this,rm,null),m(this,Bh).reject(e)}get textDivs(){return m(this,im)}get textContentItemsStr(){return m(this,r2)}static cleanup(){if(!(m(this,pv).size>0)){m(this,sm).clear();for(const{canvas:e}of m(this,om).values())e.remove();m(this,om).clear()}}},Bh=new WeakMap,vo=new WeakMap,Zb=new WeakMap,e2=new WeakMap,nm=new WeakMap,Vu=new WeakMap,t2=new WeakMap,n2=new WeakMap,rm=new WeakMap,uv=new WeakMap,dv=new WeakMap,Uh=new WeakMap,hv=new WeakMap,r2=new WeakMap,fv=new WeakMap,im=new WeakMap,i2=new WeakMap,s2=new WeakMap,sm=new WeakMap,om=new WeakMap,o2=new WeakMap,Vh=new WeakMap,pv=new WeakMap,Pd=new WeakSet,XW=function(e){var i,s;if(m(this,Zb))return;(s=m(this,Vu)).ctx??(s.ctx=W(i=$r,ga,M5).call(i,m(this,nm)));const t=m(this,im),r=m(this,r2);for(const o of e){if(t.length>abe){on("Ignoring additional textDivs for performance reasons."),z(this,Zb,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=m(this,vo);z(this,vo,document.createElement("span")),m(this,vo).classList.add("markedContent"),o.id!==null&&m(this,vo).setAttribute("id",`${o.id}`),a.append(m(this,vo))}else o.type==="endMarkedContent"&&z(this,vo,m(this,vo).parentNode);continue}r.push(o.str),W(this,Pd,QW).call(this,o)}},QW=function(e){var y;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,im).push(t);const i=At.transform(m(this,s2),e.transform);let s=Math.atan2(i[1],i[0]);const o=m(this,hv)[e.fontName];o.vertical&&(s+=Math.PI/2);let a=m(this,e2)&&o.fontSubstitution||o.fontFamily;a=$r.fontFamilyMap.get(a)||a;const l=Math.hypot(i[2],i[3]),c=l*W(y=$r,ga,ZW).call(y,a,m(this,nm));let u,h;s===0?(u=i[4],h=i[5]-c):(u=i[4]+c*Math.sin(s),h=i[5]-c*Math.cos(s));const p="calc(var(--scale-factor)*",f=t.style;m(this,vo)===m(this,uv)?(f.left=`${(100*u/m(this,n2)).toFixed(2)}%`,f.top=`${(100*h/m(this,t2)).toFixed(2)}%`):(f.left=`${p}${u.toFixed(2)}px)`,f.top=`${p}${h.toFixed(2)}px)`),f.fontSize=`${p}${(m($r,Vh)*l).toFixed(2)}px)`,f.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,m(this,e2)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),w=Math.abs(e.transform[3]);_!==w&&Math.max(_,w)/Math.min(_,w)>1.5&&(b=!0)}if(b&&(r.canvasWidth=o.vertical?e.height:e.width),m(this,i2).set(t,r),m(this,Vu).div=t,m(this,Vu).properties=r,W(this,Pd,lP).call(this,m(this,Vu)),r.hasText&&m(this,vo).append(t),r.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),m(this,vo).append(_)}},lP=function(e){var a;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let o="";if(m($r,Vh)>1&&(o=`scale(${1/m($r,Vh)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:u}=r;W(a=$r,ga,cP).call(a,i,u*m(this,Uh),l);const{width:h}=i.measureText(t.textContent);h>0&&(o=`scaleX(${c*m(this,Uh)/h}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(s.transform=o)},ga=new WeakSet,M5=function(e=null){let t=m(this,om).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,om).set(e,t),m(this,o2).set(t,{size:0,family:""})}return t},cP=function(e,t,r){const i=m(this,o2).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},JW=function(){if(m(this,Vh)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),z(this,Vh,e.getBoundingClientRect().height),e.remove()},ZW=function(e,t){const r=m(this,sm).get(e);if(r)return r;const i=W(this,ga,M5).call(this,t);i.canvas.width=i.canvas.height=fo,W(this,ga,cP).call(this,i,fo,e);const s=i.measureText("");let o=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);if(o){const u=o/(o+a);return m(this,sm).set(e,u),i.canvas.width=i.canvas.height=0,u}i.strokeStyle="red",i.clearRect(0,0,fo,fo),i.strokeText("g",0,0);let l=i.getImageData(0,0,fo,fo).data;a=0;for(let u=l.length-1-3;u>=0;u-=4)if(l[u]>0){a=Math.ceil(u/4/fo);break}i.clearRect(0,0,fo,fo),i.strokeText("A",0,fo),l=i.getImageData(0,0,fo,fo).data,o=0;for(let u=0,h=l.length;u<h;u+=4)if(l[u]>0){o=fo-Math.floor(u/4/fo);break}i.canvas.width=i.canvas.height=0;const c=o?o/(o+a):lbe;return m(this,sm).set(e,c),c},K($r,ga),K($r,sm,new Map),K($r,om,new Map),K($r,o2,new WeakMap),K($r,Vh,null),K($r,pv,new Set),$r);class _b{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(_b.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const cbe=65536,ube=100,dbe=5e3,hbe=Rs?Ewe:xwe,fbe=Rs?Swe:MW,pbe=Rs?Awe:_we,mbe=Rs?Cwe:BW;function gbe(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new uP,{docId:t}=e,r=n.url?vbe(n.url):null,i=n.data?ybe(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof eG?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:cbe;let u=n.worker instanceof M0?n.worker:null;const h=n.verbosity,p=typeof n.docBaseUrl=="string"&&!eC(n.docBaseUrl)?n.docBaseUrl:null,f=typeof n.cMapUrl=="string"?n.cMapUrl:null,b=n.cMapPacked!==!1,y=n.CMapReaderFactory||fbe,_=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,w=n.StandardFontDataFactory||mbe,A=n.stopAtErrors!==!0,E=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,C=n.isEvalSupported!==!1,F=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Rs,V=typeof n.isChrome=="boolean"?n.isChrome:!Zs.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),L=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,N=typeof n.disableFontFace=="boolean"?n.disableFontFace:Rs,I=n.fontExtraProperties===!0,j=n.enableXfa===!0,k=n.ownerDocument||globalThis.document,M=n.disableRange===!0,R=n.disableStream===!0,q=n.disableAutoFetch===!0,ce=n.pdfBug===!0,de=n.CanvasFactory||hbe,ae=n.FilterFactory||pbe,Q=n.enableHWA===!0,ne=l?l.length:n.length??NaN,ge=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Rs&&!N,pe=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:y===MW&&w===BW&&f&&_&&Fy(f,document.baseURI)&&Fy(_,document.baseURI);n.canvasFactory&&kF("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&kF("`filterFactory`-instance option, please use `FilterFactory` instead.");const U=null;Jye(h);const X={canvasFactory:new de({ownerDocument:k,enableHWA:Q}),filterFactory:new ae({docId:t,ownerDocument:k}),cMapReaderFactory:pe?null:new y({baseUrl:f,isCompressed:b}),standardFontDataFactory:pe?null:new w({baseUrl:_})};if(!u){const he={verbosity:h,port:od.workerPort};u=he.port?M0.fromPort(he):new M0(he),e._worker=u}const re={docId:t,apiVersion:"4.8.69",data:i,password:a,disableAutoFetch:q,rangeChunkSize:c,length:ne,docBaseUrl:p,enableXfa:j,evaluatorOptions:{maxImageSize:E,disableFontFace:N,ignoreErrors:A,isEvalSupported:C,isOffscreenCanvasSupported:F,isChrome:V,canvasMaxAreaInBytes:L,fontExtraProperties:I,useSystemFonts:ge,cMapUrl:pe?f:null,standardFontDataUrl:pe?_:null}},le={disableFontFace:N,fontExtraProperties:I,ownerDocument:k,pdfBug:ce,styleElement:U,loadingParams:{disableAutoFetch:q,enableXfa:j}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const he=u.messageHandler.sendWithPromise("GetDocRequest",re,i?[i.buffer]:null);let ue;if(l)ue=new $we(l,{disableRange:M,disableStream:R});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");let _e;Rs?_e=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Fy(r)?VF:nbe:_e=Fy(r)?VF:Qwe,ue=new _e({url:r,length:ne,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:M,disableStream:R})}return he.then(_e=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const xe=new qy(t,_e,u.port),Ae=new _be(xe,e,ue,le,X);e._transport=Ae,xe.send("Ready",null)})}).catch(e._capability.reject),e}function vbe(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Rs&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function ybe(n){if(Rs&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return JS(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function zF(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var SE;const CE=class CE{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ii(CE,SE)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};SE=new WeakMap,K(CE,SE,0);let uP=CE,eG=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){pr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class wbe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return wn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var zh,zu,Wa,Qg,j5;class bbe{constructor(e,t,r,i=!1){K(this,Wa);K(this,zh,null);K(this,zu,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new TF:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new tG,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new _x({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return wn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=xh.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:h=!1}){var C,F;(C=this._stats)==null||C.time("Overall");const p=this._transport.getRenderingIntent(r,i,u,h),{renderingIntent:f,cacheKey:b}=p;z(this,zu,!1),W(this,Wa,j5).call(this),a||(a=this._transport.getOptionalContentConfig(f));let y=this._intentStates.get(b);y||(y=Object.create(null),this._intentStates.set(b,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const _=!!(f&ia.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(p));const w=V=>{var L;y.renderTasks.delete(A),(this._maybeCleanupAfterRender||_)&&z(this,zu,!0),W(this,Wa,Qg).call(this,!_),V?(A.capability.reject(V),this._abortOperatorList({intentState:y,reason:V instanceof Error?V:new Error(V)})):A.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(L=globalThis.Stats)!=null&&L.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},A=new hP({callback:w,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:c});(y.renderTasks||(y.renderTasks=new Set)).add(A);const E=A.task;return Promise.all([y.displayReadyCapability.promise,a]).then(([V,L])=>{var N;if(this.destroyed){w();return}if((N=this._stats)==null||N.time("Rendering"),!(L.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");A.initializeGraphics({transparency:V,optionalContentConfig:L}),A.operatorListChanged()}).catch(w),E}getOperatorList({intent:e="display",annotationMode:t=xh.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,r,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>_b.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),z(this,zu,!1),W(this,Wa,j5).call(this),Promise.all(e)}cleanup(e=!1){z(this,zu,!0);const t=W(this,Wa,Qg).call(this,!1);return e&&t&&this._stats&&(this._stats=new TF),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&W(this,Wa,Qg).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:o}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},o).getReader(),c=this._intentStates.get(t);c.streamReader=l;const u=()=>{l.read().then(({value:h,done:p})=>{if(p){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),u())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const p of c.renderTasks)p.operatorListChanged();W(this,Wa,Qg).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};u()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof tL){let i=ube;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new bg(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}zh=new WeakMap,zu=new WeakMap,Wa=new WeakSet,Qg=function(e=!1){if(W(this,Wa,j5).call(this),!m(this,zu)||this.destroyed)return!1;if(e)return z(this,zh,setTimeout(()=>{z(this,zh,null),W(this,Wa,Qg).call(this,!1)},dbe)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),z(this,zu,!1),!0},j5=function(){m(this,zh)&&(clearTimeout(m(this,zh)),z(this,zh,null))};var $u,NE;class xbe{constructor(){K(this,$u,new Map);K(this,NE,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};m(this,NE).then(()=>{for(const[i]of m(this,$u))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){on("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}m(this,$u).set(t,i)}removeEventListener(e,t){const r=m(this,$u).get(t);r==null||r(),m(this,$u).delete(t)}terminate(){for(const[,e]of m(this,$u))e==null||e();m(this,$u).clear()}}$u=new WeakMap,NE=new WeakMap;var TE,am,lm,mv,O5,gv,F5;const xr=class xr{constructor({name:e=null,port:t=null,verbosity:r=Zye()}={}){K(this,mv);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=m(xr,lm))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(m(xr,lm)||z(xr,lm,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Rs?Promise.all([Lf.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new qy("main","worker",e),this._messageHandler.on("ready",function(){}),W(this,mv,O5).call(this)}_initialize(){if(m(xr,am)||m(xr,gv,F5)){this._setupFakeWorker();return}let{workerSrc:e}=xr;try{xr._isSameOrigin(window.location.href,e)||(e=xr._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new qy("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,W(this,mv,O5).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{XS("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){m(xr,am)||(on("Setting up fake worker."),z(xr,am,!0)),xr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new xbe;this._port=t;const r=`fake${Ii(xr,TE)._++}`,i=new qy(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new qy(r,r+"_worker",t),W(this,mv,O5).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=m(xr,lm))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=m(this,lm))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new xr(e)}static get workerSrc(){if(od.workerSrc)return od.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return wn(this,"_setupFakeWorkerGlobal",(async()=>m(this,gv,F5)?m(this,gv,F5):(await import(this.workerSrc)).WorkerMessageHandler)())}};TE=new WeakMap,am=new WeakMap,lm=new WeakMap,mv=new WeakSet,O5=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},gv=new WeakSet,F5=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},K(xr,gv),K(xr,TE,0),K(xr,am,!1),K(xr,lm),Rs&&(z(xr,am,!0),od.workerSrc||(od.workerSrc="./pdf.worker.mjs")),xr._isSameOrigin=(e,t)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const i=new URL(t,r);return r.origin===i.origin},xr._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let M0=xr;var Hu,kc,vv,yv,Ic,cm,Wy;class _be{constructor(e,t,r,i,s){K(this,cm);K(this,Hu,new Map);K(this,kc,new Map);K(this,vv,new Map);K(this,yv,new Map);K(this,Ic,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new tG,this.fontLoader=new wwe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return wn(this,"annotationStorage",new sL)}getRenderingIntent(e,t=xh.ENABLE,r=null,i=!1,s=!1){let o=ia.DISPLAY,a=JI;switch(e){case"any":o=ia.ANY;break;case"display":break;case"print":o=ia.PRINT;break;default:on(`getRenderingIntent - invalid intent: ${e}`)}const l=o&ia.PRINT&&r instanceof RW?r:this.annotationStorage;switch(t){case xh.DISABLE:o+=ia.ANNOTATIONS_DISABLE;break;case xh.ENABLE:break;case xh.ENABLE_FORMS:o+=ia.ANNOTATIONS_FORMS;break;case xh.ENABLE_STORAGE:o+=ia.ANNOTATIONS_STORAGE,a=l.serializable;break;default:on(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=ia.IS_EDITING),s&&(o+=ia.OPLIST);const{ids:c,hash:u}=l.modifiedIds,h=[o,a.hash,u];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=m(this,Ic))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,kc).values())e.push(i._destroy());m(this,kc).clear(),m(this,vv).clear(),m(this,yv).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),m(this,Hu).clear(),this.filterFactory.destroy(),aP.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new bg("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{Ei(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}Ei(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:o}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(r,i)=>{Ei(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}Ei(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new wbe(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new II(r.message,r.code);break;case"InvalidPDFException":i=new iW(r.message);break;case"MissingPDFException":i=new wg(r.message);break;case"UnexpectedResponseException":i=new QS(r.message,r.status);break;case"UnknownErrorException":i=new PI(r.message,r.details);break;default:pr("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(z(this,Ic,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?m(this,Ic).reject(s):m(this,Ic).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){m(this,Ic).reject(s)}}else m(this,Ic).reject(new II(r.message,r.code));return m(this,Ic).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;m(this,kc).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in s){const f=s.error;on(`Error during font loading: ${f}`),this.commonObjs.resolve(r,f);break}const u=c&&((o=globalThis.FontInspector)!=null&&o.enabled)?(f,b)=>globalThis.FontInspector.fontAdded(f,b):null,h=new bwe(s,{disableFontFace:a,inspectFont:u});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:p}=s;Ei(p,"The imageRef must be defined.");for(const f of m(this,kc).values())for(const[,b]of f.objs)if((b==null?void 0:b.ref)===p)return b.dataLen?(this.commonObjs.resolve(r,structuredClone(b)),b.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=m(this,kc).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(r,o),(o==null?void 0:o.dataLen)>Kye&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&on("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=m(this,vv).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&m(this,yv).set(s.refStr,e);const o=new bbe(t,s,this,this._params.pdfBug);return m(this,kc).set(t,o),o});return m(this,vv).set(t,i),i}getPageIndex(e){return zF(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return W(this,cm,Wy).call(this,"GetFieldObjects")}hasJSActions(){return W(this,cm,Wy).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return W(this,cm,Wy).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return W(this,cm,Wy).call(this,"GetOptionalContentConfig").then(t=>new zwe(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=m(this,Hu).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new Uwe(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return m(this,Hu).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of m(this,kc).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,Hu).clear(),this.filterFactory.destroy(!0),aP.cleanup()}}cachedPageNumber(e){if(!zF(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,yv).get(t)??null}}Hu=new WeakMap,kc=new WeakMap,vv=new WeakMap,yv=new WeakMap,Ic=new WeakMap,cm=new WeakSet,Wy=function(e,t=null){const r=m(this,Hu).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return m(this,Hu).set(e,i),i};const B_=Symbol("INITIAL_DATA");var Tl,a2,dP;class tG{constructor(){K(this,a2);K(this,Tl,Object.create(null))}get(e,t=null){if(t){const i=W(this,a2,dP).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=m(this,Tl)[e];if(!r||r.data===B_)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=m(this,Tl)[e];return!!t&&t.data!==B_}resolve(e,t=null){const r=W(this,a2,dP).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in m(this,Tl)){const{data:r}=m(this,Tl)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}z(this,Tl,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,Tl)){const{data:t}=m(this,Tl)[e];t!==B_&&(yield[e,t])}}}Tl=new WeakMap,a2=new WeakSet,dP=function(e){var t;return(t=m(this,Tl))[e]||(t[e]={...Promise.withResolvers(),data:B_})};var $h;class Abe{constructor(e){K(this,$h,null);z(this,$h,e),this.onContinue=null}get promise(){return m(this,$h).capability.promise}cancel(e=0){m(this,$h).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,$h).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=m(this,$h);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}$h=new WeakMap;var Hh,um;const bp=class bp{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:p=null}){K(this,Hh,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Abe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(m(bp,um).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(bp,um).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new D0(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),m(this,Hh)&&(window.cancelAnimationFrame(m(this,Hh)),z(this,Hh,null)),m(bp,um).delete(this._canvas),this.callback(e||new tL(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?z(this,Hh,window.requestAnimationFrame(()=>{z(this,Hh,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(bp,um).delete(this._canvas),this.callback())))}};Hh=new WeakMap,um=new WeakMap,K(bp,um,new WeakSet);let hP=bp;const Ebe="4.8.69",Sbe="3634dab10";function $F(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function _y(n){return Math.max(0,Math.min(255,255*n))}class HF{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=_y(e),[e,e,e]}static G_HTML([e]){const t=$F(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(_y)}static RGB_HTML(e){return`#${e.map($F).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[_y(1-Math.min(1,e+i)),_y(1-Math.min(1,r+i)),_y(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class Cbe{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){pr("Abstract method `_createSVG` called.")}}class uL extends Cbe{_createSVG(e){return document.createElementNS(Nu,e)}}class nG{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var h,p;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=f}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const f=document.createTextNode(i.value);o.append(f),a&&_b.shouldBuildText(i.name)&&c.push(f)}return{textDivs:c}}const u=[[i,-1,o]];for(;u.length>0;){const[f,b,y]=u.at(-1);if(b+1===f.children.length){u.pop();continue}const _=f.children[++u.at(-1)[1]];if(_===null)continue;const{name:w}=_;if(w==="#text"){const E=document.createTextNode(_.value);c.push(E),y.append(E);continue}const A=(h=_==null?void 0:_.attributes)!=null&&h.xmlns?document.createElementNS(_.attributes.xmlns,w):document.createElement(w);if(y.append(A),_.attributes&&this.setAttributes({html:A,element:_,storage:t,intent:s,linkService:r}),((p=_.children)==null?void 0:p.length)>0)u.push([_,-1,A]);else if(_.value){const E=document.createTextNode(_.value);a&&_b.shouldBuildText(w)&&c.push(E),A.append(E)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ex=1e3,Nbe=9,ig=new WeakSet;function gd(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class Tbe{static create(e){switch(e.data.annotationType){case wi.LINK:return new rG(e);case wi.TEXT:return new kbe(e);case wi.WIDGET:switch(e.data.fieldType){case"Tx":return new Ibe(e);case"Btn":return e.data.radioButton?new oG(e):e.data.checkBox?new Rbe(e):new Lbe(e);case"Ch":return new Dbe(e);case"Sig":return new Pbe(e)}return new xg(e);case wi.POPUP:return new pP(e);case wi.FREETEXT:return new dG(e);case wi.LINE:return new jbe(e);case wi.SQUARE:return new Obe(e);case wi.CIRCLE:return new Fbe(e);case wi.POLYLINE:return new hG(e);case wi.CARET:return new Ube(e);case wi.INK:return new dL(e);case wi.POLYGON:return new Bbe(e);case wi.HIGHLIGHT:return new fG(e);case wi.UNDERLINE:return new Vbe(e);case wi.SQUIGGLY:return new zbe(e);case wi.STRIKEOUT:return new $be(e);case wi.STAMP:return new pG(e);case wi.FILEATTACHMENT:return new Hbe(e);default:return new ii(e)}}}var dm,wv,bv,l2,fP;const mL=class mL{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){K(this,l2);K(this,dm,null);K(this,wv,!1);K(this,bv,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return mL._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;m(this,dm)||z(this,dm,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&W(this,l2,fP).call(this,t),(r=m(this,bv))==null||r.popup.updateEdited(e)}resetEdited(){var e;m(this,dm)&&(W(this,l2,fP).call(this,m(this,dm).rect),(e=m(this,bv))==null||e.popup.resetEdited(),z(this,dm,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof xg||(s.tabIndex=Ex);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof pP){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:a,height:l}=gd(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(y>0||_>0){const A=`calc(${y}px * var(--scale-factor)) / calc(${_}px * var(--scale-factor))`;o.borderRadius=A}else if(this instanceof oG){const A=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=A}switch(t.borderStyle.style){case by.SOLID:o.borderStyle="solid";break;case by.DASHED:o.borderStyle="dashed";break;case by.BEVELED:on("Unimplemented border style: beveled");break;case by.INSET:on("Unimplemented border style: inset");break;case by.UNDERLINE:o.borderBottomStyle="solid";break}const w=t.borderColor||null;w?(z(this,wv,!0),o.borderColor=At.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):o.borderWidth=0}const c=At.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:h,pageX:p,pageY:f}=i.rawDims;o.left=`${100*(c[0]-p)/u}%`,o.top=`${100*(c[1]-f)/h}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(o.width=`${100*a/u}%`,o.height=`${100*l/h}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=gd(this.data.rect);let a,l;e%180===0?(a=100*s/r,l=100*o/i):(a=100*o/r,l=100*s/i),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=HF[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:HF[`${o}_rgb`](a)})};return wn(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,_,w,A]=e.subarray(2,6);if(i===y&&s===_&&t===w&&r===A)return}const{style:o}=this.container;let a;if(m(this,wv)){const{borderColor:y,borderWidth:_}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-r,{svgFactory:u}=this,h=u.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const p=u.createElement("defs");h.append(p);const f=u.createElement("clipPath"),b=`clippath_${this.data.id}`;f.setAttribute("id",b),f.setAttribute("clipPathUnits","objectBoundingBox"),p.append(f);for(let y=2,_=e.length;y<_;y+=8){const w=e[y],A=e[y+1],E=e[y+2],C=e[y+3],F=u.createElement("rect"),V=(E-t)/l,L=(s-A)/c,N=(w-E)/l,I=(A-C)/c;F.setAttribute("x",V),F.setAttribute("y",L),F.setAttribute("width",N),F.setAttribute("height",I),f.append(F),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${V}" y="${L}" width="${N}" height="${I}"/>`)}m(this,wv)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${b})`}_createPopup(){const{data:e}=this,t=z(this,bv,new pP({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){pr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!ig.has(c)){on(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&ig.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};dm=new WeakMap,wv=new WeakMap,bv=new WeakMap,l2=new WeakSet,fP=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:c,height:u}=gd(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*c/s}%`,t.height=`${100*u/o}%`):this.setRotation(i)};let ii=mL;var aa,dp,iG,sG;class rG extends ii{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});K(this,aa);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(W(this,aa,iG).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(W(this,aa,sG).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&W(this,aa,dp).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),W(this,aa,dp).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),W(this,aa,dp).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),W(this,aa,dp).call(this),!this._fieldObjects){on('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const p=new Set(o);for(const f of s){const b=this._fieldObjects[f]||[];for(const{id:y}of b)p.add(y)}for(const f of Object.values(this._fieldObjects))for(const b of f)p.has(b.id)===a&&l.push(b)}else for(const p of Object.values(this._fieldObjects))l.push(...p);const c=this.annotationStorage,u=[];for(const p of l){const{id:f}=p;switch(u.push(f),p.type){case"text":{const y=p.defaultValue||"";c.setValue(f,{value:y});break}case"checkbox":case"radiobutton":{const y=p.defaultValue===p.exportValues;c.setValue(f,{value:y});break}case"combobox":case"listbox":{const y=p.defaultValue||"";c.setValue(f,{value:y});break}default:continue}const b=document.querySelector(`[data-element-id="${f}"]`);if(b){if(!ig.has(b)){on(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}aa=new WeakSet,dp=function(){this.container.setAttribute("data-internal-link","")},iG=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},W(this,aa,dp).call(this)},sG=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),W(this,aa,dp).call(this)};class kbe extends ii{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class xg extends ii{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Zs.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":At.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Nbe,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(sT*i))||1,h=c/u;o=Math.min(i,l(h/sT))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/sT))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=At.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Ibe extends xg{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",c??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),ig.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Ex,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",p=>{e.setValue(t,{value:p.target.value}),this.setPropertyOnSiblings(r,"value",p.target.value,"value"),u.formattedValue=null}),r.addEventListener("resetform",p=>{const f=this.data.defaultFieldValue??"";r.value=u.userValue=f,u.formattedValue=null});let h=p=>{const{formattedValue:f}=u;f!=null&&(p.target.value=f),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",f=>{var y;if(u.focused)return;const{target:b}=f;u.userValue&&(b.value=u.userValue),u.lastCommittedValue=b.value,u.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(u.focused=!0)}),r.addEventListener("updatefromsandbox",f=>{this.showElementAndHideCanvas(f.target);const b={value(y){u.userValue=y.detail.value??"",e.setValue(t,{value:u.userValue.toString()}),y.target.value=u.userValue},formattedValue(y){const{formattedValue:_}=y.detail;u.formattedValue=_,_!=null&&y.target!==document.activeElement&&(y.target.value=_),e.setValue(t,{formattedValue:_})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var E;const{charLimit:_}=y.detail,{target:w}=y;if(_===0){w.removeAttribute("maxLength");return}w.setAttribute("maxLength",_);let A=u.userValue;!A||A.length<=_||(A=A.slice(0,_),w.value=u.userValue=A,e.setValue(t,{value:A}),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:1,selStart:w.selectionStart,selEnd:w.selectionEnd}}))}};this._dispatchEventFromSandbox(b,f)}),r.addEventListener("keydown",f=>{var _;u.commitKey=1;let b=-1;if(f.key==="Escape"?b=0:f.key==="Enter"&&!this.data.multiLine?b=2:f.key==="Tab"&&(u.commitKey=3),b===-1)return;const{value:y}=f.target;u.lastCommittedValue!==y&&(u.lastCommittedValue=y,u.userValue=y,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:b,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}))});const p=h;h=null,r.addEventListener("blur",f=>{var y,_;if(!u.focused||!f.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(u.focused=!1);const{value:b}=f.target;u.userValue=b,u.lastCommittedValue!==b&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:u.commitKey,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}})),p(f)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",f=>{var F;u.lastCommittedValue=null;const{data:b,target:y}=f,{value:_,selectionStart:w,selectionEnd:A}=y;let E=w,C=A;switch(f.inputType){case"deleteWordBackward":{const V=_.substring(0,w).match(/\w*[^\w]*$/);V&&(E-=V[0].length);break}case"deleteWordForward":{const V=_.substring(w).match(/^[^\w]*\w*/);V&&(C+=V[0].length);break}case"deleteContentBackward":w===A&&(E-=1);break;case"deleteContentForward":w===A&&(C+=1);break}f.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:b||"",willCommit:!1,selStart:E,selEnd:C}})}),this._setEventListeners(r,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.value)}if(h&&r.addEventListener("blur",h),this.data.comb){const f=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${f}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Pbe extends xg{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Rbe extends xg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return ig.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Ex,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class oG extends xg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(ig.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Ex,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const p=u&&h.id===r;h.domElement&&(h.domElement.checked=p),e.setValue(h.id,{value:p})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Lbe extends rG{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class Dbe extends xg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");ig.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Ex;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const h=this.data.defaultFieldValue;for(const p of i.options)p.selected=p.value===h});for(const u of this.data.options){const h=document.createElement("option");h.textContent=u.displayValue,h.value=u.exportValue,r.value.includes(u.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),o=()=>{u.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=u=>{const h=u?"value":"textContent",{options:p,multiple:f}=i;return f?Array.prototype.filter.call(p,b=>b.selected).map(b=>b[h]):p.selectedIndex===-1?null:p[p.selectedIndex][h]};let l=a(!1);const c=u=>{const h=u.target.options;return Array.prototype.map.call(h,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const h={value(p){o==null||o();const f=p.detail.value,b=new Set(Array.isArray(f)?f:[f]);for(const y of i.options)y.selected=b.has(y.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(p){i.multiple=!0},remove(p){const f=i.options,b=p.detail.remove;f[b].selected=!1,i.remove(b),f.length>0&&Array.prototype.findIndex.call(f,_=>_.selected)===-1&&(f[0].selected=!0),e.setValue(t,{value:a(!0),items:c(p)}),l=a(!1)},clear(p){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(p){const{index:f,displayValue:b,exportValue:y}=p.detail.insert,_=i.children[f],w=document.createElement("option");w.textContent=b,w.value=y,_?_.before(w):i.append(w),e.setValue(t,{value:a(!0),items:c(p)}),l=a(!1)},items(p){const{items:f}=p.detail;for(;i.length!==0;)i.remove(0);for(const b of f){const{displayValue:y,exportValue:_}=b,w=document.createElement("option");w.textContent=y,w.value=_,i.append(w)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(p)}),l=a(!1)},indices(p){const f=new Set(p.detail.indices);for(const b of p.target.options)b.selected=f.has(b.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(h,u)}),i.addEventListener("input",u=>{var f;const h=a(!0),p=a(!1);e.setValue(t,{value:h}),u.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:p,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class pP extends ii{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:ii._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Mbe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${eL}${r}`).join(",")),this.container}}var xv,kE,IE,_v,hm,Vr,qu,Av,c2,u2,Ev,Wu,kl,Gu,d2,Ku,h2,fm,pm,Yn,B5,mP,aG,lG,cG,uG,U5,V5,gP;class Mbe{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:h}){K(this,Yn);K(this,xv,W(this,Yn,cG).bind(this));K(this,kE,W(this,Yn,gP).bind(this));K(this,IE,W(this,Yn,V5).bind(this));K(this,_v,W(this,Yn,U5).bind(this));K(this,hm,null);K(this,Vr,null);K(this,qu,null);K(this,Av,null);K(this,c2,null);K(this,u2,null);K(this,Ev,null);K(this,Wu,!1);K(this,kl,null);K(this,Gu,null);K(this,d2,null);K(this,Ku,null);K(this,h2,null);K(this,fm,null);K(this,pm,!1);var p;z(this,Vr,e),z(this,h2,i),z(this,qu,o),z(this,Ku,a),z(this,u2,l),z(this,hm,t),z(this,d2,c),z(this,Ev,u),z(this,c2,r),z(this,Av,rL.toDateObject(s)),this.trigger=r.flatMap(f=>f.getElementsToTriggerPopup());for(const f of this.trigger)f.addEventListener("click",m(this,_v)),f.addEventListener("mouseenter",m(this,IE)),f.addEventListener("mouseleave",m(this,kE)),f.classList.add("popupTriggerArea");for(const f of r)(p=f.container)==null||p.addEventListener("keydown",m(this,xv));m(this,Vr).hidden=!0,h&&W(this,Yn,U5).call(this)}render(){if(m(this,kl))return;const e=z(this,kl,document.createElement("div"));if(e.className="popup",m(this,hm)){const s=e.style.outlineColor=At.makeHexColor(...m(this,hm));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=At.makeHexColor(...m(this,hm).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=m(this,h2),e.append(t),m(this,Av)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:m(this,Av).valueOf()})),t.append(s)}const i=m(this,Yn,B5);if(i)nG.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(m(this,qu));e.append(s)}m(this,Vr).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;m(this,fm)||z(this,fm,{contentsObj:m(this,qu),richText:m(this,Ku)}),e&&z(this,Gu,null),t&&(z(this,Ku,W(this,Yn,lG).call(this,t)),z(this,qu,null)),(r=m(this,kl))==null||r.remove(),z(this,kl,null)}resetEdited(){var e;m(this,fm)&&({contentsObj:Ii(this,qu)._,richText:Ii(this,Ku)._}=m(this,fm),z(this,fm,null),(e=m(this,kl))==null||e.remove(),z(this,kl,null),z(this,Gu,null))}forceHide(){z(this,pm,this.isVisible),m(this,pm)&&(m(this,Vr).hidden=!0)}maybeShow(){m(this,pm)&&(m(this,kl)||W(this,Yn,V5).call(this),z(this,pm,!1),m(this,Vr).hidden=!1)}get isVisible(){return m(this,Vr).hidden===!1}}xv=new WeakMap,kE=new WeakMap,IE=new WeakMap,_v=new WeakMap,hm=new WeakMap,Vr=new WeakMap,qu=new WeakMap,Av=new WeakMap,c2=new WeakMap,u2=new WeakMap,Ev=new WeakMap,Wu=new WeakMap,kl=new WeakMap,Gu=new WeakMap,d2=new WeakMap,Ku=new WeakMap,h2=new WeakMap,fm=new WeakMap,pm=new WeakMap,Yn=new WeakSet,B5=function(){const e=m(this,Ku),t=m(this,qu);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&m(this,Ku).html||null},mP=function(){var e,t,r;return((r=(t=(e=m(this,Yn,B5))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},aG=function(){var e,t,r;return((r=(t=(e=m(this,Yn,B5))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},lG=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:m(this,Yn,aG),fontSize:m(this,Yn,mP)?`calc(${m(this,Yn,mP)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},cG=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,Wu))&&W(this,Yn,U5).call(this)},uG=function(){if(m(this,Gu)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=m(this,u2);let o=!!m(this,Ev),a=o?m(this,Ev):m(this,d2);for(const b of m(this,c2))if(!a||At.intersect(b.data.rect,a)!==null){a=b.data.rect,o=!0;break}const l=At.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),u=o?a[2]-a[0]+5:0,h=l[0]+u,p=l[1];z(this,Gu,[100*(h-i)/t,100*(p-s)/r]);const{style:f}=m(this,Vr);f.left=`${m(this,Gu)[0]}%`,f.top=`${m(this,Gu)[1]}%`},U5=function(){z(this,Wu,!m(this,Wu)),m(this,Wu)?(W(this,Yn,V5).call(this),m(this,Vr).addEventListener("click",m(this,_v)),m(this,Vr).addEventListener("keydown",m(this,xv))):(W(this,Yn,gP).call(this),m(this,Vr).removeEventListener("click",m(this,_v)),m(this,Vr).removeEventListener("keydown",m(this,xv)))},V5=function(){m(this,kl)||this.render(),this.isVisible?m(this,Wu)&&m(this,Vr).classList.add("focused"):(W(this,Yn,uG).call(this),m(this,Vr).hidden=!1,m(this,Vr).style.zIndex=parseInt(m(this,Vr).style.zIndex)+1e3)},gP=function(){m(this,Vr).classList.remove("focused"),!(m(this,Wu)||!this.isVisible)&&(m(this,Vr).hidden=!0,m(this,Vr).style.zIndex=parseInt(m(this,Vr).style.zIndex)-1e3)};class dG extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=tn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var f2;class jbe extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});K(this,f2,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=gd(t.rect),s=this.svgFactory.create(r,i,!0),o=z(this,f2,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,f2)}addHighlightArea(){this.container.classList.add("highlightArea")}}f2=new WeakMap;var p2;class Obe extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});K(this,p2,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=gd(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=z(this,p2,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,p2)}addHighlightArea(){this.container.classList.add("highlightArea")}}p2=new WeakMap;var m2;class Fbe extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});K(this,m2,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=gd(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=z(this,m2,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,m2)}addHighlightArea(){this.container.classList.add("highlightArea")}}m2=new WeakMap;var g2;class hG extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});K(this,g2,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:o,height:a}=gd(t),l=this.svgFactory.create(o,a,!0);let c=[];for(let h=0,p=r.length;h<p;h+=2){const f=r[h]-t[0],b=t[3]-r[h+1];c.push(`${f},${b}`)}c=c.join(" ");const u=z(this,g2,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,g2)}addHighlightArea(){this.container.classList.add("highlightArea")}}g2=new WeakMap;class Bbe extends hG{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ube extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var v2;class dL extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});K(this,v2,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?tn.HIGHLIGHT:tn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:r,borderStyle:i,popupRef:s}}=this,{width:o,height:a}=gd(t),l=this.svgFactory.create(o,a,!0);for(const c of r){let u=[];for(let p=0,f=c.length;p<f;p+=2){const b=c[p]-t[0],y=t[3]-c[p+1];u.push(`${b},${y}`)}u=u.join(" ");const h=this.svgFactory.createElement(this.svgElementName);m(this,v2).push(h),h.setAttribute("points",u),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return m(this,v2)}addHighlightArea(){this.container.classList.add("highlightArea")}}v2=new WeakMap;class fG extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=tn.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class Vbe extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class zbe extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class $be extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class pG extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=tn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var y2,w2,vP;class Hbe extends ii{constructor(t){var i;super(t,{isRenderable:!0});K(this,w2);K(this,y2,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",W(this,w2,vP).bind(this)),z(this,y2,i);const{isMac:s}=Zs.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&W(this,w2,vP).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return m(this,y2)}addHighlightArea(){this.container.classList.add("highlightArea")}}y2=new WeakMap,w2=new WeakSet,vP=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var b2,mm,gm,x2,og,mG,yP,h8;let qbe=(h8=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o,structTreeLayer:a}){K(this,og);K(this,b2,null);K(this,mm,null);K(this,gm,new Map);K(this,x2,null);this.div=e,z(this,b2,t),z(this,mm,r),z(this,x2,a||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return m(this,gm).size>0}async render(e){var o;const{annotations:t}=e,r=this.div;ng(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new uL,annotationStorage:e.annotationStorage||new sL,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===wi.POPUP;if(l){const h=i.get(a.id);if(!h)continue;s.elements=h}else{const{width:h,height:p}=gd(a.rect);if(h<=0||p<=0)continue}s.data=a;const c=Tbe.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const h=i.get(a.popupRef);h?h.push(c):i.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),await W(this,og,mG).call(this,u,a.id),c._isEditable&&(m(this,gm).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}W(this,og,yP).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,ng(t,{rotation:e.rotation}),W(this,og,yP).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(m(this,gm).values())}getEditableAnnotation(e){return m(this,gm).get(e)}},b2=new WeakMap,mm=new WeakMap,gm=new WeakMap,x2=new WeakMap,og=new WeakSet,mG=async function(e,t){var o,a;const r=e.firstChild||e,i=r.id=`${eL}${t}`,s=await((o=m(this,x2))==null?void 0:o.getAriaAttributes(i));if(s)for(const[l,c]of s)r.setAttribute(l,c);this.div.append(e),(a=m(this,b2))==null||a.moveElementInDOM(this.div,e,r,!1)},yP=function(){if(!m(this,mm))return;const e=this.div;for(const[t,r]of m(this,mm)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}m(this,mm).clear()},h8);const U_=/\r\n?|\n/g;var Il,Jo,_2,vm,Zo,fi,gG,vG,yG,z5,yd,$5,H5,wG,bP,bG;const or=class or extends $n{constructor(t){super({...t,name:"freeTextEditor"});K(this,fi);K(this,Il);K(this,Jo,"");K(this,_2,`${this.id}-editor`);K(this,vm,null);K(this,Zo);z(this,Il,t.color||or._defaultColor||$n._defaultLineColor),z(this,Zo,t.fontSize||or._defaultFontSize)}static get _keyboardManager(){const t=or.prototype,r=o=>o.isEmpty(),i=rg.TRANSLATE_SMALL,s=rg.TRANSLATE_BIG;return wn(this,"_keyboardManager",new Ax([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){$n.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case qt.FREETEXT_SIZE:or._defaultFontSize=r;break;case qt.FREETEXT_COLOR:or._defaultColor=r;break}}updateParams(t,r){switch(t){case qt.FREETEXT_SIZE:W(this,fi,gG).call(this,r);break;case qt.FREETEXT_COLOR:W(this,fi,vG).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[qt.FREETEXT_SIZE,or._defaultFontSize],[qt.FREETEXT_COLOR,or._defaultColor||$n._defaultLineColor]]}get propertiesToUpdate(){return[[qt.FREETEXT_SIZE,m(this,Zo)],[qt.FREETEXT_COLOR,m(this,Il)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-or._internalPadding*t,-(or._internalPadding+m(this,Zo))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(tn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),z(this,vm,new AbortController);const t=this._uiManager.combinedSignal(m(this,vm));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,_2)),this._isDraggable=!0,(t=m(this,vm))==null||t.abort(),z(this,vm,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=m(this,Jo),r=z(this,Jo,W(this,fi,yG).call(this).trimEnd());if(t===r)return;const i=s=>{if(z(this,Jo,s),!s){this.remove();return}W(this,fi,H5).call(this),this._uiManager.rebuild(this),W(this,fi,z5).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),W(this,fi,z5).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){or._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,_2)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,Zo)}px * var(--scale-factor))`,i.color=m(this,Il),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),dE(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,h]=this.pageDimensions,[p,f]=this.pageTranslation;let b,y;switch(this.rotation){case 0:b=t+(a[0]-p)/u,y=r+this.height-(a[1]-f)/h;break;case 90:b=t+(a[0]-p)/u,y=r-(a[1]-f)/h,[l,c]=[c,-l];break;case 180:b=t-this.width+(a[0]-p)/u,y=r-(a[1]-f)/h,[l,c]=[-l,-c];break;case 270:b=t+(a[0]-p-this.height*h)/u,y=r+(a[1]-f-this.width*u)/h,[l,c]=[-c,l];break}this.setAt(b*s,y*o,l,c)}else this.setAt(t*s,r*o,this.width*s,this.height*o);W(this,fi,H5).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,y,_;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=W(b=or,yd,bP).call(b,r.getData("text")||"").replaceAll(U_,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,u=[],h=[];if(l.nodeType===Node.TEXT_NODE){const w=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(U_,"")),w!==this.editorDiv){let A=u;for(const E of this.editorDiv.childNodes){if(E===w){A=h;continue}A.push(W(y=or,yd,$5).call(y,E))}}u.push(l.nodeValue.slice(0,c).replaceAll(U_,""))}else if(l===this.editorDiv){let w=u,A=0;for(const E of this.editorDiv.childNodes)A++===c&&(w=h),w.push(W(_=or,yd,$5).call(_,E))}z(this,Jo,`${u.join(`
`)}${s}${h.join(`
`)}`),W(this,fi,H5).call(this);const p=new Range;let f=u.reduce((w,A)=>w+A.length,0);for(const{firstChild:w}of this.editorDiv.childNodes)if(w.nodeType===Node.TEXT_NODE){const A=w.nodeValue.length;if(f<=A){p.setStart(w,f),p.setEnd(w,f);break}f-=A}o.removeAllRanges(),o.addRange(p)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,i){var a;let s=null;if(t instanceof dG){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:h,id:p,popupRef:f},textContent:b,textPosition:y,parent:{page:{pageNumber:_}}}=t;if(!b||b.length===0)return null;s=t={annotationType:tn.FREETEXT,color:Array.from(c),fontSize:l,value:b.join(`
`),position:y,pageIndex:_-1,rect:u.slice(0),rotation:h,id:p,deleted:!1,popupRef:f}}const o=await super.deserialize(t,r,i);return z(o,Zo,t.fontSize),z(o,Il,At.makeHexColor(...t.color)),z(o,Jo,W(a=or,yd,bP).call(a,t.value)),o.annotationElementId=t.id||null,o._initialData=s,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=or._internalPadding*this.parentScale,i=this.getRect(r,r),s=$n._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:m(this,Il)),o={annotationType:tn.FREETEXT,color:s,fontSize:m(this,Zo),value:W(this,fi,wG).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!W(this,fi,bG).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${m(this,Zo)}px * var(--scale-factor))`,i.color=m(this,Il),r.replaceChildren();for(const o of m(this,Jo).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=or._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:m(this,Jo)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Il=new WeakMap,Jo=new WeakMap,_2=new WeakMap,vm=new WeakMap,Zo=new WeakMap,fi=new WeakSet,gG=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-m(this,Zo))*this.parentScale),z(this,Zo,s),W(this,fi,z5).call(this)},i=m(this,Zo);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},vG=function(t){const r=s=>{z(this,Il,this.editorDiv.style.color=s)},i=m(this,Il);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},yG=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(W(i=or,yd,$5).call(i,s)),r=s);return t.join(`
`)},z5=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},yd=new WeakSet,$5=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(U_,"")},H5=function(){if(this.editorDiv.replaceChildren(),!!m(this,Jo))for(const t of m(this,Jo).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},wG=function(){return m(this,Jo).replaceAll(""," ")},bP=function(t){return t.replaceAll(" ","")},bG=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},K(or,yd),rt(or,"_freeTextDefaultContent",""),rt(or,"_internalPadding",0),rt(or,"_defaultColor",null),rt(or,"_defaultFontSize",10),rt(or,"_type","freetext"),rt(or,"_editorType",tn.FREETEXT);let wP=or;class xG{toSVGPath(){pr("Abstract method `toSVGPath` must be implemented.")}get box(){pr("Abstract getter `box` must be implemented.")}serialize(e,t){pr("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){pr("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){pr("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ea,Pl,Sv,Cv,Pc,ln,ym,wm,A2,E2,Nv,Tv,qh,S2,PE,RE,Ci,Gy,_G,AG,EG,SG,CG,NG;const Iu=class Iu{constructor({x:e,y:t},r,i,s,o,a=0){K(this,Ci);K(this,ea);K(this,Pl,[]);K(this,Sv);K(this,Cv);K(this,Pc,[]);K(this,ln,new Float64Array(18));K(this,ym);K(this,wm);K(this,A2);K(this,E2);K(this,Nv);K(this,Tv);K(this,qh,[]);z(this,ea,r),z(this,Tv,s*i),z(this,Cv,o),m(this,ln).set([NaN,NaN,NaN,NaN,e,t],6),z(this,Sv,a),z(this,E2,m(Iu,S2)*i),z(this,A2,m(Iu,RE)*i),z(this,Nv,i),m(this,qh).push(e,t)}isEmpty(){return isNaN(m(this,ln)[8])}add({x:e,y:t}){var I;z(this,ym,e),z(this,wm,t);const[r,i,s,o]=m(this,ea);let[a,l,c,u]=m(this,ln).subarray(8,12);const h=e-c,p=t-u,f=Math.hypot(h,p);if(f<m(this,A2))return!1;const b=f-m(this,E2),y=b/f,_=y*h,w=y*p;let A=a,E=l;a=c,l=u,c+=_,u+=w,(I=m(this,qh))==null||I.push(e,t);const C=-w/b,F=_/b,V=C*m(this,Tv),L=F*m(this,Tv);return m(this,ln).set(m(this,ln).subarray(2,8),0),m(this,ln).set([c+V,u+L],4),m(this,ln).set(m(this,ln).subarray(14,18),12),m(this,ln).set([c-V,u-L],16),isNaN(m(this,ln)[6])?(m(this,Pc).length===0&&(m(this,ln).set([a+V,l+L],2),m(this,Pc).push(NaN,NaN,NaN,NaN,(a+V-r)/s,(l+L-i)/o),m(this,ln).set([a-V,l-L],14),m(this,Pl).push(NaN,NaN,NaN,NaN,(a-V-r)/s,(l-L-i)/o)),m(this,ln).set([A,E,a,l,c,u],6),!this.isEmpty()):(m(this,ln).set([A,E,a,l,c,u],6),Math.abs(Math.atan2(E-l,A-a)-Math.atan2(w,_))<Math.PI/2?([a,l,c,u]=m(this,ln).subarray(2,6),m(this,Pc).push(NaN,NaN,NaN,NaN,((a+c)/2-r)/s,((l+u)/2-i)/o),[a,l,A,E]=m(this,ln).subarray(14,18),m(this,Pl).push(NaN,NaN,NaN,NaN,((A+a)/2-r)/s,((E+l)/2-i)/o),!0):([A,E,a,l,c,u]=m(this,ln).subarray(0,6),m(this,Pc).push(((A+5*a)/6-r)/s,((E+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),[c,u,a,l,A,E]=m(this,ln).subarray(12,18),m(this,Pl).push(((A+5*a)/6-r)/s,((E+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,Pc),t=m(this,Pl);if(isNaN(m(this,ln)[6])&&!this.isEmpty())return W(this,Ci,_G).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);W(this,Ci,EG).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return W(this,Ci,AG).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,o){return new TG(e,t,r,i,s,o)}getOutlines(){var h;const e=m(this,Pc),t=m(this,Pl),r=m(this,ln),[i,s,o,a]=m(this,ea),l=new Float64Array((((h=m(this,qh))==null?void 0:h.length)??0)+2);for(let p=0,f=l.length-2;p<f;p+=2)l[p]=(m(this,qh)[p]-i)/o,l[p+1]=(m(this,qh)[p+1]-s)/a;if(l[l.length-2]=(m(this,ym)-i)/o,l[l.length-1]=(m(this,wm)-s)/a,isNaN(r[6])&&!this.isEmpty())return W(this,Ci,SG).call(this,l);const c=new Float64Array(m(this,Pc).length+24+m(this,Pl).length);let u=e.length;for(let p=0;p<u;p+=2){if(isNaN(e[p])){c[p]=c[p+1]=NaN;continue}c[p]=e[p],c[p+1]=e[p+1]}u=W(this,Ci,NG).call(this,c,u);for(let p=t.length-6;p>=6;p-=6)for(let f=0;f<6;f+=2){if(isNaN(t[p+f])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=t[p+f],c[u+1]=t[p+f+1],u+=2}return W(this,Ci,CG).call(this,c,u),this.newFreeDrawOutline(c,l,m(this,ea),m(this,Nv),m(this,Sv),m(this,Cv))}};ea=new WeakMap,Pl=new WeakMap,Sv=new WeakMap,Cv=new WeakMap,Pc=new WeakMap,ln=new WeakMap,ym=new WeakMap,wm=new WeakMap,A2=new WeakMap,E2=new WeakMap,Nv=new WeakMap,Tv=new WeakMap,qh=new WeakMap,S2=new WeakMap,PE=new WeakMap,RE=new WeakMap,Ci=new WeakSet,Gy=function(){const e=m(this,ln).subarray(4,6),t=m(this,ln).subarray(16,18),[r,i,s,o]=m(this,ea);return[(m(this,ym)+(e[0]-t[0])/2-r)/s,(m(this,wm)+(e[1]-t[1])/2-i)/o,(m(this,ym)+(t[0]-e[0])/2-r)/s,(m(this,wm)+(t[1]-e[1])/2-i)/o]},_G=function(){const[e,t,r,i]=m(this,ea),[s,o,a,l]=W(this,Ci,Gy).call(this);return`M${(m(this,ln)[2]-e)/r} ${(m(this,ln)[3]-t)/i} L${(m(this,ln)[4]-e)/r} ${(m(this,ln)[5]-t)/i} L${s} ${o} L${a} ${l} L${(m(this,ln)[16]-e)/r} ${(m(this,ln)[17]-t)/i} L${(m(this,ln)[14]-e)/r} ${(m(this,ln)[15]-t)/i} Z`},AG=function(e){const t=m(this,Pl);e.push(`L${t[4]} ${t[5]} Z`)},EG=function(e){const[t,r,i,s]=m(this,ea),o=m(this,ln).subarray(4,6),a=m(this,ln).subarray(16,18),[l,c,u,h]=W(this,Ci,Gy).call(this);e.push(`L${(o[0]-t)/i} ${(o[1]-r)/s} L${l} ${c} L${u} ${h} L${(a[0]-t)/i} ${(a[1]-r)/s}`)},SG=function(e){const t=m(this,ln),[r,i,s,o]=m(this,ea),[a,l,c,u]=W(this,Ci,Gy).call(this),h=new Float64Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/o],0),this.newFreeDrawOutline(h,e,m(this,ea),m(this,Nv),m(this,Sv),m(this,Cv))},CG=function(e,t){const r=m(this,Pl);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},NG=function(e,t){const r=m(this,ln).subarray(4,6),i=m(this,ln).subarray(16,18),[s,o,a,l]=m(this,ea),[c,u,h,p]=W(this,Ci,Gy).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l],t),t+=24},K(Iu,S2,8),K(Iu,PE,2),K(Iu,RE,m(Iu,S2)+m(Iu,PE));let fE=Iu;var kv,bm,Yu,C2,ta,N2,Xr,So,Ky,Yy,kG;class TG extends xG{constructor(t,r,i,s,o,a){super();K(this,So);K(this,kv);K(this,bm,null);K(this,Yu);K(this,C2);K(this,ta);K(this,N2);K(this,Xr);z(this,Xr,t),z(this,ta,r),z(this,kv,i),z(this,N2,s),z(this,Yu,o),z(this,C2,a),W(this,So,kG).call(this,a);const{x:l,y:c,width:u,height:h}=m(this,bm);for(let p=0,f=t.length;p<f;p+=2)t[p]=(t[p]-l)/u,t[p+1]=(t[p+1]-c)/h;for(let p=0,f=r.length;p<f;p+=2)r[p]=(r[p]-l)/u,r[p+1]=(r[p+1]-c)/h}toSVGPath(){const t=[`M${m(this,Xr)[4]} ${m(this,Xr)[5]}`];for(let r=6,i=m(this,Xr).length;r<i;r+=6){if(isNaN(m(this,Xr)[r])){t.push(`L${m(this,Xr)[r+4]} ${m(this,Xr)[r+5]}`);continue}t.push(`C${m(this,Xr)[r]} ${m(this,Xr)[r+1]} ${m(this,Xr)[r+2]} ${m(this,Xr)[r+3]} ${m(this,Xr)[r+4]} ${m(this,Xr)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let c,u;switch(o){case 0:c=W(this,So,Ky).call(this,m(this,Xr),t,s,a,-l),u=W(this,So,Ky).call(this,m(this,ta),t,s,a,-l);break;case 90:c=W(this,So,Yy).call(this,m(this,Xr),t,r,a,l),u=W(this,So,Yy).call(this,m(this,ta),t,r,a,l);break;case 180:c=W(this,So,Ky).call(this,m(this,Xr),i,r,-a,l),u=W(this,So,Ky).call(this,m(this,ta),i,r,-a,l);break;case 270:c=W(this,So,Yy).call(this,m(this,Xr),i,s,-a,-l),u=W(this,So,Yy).call(this,m(this,ta),i,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return m(this,bm)}newOutliner(t,r,i,s,o,a=0){return new fE(t,r,i,s,o,a)}getNewOutline(t,r){const{x:i,y:s,width:o,height:a}=m(this,bm),[l,c,u,h]=m(this,kv),p=o*u,f=a*h,b=i*u+l,y=s*h+c,_=this.newOutliner({x:m(this,ta)[0]*p+b,y:m(this,ta)[1]*f+y},m(this,kv),m(this,N2),t,m(this,C2),r??m(this,Yu));for(let w=2;w<m(this,ta).length;w+=2)_.add({x:m(this,ta)[w]*p+b,y:m(this,ta)[w+1]*f+y});return _.getOutlines()}get mustRemoveSelfIntersections(){return!0}}kv=new WeakMap,bm=new WeakMap,Yu=new WeakMap,C2=new WeakMap,ta=new WeakMap,N2=new WeakMap,Xr=new WeakMap,So=new WeakSet,Ky=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=r+t[l]*s,a[l+1]=i+t[l+1]*o;return a},Yy=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=r+t[l+1]*s,a[l+1]=i+t[l]*o;return a},kG=function(t){const r=m(this,Xr);let i=r[4],s=r[5],o=i,a=s,l=i,c=s,u=i,h=s;const p=t?Math.max:Math.min;for(let w=6,A=r.length;w<A;w+=6){if(isNaN(r[w]))o=Math.min(o,r[w+4]),a=Math.min(a,r[w+5]),l=Math.max(l,r[w+4]),c=Math.max(c,r[w+5]),h<r[w+5]?(u=r[w+4],h=r[w+5]):h===r[w+5]&&(u=p(u,r[w+4]));else{const E=At.bezierBoundingBox(i,s,...r.slice(w,w+6));o=Math.min(o,E[0]),a=Math.min(a,E[1]),l=Math.max(l,E[2]),c=Math.max(c,E[3]),h<E[3]?(u=E[2],h=E[3]):h===E[3]&&(u=p(u,E[2]))}i=r[w+4],s=r[w+5]}const f=o-m(this,Yu),b=a-m(this,Yu),y=l-o+2*m(this,Yu),_=c-a+2*m(this,Yu);z(this,bm,{x:f,y:b,width:y,height:_,lastPoint:[u,h]})};var T2,Wh,Rl,to,IG,q5,PG,RG,xP;class qF{constructor(e,t=0,r=0,i=!0){K(this,to);K(this,T2);K(this,Wh,[]);K(this,Rl,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x:w,y:A,width:E,height:C}of e){const F=Math.floor((w-t)/u)*u,V=Math.ceil((w+E+t)/u)*u,L=Math.floor((A-t)/u)*u,N=Math.ceil((A+C+t)/u)*u,I=[F,L,N,!0],j=[V,L,N,!1];m(this,Wh).push(I,j),s=Math.min(s,F),o=Math.max(o,V),a=Math.min(a,L),l=Math.max(l,N)}const h=o-s+2*r,p=l-a+2*r,f=s-r,b=a-r,y=m(this,Wh).at(i?-1:-2),_=[y[0],y[2]];for(const w of m(this,Wh)){const[A,E,C]=w;w[0]=(A-f)/h,w[1]=(E-b)/p,w[2]=(C-b)/p}z(this,T2,{x:f,y:b,width:h,height:p,lastPoint:_})}getOutlines(){m(this,Wh).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of m(this,Wh))t[3]?(e.push(...W(this,to,xP).call(this,t)),W(this,to,PG).call(this,t)):(W(this,to,RG).call(this,t),e.push(...W(this,to,xP).call(this,t)));return W(this,to,IG).call(this,e)}}T2=new WeakMap,Wh=new WeakMap,Rl=new WeakMap,to=new WeakSet,IG=function(e){const t=[],r=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,c,u,h]=o;r.delete(o);let p=a,f=l;for(s=[a,c],i.push(s);;){let b;if(r.has(u))b=u;else if(r.has(h))b=h;else break;r.delete(b),[a,l,c,u,h]=b,p!==a&&(s.push(p,f,a,f===l?l:c),p=a),f=f===l?c:l}s.push(p,f)}return new Wbe(i,m(this,T2))},q5=function(e){const t=m(this,Rl);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},PG=function([,e,t]){const r=W(this,to,q5).call(this,e);m(this,Rl).splice(r,0,[e,t])},RG=function([,e,t]){const r=W(this,to,q5).call(this,e);for(let i=r;i<m(this,Rl).length;i++){const[s,o]=m(this,Rl)[i];if(s!==e)break;if(s===e&&o===t){m(this,Rl).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=m(this,Rl)[i];if(s!==e)break;if(s===e&&o===t){m(this,Rl).splice(i,1);return}}},xP=function(e){const[t,r,i]=e,s=[[t,r,i]],o=W(this,to,q5).call(this,i);for(let a=0;a<o;a++){const[l,c]=m(this,Rl)[a];for(let u=0,h=s.length;u<h;u++){const[,p,f]=s[u];if(!(c<=p||f<=l)){if(p>=l){if(f>c)s[u][1]=c;else{if(h===1)return[];s.splice(u,1),u--,h--}continue}s[u][2]=l,f>c&&s.push([t,c,f])}}}return s};var k2,Iv;class Wbe extends xG{constructor(t,r){super();K(this,k2);K(this,Iv);z(this,Iv,t),z(this,k2,r)}toSVGPath(){const t=[];for(const r of m(this,Iv)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,c=s-r;for(const u of m(this,Iv)){const h=new Array(u.length);for(let p=0;p<u.length;p+=2)h[p]=t+u[p]*l,h[p+1]=s-u[p+1]*c;a.push(h)}return a}get box(){return m(this,k2)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}k2=new WeakMap,Iv=new WeakMap;class _P extends fE{newFreeDrawOutline(e,t,r,i,s,o){return new Gbe(e,t,r,i,s,o)}get classNamesForDrawing(){return["highlight","free"]}}class Gbe extends TG{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,r,i,s,o=0){return new _P(e,t,r,i,s,o)}}var Ll,xm,Pv,xi,I2,Rv,P2,R2,Gh,Dl,Lv,L2,Kn,AP,EP,SP,hp,LG,hh;const mo=class mo{constructor({editor:e=null,uiManager:t=null}){K(this,Kn);K(this,Ll,null);K(this,xm,null);K(this,Pv);K(this,xi,null);K(this,I2,!1);K(this,Rv,!1);K(this,P2,null);K(this,R2);K(this,Gh,null);K(this,Dl,null);K(this,Lv);var r;e?(z(this,Rv,!1),z(this,Lv,qt.HIGHLIGHT_COLOR),z(this,P2,e)):(z(this,Rv,!0),z(this,Lv,qt.HIGHLIGHT_DEFAULT_COLOR)),z(this,Dl,(e==null?void 0:e._uiManager)||t),z(this,R2,m(this,Dl)._eventBus),z(this,Pv,(e==null?void 0:e.color)||((r=m(this,Dl))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),m(mo,L2)||z(mo,L2,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return wn(this,"_keyboardManager",new Ax([[["Escape","mac+Escape"],mo.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],mo.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],mo.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],mo.prototype._moveToPrevious],[["Home","mac+Home"],mo.prototype._moveToBeginning],[["End","mac+End"],mo.prototype._moveToEnd]]))}renderButton(){const e=z(this,Ll,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=m(this,Dl)._signal;e.addEventListener("click",W(this,Kn,hp).bind(this),{signal:t}),e.addEventListener("keydown",W(this,Kn,SP).bind(this),{signal:t});const r=z(this,xm,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=m(this,Pv),e.append(r),e}renderMainDropdown(){const e=z(this,xi,W(this,Kn,AP).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===m(this,Ll)){W(this,Kn,hp).call(this,e);return}const t=e.target.getAttribute("data-color");t&&W(this,Kn,EP).call(this,t,e)}_moveToNext(e){var t,r;if(!m(this,Kn,hh)){W(this,Kn,hp).call(this,e);return}if(e.target===m(this,Ll)){(t=m(this,xi).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=m(this,xi))==null?void 0:t.firstChild)||e.target===m(this,Ll)){m(this,Kn,hh)&&this._hideDropdownFromKeyboard();return}m(this,Kn,hh)||W(this,Kn,hp).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!m(this,Kn,hh)){W(this,Kn,hp).call(this,e);return}(t=m(this,xi).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!m(this,Kn,hh)){W(this,Kn,hp).call(this,e);return}(t=m(this,xi).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=m(this,xi))==null||e.classList.add("hidden"),(t=m(this,Gh))==null||t.abort(),z(this,Gh,null)}_hideDropdownFromKeyboard(){var e;if(!m(this,Rv)){if(!m(this,Kn,hh)){(e=m(this,P2))==null||e.unselect();return}this.hideDropdown(),m(this,Ll).focus({preventScroll:!0,focusVisible:m(this,I2)})}}updateColor(e){if(m(this,xm)&&(m(this,xm).style.backgroundColor=e),!m(this,xi))return;const t=m(this,Dl).highlightColors.values();for(const r of m(this,xi).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=m(this,Ll))==null||e.remove(),z(this,Ll,null),z(this,xm,null),(t=m(this,xi))==null||t.remove(),z(this,xi,null)}};Ll=new WeakMap,xm=new WeakMap,Pv=new WeakMap,xi=new WeakMap,I2=new WeakMap,Rv=new WeakMap,P2=new WeakMap,R2=new WeakMap,Gh=new WeakMap,Dl=new WeakMap,Lv=new WeakMap,L2=new WeakMap,Kn=new WeakSet,AP=function(){const e=document.createElement("div"),t=m(this,Dl)._signal;e.addEventListener("contextmenu",nl,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of m(this,Dl).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",m(mo,L2)[r]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.setAttribute("aria-selected",i===m(this,Pv)),s.addEventListener("click",W(this,Kn,EP).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",W(this,Kn,SP).bind(this),{signal:t}),e},EP=function(e,t){t.stopPropagation(),m(this,R2).dispatch("switchannotationeditorparams",{source:this,type:m(this,Lv),value:e})},SP=function(e){mo._keyboardManager.exec(this,e)},hp=function(e){if(m(this,Kn,hh)){this.hideDropdown();return}if(z(this,I2,e.detail===0),m(this,Gh)||(z(this,Gh,new AbortController),window.addEventListener("pointerdown",W(this,Kn,LG).bind(this),{signal:m(this,Dl).combinedSignal(m(this,Gh))})),m(this,xi)){m(this,xi).classList.remove("hidden");return}const t=z(this,xi,W(this,Kn,AP).call(this));m(this,Ll).append(t)},LG=function(e){var t;(t=m(this,xi))!=null&&t.contains(e.target)||this.hideDropdown()},hh=function(){return m(this,xi)&&!m(this,xi).classList.contains("hidden")},K(mo,L2,null);let pE=mo;var Dv,D2,Xu,_m,Mv,Fa,M2,j2,Am,Ml,Ss,yo,jv,Qu,_i,Ov,Ba,O2,Qt,CP,W5,DG,MG,jG,NP,fp,Ga,Jg,OG,G5,Xy,FG,BG,UG,VG,zG;const Rn=class Rn extends $n{constructor(t){super({...t,name:"highlightEditor"});K(this,Qt);K(this,Dv,null);K(this,D2,0);K(this,Xu);K(this,_m,null);K(this,Mv,null);K(this,Fa,null);K(this,M2,null);K(this,j2,0);K(this,Am,null);K(this,Ml,null);K(this,Ss,null);K(this,yo,!1);K(this,jv,null);K(this,Qu);K(this,_i,null);K(this,Ov,"");K(this,Ba);K(this,O2,"");this.color=t.color||Rn._defaultColor,z(this,Ba,t.thickness||Rn._defaultThickness),z(this,Qu,t.opacity||Rn._defaultOpacity),z(this,Xu,t.boxes||null),z(this,O2,t.methodOfCreation||""),z(this,Ov,t.text||""),this._isDraggable=!1,t.highlightId>-1?(z(this,yo,!0),W(this,Qt,W5).call(this,t),W(this,Qt,fp).call(this)):m(this,Xu)&&(z(this,Dv,t.anchorNode),z(this,D2,t.anchorOffset),z(this,M2,t.focusNode),z(this,j2,t.focusOffset),W(this,Qt,CP).call(this),W(this,Qt,fp).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Rn.prototype;return wn(this,"_keyboardManager",new Ax([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,yo)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:m(this,Ba),methodOfCreation:m(this,O2)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;$n.initialize(t,r),Rn._defaultColor||(Rn._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case qt.HIGHLIGHT_DEFAULT_COLOR:Rn._defaultColor=r;break;case qt.HIGHLIGHT_THICKNESS:Rn._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return m(this,jv)}updateParams(t,r){switch(t){case qt.HIGHLIGHT_COLOR:W(this,Qt,DG).call(this,r);break;case qt.HIGHLIGHT_THICKNESS:W(this,Qt,MG).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[qt.HIGHLIGHT_DEFAULT_COLOR,Rn._defaultColor],[qt.HIGHLIGHT_THICKNESS,Rn._defaultThickness]]}get propertiesToUpdate(){return[[qt.HIGHLIGHT_COLOR,this.color||Rn._defaultColor],[qt.HIGHLIGHT_THICKNESS,m(this,Ba)||Rn._defaultThickness],[qt.HIGHLIGHT_FREE,m(this,yo)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(z(this,Mv,new pE({editor:this})),t.addColorPicker(m(this,Mv))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(W(this,Qt,Xy).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,W(this,Qt,Xy).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){W(this,Qt,NP).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(W(this,Qt,fp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?W(this,Qt,NP).call(this):t&&(W(this,Qt,fp).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;m(this,yo)?(t=(t-this.rotation+360)%360,i=W(s=Rn,Ga,Jg).call(s,m(this,Ml).box,t)):i=W(o=Rn,Ga,Jg).call(o,this,t),r.rotate(m(this,Ss),t),r.rotate(m(this,_i),t),r.updateBox(m(this,Ss),i),r.updateBox(m(this,_i),W(a=Rn,Ga,Jg).call(a,m(this,Fa).box,t))}render(){if(this.div)return this.div;const t=super.render();m(this,Ov)&&(t.setAttribute("aria-label",m(this,Ov)),t.setAttribute("role","mark")),m(this,yo)?t.classList.add("free"):this.div.addEventListener("keydown",W(this,Qt,OG).bind(this),{signal:this._uiManager._signal});const r=z(this,Am,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=m(this,_m);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),dE(this,m(this,Am),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(m(this,_i),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(m(this,_i),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:W(this,Qt,G5).call(this,!0);break;case 1:case 3:W(this,Qt,G5).call(this,!1);break}}select(){var t,r;super.select(),m(this,_i)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,_i),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(m(this,_i),"selected"))}unselect(){var t;super.unselect(),m(this,_i)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,_i),"selected"),m(this,yo)||W(this,Qt,G5).call(this,!1))}get _mustFixPosition(){return!m(this,yo)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(m(this,Ss),t),this.parent.drawLayer.show(m(this,_i),t))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:c,height:u}=i.getBoundingClientRect(),h=new AbortController,p=t.combinedSignal(h),f=y=>{y.preventDefault(),y.stopPropagation()},b=y=>{h.abort(),W(this,Ga,VG).call(this,t,y)};window.addEventListener("blur",b,{signal:p}),window.addEventListener("pointerup",b,{signal:p}),window.addEventListener("pointerdown",f,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",nl,{signal:p}),i.addEventListener("pointermove",W(this,Ga,UG).bind(this,t),{signal:p}),this._freeHighlight=new _P({x:s,y:o},[a,l,c,u],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,r,i){var y,_,w,A;let s=null;if(t instanceof fG){const{data:{quadPoints:E,rect:C,rotation:F,id:V,color:L,opacity:N,popupRef:I},parent:{page:{pageNumber:j}}}=t;s=t={annotationType:tn.HIGHLIGHT,color:Array.from(L),opacity:N,quadPoints:E,boxes:null,pageIndex:j-1,rect:C.slice(0),rotation:F,id:V,deleted:!1,popupRef:I}}else if(t instanceof dL){const{data:{inkLists:E,rect:C,rotation:F,id:V,color:L,borderStyle:{rawWidth:N},popupRef:I},parent:{page:{pageNumber:j}}}=t;s=t={annotationType:tn.HIGHLIGHT,color:Array.from(L),thickness:N,inkLists:E,boxes:null,pageIndex:j-1,rect:C.slice(0),rotation:F,id:V,deleted:!1,popupRef:I}}const{color:o,quadPoints:a,inkLists:l,opacity:c}=t,u=await super.deserialize(t,r,i);u.color=At.makeHexColor(...o),z(u,Qu,c||1),l&&z(u,Ba,t.thickness),u.annotationElementId=t.id||null,u._initialData=s;const[h,p]=u.pageDimensions,[f,b]=u.pageTranslation;if(a){const E=z(u,Xu,[]);for(let C=0;C<a.length;C+=8)E.push({x:(a[C]-f)/h,y:1-(a[C+1]-b)/p,width:(a[C+2]-a[C])/h,height:(a[C+1]-a[C+5])/p});W(y=u,Qt,CP).call(y),W(_=u,Qt,fp).call(_),u.rotate(u.rotation)}else if(l){z(u,yo,!0);const E=l[0],C={x:E[0]-f,y:p-(E[1]-b)},F=new _P(C,[0,0,h,p],1,m(u,Ba)/2,!0,.001);for(let N=0,I=E.length;N<I;N+=2)C.x=E[N]-f,C.y=p-(E[N+1]-b),F.add(C);const{id:V,clipPathId:L}=r.drawLayer.draw(F,u.color,u._defaultOpacity,!0);W(w=u,Qt,W5).call(w,{highlightOutlines:F.getOutlines(),highlightId:V,clipPathId:L}),W(A=u,Qt,fp).call(A)}return u}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=$n._colorManager.convert(this.color),s={annotationType:tn.HIGHLIGHT,color:i,opacity:m(this,Qu),thickness:m(this,Ba),quadPoints:W(this,Qt,FG).call(this),outlines:W(this,Qt,BG).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:W(this,Qt,Xy).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!W(this,Qt,zG).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Dv=new WeakMap,D2=new WeakMap,Xu=new WeakMap,_m=new WeakMap,Mv=new WeakMap,Fa=new WeakMap,M2=new WeakMap,j2=new WeakMap,Am=new WeakMap,Ml=new WeakMap,Ss=new WeakMap,yo=new WeakMap,jv=new WeakMap,Qu=new WeakMap,_i=new WeakMap,Ov=new WeakMap,Ba=new WeakMap,O2=new WeakMap,Qt=new WeakSet,CP=function(){const t=new qF(m(this,Xu),.001);z(this,Ml,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=m(this,Ml).box;const r=new qF(m(this,Xu),.0025,.001,this._uiManager.direction==="ltr");z(this,Fa,r.getOutlines());const{lastPoint:i}=m(this,Fa).box;z(this,jv,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},W5=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var h,p;if(z(this,Ml,t),z(this,Fa,t.getNewOutline(m(this,Ba)/2+1.5,.0025)),r>=0)z(this,Ss,r),z(this,_m,i),this.parent.drawLayer.finalizeLine(r,t),z(this,_i,this.parent.drawLayer.drawOutline(m(this,Fa)));else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(m(this,Ss),t),this.parent.drawLayer.updateBox(m(this,Ss),W(h=Rn,Ga,Jg).call(h,m(this,Ml).box,(f-this.rotation+360)%360)),this.parent.drawLayer.updateLine(m(this,_i),m(this,Fa)),this.parent.drawLayer.updateBox(m(this,_i),W(p=Rn,Ga,Jg).call(p,m(this,Fa).box,f))}const{x:o,y:a,width:l,height:c}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[f,b]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*b/f,this.height=c*f/b;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[f,b]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*b/f,this.height=c*f/b;break}}const{lastPoint:u}=m(this,Fa).box;z(this,jv,[(u[0]-o)/l,(u[1]-a)/c])},DG=function(t){const r=(o,a)=>{var l,c,u;this.color=o,(l=this.parent)==null||l.drawLayer.changeColor(m(this,Ss),o),(c=m(this,Mv))==null||c.updateColor(o),z(this,Qu,a),(u=this.parent)==null||u.drawLayer.changeOpacity(m(this,Ss),a)},i=this.color,s=m(this,Qu);this.addCommands({cmd:r.bind(this,t,Rn._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},MG=function(t){const r=m(this,Ba),i=s=>{z(this,Ba,s),W(this,Qt,jG).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},jG=function(t){if(!m(this,yo))return;W(this,Qt,W5).call(this,{highlightOutlines:m(this,Ml).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},NP=function(){m(this,Ss)===null||!this.parent||(this.parent.drawLayer.remove(m(this,Ss)),z(this,Ss,null),this.parent.drawLayer.remove(m(this,_i)),z(this,_i,null))},fp=function(t=this.parent){m(this,Ss)===null&&({id:Ii(this,Ss)._,clipPathId:Ii(this,_m)._}=t.drawLayer.draw(m(this,Ml),this.color,m(this,Qu)),z(this,_i,t.drawLayer.drawOutline(m(this,Fa))),m(this,Am)&&(m(this,Am).style.clipPath=m(this,_m)))},Ga=new WeakSet,Jg=function({x:t,y:r,width:i,height:s},o){switch(o){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},OG=function(t){Rn._keyboardManager.exec(this,t)},G5=function(t){if(!m(this,Dv))return;const r=window.getSelection();t?r.setPosition(m(this,Dv),m(this,D2)):r.setPosition(m(this,M2),m(this,j2))},Xy=function(){return m(this,yo)?this.rotation:0},FG=function(){if(m(this,yo))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,o=m(this,Xu),a=new Float32Array(o.length*8);let l=0;for(const{x:c,y:u,width:h,height:p}of o){const f=c*t+i,b=(1-u-p)*r+s;a[l]=a[l+4]=f,a[l+1]=a[l+3]=b,a[l+2]=a[l+6]=f+h*t,a[l+5]=a[l+7]=b+p*r,l+=8}return a},BG=function(t){return m(this,Ml).serialize(t,W(this,Qt,Xy).call(this))},UG=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},VG=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},zG=function(t){const{color:r}=this._initialData;return t.color.some((i,s)=>i!==r[s])},K(Rn,Ga),rt(Rn,"_defaultColor",null),rt(Rn,"_defaultOpacity",1),rt(Rn,"_defaultThickness",12),rt(Rn,"_type","highlight"),rt(Rn,"_editorType",tn.HIGHLIGHT),rt(Rn,"_freeHighlightId",-1),rt(Rn,"_freeHighlight",null),rt(Rn,"_freeHighlightClipId","");let mE=Rn;var Em,Sm,Rc,Ju,Ua,Cm,Nm,Tm,Zu,Fv,km,Im,Kh,Ze,$G,HG,qG,WG,kP,GG,IP,KG,YG,XG,QG,JG,pp,PP,RP,LP,K5,Y5,Zg,DP,X5,Rd,ZG,MP,eK,tK,jP,Q5,Qy;const Tr=class Tr extends $n{constructor(t){super({...t,name:"inkEditor"});K(this,Ze);K(this,Em,0);K(this,Sm,0);K(this,Rc,null);K(this,Ju,new Path2D);K(this,Ua,!1);K(this,Cm,null);K(this,Nm,!1);K(this,Tm,!1);K(this,Zu,null);K(this,Fv,null);K(this,km,0);K(this,Im,0);K(this,Kh,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){$n.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case qt.INK_THICKNESS:Tr._defaultThickness=r;break;case qt.INK_COLOR:Tr._defaultColor=r;break;case qt.INK_OPACITY:Tr._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case qt.INK_THICKNESS:W(this,Ze,$G).call(this,r);break;case qt.INK_COLOR:W(this,Ze,HG).call(this,r);break;case qt.INK_OPACITY:W(this,Ze,qG).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[qt.INK_THICKNESS,Tr._defaultThickness],[qt.INK_COLOR,Tr._defaultColor||$n._defaultLineColor],[qt.INK_OPACITY,Math.round(Tr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[qt.INK_THICKNESS,this.thickness||Tr._defaultThickness],[qt.INK_COLOR,this.color||Tr._defaultColor||$n._defaultLineColor],[qt.INK_OPACITY,Math.round(100*(this.opacity??Tr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(W(this,Ze,K5).call(this),W(this,Ze,Y5).call(this)),this.isAttachedToDOM||(this.parent.add(this),W(this,Ze,Zg).call(this)),W(this,Ze,Qy).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,m(this,Rc)&&(clearTimeout(m(this,Rc)),z(this,Rc,null)),(t=m(this,Zu))==null||t.disconnect(),z(this,Zu,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){m(this,Ua)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,W(this,Ze,PP).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),W(this,Ze,RP).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){m(this,Ua)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),z(this,Ua,!0),this.div.classList.add("disabled"),W(this,Ze,Qy).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||m(this,Ua)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),W(this,Ze,GG).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),W(this,Ze,IP).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),W(this,Ze,LP).call(this,t)}canvasPointerleave(t){W(this,Ze,LP).call(this,t)}get isResizable(){return!this.isEmpty()&&m(this,Ua)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,a]=W(this,Ze,WG).call(this);if(this.setAt(i,s,0,0),this.setDims(o,a),W(this,Ze,K5).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,r*c,this.width*l,this.height*c),z(this,Tm,!0),W(this,Ze,Zg).call(this),this.setDims(this.width*l,this.height*c),W(this,Ze,pp).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return W(this,Ze,Y5).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(m(this,km)===i&&m(this,Im)===s)return;z(this,km,i),z(this,Im,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=r/a,this.fixAndSetPosition(),m(this,Ua)&&W(this,Ze,DP).call(this,t,r),W(this,Ze,Zg).call(this),W(this,Ze,pp).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,r,i){var _,w,A;if(t instanceof dL)return null;const s=await super.deserialize(t,r,i);s.thickness=t.thickness,s.color=At.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,c=s.height*a,u=s.parentScale,h=t.thickness/2;z(s,Ua,!0),z(s,km,Math.round(l)),z(s,Im,Math.round(c));const{paths:p,rect:f,rotation:b}=t;for(let{bezier:E}of p){E=W(_=Tr,Rd,eK).call(_,E,f,b);const C=[];s.paths.push(C);let F=u*(E[0]-h),V=u*(E[1]-h);for(let N=2,I=E.length;N<I;N+=6){const j=u*(E[N]-h),k=u*(E[N+1]-h),M=u*(E[N+2]-h),R=u*(E[N+3]-h),q=u*(E[N+4]-h),ce=u*(E[N+5]-h);C.push([[F,V],[j,k],[M,R],[q,ce]]),F=q,V=ce}const L=W(this,Rd,ZG).call(this,C);s.bezierPath2D.push(L)}const y=W(w=s,Ze,jP).call(w);return z(s,Sm,Math.max($n.MIN_SIZE,y[2]-y[0])),z(s,Em,Math.max($n.MIN_SIZE,y[3]-y[1])),W(A=s,Ze,DP).call(A,l,c),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=$n._colorManager.convert(this.ctx.strokeStyle);return{annotationType:tn.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:W(this,Ze,tK).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Em=new WeakMap,Sm=new WeakMap,Rc=new WeakMap,Ju=new WeakMap,Ua=new WeakMap,Cm=new WeakMap,Nm=new WeakMap,Tm=new WeakMap,Zu=new WeakMap,Fv=new WeakMap,km=new WeakMap,Im=new WeakMap,Kh=new WeakMap,Ze=new WeakSet,$G=function(t){const r=s=>{this.thickness=s,W(this,Ze,Qy).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},HG=function(t){const r=s=>{this.color=s,W(this,Ze,pp).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},qG=function(t){const r=s=>{this.opacity=s,W(this,Ze,pp).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},WG=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},kP=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${mwe(i)}`},GG=function(t,r){this.canvas.addEventListener("contextmenu",nl,{signal:this._uiManager._signal}),W(this,Ze,RP).call(this),z(this,Cm,new AbortController);const i=this._uiManager.combinedSignal(m(this,Cm));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,m(this,Tm)||(z(this,Tm,!0),W(this,Ze,Zg).call(this),this.thickness||(this.thickness=Tr._defaultThickness),this.color||(this.color=Tr._defaultColor||$n._defaultLineColor),this.opacity??(this.opacity=Tr._defaultOpacity)),this.currentPath.push([t,r]),z(this,Nm,!1),W(this,Ze,kP).call(this),z(this,Kh,()=>{W(this,Ze,XG).call(this),m(this,Kh)&&window.requestAnimationFrame(m(this,Kh))}),window.requestAnimationFrame(m(this,Kh))},IP=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const o=this.currentPath;let a=m(this,Ju);if(o.push([t,r]),z(this,Nm,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,r);return}o.length===3&&(z(this,Ju,a=new Path2D),a.moveTo(...o[0])),W(this,Ze,QG).call(this,a,...o.at(-3),...o.at(-2),t,r)},KG=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);m(this,Ju).lineTo(...t)},YG=function(t,r){z(this,Kh,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),W(this,Ze,IP).call(this,t,r),W(this,Ze,KG).call(this);let i;if(this.currentPath.length!==1)i=W(this,Ze,JG).call(this);else{const c=[t,r];i=[[c,c.slice(),c.slice(),c]]}const s=m(this,Ju),o=this.currentPath;this.currentPath=[],z(this,Ju,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(W(this,Ze,K5).call(this),W(this,Ze,Y5).call(this)),W(this,Ze,Qy).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},XG=function(){if(!m(this,Nm))return;z(this,Nm,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),s=r.map(a=>a[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(m(this,Ju)),o.restore()},QG=function(t,r,i,s,o,a,l){const c=(r+s)/2,u=(i+o)/2,h=(s+a)/2,p=(o+l)/2;t.bezierCurveTo(c+2*(s-c)/3,u+2*(o-u)/3,h+2*(s-h)/3,p+2*(o-p)/3,h,p)},JG=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,o]=t[0];for(i=1;i<t.length-2;i++){const[f,b]=t[i],[y,_]=t[i+1],w=(f+y)/2,A=(b+_)/2,E=[s+2*(f-s)/3,o+2*(b-o)/3],C=[w+2*(f-w)/3,A+2*(b-A)/3];r.push([[s,o],E,C,[w,A]]),[s,o]=[w,A]}const[a,l]=t[i],[c,u]=t[i+1],h=[s+2*(a-s)/3,o+2*(l-o)/3],p=[c+2*(a-c)/3,u+2*(l-u)/3];return r.push([[s,o],h,p,[c,u]]),r},pp=function(){if(this.isEmpty()){W(this,Ze,X5).call(this);return}W(this,Ze,kP).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),W(this,Ze,X5).call(this);for(const i of this.bezierPath2D)r.stroke(i)},PP=function(){if(m(this,Fv))return;z(this,Fv,new AbortController);const t=this._uiManager.combinedSignal(m(this,Fv));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},RP=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},LP=function(t){var r;(r=m(this,Cm))==null||r.abort(),z(this,Cm,null),W(this,Ze,PP).call(this),m(this,Rc)&&clearTimeout(m(this,Rc)),z(this,Rc,setTimeout(()=>{z(this,Rc,null),this.canvas.removeEventListener("contextmenu",nl)},10)),W(this,Ze,YG).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},K5=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Y5=function(){z(this,Zu,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),m(this,Zu).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,Zu))==null||t.disconnect(),z(this,Zu,null)},{once:!0})},Zg=function(){if(!m(this,Tm))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),W(this,Ze,X5).call(this)},DP=function(t,r){const i=W(this,Ze,Q5).call(this),s=(t-i)/m(this,Sm),o=(r-i)/m(this,Em);this.scaleFactor=Math.min(s,o)},X5=function(){const t=W(this,Ze,Q5).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Rd=new WeakSet,ZG=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[o,a,l,c]=t[i];i===0&&r.moveTo(...o),r.bezierCurveTo(a[0],a[1],l[0],l[1],c[0],c[1])}return r},MP=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]+=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=t[c+1]+s,t[c+1]=h+o}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]+=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=a-t[c+1],t[c+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},eK=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]-=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=t[c+1]-o,t[c+1]=h-s}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]-=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=l-t[c+1],t[c+1]=a-h}break;default:throw new Error("Invalid rotation")}return t},tK=function(t,r,i,s){var u,h;const o=[],a=this.thickness/2,l=t*r+a,c=t*i+a;for(const p of this.paths){const f=[],b=[];for(let y=0,_=p.length;y<_;y++){const[w,A,E,C]=p[y];if(w[0]===C[0]&&w[1]===C[1]&&_===1){const R=t*w[0]+l,q=t*w[1]+c;f.push(R,q),b.push(R,q);break}const F=t*w[0]+l,V=t*w[1]+c,L=t*A[0]+l,N=t*A[1]+c,I=t*E[0]+l,j=t*E[1]+c,k=t*C[0]+l,M=t*C[1]+c;y===0&&(f.push(F,V),b.push(F,V)),f.push(L,N,I,j,k,M),b.push(L,N),y===_-1&&b.push(k,M)}o.push({bezier:W(u=Tr,Rd,MP).call(u,f,s,this.rotation),points:W(h=Tr,Rd,MP).call(h,b,s,this.rotation)})}return o},jP=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,c,u]of o){const h=At.bezierBoundingBox(...a,...l,...c,...u);t=Math.min(t,h[0]),i=Math.min(i,h[1]),r=Math.max(r,h[2]),s=Math.max(s,h[3])}return[t,i,r,s]},Q5=function(){return m(this,Ua)?Math.ceil(this.thickness*this.parentScale):0},Qy=function(t=!1){if(this.isEmpty())return;if(!m(this,Ua)){W(this,Ze,pp).call(this);return}const r=W(this,Ze,jP).call(this),i=W(this,Ze,Q5).call(this);z(this,Sm,Math.max($n.MIN_SIZE,r[2]-r[0])),z(this,Em,Math.max($n.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+m(this,Sm)*this.scaleFactor),o=Math.ceil(i+m(this,Em)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const c=this.translationX,u=this.translationY;this.translationX=-r[0],this.translationY=-r[1],W(this,Ze,Zg).call(this),W(this,Ze,pp).call(this),z(this,km,s),z(this,Im,o),this.setDims(s,o);const h=t?i/this.scaleFactor/2:0;this.translate(c-this.translationX-h,u-this.translationY-h)},K(Tr,Rd),rt(Tr,"_defaultColor",null),rt(Tr,"_defaultOpacity",1),rt(Tr,"_defaultThickness",1),rt(Tr,"_type","ink"),rt(Tr,"_editorType",tn.INK);let TP=Tr;var Ir,Ji,Yh,ed,Xh,Bv,Lc,td,Dc,na,Uv,pn,Jy,Zy,J5,FP,nK,Z5,BP,eA,rK,iK;const Aw=class Aw extends $n{constructor(t){super({...t,name:"stampEditor"});K(this,pn);K(this,Ir,null);K(this,Ji,null);K(this,Yh,null);K(this,ed,null);K(this,Xh,null);K(this,Bv,"");K(this,Lc,null);K(this,td,null);K(this,Dc,null);K(this,na,!1);K(this,Uv,!1);z(this,ed,t.bitmapUrl),z(this,Xh,t.bitmapFile)}static initialize(t,r){$n.initialize(t,r)}static get supportedTypes(){return wn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return wn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(tn.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t,r;m(this,Ji)&&(z(this,Ir,null),this._uiManager.imageManager.deleteId(m(this,Ji)),(t=m(this,Lc))==null||t.remove(),z(this,Lc,null),(r=m(this,td))==null||r.disconnect(),z(this,td,null),m(this,Dc)&&(clearTimeout(m(this,Dc)),z(this,Dc,null))),super.remove()}rebuild(){if(!this.parent){m(this,Ji)&&W(this,pn,J5).call(this);return}super.rebuild(),this.div!==null&&(m(this,Ji)&&m(this,Lc)===null&&W(this,pn,J5).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(m(this,Yh)||m(this,Ir)||m(this,ed)||m(this,Xh)||m(this,Ji))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),m(this,Ir)?W(this,pn,FP).call(this):W(this,pn,J5).call(this),this.width&&!this.annotationElementId){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}copyCanvas(t,r,i=!1){var f;t||(t=224);const{width:s,height:o}=m(this,Ir),a=new LI;let l=m(this,Ir),c=s,u=o,h=null;if(r){if(s>r||o>r){const N=Math.min(r/s,r/o);c=Math.floor(s*N),u=Math.floor(o*N)}h=document.createElement("canvas");const b=h.width=Math.ceil(c*a.sx),y=h.height=Math.ceil(u*a.sy);m(this,na)||(l=W(this,pn,Z5).call(this,b,y));const _=h.getContext("2d");_.filter=this._uiManager.hcmFilter;let w="white",A="#cfcfd8";this._uiManager.hcmFilter!=="none"?A="black":(f=window.matchMedia)!=null&&f.call(window,"(prefers-color-scheme: dark)").matches&&(w="#8f8f9d",A="#42414d");const E=15,C=E*a.sx,F=E*a.sy,V=new OffscreenCanvas(C*2,F*2),L=V.getContext("2d");L.fillStyle=w,L.fillRect(0,0,C*2,F*2),L.fillStyle=A,L.fillRect(0,0,C,F),L.fillRect(C,F,C,F),_.fillStyle=_.createPattern(V,"repeat"),_.fillRect(0,0,b,y),_.drawImage(l,0,0,l.width,l.height,0,0,b,y)}let p=null;if(i){let b,y;if(a.symmetric&&l.width<t&&l.height<t)b=l.width,y=l.height;else if(l=m(this,Ir),s>t||o>t){const A=Math.min(t/s,t/o);b=Math.floor(s*A),y=Math.floor(o*A),m(this,na)||(l=W(this,pn,Z5).call(this,b,y))}const w=new OffscreenCanvas(b,y).getContext("2d",{willReadFrequently:!0});w.drawImage(l,0,0,l.width,l.height,0,0,b,y),p={width:b,height:y,data:w.getImageData(0,0,b,y).data}}return{canvas:h,width:c,height:u,imageData:p}}getImageForAltText(){return m(this,Lc)}static async deserialize(t,r,i){var y;let s=null;if(t instanceof pG){const{data:{rect:_,rotation:w,id:A,structParent:E,popupRef:C},container:F,parent:{page:{pageNumber:V}}}=t,L=F.querySelector("canvas"),N=i.imageManager.getFromCanvas(F.id,L);L.remove();const I=((y=await r._structTree.getAriaAttributes(`${eL}${A}`))==null?void 0:y.get("aria-label"))||"";s=t={annotationType:tn.STAMP,bitmapId:N.id,bitmap:N.bitmap,pageIndex:V-1,rect:_.slice(0),rotation:w,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:I},isSvg:!1,structParent:E,popupRef:C}}const o=await super.deserialize(t,r,i),{rect:a,bitmap:l,bitmapUrl:c,bitmapId:u,isSvg:h,accessibilityData:p}=t;u&&i.imageManager.isValidId(u)?(z(o,Ji,u),l&&z(o,Ir,l)):z(o,ed,c),z(o,na,h);const[f,b]=o.pageDimensions;return o.width=(a[2]-a[0])/f,o.height=(a[3]-a[1])/b,o.annotationElementId=t.id||null,p&&(o.altTextData=p),o._initialData=s,z(o,Uv,!!s),o}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:tn.STAMP,bitmapId:m(this,Ji),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:m(this,na),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=W(this,pn,eA).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=W(this,pn,iK).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const a=m(this,na)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(m(this,Ji)))r.stamps.set(m(this,Ji),{area:a,serialized:i}),i.bitmap=W(this,pn,eA).call(this,!1);else if(m(this,na)){const l=r.stamps.get(m(this,Ji));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=W(this,pn,eA).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Ir=new WeakMap,Ji=new WeakMap,Yh=new WeakMap,ed=new WeakMap,Xh=new WeakMap,Bv=new WeakMap,Lc=new WeakMap,td=new WeakMap,Dc=new WeakMap,na=new WeakMap,Uv=new WeakMap,pn=new WeakSet,Jy=function(t,r=!1){if(!t){this.remove();return}z(this,Ir,t.bitmap),r||(z(this,Ji,t.id),z(this,na,t.isSvg)),t.file&&z(this,Bv,t.file.name),W(this,pn,FP).call(this)},Zy=function(){if(z(this,Yh,null),this._uiManager.enableWaiting(!1),!!m(this,Lc)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Ir)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Ir)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},J5=function(){if(m(this,Ji)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,Ji)).then(i=>W(this,pn,Jy).call(this,i,!0)).finally(()=>W(this,pn,Zy).call(this));return}if(m(this,ed)){const i=m(this,ed);z(this,ed,null),this._uiManager.enableWaiting(!0),z(this,Yh,this._uiManager.imageManager.getFromUrl(i).then(s=>W(this,pn,Jy).call(this,s)).finally(()=>W(this,pn,Zy).call(this)));return}if(m(this,Xh)){const i=m(this,Xh);z(this,Xh,null),this._uiManager.enableWaiting(!0),z(this,Yh,this._uiManager.imageManager.getFromFile(i).then(s=>W(this,pn,Jy).call(this,s)).finally(()=>W(this,pn,Zy).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Aw.supportedTypesStr;const r=this._uiManager._signal;z(this,Yh,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),W(this,pn,Jy).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>W(this,pn,Zy).call(this))),t.click()},FP=function(){const{div:t}=this;let{width:r,height:i}=m(this,Ir);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const h=Math.min(a*s/r,a*o/i);r*=h,i*=h}const[l,c]=this.parentDimensions;this.setDims(r*l/s,i*c/o),this._uiManager.enableWaiting(!1);const u=z(this,Lc,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),W(this,pn,BP).call(this,r,i),W(this,pn,rK).call(this),m(this,Uv)||(this.parent.addUndoableEditor(this),z(this,Uv,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,Bv)&&u.setAttribute("aria-label",m(this,Bv))},nK=function(t,r){var a;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,m(this,Dc)!==null&&clearTimeout(m(this,Dc)),z(this,Dc,setTimeout(()=>{z(this,Dc,null),W(this,pn,BP).call(this,t,r)},200))},Z5=function(t,r){const{width:i,height:s}=m(this,Ir);let o=i,a=s,l=m(this,Ir);for(;o>2*t||a>2*r;){const c=o,u=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,c,u,0,0,o,a),l=h.transferToImageBitmap()}return l},BP=function(t,r){const i=new LI,s=Math.ceil(t*i.sx),o=Math.ceil(r*i.sy),a=m(this,Lc);if(!a||a.width===s&&a.height===o)return;a.width=s,a.height=o;const l=m(this,na)?m(this,Ir):W(this,pn,Z5).call(this,s,o),c=a.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,s,o)},eA=function(t){if(t){if(m(this,na)){const s=this._uiManager.imageManager.getSvgUrl(m(this,Ji));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=m(this,Ir),r.getContext("2d").drawImage(m(this,Ir),0,0),r.toDataURL()}if(m(this,na)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Rf.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Rf.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(m(this,Ir),0,0,m(this,Ir).width,m(this,Ir).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(m(this,Ir))},rK=function(){this._uiManager._signal&&(z(this,td,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&W(this,pn,nK).call(this,r.width,r.height)})),m(this,td).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,td))==null||t.disconnect(),z(this,td,null)},{once:!0}))},iK=function(t){var c;const{rect:r,pageIndex:i,accessibilityData:{altText:s}}=this._initialData,o=t.rect.every((u,h)=>Math.abs(u-r[h])<1),a=t.pageIndex===i,l=(((c=t.accessibilityData)==null?void 0:c.alt)||"")===s;return{isSame:o&&a&&l,isSameAltText:l}},rt(Aw,"_type","stamp"),rt(Aw,"_editorType",tn.STAMP);let OP=Aw;var Pm,Vv,Mc,Qh,nd,ra,Jh,zv,$v,Cs,rd,Pt,Zh,os,sK,VP,zP,$P,tA;const gl=class gl{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:u}){K(this,os);K(this,Pm);K(this,Vv,!1);K(this,Mc,null);K(this,Qh,null);K(this,nd,null);K(this,ra,new Map);K(this,Jh,!1);K(this,zv,!1);K(this,$v,!1);K(this,Cs,null);K(this,rd,null);K(this,Pt);const h=[...m(gl,Zh).values()];if(!gl._initialized){gl._initialized=!0;for(const p of h)p.initialize(u,e)}e.registerEditorTypes(h),z(this,Pt,e),this.pageIndex=t,this.div=r,z(this,Pm,s),z(this,Mc,o),this.viewport=c,z(this,Cs,l),this.drawLayer=a,this._structTree=i,m(this,Pt).addLayer(this)}get isEmpty(){return m(this,ra).size===0}get isInvisible(){return this.isEmpty&&m(this,Pt).getMode()===tn.NONE}updateToolbar(e){m(this,Pt).updateToolbar(e)}updateMode(e=m(this,Pt).getMode()){switch(W(this,os,tA).call(this),e){case tn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case tn.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case tn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of m(gl,Zh).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=m(this,Cs))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(m(this,Pt).getMode()!==tn.INK)return;if(!e){for(const r of m(this,ra).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){m(this,Pt).setEditingState(e)}addCommands(e){m(this,Pt).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=m(this,Mc))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of m(this,ra).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(m(this,Pt).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!m(this,Mc))return;const t=m(this,Mc).getEditableAnnotations();for(const r of t){if(r.hide(),m(this,Pt).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;z(this,$v,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of m(this,ra).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(m(this,Mc)){const s=m(this,Mc).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(m(this,Pt).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(m(this,Pt).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}W(this,os,tA).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of m(gl,Zh).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),z(this,$v,!1)}getEditableAnnotation(e){var t;return((t=m(this,Mc))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,Pt).getActive()!==e&&m(this,Pt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=m(this,Cs))!=null&&e.div&&!m(this,rd)){z(this,rd,new AbortController);const t=m(this,Pt).combinedSignal(m(this,rd));m(this,Cs).div.addEventListener("pointerdown",W(this,os,sK).bind(this),{signal:t}),m(this,Cs).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,Cs))!=null&&e.div&&m(this,rd)&&(m(this,rd).abort(),z(this,rd,null),m(this,Cs).div.classList.remove("highlighting"))}enableClick(){if(m(this,Qh))return;z(this,Qh,new AbortController);const e=m(this,Pt).combinedSignal(m(this,Qh));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=m(this,Qh))==null||e.abort(),z(this,Qh,null)}attach(e){m(this,ra).set(e.id,e);const{annotationElementId:t}=e;t&&m(this,Pt).isDeletedAnnotationElement(t)&&m(this,Pt).removeDeletedAnnotationElement(e)}detach(e){var t;m(this,ra).delete(e.id),(t=m(this,Pm))==null||t.removePointerInTextLayer(e.contentDiv),!m(this,$v)&&e.annotationElementId&&m(this,Pt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,Pt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,m(this,zv)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,Pt).addDeletedAnnotationElement(e.annotationElementId),$n.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,Pt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),m(this,Pt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!m(this,nd)&&(e._focusEventsAllowed=!1,z(this,nd,setTimeout(()=>{z(this,nd,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,Pt)._signal}),t.focus())},0))),e._structTreeParentId=(r=m(this,Pm))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return m(this,Pt).getId()}combinedSignal(e){return m(this,Pt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=m(this,os,VP))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){m(this,Pt).updateToolbar(e),m(this,Pt).updateMode(e);const{offsetX:r,offsetY:i}=W(this,os,$P).call(this),s=this.getNextId(),o=W(this,os,zP).call(this,{parent:this,id:s,x:r,y:i,uiManager:m(this,Pt),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=m(gl,Zh).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,m(this,Pt)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=W(this,os,zP).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,Pt),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(W(this,os,$P).call(this),!0)}setSelected(e){m(this,Pt).setSelected(e)}toggleSelected(e){m(this,Pt).toggleSelected(e)}unselect(e){m(this,Pt).unselect(e)}pointerup(e){const{isMac:t}=Zs.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&m(this,Jh)){if(z(this,Jh,!1),!m(this,Vv)){z(this,Vv,!0);return}if(m(this,Pt).getMode()===tn.STAMP){m(this,Pt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(m(this,Pt).getMode()===tn.HIGHLIGHT&&this.enableTextSelection(),m(this,Jh)){z(this,Jh,!1);return}const{isMac:t}=Zs.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;z(this,Jh,!0);const r=m(this,Pt).getActive();z(this,Vv,!r||r.isEmpty())}findNewParent(e,t,r){const i=m(this,Pt).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=m(this,Pt).getActive())==null?void 0:e.parent)===this&&(m(this,Pt).commitOrRemove(),m(this,Pt).setActiveEditor(null)),m(this,nd)&&(clearTimeout(m(this,nd)),z(this,nd,null));for(const r of m(this,ra).values())(t=m(this,Pm))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,m(this,ra).clear(),m(this,Pt).removeLayer(this)}render({viewport:e}){this.viewport=e,ng(this.div,e);for(const t of m(this,Pt).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){m(this,Pt).commitOrRemove(),W(this,os,tA).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,ng(this.div,{rotation:r}),t!==r)for(const i of m(this,ra).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return m(this,Pt).viewParameters.realScale}};Pm=new WeakMap,Vv=new WeakMap,Mc=new WeakMap,Qh=new WeakMap,nd=new WeakMap,ra=new WeakMap,Jh=new WeakMap,zv=new WeakMap,$v=new WeakMap,Cs=new WeakMap,rd=new WeakMap,Pt=new WeakMap,Zh=new WeakMap,os=new WeakSet,sK=function(e){m(this,Pt).unselectAll();const{target:t}=e;if(t===m(this,Cs).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&m(this,Cs).div.contains(t)){const{isMac:r}=Zs.platform;if(e.button!==0||e.ctrlKey&&r)return;m(this,Pt).showAllEditors("highlight",!0,!0),m(this,Cs).div.classList.add("free"),this.toggleDrawing(),mE.startHighlighting(this,m(this,Pt).direction==="ltr",{target:m(this,Cs).div,x:e.x,y:e.y}),m(this,Cs).div.addEventListener("pointerup",()=>{m(this,Cs).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:m(this,Pt)._signal}),e.preventDefault()}},VP=function(){return m(gl,Zh).get(m(this,Pt).getMode())},zP=function(e){const t=m(this,os,VP);return t?new t.prototype.constructor(e):null},$P=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),c=(s+a)/2-e,u=(o+l)/2-t,[h,p]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:h,offsetY:p}},tA=function(){z(this,zv,!0);for(const e of m(this,ra).values())e.isEmpty()&&e.remove();z(this,zv,!1)},rt(gl,"_initialized",!1),K(gl,Zh,new Map([wP,TP,OP,mE].map(e=>[e._editorType,e])));let UP=gl;var jc,F2,ci,id,B2,qP,ag,WP,oK;const Yi=class Yi{constructor({pageIndex:e}){K(this,ag);K(this,jc,null);K(this,F2,0);K(this,ci,new Map);K(this,id,new Map);this.pageIndex=e}setParent(e){if(!m(this,jc)){z(this,jc,e);return}if(m(this,jc)!==e){if(m(this,ci).size>0)for(const t of m(this,ci).values())t.remove(),e.append(t);z(this,jc,e)}}static get _svgFactory(){return wn(this,"_svgFactory",new uL)}draw(e,t,r,i=!1){const s=Ii(this,F2)._++,o=W(this,ag,WP).call(this,e.box);o.classList.add(...e.classNamesForDrawing);const a=Yi._svgFactory.createElement("defs");o.append(a);const l=Yi._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),i&&m(this,id).set(s,l);const u=W(this,ag,oK).call(this,a,c),h=Yi._svgFactory.createElement("use");return o.append(h),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),h.setAttribute("href",`#${c}`),m(this,ci).set(s,o),{id:s,clipPathId:`url(#${u})`}}drawOutline(e){const t=Ii(this,F2)._++,r=W(this,ag,WP).call(this,e.box);r.classList.add(...e.classNamesForOutlining);const i=Yi._svgFactory.createElement("defs");r.append(i);const s=Yi._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.mustRemoveSelfIntersections){const u=Yi._svgFactory.createElement("mask");i.append(u),a=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",a),u.setAttribute("maskUnits","objectBoundingBox");const h=Yi._svgFactory.createElement("rect");u.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const p=Yi._svgFactory.createElement("use");u.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const l=Yi._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return r.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),m(this,ci).set(t,r),t}finalizeLine(e,t){const r=m(this,id).get(e);m(this,id).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){m(this,ci).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){m(this,id).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;W(r=Yi,B2,qP).call(r,m(this,ci).get(e),t)}show(e,t){m(this,ci).get(e).classList.toggle("hidden",!t)}rotate(e,t){m(this,ci).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){m(this,ci).get(e).setAttribute("fill",t)}changeOpacity(e,t){m(this,ci).get(e).setAttribute("fill-opacity",t)}addClass(e,t){m(this,ci).get(e).classList.add(t)}removeClass(e,t){m(this,ci).get(e).classList.remove(t)}getSVGRoot(e){return m(this,ci).get(e)}remove(e){m(this,id).delete(e),m(this,jc)!==null&&(m(this,ci).get(e).remove(),m(this,ci).delete(e))}destroy(){z(this,jc,null);for(const e of m(this,ci).values())e.remove();m(this,ci).clear(),m(this,id).clear()}};jc=new WeakMap,F2=new WeakMap,ci=new WeakMap,id=new WeakMap,B2=new WeakSet,qP=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},ag=new WeakSet,WP=function(e){var r;const t=Yi._svgFactory.create(1,1,!0);return m(this,jc).append(t),t.setAttribute("aria-hidden",!0),W(r=Yi,B2,qP).call(r,t,e),t},oK=function(e,t){const r=Yi._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Yi._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},K(Yi,B2);let HP=Yi;var Kbe=Yt.AbortException,Ybe=Yt.AnnotationEditorLayer,Xbe=Yt.AnnotationEditorParamsType,Qbe=Yt.AnnotationEditorType,Jbe=Yt.AnnotationEditorUIManager,aK=Yt.AnnotationLayer,lK=Yt.AnnotationMode,Zbe=Yt.ColorPicker,e2e=Yt.DOMSVGFactory,t2e=Yt.DrawLayer,n2e=Yt.FeatureTest,hL=Yt.GlobalWorkerOptions,r2e=Yt.ImageKind,i2e=Yt.InvalidPDFException,s2e=Yt.MissingPDFException,o2e=Yt.OPS,a2e=Yt.OutputScale,l2e=Yt.PDFDataRangeTransport,c2e=Yt.PDFDateString,u2e=Yt.PDFWorker,d2e=Yt.PasswordResponses,h2e=Yt.PermissionFlag,f2e=Yt.PixelsPerInch,p2e=Yt.RenderingCancelledException,cK=Yt.TextLayer,m2e=Yt.UnexpectedResponseException,g2e=Yt.Util,v2e=Yt.VerbosityLevel,y2e=Yt.XfaLayer,w2e=Yt.build,b2e=Yt.createValidAbsoluteUrl,x2e=Yt.fetchData,uK=Yt.getDocument,_2e=Yt.getFilenameFromUrl,A2e=Yt.getPdfFilenameFromUrl,E2e=Yt.getXfaPageViewport,S2e=Yt.isDataScheme,C2e=Yt.isPdfFile,N2e=Yt.noContextMenu,T2e=Yt.normalizeUnicode,k2e=Yt.setLayerDimensions,I2e=Yt.shadow,dK=Yt.version;const P2e=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Kbe,AnnotationEditorLayer:Ybe,AnnotationEditorParamsType:Xbe,AnnotationEditorType:Qbe,AnnotationEditorUIManager:Jbe,AnnotationLayer:aK,AnnotationMode:lK,ColorPicker:Zbe,DOMSVGFactory:e2e,DrawLayer:t2e,FeatureTest:n2e,GlobalWorkerOptions:hL,ImageKind:r2e,InvalidPDFException:i2e,MissingPDFException:s2e,OPS:o2e,OutputScale:a2e,PDFDataRangeTransport:l2e,PDFDateString:c2e,PDFWorker:u2e,PasswordResponses:d2e,PermissionFlag:h2e,PixelsPerInch:f2e,RenderingCancelledException:p2e,TextLayer:cK,UnexpectedResponseException:m2e,Util:g2e,VerbosityLevel:v2e,XfaLayer:y2e,build:w2e,createValidAbsoluteUrl:b2e,fetchData:x2e,getDocument:uK,getFilenameFromUrl:_2e,getPdfFilenameFromUrl:A2e,getXfaPageViewport:E2e,isDataScheme:S2e,isPdfFile:C2e,noContextMenu:N2e,normalizeUnicode:T2e,setLayerDimensions:k2e,shadow:I2e,version:dK},Symbol.toStringTag,{value:"Module"}));var Pi=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},R2e=["onCopy","onCut","onPaste"],L2e=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],D2e=["onFocus","onBlur"],M2e=["onInput","onInvalid","onReset","onSubmit"],j2e=["onLoad","onError"],O2e=["onKeyDown","onKeyPress","onKeyUp"],F2e=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],B2e=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],U2e=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],V2e=["onSelect"],z2e=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],$2e=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],H2e=["onScroll"],q2e=["onWheel"],W2e=["onAnimationStart","onAnimationEnd","onAnimationIteration"],G2e=["onTransitionEnd"],K2e=["onToggle"],Y2e=["onChange"],X2e=Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi([],R2e,!0),L2e,!0),D2e,!0),M2e,!0),j2e,!0),O2e,!0),F2e,!0),B2e,!0),U2e,!0),V2e,!0),z2e,!0),$2e,!0),H2e,!0),q2e,!0),W2e,!0),G2e,!0),Y2e,!0),K2e,!0);function hK(n,e){var t={};return X2e.forEach(function(r){var i=n[r];i&&(e?t[r]=function(s){return i(s,e(r))}:t[r]=i)}),t}function Sx(n){var e=!1,t=new Promise(function(r,i){n.then(function(s){return!e&&r(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}var Q2e="Invariant failed";function nr(n,e){if(!n)throw new Error(Q2e)}var J2e=function(){},Z2e=J2e;const Ps=v1(Z2e);var WF=Object.prototype.hasOwnProperty;function GF(n,e,t){for(t of n.keys())if(j0(t,e))return t}function j0(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&j0(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=GF(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=GF(e,i),!i)||!j0(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(WF.call(n,t)&&++r&&!WF.call(e,t)||!(t in e)||!j0(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const fK=D.createContext(null);function O0({children:n,type:e}){return d.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const exe="noopener noreferrer nofollow";class txe{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return nr(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){nr(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{nr(this.pdfDocument),nr(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{nr(Array.isArray(t));const r=t[0];new Promise(i=>{nr(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{nr(!1)}):typeof r=="number"?i(r):nr(!1)}).then(i=>{const s=i+1;nr(this.pdfViewer),nr(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;nr(this.pdfViewer),nr(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||exe,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const KF={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},nC=typeof window<"u",pK=nC&&window.location.protocol==="file:";function nxe(n){return typeof n<"u"}function op(n){return nxe(n)&&n!==null}function rxe(n){return typeof n=="string"}function ixe(n){return n instanceof ArrayBuffer}function sxe(n){return nr(nC),n instanceof Blob}function GP(n){return rxe(n)&&/^data:/.test(n)}function YF(n){nr(GP(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function oxe(){return nC&&window.devicePixelRatio||1}const mK="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function XF(){Ps(!pK,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${mK}`)}function axe(){Ps(!pK,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${mK}`)}function sg(n){n!=null&&n.cancel&&n.cancel()}function KP(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function lxe(n){return n.name==="RenderingCancelledException"}function cxe(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function uxe(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function g1(){return D.useReducer(uxe,{value:void 0,error:void 0})}var dxe=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},QF=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{PDFDataRangeTransport:hxe}=P2e,fxe=(n,e)=>{switch(e){case KF.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case KF.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function JF(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const pxe=D.forwardRef(function(e,t){var{children:r,className:i,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:c,imageResourcesPath:u,loading:h="Loading PDF",noData:p="No PDF file specified.",onItemClick:f,onLoadError:b,onLoadProgress:y,onLoadSuccess:_,onPassword:w=fxe,onSourceError:A,onSourceSuccess:E,options:C,renderMode:F,rotate:V}=e,L=QF(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[N,I]=g1(),{value:j,error:k}=N,[M,R]=g1(),{value:q,error:ce}=M,de=D.useRef(new txe),ae=D.useRef([]),Q=D.useRef(void 0),ne=D.useRef(void 0);l&&l!==Q.current&&JF(l)&&(Ps(!j0(l,Q.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Q.current=l),C&&C!==ne.current&&(Ps(!j0(C,ne.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ne.current=C);const ge=D.useRef({scrollPageIntoView:Te=>{const{dest:Le,pageNumber:J,pageIndex:Oe=J-1}=Te;if(f){f({dest:Le,pageIndex:Oe,pageNumber:J});return}const Xe=ae.current[Oe];if(Xe){Xe.scrollIntoView();return}Ps(!1,`An internal link leading to page ${J} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});D.useImperativeHandle(t,()=>({linkService:de,pages:ae,viewer:ge}),[]);function pe(){E&&E()}function U(){k&&(Ps(!1,k.toString()),A&&A(k))}function X(){I({type:"RESET"})}D.useEffect(X,[l,I]);const re=D.useCallback(()=>dxe(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return GP(l)?{data:YF(l)}:(XF(),{url:l});if(l instanceof hxe)return{range:l};if(ixe(l))return{data:l};if(nC&&sxe(l))return{data:yield cxe(l)};if(nr(typeof l=="object"),nr(JF(l)),"url"in l&&typeof l.url=="string"){if(GP(l.url)){const{url:Te}=l,Le=QF(l,["url"]),J=YF(Te);return Object.assign({data:J},Le)}XF()}return l}),[l]);D.useEffect(()=>{const Te=Sx(re());return Te.promise.then(Le=>{I({type:"RESOLVE",value:Le})}).catch(Le=>{I({type:"REJECT",error:Le})}),()=>{sg(Te)}},[re,I]),D.useEffect(()=>{if(!(typeof j>"u")){if(j===!1){U();return}pe()}},[j]);function le(){q&&(_&&_(q),ae.current=new Array(q.numPages),de.current.setDocument(q))}function he(){ce&&(Ps(!1,ce.toString()),b&&b(ce))}D.useEffect(function(){R({type:"RESET"})},[R,j]),D.useEffect(function(){if(!j)return;const Le=C?Object.assign(Object.assign({},j),C):j,J=uK(Le);y&&(J.onProgress=y),w&&(J.onPassword=w);const Oe=J,Xe=Oe.promise.then(Ge=>{R({type:"RESOLVE",value:Ge})}).catch(Ge=>{Oe.destroyed||R({type:"REJECT",error:Ge})});return()=>{Xe.finally(()=>Oe.destroy())}},[C,R,j]),D.useEffect(()=>{if(!(typeof q>"u")){if(q===!1){he();return}le()}},[q]),D.useEffect(function(){de.current.setViewer(ge.current),de.current.setExternalLinkRel(o),de.current.setExternalLinkTarget(a)},[o,a]);const ue=D.useCallback((Te,Le)=>{ae.current[Te]=Le},[]),_e=D.useCallback(Te=>{delete ae.current[Te]},[]),xe=D.useMemo(()=>({imageResourcesPath:u,linkService:de.current,onItemClick:f,pdf:q,registerPage:ue,renderMode:F,rotate:V,unregisterPage:_e}),[u,f,q,ue,F,V,_e]),Ae=D.useMemo(()=>hK(L,()=>q),[L,q]);function je(){return d.jsx(fK.Provider,{value:xe,children:r})}function Se(){return l?q==null?d.jsx(O0,{type:"loading",children:typeof h=="function"?h():h}):q===!1?d.jsx(O0,{type:"error",children:typeof s=="function"?s():s}):je():d.jsx(O0,{type:"no-data",children:typeof p=="function"?p():p})}return d.jsx("div",Object.assign({className:x1("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},Ae,{children:Se()}))});function gK(){return D.useContext(fK)}function vK(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const yK=D.createContext(null),wK={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},mxe=/^H(\d+)$/;function gxe(n){return n in wK}function rC(n){return"children"in n}function bK(n){return rC(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function vxe(n){const e={};if(rC(n)){const{role:t}=n,r=t.match(mxe);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(gxe(t)){const i=wK[t];i&&(e.role=i)}}return e}function xK(n){const e={};if(rC(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),bK(n)){const[t]=n.children;if(t){const r=xK(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function yxe(n){return n?Object.assign(Object.assign({},vxe(n)),xK(n)):null}function _K({className:n,node:e}){const t=D.useMemo(()=>yxe(e),[e]),r=D.useMemo(()=>!rC(e)||bK(e)?null:e.children.map((i,s)=>d.jsx(_K,{node:i},s)),[e]);return d.jsx("span",Object.assign({className:n},t,{children:r}))}function iC(){return D.useContext(yK)}function wxe(){const n=iC();nr(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=g1(),{value:s,error:o}=r,{customTextRenderer:a,page:l}=n;function c(){s&&t&&t(s)}function u(){o&&(Ps(!1,o.toString()),e&&e(o))}return D.useEffect(function(){i({type:"RESET"})},[i,l]),D.useEffect(function(){if(a||!l)return;const p=Sx(l.getStructTree()),f=p;return p.promise.then(b=>{i({type:"RESOLVE",value:b})}).catch(b=>{i({type:"REJECT",error:b})}),()=>sg(f)},[a,l,i]),D.useEffect(()=>{if(s!==void 0){if(s===!1){u();return}c()}},[s]),s?d.jsx(_K,{className:"react-pdf__Page__structTree structTree",node:s}):null}const ZF=lK;function bxe(n){const e=iC();nr(e);const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:i,devicePixelRatio:s=oxe(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:u,rotate:h,scale:p}=t,{canvasRef:f}=n;nr(l);const b=D.useRef(null);function y(){l&&a&&a(KP(l,p))}function _(C){lxe(C)||(Ps(!1,C.toString()),o&&o(C))}const w=D.useMemo(()=>l.getViewport({scale:p*s,rotation:h}),[s,l,h,p]),A=D.useMemo(()=>l.getViewport({scale:p,rotation:h}),[l,h,p]);D.useEffect(function(){if(!l)return;l.cleanup();const{current:F}=b;if(!F)return;F.width=w.width,F.height=w.height,F.style.width=`${Math.floor(A.width)}px`,F.style.height=`${Math.floor(A.height)}px`,F.style.visibility="hidden";const V={annotationMode:c?ZF.ENABLE_FORMS:ZF.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:w};i&&(V.background=i);const L=l.render(V),N=L;return L.promise.then(()=>{F.style.visibility="",y()}).catch(_),()=>sg(N)},[i,l,c,w,A]);const E=D.useCallback(()=>{const{current:C}=b;C&&(C.width=0,C.height=0)},[]);return D.useEffect(()=>E,[E]),d.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:vK(f,b),style:{display:"block",userSelect:"none"},children:u?d.jsx(wxe,{}):null})}function xxe(n){return"str"in n}function _xe(){const n=iC();nr(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:u}=n;nr(o);const[h,p]=g1(),{value:f,error:b}=h,y=D.useRef(null);Ps(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function _(){f&&r&&r(f)}function w(){b&&(Ps(!1,b.toString()),t&&t(b))}D.useEffect(function(){p({type:"RESET"})},[o,p]),D.useEffect(function(){if(!o)return;const N=Sx(o.getTextContent()),I=N;return N.promise.then(j=>{p({type:"RESOLVE",value:j})}).catch(j=>{p({type:"REJECT",error:j})}),()=>sg(I)},[o,p]),D.useEffect(()=>{if(f!==void 0){if(f===!1){w();return}_()}},[f]);const A=D.useCallback(()=>{s&&s()},[s]),E=D.useCallback(L=>{Ps(!1,L.toString()),i&&i(L)},[i]);function C(){const L=y.current;L&&L.classList.add("selecting")}function F(){const L=y.current;L&&L.classList.remove("selecting")}const V=D.useMemo(()=>o.getViewport({scale:u,rotation:c}),[o,c,u]);return D.useLayoutEffect(function(){if(!o||!f)return;const{current:N}=y;if(!N)return;N.innerHTML="";const I=o.streamTextContent({includeMarkedContent:!0}),j={container:N,textContentSource:I,viewport:V},k=new cK(j),M=k;return k.render().then(()=>{const R=document.createElement("div");R.className="endOfContent",N.append(R);const q=N.querySelectorAll('[role="presentation"]');if(e){let ce=0;f.items.forEach((de,ae)=>{if(!xxe(de))return;const Q=q[ce];if(!Q)return;const ne=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:ae},de));Q.innerHTML=ne,ce+=de.str&&de.hasEOL?2:1})}A()}).catch(E),()=>sg(M)},[e,E,A,o,a,l,f,V]),d.jsx("div",{className:x1("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:C,ref:y})}function Axe(){const n=gK(),e=iC();nr(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:u,renderForms:h,rotate:p,scale:f=1}=t;nr(u),nr(c),nr(i);const[b,y]=g1(),{value:_,error:w}=b,A=D.useRef(null);Ps(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function E(){_&&o&&o(_)}function C(){w&&(Ps(!1,w.toString()),s&&s(w))}D.useEffect(function(){y({type:"RESET"})},[y,c]),D.useEffect(function(){if(!c)return;const I=Sx(c.getAnnotations()),j=I;return I.promise.then(k=>{y({type:"RESOLVE",value:k})}).catch(k=>{y({type:"REJECT",error:k})}),()=>{sg(j)}},[y,c]),D.useEffect(()=>{if(_!==void 0){if(_===!1){C();return}E()}},[_]);function F(){l&&l()}function V(N){Ps(!1,`${N}`),a&&a(N)}const L=D.useMemo(()=>c.getViewport({scale:f,rotation:p}),[c,p,f]);return D.useEffect(function(){if(!u||!c||!i||!_)return;const{current:I}=A;if(!I)return;const j=L.clone({dontFlip:!0}),k={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:I,l10n:null,page:c,structTreeLayer:null,viewport:j},M={annotations:_,annotationStorage:u.annotationStorage,div:I,imageResourcesPath:r,linkService:i,page:c,renderForms:h,viewport:j};I.innerHTML="";try{new aK(k).render(M),F()}catch(R){V(R)}return()=>{}},[_,r,i,c,u,h,L]),d.jsx("div",{className:x1("react-pdf__Page__annotations","annotationLayer"),ref:A})}var Exe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const e8=1;function Sxe(n){const e=gK(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:u,devicePixelRatio:h,error:p="Failed to load the page.",height:f,inputRef:b,loading:y="Loading page",noData:_="No page specified.",onGetAnnotationsError:w,onGetAnnotationsSuccess:A,onGetStructTreeError:E,onGetStructTreeSuccess:C,onGetTextError:F,onGetTextSuccess:V,onLoadError:L,onLoadSuccess:N,onRenderAnnotationLayerError:I,onRenderAnnotationLayerSuccess:j,onRenderError:k,onRenderSuccess:M,onRenderTextLayerError:R,onRenderTextLayerSuccess:q,pageIndex:ce,pageNumber:de,pdf:ae,registerPage:Q,renderAnnotationLayer:ne=!0,renderForms:ge=!1,renderMode:pe="canvas",renderTextLayer:U=!0,rotate:X,scale:re=e8,unregisterPage:le,width:he}=t,ue=Exe(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[_e,xe]=g1(),{value:Ae,error:je}=_e,Se=D.useRef(null);nr(ae);const Te=op(de)?de-1:ce??null,Le=de??(op(ce)?ce+1:null),J=X??(Ae?Ae.rotate:null),Oe=D.useMemo(()=>{if(!Ae)return null;let dt=1;const Bt=re??e8;if(he||f){const st=Ae.getViewport({scale:1,rotation:J});he?dt=he/st.width:f&&(dt=f/st.height)}return Bt*dt},[f,Ae,J,re,he]);D.useEffect(function(){return()=>{op(Te)&&i&&le&&le(Te)}},[i,ae,Te,le]);function Xe(){if(N){if(!Ae||!Oe)return;N(KP(Ae,Oe))}if(i&&Q){if(!op(Te)||!Se.current)return;Q(Te,Se.current)}}function Ge(){je&&(Ps(!1,je.toString()),L&&L(je))}D.useEffect(function(){xe({type:"RESET"})},[xe,ae,Te]),D.useEffect(function(){if(!ae||!Le)return;const Bt=Sx(ae.getPage(Le)),st=Bt;return Bt.promise.then(kt=>{xe({type:"RESOLVE",value:kt})}).catch(kt=>{xe({type:"REJECT",error:kt})}),()=>sg(st)},[xe,ae,Le]),D.useEffect(()=>{if(Ae!==void 0){if(Ae===!1){Ge();return}Xe()}},[Ae,Oe]);const Ie=D.useMemo(()=>Ae&&op(Te)&&Le&&op(J)&&op(Oe)?{_className:r,canvasBackground:s,customTextRenderer:u,devicePixelRatio:h,onGetAnnotationsError:w,onGetAnnotationsSuccess:A,onGetStructTreeError:E,onGetStructTreeSuccess:C,onGetTextError:F,onGetTextSuccess:V,onRenderAnnotationLayerError:I,onRenderAnnotationLayerSuccess:j,onRenderError:k,onRenderSuccess:M,onRenderTextLayerError:R,onRenderTextLayerSuccess:q,page:Ae,pageIndex:Te,pageNumber:Le,renderForms:ge,renderTextLayer:U,rotate:J,scale:Oe}:null,[r,s,u,h,w,A,E,C,F,V,I,j,k,M,R,q,Ae,Te,Le,ge,U,J,Oe]),ut=D.useMemo(()=>hK(ue,()=>Ae&&(Oe?KP(Ae,Oe):void 0)),[ue,Ae,Oe]),Qe=`${Te}@${Oe}/${J}`;function De(){switch(pe){case"custom":return nr(c),d.jsx(c,{},`${Qe}_custom`);case"none":return null;case"canvas":default:return d.jsx(bxe,{canvasRef:o},`${Qe}_canvas`)}}function Ve(){return U?d.jsx(_xe,{},`${Qe}_text`):null}function nt(){return ne?d.jsx(Axe,{},`${Qe}_annotations`):null}function Ct(){return d.jsxs(yK.Provider,{value:Ie,children:[De(),Ve(),nt(),a]})}function We(){return Le?ae===null||Ae===void 0||Ae===null?d.jsx(O0,{type:"loading",children:typeof y=="function"?y():y}):ae===!1||Ae===!1?d.jsx(O0,{type:"error",children:typeof p=="function"?p():p}):Ct():d.jsx(O0,{type:"no-data",children:typeof _=="function"?_():_})}return d.jsx("div",Object.assign({className:x1(r,l),"data-page-number":Le,ref:vK(b,Se),style:{"--scale-factor":`${Oe}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},ut,{children:We()}))}axe();hL.workerSrc="pdf.worker.mjs";hL.workerSrc=`//unpkg.com/pdfjs-dist@${dK}/build/pdf.worker.min.mjs`;const AK=({file:n,signatureImage:e,signaturePosition:t,onSignaturePlace:r,onSignatureMove:i})=>{const[s,o]=D.useState(0),[a,l]=D.useState(1),[c,u]=D.useState(!1),h=D.useRef(null),p=({numPages:w})=>{o(w)},f=w=>{if(!e||c)return;const A=w.currentTarget.getBoundingClientRect(),E=(w.clientX-A.left)/A.width*100,C=(w.clientY-A.top)/A.height*100;r({x:E,y:C,page:a})},b=w=>{w.preventDefault(),u(!0)},y=w=>{if(!c||!t)return;const A=w.currentTarget.getBoundingClientRect(),E=Math.max(0,Math.min(100,(w.clientX-A.left)/A.width*100)),C=Math.max(0,Math.min(100,(w.clientY-A.top)/A.height*100));i({x:E,y:C,page:t.page})},_=()=>{u(!1)};return d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx(Ye,{variant:"outline",size:"icon",onClick:()=>l(w=>Math.max(1,w-1)),disabled:a<=1,children:d.jsx(FJ,{className:"h-4 w-4"})}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",a," of ",s]}),d.jsx(Ye,{variant:"outline",size:"icon",onClick:()=>l(w=>Math.min(s,w+1)),disabled:a>=s,children:d.jsx(ZE,{className:"h-4 w-4"})})]}),d.jsxs("div",{ref:h,className:"relative border border-border rounded-lg overflow-hidden cursor-crosshair",onClick:f,onMouseMove:y,onMouseUp:_,onMouseLeave:_,children:[d.jsx(pxe,{file:n,onLoadSuccess:p,children:d.jsx(Sxe,{pageNumber:a,width:600,renderTextLayer:!0,renderAnnotationLayer:!0})}),e&&t&&t.page===a&&d.jsx("div",{className:"absolute cursor-move select-none",style:{left:`${t.x}%`,top:`${t.y}%`,transform:"translate(-50%, -50%)"},onMouseDown:b,children:d.jsx("img",{src:e,alt:"Signature",className:"max-w-[200px] max-h-[80px] pointer-events-none",draggable:!1})})]}),e&&!t&&d.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Click on the document to place your signature"})]})},Cxe=Object.freeze(Object.defineProperty({__proto__:null,PDFViewer:AK},Symbol.toStringTag,{value:"Module"})),Nxe=()=>{const{id:n}=hre(),e=Uf(),[t,r]=D.useState(!0),[i,s]=D.useState(null),[o,a]=D.useState(null),[l,c]=D.useState(null),[u,h]=D.useState([]),[p,f]=D.useState(!1),[b,y]=D.useState(!1),[_,w]=D.useState(!1);D.useEffect(()=>{(async()=>{if(n)try{const V=sf(wl,"documents",n),L=await uH(V);if(L.exists()){const N=L.data();if(s(N),N.status==="completed"||N.status==="signed"){w(!0),r(!1);return}if(N.fileUrl){const j=await(await fetch(N.fileUrl)).blob(),k=new File([j],N.name||"document.pdf",{type:"application/pdf"});a(k)}else if(N.pdfBase64){const j=await(await fetch(N.pdfBase64)).blob(),k=new File([j],N.name||"document.pdf",{type:"application/pdf"});a(k)}else ot.error("Document file not found.")}else ot.error("Document not found."),e("/")}catch(V){console.error("Error fetching document:",V),ot.error("Failed to load document.")}finally{r(!1)}})()},[n,e]);const A=F=>{c(F),f(!1),ot.success("Signature created! Click on the document to place it.")},E=F=>{h(V=>[...V,F]),ot.success("Signature placed!")},C=async()=>{if(!l||u.length===0||!n){ot.error("Please place at least one signature on the document.");return}y(!0);try{await Hpe(sf(wl,"documents",n),{status:"signed",signature_data:l,signature_positions:u,signedAt:Qk()}),w(!0),ot.success("Document signed successfully!")}catch(F){console.error("Error signing document:",F),ot.error("Failed to submit signature.")}finally{y(!1)}};return t?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx(ns,{className:"w-8 h-8 animate-spin text-primary"})}):_?d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 text-center bg-muted/30",children:[d.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:d.jsx($a,{className:"w-8 h-8 text-green-600"})}),d.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Document Signed Successfully!"}),d.jsxs("p",{className:"text-muted-foreground mb-6 max-w-md",children:["Thank you for signing ",d.jsx("strong",{children:i==null?void 0:i.name}),"."]}),d.jsx(Ye,{onClick:()=>e("/dashboard"),children:"Go to Dashboard"})]}):d.jsxs("div",{className:"min-h-screen bg-muted/30 flex flex-col",children:[d.jsx("header",{className:"bg-background border-b border-border sticky top-0 z-50",children:d.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[d.jsx(no,{className:"h-8 w-auto"}),d.jsxs(Ye,{onClick:C,disabled:!l||u.length===0||b,className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:[b?d.jsx(ns,{className:"w-4 h-4 animate-spin md:mr-2"}):d.jsx(ks,{className:"w-4 h-4 md:mr-2"}),d.jsx("span",{className:"hidden md:inline",children:"Finish Signing"})]})]})}),d.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:d.jsxs("div",{className:"max-w-5xl mx-auto bg-card rounded-xl shadow-sm border border-border overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-border bg-muted/20 flex justify-between items-center",children:[d.jsxs("h2",{className:"font-semibold flex items-center gap-2",children:[d.jsx(Z9,{className:"w-4 h-4 text-primary"})," ",i==null?void 0:i.name]}),!l&&d.jsx(Ye,{size:"sm",variant:"outline",onClick:()=>f(!0),children:"Create Signature"})]}),d.jsx("div",{className:"p-6 bg-muted/10 min-h-[600px] flex justify-center",children:o&&d.jsx(AK,{file:o,signatureImage:l,signaturePositions:u,signaturePosition:u.length>0?u[u.length-1]:null,onSignaturePlace:E,onSignatureMove:F=>{h(V=>{const L=[...V];return L.length>0&&(L[L.length-1]=F),L})}})})]})}),p&&d.jsx(nW,{document:{id:n||"temp",name:(i==null?void 0:i.name)||"Document",status:"pending",signature_data:null,signature_type:null},onClose:()=>f(!1),onSave:A})]})},Txe=()=>{const[n,e]=D.useState(!1),[t,r]=D.useState(!1),[i,s]=D.useState(!1);D.useEffect(()=>{window.scrollTo(0,0)},[]);const o=[{category:"Product Updates",title:"New Feature: Bulk Send for Enterprise Teams",excerpt:"Efficiency just got an upgrade. Learn how to send hundreds of documents for signature in minutes with our new Bulk Send feature, designed for HR and Sales teams.",date:"Oct 24, 2024",readTime:"4 min read",author:"Product Team",image:"bg-blue-500/5"},{category:"Compliance",title:"Understanding eIDAS and ESIGN: A Global Compliance Guide",excerpt:"Navigating the complex world of digital signature legality. We break down what you need to know about regulations in the US, EU, and beyond.",date:"Oct 18, 2024",readTime:"7 min read",author:"Legal Team",image:"bg-purple-500/5"},{category:"Security",title:"How We Protect Your Data: SOC 2 & Encryption",excerpt:"Security is our top priority. A deep dive into our 256-bit encryption, audit trails, and why enterprise-grade security is non-negotiable.",date:"Oct 12, 2024",readTime:"5 min read",author:"Security Team",image:"bg-green-500/5"},{category:"Productivity",title:"5 Strategies to Close Deals Faster",excerpt:"Reduce friction in your sales cycle. Actionable tips for preparing contracts that get signed immediately, not next week.",date:"Oct 05, 2024",readTime:"3 min read",author:"Success Team",image:"bg-orange-500/5"},{category:"Engineering",title:"Building Scalable Real-Time Collaboration",excerpt:"A technical look at the WebSocket architecture behind Endorse's lightning-fast signature processing and live status updates.",date:"Sep 28, 2024",readTime:"9 min read",author:"Engineering",image:"bg-red-500/5"},{category:"Case Study",title:"How a Fortune 500 Firm Digitized HR Onboarding",excerpt:"See how moving to digital signatures saved 1,000+ hours of administrative work annually for a global logistics company.",date:"Sep 20, 2024",readTime:"7 min read",author:"Endorse Team",image:"bg-indigo-500/5"}];return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-strong border-b bordercab yo-border/40",children:[d.jsxs("div",{className:"container mx-auto px-6 h-20 flex items-center justify-between",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2.5","aria-label":"Endorse",children:d.jsx(no,{className:"h-14 w-auto drop-shadow-sm"})}),d.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[d.jsxs(hd,{children:[d.jsxs(fd,{className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors flex items-center gap-1 outline-none group",children:["Product ",d.jsx(ca,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Gc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/#features",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(ks,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"eSign"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Create, send, and track legally binding electronic signatures."})]})]})}),d.jsx(ni,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/conversion",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Hm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"File Conversion"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Transform documents between PDF, Word, and other formats."})]})]})})]})]}),d.jsx(et,{to:"/#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors",children:"Pricing"}),d.jsxs(hd,{children:[d.jsxs(fd,{className:"font-sans text-sm font-bold tracking-tight text-foreground transition-colors flex items-center gap-1 outline-none group",children:["Resources ",d.jsx(ca,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Gc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/blog",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Ks,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Blog"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Latest updates, articles, and insights."})]})]})}),d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(zm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Help Center"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Guides, tutorials, and support documentation."})]})]})}),d.jsx(ni,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx($m,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"API Docs"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Complete reference for developers."})]})]})})]})]}),d.jsx(et,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors",children:"Company"})]}),d.jsx("div",{className:"flex items-center gap-4",children:d.jsx(et,{to:"/auth",children:d.jsx(Ye,{className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:"Get Started"})})}),d.jsx("button",{className:"md:hidden text-foreground p-2",onClick:()=>e(!n),"aria-label":"Toggle menu",children:n?d.jsx(Ha,{className:"w-6 h-6"}):d.jsx(eS,{className:"w-6 h-6"})})]}),n&&d.jsxs("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-background border-b border-border p-4 flex flex-col gap-4 shadow-lg animate-in slide-in-from-top-5 h-[calc(100vh-4rem)] overflow-y-auto",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>r(!t),children:["Product",d.jsx(ca,{className:`w-4 h-4 transition-transform duration-200 ${t?"rotate-180":""}`})]}),t&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs(et,{to:"/#features",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(ks,{className:"w-4 h-4"})," eSign"]}),d.jsxs(et,{to:"/conversion",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Hm,{className:"w-4 h-4"})," File Conversion"]})]})]}),d.jsx(et,{to:"/#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>e(!1),children:"Pricing"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>s(!i),children:["Resources",d.jsx(ca,{className:`w-4 h-4 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs(et,{to:"/blog",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Ks,{className:"w-4 h-4"})," Blog"]}),d.jsxs(et,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(zm,{className:"w-4 h-4"})," Help Center"]}),d.jsxs(et,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx($m,{className:"w-4 h-4"})," API Docs"]})]})]}),d.jsx(et,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>e(!1),children:"Company"}),d.jsx("div",{className:"flex flex-col gap-3 mt-2",children:d.jsx(et,{to:"/auth",onClick:()=>e(!1),children:d.jsx(Ye,{className:"w-full bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:"Get Started"})})})]})]}),d.jsx("main",{className:"pt-24 md:pt-32 pb-16 md:pb-20 px-4 md:px-6",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsxs("div",{className:"text-center mb-20",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-sm font-medium mb-6",children:[d.jsx(Ks,{className:"w-4 h-4"}),"The Endorse Blog"]}),d.jsxs("h1",{className:"font-display text-3xl sm:text-4xl md:text-6xl font-bold mb-6 tracking-tight",children:["Insights for the ",d.jsx("br",{}),d.jsx("span",{className:"text-gradient",children:"Modern Workflow"})]}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-10",children:"Latest product updates, industry news, and tips to help you manage documents better."}),d.jsxs("div",{className:"max-w-md mx-auto relative",children:[d.jsx(rZ,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),d.jsx(ui,{placeholder:"Search articles...",className:"pl-10 h-12 bg-secondary/50 border-border focus:ring-primary","aria-label":"Search articles"})]})]}),d.jsx("div",{className:"mb-20",children:d.jsxs("div",{className:"group relative rounded-2xl bg-card border border-border overflow-hidden grid md:grid-cols-2 gap-8 hover:shadow-lg transition-all duration-500",children:[d.jsxs("div",{className:"aspect-video md:aspect-auto bg-secondary/50 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx(Ks,{className:"w-20 h-20 text-primary/20 group-hover:scale-110 transition-transform duration-700"})})]}),d.jsxs("div",{className:"p-6 md:p-12 flex flex-col justify-center",children:[d.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mb-4",children:[d.jsx("span",{className:"text-primary font-medium px-2.5 py-0.5 rounded-full bg-primary/10 text-xs uppercase tracking-wide",children:"Featured"}),d.jsx("span",{children:""}),d.jsx("span",{children:"Oct 24, 2024"})]}),d.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4 group-hover:text-primary transition-colors",children:"The Future of Digital Agreements: Trends to Watch in 2025"}),d.jsx("p",{className:"text-muted-foreground text-lg mb-8 leading-relaxed",children:"As remote work becomes permanent, the way we sign and manage contracts is evolving. Here are the key trends shaping the industry."}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center font-bold text-muted-foreground",children:d.jsx(no,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-sm",children:"Endorse Editorial"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Industry Trends"})]})]})]})]})}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((a,l)=>d.jsxs(et,{to:"#",className:"group flex flex-col h-full bg-card rounded-xl border border-border overflow-hidden hover:shadow-md transition-all duration-300",children:[d.jsx("div",{className:`aspect-[16/9] ${a.image} relative overflow-hidden`,children:d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-muted-foreground/20 group-hover:scale-105 transition-transform duration-500",children:d.jsx(Ks,{className:"w-12 h-12"})})}),d.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mb-3",children:[d.jsx("span",{className:"text-primary font-medium px-2 py-0.5 rounded-full bg-primary/10 uppercase tracking-wide",children:a.category}),d.jsx("span",{children:""}),d.jsx("span",{children:a.readTime})]}),d.jsx("h3",{className:"text-xl font-bold mb-3 group-hover:text-primary transition-colors leading-tight",children:a.title}),d.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-2 leading-relaxed flex-1",children:a.excerpt}),d.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border/50 mt-auto",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[d.jsx(sB,{className:"w-3 h-3"}),a.author]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:c=>{c.preventDefault(),navigator.share&&navigator.share({title:a.title,text:a.excerpt,url:window.location.href}).catch(()=>{})},className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"Share post",children:d.jsx(sZ,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex items-center text-xs font-semibold text-foreground group-hover:translate-x-1 transition-transform",children:["Read ",d.jsx(ZE,{className:"w-3 h-3 ml-1"})]})]})]})]})]},l))}),d.jsxs("div",{className:"mt-16 md:mt-24 rounded-2xl bg-secondary/30 border border-border p-6 md:p-12 text-center",children:[d.jsx("h3",{className:"font-display text-2xl md:text-3xl font-bold mb-4",children:"Subscribe to our newsletter"}),d.jsx("p",{className:"text-muted-foreground mb-8 max-w-xl mx-auto",children:"Get the latest articles, resources, and product updates delivered directly to your inbox."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[d.jsx(ui,{placeholder:"Enter your email",className:"bg-background","aria-label":"Email address"}),d.jsx(Ye,{children:"Subscribe"})]})]})]})}),d.jsx("footer",{className:"bg-background border-t border-border py-12 px-4 md:px-6",children:d.jsxs("div",{className:"container mx-auto max-w-6xl flex flex-col md:flex-row items-center justify-between gap-6",children:[d.jsxs("p",{className:"text-muted-foreground text-sm",children:[" ",new Date().getFullYear()," Endorse. All rights reserved."]}),d.jsxs("div",{className:"flex gap-6 text-sm text-muted-foreground",children:[d.jsx(et,{to:"/",className:"hover:text-foreground",children:"Home"}),d.jsx(et,{to:"/auth",className:"hover:text-foreground",children:"Sign In"}),d.jsx(et,{to:"/privacy",className:"hover:text-foreground",children:"Privacy"}),d.jsx(et,{to:"/terms",className:"hover:text-foreground",children:"Terms"})]})]})})]})},kxe="/assets/bankole-DIxerWJK.png",Ixe=()=>{const[n,e]=D.useState(!1),[t,r]=D.useState(!1),[i,s]=D.useState(!1);return D.useEffect(()=>{window.scrollTo(0,0)},[]),d.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[d.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-strong border-b border-border/40",children:[d.jsxs("div",{className:"container mx-auto px-6 h-20 flex items-center justify-between",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2.5","aria-label":"Endorse",children:d.jsx(no,{className:"h-14 w-auto drop-shadow-sm"})}),d.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[d.jsxs(hd,{children:[d.jsxs(fd,{className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors flex items-center gap-1 outline-none group",children:["Product ",d.jsx(ca,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Gc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/#features",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(ks,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"eSign"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Create, send, and track legally binding electronic signatures."})]})]})}),d.jsx(ni,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/conversion",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Hm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"File Conversion"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Transform documents between PDF, Word, and other formats."})]})]})})]})]}),d.jsx(et,{to:"/#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors",children:"Pricing"}),d.jsxs(hd,{children:[d.jsxs(fd,{className:"font-sans text-sm font-bold tracking-tight text-foreground hover:text-primary transition-colors flex items-center gap-1 outline-none group",children:["Resources ",d.jsx(ca,{className:"w-4 h-4 transition-transform duration-200 group-data-[state=open]:rotate-180"})]}),d.jsxs(Gc,{align:"start",className:"w-[340px] p-3",children:[d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"/blog",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(Ks,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Blog"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Latest updates, articles, and insights."})]})]})}),d.jsx(ni,{asChild:!0,className:"mb-1 cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx(zm,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"Help Center"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Guides, tutorials, and support documentation."})]})]})}),d.jsx(ni,{asChild:!0,className:"cursor-pointer rounded-lg focus:bg-accent",children:d.jsxs(et,{to:"#",className:"flex items-start gap-3 p-3 w-full",children:[d.jsx("div",{className:"bg-primary/10 p-2.5 rounded-md shrink-0",children:d.jsx($m,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold text-sm text-foreground",children:"API Docs"}),d.jsx("span",{className:"text-xs text-muted-foreground leading-snug",children:"Complete reference for developers."})]})]})})]})]}),d.jsx(et,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground transition-colors",children:"Company"})]}),d.jsx("div",{className:"flex items-center gap-4",children:d.jsx(et,{to:"/auth",children:d.jsx(Ye,{className:"bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:"Get Started"})})}),d.jsx("button",{className:"md:hidden text-foreground p-2",onClick:()=>e(!n),"aria-label":"Toggle menu",children:n?d.jsx(Ha,{className:"w-6 h-6"}):d.jsx(eS,{className:"w-6 h-6"})})]}),n&&d.jsxs("div",{className:"md:hidden absolute top-20 left-0 right-0 bg-background border-b border-border p-4 flex flex-col gap-4 shadow-lg animate-in slide-in-from-top-5 h-[calc(100vh-5rem)] overflow-y-auto",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>r(!t),children:["Product",d.jsx(ca,{className:`w-4 h-4 transition-transform duration-200 ${t?"rotate-180":""}`})]}),t&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs(et,{to:"/#features",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(ks,{className:"w-4 h-4"})," eSign"]}),d.jsxs(et,{to:"/conversion",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Hm,{className:"w-4 h-4"})," File Conversion"]})]})]}),d.jsx(et,{to:"/#pricing",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>e(!1),children:"Pricing"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("button",{className:"flex items-center justify-between font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors w-full text-left",onClick:()=>s(!i),children:["Resources",d.jsx(ca,{className:`w-4 h-4 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&d.jsxs("div",{className:"pl-4 flex flex-col gap-1 mt-1 border-l border-border/50 ml-2",children:[d.jsxs(et,{to:"/blog",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(Ks,{className:"w-4 h-4"})," Blog"]}),d.jsxs(et,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx(zm,{className:"w-4 h-4"})," Help Center"]}),d.jsxs(et,{to:"#",className:"flex items-center gap-2 text-sm text-muted-foreground p-2 hover:text-foreground hover:bg-accent/50 rounded-md",onClick:()=>e(!1),children:[d.jsx($m,{className:"w-4 h-4"})," API Docs"]})]})]}),d.jsx(et,{to:"/about",className:"font-sans text-sm font-bold tracking-tight text-foreground p-2 hover:bg-accent rounded-md transition-colors",onClick:()=>e(!1),children:"Company"}),d.jsx("div",{className:"flex flex-col gap-3 mt-2",children:d.jsx(et,{to:"/auth",onClick:()=>e(!1),children:d.jsx(Ye,{className:"w-full bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90",children:"Get Started"})})})]})]}),d.jsxs("main",{className:"pt-32",children:[d.jsx("section",{className:"px-4 md:px-6 pb-16 md:pb-20 text-center",children:d.jsxs("div",{className:"container mx-auto max-w-4xl",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-sm font-medium mb-6",children:[d.jsx(vD,{className:"w-4 h-4"}),"Our Company"]}),d.jsxs("h1",{className:"font-display text-4xl sm:text-5xl md:text-7xl font-bold mb-8 tracking-tight text-foreground",children:["We're changing the way ",d.jsx("br",{}),d.jsx("span",{className:"text-gradient",children:"the world agrees."})]}),d.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Endorse is dedicated to making every agreement digital, secure, and accessible from anywhere on the planet."})]})}),d.jsx("section",{className:"px-4 md:px-6 mb-16 md:mb-24",children:d.jsx("div",{className:"container mx-auto max-w-6xl",children:d.jsxs("div",{className:"aspect-video md:aspect-[21/9] rounded-3xl overflow-hidden relative bg-secondary",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-background to-secondary"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"grid grid-cols-3 gap-8 opacity-20 transform -rotate-12 scale-125",children:[...Array(9)].map((o,a)=>d.jsx("div",{className:"w-64 h-40 bg-foreground rounded-xl"},a))})}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 md:p-12 bg-gradient-to-t from-black/80 to-transparent text-white",children:d.jsx("p",{className:"font-display text-2xl md:text-3xl font-bold",children:"Connecting businesses and people."})})]})})}),d.jsx("section",{className:"px-4 md:px-6 py-16 md:py-20 bg-secondary/20",children:d.jsx("div",{className:"container mx-auto max-w-6xl",children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-10 md:gap-16 items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-6",children:"Our Mission"}),d.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:"Founded in 2024, Endorse started with a simple premise: paper contracts are a bottleneck to progress. We believe that agreements should be as fast and fluid as the rest of your work."}),d.jsx("p",{className:"text-lg text-muted-foreground mb-8 leading-relaxed",children:"We are at the beginning of our journey, building a platform for forward-thinking individuals and teams. Whether you're a freelancer or a growing startup, Endorse provides the secure infrastructure to help you scale."}),d.jsxs("div",{className:"flex gap-8",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-4xl font-bold text-primary mb-1",children:"100%"}),d.jsx("div",{className:"text-sm text-muted-foreground uppercase tracking-wider",children:"Committed"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-4xl font-bold text-primary mb-1",children:"Secure"}),d.jsx("div",{className:"text-sm text-muted-foreground uppercase tracking-wider",children:"By Design"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-4xl font-bold text-primary mb-1",children:"Global"}),d.jsx("div",{className:"text-sm text-muted-foreground uppercase tracking-wider",children:"Vision"})]})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary/20 to-purple-500/20 rounded-2xl blur-xl opacity-50"}),d.jsxs("div",{className:"relative bg-card border border-border p-8 rounded-2xl shadow-xl",children:[d.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[d.jsx(zw,{className:"w-5 h-5 text-green-500"}),"Built on Trust"]}),d.jsx("p",{className:"text-muted-foreground mb-6",children:"Security isn't just a feature; it's our foundation. We adhere to the strictest global standards to ensure your data remains yours."}),d.jsx("ul",{className:"space-y-3",children:["Secure Cloud Infrastructure","Encrypted Data Transfer","Privacy Focused","99.9% Uptime"].map((o,a)=>d.jsxs("li",{className:"flex items-center gap-3 text-sm font-medium",children:[d.jsx($a,{className:"w-4 h-4 text-primary"}),o]},a))})]})]})]})})}),d.jsx("section",{className:"px-4 md:px-6 py-16 md:py-24",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Our Core Values"}),d.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"The principles that guide every decision we make."})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:YJ,title:"Customer Success",desc:"We only win when our customers win. We obsess over user experience and support."},{icon:eR,title:"Simplicity",desc:"Complexity is the enemy of execution. We strive to make the complex simple."},{icon:oB,title:"Integrity",desc:"We do the right thing, even when no one is watching. Trust is our currency."}].map((o,a)=>d.jsxs("div",{className:"bg-card p-8 rounded-2xl border border-border hover:shadow-lg transition-all duration-300 group",children:[d.jsx("div",{className:"w-12 h-12 bg-secondary rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:d.jsx(o.icon,{className:"w-6 h-6 text-primary"})}),d.jsx("h3",{className:"text-xl font-bold mb-3",children:o.title}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:o.desc})]},a))})]})}),d.jsxs("section",{className:"px-4 md:px-6 py-16 md:py-24 bg-[#1a1f2c] text-white relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop')] bg-cover bg-center opacity-10 mix-blend-overlay"}),d.jsx("div",{className:"container mx-auto max-w-6xl relative z-10",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-12",children:[d.jsxs("div",{className:"md:w-1/2",children:[d.jsxs("h2",{className:"font-display text-3xl md:text-5xl font-bold mb-6",children:["Built for the",d.jsx("br",{}),"Remote World."]}),d.jsx("p",{className:"text-gray-400 text-lg mb-8 leading-relaxed",children:"We are a fully distributed team spanning multiple continents. This allows us to provide 24/7 support and build a product that truly understands global collaboration."})]}),d.jsx("div",{className:"md:w-1/2 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{title:"Remote First",desc:"Distributed team across 12+ time zones"},{title:"24/7 Support",desc:"Always on, wherever you are"},{title:"Global Compliance",desc:"Adhering to international standards"},{title:"Digital Native",desc:"Born in the cloud, built for speed"}].map((o,a)=>d.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-xl backdrop-blur-sm",children:[d.jsx(tB,{className:"w-5 h-5 text-[#FFC83D] mb-3"}),d.jsx("h4",{className:"font-bold text-lg",children:o.title}),d.jsx("p",{className:"text-sm text-gray-400",children:o.desc})]},a))})]})})]}),d.jsx("section",{className:"px-4 md:px-6 py-16 md:py-24",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Meet the Builder"}),d.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Driving innovation in digital agreements."})]}),d.jsxs("div",{className:"bg-card border border-border rounded-3xl p-6 md:p-12 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-[0.03] pointer-events-none",children:d.jsx(wD,{className:"w-64 h-64"})}),d.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-10 items-center",children:[d.jsxs("div",{className:"shrink-0 relative",children:[d.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-2xl rounded-full"}),d.jsx("div",{className:"relative w-48 h-48 rounded-full overflow-hidden border-4 border-background shadow-2xl",children:d.jsx("img",{src:kxe,alt:"Bankole Ebenezer",className:"object-cover w-full h-full"})})]}),d.jsxs("div",{className:"flex-1 text-center md:text-left",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-medium mb-6",children:[d.jsx(vD,{className:"w-3 h-3"}),"Builder"]}),d.jsx("h3",{className:"font-display text-3xl font-bold mb-6",children:"Bankole Ebenezer"}),d.jsxs("div",{className:"relative",children:[d.jsx(wD,{className:"w-8 h-8 text-primary/20 absolute -top-4 -left-4 -z-10"}),d.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-8 relative z-10",children:"I built Endorse to solve a problem I had for myself signing documents quickly and easily. Now, its a tool I love using every day, and I designed it so others can sign, send, and manage documents without the hassle."})]}),d.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-4",children:[d.jsx("a",{href:"#",className:"p-2 bg-secondary hover:bg-primary hover:text-primary-foreground rounded-full transition-colors","aria-label":"LinkedIn",children:d.jsx(ak,{className:"w-5 h-5"})}),d.jsx("a",{href:"#",className:"p-2 bg-secondary hover:bg-primary hover:text-primary-foreground rounded-full transition-colors","aria-label":"GitHub",children:d.jsx(KJ,{className:"w-5 h-5"})}),d.jsx("a",{href:"mailto:contact@endorse.com",className:"p-2 bg-secondary hover:bg-primary hover:text-primary-foreground rounded-full transition-colors","aria-label":"Email",children:d.jsx(Dm,{className:"w-5 h-5"})})]})]})]})]})]})}),d.jsx("section",{className:"py-16 md:py-24 px-4 md:px-6",children:d.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[d.jsx("h2",{className:"font-display text-4xl font-bold mb-6",children:"Join the movement"}),d.jsx("p",{className:"text-xl text-muted-foreground mb-10 max-w-2xl mx-auto",children:"Ready to modernize your workflow? Start using Endorse today."}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[d.jsx(et,{to:"/auth",children:d.jsx(Ye,{size:"lg",className:"h-14 px-8 text-lg bg-primary text-primary-foreground hover:bg-primary/90",children:"Get Started for Free"})}),d.jsx(Ye,{variant:"outline",size:"lg",className:"h-14 px-8 text-lg",children:"Contact Sales"})]})]})})]})]})};var Pxe="clover",EK="https://js.stripe.com",Rxe="".concat(EK,"/").concat(Pxe,"/stripe.js"),Lxe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Dxe=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,t8="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Mxe=function(e){return Lxe.test(e)||Dxe.test(e)},jxe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(EK,'"]')),t=0;t<e.length;t++){var r=e[t];if(Mxe(r.src))return r}return null},n8=function(e){var t="",r=document.createElement("script");r.src="".concat(Rxe).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Ay=null,V_=null,z_=null,Oxe=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},Fxe=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},Bxe=function(e){return Ay!==null?Ay:(Ay=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn(t8),window.Stripe){t(window.Stripe);return}try{var i=jxe();if(i&&e)console.warn(t8);else if(!i)i=n8(e);else if(i&&z_!==null&&V_!==null){var s;i.removeEventListener("load",z_),i.removeEventListener("error",V_),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=n8(e)}z_=Fxe(t,r),V_=Oxe(r),i.addEventListener("load",z_),i.addEventListener("error",V_)}catch(o){r(o);return}}),Ay.catch(function(t){return Ay=null,Promise.reject(t)}))},Ey,Uxe=function(){return Ey||(Ey=Bxe(null).catch(function(e){return Ey=null,Promise.reject(e)}),Ey)};Promise.resolve().then(function(){return Uxe()}).catch(function(n){console.warn(n)});const $_=[{id:"pro",name:"Pro Plan",price:"9.99",description:"Perfect for individuals and professionals",features:["Unlimited documents","Invite up to 5 signers","Audit trails","Priority support"],color:"from-blue-500 to-indigo-600",icon:d.jsx(eR,{className:"w-5 h-5"})},{id:"business",name:"Business Plan",price:"24.99",description:"Advanced features for teams and companies",features:["Everything in Pro","Unlimited signers","Team management","Custom branding","24/7 Support"],color:"from-purple-500 to-pink-600",icon:d.jsx(zw,{className:"w-5 h-5"})}],Vxe=()=>{const{user:n,userProfile:e}=D1(),t=Uf(),[r]=yR(),[i,s]=D.useState($_[0]),[o,a]=D.useState(!1),[l]=D.useState("paystack"),[c,u]=D.useState(!1);r.get("test"),D.useEffect(()=>{var f;const p=(f=r.get("plan"))==null?void 0:f.toLowerCase();p==="business"?s($_[1]):p==="pro"&&s($_[0])},[r]);const h=async()=>{a(!0);try{const p=rb(a1,"initializePaystackPayment"),{data:f}=await p({email:n==null?void 0:n.email,planId:i.id,amount:i.price,callbackUrl:window.location.href.split("?")[0]+"?payment=success"});f!=null&&f.authorization_url?window.location.href=f.authorization_url:ot.error("Could not initialize payment. Please try again.")}catch(p){console.error("Paystack Error:",p),ot.error(p.message||"Failed to connect to Paystack.")}finally{a(!1)}};return c?d.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 text-center animate-in zoom-in duration-300",children:[d.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(Qv,{className:"w-10 h-10 text-green-600"})}),d.jsxs("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:["Welcome to ",i.name,"!"]}),d.jsxs("p",{className:"text-slate-600 mb-8",children:["Your account has been upgraded successfully. You now have access to all ",i.id," features."]}),d.jsx(Ye,{className:"w-full h-12 text-lg rounded-xl bg-indigo-600 hover:bg-indigo-700",onClick:()=>t("/dashboard"),children:"Go to Dashboard"})]})}):d.jsx("div",{className:"min-h-screen bg-[#f7f9fc] flex items-center justify-center p-4 lg:p-8 font-sans",children:d.jsxs("div",{className:"w-full max-w-6xl bg-white rounded-[20px] shadow-[0_20px_60px_-15px_rgba(0,0,0,0.1)] overflow-hidden flex flex-col lg:flex-row min-h-[600px]",children:[d.jsxs("div",{className:"w-full lg:w-[45%] bg-[#f7f9fc] p-8 lg:p-12 border-r border-slate-200/60 flex flex-col relative",children:[d.jsxs("button",{onClick:()=>t(-1),className:"absolute top-6 left-6 text-slate-400 hover:text-slate-600 transition-colors flex items-center gap-2 text-sm font-medium",children:[d.jsx(_1,{className:"w-4 h-4"})," Back"]}),d.jsxs("div",{className:"mt-8 mb-8",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4 opacity-80",children:[d.jsx(no,{className:"h-6 w-auto"}),d.jsx("span",{className:"text-slate-300",children:"|"}),d.jsx("span",{className:"text-xs font-semibold tracking-wider text-slate-400 uppercase",children:"Checkout"})]}),d.jsxs("h2",{className:"text-2xl font-bold text-slate-900",children:["Subscribe to ",i.name]}),d.jsx("p",{className:"text-slate-500 mt-1",children:"Unlock the full potential of digital agreements."})]}),d.jsx("div",{className:"space-y-3 mb-8 flex-1",children:$_.map(p=>d.jsxs("div",{onClick:()=>s(p),className:`group relative p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 ${i.id===p.id?"border-indigo-600 bg-white shadow-sm ring-1 ring-indigo-600/10":"border-transparent bg-white/50 hover:bg-white hover:border-slate-200"}`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${i.id===p.id?"border-indigo-600":"border-slate-300"}`,children:i.id===p.id&&d.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-indigo-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:`font-semibold text-sm ${i.id===p.id?"text-slate-900":"text-slate-600"}`,children:p.name}),d.jsx("p",{className:"text-xs text-slate-500",children:p.description})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:`font-bold ${i.id===p.id?"text-slate-900":"text-slate-600"}`,children:["$",p.price]}),d.jsx("p",{className:"text-[10px] text-slate-400",children:"/mo"})]})]}),i.id===p.id&&d.jsxs("div",{className:"mt-3 pl-8 flex flex-wrap gap-x-4 gap-y-1",children:[p.features.slice(0,2).map((f,b)=>d.jsxs("span",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[d.jsx(Qv,{className:"w-3 h-3 text-indigo-600"})," ",f]},b)),d.jsx("span",{className:"text-[11px] text-indigo-600 font-medium",children:"+ more"})]})]},p.id))}),d.jsxs("div",{className:"pt-6 border-t border-slate-200",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-slate-500 text-sm",children:"Subtotal"}),d.jsxs("span",{className:"text-slate-900 font-medium",children:["$",i.price]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-slate-900 font-bold",children:"Total due today"}),d.jsxs("div",{className:"text-right",children:[d.jsxs("span",{className:"text-2xl font-bold text-slate-900",children:["$",i.price]}),d.jsx("span",{className:"text-xs text-slate-400 block font-normal",children:"USD"})]})]})]})]}),d.jsxs("div",{className:"w-full lg:w-[55%] bg-white p-8 lg:p-12 flex flex-col justify-center relative",children:[d.jsxs("div",{className:"max-w-md mx-auto w-full",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"Payment Details"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-100 rounded-xl text-blue-700 text-sm",children:[d.jsx(zJ,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:"Secure local payment via Paystack"})]})}),l==="paystack"&&d.jsxs("div",{className:"mb-6 animate-in fade-in slide-in-from-bottom-2",children:[d.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-6 text-center mb-4",children:[d.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Pay securely with your local card, Bank Transfer, or USSD."}),d.jsx(Ye,{onClick:h,className:"w-full bg-[#0BA4DB] hover:bg-[#0BA4DB]/90 text-white h-12 text-base font-semibold shadow-md shadow-blue-500/10",disabled:o,children:o?d.jsx(ns,{className:"w-5 h-5 animate-spin"}):"Pay with Paystack"})]}),d.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-slate-400",children:[d.jsx(NA,{className:"w-3 h-3"})," Secured by Paystack"]})]}),d.jsxs("div",{className:"text-center text-[10px] text-slate-400 mt-6",children:["By confirming, you agree to our ",d.jsx("a",{href:"/terms",className:"underline hover:text-slate-600",children:"Terms of Service"}),"."]})]}),o&&d.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-10",children:d.jsxs("div",{className:"text-center",children:[d.jsx(ns,{className:"w-10 h-10 text-indigo-600 animate-spin mx-auto mb-3"}),d.jsx("p",{className:"font-semibold text-slate-900",children:"Processing..."}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Please do not refresh the page."})]})})]})]})})},zxe=()=>(D.useEffect(()=>{window.scrollTo(0,0)},[]),d.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[d.jsx("nav",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur",children:d.jsxs("div",{className:"container flex h-16 items-center justify-between px-4 md:px-6",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2",children:d.jsx(no,{className:"h-8 w-auto"})}),d.jsx(et,{to:"/",children:d.jsxs(Ye,{variant:"ghost",size:"sm",children:[d.jsx(_1,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})}),d.jsxs("main",{className:"container max-w-4xl py-12 px-4 md:px-6",children:[d.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Privacy Policy"}),d.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[d.jsxs("p",{className:"text-lg text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Welcome to Endorse. We respect your privacy and are committed to protecting your personal data. This privacy policy will inform you as to how we look after your personal data when you visit our website and tell you about your privacy rights and how the law protects you."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Data We Collect"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may collect, use, store and transfer different kinds of personal data about you which we have grouped together follows:"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Identity Data"})," includes first name, last name, username or similar identifier."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Contact Data"})," includes email address and telephone number."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Technical Data"})," includes internet protocol (IP) address, your login data, browser type and version, time zone setting and location."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Usage Data"})," includes information about how you use our website, products and services."]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. How We Use Your Data"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We will only use your personal data when the law allows us to. Most commonly, we will use your personal data in the following circumstances:"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[d.jsx("li",{children:"Where we need to perform the contract we are about to enter into or have entered into with you."}),d.jsx("li",{children:"Where it is necessary for our legitimate interests (or those of a third party) and your interests and fundamental rights do not override those interests."}),d.jsx("li",{children:"Where we need to comply with a legal or regulatory obligation."})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Data Security"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We have put in place appropriate security measures to prevent your personal data from being accidentally lost, used or accessed in an unauthorized way, altered or disclosed. In addition, we limit access to your personal data to those employees, agents, contractors and other third parties who have a business need to know."})]})]})]}),d.jsx("footer",{className:"border-t border-border mt-12",children:d.jsxs("div",{className:"container py-8 px-4 md:px-6 text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Endorse. All rights reserved."]})})]})),$xe=()=>(D.useEffect(()=>{window.scrollTo(0,0)},[]),d.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[d.jsx("nav",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur",children:d.jsxs("div",{className:"container flex h-16 items-center justify-between px-4 md:px-6",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2",children:d.jsx(no,{className:"h-8 w-auto"})}),d.jsx(et,{to:"/",children:d.jsxs(Ye,{variant:"ghost",size:"sm",children:[d.jsx(_1,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})}),d.jsxs("main",{className:"container max-w-4xl py-12 px-4 md:px-6",children:[d.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms of Service"}),d.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[d.jsxs("p",{className:"text-lg text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Acceptance of Terms"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"By accessing and using Endorse, you accept and agree to be bound by the terms and provision of this agreement. In addition, when using these particular services, you shall be subject to any posted guidelines or rules applicable to such services."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Use License"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Permission is granted to temporarily download one copy of the materials (information or software) on Endorse's website for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[d.jsx("li",{children:"modify or copy the materials;"}),d.jsx("li",{children:"use the materials for any commercial purpose, or for any public display (commercial or non-commercial);"}),d.jsx("li",{children:"attempt to decompile or reverse engineer any software contained on Endorse's website;"}),d.jsx("li",{children:"remove any copyright or other proprietary notations from the materials; or"}),d.jsx("li",{children:'transfer the materials to another person or "mirror" the materials on any other server.'})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Disclaimer"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The materials on Endorse's website are provided on an 'as is' basis. Endorse makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Limitations"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"In no event shall Endorse or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on Endorse's website, even if Endorse or a Endorse authorized representative has been notified orally or in writing of the possibility of such damage."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Governing Law"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"These terms and conditions are governed by and construed in accordance with the laws and you irrevocably submit to the exclusive jurisdiction of the courts in that location."})]})]})]}),d.jsx("footer",{className:"border-t border-border mt-12",children:d.jsxs("div",{className:"container py-8 px-4 md:px-6 text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Endorse. All rights reserved."]})})]})),Hxe=()=>(D.useEffect(()=>{window.scrollTo(0,0)},[]),d.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[d.jsx("nav",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur",children:d.jsxs("div",{className:"container flex h-16 items-center justify-between px-4 md:px-6",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2",children:d.jsx(no,{className:"h-8 w-auto"})}),d.jsx(et,{to:"/",children:d.jsxs(Ye,{variant:"ghost",size:"sm",children:[d.jsx(_1,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})}),d.jsxs("main",{className:"container max-w-4xl py-12 px-4 md:px-6",children:[d.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Cookie Policy"}),d.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[d.jsxs("p",{className:"text-lg text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. What Are Cookies"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"As is common practice with almost all professional websites, this site uses cookies, which are tiny files that are downloaded to your computer, to improve your experience. This page describes what information they gather, how we use it, and why we sometimes need to store these cookies."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. How We Use Cookies"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We use cookies for a variety of reasons detailed below. Unfortunately, in most cases, there are no industry standard options for disabling cookies without completely disabling the functionality and features they add to this site."}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Account related cookies:"})," If you create an account with us, we will use cookies for the management of the signup process and general administration."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Login related cookies:"})," We use cookies when you are logged in so that we can remember this fact. This prevents you from having to log in every single time you visit a new page."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Forms related cookies:"})," When you submit data to through a form such as those found on contact pages or comment forms cookies may be set to remember your user details for future correspondence."]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Third Party Cookies"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"In some special cases we also use cookies provided by trusted third parties. The following section details which third party cookies you might encounter through this site."}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mt-4",children:[d.jsx("li",{children:"This site uses Google Analytics which is one of the most widespread and trusted analytics solutions on the web for helping us to understand how you use the site and ways that we can improve your experience."}),d.jsx("li",{children:"We also use social media buttons and/or plugins on this site that allow you to connect with your social network in various ways."})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Disabling Cookies"}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You can prevent the setting of cookies by adjusting the settings on your browser (see your browser Help for how to do this). Be aware that disabling cookies will affect the functionality of this and many other websites that you visit."})]})]})]}),d.jsx("footer",{className:"border-t border-border mt-12",children:d.jsxs("div",{className:"container py-8 px-4 md:px-6 text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Endorse. All rights reserved."]})})]})),qxe=[{id:"word-to-pdf",title:"Word to PDF",description:"Convert DOC and DOCX files to PDF instantly.",icon:Ks,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"group-hover:border-blue-200",accept:".doc,.docx",targetFormat:"pdf"},{id:"pdf-to-word",title:"PDF to Word",description:"Turn your PDF files into editable Word documents.",icon:Hm,color:"text-red-600",bgColor:"bg-red-50",borderColor:"group-hover:border-red-200",accept:".pdf",targetFormat:"docx"},{id:"image-to-pdf",title:"Image to PDF",description:"Convert JPG and PNG images to PDF format.",icon:nB,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"group-hover:border-purple-200",accept:".jpg,.jpeg,.png",targetFormat:"pdf"},{id:"pdf-to-image",title:"PDF to Image",description:"Extract pages from your PDF as high-quality images.",icon:WJ,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"group-hover:border-orange-200",accept:".pdf",targetFormat:"jpg"}],Wxe=()=>{const[n,e]=D.useState(null),[t,r]=D.useState(null),[i,s]=D.useState(!1),[o,a]=D.useState(!1),[l,c]=D.useState(!1),u=A=>{e(A),r(null),c(!1),s(!1)},h=()=>{e(null),r(null),c(!1),s(!1)},p=A=>{A.target.files&&A.target.files[0]&&(r(A.target.files[0]),c(!1))},f=A=>{A.preventDefault(),s(!0)},b=A=>{A.preventDefault(),s(!1)},y=A=>{A.preventDefault(),s(!1),A.dataTransfer.files&&A.dataTransfer.files[0]&&(r(A.dataTransfer.files[0]),c(!1))},_=async()=>{if(!t||!n){ot.error("Please select a file.");return}a(!0);try{await new Promise(A=>setTimeout(A,2e3)),c(!0),ot.success(`Successfully converted to ${n.targetFormat.toUpperCase()}`)}catch{ot.error("Conversion failed. Please try again.")}finally{a(!1)}},w=()=>{r(null),c(!1),s(!1)};return d.jsxs("div",{className:"min-h-screen bg-background font-sans flex flex-col",children:[d.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur",children:d.jsxs("div",{className:"container flex h-16 items-center justify-between px-4 md:px-6",children:[d.jsx(et,{to:"/",className:"flex items-center gap-2",children:d.jsx(no,{className:"h-8 w-auto"})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(et,{to:"/dashboard",children:d.jsx(Ye,{variant:"ghost",children:"Dashboard"})}),d.jsx(et,{to:"/auth",children:d.jsx(Ye,{children:"Sign In"})})]})]})}),d.jsx("main",{className:"flex-1",children:n?d.jsxs("div",{className:"container max-w-4xl mx-auto py-12 px-4 md:px-6 animate-in fade-in zoom-in-95 duration-300",children:[d.jsxs(Ye,{variant:"ghost",onClick:h,className:"mb-8 hover:bg-transparent pl-0 hover:text-primary",children:[d.jsx(_1,{className:"w-4 h-4 mr-2"}),"Back to Tools"]}),d.jsxs("div",{className:"text-center mb-10",children:[d.jsxs("h2",{className:"text-3xl font-bold mb-2 flex items-center justify-center gap-3",children:[d.jsx(n.icon,{className:`w-8 h-8 ${n.color}`}),n.title]}),d.jsx("p",{className:"text-muted-foreground",children:n.description})]}),d.jsxs(pc,{className:"border-2 border-dashed border-border shadow-2xl bg-card/50 backdrop-blur-sm overflow-hidden relative",children:[d.jsx("div",{className:`absolute inset-0 ${n.bgColor} opacity-5 pointer-events-none`}),d.jsx(mc,{className:"p-8 md:p-16 flex flex-col items-center justify-center gap-8 min-h-[400px]",children:t?d.jsxs("div",{className:"w-full max-w-md space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 bg-background rounded-xl border border-border shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`p-3 ${n.bgColor} rounded-lg`,children:d.jsx(n.icon,{className:`w-6 h-6 ${n.color}`})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"font-medium truncate max-w-[200px]",children:t.name}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[(t.size/1024/1024).toFixed(2)," MB"]})]})]}),d.jsx(Ye,{variant:"ghost",size:"icon",onClick:w,disabled:o,children:d.jsx(Ha,{className:"w-4 h-4"})})]}),l?d.jsxs("div",{className:"flex flex-col gap-4 animate-in fade-in slide-in-from-bottom-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-green-600 justify-center font-medium p-4 bg-green-50 rounded-xl border border-green-100",children:[d.jsx($a,{className:"w-5 h-5"})," Conversion Complete"]}),d.jsxs(Ye,{className:"w-full h-14 text-lg font-semibold",size:"lg",children:[d.jsx(J4,{className:"w-4 h-4 mr-2"})," Download ",n.targetFormat.toUpperCase()]}),d.jsx(Ye,{variant:"ghost",onClick:w,children:"Convert Another File"})]}):d.jsxs(Ye,{size:"lg",className:"w-full h-14 text-lg bg-[#FFC83D] text-black hover:bg-[#FFC83D]/90 shadow-lg shadow-orange-500/10",onClick:_,disabled:o,children:[o?d.jsx(ns,{className:"w-5 h-5 mr-2 animate-spin"}):d.jsx(CA,{className:"w-5 h-5 mr-2"}),"Convert to ",n.targetFormat.toUpperCase()]})]}):d.jsx("div",{className:`w-full flex flex-col items-center justify-center p-10 rounded-3xl transition-all duration-300 border-2 border-dashed ${i?"border-primary bg-primary/5 scale-[1.02]":"border-transparent"}`,onDragOver:f,onDragLeave:b,onDrop:y,children:d.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-6 group w-full",children:[d.jsx("div",{className:`w-24 h-24 ${n.bgColor} rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300 shadow-sm`,children:d.jsx($w,{className:`w-10 h-10 ${n.color}`})}),d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("p",{className:"text-xl font-semibold group-hover:text-primary transition-colors",children:"Drag & Drop or Click to Upload"}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Supported files: ",d.jsx("span",{className:"font-mono bg-secondary px-1 rounded",children:n.accept.replace(/,/g,", ")})]})]}),d.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:p,accept:n.accept})]})})})]})]}):d.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[d.jsxs("div",{className:"relative py-20 px-4 md:px-6 overflow-hidden bg-gradient-to-b from-secondary/30 to-background",children:[d.jsx("div",{className:"absolute inset-0 -z-10 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),d.jsxs("div",{className:"container max-w-4xl mx-auto text-center",children:[d.jsxs("div",{className:"inline-flex items-center justify-center px-4 py-1.5 mb-6 rounded-full bg-primary/10 text-primary text-sm font-medium border border-primary/20 shadow-sm",children:[d.jsx(oZ,{className:"w-4 h-4 mr-2"}),d.jsx("span",{children:"Professional Document Tools"})]}),d.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-6 text-foreground",children:["Convert Documents ",d.jsx("br",{className:"hidden sm:block"}),d.jsx("span",{className:"text-primary",children:"With Confidence"})]}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Secure, fast, and enterprise-grade conversion tools for all your document needs. No registration required for basic tasks."})]})]}),d.jsx("div",{className:"container max-w-6xl mx-auto px-4 md:px-6 -mt-8 grid md:grid-cols-2 lg:grid-cols-2 gap-6",children:qxe.map(A=>d.jsxs("div",{onClick:()=>u(A),className:`group relative bg-card p-8 rounded-2xl border border-border shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer overflow-hidden ${A.borderColor}`,children:[d.jsx("div",{className:`absolute top-0 right-0 p-20 ${A.bgColor} rounded-bl-full opacity-0 group-hover:opacity-20 transition-opacity duration-500`}),d.jsxs("div",{className:"relative z-10 flex items-start gap-6",children:[d.jsx("div",{className:`p-4 rounded-xl ${A.bgColor} ${A.color} group-hover:scale-110 transition-transform duration-300`,children:d.jsx(A.icon,{className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-foreground mb-2 group-hover:text-primary transition-colors",children:A.title}),d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:A.description})]})]}),d.jsx("div",{className:"absolute bottom-6 right-6 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-x-2 group-hover:translate-x-0",children:d.jsx(CA,{className:`w-6 h-6 ${A.color}`})})]},A.id))}),d.jsx("div",{className:"container max-w-6xl mx-auto px-4 md:px-6 mt-24",children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-center max-w-4xl mx-auto",children:[d.jsxs("div",{className:"p-6 rounded-2xl bg-secondary/20 border border-border/50",children:[d.jsx("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:d.jsx(eR,{className:"w-6 h-6"})}),d.jsx("h3",{className:"font-bold text-lg mb-2",children:"Lightning Fast"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Our cloud servers process your documents in seconds, not minutes."})]}),d.jsxs("div",{className:"p-6 rounded-2xl bg-secondary/20 border border-border/50",children:[d.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:d.jsx($a,{className:"w-6 h-6"})}),d.jsx("h3",{className:"font-bold text-lg mb-2",children:"High Quality"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"We preserve your document formatting, images, and layout perfectly."})]})]})})]})})]})},Gxe=new Lne,Kxe=()=>d.jsx(Mne,{client:Gxe,children:d.jsxs(cne,{children:[d.jsx(qZ,{}),d.jsx(Aee,{}),d.jsx(jre,{children:d.jsxs(Tre,{children:[d.jsx(po,{path:"/",element:d.jsx(Jpe,{})}),d.jsx(po,{path:"/auth",element:d.jsx(tme,{})}),d.jsx(po,{path:"/blog",element:d.jsx(Txe,{})}),d.jsx(po,{path:"/about",element:d.jsx(Ixe,{})}),d.jsx(po,{path:"/payment",element:d.jsx(Vxe,{})}),d.jsx(po,{path:"/privacy",element:d.jsx(zxe,{})}),d.jsx(po,{path:"/terms",element:d.jsx($xe,{})}),d.jsx(po,{path:"/cookie-policy",element:d.jsx(Hxe,{})}),d.jsx(po,{path:"/conversion",element:d.jsx(Wxe,{})}),d.jsxs(po,{element:d.jsx(Gye,{}),children:[d.jsx(po,{path:"/dashboard",element:d.jsx(qye,{})}),d.jsx(po,{path:"/sign/:id",element:d.jsx(Nxe,{})})]}),d.jsx(po,{path:"*",element:d.jsx(Wye,{})})]})})]})});C9(document.getElementById("root")).render(d.jsx(Xpe,{children:d.jsx(Kxe,{})}));export{On as _,dY as c,v1 as g};
